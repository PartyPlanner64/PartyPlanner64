/*! For license information please see main.9791c77d.js.LICENSE.txt */
(function(){var __webpack_modules__={4216:function(e){var n=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||"/index.js",function(n){var t,r="undefined"!==typeof(n=n||{})?n:{},a={};for(t in r)r.hasOwnProperty(t)&&(a[t]=r[t]);var i=[],o="./this.program",s=function(e,n){throw n},l=!1,u=!1,c=!1,d=!1;l="object"===typeof window,u="function"===typeof importScripts,c="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node,d=!l&&!c&&!u;var A,f,h,p,m="";function S(e){return r.locateFile?r.locateFile(e,m):m+e}c?(u?m+="/":m="//",A=function(e,n){return h||(h=null),p||(p=null),e=p.normalize(e),h.readFileSync(e,n?null:"utf8")},f=function(e){var n=A(e,!0);return n.buffer||(n=new Uint8Array(n)),C(n.buffer),n},process.argv.length>1&&(o=process.argv[1].replace(/\\/g,"/")),i=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof an))throw e})),process.on("unhandledRejection",Se),s=function(e){process.exit(e)},r.inspect=function(){return"[Emscripten Module object]"}):d?("undefined"!=typeof read&&(A=function(e){return read(e)}),f=function(e){var n;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(C("object"===typeof(n=read(e,"binary"))),n)},"undefined"!=typeof scriptArgs?i=scriptArgs:"undefined"!=typeof arguments&&(i=arguments),"function"===typeof quit&&(s=function(e){quit(e)}),"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(l||u)&&(u?m=self.location.href:document.currentScript&&(m=document.currentScript.src),e&&(m=e),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",A=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},u&&(f=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),function(e,n,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):t()},r.onerror=t,r.send(null)});var g,v,x,_=r.print||console.log.bind(console),y=r.printErr||console.warn.bind(console);for(t in a)a.hasOwnProperty(t)&&(r[t]=a[t]);function w(e,n,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":N[e>>0]=n;break;case"i16":U[e>>1]=n;break;case"i32":G[e>>2]=n;break;case"i64":_e=[n>>>0,(xe=n,+le(xe)>=1?xe>0?(0|de(+ce(xe/4294967296),4294967295))>>>0:~~+ue((xe-+(~~xe>>>0))/4294967296)>>>0:0)],G[e>>2]=_e[0],G[e+4>>2]=_e[1];break;case"float":z[e>>2]=n;break;case"double":H[e>>3]=n;break;default:Se("invalid type for setValue: "+t)}}a=null,r.arguments&&(i=r.arguments),r.thisProgram&&(o=r.thisProgram),r.quit&&(s=r.quit),r.wasmBinary&&(g=r.wasmBinary),r.noExitRuntime&&(v=r.noExitRuntime),"object"!==typeof WebAssembly&&y("no native wasm support detected");var b=new WebAssembly.Table({initial:9,maximum:9,element:"anyfunc"}),V=!1;function C(e,n){e||Se("Assertion failed: "+n)}function E(e){var n=r["_"+e];return C(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function D(e,n,t,r,a){var i={string:function(e){var n=0;if(null!==e&&void 0!==e&&0!==e){var t=1+(e.length<<2);M(e,n=tn(t),t)}return n},array:function(e){var n=tn(e.length);return I(e,n),n}};var o=E(e),s=[],l=0;if(r)for(var u=0;u<r.length;u++){var c=i[t[u]];c?(0===l&&(l=nn()),s[u]=c(r[u])):s[u]=r[u]}var d=o.apply(null,s);return d=function(e){return"string"===n?R(e):"boolean"===n?Boolean(e):e}(d),0!==l&&rn(l),d}function F(e,n,t,r){var a=(t=t||[]).every((function(e){return"number"===e}));return"string"!==n&&a&&!r?E(e):function(){return D(e,n,t,arguments)}}var T="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(e,n,t){for(var r=n+t,a=n;e[a]&&!(a>=r);)++a;if(a-n>16&&e.subarray&&T)return T.decode(e.subarray(n,a));for(var i="";n<a;){var o=e[n++];if(128&o){var s=63&e[n++];if(192!=(224&o)){var l=63&e[n++];if((o=224==(240&o)?(15&o)<<12|s<<6|l:(7&o)<<18|s<<12|l<<6|63&e[n++])<65536)i+=String.fromCharCode(o);else{var u=o-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&o)<<6|s)}else i+=String.fromCharCode(o)}return i}function R(e,n){return e?P(j,e,n):""}function L(e,n,t,r){if(!(r>0))return 0;for(var a=t,i=t+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o);if(s<=127){if(t>=i)break;n[t++]=s}else if(s<=2047){if(t+1>=i)break;n[t++]=192|s>>6,n[t++]=128|63&s}else if(s<=65535){if(t+2>=i)break;n[t++]=224|s>>12,n[t++]=128|s>>6&63,n[t++]=128|63&s}else{if(t+3>=i)break;n[t++]=240|s>>18,n[t++]=128|s>>12&63,n[t++]=128|s>>6&63,n[t++]=128|63&s}}return n[t]=0,t-a}function M(e,n,t){return L(e,j,n,t)}function B(e){for(var n=0,t=0;t<e.length;++t){var r=e.charCodeAt(t);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++t)),r<=127?++n:n+=r<=2047?2:r<=65535?3:4}return n}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function k(e){var n=B(e)+1,t=tn(n);return L(e,N,t,n),t}function I(e,n){N.set(e,n)}var O,N,j,U,G,z,H,W=65536;function X(e){O=e,r.HEAP8=N=new Int8Array(e),r.HEAP16=U=new Int16Array(e),r.HEAP32=G=new Int32Array(e),r.HEAPU8=j=new Uint8Array(e),r.HEAPU16=new Uint16Array(e),r.HEAPU32=new Uint32Array(e),r.HEAPF32=z=new Float32Array(e),r.HEAPF64=H=new Float64Array(e)}var K=5285248,q=42208,Y=r.TOTAL_MEMORY||16777216;function Q(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var t=n.func;"number"===typeof t?void 0===n.arg?r.dynCall_v(t):r.dynCall_vi(t,n.arg):t(void 0===n.arg?null:n.arg)}else n()}}(x=r.wasmMemory?r.wasmMemory:new WebAssembly.Memory({initial:Y/W,maximum:Y/W}))&&(O=x.buffer),Y=O.byteLength,X(O),G[q>>2]=K;var J=[],Z=[],$=[],ee=[];function ne(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)oe(r.preRun.shift());Q(J)}function te(){!0,r.noFSInit||Be.init.initialized||Be.init(),Le.init(),Q(Z)}function re(){Be.ignorePermissions=!1,Q($)}function ae(){!0}function ie(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)se(r.postRun.shift());Q(ee)}function oe(e){J.unshift(e)}function se(e){ee.unshift(e)}var le=Math.abs,ue=Math.ceil,ce=Math.floor,de=Math.min,Ae=0,fe=null,he=null;function pe(e){Ae++,r.monitorRunDependencies&&r.monitorRunDependencies(Ae)}function me(e){if(Ae--,r.monitorRunDependencies&&r.monitorRunDependencies(Ae),0==Ae&&(null!==fe&&(clearInterval(fe),fe=null),he)){var n=he;he=null,n()}}function Se(e){throw r.onAbort&&r.onAbort(e),_(e+=""),y(e),V=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}r.preloadedImages={},r.preloadedAudios={};var ge="data:application/octet-stream;base64,";function ve(e){return String.prototype.startsWith?e.startsWith(ge):0===e.indexOf(ge)}var xe,_e,ye="smlrc.wasm";function we(){try{if(g)return new Uint8Array(g);if(f)return f(ye);throw"both async and sync fetching of the wasm failed"}catch(y){Se(y)}}function be(){return g||!l&&!u||"function"!==typeof fetch?new Promise((function(e,n){e(we())})):fetch(ye,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ye+"'";return e.arrayBuffer()})).catch((function(){return we()}))}function Ve(){var e={a:Qe};function n(e,n){var t=e.exports;r.asm=t,me()}function t(e){n(e.instance)}function a(n){return be().then((function(n){return WebAssembly.instantiate(n,e)})).then(n,(function(e){y("failed to asynchronously prepare wasm: "+e),Se(e)}))}if(pe(),r.instantiateWasm)try{return r.instantiateWasm(e,n)}catch(i){return y("Module.instantiateWasm callback failed with error: "+i),!1}return function(){if(g||"function"!==typeof WebAssembly.instantiateStreaming||ve(ye)||"function"!==typeof fetch)return a(t);fetch(ye,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,e).then(t,(function(e){y("wasm streaming compile failed: "+e),y("falling back to ArrayBuffer instantiation"),a(t)}))}))}(),{}}function Ce(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function Ee(){var e=new Error;if(!e.stack){try{throw new Error}catch(n){e=n}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function De(){var e=Ee();return r.extraStackTrace&&(e+="\n"+r.extraStackTrace()),Ce(e)}function Fe(){}function Te(e){return r.___errno_location&&(G[r.___errno_location()>>2]=e),e}ve(ye)||(ye=S(ye)),Z.push({func:function(){$e()}});var Pe={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,n){for(var t=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),t++):t&&(e.splice(r,1),t--)}if(n)for(;t;t--)e.unshift("..");return e},normalize:function(e){var n="/"===e.charAt(0),t="/"===e.substr(-1);return(e=Pe.normalizeArray(e.split("/").filter((function(e){return!!e})),!n).join("/"))||n||(e="."),e&&t&&(e+="/"),(n?"/":"")+e},dirname:function(e){var n=Pe.splitPath(e),t=n[0],r=n[1];return t||r?(r&&(r=r.substr(0,r.length-1)),t+r):"."},basename:function(e){if("/"===e)return"/";var n=e.lastIndexOf("/");return-1===n?e:e.substr(n+1)},extname:function(e){return Pe.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Pe.normalize(e.join("/"))},join2:function(e,n){return Pe.normalize(e+"/"+n)}},Re={resolve:function(){for(var e="",n=!1,t=arguments.length-1;t>=-1&&!n;t--){var r=t>=0?arguments[t]:Be.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,n="/"===r.charAt(0)}return(n?"/":"")+(e=Pe.normalizeArray(e.split("/").filter((function(e){return!!e})),!n).join("/"))||"."},relative:function(e,n){function t(e){for(var n=0;n<e.length&&""===e[n];n++);for(var t=e.length-1;t>=0&&""===e[t];t--);return n>t?[]:e.slice(n,t-n+1)}e=Re.resolve(e).substr(1),n=Re.resolve(n).substr(1);for(var r=t(e.split("/")),a=t(n.split("/")),i=Math.min(r.length,a.length),o=i,s=0;s<i;s++)if(r[s]!==a[s]){o=s;break}var l=[];for(s=o;s<r.length;s++)l.push("..");return(l=l.concat(a.slice(o))).join("/")}},Le={ttys:[],init:function(){},shutdown:function(){},register:function(e,n){Le.ttys[e]={input:[],output:[],ops:n},Be.registerDevice(e,Le.stream_ops)},stream_ops:{open:function(e){var n=Le.ttys[e.node.rdev];if(!n)throw new Be.ErrnoError(43);e.tty=n,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,n,t,r,a){if(!e.tty||!e.tty.ops.get_char)throw new Be.ErrnoError(60);for(var i=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(l){throw new Be.ErrnoError(29)}if(void 0===s&&0===i)throw new Be.ErrnoError(6);if(null===s||void 0===s)break;i++,n[t+o]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,n,t,r,a){if(!e.tty||!e.tty.ops.put_char)throw new Be.ErrnoError(60);try{for(var i=0;i<r;i++)e.tty.ops.put_char(e.tty,n[t+i])}catch(o){throw new Be.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var n=null;if(c){var t=Buffer.alloc?Buffer.alloc(256):new Buffer(256),r=0;try{r=h.readSync(process.stdin.fd,t,0,256,null)}catch(a){if(-1==a.toString().indexOf("EOF"))throw a;r=0}n=r>0?t.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(n=window.prompt("Input: "))&&(n+="\n"):"function"==typeof readline&&null!==(n=readline())&&(n+="\n");if(!n)return null;e.input=Ye(n,!0)}return e.input.shift()},put_char:function(e,n){null===n||10===n?(_(P(e.output,0)),e.output=[]):0!=n&&e.output.push(n)},flush:function(e){e.output&&e.output.length>0&&(_(P(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,n){null===n||10===n?(y(P(e.output,0)),e.output=[]):0!=n&&e.output.push(n)},flush:function(e){e.output&&e.output.length>0&&(y(P(e.output,0)),e.output=[])}}},Me={ops_table:null,mount:function(e){return Me.createNode(null,"/",16895,0)},createNode:function(e,n,t,r){if(Be.isBlkdev(t)||Be.isFIFO(t))throw new Be.ErrnoError(63);Me.ops_table||(Me.ops_table={dir:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr,lookup:Me.node_ops.lookup,mknod:Me.node_ops.mknod,rename:Me.node_ops.rename,unlink:Me.node_ops.unlink,rmdir:Me.node_ops.rmdir,readdir:Me.node_ops.readdir,symlink:Me.node_ops.symlink},stream:{llseek:Me.stream_ops.llseek}},file:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr},stream:{llseek:Me.stream_ops.llseek,read:Me.stream_ops.read,write:Me.stream_ops.write,allocate:Me.stream_ops.allocate,mmap:Me.stream_ops.mmap,msync:Me.stream_ops.msync}},link:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr,readlink:Me.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Me.node_ops.getattr,setattr:Me.node_ops.setattr},stream:Be.chrdev_stream_ops}});var a=Be.createNode(e,n,t,r);return Be.isDir(a.mode)?(a.node_ops=Me.ops_table.dir.node,a.stream_ops=Me.ops_table.dir.stream,a.contents={}):Be.isFile(a.mode)?(a.node_ops=Me.ops_table.file.node,a.stream_ops=Me.ops_table.file.stream,a.usedBytes=0,a.contents=null):Be.isLink(a.mode)?(a.node_ops=Me.ops_table.link.node,a.stream_ops=Me.ops_table.link.stream):Be.isChrdev(a.mode)&&(a.node_ops=Me.ops_table.chrdev.node,a.stream_ops=Me.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[n]=a),a},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var n=[],t=0;t<e.usedBytes;++t)n.push(e.contents[t]);return n}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,n){var t=e.contents?e.contents.length:0;if(!(t>=n)){n=Math.max(n,t*(t<1048576?2:1.125)|0),0!=t&&(n=Math.max(n,256));var r=e.contents;e.contents=new Uint8Array(n),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,n){if(e.usedBytes!=n){if(0==n)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var t=e.contents;return e.contents=new Uint8Array(n),t&&e.contents.set(t.subarray(0,Math.min(n,e.usedBytes))),void(e.usedBytes=n)}if(e.contents||(e.contents=[]),e.contents.length>n)e.contents.length=n;else for(;e.contents.length<n;)e.contents.push(0);e.usedBytes=n}},node_ops:{getattr:function(e){var n={};return n.dev=Be.isChrdev(e.mode)?e.id:1,n.ino=e.id,n.mode=e.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=e.rdev,Be.isDir(e.mode)?n.size=4096:Be.isFile(e.mode)?n.size=e.usedBytes:Be.isLink(e.mode)?n.size=e.link.length:n.size=0,n.atime=new Date(e.timestamp),n.mtime=new Date(e.timestamp),n.ctime=new Date(e.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:function(e,n){void 0!==n.mode&&(e.mode=n.mode),void 0!==n.timestamp&&(e.timestamp=n.timestamp),void 0!==n.size&&Me.resizeFileStorage(e,n.size)},lookup:function(e,n){throw Be.genericErrors[44]},mknod:function(e,n,t,r){return Me.createNode(e,n,t,r)},rename:function(e,n,t){if(Be.isDir(e.mode)){var r;try{r=Be.lookupNode(n,t)}catch(i){}if(r)for(var a in r.contents)throw new Be.ErrnoError(55)}delete e.parent.contents[e.name],e.name=t,n.contents[t]=e,e.parent=n},unlink:function(e,n){delete e.contents[n]},rmdir:function(e,n){var t=Be.lookupNode(e,n);for(var r in t.contents)throw new Be.ErrnoError(55);delete e.contents[n]},readdir:function(e){var n=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,n,t){var r=Me.createNode(e,n,41471,0);return r.link=t,r},readlink:function(e){if(!Be.isLink(e.mode))throw new Be.ErrnoError(28);return e.link}},stream_ops:{read:function(e,n,t,r,a){var i=e.node.contents;if(a>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-a,r);if(o>8&&i.subarray)n.set(i.subarray(a,a+o),t);else for(var s=0;s<o;s++)n[t+s]=i[a+s];return o},write:function(e,n,t,r,a,i){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),n.subarray&&(!o.contents||o.contents.subarray)){if(i)return o.contents=n.subarray(t,t+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===a)return o.contents=n.slice(t,t+r),o.usedBytes=r,r;if(a+r<=o.usedBytes)return o.contents.set(n.subarray(t,t+r),a),r}if(Me.expandFileStorage(o,a+r),o.contents.subarray&&n.subarray)o.contents.set(n.subarray(t,t+r),a);else for(var s=0;s<r;s++)o.contents[a+s]=n[t+s];return o.usedBytes=Math.max(o.usedBytes,a+r),r},llseek:function(e,n,t){var r=n;if(1===t?r+=e.position:2===t&&Be.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Be.ErrnoError(28);return r},allocate:function(e,n,t){Me.expandFileStorage(e.node,n+t),e.node.usedBytes=Math.max(e.node.usedBytes,n+t)},mmap:function(e,n,t,r,a,i,o){if(!Be.isFile(e.node.mode))throw new Be.ErrnoError(43);var s,l,u=e.node.contents;if(2&o||u.buffer!==n.buffer){(a>0||a+r<e.node.usedBytes)&&(u=u.subarray?u.subarray(a,a+r):Array.prototype.slice.call(u,a,a+r)),l=!0;var c=n.buffer==N.buffer;if(!(s=en(r)))throw new Be.ErrnoError(48);(c?N:n).set(u,s)}else l=!1,s=u.byteOffset;return{ptr:s,allocated:l}},msync:function(e,n,t,r,a){if(!Be.isFile(e.node.mode))throw new Be.ErrnoError(43);if(2&a)return 0;Me.stream_ops.write(e,n,0,r,t,!1);return 0}}},Be={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Be.ErrnoError))throw e+" : "+De();return Te(e.errno)},lookupPath:function(e,n){if(n=n||{},!(e=Re.resolve(Be.cwd(),e)))return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};for(var r in t)void 0===n[r]&&(n[r]=t[r]);if(n.recurse_count>8)throw new Be.ErrnoError(32);for(var a=Pe.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),i=Be.root,o="/",s=0;s<a.length;s++){var l=s===a.length-1;if(l&&n.parent)break;if(i=Be.lookupNode(i,a[s]),o=Pe.join2(o,a[s]),Be.isMountpoint(i)&&(!l||l&&n.follow_mount)&&(i=i.mounted.root),!l||n.follow)for(var u=0;Be.isLink(i.mode);){var c=Be.readlink(o);if(o=Re.resolve(Pe.dirname(o),c),i=Be.lookupPath(o,{recurse_count:n.recurse_count}).node,u++>40)throw new Be.ErrnoError(32)}}return{path:o,node:i}},getPath:function(e){for(var n;;){if(Be.isRoot(e)){var t=e.mount.mountpoint;return n?"/"!==t[t.length-1]?t+"/"+n:t+n:t}n=n?e.name+"/"+n:e.name,e=e.parent}},hashName:function(e,n){for(var t=0,r=0;r<n.length;r++)t=(t<<5)-t+n.charCodeAt(r)|0;return(e+t>>>0)%Be.nameTable.length},hashAddNode:function(e){var n=Be.hashName(e.parent.id,e.name);e.name_next=Be.nameTable[n],Be.nameTable[n]=e},hashRemoveNode:function(e){var n=Be.hashName(e.parent.id,e.name);if(Be.nameTable[n]===e)Be.nameTable[n]=e.name_next;else for(var t=Be.nameTable[n];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,n){var t=Be.mayLookup(e);if(t)throw new Be.ErrnoError(t,e);for(var r=Be.hashName(e.id,n),a=Be.nameTable[r];a;a=a.name_next){var i=a.name;if(a.parent.id===e.id&&i===n)return a}return Be.lookup(e,n)},createNode:function(e,n,t,r){if(!Be.FSNode){Be.FSNode=function(e,n,t,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Be.nextInode++,this.name=n,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=r},Be.FSNode.prototype={};var a=365,i=146;Object.defineProperties(Be.FSNode.prototype,{read:{get:function(){return(this.mode&a)===a},set:function(e){e?this.mode|=a:this.mode&=-366}},write:{get:function(){return(this.mode&i)===i},set:function(e){e?this.mode|=i:this.mode&=-147}},isFolder:{get:function(){return Be.isDir(this.mode)}},isDevice:{get:function(){return Be.isChrdev(this.mode)}}})}var o=new Be.FSNode(e,n,t,r);return Be.hashAddNode(o),o},destroyNode:function(e){Be.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var n=Be.flagModes[e];if("undefined"===typeof n)throw new Error("Unknown file open mode: "+e);return n},flagsToPermissionString:function(e){var n=["r","w","rw"][3&e];return 512&e&&(n+="w"),n},nodePermissions:function(e,n){return Be.ignorePermissions||(-1===n.indexOf("r")||292&e.mode)&&(-1===n.indexOf("w")||146&e.mode)&&(-1===n.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var n=Be.nodePermissions(e,"x");return n||(e.node_ops.lookup?0:2)},mayCreate:function(e,n){try{Be.lookupNode(e,n);return 20}catch(t){}return Be.nodePermissions(e,"wx")},mayDelete:function(e,n,t){var r;try{r=Be.lookupNode(e,n)}catch(i){return i.errno}var a=Be.nodePermissions(e,"wx");if(a)return a;if(t){if(!Be.isDir(r.mode))return 54;if(Be.isRoot(r)||Be.getPath(r)===Be.cwd())return 10}else if(Be.isDir(r.mode))return 31;return 0},mayOpen:function(e,n){return e?Be.isLink(e.mode)?32:Be.isDir(e.mode)&&("r"!==Be.flagsToPermissionString(n)||512&n)?31:Be.nodePermissions(e,Be.flagsToPermissionString(n)):44},MAX_OPEN_FDS:4096,nextfd:function(e,n){e=e||0,n=n||Be.MAX_OPEN_FDS;for(var t=e;t<=n;t++)if(!Be.streams[t])return t;throw new Be.ErrnoError(33)},getStream:function(e){return Be.streams[e]},createStream:function(e,n,t){Be.FSStream||(Be.FSStream=function(){},Be.FSStream.prototype={},Object.defineProperties(Be.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new Be.FSStream;for(var a in e)r[a]=e[a];e=r;var i=Be.nextfd(n,t);return e.fd=i,Be.streams[i]=e,e},closeStream:function(e){Be.streams[e]=null},chrdev_stream_ops:{open:function(e){var n=Be.getDevice(e.node.rdev);e.stream_ops=n.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Be.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,n){return e<<8|n},registerDevice:function(e,n){Be.devices[e]={stream_ops:n}},getDevice:function(e){return Be.devices[e]},getMounts:function(e){for(var n=[],t=[e];t.length;){var r=t.pop();n.push(r),t.push.apply(t,r.mounts)}return n},syncfs:function(e,n){"function"===typeof e&&(n=e,e=!1),Be.syncFSRequests++,Be.syncFSRequests>1&&y("warning: "+Be.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=Be.getMounts(Be.root.mount),r=0;function a(e){return Be.syncFSRequests--,n(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,a(e));++r>=t.length&&a(null)}t.forEach((function(n){if(!n.type.syncfs)return i(null);n.type.syncfs(n,e,i)}))},mount:function(e,n,t){var r,a="/"===t,i=!t;if(a&&Be.root)throw new Be.ErrnoError(10);if(!a&&!i){var o=Be.lookupPath(t,{follow_mount:!1});if(t=o.path,r=o.node,Be.isMountpoint(r))throw new Be.ErrnoError(10);if(!Be.isDir(r.mode))throw new Be.ErrnoError(54)}var s={type:e,opts:n,mountpoint:t,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,a?Be.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var n=Be.lookupPath(e,{follow_mount:!1});if(!Be.isMountpoint(n.node))throw new Be.ErrnoError(28);var t=n.node,r=t.mounted,a=Be.getMounts(r);Object.keys(Be.nameTable).forEach((function(e){for(var n=Be.nameTable[e];n;){var t=n.name_next;-1!==a.indexOf(n.mount)&&Be.destroyNode(n),n=t}})),t.mounted=null;var i=t.mount.mounts.indexOf(r);t.mount.mounts.splice(i,1)},lookup:function(e,n){return e.node_ops.lookup(e,n)},mknod:function(e,n,t){var r=Be.lookupPath(e,{parent:!0}).node,a=Pe.basename(e);if(!a||"."===a||".."===a)throw new Be.ErrnoError(28);var i=Be.mayCreate(r,a);if(i)throw new Be.ErrnoError(i);if(!r.node_ops.mknod)throw new Be.ErrnoError(63);return r.node_ops.mknod(r,a,n,t)},create:function(e,n){return n=void 0!==n?n:438,n&=4095,n|=32768,Be.mknod(e,n,0)},mkdir:function(e,n){return n=void 0!==n?n:511,n&=1023,n|=16384,Be.mknod(e,n,0)},mkdirTree:function(e,n){for(var t=e.split("/"),r="",a=0;a<t.length;++a)if(t[a]){r+="/"+t[a];try{Be.mkdir(r,n)}catch(i){if(20!=i.errno)throw i}}},mkdev:function(e,n,t){return"undefined"===typeof t&&(t=n,n=438),n|=8192,Be.mknod(e,n,t)},symlink:function(e,n){if(!Re.resolve(e))throw new Be.ErrnoError(44);var t=Be.lookupPath(n,{parent:!0}).node;if(!t)throw new Be.ErrnoError(44);var r=Pe.basename(n),a=Be.mayCreate(t,r);if(a)throw new Be.ErrnoError(a);if(!t.node_ops.symlink)throw new Be.ErrnoError(63);return t.node_ops.symlink(t,r,e)},rename:function(e,n){var t,r,a=Pe.dirname(e),i=Pe.dirname(n),o=Pe.basename(e),s=Pe.basename(n);try{t=Be.lookupPath(e,{parent:!0}).node,r=Be.lookupPath(n,{parent:!0}).node}catch(f){throw new Be.ErrnoError(10)}if(!t||!r)throw new Be.ErrnoError(44);if(t.mount!==r.mount)throw new Be.ErrnoError(75);var l,u=Be.lookupNode(t,o),c=Re.relative(e,i);if("."!==c.charAt(0))throw new Be.ErrnoError(28);if("."!==(c=Re.relative(n,a)).charAt(0))throw new Be.ErrnoError(55);try{l=Be.lookupNode(r,s)}catch(f){}if(u!==l){var d=Be.isDir(u.mode),A=Be.mayDelete(t,o,d);if(A)throw new Be.ErrnoError(A);if(A=l?Be.mayDelete(r,s,d):Be.mayCreate(r,s))throw new Be.ErrnoError(A);if(!t.node_ops.rename)throw new Be.ErrnoError(63);if(Be.isMountpoint(u)||l&&Be.isMountpoint(l))throw new Be.ErrnoError(10);if(r!==t&&(A=Be.nodePermissions(t,"w")))throw new Be.ErrnoError(A);try{Be.trackingDelegate.willMovePath&&Be.trackingDelegate.willMovePath(e,n)}catch(f){y("FS.trackingDelegate['willMovePath']('"+e+"', '"+n+"') threw an exception: "+f.message)}Be.hashRemoveNode(u);try{t.node_ops.rename(u,r,s)}catch(f){throw f}finally{Be.hashAddNode(u)}try{Be.trackingDelegate.onMovePath&&Be.trackingDelegate.onMovePath(e,n)}catch(f){y("FS.trackingDelegate['onMovePath']('"+e+"', '"+n+"') threw an exception: "+f.message)}}},rmdir:function(e){var n=Be.lookupPath(e,{parent:!0}).node,t=Pe.basename(e),r=Be.lookupNode(n,t),a=Be.mayDelete(n,t,!0);if(a)throw new Be.ErrnoError(a);if(!n.node_ops.rmdir)throw new Be.ErrnoError(63);if(Be.isMountpoint(r))throw new Be.ErrnoError(10);try{Be.trackingDelegate.willDeletePath&&Be.trackingDelegate.willDeletePath(e)}catch(i){y("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}n.node_ops.rmdir(n,t),Be.destroyNode(r);try{Be.trackingDelegate.onDeletePath&&Be.trackingDelegate.onDeletePath(e)}catch(i){y("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readdir:function(e){var n=Be.lookupPath(e,{follow:!0}).node;if(!n.node_ops.readdir)throw new Be.ErrnoError(54);return n.node_ops.readdir(n)},unlink:function(e){var n=Be.lookupPath(e,{parent:!0}).node,t=Pe.basename(e),r=Be.lookupNode(n,t),a=Be.mayDelete(n,t,!1);if(a)throw new Be.ErrnoError(a);if(!n.node_ops.unlink)throw new Be.ErrnoError(63);if(Be.isMountpoint(r))throw new Be.ErrnoError(10);try{Be.trackingDelegate.willDeletePath&&Be.trackingDelegate.willDeletePath(e)}catch(i){y("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}n.node_ops.unlink(n,t),Be.destroyNode(r);try{Be.trackingDelegate.onDeletePath&&Be.trackingDelegate.onDeletePath(e)}catch(i){y("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readlink:function(e){var n=Be.lookupPath(e).node;if(!n)throw new Be.ErrnoError(44);if(!n.node_ops.readlink)throw new Be.ErrnoError(28);return Re.resolve(Be.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,n){var t=Be.lookupPath(e,{follow:!n}).node;if(!t)throw new Be.ErrnoError(44);if(!t.node_ops.getattr)throw new Be.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return Be.stat(e,!0)},chmod:function(e,n,t){var r;"string"===typeof e?r=Be.lookupPath(e,{follow:!t}).node:r=e;if(!r.node_ops.setattr)throw new Be.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&n|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,n){Be.chmod(e,n,!0)},fchmod:function(e,n){var t=Be.getStream(e);if(!t)throw new Be.ErrnoError(8);Be.chmod(t.node,n)},chown:function(e,n,t,r){var a;"string"===typeof e?a=Be.lookupPath(e,{follow:!r}).node:a=e;if(!a.node_ops.setattr)throw new Be.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,n,t){Be.chown(e,n,t,!0)},fchown:function(e,n,t){var r=Be.getStream(e);if(!r)throw new Be.ErrnoError(8);Be.chown(r.node,n,t)},truncate:function(e,n){if(n<0)throw new Be.ErrnoError(28);var t;"string"===typeof e?t=Be.lookupPath(e,{follow:!0}).node:t=e;if(!t.node_ops.setattr)throw new Be.ErrnoError(63);if(Be.isDir(t.mode))throw new Be.ErrnoError(31);if(!Be.isFile(t.mode))throw new Be.ErrnoError(28);var r=Be.nodePermissions(t,"w");if(r)throw new Be.ErrnoError(r);t.node_ops.setattr(t,{size:n,timestamp:Date.now()})},ftruncate:function(e,n){var t=Be.getStream(e);if(!t)throw new Be.ErrnoError(8);if(0===(2097155&t.flags))throw new Be.ErrnoError(28);Be.truncate(t.node,n)},utime:function(e,n,t){var r=Be.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(n,t)})},open:function(e,n,t,a,i){if(""===e)throw new Be.ErrnoError(44);var o;if(t="undefined"===typeof t?438:t,t=64&(n="string"===typeof n?Be.modeStringToFlags(n):n)?4095&t|32768:0,"object"===typeof e)o=e;else{e=Pe.normalize(e);try{o=Be.lookupPath(e,{follow:!(131072&n)}).node}catch(d){}}var s=!1;if(64&n)if(o){if(128&n)throw new Be.ErrnoError(20)}else o=Be.mknod(e,t,0),s=!0;if(!o)throw new Be.ErrnoError(44);if(Be.isChrdev(o.mode)&&(n&=-513),65536&n&&!Be.isDir(o.mode))throw new Be.ErrnoError(54);if(!s){var l=Be.mayOpen(o,n);if(l)throw new Be.ErrnoError(l)}512&n&&Be.truncate(o,0),n&=-641;var u=Be.createStream({node:o,path:Be.getPath(o),flags:n,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},a,i);u.stream_ops.open&&u.stream_ops.open(u),!r.logReadFiles||1&n||(Be.readFiles||(Be.readFiles={}),e in Be.readFiles||(Be.readFiles[e]=1,y("FS.trackingDelegate error on read file: "+e)));try{if(Be.trackingDelegate.onOpenFile){var c=0;1!==(2097155&n)&&(c|=Be.tracking.openFlags.READ),0!==(2097155&n)&&(c|=Be.tracking.openFlags.WRITE),Be.trackingDelegate.onOpenFile(e,c)}}catch(d){y("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+d.message)}return u},close:function(e){if(Be.isClosed(e))throw new Be.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(n){throw n}finally{Be.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,n,t){if(Be.isClosed(e))throw new Be.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Be.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new Be.ErrnoError(28);return e.position=e.stream_ops.llseek(e,n,t),e.ungotten=[],e.position},read:function(e,n,t,r,a){if(r<0||a<0)throw new Be.ErrnoError(28);if(Be.isClosed(e))throw new Be.ErrnoError(8);if(1===(2097155&e.flags))throw new Be.ErrnoError(8);if(Be.isDir(e.node.mode))throw new Be.ErrnoError(31);if(!e.stream_ops.read)throw new Be.ErrnoError(28);var i="undefined"!==typeof a;if(i){if(!e.seekable)throw new Be.ErrnoError(70)}else a=e.position;var o=e.stream_ops.read(e,n,t,r,a);return i||(e.position+=o),o},write:function(e,n,t,r,a,i){if(r<0||a<0)throw new Be.ErrnoError(28);if(Be.isClosed(e))throw new Be.ErrnoError(8);if(0===(2097155&e.flags))throw new Be.ErrnoError(8);if(Be.isDir(e.node.mode))throw new Be.ErrnoError(31);if(!e.stream_ops.write)throw new Be.ErrnoError(28);1024&e.flags&&Be.llseek(e,0,2);var o="undefined"!==typeof a;if(o){if(!e.seekable)throw new Be.ErrnoError(70)}else a=e.position;var s=e.stream_ops.write(e,n,t,r,a,i);o||(e.position+=s);try{e.path&&Be.trackingDelegate.onWriteToFile&&Be.trackingDelegate.onWriteToFile(e.path)}catch(l){y("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+l.message)}return s},allocate:function(e,n,t){if(Be.isClosed(e))throw new Be.ErrnoError(8);if(n<0||t<=0)throw new Be.ErrnoError(28);if(0===(2097155&e.flags))throw new Be.ErrnoError(8);if(!Be.isFile(e.node.mode)&&!Be.isDir(e.node.mode))throw new Be.ErrnoError(43);if(!e.stream_ops.allocate)throw new Be.ErrnoError(138);e.stream_ops.allocate(e,n,t)},mmap:function(e,n,t,r,a,i,o){if(0!==(2&i)&&0===(2&o)&&2!==(2097155&e.flags))throw new Be.ErrnoError(2);if(1===(2097155&e.flags))throw new Be.ErrnoError(2);if(!e.stream_ops.mmap)throw new Be.ErrnoError(43);return e.stream_ops.mmap(e,n,t,r,a,i,o)},msync:function(e,n,t,r,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,n,t,r,a):0},munmap:function(e){return 0},ioctl:function(e,n,t){if(!e.stream_ops.ioctl)throw new Be.ErrnoError(59);return e.stream_ops.ioctl(e,n,t)},readFile:function(e,n){if((n=n||{}).flags=n.flags||"r",n.encoding=n.encoding||"binary","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var t,r=Be.open(e,n.flags),a=Be.stat(e).size,i=new Uint8Array(a);return Be.read(r,i,0,a,0),"utf8"===n.encoding?t=P(i,0):"binary"===n.encoding&&(t=i),Be.close(r),t},writeFile:function(e,n,t){(t=t||{}).flags=t.flags||"w";var r=Be.open(e,t.flags,t.mode);if("string"===typeof n){var a=new Uint8Array(B(n)+1),i=L(n,a,0,a.length);Be.write(r,a,0,i,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(n))throw new Error("Unsupported data type");Be.write(r,n,0,n.byteLength,void 0,t.canOwn)}Be.close(r)},cwd:function(){return Be.currentPath},chdir:function(e){var n=Be.lookupPath(e,{follow:!0});if(null===n.node)throw new Be.ErrnoError(44);if(!Be.isDir(n.node.mode))throw new Be.ErrnoError(54);var t=Be.nodePermissions(n.node,"x");if(t)throw new Be.ErrnoError(t);Be.currentPath=n.path},createDefaultDirectories:function(){Be.mkdir("/tmp"),Be.mkdir("/home"),Be.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Be.mkdir("/dev"),Be.registerDevice(Be.makedev(1,3),{read:function(){return 0},write:function(e,n,t,r,a){return r}}),Be.mkdev("/dev/null",Be.makedev(1,3)),Le.register(Be.makedev(5,0),Le.default_tty_ops),Le.register(Be.makedev(6,0),Le.default_tty1_ops),Be.mkdev("/dev/tty",Be.makedev(5,0)),Be.mkdev("/dev/tty1",Be.makedev(6,0)),"object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var n=new Uint8Array(1);e=function(){return crypto.getRandomValues(n),n[0]}}else if(c)try{e=function(){return null.randomBytes(1)[0]}}catch(t){}e||(e=function(){Se("random_device")}),Be.createDevice("/dev","random",e),Be.createDevice("/dev","urandom",e),Be.mkdir("/dev/shm"),Be.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Be.mkdir("/proc"),Be.mkdir("/proc/self"),Be.mkdir("/proc/self/fd"),Be.mount({mount:function(){var e=Be.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,n){var t=+n,r=Be.getStream(t);if(!r)throw new Be.ErrnoError(8);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return a.parent=a,a}},e}},{},"/proc/self/fd")},createStandardStreams:function(){r.stdin?Be.createDevice("/dev","stdin",r.stdin):Be.symlink("/dev/tty","/dev/stdin"),r.stdout?Be.createDevice("/dev","stdout",null,r.stdout):Be.symlink("/dev/tty","/dev/stdout"),r.stderr?Be.createDevice("/dev","stderr",null,r.stderr):Be.symlink("/dev/tty1","/dev/stderr");Be.open("/dev/stdin","r"),Be.open("/dev/stdout","w"),Be.open("/dev/stderr","w")},ensureErrnoError:function(){Be.ErrnoError||(Be.ErrnoError=function(e,n){this.node=n,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Be.ErrnoError.prototype=new Error,Be.ErrnoError.prototype.constructor=Be.ErrnoError,[44].forEach((function(e){Be.genericErrors[e]=new Be.ErrnoError(e),Be.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Be.ensureErrnoError(),Be.nameTable=new Array(4096),Be.mount(Me,{},"/"),Be.createDefaultDirectories(),Be.createDefaultDevices(),Be.createSpecialDirectories(),Be.filesystems={MEMFS:Me}},init:function(e,n,t){Be.init.initialized=!0,Be.ensureErrnoError(),r.stdin=e||r.stdin,r.stdout=n||r.stdout,r.stderr=t||r.stderr,Be.createStandardStreams()},quit:function(){Be.init.initialized=!1;var e=r._fflush;e&&e(0);for(var n=0;n<Be.streams.length;n++){var t=Be.streams[n];t&&Be.close(t)}},getMode:function(e,n){var t=0;return e&&(t|=365),n&&(t|=146),t},joinPath:function(e,n){var t=Pe.join.apply(null,e);return n&&"/"==t[0]&&(t=t.substr(1)),t},absolutePath:function(e,n){return Re.resolve(n,e)},standardizePath:function(e){return Pe.normalize(e)},findObject:function(e,n){var t=Be.analyzePath(e,n);return t.exists?t.object:(Te(t.error),null)},analyzePath:function(e,n){try{e=(r=Be.lookupPath(e,{follow:!n})).path}catch(a){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Be.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=r.path,t.parentObject=r.node,t.name=Pe.basename(e),r=Be.lookupPath(e,{follow:!n}),t.exists=!0,t.path=r.path,t.object=r.node,t.name=r.node.name,t.isRoot="/"===r.path}catch(a){t.error=a.errno}return t},createFolder:function(e,n,t,r){var a=Pe.join2("string"===typeof e?e:Be.getPath(e),n),i=Be.getMode(t,r);return Be.mkdir(a,i)},createPath:function(e,n,t,r){e="string"===typeof e?e:Be.getPath(e);for(var a=n.split("/").reverse();a.length;){var i=a.pop();if(i){var o=Pe.join2(e,i);try{Be.mkdir(o)}catch(s){}e=o}}return o},createFile:function(e,n,t,r,a){var i=Pe.join2("string"===typeof e?e:Be.getPath(e),n),o=Be.getMode(r,a);return Be.create(i,o)},createDataFile:function(e,n,t,r,a,i){var o=n?Pe.join2("string"===typeof e?e:Be.getPath(e),n):e,s=Be.getMode(r,a),l=Be.create(o,s);if(t){if("string"===typeof t){for(var u=new Array(t.length),c=0,d=t.length;c<d;++c)u[c]=t.charCodeAt(c);t=u}Be.chmod(l,146|s);var A=Be.open(l,"w");Be.write(A,t,0,t.length,0,i),Be.close(A),Be.chmod(l,s)}return l},createDevice:function(e,n,t,r){var a=Pe.join2("string"===typeof e?e:Be.getPath(e),n),i=Be.getMode(!!t,!!r);Be.createDevice.major||(Be.createDevice.major=64);var o=Be.makedev(Be.createDevice.major++,0);return Be.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,n,r,a,i){for(var o=0,s=0;s<a;s++){var l;try{l=t()}catch(u){throw new Be.ErrnoError(29)}if(void 0===l&&0===o)throw new Be.ErrnoError(6);if(null===l||void 0===l)break;o++,n[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,n,t,a,i){for(var o=0;o<a;o++)try{r(n[t+o])}catch(s){throw new Be.ErrnoError(29)}return a&&(e.node.timestamp=Date.now()),o}}),Be.mkdev(a,i,o)},createLink:function(e,n,t,r,a){var i=Pe.join2("string"===typeof e?e:Be.getPath(e),n);return Be.symlink(t,i)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var n=!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!A)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Ye(A(e.url),!0),e.usedBytes=e.contents.length}catch(t){n=!1}return n||Te(29),n},createLazyFile:function(e,n,t,r,a){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var n=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[n]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var n,r=Number(e.getResponseHeader("Content-length")),a=(n=e.getResponseHeader("Accept-Ranges"))&&"bytes"===n,i=(n=e.getResponseHeader("Content-Encoding"))&&"gzip"===n,o=1048576;a||(o=r);var s=this;s.setDataGetter((function(e){var n=e*o,a=(e+1)*o-1;if(a=Math.min(a,r-1),"undefined"===typeof s.chunks[e]&&(s.chunks[e]=function(e,n){if(e>n)throw new Error("invalid range ("+e+", "+n+") or no bytes requested!");if(n>r-1)throw new Error("only "+r+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",t,!1),r!==o&&a.setRequestHeader("Range","bytes="+e+"-"+n),"undefined"!=typeof Uint8Array&&(a.responseType="arraybuffer"),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+t+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):Ye(a.responseText||"",!0)}(n,a)),"undefined"===typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&r||(o=r=1,r=this.getter(0).length,o=r,_("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=o,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest){if(!u)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new i;Object.defineProperties(o,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:o}}else s={isDevice:!1,url:t};var l=Be.createFile(e,n,s,r,a);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(l.stream_ops).forEach((function(e){var n=l.stream_ops[e];c[e]=function(){if(!Be.forceLoadFile(l))throw new Be.ErrnoError(29);return n.apply(null,arguments)}})),c.read=function(e,n,t,r,a){if(!Be.forceLoadFile(l))throw new Be.ErrnoError(29);var i=e.node.contents;if(a>=i.length)return 0;var o=Math.min(i.length-a,r);if(i.slice)for(var s=0;s<o;s++)n[t+s]=i[a+s];else for(s=0;s<o;s++)n[t+s]=i.get(a+s);return o},l.stream_ops=c,l},createPreloadedFile:function(e,n,t,a,i,o,s,l,u,c){Browser.init();var d=n?Re.resolve(Pe.join2(e,n)):e;function A(t){function A(t){c&&c(),l||Be.createDataFile(e,n,t,a,i,u),o&&o(),me()}var f=!1;r.preloadPlugins.forEach((function(e){f||e.canHandle(d)&&(e.handle(t,d,A,(function(){s&&s(),me()})),f=!0)})),f||A(t)}pe(),"string"==typeof t?Browser.asyncLoad(t,(function(e){A(e)}),s):A(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,n,t){n=n||function(){},t=t||function(){};var r=Be.indexedDB();try{var a=r.open(Be.DB_NAME(),Be.DB_VERSION)}catch(i){return t(i)}a.onupgradeneeded=function(){_("creating db"),a.result.createObjectStore(Be.DB_STORE_NAME)},a.onsuccess=function(){var r=a.result.transaction([Be.DB_STORE_NAME],"readwrite"),i=r.objectStore(Be.DB_STORE_NAME),o=0,s=0,l=e.length;function u(){0==s?n():t()}e.forEach((function(e){var n=i.put(Be.analyzePath(e).object.contents,e);n.onsuccess=function(){++o+s==l&&u()},n.onerror=function(){s++,o+s==l&&u()}})),r.onerror=t},a.onerror=t},loadFilesFromDB:function(e,n,t){n=n||function(){},t=t||function(){};var r=Be.indexedDB();try{var a=r.open(Be.DB_NAME(),Be.DB_VERSION)}catch(i){return t(i)}a.onupgradeneeded=t,a.onsuccess=function(){var r=a.result;try{var o=r.transaction([Be.DB_STORE_NAME],"readonly")}catch(i){return void t(i)}var s=o.objectStore(Be.DB_STORE_NAME),l=0,u=0,c=e.length;function d(){0==u?n():t()}e.forEach((function(e){var n=s.get(e);n.onsuccess=function(){Be.analyzePath(e).exists&&Be.unlink(e),Be.createDataFile(Pe.dirname(e),Pe.basename(e),n.result,!0,!0,!0),++l+u==c&&d()},n.onerror=function(){u++,l+u==c&&d()}})),o.onerror=t},a.onerror=t}},ke={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,n){if("/"!==n[0]){var t;if(-100===e)t=Be.cwd();else{var r=Be.getStream(e);if(!r)throw new Be.ErrnoError(8);t=r.path}n=Pe.join2(t,n)}return n},doStat:function(e,n,t){try{var r=e(n)}catch(a){if(a&&a.node&&Pe.normalize(n)!==Pe.normalize(Be.getPath(a.node)))return-54;throw a}return G[t>>2]=r.dev,G[t+4>>2]=0,G[t+8>>2]=r.ino,G[t+12>>2]=r.mode,G[t+16>>2]=r.nlink,G[t+20>>2]=r.uid,G[t+24>>2]=r.gid,G[t+28>>2]=r.rdev,G[t+32>>2]=0,_e=[r.size>>>0,(xe=r.size,+le(xe)>=1?xe>0?(0|de(+ce(xe/4294967296),4294967295))>>>0:~~+ue((xe-+(~~xe>>>0))/4294967296)>>>0:0)],G[t+40>>2]=_e[0],G[t+44>>2]=_e[1],G[t+48>>2]=4096,G[t+52>>2]=r.blocks,G[t+56>>2]=r.atime.getTime()/1e3|0,G[t+60>>2]=0,G[t+64>>2]=r.mtime.getTime()/1e3|0,G[t+68>>2]=0,G[t+72>>2]=r.ctime.getTime()/1e3|0,G[t+76>>2]=0,_e=[r.ino>>>0,(xe=r.ino,+le(xe)>=1?xe>0?(0|de(+ce(xe/4294967296),4294967295))>>>0:~~+ue((xe-+(~~xe>>>0))/4294967296)>>>0:0)],G[t+80>>2]=_e[0],G[t+84>>2]=_e[1],0},doMsync:function(e,n,t,r,a){var i=j.slice(e,e+t);Be.msync(n,i,a,t,r)},doMkdir:function(e,n){return"/"===(e=Pe.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Be.mkdir(e,n,0),0},doMknod:function(e,n,t){switch(61440&n){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Be.mknod(e,n,t),0},doReadlink:function(e,n,t){if(t<=0)return-28;var r=Be.readlink(e),a=Math.min(t,B(r)),i=N[n+a];return M(r,n,t+1),N[n+a]=i,a},doAccess:function(e,n){if(-8&n)return-28;var t;if(!(t=Be.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&n&&(r+="r"),2&n&&(r+="w"),1&n&&(r+="x"),r&&Be.nodePermissions(t,r)?-2:0},doDup:function(e,n,t){var r=Be.getStream(t);return r&&Be.close(r),Be.open(e,n,0,t,t).fd},doReadv:function(e,n,t,r){for(var a=0,i=0;i<t;i++){var o=G[n+8*i>>2],s=G[n+(8*i+4)>>2],l=Be.read(e,N,o,s,r);if(l<0)return-1;if(a+=l,l<s)break}return a},doWritev:function(e,n,t,r){for(var a=0,i=0;i<t;i++){var o=G[n+8*i>>2],s=G[n+(8*i+4)>>2],l=Be.write(e,N,o,s,r);if(l<0)return-1;a+=l}return a},varargs:0,get:function(e){return ke.varargs+=4,G[ke.varargs-4>>2]},getStr:function(){return R(ke.get())},getStreamFromFD:function(e){void 0===e&&(e=ke.get());var n=Be.getStream(e);if(!n)throw new Be.ErrnoError(8);return n},get64:function(){var e=ke.get();ke.get();return e},getZero:function(){ke.get()}};function Ie(e,n){ke.varargs=n;try{var t=ke.getStreamFromFD();switch(ke.get()){case 0:return(r=ke.get())<0?-28:Be.open(t.path,t.flags,0,r).fd;case 1:case 2:case 13:case 14:return 0;case 3:return t.flags;case 4:var r=ke.get();return t.flags|=r,0;case 12:r=ke.get();return U[r+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return Te(28),-1}}catch(a){return"undefined"!==typeof Be&&a instanceof Be.ErrnoError||Se(a),-a.errno}}function Oe(e,n){ke.varargs=n;try{var t=ke.getStr(),r=ke.get(),a=ke.get();return Be.open(t,r,a).fd}catch(i){return"undefined"!==typeof Be&&i instanceof Be.ErrnoError||Se(i),-i.errno}}function Ne(e,n){ke.varargs=n;try{var t=ke.getStreamFromFD(),r=ke.get();switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return t.tty?0:-59;case 21519:if(!t.tty)return-59;var a=ke.get();return G[a>>2]=0,0;case 21520:return t.tty?-28:-59;case 21531:a=ke.get();return Be.ioctl(t,r,a);default:Se("bad ioctl syscall "+r)}}catch(i){return"undefined"!==typeof Be&&i instanceof Be.ErrnoError||Se(i),-i.errno}}function je(){}function Ue(e,n,t){j.set(j.subarray(n,n+t),e)}function Ge(e){Se("OOM")}function ze(e){Ge()}function He(e){ln(e)}function We(e){try{var n=ke.getStreamFromFD(e);return Be.close(n),0}catch(t){return"undefined"!==typeof Be&&t instanceof Be.ErrnoError||Se(t),t.errno}}function Xe(e,n,t,r){try{var a=ke.getStreamFromFD(e),i=ke.doReadv(a,n,t);return G[r>>2]=i,0}catch(o){return"undefined"!==typeof Be&&o instanceof Be.ErrnoError||Se(o),o.errno}}function Ke(e,n,t,r,a){try{var i=ke.getStreamFromFD(e),o=4294967296*t+(n>>>0),s=9007199254740992;return o<=-s||o>=s?-61:(Be.llseek(i,o,r),_e=[i.position>>>0,(xe=i.position,+le(xe)>=1?xe>0?(0|de(+ce(xe/4294967296),4294967295))>>>0:~~+ue((xe-+(~~xe>>>0))/4294967296)>>>0:0)],G[a>>2]=_e[0],G[a+4>>2]=_e[1],i.getdents&&0===o&&0===r&&(i.getdents=null),0)}catch(l){return"undefined"!==typeof Be&&l instanceof Be.ErrnoError||Se(l),l.errno}}function qe(e,n,t,r){try{var a=ke.getStreamFromFD(e),i=ke.doWritev(a,n,t);return G[r>>2]=i,0}catch(o){return"undefined"!==typeof Be&&o instanceof Be.ErrnoError||Se(o),o.errno}}function Ye(e,n,t){var r=t>0?t:B(e)+1,a=new Array(r),i=L(e,a,0,a.length);return n&&(a.length=i),a}Be.staticInit();var Qe={f:Fe,c:Ie,k:Oe,h:Ne,a:je,j:Ue,d:ze,l:He,b:We,g:Xe,i:Ke,e:qe,memory:x,table:b},Je=Ve();r.asm=Je;var Ze,$e=r.___wasm_call_ctors=function(){return($e=r.___wasm_call_ctors=r.asm.m).apply(null,arguments)},en=(r._main=function(){return(r._main=r.asm.n).apply(null,arguments)},r.___errno_location=function(){return(r.___errno_location=r.asm.o).apply(null,arguments)},r._malloc=function(){return(en=r._malloc=r.asm.p).apply(null,arguments)}),nn=r.stackSave=function(){return(nn=r.stackSave=r.asm.q).apply(null,arguments)},tn=r.stackAlloc=function(){return(tn=r.stackAlloc=r.asm.r).apply(null,arguments)},rn=r.stackRestore=function(){return(rn=r.stackRestore=r.asm.s).apply(null,arguments)};function an(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}r.asm=Je,r.ccall=D,r.cwrap=F,r.setValue=w,r.FS=Be,r.then=function(e){if(Ze)e(r);else{var n=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){n&&n(),e(r)}}return r};function on(e){var n=r._main,t=(e=e||[]).length+1,a=tn(4*(t+1));G[a>>2]=k(o);for(var i=1;i<t;i++)G[(a>>2)+i]=k(e[i-1]);G[(a>>2)+t]=0;try{ln(n(t,a),!0)}catch(u){if(u instanceof an)return;if("unwind"==u)return void(v=!0);var l=u;u&&"object"===typeof u&&u.stack&&(l=[u,u.stack]),y("exception thrown: "+l),s(1,u)}finally{!0}}function sn(e){function n(){Ze||(Ze=!0,V||(te(),re(),r.onRuntimeInitialized&&r.onRuntimeInitialized(),un&&on(e),ie()))}e=e||i,Ae>0||(ne(),Ae>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n()))}function ln(e,n){n&&v&&0===e||(v||(V=!0,e,ae(),r.onExit&&r.onExit(e)),s(e,new an(e)))}if(he=function e(){Ze||sn(),Ze||(he=e)},r.run=sn,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var un=!0;return r.noInitialRun&&(un=!1),v=!0,sn(),n}}();e.exports=n},6046:function(e,n,t){e.exports&&(e.exports.create=function e(n){var r=function(e){return e.trim()},a=function(e,n){return('"'===e[n]||"'"===e[n])&&(!n||"\\"!==e[n-1]||n>1&&"\\"===e[n-2])},i={signal_char:"#",warn_func:function(e){console.log(e)},error_func:function(e){throw console.log(e),e},comment_stripper:function(e){for(var n=!1,t=!1,r=!1,a=0,i=0,o=(e=("__"+e.replace(/\r\n/g,"\n")+"__").split("")).length;i<o;i++)if(r)"'"!==e[i]&&'"'!==e[i]||"\\"===e[i-1]||(r=!1);else if(n)"*"===e[i]&&"/"===e[i+1]&&(e[i+1]="",n=!1),e[i]="","\n"===e[i]&&++a;else if(t)"\n"===e[i+1]&&(t=!1),e[i]="";else{if("\n"===e[i])if("\\"===e[i-1])e[i-1]="",e[i]="",++a;else for(;a>0;)e[i]+="\n",--a;if(r="'"===e[i]||'"'===e[i],"/"===e[i]){if("*"===e[i+1]){e[i]="",n=!0;continue}if("/"===e[i+1]){e[i]="",t=!0;continue}}}return e.join("").slice(2,-2)},include_func:null,completion_func:null,pragma_func:function(e){return null}};if(n)for(var o in i)o in n||(n[o]=i[o]);else n=i;n.include_func&&!n.completion_func&&n.error_func("include_func but not completion_func specified");var s=n.error_func;n.error_func=function(e){throw s(e),e};var l=new RegExp("^"+n.signal_char+"(\\w+)[ \t]*(.*?)[ \t]*$","m"),u=/\b(d(?!efined)|[a-ce-zA-Z_])\w*(?![\w"])/g,c=/^(d(?!efined)|[a-ce-zA-Z_])\w*$/g,d=/^((?:d(?!efined)|[a-ce-zA-Z_])\w*)\s*\((.*)\)$/g,A=/defined\s+([a-zA-Z_]\w*)/g,f=/defined\s*\((\s*[a-zA-Z_]\w*\s*)\)/g,h=/__defined_magic_([a-zA-Z_]\w*)_/,p=/\b(\+|-|)(0|0x|)([1-9a-f][0-9a-f]*|0)([ul]*)\b/gi,m=/"(.*?)"/g,S=/[+\-*%\/&^|]?=/g,g=/--|\+\+/g,v=/(?:(<)(.*)>|"(.*)")(.*)/,x="__doublesharp_magic__",_=new RegExp(x,"g"),y="__whitespace_magic__",w=new RegExp(y,"g"),b="__empty_magic__",V=new RegExp(b,"g"),C="__nosubs__",E=new RegExp(C,"g"),D={"==":1,"!=":1,"+":1,"-":1,"*":1,"/":1,"%":1,"<=":1,">=":1,"<":1,">":1,"=":1,"+=":1,"*=":1,"/=":1,"&=":1,"|=":1,"^=":1,"#":1,"##":1,"->":1},F={},T={},P=null,R=0,L={};return{clear:function(){F={},L={},T={},R=0},defined:function(e){return e in F},define:function(e,t){var r=this._get_macro_info(e);this._is_identifier(e)||r||n.error_func("not a valid preprocessor identifier: '"+e+"'"),"number"===typeof t&&(t=t.toString(10)),r?(e=r.name,this.undefine(e),T[e]=r):this.undefine(e),F[e]=t||"",L[e.length]=(L[e.length]||0)+1,e.length>R&&(R=e.length)},undefine:function(e){if(e in F){delete F[e];var n=L[e.length]-1;if(e.length===R&&!n){R=0;for(var t=e.length-1;t>=0;--t)if(L[t]){R=t;break}}L[e.length]=n,delete T[e]}else{var r=this._get_macro_info(e);r&&this.undefine(r.name)}},define_multiple:function(e){for(var n in e)this.define(n,e[n])},run:function(t,a){a=a||"<unnamed>",t||h("input empty or null");for(var i=(t=n.comment_stripper(t)).split(l),o=new Array(Math.floor(i.length/3)+2),s=0,u=0;u<o.length;++u)o[u]="";for(var c,d=0,A=1,f=[],h=function(e){n.error_func("(cpp) error # "+a+":"+A+": "+e)},p=function(e){n.warn_func("(cpp) warning # "+a+":"+A+": "+e)},m=this,S=function(t,a,l){switch(t){case"define":var u,c;a=r(a);for(var d=void 0,A=0;A<a.length;++A)if("("===a[A])d=(d||0)+1;else if(")"===a[A]&&0===--d||a[A].match(/\s/)&&void 0===d){")"===a[A]&&++A,u=a.slice(0,A),c=r(a.slice(A));break}d&&h("unbalanced parentheses in define: "+a),void 0===u&&(u=a),m.defined(u)&&p(u+" redefined"),m._is_identifier(u)||m._is_macro(u)||h("not a valid preprocessor identifier: '"+u+"'"),m.define(u,c);break;case"undef":m.undefine(a);break;case"include":var f=(a=m.subs(a,{},h,p)).match(v);f[4]&&h("unrecognized characters in include: "+a);var S=(f[2]||"")+(f[3]||"");return n.include_func||h("include directive not supported, no handler specified"),n.include_func(S,"<"===f[1],(function(t){null===t&&h("failed to access include file: "+S);var r,a={};for(var u in n)a[u]=n[u];a.completion_func=function(e,n,t){for(o.length=s,s+=n.length,o=o.concat(n),m._set_state(r),++l;l<i.length;++l)if(!g(l,i[l]))return!1;m._result(o,F)},(r=e(a))._set_state(m),r.run(t,S)})),!1;case"error":h("#error: "+a);break;case"pragma":n.pragma_func(a)||p("ignoring unrecognized #pragma: "+a);break;default:p("unrecognized preprocessor command: "+t)}return!0},g=function(e,n){switch(n=i[e],e%3){case 0:A+=n.split("\n").length-1,!d&&r(n).length&&(o[s++]=m.subs(n,h,p));break;case 1:c=n;break;case 2:var t=!0;switch(c){case"ifdef":case"ifndef":n||h("expected identifier after "+c),n="(defined "+n+")","ifndef"==c&&(n="!"+n);case"if":f.push(!1),n.length||h("expected identifier after if");case"else":case"elif":var a=!1;"elif"!=c&&"else"!=c||(a=f[f.length-1],d>0&&--d,"else"==c&&n.length&&p("ignoring tokens after else")),d>0||a||"else"!=c&&!m._eval(n,h,p)?++d:f[f.length-1]=!0;break;case"endif":f.length||h("endif with no matching if"),d>0&&--d,f.pop();break;default:t=d>0}if(!t&&!S(c,n,e))return!1}return!0},x=0;x<i.length;++x)if(!g(x,i[x]))return null;return f.length>0&&h("unexpected EOF, expected endif"),this._result(o,F)},subs:function(e,t,r,i,o){r=r||n.error_func,i=i||n.warn_func;var s=1e10,l={};if(t)for(var u in t)l[u]=s;o=o||0;for(var c,d=e,A=/\b.|["']/g,f=[],h=!1;c=A.exec(d);){var p=c.index;if(a(d,p)&&(h=!h),!h)for(var m=Math.min(d.length-p,R);m>=1;--m)if(L[m]){var S=d.slice(p,p+m);if(S in F){if(l[S]>p){for(var g in f.push(d.slice(0,p)),f.push(C+S),d=d.slice(p+S.length),A.lastIndex=0,l)l[g]!=s&&(l[g]>p?l[g]-=p+S.length:delete l[g]);break}var v;if(delete l[S],null===(v=this._is_macro(S)?this._subs_macro(d,S,{},r,i,o,p):this._subs_simple(d,S,{},r,i,o,p)))continue;for(var x in v[0]=this._handle_ops(v[0],r,i),v[0]=this._handle_pragma(v[0],r,i),f.push(d.slice(0,p)),d=v[0]+d.slice(p+v[1]),A.lastIndex=0,l)l[x]!=s&&(l[x]>p?l[x]=v[0].length-v[1]+(l[x]-p):delete l[x]);l[S]=v[0].length;break}}}return f.push(d),d=f.join(""),o||(d=this._remove_sentinels(d)),d},_set_state:function(e){e=e._get_state(),F=e.state,L=e.macro_counts_by_length,T=e.macro_cache,R=e.max_macro_length},_get_state:function(e){return{state:F,macro_counts_by_length:L,macro_cache:T,max_macro_length:R}},_result:function(e,t){for(var r=e.length-1;r>=0&&!e[r];--r)e.pop();var a=e.join("\n");return n.completion_func&&n.completion_func(a,e,t),a},_is_identifier:function(e){return!!e.match(c)},_is_macro:function(e){return null!=this._get_macro_info(e)},_is_pp_special_token:function(e){return r(e)in D},_get_macro_info:function(e){if(T[e])return T[e];var n=d.exec(e);if(!n)return null;d.lastIndex=0;var t=n[2].split(",");if(1!==t.length||r(t[0]))for(var a=0;a<t.length;++a){var i=t[a]=r(t[a]);if(!this._is_identifier(i)&&!this._is_macro(i))return null}else t=[];return{params:t,pat:new RegExp(n[1]+"\\s*\\(","g"),name:n[1],full:e}},_remove_sentinels:function(e){return(e=(e=(e=e.replace(_,"##")).replace(w," ")).replace(V,"")).replace(E,"")},_handle_pragma:function(e,t,r){var a=this;return e.replace(/_Pragma\s*\(\s*"(.*?([^\\]|\\\\))"\s*\)/g,(function(e,t){return t=t.replace(/\\"/g,'"').replace(/\\\\/g,"\\"),t=a._remove_sentinels(t),t=a._concatenate_strings(t),n.pragma_func(t)||r("unrecognized _Pragma(): "+t),""}))},_concatenate_strings:function(e){for(var n=!1,t=null,r=0,i=[],o=0;o<e.length;++o)a(e,o)?(n?t=o:null!==t&&(i.push(e.slice(r,t)),r=o+1),n=!n):e[o].match(/\s/)||(i.push(e.slice(r,o)),r=o,t=null);return i.push(e.slice(r)),i.join("")},_handle_ops:function(e,n,t){for(var i,o,s=[],l=!1,u=0;u<e.length-1;++u)if(a(e,u))l=!l;else if("#"===e[u]&&!l){var c="#"===e[u+1],d=null,A=null,f=!1,h=0;if(c){for(i=u-1;i>=0;--i)if(e[i].match(/\s/)){if(null!==d){if(!f&&!h)break;d=" "+d}}else a(e,i)?f=!f:"("===e[i]?++h:")"===e[i]&&--h,d=e[i]+(d||"");++i}else i=u;f=!1,h=0;var p,m=!0;for(o=u+(c?2:1);o<e.length;++o)if(e[o].match(/\s/)){if(null!==A&&!f&&!h)break;(c||m||f)&&null!==A&&(A+=" ",m=!1)}else m=!0,a(e,o)?f=!f:"("===e[o]?++h:")"===e[o]&&--h,A=(A||"")+e[o];A=r(A||""),c?(d=r(d||""),A&&d||n("## cannot appear at either end of a macro expansion"),!this._is_pp_special_token(d)&&!this._is_pp_special_token(A)||this._is_pp_special_token(d+A)||n('pasting "'+d+'" and "'+A+'" does not give a valid preprocessing token'),p="##"===(p=d+A)?x:p.replace(E,"")):(A||n("# cannot appear at the end of a macro expansion"),p='"'+A.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),s.push(e.slice(0,i)),s.push(p),o<e.length&&s.push(e.slice(o)),e=s.join(""),s.length=0,u=0}return e},_subs_simple:function(e,n,t,r,a,i,o){var s=new RegExp(n+"(\\b|"+y+"|__empty_magic__)","g");s.lastIndex=o||0;var l=s.exec(e);return l&&l.index==o?[F[n],l[0].length]:null},_subs_macro:function(e,n,t,a,i,o,s){var l=this._get_macro_info(n);l.pat.lastIndex=s||0;var u=l.pat.exec(e);if(!u||u.index!=s)return null;for(var c,d=[],A=-1,f=!1,h=u.index;h<e.length;++h)if(","!==e[h]||A||(d.push(r(e.slice(c,h))),c=h+1),"("===e[h])0===++A&&(c=h+1);else if('"'!==e[h]&&"'"!==e[h]||h&&"\\"===e[h-1]){if(")"===e[h]&&-1===--A){d.push(r(e.slice(c,h))),c=h+1;break}}else f?--A:++A,f=!f;-1!==A&&a("unbalanced parentheses, expected )"),d.length!==l.params.length&&(l.params.length||d.length>1||d[0]?a("illegal invocation of macro "+n+", expected "+l.params.length+" parameters but got "+d.length):d=[]);for(var p=0;p<d.length;++p)d[p]||(d[p]=b);for(var m=F[n],S=0;S<l.params.length;++S){var g=d[S].replace(/(\w)\s+(\w)/g,"$1__whitespace_magic__$2");g=this.subs(g,t,a,i,o+1);for(var v,x=new RegExp("^"+l.params[S]+"\\b"),_=!1,y=[],w=!0,V=0;V<m.length;++V){if("#"===m[V])_=!0;else{if(w&&(v=x.exec(m.slice(V)))){if(!_)for(var C=V+v[0].length;C<m.length;++C)if("#"===m[C])_=!0;else if(!m[C].match(/\s/))break;y.push(m.slice(0,V)),y.push(_?d[S]:g),m=m.slice(V+v[0].length),V=-1;continue}m[V].match(/\s/)||(_=!1)}w=m[V].match(/\W/)}y.push(m),m=y.join("")}return[m,c-s]},_masked_eval:function(e){if(!P){P={};var n=[];try{n=[window,{window:1}]}catch(i){try{n=[t.g,{global:1,process:1,require:1,module:1,__filename:1,__dirname:1}]}catch(i){}}for(var r=0;r<n.length;++r)for(var a in n[r])P[a]=void 0;P.defined=this.defined}return P.__result__=!1,new Function("with(this) { __result__ = ("+e+"); }").call(P),P.__result__},_eval:function(e,n,t){var r=e;e.match(m)&&n("string literal not allowed in if expression"),e.replace(/[=!<>]=/g,"").match(S)&&n("assignment operator not allowed in if expression"),e.match(g)&&n("--/++ operators not allowed in if expression"),e=(e=(e=e.replace(p,"$1$2$3")).replace(A,"defined($1)")).replace(f," __defined_magic_$1_ "),e=(e=(e=this.subs(e,{},n,t)).replace(h,'defined("$1")')).replace(u," 0 ");try{var a=!!this._masked_eval(e)}catch(i){n("error in expression: "+r+" ("+i+")")}return a}}})},4090:function(e){e.exports=function(e){"use strict";var n=function(e,n){return e+n&4294967295},t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t,r,a,i,o){return t=n(n(t,e),n(a,o)),n(t<<i|t>>>32-i,r)}function a(e,n,t,a,i,o,s){return r(n&t|~n&a,e,n,i,o,s)}function i(e,n,t,a,i,o,s){return r(n&a|t&~a,e,n,i,o,s)}function o(e,n,t,a,i,o,s){return r(n^t^a,e,n,i,o,s)}function s(e,n,t,a,i,o,s){return r(t^(n|~a),e,n,i,o,s)}function l(e,t){var r=e[0],l=e[1],u=e[2],c=e[3];r=a(r,l,u,c,t[0],7,-680876936),c=a(c,r,l,u,t[1],12,-389564586),u=a(u,c,r,l,t[2],17,606105819),l=a(l,u,c,r,t[3],22,-1044525330),r=a(r,l,u,c,t[4],7,-176418897),c=a(c,r,l,u,t[5],12,1200080426),u=a(u,c,r,l,t[6],17,-1473231341),l=a(l,u,c,r,t[7],22,-45705983),r=a(r,l,u,c,t[8],7,1770035416),c=a(c,r,l,u,t[9],12,-1958414417),u=a(u,c,r,l,t[10],17,-42063),l=a(l,u,c,r,t[11],22,-1990404162),r=a(r,l,u,c,t[12],7,1804603682),c=a(c,r,l,u,t[13],12,-40341101),u=a(u,c,r,l,t[14],17,-1502002290),r=i(r,l=a(l,u,c,r,t[15],22,1236535329),u,c,t[1],5,-165796510),c=i(c,r,l,u,t[6],9,-1069501632),u=i(u,c,r,l,t[11],14,643717713),l=i(l,u,c,r,t[0],20,-373897302),r=i(r,l,u,c,t[5],5,-701558691),c=i(c,r,l,u,t[10],9,38016083),u=i(u,c,r,l,t[15],14,-660478335),l=i(l,u,c,r,t[4],20,-405537848),r=i(r,l,u,c,t[9],5,568446438),c=i(c,r,l,u,t[14],9,-1019803690),u=i(u,c,r,l,t[3],14,-187363961),l=i(l,u,c,r,t[8],20,1163531501),r=i(r,l,u,c,t[13],5,-1444681467),c=i(c,r,l,u,t[2],9,-51403784),u=i(u,c,r,l,t[7],14,1735328473),r=o(r,l=i(l,u,c,r,t[12],20,-1926607734),u,c,t[5],4,-378558),c=o(c,r,l,u,t[8],11,-2022574463),u=o(u,c,r,l,t[11],16,1839030562),l=o(l,u,c,r,t[14],23,-35309556),r=o(r,l,u,c,t[1],4,-1530992060),c=o(c,r,l,u,t[4],11,1272893353),u=o(u,c,r,l,t[7],16,-155497632),l=o(l,u,c,r,t[10],23,-1094730640),r=o(r,l,u,c,t[13],4,681279174),c=o(c,r,l,u,t[0],11,-358537222),u=o(u,c,r,l,t[3],16,-722521979),l=o(l,u,c,r,t[6],23,76029189),r=o(r,l,u,c,t[9],4,-640364487),c=o(c,r,l,u,t[12],11,-421815835),u=o(u,c,r,l,t[15],16,530742520),r=s(r,l=o(l,u,c,r,t[2],23,-995338651),u,c,t[0],6,-198630844),c=s(c,r,l,u,t[7],10,1126891415),u=s(u,c,r,l,t[14],15,-1416354905),l=s(l,u,c,r,t[5],21,-57434055),r=s(r,l,u,c,t[12],6,1700485571),c=s(c,r,l,u,t[3],10,-1894986606),u=s(u,c,r,l,t[10],15,-1051523),l=s(l,u,c,r,t[1],21,-2054922799),r=s(r,l,u,c,t[8],6,1873313359),c=s(c,r,l,u,t[15],10,-30611744),u=s(u,c,r,l,t[6],15,-1560198380),l=s(l,u,c,r,t[13],21,1309151649),r=s(r,l,u,c,t[4],6,-145523070),c=s(c,r,l,u,t[11],10,-1120210379),u=s(u,c,r,l,t[2],15,718787259),l=s(l,u,c,r,t[9],21,-343485551),e[0]=n(r,e[0]),e[1]=n(l,e[1]),e[2]=n(u,e[2]),e[3]=n(c,e[3])}function u(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}function c(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24);return t}function d(e){var n,t,r,a,i,o,s=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=s;n+=64)l(c,u(e.substring(n-64,n)));for(t=(e=e.substring(n-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<t;n+=1)r[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(l(c,r),n=0;n<16;n+=1)r[n]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(a[2],16),o=parseInt(a[1],16)||0,r[14]=i,r[15]=o,l(c,r),c}function A(e){var n,t,r,a,i,o,s=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=s;n+=64)l(u,c(e.subarray(n-64,n)));for(t=(e=n-64<s?e.subarray(n-64):new Uint8Array(0)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<t;n+=1)r[n>>2]|=e[n]<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(l(u,r),n=0;n<16;n+=1)r[n]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(a[2],16),o=parseInt(a[1],16)||0,r[14]=i,r[15]=o,l(u,r),u}function f(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function h(e){var n;for(n=0;n<e.length;n+=1)e[n]=f(e[n]);return e.join("")}function p(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function m(e,n){var t,r=e.length,a=new ArrayBuffer(r),i=new Uint8Array(a);for(t=0;t<r;t++)i[t]=e.charCodeAt(t);return n?i:a}function S(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function g(e,n,t){var r=new Uint8Array(e.byteLength+n.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(n),e.byteLength),t?r:r.buffer}function v(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==h(d("hello"))&&(n=function(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}),v.prototype.append=function(e){return this.appendBinary(p(e)),this},v.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var n,t=this._buff.length;for(n=64;n<=t;n+=64)l(this._hash,u(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},v.prototype.end=function(e){var n,t,r=this._buff,a=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<a;n+=1)i[n>>2]|=r.charCodeAt(n)<<(n%4<<3);return this._finish(i,a),t=e?this._hash:h(this._hash),this.reset(),t},v.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},v.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},v.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},v.prototype._finish=function(e,n){var t,r,a,i=n;if(e[i>>2]|=128<<(i%4<<3),i>55)for(l(this._hash,e),i=0;i<16;i+=1)e[i]=0;t=(t=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(t[2],16),a=parseInt(t[1],16)||0,e[14]=r,e[15]=a,l(this._hash,e)},v.hash=function(e,n){return v.hashBinary(p(e),n)},v.hashBinary=function(e,n){var t=d(e);return n?t:h(t)},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(e){var n,t=g(this._buff.buffer,e,!0),r=t.length;for(this._length+=e.byteLength,n=64;n<=r;n+=64)l(this._hash,c(t.subarray(n-64,n)));return this._buff=n-64<r?t.subarray(n-64):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(e){var n,t,r=this._buff,a=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<a;n+=1)i[n>>2]|=r[n]<<(n%4<<3);return this._finish(i,a),t=e?this._hash:h(this._hash),this.reset(),t},v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.getState=function(){var e=v.prototype.getState.call(this);return e.buff=S(e.buff),e},v.ArrayBuffer.prototype.setState=function(e){return e.buff=m(e.buff,!0),v.prototype.setState.call(this,e)},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.hash=function(e,n){n=n||{};var t=A(new Uint8Array(e,n.start||0,n.length));return n.raw?t:h(t)},v}()},4531:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{FN:function(){return getFunctionLength},NC:function(){return getRegSetAddress},Z_:function(){return findCalls},iu:function(){return getRegSetUpperAndLower},zQ:function(){return findCallsInFunction}});var mips_inst__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4453),REG={R0:0,AT:1,V0:2,V1:3,A0:4,A1:5,A2:6,A3:7,T0:8,T1:9,T2:10,T3:11,T4:12,T5:13,T6:14,T7:15,S0:16,S1:17,S2:18,S3:19,S4:20,S5:21,S6:22,S7:23,T8:24,T9:25,K0:26,K1:27,GP:28,SP:29,S8:30,RA:31};function makeInst(inst){for(var _len=arguments.length,extras=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)extras[_key-1]=arguments[_key];if(!arguments.length)return null;for(var args=new Array(arguments.length-1),i=1;i<arguments.length;i++)args[i-1]=arguments[i];var methodName="_"+inst.toLowerCase(),method=eval(methodName);if("function"===typeof method)return method.apply(null,args);throw new Error("MIPS.makeInst: Unrecognized instruction ".concat(inst))}function getJALAddr(e){if(201326592!==(201326592&e))throw new Error("MIPS.getJALAddr: ".concat(e.toString(16)," is not a JAL instruction."));return(67108863&e)<<2}function getRegSetUpperAndLower(e){var n=65535&e,t=e>>>16;return 32768&n&&(t+=1),[t,n]}function getRegSetAddress(e,n){return e&=65535,32768&(n&=65535)&&(e-=1),2147483647&(e<<16|n)}function getFunctionLength(e,n){for(var t=n+4;65011720!==e.getUint32(t)&&t<n+8192;)t+=4;return 65011720!==e.getUint32(t)?null:(t+=8)-n}function findCalls(e,n){for(var t=(0,mips_inst__WEBPACK_IMPORTED_MODULE_0__.Q)("JAL ".concat(n)),r=[],a=0;a<e.byteLength;a+=4){e.getUint32(a)===t&&r.push(a)}return r}function findCallsInFunction(e,n,t){for(var r=(0,mips_inst__WEBPACK_IMPORTED_MODULE_0__.Q)("JAL ".concat(t)),a=[],i=n;i<e.byteLength;i+=4){var o=e.getUint32(i);if(65011720===o)break;o===r&&a.push(i)}return a}function _addiu(e,n,t){var r=603979776;return r|=n<<21,(r|=e<<16)|65535&t}function _addu(e,n,t){var r=33;return r|=n<<21,r|=t<<16,r|=e<<11}function _beq(e,n,t){var r=268435456;return r|=e<<21,(r|=n<<16)|t>>2&65535}function _bne(e,n,t){var r=335544320;return r|=e<<21,(r|=n<<16)|t>>2&65535}function _bgtz(e,n){var t=469762048;return(t|=e<<21)|n>>2&65535}function _blez(e,n){var t=402653184;return(t|=e<<21)|n>>2&65535}function _j(e){return 134217728|e>>>2}function _jr(e){return 8|e<<21}function _jal(e){return 201326592|e>>>2}function _lb(e,n,t){var r=2147483648;return r|=n<<21,(r|=e<<16)|65535&t}function _sb(e,n,t){var r=2684354560;return r|=n<<21,(r|=e<<16)|65535&t}function _lh(e,n,t){var r=2214592512;return r|=n<<21,(r|=e<<16)|65535&t}function _sh(e,n,t){var r=2751463424;return r|=n<<21,(r|=e<<16)|65535&t}function _lui(e,n){var t=1006632960;return(t|=e<<16)|65535&n}function _lw(e,n,t){var r=2348810240;return r|=n<<21,(r|=e<<16)|65535&t}function _sw(e,n,t){var r=2885681152;return r|=n<<21,(r|=e<<16)|65535&t}function _ori(e,n,t){var r=872415232;return r|=e<<21,(r|=n<<16)|65535&t}},9852:function(e){e.exports=ImageData},7705:function(e,n,t){"use strict";var r,a,i;i=function(){var e=null,n="item",t="separator",r=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return document.querySelector(".basicContext "+e)},a=function(e,r){var a="",i="";return!1===function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return!0===(0===Object.keys(e).length)&&(e.type=t),null==e.type&&(e.type=n),null==e.class&&(e.class=""),!1!==e.visible&&(e.visible=!0),null==e.icon&&(e.icon=null),null==e.title&&(e.title="Undefined"),!0!==e.disabled&&(e.disabled=!1),!0===e.disabled&&(e.class+=" basicContext__item--disabled"),null!=e.fn||e.type===t||!1!==e.disabled||(console.warn("Missing fn for item '"+e.title+"'"),!1)}(e)||!1===e.visible?"":(e.num=r,null!==e.icon&&(i="<span class='basicContext__icon "+e.icon+"'></span>"),e.type===n?a="\n\t\t       <tr class='basicContext__item "+e.class+"'>\n\t\t           <td class='basicContext__data' data-num='"+e.num+"'>"+i+e.title+"</td>\n\t\t       </tr>\n\t\t       ":e.type===t&&(a="\n\t\t       <tr class='basicContext__item basicContext__item--separator'></tr>\n\t\t       "),a)},i=function(e){var n="";return n+="\n\t        <div class='basicContextContainer'>\n\t            <div class='basicContext'>\n\t                <table>\n\t                    <tbody>\n\t        ",e.forEach((function(e,t){return n+=a(e,t)})),n+="\n\t                    </tbody>\n\t                </table>\n\t            </div>\n\t        </div>\n\t        "},o=function(e,n){var t=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n={x:e.clientX,y:e.clientY};if("touchend"===e.type&&(null==n.x||null==n.y)){var t=e.changedTouches;null!=t&&t.length>0&&(n.x=t[0].clientX,n.y=t[0].clientY)}return(null==n.x||n.x<0)&&(n.x=0),(null==n.y||n.y<0)&&(n.y=0),n}(e),r=t.x,a=t.y,i=window.innerWidth,o=window.innerHeight,s=n.offsetWidth,l=n.offsetHeight;r+s>i&&(r-=r+s-i),a+l>o&&(a-=a+l-o),l>o&&(a=0,n.classList.add("basicContext--scrollable"));var u=t.x-r;return{x:r,y:a,rx:u,ry:t.y-a}},s=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return null!=e.fn&&!1!==e.visible&&!0!==e.disabled&&(r("td[data-num='"+e.num+"']").onclick=e.fn,r("td[data-num='"+e.num+"']").oncontextmenu=e.fn,!0)},l=function(){var e=r();return null!=e&&0!==e.length},u=function(){if(!1===l())return!1;var n=document.querySelector(".basicContextContainer");return n.parentElement.removeChild(n),null!=e&&(document.body.style.overflow=e,e=null),!0};return{ITEM:n,SEPARATOR:t,show:function(n,t,a,l){var c=i(n);document.body.insertAdjacentHTML("beforeend",c),null==e&&(e=document.body.style.overflow,document.body.style.overflow="hidden");var d=r(),A=o(t,d);return d.style.left=A.x+"px",d.style.top=A.y+"px",d.style.transformOrigin=A.rx+"px "+A.ry+"px",d.style.opacity=1,null==a&&(a=u),d.parentElement.onclick=a,d.parentElement.oncontextmenu=a,n.forEach(s),"function"==typeof t.preventDefault&&t.preventDefault(),"function"==typeof t.stopPropagation&&t.stopPropagation(),"function"==typeof l&&l(),!0},visible:l,close:u}},e.exports?e.exports=i():void 0===(a="function"===typeof(r=i)?r.call(n,t,n,e):r)||(e.exports=a)},3495:function(e,n,t){!function(e){"use strict";var n="CodeMirror-hint",t="CodeMirror-hint-active";function r(e,n){if(this.cm=e,this.options=n,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var t=this;e.on("cursorActivity",this.activityFunc=function(){t.cursorActivity()})}}e.showHint=function(e,n,t){if(!n)return e.showHint(t);t&&t.async&&(n.async=!0);var r={hint:n};if(t)for(var a in t)r[a]=t[a];return e.showHint(r)},e.defineExtension("showHint",(function(n){n=o(this,this.getCursor("start"),n);var t=this.listSelections();if(!(t.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var a=0;a<t.length;a++)if(t[a].head.line!=t[a].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var i=this.state.completionActive=new r(this,n);i.options.hint&&(e.signal(this,"startCompletion",this),i.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var a=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},i=window.cancelAnimationFrame||clearTimeout;function o(e,n,t){var r=e.options.hintOptions,a={};for(var i in h)a[i]=h[i];if(r)for(var i in r)void 0!==r[i]&&(a[i]=r[i]);if(t)for(var i in t)void 0!==t[i]&&(a[i]=t[i]);return a.hint.resolve&&(a.hint=a.hint.resolve(e,n)),a}function s(e){return"string"==typeof e?e:e.text}function l(e,n){var t={Up:function(){n.moveFocus(-1)},Down:function(){n.moveFocus(1)},PageUp:function(){n.moveFocus(1-n.menuSize(),!0)},PageDown:function(){n.moveFocus(n.menuSize()-1,!0)},Home:function(){n.setFocus(0)},End:function(){n.setFocus(n.length-1)},Enter:n.pick,Tab:n.pick,Esc:n.close};/Mac/.test(navigator.platform)&&(t["Ctrl-P"]=function(){n.moveFocus(-1)},t["Ctrl-N"]=function(){n.moveFocus(1)});var r=e.options.customKeys,a=r?{}:t;function i(e,r){var i;i="string"!=typeof r?function(e){return r(e,n)}:t.hasOwnProperty(r)?t[r]:r,a[e]=i}if(r)for(var o in r)r.hasOwnProperty(o)&&i(o,r[o]);var s=e.options.extraKeys;if(s)for(var o in s)s.hasOwnProperty(o)&&i(o,s[o]);return a}function u(e,n){for(;n&&n!=e;){if("LI"===n.nodeName.toUpperCase()&&n.parentNode==e)return n;n=n.parentNode}}function c(r,a){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=r,this.data=a,this.picked=!1;var i=this,o=r.cm,c=o.getInputField().ownerDocument,d=c.defaultView||c.parentWindow,A=this.hints=c.createElement("ul");A.setAttribute("role","listbox"),A.setAttribute("aria-expanded","true"),A.id=this.id;var f=r.cm.options.theme;A.className="CodeMirror-hints "+f,this.selectedHint=a.selectedHint||0;for(var h=a.list,p=0;p<h.length;++p){var m=A.appendChild(c.createElement("li")),S=h[p],g=n+(p!=this.selectedHint?"":" "+t);null!=S.className&&(g=S.className+" "+g),m.className=g,p==this.selectedHint&&m.setAttribute("aria-selected","true"),m.id=this.id+"-"+p,m.setAttribute("role","option"),S.render?S.render(m,a,S):m.appendChild(c.createTextNode(S.displayText||s(S))),m.hintId=p}var v=r.options.container||c.body,x=o.cursorCoords(r.options.alignWithWord?a.from:null),_=x.left,y=x.bottom,w=!0,b=0,V=0;if(v!==c.body){var C=-1!==["absolute","relative","fixed"].indexOf(d.getComputedStyle(v).position)?v:v.offsetParent,E=C.getBoundingClientRect(),D=c.body.getBoundingClientRect();b=E.left-D.left-C.scrollLeft,V=E.top-D.top-C.scrollTop}A.style.left=_-b+"px",A.style.top=y-V+"px";var F=d.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),T=d.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);v.appendChild(A),o.getInputField().setAttribute("aria-autocomplete","list"),o.getInputField().setAttribute("aria-owns",this.id),o.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var P,R=r.options.moveOnOverlap?A.getBoundingClientRect():new DOMRect,L=!!r.options.paddingForScrollbar&&A.scrollHeight>A.clientHeight+1;if(setTimeout((function(){P=o.getScrollInfo()})),R.bottom-T>0){var M=R.bottom-R.top;if(x.top-(x.bottom-R.top)-M>0)A.style.top=(y=x.top-M-V)+"px",w=!1;else if(M>T){A.style.height=T-5+"px",A.style.top=(y=x.bottom-R.top-V)+"px";var B=o.getCursor();a.from.ch!=B.ch&&(x=o.cursorCoords(B),A.style.left=(_=x.left-b)+"px",R=A.getBoundingClientRect())}}var k,I=R.right-F;if(L&&(I+=o.display.nativeBarWidth),I>0&&(R.right-R.left>F&&(A.style.width=F-5+"px",I-=R.right-R.left-F),A.style.left=(_=Math.max(x.left-I-b,0))+"px"),L)for(var O=A.firstChild;O;O=O.nextSibling)O.style.paddingRight=o.display.nativeBarWidth+"px";o.addKeyMap(this.keyMap=l(r,{moveFocus:function(e,n){i.changeActive(i.selectedHint+e,n)},setFocus:function(e){i.changeActive(e)},menuSize:function(){return i.screenAmount()},length:h.length,close:function(){r.close()},pick:function(){i.pick()},data:a})),r.options.closeOnUnfocus&&(o.on("blur",this.onBlur=function(){k=setTimeout((function(){r.close()}),100)}),o.on("focus",this.onFocus=function(){clearTimeout(k)})),o.on("scroll",this.onScroll=function(){var e=o.getScrollInfo(),n=o.getWrapperElement().getBoundingClientRect();P||(P=o.getScrollInfo());var t=y+P.top-e.top,a=t-(d.pageYOffset||(c.documentElement||c.body).scrollTop);if(w||(a+=A.offsetHeight),a<=n.top||a>=n.bottom)return r.close();A.style.top=t+"px",A.style.left=_+P.left-e.left+"px"}),e.on(A,"dblclick",(function(e){var n=u(A,e.target||e.srcElement);n&&null!=n.hintId&&(i.changeActive(n.hintId),i.pick())})),e.on(A,"click",(function(e){var n=u(A,e.target||e.srcElement);n&&null!=n.hintId&&(i.changeActive(n.hintId),r.options.completeOnSingleClick&&i.pick())})),e.on(A,"mousedown",(function(){setTimeout((function(){o.focus()}),20)}));var N=this.getSelectedHintRange();return 0===N.from&&0===N.to||this.scrollToActive(),e.signal(a,"select",h[this.selectedHint],A.childNodes[this.selectedHint]),!0}function d(e,n){if(!e.somethingSelected())return n;for(var t=[],r=0;r<n.length;r++)n[r].supportsSelection&&t.push(n[r]);return t}function A(e,n,t,r){if(e.async)e(n,r,t);else{var a=e(n,t);a&&a.then?a.then(r):r(a)}}function f(n,t){var r,a=n.getHelpers(t,"hint");if(a.length){var i=function(e,n,t){var r=d(e,a);function i(a){if(a==r.length)return n(null);A(r[a],e,t,(function(e){e&&e.list.length>0?n(e):i(a+1)}))}i(0)};return i.async=!0,i.supportsSelection=!0,i}return(r=n.getHelper(n.getCursor(),"hintWords"))?function(n){return e.hint.fromList(n,{words:r})}:e.hint.anyword?function(n,t){return e.hint.anyword(n,t)}:function(){}}r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(n,t){var r=n.list[t],a=this;this.cm.operation((function(){r.hint?r.hint(a.cm,n,r):a.cm.replaceRange(s(r),r.from||n.from,r.to||n.to,"complete"),e.signal(n,"pick",r),a.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(i(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var n=this.cm.getCursor(),t=this.cm.getLine(n.line);if(n.line!=this.startPos.line||t.length-n.ch!=this.startLen-this.startPos.ch||n.ch<e.ch||this.cm.somethingSelected()||!n.ch||this.options.closeCharacters.test(t.charAt(n.ch-1)))this.close();else{var r=this;this.debounce=a((function(){r.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var n=this,t=++this.tick;A(this.options.hint,this.cm,this.options,(function(r){n.tick==t&&n.finishUpdate(r,e)}))}},finishUpdate:function(n,t){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||t&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=n,n&&n.list.length&&(r&&1==n.list.length?this.pick(n,0):(this.widget=new c(this,n),e.signal(n,"shown")))}},c.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm.getInputField();e.removeAttribute("aria-activedescendant"),e.removeAttribute("aria-owns");var n=this.completion.cm;this.completion.options.closeOnUnfocus&&(n.off("blur",this.onBlur),n.off("focus",this.onFocus)),n.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(n,r){if(n>=this.data.list.length?n=r?this.data.list.length-1:0:n<0&&(n=r?0:this.data.list.length-1),this.selectedHint!=n){var a=this.hints.childNodes[this.selectedHint];a&&(a.className=a.className.replace(" "+t,""),a.removeAttribute("aria-selected")),(a=this.hints.childNodes[this.selectedHint=n]).className+=" "+t,a.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",a.id),this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],a)}},scrollToActive:function(){var e=this.getSelectedHintRange(),n=this.hints.childNodes[e.from],t=this.hints.childNodes[e.to],r=this.hints.firstChild;n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-r.offsetTop:t.offsetTop+t.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=t.offsetTop+t.offsetHeight-this.hints.clientHeight+r.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:f}),e.registerHelper("hint","fromList",(function(n,t){var r,a=n.getCursor(),i=n.getTokenAt(a),o=e.Pos(a.line,i.start),s=a;i.start<a.ch&&/\w/.test(i.string.charAt(a.ch-i.start-1))?r=i.string.substr(0,a.ch-i.start):(r="",o=a);for(var l=[],u=0;u<t.words.length;u++){var c=t.words[u];c.slice(0,r.length)==r&&l.push(c)}if(l.length)return{list:l,from:o,to:s}})),e.commands.autocomplete=e.showHint;var h={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}(t(7494))},7494:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,n=navigator.platform,t=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),o=r||a||i,s=o&&(r?document.documentMode||6:+(i||a)[1]),l=!i&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!i&&/Chrome\/(\d+)/.exec(e),d=c&&+c[1],A=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),S=/Android/.test(e),g=m||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=m||/Mac/.test(n),x=/\bCrOS\b/.test(e),_=/win/i.test(n),y=A&&e.match(/Version\/(\d*\.\d*)/);y&&(y=Number(y[1])),y&&y>=15&&(A=!1,l=!0);var w=v&&(u||A&&(null==y||y<12.11)),b=t||o&&s>=9;function V(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,E=function(e,n){var t=e.className,r=V(n).exec(t);if(r){var a=t.slice(r.index+r[0].length);e.className=t.slice(0,r.index)+(a?r[1]+a:"")}};function D(e){for(var n=e.childNodes.length;n>0;--n)e.removeChild(e.firstChild);return e}function F(e,n){return D(e).appendChild(n)}function T(e,n,t,r){var a=document.createElement(e);if(t&&(a.className=t),r&&(a.style.cssText=r),"string"==typeof n)a.appendChild(document.createTextNode(n));else if(n)for(var i=0;i<n.length;++i)a.appendChild(n[i]);return a}function P(e,n,t,r){var a=T(e,n,t,r);return a.setAttribute("role","presentation"),a}function R(e,n){if(3==n.nodeType&&(n=n.parentNode),e.contains)return e.contains(n);do{if(11==n.nodeType&&(n=n.host),n==e)return!0}while(n=n.parentNode)}function L(e){var n;try{n=e.activeElement}catch(t){n=e.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function M(e,n){var t=e.className;V(n).test(t)||(e.className+=(t?" ":"")+n)}function B(e,n){for(var t=e.split(" "),r=0;r<t.length;r++)t[r]&&!V(t[r]).test(n)&&(n+=" "+t[r]);return n}C=document.createRange?function(e,n,t,r){var a=document.createRange();return a.setEnd(r||e,t),a.setStart(e,n),a}:function(e,n,t){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(a){return r}return r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",n),r};var k=function(e){e.select()};function I(e){return e.display.wrapper.ownerDocument}function O(e){return I(e).defaultView}function N(e){var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n)}}function j(e,n,t){for(var r in n||(n={}),e)!e.hasOwnProperty(r)||!1===t&&n.hasOwnProperty(r)||(n[r]=e[r]);return n}function U(e,n,t,r,a){null==n&&-1==(n=e.search(/[^\s\u00a0]/))&&(n=e.length);for(var i=r||0,o=a||0;;){var s=e.indexOf("\t",i);if(s<0||s>=n)return o+(n-i);o+=s-i,o+=t-o%t,i=s+1}}m?k=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:o&&(k=function(e){try{e.select()}catch(n){}});var G=function(){this.id=null,this.f=null,this.time=0,this.handler=N(this.onTimeout,this)};function z(e,n){for(var t=0;t<e.length;++t)if(e[t]==n)return t;return-1}G.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},G.prototype.set=function(e,n){this.f=n;var t=+new Date+e;(!this.id||t<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=t)};var H=50,W={toString:function(){return"CodeMirror.Pass"}},X={scroll:!1},K={origin:"*mouse"},q={origin:"+move"};function Y(e,n,t){for(var r=0,a=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var o=i-r;if(i==e.length||a+o>=n)return r+Math.min(o,n-a);if(a+=i-r,r=i+1,(a+=t-a%t)>=n)return r}}var Q=[""];function J(e){for(;Q.length<=e;)Q.push(Z(Q)+" ");return Q[e]}function Z(e){return e[e.length-1]}function $(e,n){for(var t=[],r=0;r<e.length;r++)t[r]=n(e[r],r);return t}function ee(e,n,t){for(var r=0,a=t(n);r<e.length&&t(e[r])<=a;)r++;e.splice(r,0,n)}function ne(){}function te(e,n){var t;return Object.create?t=Object.create(e):(ne.prototype=e,t=new ne),n&&j(n,t),t}var re=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ae(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||re.test(e))}function ie(e,n){return n?!!(n.source.indexOf("\\w")>-1&&ae(e))||n.test(e):ae(e)}function oe(e){for(var n in e)if(e.hasOwnProperty(n)&&e[n])return!1;return!0}var se=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function le(e){return e.charCodeAt(0)>=768&&se.test(e)}function ue(e,n,t){for(;(t<0?n>0:n<e.length)&&le(e.charAt(n));)n+=t;return n}function ce(e,n,t){for(var r=n>t?-1:1;;){if(n==t)return n;var a=(n+t)/2,i=r<0?Math.ceil(a):Math.floor(a);if(i==n)return e(i)?n:t;e(i)?t=i:n=i+r}}function de(e,n,t,r){if(!e)return r(n,t,"ltr",0);for(var a=!1,i=0;i<e.length;++i){var o=e[i];(o.from<t&&o.to>n||n==t&&o.to==n)&&(r(Math.max(o.from,n),Math.min(o.to,t),1==o.level?"rtl":"ltr",i),a=!0)}a||r(n,t,"ltr")}var Ae=null;function fe(e,n,t){var r;Ae=null;for(var a=0;a<e.length;++a){var i=e[a];if(i.from<n&&i.to>n)return a;i.to==n&&(i.from!=i.to&&"before"==t?r=a:Ae=a),i.from==n&&(i.from!=i.to&&"before"!=t?r=a:Ae=a)}return null!=r?r:Ae}var he=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function t(t){return t<=247?e.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1785?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function l(e,n,t){this.level=e,this.from=n,this.to=t}return function(e,n){var u="ltr"==n?"L":"R";if(0==e.length||"ltr"==n&&!r.test(e))return!1;for(var c=e.length,d=[],A=0;A<c;++A)d.push(t(e.charCodeAt(A)));for(var f=0,h=u;f<c;++f){var p=d[f];"m"==p?d[f]=h:h=p}for(var m=0,S=u;m<c;++m){var g=d[m];"1"==g&&"r"==S?d[m]="n":i.test(g)&&(S=g,"r"==g&&(d[m]="R"))}for(var v=1,x=d[0];v<c-1;++v){var _=d[v];"+"==_&&"1"==x&&"1"==d[v+1]?d[v]="1":","!=_||x!=d[v+1]||"1"!=x&&"n"!=x||(d[v]=x),x=_}for(var y=0;y<c;++y){var w=d[y];if(","==w)d[y]="N";else if("%"==w){var b=void 0;for(b=y+1;b<c&&"%"==d[b];++b);for(var V=y&&"!"==d[y-1]||b<c&&"1"==d[b]?"1":"N",C=y;C<b;++C)d[C]=V;y=b-1}}for(var E=0,D=u;E<c;++E){var F=d[E];"L"==D&&"1"==F?d[E]="L":i.test(F)&&(D=F)}for(var T=0;T<c;++T)if(a.test(d[T])){var P=void 0;for(P=T+1;P<c&&a.test(d[P]);++P);for(var R="L"==(T?d[T-1]:u),L=R==("L"==(P<c?d[P]:u))?R?"L":"R":u,M=T;M<P;++M)d[M]=L;T=P-1}for(var B,k=[],I=0;I<c;)if(o.test(d[I])){var O=I;for(++I;I<c&&o.test(d[I]);++I);k.push(new l(0,O,I))}else{var N=I,j=k.length,U="rtl"==n?1:0;for(++I;I<c&&"L"!=d[I];++I);for(var G=N;G<I;)if(s.test(d[G])){N<G&&(k.splice(j,0,new l(1,N,G)),j+=U);var z=G;for(++G;G<I&&s.test(d[G]);++G);k.splice(j,0,new l(2,z,G)),j+=U,N=G}else++G;N<I&&k.splice(j,0,new l(1,N,I))}return"ltr"==n&&(1==k[0].level&&(B=e.match(/^\s+/))&&(k[0].from=B[0].length,k.unshift(new l(0,0,B[0].length))),1==Z(k).level&&(B=e.match(/\s+$/))&&(Z(k).to-=B[0].length,k.push(new l(0,c-B[0].length,c)))),"rtl"==n?k.reverse():k}}();function pe(e,n){var t=e.order;return null==t&&(t=e.order=he(e.text,n)),t}var me=[],Se=function(e,n,t){if(e.addEventListener)e.addEventListener(n,t,!1);else if(e.attachEvent)e.attachEvent("on"+n,t);else{var r=e._handlers||(e._handlers={});r[n]=(r[n]||me).concat(t)}};function ge(e,n){return e._handlers&&e._handlers[n]||me}function ve(e,n,t){if(e.removeEventListener)e.removeEventListener(n,t,!1);else if(e.detachEvent)e.detachEvent("on"+n,t);else{var r=e._handlers,a=r&&r[n];if(a){var i=z(a,t);i>-1&&(r[n]=a.slice(0,i).concat(a.slice(i+1)))}}}function xe(e,n){var t=ge(e,n);if(t.length)for(var r=Array.prototype.slice.call(arguments,2),a=0;a<t.length;++a)t[a].apply(null,r)}function _e(e,n,t){return"string"==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),xe(e,t||n.type,e,n),Ee(n)||n.codemirrorIgnore}function ye(e){var n=e._handlers&&e._handlers.cursorActivity;if(n)for(var t=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<n.length;++r)-1==z(t,n[r])&&t.push(n[r])}function we(e,n){return ge(e,n).length>0}function be(e){e.prototype.on=function(e,n){Se(this,e,n)},e.prototype.off=function(e,n){ve(this,e,n)}}function Ve(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ee(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function De(e){Ve(e),Ce(e)}function Fe(e){return e.target||e.srcElement}function Te(e){var n=e.which;return null==n&&(1&e.button?n=1:2&e.button?n=3:4&e.button&&(n=2)),v&&e.ctrlKey&&1==n&&(n=3),n}var Pe,Re,Le=function(){if(o&&s<9)return!1;var e=T("div");return"draggable"in e||"dragDrop"in e}();function Me(e){if(null==Pe){var n=T("span","\u200b");F(e,T("span",[n,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Pe=n.offsetWidth<=1&&n.offsetHeight>2&&!(o&&s<8))}var t=Pe?T("span","\u200b"):T("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return t.setAttribute("cm-text",""),t}function Be(e){if(null!=Re)return Re;var n=F(e,document.createTextNode("A\u062eA")),t=C(n,0,1).getBoundingClientRect(),r=C(n,1,2).getBoundingClientRect();return D(e),!(!t||t.left==t.right)&&(Re=r.right-t.right<3)}var ke=3!="\n\nb".split(/\n/).length?function(e){for(var n=0,t=[],r=e.length;n<=r;){var a=e.indexOf("\n",n);-1==a&&(a=e.length);var i=e.slice(n,"\r"==e.charAt(a-1)?a-1:a),o=i.indexOf("\r");-1!=o?(t.push(i.slice(0,o)),n+=o+1):(t.push(i),n=a+1)}return t}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(n){return!1}}:function(e){var n;try{n=e.ownerDocument.selection.createRange()}catch(t){}return!(!n||n.parentElement()!=e)&&0!=n.compareEndPoints("StartToEnd",n)},Oe=function(){var e=T("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ne=null;function je(e){if(null!=Ne)return Ne;var n=F(e,T("span","x")),t=n.getBoundingClientRect(),r=C(n,0,1).getBoundingClientRect();return Ne=Math.abs(t.left-r.left)>1}var Ue={},Ge={};function ze(e,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Ue[e]=n}function He(e,n){Ge[e]=n}function We(e){if("string"==typeof e&&Ge.hasOwnProperty(e))e=Ge[e];else if(e&&"string"==typeof e.name&&Ge.hasOwnProperty(e.name)){var n=Ge[e.name];"string"==typeof n&&(n={name:n}),(e=te(n,e)).name=n.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return We("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return We("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Xe(e,n){n=We(n);var t=Ue[n.name];if(!t)return Xe(e,"text/plain");var r=t(e,n);if(Ke.hasOwnProperty(n.name)){var a=Ke[n.name];for(var i in a)a.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=a[i])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)r[o]=n.modeProps[o];return r}var Ke={};function qe(e,n){j(n,Ke.hasOwnProperty(e)?Ke[e]:Ke[e]={})}function Ye(e,n){if(!0===n)return n;if(e.copyState)return e.copyState(n);var t={};for(var r in n){var a=n[r];a instanceof Array&&(a=a.concat([])),t[r]=a}return t}function Qe(e,n){for(var t;e.innerMode&&(t=e.innerMode(n))&&t.mode!=e;)n=t.state,e=t.mode;return t||{mode:e,state:n}}function Je(e,n,t){return!e.startState||e.startState(n,t)}var Ze=function(e,n,t){this.pos=this.start=0,this.string=e,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=t};function $e(e,n){if((n-=e.first)<0||n>=e.size)throw new Error("There is no line "+(n+e.first)+" in the document.");for(var t=e;!t.lines;)for(var r=0;;++r){var a=t.children[r],i=a.chunkSize();if(n<i){t=a;break}n-=i}return t.lines[n]}function en(e,n,t){var r=[],a=n.line;return e.iter(n.line,t.line+1,(function(e){var i=e.text;a==t.line&&(i=i.slice(0,t.ch)),a==n.line&&(i=i.slice(n.ch)),r.push(i),++a})),r}function nn(e,n,t){var r=[];return e.iter(n,t,(function(e){r.push(e.text)})),r}function tn(e,n){var t=n-e.height;if(t)for(var r=e;r;r=r.parent)r.height+=t}function rn(e){if(null==e.parent)return null;for(var n=e.parent,t=z(n.lines,e),r=n.parent;r;n=r,r=r.parent)for(var a=0;r.children[a]!=n;++a)t+=r.children[a].chunkSize();return t+n.first}function an(e,n){var t=e.first;e:do{for(var r=0;r<e.children.length;++r){var a=e.children[r],i=a.height;if(n<i){e=a;continue e}n-=i,t+=a.chunkSize()}return t}while(!e.lines);for(var o=0;o<e.lines.length;++o){var s=e.lines[o].height;if(n<s)break;n-=s}return t+o}function on(e,n){return n>=e.first&&n<e.first+e.size}function sn(e,n){return String(e.lineNumberFormatter(n+e.firstLineNumber))}function ln(e,n,t){if(void 0===t&&(t=null),!(this instanceof ln))return new ln(e,n,t);this.line=e,this.ch=n,this.sticky=t}function un(e,n){return e.line-n.line||e.ch-n.ch}function cn(e,n){return e.sticky==n.sticky&&0==un(e,n)}function dn(e){return ln(e.line,e.ch)}function An(e,n){return un(e,n)<0?n:e}function fn(e,n){return un(e,n)<0?e:n}function hn(e,n){return Math.max(e.first,Math.min(n,e.first+e.size-1))}function pn(e,n){if(n.line<e.first)return ln(e.first,0);var t=e.first+e.size-1;return n.line>t?ln(t,$e(e,t).text.length):mn(n,$e(e,n.line).text.length)}function mn(e,n){var t=e.ch;return null==t||t>n?ln(e.line,n):t<0?ln(e.line,0):e}function Sn(e,n){for(var t=[],r=0;r<n.length;r++)t[r]=pn(e,n[r]);return t}Ze.prototype.eol=function(){return this.pos>=this.string.length},Ze.prototype.sol=function(){return this.pos==this.lineStart},Ze.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ze.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ze.prototype.eat=function(e){var n=this.string.charAt(this.pos);if("string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},Ze.prototype.eatWhile=function(e){for(var n=this.pos;this.eat(e););return this.pos>n},Ze.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ze.prototype.skipToEnd=function(){this.pos=this.string.length},Ze.prototype.skipTo=function(e){var n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0},Ze.prototype.backUp=function(e){this.pos-=e},Ze.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=U(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.indentation=function(){return U(this.string,null,this.tabSize)-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.match=function(e,n,t){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==n&&(this.pos+=r[0].length),r)}var a=function(e){return t?e.toLowerCase():e};if(a(this.string.substr(this.pos,e.length))==a(e))return!1!==n&&(this.pos+=e.length),!0},Ze.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ze.prototype.hideFirstChars=function(e,n){this.lineStart+=e;try{return n()}finally{this.lineStart-=e}},Ze.prototype.lookAhead=function(e){var n=this.lineOracle;return n&&n.lookAhead(e)},Ze.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var gn=function(e,n){this.state=e,this.lookAhead=n},vn=function(e,n,t,r){this.state=n,this.doc=e,this.line=t,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function xn(e,n,t,r){var a=[e.state.modeGen],i={};Fn(e,n.text,e.doc.mode,t,(function(e,n){return a.push(e,n)}),i,r);for(var o=t.state,s=function(r){t.baseTokens=a;var s=e.state.overlays[r],l=1,u=0;t.state=!0,Fn(e,n.text,s.mode,t,(function(e,n){for(var t=l;u<e;){var r=a[l];r>e&&a.splice(l,1,e,a[l+1],r),l+=2,u=Math.min(e,r)}if(n)if(s.opaque)a.splice(t,l-t,e,"overlay "+n),l=t+2;else for(;t<l;t+=2){var i=a[t+1];a[t+1]=(i?i+" ":"")+"overlay "+n}}),i),t.state=o,t.baseTokens=null,t.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:a,classes:i.bgClass||i.textClass?i:null}}function _n(e,n,t){if(!n.styles||n.styles[0]!=e.state.modeGen){var r=yn(e,rn(n)),a=n.text.length>e.options.maxHighlightLength&&Ye(e.doc.mode,r.state),i=xn(e,n,r);a&&(r.state=a),n.stateAfter=r.save(!a),n.styles=i.styles,i.classes?n.styleClasses=i.classes:n.styleClasses&&(n.styleClasses=null),t===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return n.styles}function yn(e,n,t){var r=e.doc,a=e.display;if(!r.mode.startState)return new vn(r,!0,n);var i=Tn(e,n,t),o=i>r.first&&$e(r,i-1).stateAfter,s=o?vn.fromSaved(r,o,i):new vn(r,Je(r.mode),i);return r.iter(i,n,(function(t){wn(e,t.text,s);var r=s.line;t.stateAfter=r==n-1||r%5==0||r>=a.viewFrom&&r<a.viewTo?s.save():null,s.nextLine()})),t&&(r.modeFrontier=s.line),s}function wn(e,n,t,r){var a=e.doc.mode,i=new Ze(n,e.options.tabSize,t);for(i.start=i.pos=r||0,""==n&&bn(a,t.state);!i.eol();)Vn(a,i,t.state),i.start=i.pos}function bn(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var t=Qe(e,n);return t.mode.blankLine?t.mode.blankLine(t.state):void 0}}function Vn(e,n,t,r){for(var a=0;a<10;a++){r&&(r[0]=Qe(e,t).mode);var i=e.token(n,t);if(n.pos>n.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}vn.prototype.lookAhead=function(e){var n=this.doc.getLine(this.line+e);return null!=n&&e>this.maxLookAhead&&(this.maxLookAhead=e),n},vn.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vn.fromSaved=function(e,n,t){return n instanceof gn?new vn(e,Ye(e.mode,n.state),t,n.lookAhead):new vn(e,Ye(e.mode,n),t)},vn.prototype.save=function(e){var n=!1!==e?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gn(n,this.maxLookAhead):n};var Cn=function(e,n,t){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=n||null,this.state=t};function En(e,n,t,r){var a,i,o=e.doc,s=o.mode,l=$e(o,(n=pn(o,n)).line),u=yn(e,n.line,t),c=new Ze(l.text,e.options.tabSize,u);for(r&&(i=[]);(r||c.pos<n.ch)&&!c.eol();)c.start=c.pos,a=Vn(s,c,u.state),r&&i.push(new Cn(c,a,Ye(o.mode,u.state)));return r?i:new Cn(c,a,u.state)}function Dn(e,n){if(e)for(;;){var t=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;e=e.slice(0,t.index)+e.slice(t.index+t[0].length);var r=t[1]?"bgClass":"textClass";null==n[r]?n[r]=t[2]:new RegExp("(?:^|\\s)"+t[2]+"(?:$|\\s)").test(n[r])||(n[r]+=" "+t[2])}return e}function Fn(e,n,t,r,a,i,o){var s=t.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new Ze(n,e.options.tabSize,r),A=e.options.addModeClass&&[null];for(""==n&&Dn(bn(t,r.state),i);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&wn(e,n,r,d.pos),d.pos=n.length,l=null):l=Dn(Vn(t,d,r.state,A),i),A){var f=A[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<d.start;)a(u=Math.min(d.start,u+5e3),c);c=l}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e3);a(h,c),u=h}}function Tn(e,n,t){for(var r,a,i=e.doc,o=t?-1:n-(e.doc.mode.innerMode?1e3:100),s=n;s>o;--s){if(s<=i.first)return i.first;var l=$e(i,s-1),u=l.stateAfter;if(u&&(!t||s+(u instanceof gn?u.lookAhead:0)<=i.modeFrontier))return s;var c=U(l.text,null,e.options.tabSize);(null==a||r>c)&&(a=s-1,r=c)}return a}function Pn(e,n){if(e.modeFrontier=Math.min(e.modeFrontier,n),!(e.highlightFrontier<n-10)){for(var t=e.first,r=n-1;r>t;r--){var a=$e(e,r).stateAfter;if(a&&(!(a instanceof gn)||r+a.lookAhead<n)){t=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,t)}}var Rn=!1,Ln=!1;function Mn(){Rn=!0}function Bn(){Ln=!0}function kn(e,n,t){this.marker=e,this.from=n,this.to=t}function In(e,n){if(e)for(var t=0;t<e.length;++t){var r=e[t];if(r.marker==n)return r}}function On(e,n){for(var t,r=0;r<e.length;++r)e[r]!=n&&(t||(t=[])).push(e[r]);return t}function Nn(e,n,t){var r=t&&window.WeakSet&&(t.markedSpans||(t.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(n):(e.markedSpans=e.markedSpans?e.markedSpans.concat([n]):[n],r&&r.add(e.markedSpans)),n.marker.attachLine(e)}function jn(e,n,t){var r;if(e)for(var a=0;a<e.length;++a){var i=e[a],o=i.marker;if(null==i.from||(o.inclusiveLeft?i.from<=n:i.from<n)||i.from==n&&"bookmark"==o.type&&(!t||!i.marker.insertLeft)){var s=null==i.to||(o.inclusiveRight?i.to>=n:i.to>n);(r||(r=[])).push(new kn(o,i.from,s?null:i.to))}}return r}function Un(e,n,t){var r;if(e)for(var a=0;a<e.length;++a){var i=e[a],o=i.marker;if(null==i.to||(o.inclusiveRight?i.to>=n:i.to>n)||i.from==n&&"bookmark"==o.type&&(!t||i.marker.insertLeft)){var s=null==i.from||(o.inclusiveLeft?i.from<=n:i.from<n);(r||(r=[])).push(new kn(o,s?null:i.from-n,null==i.to?null:i.to-n))}}return r}function Gn(e,n){if(n.full)return null;var t=on(e,n.from.line)&&$e(e,n.from.line).markedSpans,r=on(e,n.to.line)&&$e(e,n.to.line).markedSpans;if(!t&&!r)return null;var a=n.from.ch,i=n.to.ch,o=0==un(n.from,n.to),s=jn(t,a,o),l=Un(r,i,o),u=1==n.text.length,c=Z(n.text).length+(u?a:0);if(s)for(var d=0;d<s.length;++d){var A=s[d];if(null==A.to){var f=In(l,A.marker);f?u&&(A.to=null==f.to?null:f.to+c):A.to=a}}if(l)for(var h=0;h<l.length;++h){var p=l[h];null!=p.to&&(p.to+=c),null==p.from?In(s,p.marker)||(p.from=c,u&&(s||(s=[])).push(p)):(p.from+=c,u&&(s||(s=[])).push(p))}s&&(s=zn(s)),l&&l!=s&&(l=zn(l));var m=[s];if(!u){var S,g=n.text.length-2;if(g>0&&s)for(var v=0;v<s.length;++v)null==s[v].to&&(S||(S=[])).push(new kn(s[v].marker,null,null));for(var x=0;x<g;++x)m.push(S);m.push(l)}return m}function zn(e){for(var n=0;n<e.length;++n){var t=e[n];null!=t.from&&t.from==t.to&&!1!==t.marker.clearWhenEmpty&&e.splice(n--,1)}return e.length?e:null}function Hn(e,n,t){var r=null;if(e.iter(n.line,t.line+1,(function(e){if(e.markedSpans)for(var n=0;n<e.markedSpans.length;++n){var t=e.markedSpans[n].marker;!t.readOnly||r&&-1!=z(r,t)||(r||(r=[])).push(t)}})),!r)return null;for(var a=[{from:n,to:t}],i=0;i<r.length;++i)for(var o=r[i],s=o.find(0),l=0;l<a.length;++l){var u=a[l];if(!(un(u.to,s.from)<0||un(u.from,s.to)>0)){var c=[l,1],d=un(u.from,s.from),A=un(u.to,s.to);(d<0||!o.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(A>0||!o.inclusiveRight&&!A)&&c.push({from:s.to,to:u.to}),a.splice.apply(a,c),l+=c.length-3}}return a}function Wn(e){var n=e.markedSpans;if(n){for(var t=0;t<n.length;++t)n[t].marker.detachLine(e);e.markedSpans=null}}function Xn(e,n){if(n){for(var t=0;t<n.length;++t)n[t].marker.attachLine(e);e.markedSpans=n}}function Kn(e){return e.inclusiveLeft?-1:0}function qn(e){return e.inclusiveRight?1:0}function Yn(e,n){var t=e.lines.length-n.lines.length;if(0!=t)return t;var r=e.find(),a=n.find(),i=un(r.from,a.from)||Kn(e)-Kn(n);if(i)return-i;var o=un(r.to,a.to)||qn(e)-qn(n);return o||n.id-e.id}function Qn(e,n){var t,r=Ln&&e.markedSpans;if(r)for(var a=void 0,i=0;i<r.length;++i)(a=r[i]).marker.collapsed&&null==(n?a.from:a.to)&&(!t||Yn(t,a.marker)<0)&&(t=a.marker);return t}function Jn(e){return Qn(e,!0)}function Zn(e){return Qn(e,!1)}function $n(e,n){var t,r=Ln&&e.markedSpans;if(r)for(var a=0;a<r.length;++a){var i=r[a];i.marker.collapsed&&(null==i.from||i.from<n)&&(null==i.to||i.to>n)&&(!t||Yn(t,i.marker)<0)&&(t=i.marker)}return t}function et(e,n,t,r,a){var i=$e(e,n),o=Ln&&i.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=un(u.from,t)||Kn(l.marker)-Kn(a),d=un(u.to,r)||qn(l.marker)-qn(a);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&a.inclusiveLeft?un(u.to,t)>=0:un(u.to,t)>0)||c>=0&&(l.marker.inclusiveRight&&a.inclusiveLeft?un(u.from,r)<=0:un(u.from,r)<0)))return!0}}}function nt(e){for(var n;n=Jn(e);)e=n.find(-1,!0).line;return e}function tt(e){for(var n;n=Zn(e);)e=n.find(1,!0).line;return e}function rt(e){for(var n,t;n=Zn(e);)e=n.find(1,!0).line,(t||(t=[])).push(e);return t}function at(e,n){var t=$e(e,n),r=nt(t);return t==r?n:rn(r)}function it(e,n){if(n>e.lastLine())return n;var t,r=$e(e,n);if(!ot(e,r))return n;for(;t=Zn(r);)r=t.find(1,!0).line;return rn(r)+1}function ot(e,n){var t=Ln&&n.markedSpans;if(t)for(var r=void 0,a=0;a<t.length;++a)if((r=t[a]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&st(e,n,r))return!0}}function st(e,n,t){if(null==t.to){var r=t.marker.find(1,!0);return st(e,r.line,In(r.line.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==n.text.length)return!0;for(var a=void 0,i=0;i<n.markedSpans.length;++i)if((a=n.markedSpans[i]).marker.collapsed&&!a.marker.widgetNode&&a.from==t.to&&(null==a.to||a.to!=t.from)&&(a.marker.inclusiveLeft||t.marker.inclusiveRight)&&st(e,n,a))return!0}function lt(e){for(var n=0,t=(e=nt(e)).parent,r=0;r<t.lines.length;++r){var a=t.lines[r];if(a==e)break;n+=a.height}for(var i=t.parent;i;i=(t=i).parent)for(var o=0;o<i.children.length;++o){var s=i.children[o];if(s==t)break;n+=s.height}return n}function ut(e){if(0==e.height)return 0;for(var n,t=e.text.length,r=e;n=Jn(r);){var a=n.find(0,!0);r=a.from.line,t+=a.from.ch-a.to.ch}for(r=e;n=Zn(r);){var i=n.find(0,!0);t-=r.text.length-i.from.ch,t+=(r=i.to.line).text.length-i.to.ch}return t}function ct(e){var n=e.display,t=e.doc;n.maxLine=$e(t,t.first),n.maxLineLength=ut(n.maxLine),n.maxLineChanged=!0,t.iter((function(e){var t=ut(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)}))}var dt=function(e,n,t){this.text=e,Xn(this,n),this.height=t?t(this):1};function At(e,n,t,r){e.text=n,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Wn(e),Xn(e,t);var a=r?r(e):1;a!=e.height&&tn(e,a)}function ft(e){e.parent=null,Wn(e)}dt.prototype.lineNo=function(){return rn(this)},be(dt);var ht={},pt={};function mt(e,n){if(!e||/^\s*$/.test(e))return null;var t=n.addModeClass?pt:ht;return t[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function St(e,n){var t=P("span",null,null,l?"padding-right: .1px":null),r={pre:P("pre",[t],"CodeMirror-line"),content:t,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};n.measure={};for(var a=0;a<=(n.rest?n.rest.length:0);a++){var i=a?n.rest[a-1]:n.line,o=void 0;r.pos=0,r.addToken=vt,Be(e.display.measure)&&(o=pe(i,e.doc.direction))&&(r.addToken=_t(r.addToken,o)),r.map=[],wt(i,r,_n(e,i,n!=e.display.externalMeasured&&rn(i))),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=B(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=B(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Me(e.display.measure))),0==a?(n.measure.map=r.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(r.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(l){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return xe(e,"renderLine",e,n.line,r.pre),r.pre.className&&(r.textClass=B(r.pre.className,r.textClass||"")),r}function gt(e){var n=T("span","\u2022","cm-invalidchar");return n.title="\\u"+e.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function vt(e,n,t,r,a,i,l){if(n){var u,c=e.splitSpaces?xt(n,e.trailingSpace):n,d=e.cm.state.specialChars,A=!1;if(d.test(n)){u=document.createDocumentFragment();for(var f=0;;){d.lastIndex=f;var h=d.exec(n),p=h?h.index-f:n.length-f;if(p){var m=document.createTextNode(c.slice(f,f+p));o&&s<9?u.appendChild(T("span",[m])):u.appendChild(m),e.map.push(e.pos,e.pos+p,m),e.col+=p,e.pos+=p}if(!h)break;f+=p+1;var S=void 0;if("\t"==h[0]){var g=e.cm.options.tabSize,v=g-e.col%g;(S=u.appendChild(T("span",J(v),"cm-tab"))).setAttribute("role","presentation"),S.setAttribute("cm-text","\t"),e.col+=v}else"\r"==h[0]||"\n"==h[0]?((S=u.appendChild(T("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((S=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),o&&s<9?u.appendChild(T("span",[S])):u.appendChild(S),e.col+=1);e.map.push(e.pos,e.pos+1,S),e.pos++}}else e.col+=n.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+n.length,u),o&&s<9&&(A=!0),e.pos+=n.length;if(e.trailingSpace=32==c.charCodeAt(n.length-1),t||r||a||A||i||l){var x=t||"";r&&(x+=r),a&&(x+=a);var _=T("span",[u],x,i);if(l)for(var y in l)l.hasOwnProperty(y)&&"style"!=y&&"class"!=y&&_.setAttribute(y,l[y]);return e.content.appendChild(_)}e.content.appendChild(u)}}function xt(e,n){if(e.length>1&&!/  /.test(e))return e;for(var t=n,r="",a=0;a<e.length;a++){var i=e.charAt(a);" "!=i||!t||a!=e.length-1&&32!=e.charCodeAt(a+1)||(i="\xa0"),r+=i,t=" "==i}return r}function _t(e,n){return function(t,r,a,i,o,s,l){a=a?a+" cm-force-border":"cm-force-border";for(var u=t.pos,c=u+r.length;;){for(var d=void 0,A=0;A<n.length&&!((d=n[A]).to>u&&d.from<=u);A++);if(d.to>=c)return e(t,r,a,i,o,s,l);e(t,r.slice(0,d.to-u),a,i,null,s,l),i=null,r=r.slice(d.to-u),u=d.to}}}function yt(e,n,t,r){var a=!r&&t.widgetNode;a&&e.map.push(e.pos,e.pos+n,a),!r&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",t.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=n,e.trailingSpace=!1}function wt(e,n,t){var r=e.markedSpans,a=e.text,i=0;if(r)for(var o,s,l,u,c,d,A,f=a.length,h=0,p=1,m="",S=0;;){if(S==h){l=u=c=s="",A=null,d=null,S=1/0;for(var g=[],v=void 0,x=0;x<r.length;++x){var _=r[x],y=_.marker;if("bookmark"==y.type&&_.from==h&&y.widgetNode)g.push(y);else if(_.from<=h&&(null==_.to||_.to>h||y.collapsed&&_.to==h&&_.from==h)){if(null!=_.to&&_.to!=h&&S>_.to&&(S=_.to,u=""),y.className&&(l+=" "+y.className),y.css&&(s=(s?s+";":"")+y.css),y.startStyle&&_.from==h&&(c+=" "+y.startStyle),y.endStyle&&_.to==S&&(v||(v=[])).push(y.endStyle,_.to),y.title&&((A||(A={})).title=y.title),y.attributes)for(var w in y.attributes)(A||(A={}))[w]=y.attributes[w];y.collapsed&&(!d||Yn(d.marker,y)<0)&&(d=_)}else _.from>h&&S>_.from&&(S=_.from)}if(v)for(var b=0;b<v.length;b+=2)v[b+1]==S&&(u+=" "+v[b]);if(!d||d.from==h)for(var V=0;V<g.length;++V)yt(n,0,g[V]);if(d&&(d.from||0)==h){if(yt(n,(null==d.to?f+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=f)break;for(var C=Math.min(f,S);;){if(m){var E=h+m.length;if(!d){var D=E>C?m.slice(0,C-h):m;n.addToken(n,D,o?o+l:l,c,h+D.length==S?u:"",s,A)}if(E>=C){m=m.slice(C-h),h=C;break}h=E,c=""}m=a.slice(i,i=t[p++]),o=mt(t[p++],n.cm.options)}}else for(var F=1;F<t.length;F+=2)n.addToken(n,a.slice(i,i=t[F]),mt(t[F+1],n.cm.options))}function bt(e,n,t){this.line=n,this.rest=rt(n),this.size=this.rest?rn(Z(this.rest))-t+1:1,this.node=this.text=null,this.hidden=ot(e,n)}function Vt(e,n,t){for(var r,a=[],i=n;i<t;i=r){var o=new bt(e.doc,$e(e.doc,i),i);r=i+o.size,a.push(o)}return a}var Ct=null;function Et(e){Ct?Ct.ops.push(e):e.ownsGroup=Ct={ops:[e],delayedCallbacks:[]}}function Dt(e){var n=e.delayedCallbacks,t=0;do{for(;t<n.length;t++)n[t].call(null);for(var r=0;r<e.ops.length;r++){var a=e.ops[r];if(a.cursorActivityHandlers)for(;a.cursorActivityCalled<a.cursorActivityHandlers.length;)a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}while(t<n.length)}function Ft(e,n){var t=e.ownsGroup;if(t)try{Dt(t)}finally{Ct=null,n(t)}}var Tt=null;function Pt(e,n){var t=ge(e,n);if(t.length){var r,a=Array.prototype.slice.call(arguments,2);Ct?r=Ct.delayedCallbacks:Tt?r=Tt:(r=Tt=[],setTimeout(Rt,0));for(var i=function(e){r.push((function(){return t[e].apply(null,a)}))},o=0;o<t.length;++o)i(o)}}function Rt(){var e=Tt;Tt=null;for(var n=0;n<e.length;++n)e[n]()}function Lt(e,n,t,r){for(var a=0;a<n.changes.length;a++){var i=n.changes[a];"text"==i?It(e,n):"gutter"==i?Nt(e,n,t,r):"class"==i?Ot(e,n):"widget"==i&&jt(e,n,r)}n.changes=null}function Mt(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),o&&s<8&&(e.node.style.zIndex=2)),e.node}function Bt(e,n){var t=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),n.background)t?n.background.className=t:(n.background.parentNode.removeChild(n.background),n.background=null);else if(t){var r=Mt(n);n.background=r.insertBefore(T("div",null,t),r.firstChild),e.display.input.setUneditable(n.background)}}function kt(e,n){var t=e.display.externalMeasured;return t&&t.line==n.line?(e.display.externalMeasured=null,n.measure=t.measure,t.built):St(e,n)}function It(e,n){var t=n.text.className,r=kt(e,n);n.text==n.node&&(n.node=r.pre),n.text.parentNode.replaceChild(r.pre,n.text),n.text=r.pre,r.bgClass!=n.bgClass||r.textClass!=n.textClass?(n.bgClass=r.bgClass,n.textClass=r.textClass,Ot(e,n)):t&&(n.text.className=t)}function Ot(e,n){Bt(e,n),n.line.wrapClass?Mt(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var t=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=t||""}function Nt(e,n,t,r){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var a=Mt(n);n.gutterBackground=T("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(n.gutterBackground),a.insertBefore(n.gutterBackground,n.text)}var i=n.line.gutterMarkers;if(e.options.lineNumbers||i){var o=Mt(n),s=n.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),o.insertBefore(s,n.text),n.line.gutterClass&&(s.className+=" "+n.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(n.lineNumber=s.appendChild(T("div",sn(e.options,t),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=i.hasOwnProperty(u)&&i[u];c&&s.appendChild(T("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function jt(e,n,t){n.alignable&&(n.alignable=null);for(var r=V("CodeMirror-linewidget"),a=n.node.firstChild,i=void 0;a;a=i)i=a.nextSibling,r.test(a.className)&&n.node.removeChild(a);Gt(e,n,t)}function Ut(e,n,t,r){var a=kt(e,n);return n.text=n.node=a.pre,a.bgClass&&(n.bgClass=a.bgClass),a.textClass&&(n.textClass=a.textClass),Ot(e,n),Nt(e,n,t,r),Gt(e,n,r),n.node}function Gt(e,n,t){if(zt(e,n.line,n,t,!0),n.rest)for(var r=0;r<n.rest.length;r++)zt(e,n.rest[r],n,t,!1)}function zt(e,n,t,r,a){if(n.widgets)for(var i=Mt(t),o=0,s=n.widgets;o<s.length;++o){var l=s[o],u=T("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Ht(l,u,t,r),e.display.input.setUneditable(u),a&&l.above?i.insertBefore(u,t.gutter||t.text):i.appendChild(u),Pt(l,"redraw")}}function Ht(e,n,t,r){if(e.noHScroll){(t.alignable||(t.alignable=[])).push(n);var a=r.wrapperWidth;n.style.left=r.fixedPos+"px",e.coverGutter||(a-=r.gutterTotalWidth,n.style.paddingLeft=r.gutterTotalWidth+"px"),n.style.width=a+"px"}e.coverGutter&&(n.style.zIndex=5,n.style.position="relative",e.noHScroll||(n.style.marginLeft=-r.gutterTotalWidth+"px"))}function Wt(e){if(null!=e.height)return e.height;var n=e.doc.cm;if(!n)return 0;if(!R(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),e.noHScroll&&(t+="width: "+n.display.wrapper.clientWidth+"px;"),F(n.display.measure,T("div",[e.node],null,t))}return e.height=e.node.parentNode.offsetHeight}function Xt(e,n){for(var t=Fe(n);t!=e.wrapper;t=t.parentNode)if(!t||1==t.nodeType&&"true"==t.getAttribute("cm-ignore-events")||t.parentNode==e.sizer&&t!=e.mover)return!0}function Kt(e){return e.lineSpace.offsetTop}function qt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Yt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var n=F(e.measure,T("pre","x","CodeMirror-line-like")),t=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,r={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Qt(e){return H-e.display.nativeBarWidth}function Jt(e){return e.display.scroller.clientWidth-Qt(e)-e.display.barWidth}function Zt(e){return e.display.scroller.clientHeight-Qt(e)-e.display.barHeight}function $t(e,n,t){var r=e.options.lineWrapping,a=r&&Jt(e);if(!n.measure.heights||r&&n.measure.width!=a){var i=n.measure.heights=[];if(r){n.measure.width=a;for(var o=n.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&i.push((l.bottom+u.top)/2-t.top)}}i.push(t.bottom-t.top)}}function er(e,n,t){if(e.line==n)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==n)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var a=0;a<e.rest.length;a++)if(rn(e.rest[a])>t)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}}function nr(e,n){var t=rn(n=nt(n)),r=e.display.externalMeasured=new bt(e.doc,n,t);r.lineN=t;var a=r.built=St(e,r);return r.text=a.pre,F(e.display.lineMeasure,a.pre),r}function tr(e,n,t,r){return ir(e,ar(e,n),t,r)}function rr(e,n){if(n>=e.display.viewFrom&&n<e.display.viewTo)return e.display.view[Or(e,n)];var t=e.display.externalMeasured;return t&&n>=t.lineN&&n<t.lineN+t.size?t:void 0}function ar(e,n){var t=rn(n),r=rr(e,t);r&&!r.text?r=null:r&&r.changes&&(Lt(e,r,t,Lr(e)),e.curOp.forceUpdate=!0),r||(r=nr(e,n));var a=er(r,n,t);return{line:n,view:r,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function ir(e,n,t,r,a){n.before&&(t=-1);var i,o=t+(r||"");return n.cache.hasOwnProperty(o)?i=n.cache[o]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||($t(e,n.view,n.rect),n.hasHeights=!0),(i=cr(e,n,t,r)).bogus||(n.cache[o]=i)),{left:i.left,right:i.right,top:a?i.rtop:i.top,bottom:a?i.rbottom:i.bottom}}var or,sr={left:0,right:0,top:0,bottom:0};function lr(e,n,t){for(var r,a,i,o,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],n<s?(a=0,i=1,o="left"):n<l?i=1+(a=n-s):(u==e.length-3||n==l&&e[u+3]>n)&&(a=(i=l-s)-1,n>=l&&(o="right")),null!=a){if(r=e[u+2],s==l&&t==(r.insertLeft?"left":"right")&&(o=t),"left"==t&&0==a)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],o="left";if("right"==t&&a==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],o="right";break}return{node:r,start:a,end:i,collapse:o,coverStart:s,coverEnd:l}}function ur(e,n){var t=sr;if("left"==n)for(var r=0;r<e.length&&(t=e[r]).left==t.right;r++);else for(var a=e.length-1;a>=0&&(t=e[a]).left==t.right;a--);return t}function cr(e,n,t,r){var a,i=lr(n.map,t,r),l=i.node,u=i.start,c=i.end,d=i.collapse;if(3==l.nodeType){for(var A=0;A<4;A++){for(;u&&le(n.line.text.charAt(i.coverStart+u));)--u;for(;i.coverStart+c<i.coverEnd&&le(n.line.text.charAt(i.coverStart+c));)++c;if((a=o&&s<9&&0==u&&c==i.coverEnd-i.coverStart?l.parentNode.getBoundingClientRect():ur(C(l,u,c).getClientRects(),r)).left||a.right||0==u)break;c=u,u-=1,d="right"}o&&s<11&&(a=dr(e.display.measure,a))}else{var f;u>0&&(d=r="right"),a=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(o&&s<9&&!u&&(!a||!a.left&&!a.right)){var h=l.parentNode.getClientRects()[0];a=h?{left:h.left,right:h.left+Rr(e.display),top:h.top,bottom:h.bottom}:sr}for(var p=a.top-n.rect.top,m=a.bottom-n.rect.top,S=(p+m)/2,g=n.view.measure.heights,v=0;v<g.length-1&&!(S<g[v]);v++);var x=v?g[v-1]:0,_=g[v],y={left:("right"==d?a.right:a.left)-n.rect.left,right:("left"==d?a.left:a.right)-n.rect.left,top:x,bottom:_};return a.left||a.right||(y.bogus=!0),e.options.singleCursorHeightPerLine||(y.rtop=p,y.rbottom=m),y}function dr(e,n){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!je(e))return n;var t=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*t,right:n.right*t,top:n.top*r,bottom:n.bottom*r}}function Ar(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var n=0;n<e.rest.length;n++)e.measure.caches[n]={}}function fr(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Ar(e.display.view[n])}function hr(e){fr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pr(e){return c&&S?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function mr(e){return c&&S?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function Sr(e){var n=nt(e).widgets,t=0;if(n)for(var r=0;r<n.length;++r)n[r].above&&(t+=Wt(n[r]));return t}function gr(e,n,t,r,a){if(!a){var i=Sr(n);t.top+=i,t.bottom+=i}if("line"==r)return t;r||(r="local");var o=lt(n);if("local"==r?o+=Kt(e.display):o-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==r?0:mr(I(e)));var l=s.left+("window"==r?0:pr(I(e)));t.left+=l,t.right+=l}return t.top+=o,t.bottom+=o,t}function vr(e,n,t){if("div"==t)return n;var r=n.left,a=n.top;if("page"==t)r-=pr(I(e)),a-=mr(I(e));else if("local"==t||!t){var i=e.display.sizer.getBoundingClientRect();r+=i.left,a+=i.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:a-o.top}}function xr(e,n,t,r,a){return r||(r=$e(e.doc,n.line)),gr(e,r,tr(e,r,n.ch,a),t)}function _r(e,n,t,r,a,i){function o(n,o){var s=ir(e,a,n,o?"right":"left",i);return o?s.left=s.right:s.right=s.left,gr(e,r,s,t)}r=r||$e(e.doc,n.line),a||(a=ar(e,r));var s=pe(r,e.doc.direction),l=n.ch,u=n.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return o("before"==u?l-1:l,"before"==u);function c(e,n,t){return o(t?e-1:e,1==s[n].level!=t)}var d=fe(s,l,u),A=Ae,f=c(l,d,"before"==u);return null!=A&&(f.other=c(l,A,"before"!=u)),f}function yr(e,n){var t=0;n=pn(e.doc,n),e.options.lineWrapping||(t=Rr(e.display)*n.ch);var r=$e(e.doc,n.line),a=lt(r)+Kt(e.display);return{left:t,right:t,top:a,bottom:a+r.height}}function wr(e,n,t,r,a){var i=ln(e,n,t);return i.xRel=a,r&&(i.outside=r),i}function br(e,n,t){var r=e.doc;if((t+=e.display.viewOffset)<0)return wr(r.first,0,null,-1,-1);var a=an(r,t),i=r.first+r.size-1;if(a>i)return wr(r.first+r.size-1,$e(r,i).text.length,null,1,1);n<0&&(n=0);for(var o=$e(r,a);;){var s=Dr(e,o,a,n,t),l=$n(o,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==a)return u;o=$e(r,a=u.line)}}function Vr(e,n,t,r){r-=Sr(n);var a=n.text.length,i=ce((function(n){return ir(e,t,n-1).bottom<=r}),a,0);return{begin:i,end:a=ce((function(n){return ir(e,t,n).top>r}),i,a)}}function Cr(e,n,t,r){return t||(t=ar(e,n)),Vr(e,n,t,gr(e,n,ir(e,t,r),"line").top)}function Er(e,n,t,r){return!(e.bottom<=t)&&(e.top>t||(r?e.left:e.right)>n)}function Dr(e,n,t,r,a){a-=lt(n);var i=ar(e,n),o=Sr(n),s=0,l=n.text.length,u=!0,c=pe(n,e.doc.direction);if(c){var d=(e.options.lineWrapping?Tr:Fr)(e,n,t,i,c,r,a);s=(u=1!=d.level)?d.from:d.to-1,l=u?d.to:d.from-1}var A,f,h=null,p=null,m=ce((function(n){var t=ir(e,i,n);return t.top+=o,t.bottom+=o,!!Er(t,r,a,!1)&&(t.top<=a&&t.left<=r&&(h=n,p=t),!0)}),s,l),S=!1;if(p){var g=r-p.left<p.right-r,v=g==u;m=h+(v?0:1),f=v?"after":"before",A=g?p.left:p.right}else{u||m!=l&&m!=s||m++,f=0==m?"after":m==n.text.length?"before":ir(e,i,m-(u?1:0)).bottom+o<=a==u?"after":"before";var x=_r(e,ln(t,m,f),"line",n,i);A=x.left,S=a<x.top?-1:a>=x.bottom?1:0}return wr(t,m=ue(n.text,m,1),f,S,r-A)}function Fr(e,n,t,r,a,i,o){var s=ce((function(s){var l=a[s],u=1!=l.level;return Er(_r(e,ln(t,u?l.to:l.from,u?"before":"after"),"line",n,r),i,o,!0)}),0,a.length-1),l=a[s];if(s>0){var u=1!=l.level,c=_r(e,ln(t,u?l.from:l.to,u?"after":"before"),"line",n,r);Er(c,i,o,!0)&&c.top>o&&(l=a[s-1])}return l}function Tr(e,n,t,r,a,i,o){var s=Vr(e,n,r,o),l=s.begin,u=s.end;/\s/.test(n.text.charAt(u-1))&&u--;for(var c=null,d=null,A=0;A<a.length;A++){var f=a[A];if(!(f.from>=u||f.to<=l)){var h=ir(e,r,1!=f.level?Math.min(u,f.to)-1:Math.max(l,f.from)).right,p=h<i?i-h+1e9:h-i;(!c||d>p)&&(c=f,d=p)}}return c||(c=a[a.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Pr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==or){or=T("pre",null,"CodeMirror-line-like");for(var n=0;n<49;++n)or.appendChild(document.createTextNode("x")),or.appendChild(T("br"));or.appendChild(document.createTextNode("x"))}F(e.measure,or);var t=or.offsetHeight/50;return t>3&&(e.cachedTextHeight=t),D(e.measure),t||1}function Rr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var n=T("span","xxxxxxxxxx"),t=T("pre",[n],"CodeMirror-line-like");F(e.measure,t);var r=n.getBoundingClientRect(),a=(r.right-r.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function Lr(e){for(var n=e.display,t={},r={},a=n.gutters.clientLeft,i=n.gutters.firstChild,o=0;i;i=i.nextSibling,++o){var s=e.display.gutterSpecs[o].className;t[s]=i.offsetLeft+i.clientLeft+a,r[s]=i.clientWidth}return{fixedPos:Mr(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:t,gutterWidth:r,wrapperWidth:n.wrapper.clientWidth}}function Mr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Br(e){var n=Pr(e.display),t=e.options.lineWrapping,r=t&&Math.max(5,e.display.scroller.clientWidth/Rr(e.display)-3);return function(a){if(ot(e.doc,a))return 0;var i=0;if(a.widgets)for(var o=0;o<a.widgets.length;o++)a.widgets[o].height&&(i+=a.widgets[o].height);return t?i+(Math.ceil(a.text.length/r)||1)*n:i+n}}function kr(e){var n=e.doc,t=Br(e);n.iter((function(e){var n=t(e);n!=e.height&&tn(e,n)}))}function Ir(e,n,t,r){var a=e.display;if(!t&&"true"==Fe(n).getAttribute("cm-not-content"))return null;var i,o,s=a.lineSpace.getBoundingClientRect();try{i=n.clientX-s.left,o=n.clientY-s.top}catch(d){return null}var l,u=br(e,i,o);if(r&&u.xRel>0&&(l=$e(e.doc,u.line).text).length==u.ch){var c=U(l,l.length,e.options.tabSize)-l.length;u=ln(u.line,Math.max(0,Math.round((i-Yt(e.display).left)/Rr(e.display))-c))}return u}function Or(e,n){if(n>=e.display.viewTo)return null;if((n-=e.display.viewFrom)<0)return null;for(var t=e.display.view,r=0;r<t.length;r++)if((n-=t[r].size)<0)return r}function Nr(e,n,t,r){null==n&&(n=e.doc.first),null==t&&(t=e.doc.first+e.doc.size),r||(r=0);var a=e.display;if(r&&t<a.viewTo&&(null==a.updateLineNumbers||a.updateLineNumbers>n)&&(a.updateLineNumbers=n),e.curOp.viewChanged=!0,n>=a.viewTo)Ln&&at(e.doc,n)<a.viewTo&&Ur(e);else if(t<=a.viewFrom)Ln&&it(e.doc,t+r)>a.viewFrom?Ur(e):(a.viewFrom+=r,a.viewTo+=r);else if(n<=a.viewFrom&&t>=a.viewTo)Ur(e);else if(n<=a.viewFrom){var i=Gr(e,t,t+r,1);i?(a.view=a.view.slice(i.index),a.viewFrom=i.lineN,a.viewTo+=r):Ur(e)}else if(t>=a.viewTo){var o=Gr(e,n,n,-1);o?(a.view=a.view.slice(0,o.index),a.viewTo=o.lineN):Ur(e)}else{var s=Gr(e,n,n,-1),l=Gr(e,t,t+r,1);s&&l?(a.view=a.view.slice(0,s.index).concat(Vt(e,s.lineN,l.lineN)).concat(a.view.slice(l.index)),a.viewTo+=r):Ur(e)}var u=a.externalMeasured;u&&(t<u.lineN?u.lineN+=r:n<u.lineN+u.size&&(a.externalMeasured=null))}function jr(e,n,t){e.curOp.viewChanged=!0;var r=e.display,a=e.display.externalMeasured;if(a&&n>=a.lineN&&n<a.lineN+a.size&&(r.externalMeasured=null),!(n<r.viewFrom||n>=r.viewTo)){var i=r.view[Or(e,n)];if(null!=i.node){var o=i.changes||(i.changes=[]);-1==z(o,t)&&o.push(t)}}}function Ur(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Gr(e,n,t,r){var a,i=Or(e,n),o=e.display.view;if(!Ln||t==e.doc.first+e.doc.size)return{index:i,lineN:t};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=o[l].size;if(s!=n){if(r>0){if(i==o.length-1)return null;a=s+o[i].size-n,i++}else a=s-n;n+=a,t+=a}for(;at(e.doc,t)!=t;){if(i==(r<0?0:o.length-1))return null;t+=r*o[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:t}}function zr(e,n,t){var r=e.display;0==r.view.length||n>=r.viewTo||t<=r.viewFrom?(r.view=Vt(e,n,t),r.viewFrom=n):(r.viewFrom>n?r.view=Vt(e,n,r.viewFrom).concat(r.view):r.viewFrom<n&&(r.view=r.view.slice(Or(e,n))),r.viewFrom=n,r.viewTo<t?r.view=r.view.concat(Vt(e,r.viewTo,t)):r.viewTo>t&&(r.view=r.view.slice(0,Or(e,t)))),r.viewTo=t}function Hr(e){for(var n=e.display.view,t=0,r=0;r<n.length;r++){var a=n[r];a.hidden||a.node&&!a.changes||++t}return t}function Wr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Xr(e,n){void 0===n&&(n=!0);var t=e.doc,r={},a=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),o=e.options.$customCursor;o&&(n=!0);for(var s=0;s<t.sel.ranges.length;s++)if(n||s!=t.sel.primIndex){var l=t.sel.ranges[s];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var u=l.empty();if(o){var c=o(e,l);c&&Kr(e,c,a)}else(u||e.options.showCursorWhenSelecting)&&Kr(e,l.head,a);u||Yr(e,l,i)}}return r}function Kr(e,n,t){var r=_r(e,n,"div",null,null,!e.options.singleCursorHeightPerLine),a=t.appendChild(T("div","\xa0","CodeMirror-cursor"));if(a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var i=xr(e,n,"div",null,null),o=i.right-i.left;a.style.width=(o>0?o:e.defaultCharWidth())+"px"}if(r.other){var s=t.appendChild(T("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function qr(e,n){return e.top-n.top||e.left-n.left}function Yr(e,n,t){var r=e.display,a=e.doc,i=document.createDocumentFragment(),o=Yt(e.display),s=o.left,l=Math.max(r.sizerWidth,Jt(e)-r.sizer.offsetLeft)-o.right,u="ltr"==a.direction;function c(e,n,t,r){n<0&&(n=0),n=Math.round(n),r=Math.round(r),i.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+n+"px; width: "+(null==t?l-e:t)+"px;\n                             height: "+(r-n)+"px"))}function d(n,t,r){var i,o,d=$e(a,n),A=d.text.length;function f(t,r){return xr(e,ln(n,t),"div",d,r)}function h(n,t,r){var a=Cr(e,d,null,n),i="ltr"==t==("after"==r)?"left":"right";return f("after"==r?a.begin:a.end-(/\s/.test(d.text.charAt(a.end-1))?2:1),i)[i]}var p=pe(d,a.direction);return de(p,t||0,null==r?A:r,(function(e,n,a,d){var m="ltr"==a,S=f(e,m?"left":"right"),g=f(n-1,m?"right":"left"),v=null==t&&0==e,x=null==r&&n==A,_=0==d,y=!p||d==p.length-1;if(g.top-S.top<=3){var w=(u?x:v)&&y,b=(u?v:x)&&_?s:(m?S:g).left,V=w?l:(m?g:S).right;c(b,S.top,V-b,S.bottom)}else{var C,E,D,F;m?(C=u&&v&&_?s:S.left,E=u?l:h(e,a,"before"),D=u?s:h(n,a,"after"),F=u&&x&&y?l:g.right):(C=u?h(e,a,"before"):s,E=!u&&v&&_?l:S.right,D=!u&&x&&y?s:g.left,F=u?h(n,a,"after"):l),c(C,S.top,E-C,S.bottom),S.bottom<g.top&&c(s,S.bottom,null,g.top),c(D,g.top,F-D,g.bottom)}(!i||qr(S,i)<0)&&(i=S),qr(g,i)<0&&(i=g),(!o||qr(S,o)<0)&&(o=S),qr(g,o)<0&&(o=g)})),{start:i,end:o}}var A=n.from(),f=n.to();if(A.line==f.line)d(A.line,A.ch,f.ch);else{var h=$e(a,A.line),p=$e(a,f.line),m=nt(h)==nt(p),S=d(A.line,A.ch,m?h.text.length+1:null).end,g=d(f.line,m?0:null,f.ch).start;m&&(S.top<g.top-2?(c(S.right,S.top,null,S.bottom),c(s,g.top,g.left,g.bottom)):c(S.right,S.top,g.left-S.right,S.bottom)),S.bottom<g.top&&c(s,S.bottom,null,g.top)}t.appendChild(i)}function Qr(e){if(e.state.focused){var n=e.display;clearInterval(n.blinker);var t=!0;n.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?n.blinker=setInterval((function(){e.hasFocus()||ea(e),n.cursorDiv.style.visibility=(t=!t)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function Jr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||$r(e))}function Zr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&ea(e))}),100)}function $r(e,n){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(xe(e,"focus",e,n),e.state.focused=!0,M(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Qr(e))}function ea(e,n){e.state.delayingBlurEvent||(e.state.focused&&(xe(e,"blur",e,n),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function na(e){for(var n=e.display,t=n.lineDiv.offsetTop,r=Math.max(0,n.scroller.getBoundingClientRect().top),a=n.lineDiv.getBoundingClientRect().top,i=0,l=0;l<n.view.length;l++){var u=n.view[l],c=e.options.lineWrapping,d=void 0,A=0;if(!u.hidden){if(a+=u.line.height,o&&s<8){var f=u.node.offsetTop+u.node.offsetHeight;d=f-t,t=f}else{var h=u.node.getBoundingClientRect();d=h.bottom-h.top,!c&&u.text.firstChild&&(A=u.text.firstChild.getBoundingClientRect().right-h.left-1)}var p=u.line.height-d;if((p>.005||p<-.005)&&(a<r&&(i-=p),tn(u.line,d),ta(u.line),u.rest))for(var m=0;m<u.rest.length;m++)ta(u.rest[m]);if(A>e.display.sizerWidth){var S=Math.ceil(A/Rr(e.display));S>e.display.maxLineLength&&(e.display.maxLineLength=S,e.display.maxLine=u.line,e.display.maxLineChanged=!0)}}}Math.abs(i)>2&&(n.scroller.scrollTop+=i)}function ta(e){if(e.widgets)for(var n=0;n<e.widgets.length;++n){var t=e.widgets[n],r=t.node.parentNode;r&&(t.height=r.offsetHeight)}}function ra(e,n,t){var r=t&&null!=t.top?Math.max(0,t.top):e.scroller.scrollTop;r=Math.floor(r-Kt(e));var a=t&&null!=t.bottom?t.bottom:r+e.wrapper.clientHeight,i=an(n,r),o=an(n,a);if(t&&t.ensure){var s=t.ensure.from.line,l=t.ensure.to.line;s<i?(i=s,o=an(n,lt($e(n,s))+e.wrapper.clientHeight)):Math.min(l,n.lastLine())>=o&&(i=an(n,lt($e(n,l))-e.wrapper.clientHeight),o=l)}return{from:i,to:Math.max(o,i+1)}}function aa(e,n){if(!_e(e,"scrollCursorIntoView")){var t=e.display,r=t.sizer.getBoundingClientRect(),a=null,i=t.wrapper.ownerDocument;if(n.top+r.top<0?a=!0:n.bottom+r.top>(i.defaultView.innerHeight||i.documentElement.clientHeight)&&(a=!1),null!=a&&!p){var o=T("div","\u200b",null,"position: absolute;\n                         top: "+(n.top-t.viewOffset-Kt(e.display))+"px;\n                         height: "+(n.bottom-n.top+Qt(e)+t.barHeight)+"px;\n                         left: "+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(a),e.display.lineSpace.removeChild(o)}}}function ia(e,n,t,r){var a;null==r&&(r=0),e.options.lineWrapping||n!=t||(t="before"==n.sticky?ln(n.line,n.ch+1,"before"):n,n=n.ch?ln(n.line,"before"==n.sticky?n.ch-1:n.ch,"after"):n);for(var i=0;i<5;i++){var o=!1,s=_r(e,n),l=t&&t!=n?_r(e,t):s,u=sa(e,a={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(ha(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=u.scrollLeft&&(ma(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(o=!0)),!o)break}return a}function oa(e,n){var t=sa(e,n);null!=t.scrollTop&&ha(e,t.scrollTop),null!=t.scrollLeft&&ma(e,t.scrollLeft)}function sa(e,n){var t=e.display,r=Pr(e.display);n.top<0&&(n.top=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:t.scroller.scrollTop,i=Zt(e),o={};n.bottom-n.top>i&&(n.bottom=n.top+i);var s=e.doc.height+qt(t),l=n.top<r,u=n.bottom>s-r;if(n.top<a)o.scrollTop=l?0:n.top;else if(n.bottom>a+i){var c=Math.min(n.top,(u?s:n.bottom)-i);c!=a&&(o.scrollTop=c)}var d=e.options.fixedGutter?0:t.gutters.offsetWidth,A=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:t.scroller.scrollLeft-d,f=Jt(e)-t.gutters.offsetWidth,h=n.right-n.left>f;return h&&(n.right=n.left+f),n.left<10?o.scrollLeft=0:n.left<A?o.scrollLeft=Math.max(0,n.left+d-(h?0:10)):n.right>f+A-3&&(o.scrollLeft=n.right+(h?0:10)-f),o}function la(e,n){null!=n&&(Aa(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function ua(e){Aa(e);var n=e.getCursor();e.curOp.scrollToPos={from:n,to:n,margin:e.options.cursorScrollMargin}}function ca(e,n,t){null==n&&null==t||Aa(e),null!=n&&(e.curOp.scrollLeft=n),null!=t&&(e.curOp.scrollTop=t)}function da(e,n){Aa(e),e.curOp.scrollToPos=n}function Aa(e){var n=e.curOp.scrollToPos;n&&(e.curOp.scrollToPos=null,fa(e,yr(e,n.from),yr(e,n.to),n.margin))}function fa(e,n,t,r){var a=sa(e,{left:Math.min(n.left,t.left),top:Math.min(n.top,t.top)-r,right:Math.max(n.right,t.right),bottom:Math.max(n.bottom,t.bottom)+r});ca(e,a.scrollLeft,a.scrollTop)}function ha(e,n){Math.abs(e.doc.scrollTop-n)<2||(t||Wa(e,{top:n}),pa(e,n,!0),t&&Wa(e),Ia(e,100))}function pa(e,n,t){n=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,n)),(e.display.scroller.scrollTop!=n||t)&&(e.doc.scrollTop=n,e.display.scrollbars.setScrollTop(n),e.display.scroller.scrollTop!=n&&(e.display.scroller.scrollTop=n))}function ma(e,n,t,r){n=Math.max(0,Math.min(n,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(t?n==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-n)<2)&&!r||(e.doc.scrollLeft=n,Ya(e),e.display.scroller.scrollLeft!=n&&(e.display.scroller.scrollLeft=n),e.display.scrollbars.setScrollLeft(n))}function Sa(e){var n=e.display,t=n.gutters.offsetWidth,r=Math.round(e.doc.height+qt(e.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:e.options.fixedGutter?t:0,docHeight:r,scrollHeight:r+Qt(e)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:t}}var ga=function(e,n,t){this.cm=t;var r=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=a.tabIndex=-1,e(r),e(a),Se(r,"scroll",(function(){r.clientHeight&&n(r.scrollTop,"vertical")})),Se(a,"scroll",(function(){a.clientWidth&&n(a.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,o&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ga.prototype.update=function(e){var n=e.scrollWidth>e.clientWidth+1,t=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(t){this.vert.style.display="block",this.vert.style.bottom=n?r+"px":"0";var a=e.viewHeight-(n?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+a)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(n){this.horiz.style.display="block",this.horiz.style.right=t?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(t?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:t?r:0,bottom:n?r:0}},ga.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ga.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ga.prototype.zeroWidthHack=function(){var e=v&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new G,this.disableVert=new G},ga.prototype.enableZeroWidthBar=function(e,n,t){function r(){var a=e.getBoundingClientRect();("vert"==t?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1))!=e?e.style.visibility="hidden":n.set(1e3,r)}e.style.visibility="",n.set(1e3,r)},ga.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var va=function(){};function xa(e,n){n||(n=Sa(e));var t=e.display.barWidth,r=e.display.barHeight;_a(e,n);for(var a=0;a<4&&t!=e.display.barWidth||r!=e.display.barHeight;a++)t!=e.display.barWidth&&e.options.lineWrapping&&na(e),_a(e,Sa(e)),t=e.display.barWidth,r=e.display.barHeight}function _a(e,n){var t=e.display,r=t.scrollbars.update(n);t.sizer.style.paddingRight=(t.barWidth=r.right)+"px",t.sizer.style.paddingBottom=(t.barHeight=r.bottom)+"px",t.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=r.bottom+"px",t.scrollbarFiller.style.width=r.right+"px"):t.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=r.bottom+"px",t.gutterFiller.style.width=n.gutterWidth+"px"):t.gutterFiller.style.display=""}va.prototype.update=function(){return{bottom:0,right:0}},va.prototype.setScrollLeft=function(){},va.prototype.setScrollTop=function(){},va.prototype.clear=function(){};var ya={native:ga,null:va};function wa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ya[e.options.scrollbarStyle]((function(n){e.display.wrapper.insertBefore(n,e.display.scrollbarFiller),Se(n,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),n.setAttribute("cm-not-content","true")}),(function(n,t){"horizontal"==t?ma(e,n):ha(e,n)}),e),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)}var ba=0;function Va(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ba,markArrays:null},Et(e.curOp)}function Ca(e){var n=e.curOp;n&&Ft(n,(function(e){for(var n=0;n<e.ops.length;n++)e.ops[n].cm.curOp=null;Ea(e)}))}function Ea(e){for(var n=e.ops,t=0;t<n.length;t++)Da(n[t]);for(var r=0;r<n.length;r++)Fa(n[r]);for(var a=0;a<n.length;a++)Ta(n[a]);for(var i=0;i<n.length;i++)Pa(n[i]);for(var o=0;o<n.length;o++)Ra(n[o])}function Da(e){var n=e.cm,t=n.display;ja(n),e.updateMaxLine&&ct(n),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<t.viewFrom||e.scrollToPos.to.line>=t.viewTo)||t.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new Na(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Fa(e){e.updatedDisplay=e.mustUpdate&&za(e.cm,e.update)}function Ta(e){var n=e.cm,t=n.display;e.updatedDisplay&&na(n),e.barMeasure=Sa(n),t.maxLineChanged&&!n.options.lineWrapping&&(e.adjustWidthTo=tr(n,t.maxLine,t.maxLine.text.length).left+3,n.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(t.scroller.clientWidth,t.sizer.offsetLeft+e.adjustWidthTo+Qt(n)+n.display.barWidth),e.maxScrollLeft=Math.max(0,t.sizer.offsetLeft+e.adjustWidthTo-Jt(n))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=t.input.prepareSelection())}function Pa(e){var n=e.cm;null!=e.adjustWidthTo&&(n.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<n.doc.scrollLeft&&ma(n,Math.min(n.display.scroller.scrollLeft,e.maxScrollLeft),!0),n.display.maxLineChanged=!1);var t=e.focus&&e.focus==L(I(n));e.preparedSelection&&n.display.input.showSelection(e.preparedSelection,t),(e.updatedDisplay||e.startHeight!=n.doc.height)&&xa(n,e.barMeasure),e.updatedDisplay&&qa(n,e.barMeasure),e.selectionChanged&&Qr(n),n.state.focused&&e.updateInput&&n.display.input.reset(e.typing),t&&Jr(e.cm)}function Ra(e){var n=e.cm,t=n.display,r=n.doc;e.updatedDisplay&&Ha(n,e.update),null==t.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(t.wheelStartX=t.wheelStartY=null),null!=e.scrollTop&&pa(n,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ma(n,e.scrollLeft,!0,!0),e.scrollToPos&&aa(n,ia(n,pn(r,e.scrollToPos.from),pn(r,e.scrollToPos.to),e.scrollToPos.margin));var a=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(a)for(var o=0;o<a.length;++o)a[o].lines.length||xe(a[o],"hide");if(i)for(var s=0;s<i.length;++s)i[s].lines.length&&xe(i[s],"unhide");t.wrapper.offsetHeight&&(r.scrollTop=n.display.scroller.scrollTop),e.changeObjs&&xe(n,"changes",n,e.changeObjs),e.update&&e.update.finish()}function La(e,n){if(e.curOp)return n();Va(e);try{return n()}finally{Ca(e)}}function Ma(e,n){return function(){if(e.curOp)return n.apply(e,arguments);Va(e);try{return n.apply(e,arguments)}finally{Ca(e)}}}function Ba(e){return function(){if(this.curOp)return e.apply(this,arguments);Va(this);try{return e.apply(this,arguments)}finally{Ca(this)}}}function ka(e){return function(){var n=this.cm;if(!n||n.curOp)return e.apply(this,arguments);Va(n);try{return e.apply(this,arguments)}finally{Ca(n)}}}function Ia(e,n){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(n,N(Oa,e))}function Oa(e){var n=e.doc;if(!(n.highlightFrontier>=e.display.viewTo)){var t=+new Date+e.options.workTime,r=yn(e,n.highlightFrontier),a=[];n.iter(r.line,Math.min(n.first+n.size,e.display.viewTo+500),(function(i){if(r.line>=e.display.viewFrom){var o=i.styles,s=i.text.length>e.options.maxHighlightLength?Ye(n.mode,r.state):null,l=xn(e,i,r,!0);s&&(r.state=s),i.styles=l.styles;var u=i.styleClasses,c=l.classes;c?i.styleClasses=c:u&&(i.styleClasses=null);for(var d=!o||o.length!=i.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),A=0;!d&&A<o.length;++A)d=o[A]!=i.styles[A];d&&a.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&wn(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>t)return Ia(e,e.options.workDelay),!0})),n.highlightFrontier=r.line,n.modeFrontier=Math.max(n.modeFrontier,r.line),a.length&&La(e,(function(){for(var n=0;n<a.length;n++)jr(e,a[n],"text")}))}}var Na=function(e,n,t){var r=e.display;this.viewport=n,this.visible=ra(r,e.doc,n),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Jt(e),this.force=t,this.dims=Lr(e),this.events=[]};function ja(e){var n=e.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Qt(e)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Qt(e)+"px",n.scrollbarsClipped=!0)}function Ua(e){if(e.hasFocus())return null;var n=L(I(e));if(!n||!R(e.display.lineDiv,n))return null;var t={activeElt:n};if(window.getSelection){var r=O(e).getSelection();r.anchorNode&&r.extend&&R(e.display.lineDiv,r.anchorNode)&&(t.anchorNode=r.anchorNode,t.anchorOffset=r.anchorOffset,t.focusNode=r.focusNode,t.focusOffset=r.focusOffset)}return t}function Ga(e){if(e&&e.activeElt&&e.activeElt!=L(e.activeElt.ownerDocument)&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&R(document.body,e.anchorNode)&&R(document.body,e.focusNode))){var n=e.activeElt.ownerDocument,t=n.defaultView.getSelection(),r=n.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function za(e,n){var t=e.display,r=e.doc;if(n.editorIsHidden)return Ur(e),!1;if(!n.force&&n.visible.from>=t.viewFrom&&n.visible.to<=t.viewTo&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo)&&t.renderedView==t.view&&0==Hr(e))return!1;Qa(e)&&(Ur(e),n.dims=Lr(e));var a=r.first+r.size,i=Math.max(n.visible.from-e.options.viewportMargin,r.first),o=Math.min(a,n.visible.to+e.options.viewportMargin);t.viewFrom<i&&i-t.viewFrom<20&&(i=Math.max(r.first,t.viewFrom)),t.viewTo>o&&t.viewTo-o<20&&(o=Math.min(a,t.viewTo)),Ln&&(i=at(e.doc,i),o=it(e.doc,o));var s=i!=t.viewFrom||o!=t.viewTo||t.lastWrapHeight!=n.wrapperHeight||t.lastWrapWidth!=n.wrapperWidth;zr(e,i,o),t.viewOffset=lt($e(e.doc,t.viewFrom)),e.display.mover.style.top=t.viewOffset+"px";var l=Hr(e);if(!s&&0==l&&!n.force&&t.renderedView==t.view&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo))return!1;var u=Ua(e);return l>4&&(t.lineDiv.style.display="none"),Xa(e,t.updateLineNumbers,n.dims),l>4&&(t.lineDiv.style.display=""),t.renderedView=t.view,Ga(u),D(t.cursorDiv),D(t.selectionDiv),t.gutters.style.height=t.sizer.style.minHeight=0,s&&(t.lastWrapHeight=n.wrapperHeight,t.lastWrapWidth=n.wrapperWidth,Ia(e,400)),t.updateLineNumbers=null,!0}function Ha(e,n){for(var t=n.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&n.oldDisplayWidth!=Jt(e))r&&(n.visible=ra(e.display,e.doc,t));else if(t&&null!=t.top&&(t={top:Math.min(e.doc.height+qt(e.display)-Zt(e),t.top)}),n.visible=ra(e.display,e.doc,t),n.visible.from>=e.display.viewFrom&&n.visible.to<=e.display.viewTo)break;if(!za(e,n))break;na(e);var a=Sa(e);Wr(e),xa(e,a),qa(e,a),n.force=!1}n.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(n.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Wa(e,n){var t=new Na(e,n);if(za(e,t)){na(e),Ha(e,t);var r=Sa(e);Wr(e),xa(e,r),qa(e,r),t.finish()}}function Xa(e,n,t){var r=e.display,a=e.options.lineNumbers,i=r.lineDiv,o=i.firstChild;function s(n){var t=n.nextSibling;return l&&v&&e.display.currentWheelTarget==n?n.style.display="none":n.parentNode.removeChild(n),t}for(var u=r.view,c=r.viewFrom,d=0;d<u.length;d++){var A=u[d];if(A.hidden);else if(A.node&&A.node.parentNode==i){for(;o!=A.node;)o=s(o);var f=a&&null!=n&&n<=c&&A.lineNumber;A.changes&&(z(A.changes,"gutter")>-1&&(f=!1),Lt(e,A,c,t)),f&&(D(A.lineNumber),A.lineNumber.appendChild(document.createTextNode(sn(e.options,c)))),o=A.node.nextSibling}else{var h=Ut(e,A,c,t);i.insertBefore(h,o)}c+=A.size}for(;o;)o=s(o)}function Ka(e){var n=e.gutters.offsetWidth;e.sizer.style.marginLeft=n+"px",Pt(e,"gutterChanged",e)}function qa(e,n){e.display.sizer.style.minHeight=n.docHeight+"px",e.display.heightForcer.style.top=n.docHeight+"px",e.display.gutters.style.height=n.docHeight+e.display.barHeight+Qt(e)+"px"}function Ya(e){var n=e.display,t=n.view;if(n.alignWidgets||n.gutters.firstChild&&e.options.fixedGutter){for(var r=Mr(n)-n.scroller.scrollLeft+e.doc.scrollLeft,a=n.gutters.offsetWidth,i=r+"px",o=0;o<t.length;o++)if(!t[o].hidden){e.options.fixedGutter&&(t[o].gutter&&(t[o].gutter.style.left=i),t[o].gutterBackground&&(t[o].gutterBackground.style.left=i));var s=t[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(n.gutters.style.left=r+a+"px")}}function Qa(e){if(!e.options.lineNumbers)return!1;var n=e.doc,t=sn(e.options,n.first+n.size-1),r=e.display;if(t.length!=r.lineNumChars){var a=r.measure.appendChild(T("div",[T("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=a.firstChild.offsetWidth,o=a.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-o)+1,r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?t.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ka(e.display),!0}return!1}function Ja(e,n){for(var t=[],r=!1,a=0;a<e.length;a++){var i=e[a],o=null;if("string"!=typeof i&&(o=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!n)continue;r=!0}t.push({className:i,style:o})}return n&&!r&&t.push({className:"CodeMirror-linenumbers",style:null}),t}function Za(e){var n=e.gutters,t=e.gutterSpecs;D(n),e.lineGutter=null;for(var r=0;r<t.length;++r){var a=t[r],i=a.className,o=a.style,s=n.appendChild(T("div",null,"CodeMirror-gutter "+i));o&&(s.style.cssText=o),"CodeMirror-linenumbers"==i&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}n.style.display=t.length?"":"none",Ka(e)}function $a(e){Za(e.display),Nr(e),Ya(e)}function ei(e,n,r,a){var i=this;this.input=r,i.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=P("div",null,"CodeMirror-code"),i.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=T("div",null,"CodeMirror-cursors"),i.measure=T("div",null,"CodeMirror-measure"),i.lineMeasure=T("div",null,"CodeMirror-measure"),i.lineSpace=P("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var u=P("div",[i.lineSpace],"CodeMirror-lines");i.mover=T("div",[u],null,"position: relative"),i.sizer=T("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=T("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),i.gutters=T("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=T("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=T("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),i.wrapper.setAttribute("translate","no"),o&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||t&&g||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=n.first,i.reportedViewFrom=i.reportedViewTo=n.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Ja(a.gutters,a.lineNumbers),Za(i),r.init(i)}Na.prototype.signal=function(e,n){we(e,n)&&this.events.push(arguments)},Na.prototype.finish=function(){for(var e=0;e<this.events.length;e++)xe.apply(null,this.events[e])};var ni=0,ti=null;function ri(e){var n=e.wheelDeltaX,t=e.wheelDeltaY;return null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==t&&e.detail&&e.axis==e.VERTICAL_AXIS?t=e.detail:null==t&&(t=e.wheelDelta),{x:n,y:t}}function ai(e){var n=ri(e);return n.x*=ti,n.y*=ti,n}function ii(e,n){c&&102==d&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var r=ri(n),a=r.x,i=r.y,o=ti;0===n.deltaMode&&(a=n.deltaX,i=n.deltaY,o=1);var s=e.display,u=s.scroller,f=u.scrollWidth>u.clientWidth,h=u.scrollHeight>u.clientHeight;if(a&&f||i&&h){if(i&&v&&l)e:for(var p=n.target,m=s.view;p!=u;p=p.parentNode)for(var S=0;S<m.length;S++)if(m[S].node==p){e.display.currentWheelTarget=p;break e}if(a&&!t&&!A&&null!=o)return i&&h&&ha(e,Math.max(0,u.scrollTop+i*o)),ma(e,Math.max(0,u.scrollLeft+a*o)),(!i||i&&h)&&Ve(n),void(s.wheelStartX=null);if(i&&null!=o){var g=i*o,x=e.doc.scrollTop,_=x+s.wrapper.clientHeight;g<0?x=Math.max(0,x+g-50):_=Math.min(e.doc.height,_+g+50),Wa(e,{top:x,bottom:_})}ni<20&&0!==n.deltaMode&&(null==s.wheelStartX?(s.wheelStartX=u.scrollLeft,s.wheelStartY=u.scrollTop,s.wheelDX=a,s.wheelDY=i,setTimeout((function(){if(null!=s.wheelStartX){var e=u.scrollLeft-s.wheelStartX,n=u.scrollTop-s.wheelStartY,t=n&&s.wheelDY&&n/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,t&&(ti=(ti*ni+t)/(ni+1),++ni)}}),200)):(s.wheelDX+=a,s.wheelDY+=i))}}o?ti=-.53:t?ti=15:c?ti=-.7:f&&(ti=-1/3);var oi=function(e,n){this.ranges=e,this.primIndex=n};oi.prototype.primary=function(){return this.ranges[this.primIndex]},oi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var t=this.ranges[n],r=e.ranges[n];if(!cn(t.anchor,r.anchor)||!cn(t.head,r.head))return!1}return!0},oi.prototype.deepCopy=function(){for(var e=[],n=0;n<this.ranges.length;n++)e[n]=new si(dn(this.ranges[n].anchor),dn(this.ranges[n].head));return new oi(e,this.primIndex)},oi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},oi.prototype.contains=function(e,n){n||(n=e);for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t];if(un(n,r.from())>=0&&un(e,r.to())<=0)return t}return-1};var si=function(e,n){this.anchor=e,this.head=n};function li(e,n,t){var r=e&&e.options.selectionsMayTouch,a=n[t];n.sort((function(e,n){return un(e.from(),n.from())})),t=z(n,a);for(var i=1;i<n.length;i++){var o=n[i],s=n[i-1],l=un(s.to(),o.from());if(r&&!o.empty()?l>0:l>=0){var u=fn(s.from(),o.from()),c=An(s.to(),o.to()),d=s.empty()?o.from()==o.head:s.from()==s.head;i<=t&&--t,n.splice(--i,2,new si(d?c:u,d?u:c))}}return new oi(n,t)}function ui(e,n){return new oi([new si(e,n||e)],0)}function ci(e){return e.text?ln(e.from.line+e.text.length-1,Z(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function di(e,n){if(un(e,n.from)<0)return e;if(un(e,n.to)<=0)return ci(n);var t=e.line+n.text.length-(n.to.line-n.from.line)-1,r=e.ch;return e.line==n.to.line&&(r+=ci(n).ch-n.to.ch),ln(t,r)}function Ai(e,n){for(var t=[],r=0;r<e.sel.ranges.length;r++){var a=e.sel.ranges[r];t.push(new si(di(a.anchor,n),di(a.head,n)))}return li(e.cm,t,e.sel.primIndex)}function fi(e,n,t){return e.line==n.line?ln(t.line,e.ch-n.ch+t.ch):ln(t.line+(e.line-n.line),e.ch)}function hi(e,n,t){for(var r=[],a=ln(e.first,0),i=a,o=0;o<n.length;o++){var s=n[o],l=fi(s.from,a,i),u=fi(ci(s),a,i);if(a=s.to,i=u,"around"==t){var c=e.sel.ranges[o],d=un(c.head,c.anchor)<0;r[o]=new si(d?u:l,d?l:u)}else r[o]=new si(l,l)}return new oi(r,e.sel.primIndex)}function pi(e){e.doc.mode=Xe(e.options,e.doc.modeOption),mi(e)}function mi(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ia(e,100),e.state.modeGen++,e.curOp&&Nr(e)}function Si(e,n){return 0==n.from.ch&&0==n.to.ch&&""==Z(n.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function gi(e,n,t,r){function a(e){return t?t[e]:null}function i(e,t,a){At(e,t,a,r),Pt(e,"change",e,n)}function o(e,n){for(var t=[],i=e;i<n;++i)t.push(new dt(u[i],a(i),r));return t}var s=n.from,l=n.to,u=n.text,c=$e(e,s.line),d=$e(e,l.line),A=Z(u),f=a(u.length-1),h=l.line-s.line;if(n.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(Si(e,n)){var p=o(0,u.length-1);i(d,d.text,f),h&&e.remove(s.line,h),p.length&&e.insert(s.line,p)}else if(c==d)if(1==u.length)i(c,c.text.slice(0,s.ch)+A+c.text.slice(l.ch),f);else{var m=o(1,u.length-1);m.push(new dt(A+c.text.slice(l.ch),f,r)),i(c,c.text.slice(0,s.ch)+u[0],a(0)),e.insert(s.line+1,m)}else if(1==u.length)i(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),a(0)),e.remove(s.line+1,h);else{i(c,c.text.slice(0,s.ch)+u[0],a(0)),i(d,A+d.text.slice(l.ch),f);var S=o(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,S)}Pt(e,"change",e,n)}function vi(e,n,t){function r(e,a,i){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=a){var l=i&&s.sharedHist;t&&!l||(n(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function xi(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,kr(e),pi(e),_i(e),e.options.direction=n.direction,e.options.lineWrapping||ct(e),e.options.mode=n.modeOption,Nr(e)}function _i(e){("rtl"==e.doc.direction?M:E)(e.display.lineDiv,"CodeMirror-rtl")}function yi(e){La(e,(function(){_i(e),Nr(e)}))}function wi(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function bi(e,n){var t={from:dn(n.from),to:ci(n),text:en(e,n.from,n.to)};return Pi(e,t,n.from.line,n.to.line+1),vi(e,(function(e){return Pi(e,t,n.from.line,n.to.line+1)}),!0),t}function Vi(e){for(;e.length&&Z(e).ranges;)e.pop()}function Ci(e,n){return n?(Vi(e.done),Z(e.done)):e.done.length&&!Z(e.done).ranges?Z(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Z(e.done)):void 0}function Ei(e,n,t,r){var a=e.history;a.undone.length=0;var i,o,s=+new Date;if((a.lastOp==r||a.lastOrigin==n.origin&&n.origin&&("+"==n.origin.charAt(0)&&a.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==n.origin.charAt(0)))&&(i=Ci(a,a.lastOp==r)))o=Z(i.changes),0==un(n.from,n.to)&&0==un(n.from,o.to)?o.to=ci(n):i.changes.push(bi(e,n));else{var l=Z(a.done);for(l&&l.ranges||Ti(e.sel,a.done),i={changes:[bi(e,n)],generation:a.generation},a.done.push(i);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(t),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=s,a.lastOp=a.lastSelOp=r,a.lastOrigin=a.lastSelOrigin=n.origin,o||xe(e,"historyAdded")}function Di(e,n,t,r){var a=n.charAt(0);return"*"==a||"+"==a&&t.ranges.length==r.ranges.length&&t.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Fi(e,n,t,r){var a=e.history,i=r&&r.origin;t==a.lastSelOp||i&&a.lastSelOrigin==i&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==i||Di(e,i,Z(a.done),n))?a.done[a.done.length-1]=n:Ti(n,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=i,a.lastSelOp=t,r&&!1!==r.clearRedo&&Vi(a.undone)}function Ti(e,n){var t=Z(n);t&&t.ranges&&t.equals(e)||n.push(e)}function Pi(e,n,t,r){var a=n["spans_"+e.id],i=0;e.iter(Math.max(e.first,t),Math.min(e.first+e.size,r),(function(t){t.markedSpans&&((a||(a=n["spans_"+e.id]={}))[i]=t.markedSpans),++i}))}function Ri(e){if(!e)return null;for(var n,t=0;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function Li(e,n){var t=n["spans_"+e.id];if(!t)return null;for(var r=[],a=0;a<n.text.length;++a)r.push(Ri(t[a]));return r}function Mi(e,n){var t=Li(e,n),r=Gn(e,n);if(!t)return r;if(!r)return t;for(var a=0;a<t.length;++a){var i=t[a],o=r[a];if(i&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<i.length;++u)if(i[u].marker==l.marker)continue e;i.push(l)}else o&&(t[a]=o)}return t}function Bi(e,n,t){for(var r=[],a=0;a<e.length;++a){var i=e[a];if(i.ranges)r.push(t?oi.prototype.deepCopy.call(i):i);else{var o=i.changes,s=[];r.push({changes:s});for(var l=0;l<o.length;++l){var u=o[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),n)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&z(n,Number(c[1]))>-1&&(Z(s)[d]=u[d],delete u[d])}}}return r}function ki(e,n,t,r){if(r){var a=e.anchor;if(t){var i=un(n,a)<0;i!=un(t,a)<0?(a=n,n=t):i!=un(n,t)<0&&(n=t)}return new si(a,n)}return new si(t||n,n)}function Ii(e,n,t,r,a){null==a&&(a=e.cm&&(e.cm.display.shift||e.extend)),zi(e,new oi([ki(e.sel.primary(),n,t,a)],0),r)}function Oi(e,n,t){for(var r=[],a=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=ki(e.sel.ranges[i],n[i],null,a);zi(e,li(e.cm,r,e.sel.primIndex),t)}function Ni(e,n,t,r){var a=e.sel.ranges.slice(0);a[n]=t,zi(e,li(e.cm,a,e.sel.primIndex),r)}function ji(e,n,t,r){zi(e,ui(n,t),r)}function Ui(e,n,t){var r={ranges:n.ranges,update:function(n){this.ranges=[];for(var t=0;t<n.length;t++)this.ranges[t]=new si(pn(e,n[t].anchor),pn(e,n[t].head))},origin:t&&t.origin};return xe(e,"beforeSelectionChange",e,r),e.cm&&xe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=n.ranges?li(e.cm,r.ranges,r.ranges.length-1):n}function Gi(e,n,t){var r=e.history.done,a=Z(r);a&&a.ranges?(r[r.length-1]=n,Hi(e,n,t)):zi(e,n,t)}function zi(e,n,t){Hi(e,n,t),Fi(e,e.sel,e.cm?e.cm.curOp.id:NaN,t)}function Hi(e,n,t){(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(n=Ui(e,n,t));var r=t&&t.bias||(un(n.primary().head,e.sel.primary().head)<0?-1:1);Wi(e,Ki(e,n,r,!0)),t&&!1===t.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||ua(e.cm)}function Wi(e,n){n.equals(e.sel)||(e.sel=n,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ye(e.cm)),Pt(e,"cursorActivity",e))}function Xi(e){Wi(e,Ki(e,e.sel,null,!1))}function Ki(e,n,t,r){for(var a,i=0;i<n.ranges.length;i++){var o=n.ranges[i],s=n.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=Yi(e,o.anchor,s&&s.anchor,t,r),u=o.head==o.anchor?l:Yi(e,o.head,s&&s.head,t,r);(a||l!=o.anchor||u!=o.head)&&(a||(a=n.ranges.slice(0,i)),a[i]=new si(l,u))}return a?li(e.cm,a,n.primIndex):n}function qi(e,n,t,r,a){var i=$e(e,n.line);if(i.markedSpans)for(var o=0;o<i.markedSpans.length;++o){var s=i.markedSpans[o],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=n.ch:s.from<n.ch))&&(null==s.to||(c?s.to>=n.ch:s.to>n.ch))){if(a&&(xe(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--o;continue}break}if(!l.atomic)continue;if(t){var d=l.find(r<0?1:-1),A=void 0;if((r<0?c:u)&&(d=Qi(e,d,-r,d&&d.line==n.line?i:null)),d&&d.line==n.line&&(A=un(d,t))&&(r<0?A<0:A>0))return qi(e,d,n,r,a)}var f=l.find(r<0?-1:1);return(r<0?u:c)&&(f=Qi(e,f,r,f.line==n.line?i:null)),f?qi(e,f,n,r,a):null}}return n}function Yi(e,n,t,r,a){var i=r||1,o=qi(e,n,t,i,a)||!a&&qi(e,n,t,i,!0)||qi(e,n,t,-i,a)||!a&&qi(e,n,t,-i,!0);return o||(e.cantEdit=!0,ln(e.first,0))}function Qi(e,n,t,r){return t<0&&0==n.ch?n.line>e.first?pn(e,ln(n.line-1)):null:t>0&&n.ch==(r||$e(e,n.line)).text.length?n.line<e.first+e.size-1?ln(n.line+1,0):null:new ln(n.line,n.ch+t)}function Ji(e){e.setSelection(ln(e.firstLine(),0),ln(e.lastLine()),X)}function Zi(e,n,t){var r={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return r.canceled=!0}};return t&&(r.update=function(n,t,a,i){n&&(r.from=pn(e,n)),t&&(r.to=pn(e,t)),a&&(r.text=a),void 0!==i&&(r.origin=i)}),xe(e,"beforeChange",e,r),e.cm&&xe(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function $i(e,n,t){if(e.cm){if(!e.cm.curOp)return Ma(e.cm,$i)(e,n,t);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(n=Zi(e,n,!0))){var r=Rn&&!t&&Hn(e,n.from,n.to);if(r)for(var a=r.length-1;a>=0;--a)eo(e,{from:r[a].from,to:r[a].to,text:a?[""]:n.text,origin:n.origin});else eo(e,n)}}function eo(e,n){if(1!=n.text.length||""!=n.text[0]||0!=un(n.from,n.to)){var t=Ai(e,n);Ei(e,n,t,e.cm?e.cm.curOp.id:NaN),ro(e,n,t,Gn(e,n));var r=[];vi(e,(function(e,t){t||-1!=z(r,e.history)||(lo(e.history,n),r.push(e.history)),ro(e,n,null,Gn(e,n))}))}}function no(e,n,t){var r=e.cm&&e.cm.state.suppressEdits;if(!r||t){for(var a,i=e.history,o=e.sel,s="undo"==n?i.done:i.undone,l="undo"==n?i.undone:i.done,u=0;u<s.length&&(a=s[u],t?!a.ranges||a.equals(e.sel):a.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(a=s.pop()).ranges){if(r)return void s.push(a);break}if(Ti(a,l),t&&!a.equals(e.sel))return void zi(e,a,{clearRedo:!1});o=a}var c=[];Ti(o,l),l.push({changes:c,generation:i.generation}),i.generation=a.generation||++i.maxGeneration;for(var d=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),A=function(t){var r=a.changes[t];if(r.origin=n,d&&!Zi(e,r,!1))return s.length=0,{};c.push(bi(e,r));var i=t?Ai(e,r):Z(s);ro(e,r,i,Mi(e,r)),!t&&e.cm&&e.cm.scrollIntoView({from:r.from,to:ci(r)});var o=[];vi(e,(function(e,n){n||-1!=z(o,e.history)||(lo(e.history,r),o.push(e.history)),ro(e,r,null,Mi(e,r))}))},f=a.changes.length-1;f>=0;--f){var h=A(f);if(h)return h.v}}}}function to(e,n){if(0!=n&&(e.first+=n,e.sel=new oi($(e.sel.ranges,(function(e){return new si(ln(e.anchor.line+n,e.anchor.ch),ln(e.head.line+n,e.head.ch))})),e.sel.primIndex),e.cm)){Nr(e.cm,e.first,e.first-n,n);for(var t=e.cm.display,r=t.viewFrom;r<t.viewTo;r++)jr(e.cm,r,"gutter")}}function ro(e,n,t,r){if(e.cm&&!e.cm.curOp)return Ma(e.cm,ro)(e,n,t,r);if(n.to.line<e.first)to(e,n.text.length-1-(n.to.line-n.from.line));else if(!(n.from.line>e.lastLine())){if(n.from.line<e.first){var a=n.text.length-1-(e.first-n.from.line);to(e,a),n={from:ln(e.first,0),to:ln(n.to.line+a,n.to.ch),text:[Z(n.text)],origin:n.origin}}var i=e.lastLine();n.to.line>i&&(n={from:n.from,to:ln(i,$e(e,i).text.length),text:[n.text[0]],origin:n.origin}),n.removed=en(e,n.from,n.to),t||(t=Ai(e,n)),e.cm?ao(e.cm,n,r):gi(e,n,r),Hi(e,t,X),e.cantEdit&&Yi(e,ln(e.firstLine(),0))&&(e.cantEdit=!1)}}function ao(e,n,t){var r=e.doc,a=e.display,i=n.from,o=n.to,s=!1,l=i.line;e.options.lineWrapping||(l=rn(nt($e(r,i.line))),r.iter(l,o.line+1,(function(e){if(e==a.maxLine)return s=!0,!0}))),r.sel.contains(n.from,n.to)>-1&&ye(e),gi(r,n,t,Br(e)),e.options.lineWrapping||(r.iter(l,i.line+n.text.length,(function(e){var n=ut(e);n>a.maxLineLength&&(a.maxLine=e,a.maxLineLength=n,a.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Pn(r,i.line),Ia(e,400);var u=n.text.length-(o.line-i.line)-1;n.full?Nr(e):i.line!=o.line||1!=n.text.length||Si(e.doc,n)?Nr(e,i.line,o.line+1,u):jr(e,i.line,"text");var c=we(e,"changes"),d=we(e,"change");if(d||c){var A={from:i,to:o,text:n.text,removed:n.removed,origin:n.origin};d&&Pt(e,"change",e,A),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(A)}e.display.selForContextMenu=null}function io(e,n,t,r,a){var i;r||(r=t),un(r,t)<0&&(t=(i=[r,t])[0],r=i[1]),"string"==typeof n&&(n=e.splitLines(n)),$i(e,{from:t,to:r,text:n,origin:a})}function oo(e,n,t,r){t<e.line?e.line+=r:n<e.line&&(e.line=n,e.ch=0)}function so(e,n,t,r){for(var a=0;a<e.length;++a){var i=e[a],o=!0;if(i.ranges){i.copied||((i=e[a]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)oo(i.ranges[s].anchor,n,t,r),oo(i.ranges[s].head,n,t,r)}else{for(var l=0;l<i.changes.length;++l){var u=i.changes[l];if(t<u.from.line)u.from=ln(u.from.line+r,u.from.ch),u.to=ln(u.to.line+r,u.to.ch);else if(n<=u.to.line){o=!1;break}}o||(e.splice(0,a+1),a=0)}}}function lo(e,n){var t=n.from.line,r=n.to.line,a=n.text.length-(r-t)-1;so(e.done,t,r,a),so(e.undone,t,r,a)}function uo(e,n,t,r){var a=n,i=n;return"number"==typeof n?i=$e(e,hn(e,n)):a=rn(n),null==a?null:(r(i,a)&&e.cm&&jr(e.cm,a,t),i)}function co(e){this.lines=e,this.parent=null;for(var n=0,t=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Ao(e){this.children=e;for(var n=0,t=0,r=0;r<e.length;++r){var a=e[r];n+=a.chunkSize(),t+=a.height,a.parent=this}this.size=n,this.height=t,this.parent=null}si.prototype.from=function(){return fn(this.anchor,this.head)},si.prototype.to=function(){return An(this.anchor,this.head)},si.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},co.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,n){for(var t=e,r=e+n;t<r;++t){var a=this.lines[t];this.height-=a.height,ft(a),Pt(a,"delete")}this.lines.splice(e,n)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,n,t){this.height+=t,this.lines=this.lines.slice(0,e).concat(n).concat(this.lines.slice(e));for(var r=0;r<n.length;++r)n[r].parent=this},iterN:function(e,n,t){for(var r=e+n;e<r;++e)if(t(this.lines[e]))return!0}},Ao.prototype={chunkSize:function(){return this.size},removeInner:function(e,n){this.size-=n;for(var t=0;t<this.children.length;++t){var r=this.children[t],a=r.chunkSize();if(e<a){var i=Math.min(n,a-e),o=r.height;if(r.removeInner(e,i),this.height-=o-r.height,a==i&&(this.children.splice(t--,1),r.parent=null),0==(n-=i))break;e=0}else e-=a}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof co))){var s=[];this.collapse(s),this.children=[new co(s)],this.children[0].parent=this}},collapse:function(e){for(var n=0;n<this.children.length;++n)this.children[n].collapse(e)},insertInner:function(e,n,t){this.size+=n.length,this.height+=t;for(var r=0;r<this.children.length;++r){var a=this.children[r],i=a.chunkSize();if(e<=i){if(a.insertInner(e,n,t),a.lines&&a.lines.length>50){for(var o=a.lines.length%25+25,s=o;s<a.lines.length;){var l=new co(a.lines.slice(s,s+=25));a.height-=l.height,this.children.splice(++r,0,l),l.parent=this}a.lines=a.lines.slice(0,o),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var n=new Ao(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=n.size,e.height-=n.height;var t=z(e.parent.children,e);e.parent.children.splice(t+1,0,n)}else{var r=new Ao(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,n,t){for(var r=0;r<this.children.length;++r){var a=this.children[r],i=a.chunkSize();if(e<i){var o=Math.min(n,i-e);if(a.iterN(e,o,t))return!0;if(0==(n-=o))break;e=0}else e-=i}}};var fo=function(e,n,t){if(t)for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);this.doc=e,this.node=n};function ho(e,n,t){lt(n)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&la(e,t)}function po(e,n,t,r){var a=new fo(e,t,r),i=e.cm;return i&&a.noHScroll&&(i.display.alignWidgets=!0),uo(e,n,"widget",(function(n){var t=n.widgets||(n.widgets=[]);if(null==a.insertAt?t.push(a):t.splice(Math.min(t.length,Math.max(0,a.insertAt)),0,a),a.line=n,i&&!ot(e,n)){var r=lt(n)<e.scrollTop;tn(n,n.height+Wt(a)),r&&la(i,a.height),i.curOp.forceUpdate=!0}return!0})),i&&Pt(i,"lineWidgetAdded",i,a,"number"==typeof n?n:rn(n)),a}fo.prototype.clear=function(){var e=this.doc.cm,n=this.line.widgets,t=this.line,r=rn(t);if(null!=r&&n){for(var a=0;a<n.length;++a)n[a]==this&&n.splice(a--,1);n.length||(t.widgets=null);var i=Wt(this);tn(t,Math.max(0,t.height-i)),e&&(La(e,(function(){ho(e,t,-i),jr(e,r,"widget")})),Pt(e,"lineWidgetCleared",e,this,r))}},fo.prototype.changed=function(){var e=this,n=this.height,t=this.doc.cm,r=this.line;this.height=null;var a=Wt(this)-n;a&&(ot(this.doc,r)||tn(r,r.height+a),t&&La(t,(function(){t.curOp.forceUpdate=!0,ho(t,r,a),Pt(t,"lineWidgetChanged",t,e,rn(r))})))},be(fo);var mo=0,So=function(e,n){this.lines=[],this.type=n,this.doc=e,this.id=++mo};function go(e,n,t,r,a){if(r&&r.shared)return xo(e,n,t,r,a);if(e.cm&&!e.cm.curOp)return Ma(e.cm,go)(e,n,t,r,a);var i=new So(e,a),o=un(n,t);if(r&&j(r,i,!1),o>0||0==o&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=P("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(et(e,n.line,n,t,i)||n.line!=t.line&&et(e,t.line,n,t,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Bn()}i.addToHistory&&Ei(e,{from:n,to:t,origin:"markText"},e.sel,NaN);var s,l=n.line,u=e.cm;if(e.iter(l,t.line+1,(function(r){u&&i.collapsed&&!u.options.lineWrapping&&nt(r)==u.display.maxLine&&(s=!0),i.collapsed&&l!=n.line&&tn(r,0),Nn(r,new kn(i,l==n.line?n.ch:null,l==t.line?t.ch:null),e.cm&&e.cm.curOp),++l})),i.collapsed&&e.iter(n.line,t.line+1,(function(n){ot(e,n)&&tn(n,0)})),i.clearOnEnter&&Se(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(Mn(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++mo,i.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),i.collapsed)Nr(u,n.line,t.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var c=n.line;c<=t.line;c++)jr(u,c,"text");i.atomic&&Xi(u.doc),Pt(u,"markerAdded",u,i)}return i}So.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,n=e&&!e.curOp;if(n&&Va(e),we(this,"clear")){var t=this.find();t&&Pt(this,"clear",t.from,t.to)}for(var r=null,a=null,i=0;i<this.lines.length;++i){var o=this.lines[i],s=In(o.markedSpans,this);e&&!this.collapsed?jr(e,rn(o),"text"):e&&(null!=s.to&&(a=rn(o)),null!=s.from&&(r=rn(o))),o.markedSpans=On(o.markedSpans,s),null==s.from&&this.collapsed&&!ot(this.doc,o)&&e&&tn(o,Pr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=nt(this.lines[l]),c=ut(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Nr(e,r,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Xi(e.doc)),e&&Pt(e,"markerCleared",e,this,r,a),n&&Ca(e),this.parent&&this.parent.clear()}},So.prototype.find=function(e,n){var t,r;null==e&&"bookmark"==this.type&&(e=1);for(var a=0;a<this.lines.length;++a){var i=this.lines[a],o=In(i.markedSpans,this);if(null!=o.from&&(t=ln(n?i:rn(i),o.from),-1==e))return t;if(null!=o.to&&(r=ln(n?i:rn(i),o.to),1==e))return r}return t&&{from:t,to:r}},So.prototype.changed=function(){var e=this,n=this.find(-1,!0),t=this,r=this.doc.cm;n&&r&&La(r,(function(){var a=n.line,i=rn(n.line),o=rr(r,i);if(o&&(Ar(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!ot(t.doc,a)&&null!=t.height){var s=t.height;t.height=null;var l=Wt(t)-s;l&&tn(a,a.height+l)}Pt(r,"markerChanged",r,e)}))},So.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;n.maybeHiddenMarkers&&-1!=z(n.maybeHiddenMarkers,this)||(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},So.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},be(So);var vo=function(e,n){this.markers=e,this.primary=n;for(var t=0;t<e.length;++t)e[t].parent=this};function xo(e,n,t,r,a){(r=j(r)).shared=!1;var i=[go(e,n,t,r,a)],o=i[0],s=r.widgetNode;return vi(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),i.push(go(e,pn(e,n),pn(e,t),r,a));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Z(i)})),new vo(i,o)}function _o(e){return e.findMarks(ln(e.first,0),e.clipPos(ln(e.lastLine())),(function(e){return e.parent}))}function yo(e,n){for(var t=0;t<n.length;t++){var r=n[t],a=r.find(),i=e.clipPos(a.from),o=e.clipPos(a.to);if(un(i,o)){var s=go(e,i,o,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function wo(e){for(var n=function(n){var t=e[n],r=[t.primary.doc];vi(t.primary.doc,(function(e){return r.push(e)}));for(var a=0;a<t.markers.length;a++){var i=t.markers[a];-1==z(r,i.doc)&&(i.parent=null,t.markers.splice(a--,1))}},t=0;t<e.length;t++)n(t)}vo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Pt(this,"clear")}},vo.prototype.find=function(e,n){return this.primary.find(e,n)},be(vo);var bo=0,Vo=function e(n,t,r,a,i){if(!(this instanceof e))return new e(n,t,r,a,i);null==r&&(r=0),Ao.call(this,[new co([new dt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=ln(r,0);this.sel=ui(o),this.history=new wi(null),this.id=++bo,this.modeOption=t,this.lineSep=a,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof n&&(n=this.splitLines(n)),gi(this,{from:o,to:o,text:n}),zi(this,ui(o),X)};Vo.prototype=te(Ao.prototype,{constructor:Vo,iter:function(e,n,t){t?this.iterN(e-this.first,n-e,t):this.iterN(this.first,this.first+this.size,e)},insert:function(e,n){for(var t=0,r=0;r<n.length;++r)t+=n[r].height;this.insertInner(e-this.first,n,t)},remove:function(e,n){this.removeInner(e-this.first,n)},getValue:function(e){var n=nn(this,this.first,this.first+this.size);return!1===e?n:n.join(e||this.lineSeparator())},setValue:ka((function(e){var n=ln(this.first,0),t=this.first+this.size-1;$i(this,{from:n,to:ln(t,$e(this,t).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ca(this.cm,0,0),zi(this,ui(n),X)})),replaceRange:function(e,n,t,r){io(this,e,n=pn(this,n),t=t?pn(this,t):n,r)},getRange:function(e,n,t){var r=en(this,pn(this,e),pn(this,n));return!1===t?r:""===t?r.join(""):r.join(t||this.lineSeparator())},getLine:function(e){var n=this.getLineHandle(e);return n&&n.text},getLineHandle:function(e){if(on(this,e))return $e(this,e)},getLineNumber:function(e){return rn(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=$e(this,e)),nt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pn(this,e)},getCursor:function(e){var n=this.sel.primary();return null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ka((function(e,n,t){ji(this,pn(this,"number"==typeof e?ln(e,n||0):e),null,t)})),setSelection:ka((function(e,n,t){ji(this,pn(this,e),pn(this,n||e),t)})),extendSelection:ka((function(e,n,t){Ii(this,pn(this,e),n&&pn(this,n),t)})),extendSelections:ka((function(e,n){Oi(this,Sn(this,e),n)})),extendSelectionsBy:ka((function(e,n){Oi(this,Sn(this,$(this.sel.ranges,e)),n)})),setSelections:ka((function(e,n,t){if(e.length){for(var r=[],a=0;a<e.length;a++)r[a]=new si(pn(this,e[a].anchor),pn(this,e[a].head||e[a].anchor));null==n&&(n=Math.min(e.length-1,this.sel.primIndex)),zi(this,li(this.cm,r,n),t)}})),addSelection:ka((function(e,n,t){var r=this.sel.ranges.slice(0);r.push(new si(pn(this,e),pn(this,n||e))),zi(this,li(this.cm,r,r.length-1),t)})),getSelection:function(e){for(var n,t=this.sel.ranges,r=0;r<t.length;r++){var a=en(this,t[r].from(),t[r].to());n=n?n.concat(a):a}return!1===e?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var n=[],t=this.sel.ranges,r=0;r<t.length;r++){var a=en(this,t[r].from(),t[r].to());!1!==e&&(a=a.join(e||this.lineSeparator())),n[r]=a}return n},replaceSelection:function(e,n,t){for(var r=[],a=0;a<this.sel.ranges.length;a++)r[a]=e;this.replaceSelections(r,n,t||"+input")},replaceSelections:ka((function(e,n,t){for(var r=[],a=this.sel,i=0;i<a.ranges.length;i++){var o=a.ranges[i];r[i]={from:o.from(),to:o.to(),text:this.splitLines(e[i]),origin:t}}for(var s=n&&"end"!=n&&hi(this,r,n),l=r.length-1;l>=0;l--)$i(this,r[l]);s?Gi(this,s):this.cm&&ua(this.cm)})),undo:ka((function(){no(this,"undo")})),redo:ka((function(){no(this,"redo")})),undoSelection:ka((function(){no(this,"undo",!0)})),redoSelection:ka((function(){no(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,n=0,t=0,r=0;r<e.done.length;r++)e.done[r].ranges||++n;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++t;return{undo:n,redo:t}},clearHistory:function(){var e=this;this.history=new wi(this.history),vi(this,(function(n){return n.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Bi(this.history.done),undone:Bi(this.history.undone)}},setHistory:function(e){var n=this.history=new wi(this.history);n.done=Bi(e.done.slice(0),null,!0),n.undone=Bi(e.undone.slice(0),null,!0)},setGutterMarker:ka((function(e,n,t){return uo(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[n]=t,!t&&oe(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:ka((function(e){var n=this;this.iter((function(t){t.gutterMarkers&&t.gutterMarkers[e]&&uo(n,t,"gutter",(function(){return t.gutterMarkers[e]=null,oe(t.gutterMarkers)&&(t.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var n;if("number"==typeof e){if(!on(this,e))return null;if(n=e,!(e=$e(this,e)))return null}else if(null==(n=rn(e)))return null;return{line:n,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ka((function(e,n,t){return uo(this,e,"gutter"==n?"gutter":"class",(function(e){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(e[r]){if(V(t).test(e[r]))return!1;e[r]+=" "+t}else e[r]=t;return!0}))})),removeLineClass:ka((function(e,n,t){return uo(this,e,"gutter"==n?"gutter":"class",(function(e){var r="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",a=e[r];if(!a)return!1;if(null==t)e[r]=null;else{var i=a.match(V(t));if(!i)return!1;var o=i.index+i[0].length;e[r]=a.slice(0,i.index)+(i.index&&o!=a.length?" ":"")+a.slice(o)||null}return!0}))})),addLineWidget:ka((function(e,n,t){return po(this,e,n,t)})),removeLineWidget:function(e){e.clear()},markText:function(e,n,t){return go(this,pn(this,e),pn(this,n),t,t&&t.type||"range")},setBookmark:function(e,n){var t={replacedWith:n&&(null==n.nodeType?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return go(this,e=pn(this,e),e,t,"bookmark")},findMarksAt:function(e){var n=[],t=$e(this,(e=pn(this,e)).line).markedSpans;if(t)for(var r=0;r<t.length;++r){var a=t[r];(null==a.from||a.from<=e.ch)&&(null==a.to||a.to>=e.ch)&&n.push(a.marker.parent||a.marker)}return n},findMarks:function(e,n,t){e=pn(this,e),n=pn(this,n);var r=[],a=e.line;return this.iter(e.line,n.line+1,(function(i){var o=i.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];null!=l.to&&a==e.line&&e.ch>=l.to||null==l.from&&a!=e.line||null!=l.from&&a==n.line&&l.from>=n.ch||t&&!t(l.marker)||r.push(l.marker.parent||l.marker)}++a})),r},getAllMarks:function(){var e=[];return this.iter((function(n){var t=n.markedSpans;if(t)for(var r=0;r<t.length;++r)null!=t[r].from&&e.push(t[r].marker)})),e},posFromIndex:function(e){var n,t=this.first,r=this.lineSeparator().length;return this.iter((function(a){var i=a.text.length+r;if(i>e)return n=e,!0;e-=i,++t})),pn(this,ln(t,n))},indexFromPos:function(e){var n=(e=pn(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var t=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){n+=e.text.length+t})),n},copy:function(e){var n=new Vo(nn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,e&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(e){e||(e={});var n=this.first,t=this.first+this.size;null!=e.from&&e.from>n&&(n=e.from),null!=e.to&&e.to<t&&(t=e.to);var r=new Vo(nn(this,n,t),e.mode||this.modeOption,n,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],yo(r,_o(this)),r},unlinkDoc:function(e){if(e instanceof Ns&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n)if(this.linked[n].doc==e){this.linked.splice(n,1),e.unlinkDoc(this),wo(_o(this));break}if(e.history==this.history){var t=[e.id];vi(e,(function(e){return t.push(e.id)}),!0),e.history=new wi(null),e.history.done=Bi(this.history.done,t),e.history.undone=Bi(this.history.undone,t)}},iterLinkedDocs:function(e){vi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ke(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ka((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&yi(this.cm))}))}),Vo.prototype.eachLine=Vo.prototype.iter;var Co=0;function Eo(e){var n=this;if(To(n),!_e(n,e)&&!Xt(n.display,e)){Ve(e),o&&(Co=+new Date);var t=Ir(n,e,!0),r=e.dataTransfer.files;if(t&&!n.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var a=r.length,i=Array(a),s=0,l=function(){++s==a&&Ma(n,(function(){var e={from:t=pn(n.doc,t),to:t,text:n.doc.splitLines(i.filter((function(e){return null!=e})).join(n.doc.lineSeparator())),origin:"paste"};$i(n.doc,e),Gi(n.doc,ui(pn(n.doc,t),pn(n.doc,ci(e))))}))()},u=function(e,t){if(n.options.allowDropFileTypes&&-1==z(n.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[t]=e),l()},r.readAsText(e)}},c=0;c<r.length;c++)u(r[c],c);else{if(n.state.draggingText&&n.doc.sel.contains(t)>-1)return n.state.draggingText(e),void setTimeout((function(){return n.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var A;if(n.state.draggingText&&!n.state.draggingText.copy&&(A=n.listSelections()),Hi(n.doc,ui(t,t)),A)for(var f=0;f<A.length;++f)io(n.doc,"",A[f].anchor,A[f].head,"drag");n.replaceSelection(d,"around","paste"),n.display.input.focus()}}catch(h){}}}}function Do(e,n){if(o&&(!e.state.draggingText||+new Date-Co<100))De(n);else if(!_e(e,n)&&!Xt(e.display,n)&&(n.dataTransfer.setData("Text",e.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!f)){var t=T("img",null,null,"position: fixed; left: 0; top: 0;");t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",A&&(t.width=t.height=1,e.display.wrapper.appendChild(t),t._top=t.offsetTop),n.dataTransfer.setDragImage(t,0,0),A&&t.parentNode.removeChild(t)}}function Fo(e,n){var t=Ir(e,n);if(t){var r=document.createDocumentFragment();Kr(e,t,r),e.display.dragCursor||(e.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),F(e.display.dragCursor,r)}}function To(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Po(e){if(document.getElementsByClassName){for(var n=document.getElementsByClassName("CodeMirror"),t=[],r=0;r<n.length;r++){var a=n[r].CodeMirror;a&&t.push(a)}t.length&&t[0].operation((function(){for(var n=0;n<t.length;n++)e(t[n])}))}}var Ro=!1;function Lo(){Ro||(Mo(),Ro=!0)}function Mo(){var e;Se(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Po(Bo)}),100))})),Se(window,"blur",(function(){return Po(ea)}))}function Bo(e){var n=e.display;n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,e.setSize()}for(var ko={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Io=0;Io<10;Io++)ko[Io+48]=ko[Io+96]=String(Io);for(var Oo=65;Oo<=90;Oo++)ko[Oo]=String.fromCharCode(Oo);for(var No=1;No<=12;No++)ko[No+111]=ko[No+63235]="F"+No;var jo={};function Uo(e){var n,t,r,a,i=e.split(/-(?!$)/);e=i[i.length-1];for(var o=0;o<i.length-1;o++){var s=i[o];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))t=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return n&&(e="Alt-"+e),t&&(e="Ctrl-"+e),a&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Go(e){var n={};for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==r){delete e[t];continue}for(var a=$(t.split(" "),Uo),i=0;i<a.length;i++){var o=void 0,s=void 0;i==a.length-1?(s=a.join(" "),o=r):(s=a.slice(0,i+1).join(" "),o="...");var l=n[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else n[s]=o}delete e[t]}for(var u in n)e[u]=n[u];return e}function zo(e,n,t,r){var a=(n=Ko(n)).call?n.call(e,r):n[e];if(!1===a)return"nothing";if("..."===a)return"multi";if(null!=a&&t(a))return"handled";if(n.fallthrough){if("[object Array]"!=Object.prototype.toString.call(n.fallthrough))return zo(e,n.fallthrough,t,r);for(var i=0;i<n.fallthrough.length;i++){var o=zo(e,n.fallthrough[i],t,r);if(o)return o}}}function Ho(e){var n="string"==typeof e?e:ko[e.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function Wo(e,n,t){var r=e;return n.altKey&&"Alt"!=r&&(e="Alt-"+e),(w?n.metaKey:n.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(w?n.ctrlKey:n.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!t&&n.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Xo(e,n){if(A&&34==e.keyCode&&e.char)return!1;var t=ko[e.keyCode];return null!=t&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(t=e.code),Wo(t,e,n))}function Ko(e){return"string"==typeof e?jo[e]:e}function qo(e,n){for(var t=e.doc.sel.ranges,r=[],a=0;a<t.length;a++){for(var i=n(t[a]);r.length&&un(i.from,Z(r).to)<=0;){var o=r.pop();if(un(o.from,i.from)<0){i.from=o.from;break}}r.push(i)}La(e,(function(){for(var n=r.length-1;n>=0;n--)io(e.doc,"",r[n].from,r[n].to,"+delete");ua(e)}))}function Yo(e,n,t){var r=ue(e.text,n+t,t);return r<0||r>e.text.length?null:r}function Qo(e,n,t){var r=Yo(e,n.ch,t);return null==r?null:new ln(n.line,r,t<0?"after":"before")}function Jo(e,n,t,r,a){if(e){"rtl"==n.doc.direction&&(a=-a);var i=pe(t,n.doc.direction);if(i){var o,s=a<0?Z(i):i[0],l=a<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==n.doc.direction){var u=ar(n,t);o=a<0?t.text.length-1:0;var c=ir(n,u,o).top;o=ce((function(e){return ir(n,u,e).top==c}),a<0==(1==s.level)?s.from:s.to-1,o),"before"==l&&(o=Yo(t,o,1))}else o=a<0?s.to:s.from;return new ln(r,o,l)}}return new ln(r,a<0?t.text.length:0,a<0?"before":"after")}function Zo(e,n,t,r){var a=pe(n,e.doc.direction);if(!a)return Qo(n,t,r);t.ch>=n.text.length?(t.ch=n.text.length,t.sticky="before"):t.ch<=0&&(t.ch=0,t.sticky="after");var i=fe(a,t.ch,t.sticky),o=a[i];if("ltr"==e.doc.direction&&o.level%2==0&&(r>0?o.to>t.ch:o.from<t.ch))return Qo(n,t,r);var s,l=function(e,t){return Yo(n,e instanceof ln?e.ch:e,t)},u=function(t){return e.options.lineWrapping?(s=s||ar(e,n),Cr(e,n,s,t)):{begin:0,end:n.text.length}},c=u("before"==t.sticky?l(t,-1):t.ch);if("rtl"==e.doc.direction||1==o.level){var d=1==o.level==r<0,A=l(t,d?1:-1);if(null!=A&&(d?A<=o.to&&A<=c.end:A>=o.from&&A>=c.begin)){var f=d?"before":"after";return new ln(t.line,A,f)}}var h=function(e,n,r){for(var i=function(e,n){return n?new ln(t.line,l(e,1),"before"):new ln(t.line,e,"after")};e>=0&&e<a.length;e+=n){var o=a[e],s=n>0==(1!=o.level),u=s?r.begin:l(r.end,-1);if(o.from<=u&&u<o.to)return i(u,s);if(u=s?o.from:l(o.to,-1),r.begin<=u&&u<r.end)return i(u,s)}},p=h(i+r,r,c);if(p)return p;var m=r>0?c.end:l(c.begin,-1);return null==m||r>0&&m==n.text.length||!(p=h(r>0?0:a.length-1,r,u(m)))?null:p}jo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},jo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},jo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},jo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},jo.default=v?jo.macDefault:jo.pcDefault;var $o={selectAll:Ji,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),X)},killLine:function(e){return qo(e,(function(n){if(n.empty()){var t=$e(e.doc,n.head.line).text.length;return n.head.ch==t&&n.head.line<e.lastLine()?{from:n.head,to:ln(n.head.line+1,0)}:{from:n.head,to:ln(n.head.line,t)}}return{from:n.from(),to:n.to()}}))},deleteLine:function(e){return qo(e,(function(n){return{from:ln(n.from().line,0),to:pn(e.doc,ln(n.to().line+1,0))}}))},delLineLeft:function(e){return qo(e,(function(e){return{from:ln(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qo(e,(function(n){var t=e.charCoords(n.head,"div").top+5;return{from:e.coordsChar({left:0,top:t},"div"),to:n.from()}}))},delWrappedLineRight:function(e){return qo(e,(function(n){var t=e.charCoords(n.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div");return{from:n.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ln(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ln(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(n){return es(e,n.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(n){return ts(e,n.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(n){return ns(e,n.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(n){var t=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div")}),q)},goLineLeft:function(e){return e.extendSelectionsBy((function(n){var t=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:0,top:t},"div")}),q)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(n){var t=e.cursorCoords(n.head,"div").top+5,r=e.coordsChar({left:0,top:t},"div");return r.ch<e.getLine(r.line).search(/\S/)?ts(e,n.head):r}),q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var n=[],t=e.listSelections(),r=e.options.tabSize,a=0;a<t.length;a++){var i=t[a].from(),o=U(e.getLine(i.line),i.ch,r);n.push(J(r-o%r))}e.replaceSelections(n)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return La(e,(function(){for(var n=e.listSelections(),t=[],r=0;r<n.length;r++)if(n[r].empty()){var a=n[r].head,i=$e(e.doc,a.line).text;if(i)if(a.ch==i.length&&(a=new ln(a.line,a.ch-1)),a.ch>0)a=new ln(a.line,a.ch+1),e.replaceRange(i.charAt(a.ch-1)+i.charAt(a.ch-2),ln(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var o=$e(e.doc,a.line-1).text;o&&(a=new ln(a.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),ln(a.line-1,o.length-1),a,"+transpose"))}t.push(new si(a,a))}e.setSelections(t)}))},newlineAndIndent:function(e){return La(e,(function(){for(var n=e.listSelections(),t=n.length-1;t>=0;t--)e.replaceRange(e.doc.lineSeparator(),n[t].anchor,n[t].head,"+input");n=e.listSelections();for(var r=0;r<n.length;r++)e.indentLine(n[r].from().line,null,!0);ua(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function es(e,n){var t=$e(e.doc,n),r=nt(t);return r!=t&&(n=rn(r)),Jo(!0,e,r,n,1)}function ns(e,n){var t=$e(e.doc,n),r=tt(t);return r!=t&&(n=rn(r)),Jo(!0,e,t,n,-1)}function ts(e,n){var t=es(e,n.line),r=$e(e.doc,t.line),a=pe(r,e.doc.direction);if(!a||0==a[0].level){var i=Math.max(t.ch,r.text.search(/\S/)),o=n.line==t.line&&n.ch<=i&&n.ch;return ln(t.line,o?0:i,t.sticky)}return t}function rs(e,n,t){if("string"==typeof n&&!(n=$o[n]))return!1;e.display.input.ensurePolled();var r=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),t&&(e.display.shift=!1),a=n(e)!=W}finally{e.display.shift=r,e.state.suppressEdits=!1}return a}function as(e,n,t){for(var r=0;r<e.state.keyMaps.length;r++){var a=zo(n,e.state.keyMaps[r],t,e);if(a)return a}return e.options.extraKeys&&zo(n,e.options.extraKeys,t,e)||zo(n,e.options.keyMap,t,e)}var is=new G;function os(e,n,t,r){var a=e.state.keySeq;if(a){if(Ho(n))return"handled";if(/\'$/.test(n)?e.state.keySeq=null:is.set(50,(function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())})),ss(e,a+" "+n,t,r))return!0}return ss(e,n,t,r)}function ss(e,n,t,r){var a=as(e,n,r);return"multi"==a&&(e.state.keySeq=n),"handled"==a&&Pt(e,"keyHandled",e,n,t),"handled"!=a&&"multi"!=a||(Ve(t),Qr(e)),!!a}function ls(e,n){var t=Xo(n,!0);return!!t&&(n.shiftKey&&!e.state.keySeq?os(e,"Shift-"+t,n,(function(n){return rs(e,n,!0)}))||os(e,t,n,(function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return rs(e,n)})):os(e,t,n,(function(n){return rs(e,n)})))}function us(e,n,t){return os(e,"'"+t+"'",n,(function(n){return rs(e,n,!0)}))}var cs=null;function ds(e){var n=this;if((!e.target||e.target==n.display.input.getField())&&(n.curOp.focus=L(I(n)),!_e(n,e))){o&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;n.display.shift=16==r||e.shiftKey;var a=ls(n,e);A&&(cs=a?r:null,a||88!=r||Oe||!(v?e.metaKey:e.ctrlKey)||n.replaceSelection("",null,"cut")),t&&!v&&!a&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)||As(n)}}function As(e){var n=e.display.lineDiv;function t(e){18!=e.keyCode&&e.altKey||(E(n,"CodeMirror-crosshair"),ve(document,"keyup",t),ve(document,"mouseover",t))}M(n,"CodeMirror-crosshair"),Se(document,"keyup",t),Se(document,"mouseover",t)}function fs(e){16==e.keyCode&&(this.doc.sel.shift=!1),_e(this,e)}function hs(e){var n=this;if((!e.target||e.target==n.display.input.getField())&&!(Xt(n.display,e)||_e(n,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var t=e.keyCode,r=e.charCode;if(A&&t==cs)return cs=null,void Ve(e);if(!A||e.which&&!(e.which<10)||!ls(n,e)){var a=String.fromCharCode(null==r?t:r);"\b"!=a&&(us(n,e,a)||n.display.input.onKeyPress(e))}}}var ps,ms,Ss=400,gs=function(e,n,t){this.time=e,this.pos=n,this.button=t};function vs(e,n){var t=+new Date;return ms&&ms.compare(t,e,n)?(ps=ms=null,"triple"):ps&&ps.compare(t,e,n)?(ms=new gs(t,e,n),ps=null,"double"):(ps=new gs(t,e,n),ms=null,"single")}function xs(e){var n=this,t=n.display;if(!(_e(n,e)||t.activeTouch&&t.input.supportsTouch()))if(t.input.ensurePolled(),t.shift=e.shiftKey,Xt(t,e))l||(t.scroller.draggable=!1,setTimeout((function(){return t.scroller.draggable=!0}),100));else if(!Fs(n,e)){var r=Ir(n,e),a=Te(e),i=r?vs(r,a):"single";O(n).focus(),1==a&&n.state.selectingText&&n.state.selectingText(e),r&&_s(n,a,r,i,e)||(1==a?r?ws(n,r,i,e):Fe(e)==t.scroller&&Ve(e):2==a?(r&&Ii(n.doc,r),setTimeout((function(){return t.input.focus()}),20)):3==a&&(b?n.display.input.onContextMenu(e):Zr(n)))}}function _s(e,n,t,r,a){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),os(e,Wo(i=(1==n?"Left":2==n?"Middle":"Right")+i,a),a,(function(n){if("string"==typeof n&&(n=$o[n]),!n)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=n(e,t)!=W}finally{e.state.suppressEdits=!1}return r}))}function ys(e,n,t){var r=e.getOption("configureMouse"),a=r?r(e,n,t):{};if(null==a.unit){var i=x?t.shiftKey&&t.metaKey:t.altKey;a.unit=i?"rectangle":"single"==n?"char":"double"==n?"word":"line"}return(null==a.extend||e.doc.extend)&&(a.extend=e.doc.extend||t.shiftKey),null==a.addNew&&(a.addNew=v?t.metaKey:t.ctrlKey),null==a.moveOnDrag&&(a.moveOnDrag=!(v?t.altKey:t.ctrlKey)),a}function ws(e,n,t,r){o?setTimeout(N(Jr,e),0):e.curOp.focus=L(I(e));var a,i=ys(e,t,r),s=e.doc.sel;e.options.dragDrop&&Le&&!e.isReadOnly()&&"single"==t&&(a=s.contains(n))>-1&&(un((a=s.ranges[a]).from(),n)<0||n.xRel>0)&&(un(a.to(),n)>0||n.xRel<0)?bs(e,r,n,i):Cs(e,r,n,i)}function bs(e,n,t,r){var a=e.display,i=!1,u=Ma(e,(function(n){l&&(a.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Zr(e)),ve(a.wrapper.ownerDocument,"mouseup",u),ve(a.wrapper.ownerDocument,"mousemove",c),ve(a.scroller,"dragstart",d),ve(a.scroller,"drop",u),i||(Ve(n),r.addNew||Ii(e.doc,t,null,null,r.extend),l&&!f||o&&9==s?setTimeout((function(){a.wrapper.ownerDocument.body.focus({preventScroll:!0}),a.input.focus()}),20):a.input.focus())})),c=function(e){i=i||Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)>=10},d=function(){return i=!0};l&&(a.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,Se(a.wrapper.ownerDocument,"mouseup",u),Se(a.wrapper.ownerDocument,"mousemove",c),Se(a.scroller,"dragstart",d),Se(a.scroller,"drop",u),e.state.delayingBlurEvent=!0,setTimeout((function(){return a.input.focus()}),20),a.scroller.dragDrop&&a.scroller.dragDrop()}function Vs(e,n,t){if("char"==t)return new si(n,n);if("word"==t)return e.findWordAt(n);if("line"==t)return new si(ln(n.line,0),pn(e.doc,ln(n.line+1,0)));var r=t(e,n);return new si(r.from,r.to)}function Cs(e,n,t,r){o&&Zr(e);var a=e.display,i=e.doc;Ve(n);var s,l,u=i.sel,c=u.ranges;if(r.addNew&&!r.extend?(l=i.sel.contains(t),s=l>-1?c[l]:new si(t,t)):(s=i.sel.primary(),l=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(s=new si(t,t)),t=Ir(e,n,!0,!0),l=-1;else{var d=Vs(e,t,r.unit);s=r.extend?ki(s,d.anchor,d.head,r.extend):d}r.addNew?-1==l?(l=c.length,zi(i,li(e,c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==r.unit&&!r.extend?(zi(i,li(e,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=i.sel):Ni(i,l,s,K):(l=0,zi(i,new oi([s],0),K),u=i.sel);var A=t;function f(n){if(0!=un(A,n))if(A=n,"rectangle"==r.unit){for(var a=[],o=e.options.tabSize,c=U($e(i,t.line).text,t.ch,o),d=U($e(i,n.line).text,n.ch,o),f=Math.min(c,d),h=Math.max(c,d),p=Math.min(t.line,n.line),m=Math.min(e.lastLine(),Math.max(t.line,n.line));p<=m;p++){var S=$e(i,p).text,g=Y(S,f,o);f==h?a.push(new si(ln(p,g),ln(p,g))):S.length>g&&a.push(new si(ln(p,g),ln(p,Y(S,h,o))))}a.length||a.push(new si(t,t)),zi(i,li(e,u.ranges.slice(0,l).concat(a),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(n)}else{var v,x=s,_=Vs(e,n,r.unit),y=x.anchor;un(_.anchor,y)>0?(v=_.head,y=fn(x.from(),_.anchor)):(v=_.anchor,y=An(x.to(),_.head));var w=u.ranges.slice(0);w[l]=Es(e,new si(pn(i,y),v)),zi(i,li(e,w,l),K)}}var h=a.wrapper.getBoundingClientRect(),p=0;function m(n){var t=++p,o=Ir(e,n,!0,"rectangle"==r.unit);if(o)if(0!=un(o,A)){e.curOp.focus=L(I(e)),f(o);var s=ra(a,i);(o.line>=s.to||o.line<s.from)&&setTimeout(Ma(e,(function(){p==t&&m(n)})),150)}else{var l=n.clientY<h.top?-20:n.clientY>h.bottom?20:0;l&&setTimeout(Ma(e,(function(){p==t&&(a.scroller.scrollTop+=l,m(n))})),50)}}function S(n){e.state.selectingText=!1,p=1/0,n&&(Ve(n),a.input.focus()),ve(a.wrapper.ownerDocument,"mousemove",g),ve(a.wrapper.ownerDocument,"mouseup",v),i.history.lastSelOrigin=null}var g=Ma(e,(function(e){0!==e.buttons&&Te(e)?m(e):S(e)})),v=Ma(e,S);e.state.selectingText=v,Se(a.wrapper.ownerDocument,"mousemove",g),Se(a.wrapper.ownerDocument,"mouseup",v)}function Es(e,n){var t=n.anchor,r=n.head,a=$e(e.doc,t.line);if(0==un(t,r)&&t.sticky==r.sticky)return n;var i=pe(a);if(!i)return n;var o=fe(i,t.ch,t.sticky),s=i[o];if(s.from!=t.ch&&s.to!=t.ch)return n;var l,u=o+(s.from==t.ch==(1!=s.level)?0:1);if(0==u||u==i.length)return n;if(r.line!=t.line)l=(r.line-t.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=fe(i,r.ch,r.sticky),d=c-o||(r.ch-t.ch)*(1==s.level?-1:1);l=c==u-1||c==u?d<0:d>0}var A=i[u+(l?-1:0)],f=l==(1==A.level),h=f?A.from:A.to,p=f?"after":"before";return t.ch==h&&t.sticky==p?n:new si(new ln(t.line,h,p),r)}function Ds(e,n,t,r){var a,i;if(n.touches)a=n.touches[0].clientX,i=n.touches[0].clientY;else try{a=n.clientX,i=n.clientY}catch(c){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ve(n);var o=e.display,s=o.lineDiv.getBoundingClientRect();if(i>s.bottom||!we(e,t))return Ee(n);i-=s.top-o.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=o.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=a)return xe(e,t,e,an(e.doc,i),e.display.gutterSpecs[l].className,n),Ee(n)}}function Fs(e,n){return Ds(e,n,"gutterClick",!0)}function Ts(e,n){Xt(e.display,n)||Ps(e,n)||_e(e,n,"contextmenu")||b||e.display.input.onContextMenu(n)}function Ps(e,n){return!!we(e,"gutterContextMenu")&&Ds(e,n,"gutterContextMenu",!1)}function Rs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hr(e)}gs.prototype.compare=function(e,n,t){return this.time+Ss>e&&0==un(n,this.pos)&&t==this.button};var Ls={toString:function(){return"CodeMirror.Init"}},Ms={},Bs={};function ks(e){var n=e.optionHandlers;function t(t,r,a,i){e.defaults[t]=r,a&&(n[t]=i?function(e,n,t){t!=Ls&&a(e,n,t)}:a)}e.defineOption=t,e.Init=Ls,t("value","",(function(e,n){return e.setValue(n)}),!0),t("mode",null,(function(e,n){e.doc.modeOption=n,pi(e)}),!0),t("indentUnit",2,pi,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,(function(e){mi(e),hr(e),Nr(e)}),!0),t("lineSeparator",null,(function(e,n){if(e.doc.lineSep=n,n){var t=[],r=e.doc.first;e.doc.iter((function(e){for(var a=0;;){var i=e.text.indexOf(n,a);if(-1==i)break;a=i+n.length,t.push(ln(r,i))}r++}));for(var a=t.length-1;a>=0;a--)io(e.doc,n,t[a],ln(t[a].line,t[a].ch+n.length))}})),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,n,t){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),t!=Ls&&e.refresh()})),t("specialCharPlaceholder",gt,(function(e){return e.refresh()}),!0),t("electricChars",!0),t("inputStyle",g?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),t("spellcheck",!1,(function(e,n){return e.getInputField().spellcheck=n}),!0),t("autocorrect",!1,(function(e,n){return e.getInputField().autocorrect=n}),!0),t("autocapitalize",!1,(function(e,n){return e.getInputField().autocapitalize=n}),!0),t("rtlMoveVisually",!_),t("wholeLineUpdateBefore",!0),t("theme","default",(function(e){Rs(e),$a(e)}),!0),t("keyMap","default",(function(e,n,t){var r=Ko(n),a=t!=Ls&&Ko(t);a&&a.detach&&a.detach(e,r),r.attach&&r.attach(e,a||null)})),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Os,!0),t("gutters",[],(function(e,n){e.display.gutterSpecs=Ja(n,e.options.lineNumbers),$a(e)}),!0),t("fixedGutter",!0,(function(e,n){e.display.gutters.style.left=n?Mr(e.display)+"px":"0",e.refresh()}),!0),t("coverGutterNextToScrollbar",!1,(function(e){return xa(e)}),!0),t("scrollbarStyle","native",(function(e){wa(e),xa(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),t("lineNumbers",!1,(function(e,n){e.display.gutterSpecs=Ja(e.options.gutters,n),$a(e)}),!0),t("firstLineNumber",1,$a,!0),t("lineNumberFormatter",(function(e){return e}),$a,!0),t("showCursorWhenSelecting",!1,Wr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,(function(e,n){"nocursor"==n&&(ea(e),e.display.input.blur()),e.display.input.readOnlyChanged(n)})),t("screenReaderLabel",null,(function(e,n){n=""===n?null:n,e.display.input.screenReaderLabelChanged(n)})),t("disableInput",!1,(function(e,n){n||e.display.input.reset()}),!0),t("dragDrop",!0,Is),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Wr,!0),t("singleCursorHeightPerLine",!0,Wr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,mi,!0),t("addModeClass",!1,mi,!0),t("pollInterval",100),t("undoDepth",200,(function(e,n){return e.doc.history.undoDepth=n})),t("historyEventDelay",1250),t("viewportMargin",10,(function(e){return e.refresh()}),!0),t("maxHighlightLength",1e4,mi,!0),t("moveInputWithCursor",!0,(function(e,n){n||e.display.input.resetPosition()})),t("tabindex",null,(function(e,n){return e.display.input.getField().tabIndex=n||""})),t("autofocus",null),t("direction","ltr",(function(e,n){return e.doc.setDirection(n)}),!0),t("phrases",null)}function Is(e,n,t){if(!n!=!(t&&t!=Ls)){var r=e.display.dragFunctions,a=n?Se:ve;a(e.display.scroller,"dragstart",r.start),a(e.display.scroller,"dragenter",r.enter),a(e.display.scroller,"dragover",r.over),a(e.display.scroller,"dragleave",r.leave),a(e.display.scroller,"drop",r.drop)}}function Os(e){e.options.lineWrapping?(M(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),ct(e)),kr(e),Nr(e),hr(e),setTimeout((function(){return xa(e)}),100)}function Ns(e,n){var t=this;if(!(this instanceof Ns))return new Ns(e,n);this.options=n=n?j(n):{},j(Ms,n,!1);var r=n.value;"string"==typeof r?r=new Vo(r,n.mode,null,n.lineSeparator,n.direction):n.mode&&(r.modeOption=n.mode),this.doc=r;var a=new Ns.inputStyles[n.inputStyle](this),i=this.display=new ei(e,r,a,n);for(var u in i.wrapper.CodeMirror=this,Rs(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new G,keySeq:null,specialChars:null},n.autofocus&&!g&&i.input.focus(),o&&s<11&&setTimeout((function(){return t.display.input.reset(!0)}),20),js(this),Lo(),Va(this),this.curOp.forceUpdate=!0,xi(this,r),n.autofocus&&!g||this.hasFocus()?setTimeout((function(){t.hasFocus()&&!t.state.focused&&$r(t)}),20):ea(this),Bs)Bs.hasOwnProperty(u)&&Bs[u](this,n[u],Ls);Qa(this),n.finishInit&&n.finishInit(this);for(var c=0;c<Us.length;++c)Us[c](this);Ca(this),l&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function js(e){var n=e.display;Se(n.scroller,"mousedown",Ma(e,xs)),Se(n.scroller,"dblclick",o&&s<11?Ma(e,(function(n){if(!_e(e,n)){var t=Ir(e,n);if(t&&!Fs(e,n)&&!Xt(e.display,n)){Ve(n);var r=e.findWordAt(t);Ii(e.doc,r.anchor,r.head)}}})):function(n){return _e(e,n)||Ve(n)}),Se(n.scroller,"contextmenu",(function(n){return Ts(e,n)})),Se(n.input.getField(),"contextmenu",(function(t){n.scroller.contains(t.target)||Ts(e,t)}));var t,r={end:0};function a(){n.activeTouch&&(t=setTimeout((function(){return n.activeTouch=null}),1e3),(r=n.activeTouch).end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var n=e.touches[0];return n.radiusX<=1&&n.radiusY<=1}function l(e,n){if(null==n.left)return!0;var t=n.left-e.left,r=n.top-e.top;return t*t+r*r>400}Se(n.scroller,"touchstart",(function(a){if(!_e(e,a)&&!i(a)&&!Fs(e,a)){n.input.ensurePolled(),clearTimeout(t);var o=+new Date;n.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==a.touches.length&&(n.activeTouch.left=a.touches[0].pageX,n.activeTouch.top=a.touches[0].pageY)}})),Se(n.scroller,"touchmove",(function(){n.activeTouch&&(n.activeTouch.moved=!0)})),Se(n.scroller,"touchend",(function(t){var r=n.activeTouch;if(r&&!Xt(n,t)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,o=e.coordsChar(n.activeTouch,"page");i=!r.prev||l(r,r.prev)?new si(o,o):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(o):new si(ln(o.line,0),pn(e.doc,ln(o.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),Ve(t)}a()})),Se(n.scroller,"touchcancel",a),Se(n.scroller,"scroll",(function(){n.scroller.clientHeight&&(ha(e,n.scroller.scrollTop),ma(e,n.scroller.scrollLeft,!0),xe(e,"scroll",e))})),Se(n.scroller,"mousewheel",(function(n){return ii(e,n)})),Se(n.scroller,"DOMMouseScroll",(function(n){return ii(e,n)})),Se(n.wrapper,"scroll",(function(){return n.wrapper.scrollTop=n.wrapper.scrollLeft=0})),n.dragFunctions={enter:function(n){_e(e,n)||De(n)},over:function(n){_e(e,n)||(Fo(e,n),De(n))},start:function(n){return Do(e,n)},drop:Ma(e,Eo),leave:function(n){_e(e,n)||To(e)}};var u=n.input.getField();Se(u,"keyup",(function(n){return fs.call(e,n)})),Se(u,"keydown",Ma(e,ds)),Se(u,"keypress",Ma(e,hs)),Se(u,"focus",(function(n){return $r(e,n)})),Se(u,"blur",(function(n){return ea(e,n)}))}Ns.defaults=Ms,Ns.optionHandlers=Bs;var Us=[];function Gs(e,n,t,r){var a,i=e.doc;null==t&&(t="add"),"smart"==t&&(i.mode.indent?a=yn(e,n).state:t="prev");var o=e.options.tabSize,s=$e(i,n),l=U(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==t&&((u=i.mode.indent(a,s.text.slice(c.length),s.text))==W||u>150)){if(!r)return;t="prev"}}else u=0,t="not";"prev"==t?u=n>i.first?U($e(i,n-1).text,null,o):0:"add"==t?u=l+e.options.indentUnit:"subtract"==t?u=l-e.options.indentUnit:"number"==typeof t&&(u=l+t),u=Math.max(0,u);var d="",A=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/o);f;--f)A+=o,d+="\t";if(A<u&&(d+=J(u-A)),d!=c)return io(i,d,ln(n,0),ln(n,c.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var p=i.sel.ranges[h];if(p.head.line==n&&p.head.ch<c.length){var m=ln(n,c.length);Ni(i,h,new si(m,m));break}}}Ns.defineInitHook=function(e){return Us.push(e)};var zs=null;function Hs(e){zs=e}function Ws(e,n,t,r,a){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var o=+new Date-200,s="paste"==a||e.state.pasteIncoming>o,l=ke(n),u=null;if(s&&r.ranges.length>1)if(zs&&zs.text.join("\n")==n){if(r.ranges.length%zs.text.length==0){u=[];for(var c=0;c<zs.text.length;c++)u.push(i.splitLines(zs.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=$(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,A=r.ranges.length-1;A>=0;A--){var f=r.ranges[A],h=f.from(),p=f.to();f.empty()&&(t&&t>0?h=ln(h.line,h.ch-t):e.state.overwrite&&!s?p=ln(p.line,Math.min($e(i,p.line).text.length,p.ch+Z(l).length)):s&&zs&&zs.lineWise&&zs.text.join("\n")==l.join("\n")&&(h=p=ln(h.line,0)));var m={from:h,to:p,text:u?u[A%u.length]:l,origin:a||(s?"paste":e.state.cutIncoming>o?"cut":"+input")};$i(e.doc,m),Pt(e,"inputRead",e,m)}n&&!s&&Ks(e,n),ua(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Xs(e,n){var t=e.clipboardData&&e.clipboardData.getData("Text");if(t)return e.preventDefault(),n.isReadOnly()||n.options.disableInput||!n.hasFocus()||La(n,(function(){return Ws(n,t,0,null,"paste")})),!0}function Ks(e,n){if(e.options.electricChars&&e.options.smartIndent)for(var t=e.doc.sel,r=t.ranges.length-1;r>=0;r--){var a=t.ranges[r];if(!(a.head.ch>100||r&&t.ranges[r-1].head.line==a.head.line)){var i=e.getModeAt(a.head),o=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(n.indexOf(i.electricChars.charAt(s))>-1){o=Gs(e,a.head.line,"smart");break}}else i.electricInput&&i.electricInput.test($e(e.doc,a.head.line).text.slice(0,a.head.ch))&&(o=Gs(e,a.head.line,"smart"));o&&Pt(e,"electricInput",e,a.head.line)}}}function qs(e){for(var n=[],t=[],r=0;r<e.doc.sel.ranges.length;r++){var a=e.doc.sel.ranges[r].head.line,i={anchor:ln(a,0),head:ln(a+1,0)};t.push(i),n.push(e.getRange(i.anchor,i.head))}return{text:n,ranges:t}}function Ys(e,n,t,r){e.setAttribute("autocorrect",t?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!n)}function Qs(){var e=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),n=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ys(e),n}function Js(e){var n=e.optionHandlers,t=e.helpers={};e.prototype={constructor:e,focus:function(){O(this).focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,a=r[e];r[e]==t&&"mode"!=e||(r[e]=t,n.hasOwnProperty(e)&&Ma(this,n[e])(this,t,a),xe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,n){this.state.keyMaps[n?"push":"unshift"](Ko(e))},removeKeyMap:function(e){for(var n=this.state.keyMaps,t=0;t<n.length;++t)if(n[t]==e||n[t].name==e)return n.splice(t,1),!0},addOverlay:Ba((function(n,t){var r=n.token?n:e.getMode(this.options,n);if(r.startState)throw new Error("Overlays may not be stateful.");ee(this.state.overlays,{mode:r,modeSpec:n,opaque:t&&t.opaque,priority:t&&t.priority||0},(function(e){return e.priority})),this.state.modeGen++,Nr(this)})),removeOverlay:Ba((function(e){for(var n=this.state.overlays,t=0;t<n.length;++t){var r=n[t].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return n.splice(t,1),this.state.modeGen++,void Nr(this)}})),indentLine:Ba((function(e,n,t){"string"!=typeof n&&"number"!=typeof n&&(n=null==n?this.options.smartIndent?"smart":"prev":n?"add":"subtract"),on(this.doc,e)&&Gs(this,e,n,t)})),indentSelection:Ba((function(e){for(var n=this.doc.sel.ranges,t=-1,r=0;r<n.length;r++){var a=n[r];if(a.empty())a.head.line>t&&(Gs(this,a.head.line,e,!0),t=a.head.line,r==this.doc.sel.primIndex&&ua(this));else{var i=a.from(),o=a.to(),s=Math.max(t,i.line);t=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;l<t;++l)Gs(this,l,e);var u=this.doc.sel.ranges;0==i.ch&&n.length==u.length&&u[r].from().ch>0&&Ni(this.doc,r,new si(i,u[r].to()),X)}}})),getTokenAt:function(e,n){return En(this,e,n)},getLineTokens:function(e,n){return En(this,ln(e),n,!0)},getTokenTypeAt:function(e){e=pn(this.doc,e);var n,t=_n(this,$e(this.doc,e.line)),r=0,a=(t.length-1)/2,i=e.ch;if(0==i)n=t[2];else for(;;){var o=r+a>>1;if((o?t[2*o-1]:0)>=i)a=o;else{if(!(t[2*o+1]<i)){n=t[2*o+2];break}r=o+1}}var s=n?n.indexOf("overlay "):-1;return s<0?n:0==s?null:n.slice(0,s-1)},getModeAt:function(n){var t=this.doc.mode;return t.innerMode?e.innerMode(t,this.getTokenAt(n).state).mode:t},getHelper:function(e,n){return this.getHelpers(e,n)[0]},getHelpers:function(e,n){var r=[];if(!t.hasOwnProperty(n))return r;var a=t[n],i=this.getModeAt(e);if("string"==typeof i[n])a[i[n]]&&r.push(a[i[n]]);else if(i[n])for(var o=0;o<i[n].length;o++){var s=a[i[n][o]];s&&r.push(s)}else i.helperType&&a[i.helperType]?r.push(a[i.helperType]):a[i.name]&&r.push(a[i.name]);for(var l=0;l<a._global.length;l++){var u=a._global[l];u.pred(i,this)&&-1==z(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,n){var t=this.doc;return yn(this,(e=hn(t,null==e?t.first+t.size-1:e))+1,n).state},cursorCoords:function(e,n){var t=this.doc.sel.primary();return _r(this,null==e?t.head:"object"==typeof e?pn(this.doc,e):e?t.from():t.to(),n||"page")},charCoords:function(e,n){return xr(this,pn(this.doc,e),n||"page")},coordsChar:function(e,n){return br(this,(e=vr(this,e,n||"page")).left,e.top)},lineAtHeight:function(e,n){return e=vr(this,{top:e,left:0},n||"page").top,an(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,n,t){var r,a=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,a=!0),r=$e(this.doc,e)}else r=e;return gr(this,r,{top:0,left:0},n||"page",t||a).top+(a?this.doc.height-lt(r):0)},defaultTextHeight:function(){return Pr(this.display)},defaultCharWidth:function(){return Rr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,n,t,r,a){var i=this.display,o=(e=_r(this,pn(this.doc,e))).bottom,s=e.left;if(n.style.position="absolute",n.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(n),i.sizer.appendChild(n),"over"==r)o=e.top;else if("above"==r||"near"==r){var l=Math.max(i.wrapper.clientHeight,this.doc.height),u=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+n.offsetHeight>l)&&e.top>n.offsetHeight?o=e.top-n.offsetHeight:e.bottom+n.offsetHeight<=l&&(o=e.bottom),s+n.offsetWidth>u&&(s=u-n.offsetWidth)}n.style.top=o+"px",n.style.left=n.style.right="","right"==a?(s=i.sizer.clientWidth-n.offsetWidth,n.style.right="0px"):("left"==a?s=0:"middle"==a&&(s=(i.sizer.clientWidth-n.offsetWidth)/2),n.style.left=s+"px"),t&&oa(this,{left:s,top:o,right:s+n.offsetWidth,bottom:o+n.offsetHeight})},triggerOnKeyDown:Ba(ds),triggerOnKeyPress:Ba(hs),triggerOnKeyUp:fs,triggerOnMouseDown:Ba(xs),execCommand:function(e){if($o.hasOwnProperty(e))return $o[e].call(null,this)},triggerElectric:Ba((function(e){Ks(this,e)})),findPosH:function(e,n,t,r){var a=1;n<0&&(a=-1,n=-n);for(var i=pn(this.doc,e),o=0;o<n&&!(i=Zs(this.doc,i,a,t,r)).hitSide;++o);return i},moveH:Ba((function(e,n){var t=this;this.extendSelectionsBy((function(r){return t.display.shift||t.doc.extend||r.empty()?Zs(t.doc,r.head,e,n,t.options.rtlMoveVisually):e<0?r.from():r.to()}),q)})),deleteH:Ba((function(e,n){var t=this.doc.sel,r=this.doc;t.somethingSelected()?r.replaceSelection("",null,"+delete"):qo(this,(function(t){var a=Zs(r,t.head,e,n,!1);return e<0?{from:a,to:t.head}:{from:t.head,to:a}}))})),findPosV:function(e,n,t,r){var a=1,i=r;n<0&&(a=-1,n=-n);for(var o=pn(this.doc,e),s=0;s<n;++s){var l=_r(this,o,"div");if(null==i?i=l.left:l.left=i,(o=$s(this,l,a,t)).hitSide)break}return o},moveV:Ba((function(e,n){var t=this,r=this.doc,a=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(o){if(i)return e<0?o.from():o.to();var s=_r(t,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),a.push(s.left);var l=$s(t,s,e,n);return"page"==n&&o==r.sel.primary()&&la(t,xr(t,l,"div").top-s.top),l}),q),a.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=a[o]})),findWordAt:function(e){var n=$e(this.doc,e.line).text,t=e.ch,r=e.ch;if(n){var a=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=n.length||!t?++r:--t;for(var i=n.charAt(t),o=ie(i,a)?function(e){return ie(e,a)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ie(e)};t>0&&o(n.charAt(t-1));)--t;for(;r<n.length&&o(n.charAt(r));)++r}return new si(ln(e.line,t),ln(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?M(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),xe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L(I(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ba((function(e,n){ca(this,e,n)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Qt(this)-this.display.barHeight,width:e.scrollWidth-Qt(this)-this.display.barWidth,clientHeight:Zt(this),clientWidth:Jt(this)}},scrollIntoView:Ba((function(e,n){null==e?(e={from:this.doc.sel.primary().head,to:null},null==n&&(n=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ln(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=n||0,null!=e.from.line?da(this,e):fa(this,e.from,e.to,e.margin)})),setSize:Ba((function(e,n){var t=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=n&&(this.display.wrapper.style.height=r(n)),this.options.lineWrapping&&fr(this);var a=this.display.viewFrom;this.doc.iter(a,this.display.viewTo,(function(e){if(e.widgets)for(var n=0;n<e.widgets.length;n++)if(e.widgets[n].noHScroll){jr(t,a,"widget");break}++a})),this.curOp.forceUpdate=!0,xe(this,"refresh",this)})),operation:function(e){return La(this,e)},startOperation:function(){return Va(this)},endOperation:function(){return Ca(this)},refresh:Ba((function(){var e=this.display.cachedTextHeight;Nr(this),this.curOp.forceUpdate=!0,hr(this),ca(this,this.doc.scrollLeft,this.doc.scrollTop),Ka(this.display),(null==e||Math.abs(e-Pr(this.display))>.5||this.options.lineWrapping)&&kr(this),xe(this,"refresh",this)})),swapDoc:Ba((function(e){var n=this.doc;return n.cm=null,this.state.selectingText&&this.state.selectingText(),xi(this,e),hr(this),this.display.input.reset(),ca(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Pt(this,"swapDoc",this,n),n})),phrase:function(e){var n=this.options.phrases;return n&&Object.prototype.hasOwnProperty.call(n,e)?n[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},be(e),e.registerHelper=function(n,r,a){t.hasOwnProperty(n)||(t[n]=e[n]={_global:[]}),t[n][r]=a},e.registerGlobalHelper=function(n,r,a,i){e.registerHelper(n,r,i),t[n]._global.push({pred:a,val:i})}}function Zs(e,n,t,r,a){var i=n,o=t,s=$e(e,n.line),l=a&&"rtl"==e.direction?-t:t;function u(){var t=n.line+l;return!(t<e.first||t>=e.first+e.size)&&(n=new ln(t,n.ch,n.sticky),s=$e(e,t))}function c(i){var o;if("codepoint"==r){var c=s.text.charCodeAt(n.ch+(t>0?0:-1));if(isNaN(c))o=null;else{var d=t>0?c>=55296&&c<56320:c>=56320&&c<57343;o=new ln(n.line,Math.max(0,Math.min(s.text.length,n.ch+t*(d?2:1))),-t)}}else o=a?Zo(e.cm,s,n,t):Qo(s,n,t);if(null==o){if(i||!u())return!1;n=Jo(a,e.cm,s,n.line,l)}else n=o;return!0}if("char"==r||"codepoint"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var d=null,A="group"==r,f=e.cm&&e.cm.getHelper(n,"wordChars"),h=!0;!(t<0)||c(!h);h=!1){var p=s.text.charAt(n.ch)||"\n",m=ie(p,f)?"w":A&&"\n"==p?"n":!A||/\s/.test(p)?null:"p";if(!A||h||m||(m="s"),d&&d!=m){t<0&&(t=1,c(),n.sticky="after");break}if(m&&(d=m),t>0&&!c(!h))break}var S=Yi(e,n,i,o,!0);return cn(i,S)&&(S.hitSide=!0),S}function $s(e,n,t,r){var a,i,o=e.doc,s=n.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,O(e).innerHeight||o(e).documentElement.clientHeight),u=Math.max(l-.5*Pr(e.display),3);a=(t>0?n.bottom:n.top)+t*u}else"line"==r&&(a=t>0?n.bottom+3:n.top-3);for(;(i=br(e,s,a)).outside;){if(t<0?a<=0:a>=o.height){i.hitSide=!0;break}a+=5*t}return i}var el=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new G,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function nl(e,n){var t=rr(e,n.line);if(!t||t.hidden)return null;var r=$e(e.doc,n.line),a=er(t,r,n.line),i=pe(r,e.doc.direction),o="left";i&&(o=fe(i,n.ch)%2?"right":"left");var s=lr(a.map,n.ch,o);return s.offset="right"==s.collapse?s.end:s.start,s}function tl(e){for(var n=e;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}function rl(e,n){return n&&(e.bad=!0),e}function al(e,n,t,r,a){var i="",o=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(n){return n.id==e}}function c(){o&&(i+=s,l&&(i+=s),o=l=!1)}function d(e){e&&(c(),i+=e)}function A(n){if(1==n.nodeType){var t=n.getAttribute("cm-text");if(t)return void d(t);var i,f=n.getAttribute("cm-marker");if(f){var h=e.findMarks(ln(r,0),ln(a+1,0),u(+f));return void(h.length&&(i=h[0].find(0))&&d(en(e.doc,i.from,i.to).join(s)))}if("false"==n.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(n.nodeName);if(!/^br$/i.test(n.nodeName)&&0==n.textContent.length)return;p&&c();for(var m=0;m<n.childNodes.length;m++)A(n.childNodes[m]);/^(pre|p)$/i.test(n.nodeName)&&(l=!0),p&&(o=!0)}else 3==n.nodeType&&d(n.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;A(n),n!=t;)n=n.nextSibling,l=!1;return i}function il(e,n,t){var r;if(n==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[t]))return rl(e.clipPos(ln(e.display.viewTo-1)),!0);n=null,t=0}else for(r=n;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var i=e.display.view[a];if(i.node==r)return ol(i,n,t)}}function ol(e,n,t){var r=e.text.firstChild,a=!1;if(!n||!R(r,n))return rl(ln(rn(e.line),0),!0);if(n==r&&(a=!0,n=r.childNodes[t],t=0,!n)){var i=e.rest?Z(e.rest):e.line;return rl(ln(rn(i),i.text.length),a)}var o=3==n.nodeType?n:null,s=n;for(o||1!=n.childNodes.length||3!=n.firstChild.nodeType||(o=n.firstChild,t&&(t=o.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,u=l.maps;function c(n,t,r){for(var a=-1;a<(u?u.length:0);a++)for(var i=a<0?l.map:u[a],o=0;o<i.length;o+=3){var s=i[o+2];if(s==n||s==t){var c=rn(a<0?e.line:e.rest[a]),d=i[o]+r;return(r<0||s!=n)&&(d=i[o+(r?1:0)]),ln(c,d)}}}var d=c(o,s,t);if(d)return rl(d,a);for(var A=s.nextSibling,f=o?o.nodeValue.length-t:0;A;A=A.nextSibling){if(d=c(A,A.firstChild,0))return rl(ln(d.line,d.ch-f),a);f+=A.textContent.length}for(var h=s.previousSibling,p=t;h;h=h.previousSibling){if(d=c(h,h.firstChild,-1))return rl(ln(d.line,d.ch+p),a);p+=h.textContent.length}}el.prototype.init=function(e){var n=this,t=this,r=t.cm,a=t.div=e.lineDiv;function i(e){for(var n=e.target;n;n=n.parentNode){if(n==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(n.className))break}return!1}function o(e){if(i(e)&&!_e(r,e)){if(r.somethingSelected())Hs({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var n=qs(r);Hs({lineWise:!0,text:n.text}),"cut"==e.type&&r.operation((function(){r.setSelections(n.ranges,0,X),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=zs.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=Qs(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=zs.text.join("\n");var u=L(a.ownerDocument);k(l),setTimeout((function(){r.display.lineSpace.removeChild(s),u.focus(),u==a&&t.showPrimarySelection()}),50)}}a.contentEditable=!0,Ys(a,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),Se(a,"paste",(function(e){!i(e)||_e(r,e)||Xs(e,r)||s<=11&&setTimeout(Ma(r,(function(){return n.updateFromDOM()})),20)})),Se(a,"compositionstart",(function(e){n.composing={data:e.data,done:!1}})),Se(a,"compositionupdate",(function(e){n.composing||(n.composing={data:e.data,done:!1})})),Se(a,"compositionend",(function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)})),Se(a,"touchstart",(function(){return t.forceCompositionEnd()})),Se(a,"input",(function(){n.composing||n.readFromDOMSoon()})),Se(a,"copy",o),Se(a,"cut",o)},el.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},el.prototype.prepareSelection=function(){var e=Xr(this.cm,!1);return e.focus=L(this.div.ownerDocument)==this.div,e},el.prototype.showSelection=function(e,n){e&&this.cm.display.view.length&&((e.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(e))},el.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},el.prototype.showPrimarySelection=function(){var e=this.getSelection(),n=this.cm,r=n.doc.sel.primary(),a=r.from(),i=r.to();if(n.display.viewTo==n.display.viewFrom||a.line>=n.display.viewTo||i.line<n.display.viewFrom)e.removeAllRanges();else{var o=il(n,e.anchorNode,e.anchorOffset),s=il(n,e.focusNode,e.focusOffset);if(!o||o.bad||!s||s.bad||0!=un(fn(o,s),a)||0!=un(An(o,s),i)){var l=n.display.view,u=a.line>=n.display.viewFrom&&nl(n,a)||{node:l[0].measure.map[2],offset:0},c=i.line<n.display.viewTo&&nl(n,i);if(!c){var d=l[l.length-1].measure,A=d.maps?d.maps[d.maps.length-1]:d.map;c={node:A[A.length-1],offset:A[A.length-2]-A[A.length-3]}}if(u&&c){var f,h=e.rangeCount&&e.getRangeAt(0);try{f=C(u.node,u.offset,c.offset,c.node)}catch(p){}f&&(!t&&n.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),h&&null==e.anchorNode?e.addRange(h):t&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},el.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},el.prototype.showMultipleSelections=function(e){F(this.cm.display.cursorDiv,e.cursors),F(this.cm.display.selectionDiv,e.selection)},el.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},el.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var n=e.getRangeAt(0).commonAncestorContainer;return R(this.div,n)},el.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&L(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},el.prototype.blur=function(){this.div.blur()},el.prototype.getField=function(){return this.div},el.prototype.supportsTouch=function(){return!0},el.prototype.receivedFocus=function(){var e=this,n=this;function t(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,t))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):La(this.cm,(function(){return n.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},el.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},el.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),n=this.cm;if(S&&c&&this.cm.display.gutterSpecs.length&&tl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var t=il(n,e.anchorNode,e.anchorOffset),r=il(n,e.focusNode,e.focusOffset);t&&r&&La(n,(function(){zi(n.doc,ui(t,r),X),(t.bad||r.bad)&&(n.curOp.selectionChanged=!0)}))}}},el.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,n,t,r=this.cm,a=r.display,i=r.doc.sel.primary(),o=i.from(),s=i.to();if(0==o.ch&&o.line>r.firstLine()&&(o=ln(o.line-1,$e(r.doc,o.line-1).length)),s.ch==$e(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=ln(s.line+1,0)),o.line<a.viewFrom||s.line>a.viewTo-1)return!1;o.line==a.viewFrom||0==(e=Or(r,o.line))?(n=rn(a.view[0].line),t=a.view[0].node):(n=rn(a.view[e].line),t=a.view[e-1].node.nextSibling);var l,u,c=Or(r,s.line);if(c==a.view.length-1?(l=a.viewTo-1,u=a.lineDiv.lastChild):(l=rn(a.view[c+1].line)-1,u=a.view[c+1].node.previousSibling),!t)return!1;for(var d=r.doc.splitLines(al(r,t,u,n,l)),A=en(r.doc,ln(n,0),ln(l,$e(r.doc,l).text.length));d.length>1&&A.length>1;)if(Z(d)==Z(A))d.pop(),A.pop(),l--;else{if(d[0]!=A[0])break;d.shift(),A.shift(),n++}for(var f=0,h=0,p=d[0],m=A[0],S=Math.min(p.length,m.length);f<S&&p.charCodeAt(f)==m.charCodeAt(f);)++f;for(var g=Z(d),v=Z(A),x=Math.min(g.length-(1==d.length?f:0),v.length-(1==A.length?f:0));h<x&&g.charCodeAt(g.length-h-1)==v.charCodeAt(v.length-h-1);)++h;if(1==d.length&&1==A.length&&n==o.line)for(;f&&f>o.ch&&g.charCodeAt(g.length-h-1)==v.charCodeAt(v.length-h-1);)f--,h++;d[d.length-1]=g.slice(0,g.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var _=ln(n,f),y=ln(l,A.length?Z(A).length-h:0);return d.length>1||d[0]||un(_,y)?(io(r.doc,d,_,y,"+input"),!0):void 0},el.prototype.ensurePolled=function(){this.forceCompositionEnd()},el.prototype.reset=function(){this.forceCompositionEnd()},el.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},el.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},el.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||La(this.cm,(function(){return Nr(e.cm)}))},el.prototype.setUneditable=function(e){e.contentEditable="false"},el.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ma(this.cm,Ws)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},el.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},el.prototype.onContextMenu=function(){},el.prototype.resetPosition=function(){},el.prototype.needsContentAttribute=!0;var sl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new G,this.hasSelection=!1,this.composing=null};function ll(e,n){if((n=n?j(n):{}).value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var t=L(e.ownerDocument);n.autofocus=t==e||null!=e.getAttribute("autofocus")&&t==document.body}function r(){e.value=s.getValue()}var a;if(e.form&&(Se(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var i=e.form;a=i.submit;try{var o=i.submit=function(){r(),i.submit=a,i.submit(),i.submit=o}}catch(l){}}n.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ve(e.form,"submit",r),n.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=a))}},e.style.display="none";var s=Ns((function(n){return e.parentNode.insertBefore(n,e.nextSibling)}),n);return s}function ul(e){e.off=ve,e.on=Se,e.wheelEventPixels=ai,e.Doc=Vo,e.splitLines=ke,e.countColumn=U,e.findColumn=Y,e.isWordChar=ae,e.Pass=W,e.signal=xe,e.Line=dt,e.changeEnd=ci,e.scrollbarModel=ya,e.Pos=ln,e.cmpPos=un,e.modes=Ue,e.mimeModes=Ge,e.resolveMode=We,e.getMode=Xe,e.modeExtensions=Ke,e.extendMode=qe,e.copyState=Ye,e.startState=Je,e.innerMode=Qe,e.commands=$o,e.keyMap=jo,e.keyName=Xo,e.isModifierKey=Ho,e.lookupKey=zo,e.normalizeKeyMap=Go,e.StringStream=Ze,e.SharedTextMarker=vo,e.TextMarker=So,e.LineWidget=fo,e.e_preventDefault=Ve,e.e_stopPropagation=Ce,e.e_stop=De,e.addClass=M,e.contains=R,e.rmClass=E,e.keyNames=ko}sl.prototype.init=function(e){var n=this,t=this,r=this.cm;this.createField(e);var a=this.textarea;function i(e){if(!_e(r,e)){if(r.somethingSelected())Hs({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var n=qs(r);Hs({lineWise:!0,text:n.text}),"cut"==e.type?r.setSelections(n.ranges,null,X):(t.prevInput="",a.value=n.text.join("\n"),k(a))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(a.style.width="0px"),Se(a,"input",(function(){o&&s>=9&&n.hasSelection&&(n.hasSelection=null),t.poll()})),Se(a,"paste",(function(e){_e(r,e)||Xs(e,r)||(r.state.pasteIncoming=+new Date,t.fastPoll())})),Se(a,"cut",i),Se(a,"copy",i),Se(e.scroller,"paste",(function(n){if(!Xt(e,n)&&!_e(r,n)){if(!a.dispatchEvent)return r.state.pasteIncoming=+new Date,void t.focus();var i=new Event("paste");i.clipboardData=n.clipboardData,a.dispatchEvent(i)}})),Se(e.lineSpace,"selectstart",(function(n){Xt(e,n)||Ve(n)})),Se(a,"compositionstart",(function(){var e=r.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),Se(a,"compositionend",(function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)}))},sl.prototype.createField=function(e){this.wrapper=Qs(),this.textarea=this.wrapper.firstChild},sl.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},sl.prototype.prepareSelection=function(){var e=this.cm,n=e.display,t=e.doc,r=Xr(e);if(e.options.moveInputWithCursor){var a=_r(e,t.sel.primary().head,"div"),i=n.wrapper.getBoundingClientRect(),o=n.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,a.top+o.top-i.top)),r.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,a.left+o.left-i.left))}return r},sl.prototype.showSelection=function(e){var n=this.cm.display;F(n.cursorDiv,e.cursors),F(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},sl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var n=this.cm;if(n.somethingSelected()){this.prevInput="";var t=n.getSelection();this.textarea.value=t,n.state.focused&&k(this.textarea),o&&s>=9&&(this.hasSelection=t)}else e||(this.prevInput=this.textarea.value="",o&&s>=9&&(this.hasSelection=null))}},sl.prototype.getField=function(){return this.textarea},sl.prototype.supportsTouch=function(){return!1},sl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!g||L(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},sl.prototype.blur=function(){this.textarea.blur()},sl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},sl.prototype.receivedFocus=function(){this.slowPoll()},sl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},sl.prototype.fastPoll=function(){var e=!1,n=this;function t(){n.poll()||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}n.pollingFast=!0,n.polling.set(20,t)},sl.prototype.poll=function(){var e=this,n=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!n.state.focused||Ie(t)&&!r&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var a=t.value;if(a==r&&!n.somethingSelected())return!1;if(o&&s>=9&&this.hasSelection===a||v&&/[\uf700-\uf7ff]/.test(a))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var i=a.charCodeAt(0);if(8203!=i||r||(r="\u200b"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(r.length,a.length);l<u&&r.charCodeAt(l)==a.charCodeAt(l);)++l;return La(n,(function(){Ws(n,a.slice(l),r.length-l,null,e.composing?"*compose":null),a.length>1e3||a.indexOf("\n")>-1?t.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=n.markText(e.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},sl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},sl.prototype.onKeyPress=function(){o&&s>=9&&(this.hasSelection=null),this.fastPoll()},sl.prototype.onContextMenu=function(e){var n=this,t=n.cm,r=t.display,a=n.textarea;n.contextMenuPending&&n.contextMenuPending();var i=Ir(t,e),u=r.scroller.scrollTop;if(i&&!A){t.options.resetSelectionOnContextMenu&&-1==t.doc.sel.contains(i)&&Ma(t,zi)(t.doc,ui(i),X);var c,d=a.style.cssText,f=n.wrapper.style.cssText,h=n.wrapper.offsetParent.getBoundingClientRect();n.wrapper.style.cssText="position: static",a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=a.ownerDocument.defaultView.scrollY),r.input.focus(),l&&a.ownerDocument.defaultView.scrollTo(null,c),r.input.reset(),t.somethingSelected()||(a.value=n.prevInput=" "),n.contextMenuPending=m,r.selForContextMenu=t.doc.sel,clearTimeout(r.detectingSelectAll),o&&s>=9&&p(),b?(De(e),Se(window,"mouseup",(function e(){ve(window,"mouseup",e),setTimeout(m,20)}))):setTimeout(m,50)}function p(){if(null!=a.selectionStart){var e=t.somethingSelected(),i="\u200b"+(e?a.value:"");a.value="\u21da",a.value=i,n.prevInput=e?"":"\u200b",a.selectionStart=1,a.selectionEnd=i.length,r.selForContextMenu=t.doc.sel}}function m(){if(n.contextMenuPending==m&&(n.contextMenuPending=!1,n.wrapper.style.cssText=f,a.style.cssText=d,o&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=a.selectionStart)){(!o||o&&s<9)&&p();var e=0,i=function i(){r.selForContextMenu==t.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"\u200b"==n.prevInput?Ma(t,Ji)(t):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},sl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},sl.prototype.setUneditable=function(){},sl.prototype.needsContentAttribute=!1,ks(Ns),Js(Ns);var cl="iter insert remove copy getEditor constructor".split(" ");for(var dl in Vo.prototype)Vo.prototype.hasOwnProperty(dl)&&z(cl,dl)<0&&(Ns.prototype[dl]=function(e){return function(){return e.apply(this.doc,arguments)}}(Vo.prototype[dl]));return be(Vo),Ns.inputStyles={textarea:sl,contenteditable:el},Ns.defineMode=function(e){Ns.defaults.mode||"null"==e||(Ns.defaults.mode=e),ze.apply(this,arguments)},Ns.defineMIME=He,Ns.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ns.defineMIME("text/plain","null"),Ns.defineExtension=function(e,n){Ns.prototype[e]=n},Ns.defineDocExtension=function(e,n){Vo.prototype[e]=n},Ns.fromTextArea=ll,ul(Ns),Ns.version="5.65.7",Ns}()},4365:function(e,n,t){!function(e){"use strict";function n(e,n,t,r,a,i){this.indented=e,this.column=n,this.type=t,this.info=r,this.align=a,this.prev=i}function t(e,t,r,a){var i=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(i=e.context.indented),e.context=new n(i,t,r,a,null,e.context)}function r(e){var n=e.context.type;return")"!=n&&"]"!=n&&"}"!=n||(e.indented=e.context.indented),e.context=e.context.prev}function a(e,n,t){return"variable"==n.prevToken||"type"==n.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,t))||!(!n.typeAtEndOfLine||e.column()!=e.indentation())||void 0}function i(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function o(e){for(var n={},t=e.split(" "),r=0;r<t.length;++r)n[t[r]]=!0;return n}function s(e,n){return"function"===typeof e?e(n):e.propertyIsEnumerable(n)}e.defineMode("clike",(function(o,l){var u,c,d=o.indentUnit,A=l.statementIndentUnit||d,f=l.dontAlignCalls,h=l.keywords||{},p=l.types||{},m=l.builtin||{},S=l.blockKeywords||{},g=l.defKeywords||{},v=l.atoms||{},x=l.hooks||{},_=l.multiLineStrings,y=!1!==l.indentStatements,w=!1!==l.indentSwitch,b=l.namespaceSeparator,V=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,C=l.numberStart||/[\d\.]/,E=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,D=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,F=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,T=l.isReservedIdentifier||!1;function P(e,n){var t=e.next();if(x[t]){var r=x[t](e,n);if(!1!==r)return r}if('"'==t||"'"==t)return n.tokenize=R(t),n.tokenize(e,n);if(C.test(t)){if(e.backUp(1),e.match(E))return"number";e.next()}if(V.test(t))return u=t,null;if("/"==t){if(e.eat("*"))return n.tokenize=L,L(e,n);if(e.eat("/"))return e.skipToEnd(),"comment"}if(D.test(t)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(D););return"operator"}if(e.eatWhile(F),b)for(;e.match(b);)e.eatWhile(F);var a=e.current();return s(h,a)?(s(S,a)&&(u="newstatement"),s(g,a)&&(c=!0),"keyword"):s(p,a)?"type":s(m,a)||T&&T(a)?(s(S,a)&&(u="newstatement"),"builtin"):s(v,a)?"atom":"variable"}function R(e){return function(n,t){for(var r,a=!1,i=!1;null!=(r=n.next());){if(r==e&&!a){i=!0;break}a=!a&&"\\"==r}return(i||!a&&!_)&&(t.tokenize=null),"string"}}function L(e,n){for(var t,r=!1;t=e.next();){if("/"==t&&r){n.tokenize=null;break}r="*"==t}return"comment"}function M(e,n){l.typeFirstDefinitions&&e.eol()&&i(n.context)&&(n.typeAtEndOfLine=a(e,n,e.pos))}return{startState:function(e){return{tokenize:null,context:new n((e||0)-d,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,n){var o=n.context;if(e.sol()&&(null==o.align&&(o.align=!1),n.indented=e.indentation(),n.startOfLine=!0),e.eatSpace())return M(e,n),null;u=c=null;var s=(n.tokenize||P)(e,n);if("comment"==s||"meta"==s)return s;if(null==o.align&&(o.align=!0),";"==u||":"==u||","==u&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==n.context.type;)r(n);else if("{"==u)t(n,e.column(),"}");else if("["==u)t(n,e.column(),"]");else if("("==u)t(n,e.column(),")");else if("}"==u){for(;"statement"==o.type;)o=r(n);for("}"==o.type&&(o=r(n));"statement"==o.type;)o=r(n)}else u==o.type?r(n):y&&(("}"==o.type||"top"==o.type)&&";"!=u||"statement"==o.type&&"newstatement"==u)&&t(n,e.column(),"statement",e.current());if("variable"==s&&("def"==n.prevToken||l.typeFirstDefinitions&&a(e,n,e.start)&&i(n.context)&&e.match(/^\s*\(/,!1))&&(s="def"),x.token){var d=x.token(e,n,s);void 0!==d&&(s=d)}return"def"==s&&!1===l.styleDefs&&(s="variable"),n.startOfLine=!1,n.prevToken=c?"def":s||u,M(e,n),s},indent:function(n,t){if(n.tokenize!=P&&null!=n.tokenize||n.typeAtEndOfLine)return e.Pass;var r=n.context,a=t&&t.charAt(0),i=a==r.type;if("statement"==r.type&&"}"==a&&(r=r.prev),l.dontIndentStatements)for(;"statement"==r.type&&l.dontIndentStatements.test(r.info);)r=r.prev;if(x.indent){var o=x.indent(n,r,t,d);if("number"==typeof o)return o}var s=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(a)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==a?0:A):!r.align||f&&")"==r.type?")"!=r.type||i?r.indented+(i?0:d)+(i||!s||/^(?:case|default)\b/.test(t)?0:d):r.indented+A:r.column+(i?0:1)},electricInput:w?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}}));var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",u="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",c="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",d="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",A=o("int long char short double float unsigned signed void bool"),f=o("SEL instancetype id Class Protocol BOOL");function h(e){return s(A,e)||/.+_t$/.test(e)}function p(e){return h(e)||s(f,e)}var m="case do else for if switch while struct enum union",S="struct enum union";function g(e,n){if(!n.startOfLine)return!1;for(var t,r=null;t=e.peek();){if("\\"==t&&e.match(/^.$/)){r=g;break}if("/"==t&&e.match(/^\/[\/\*]/,!1))break;e.next()}return n.tokenize=r,"meta"}function v(e,n){return"type"==n.prevToken&&"type"}function x(e){return!(!e||e.length<2)&&"_"==e[0]&&("_"==e[1]||e[1]!==e[1].toLowerCase())}function _(e){return e.eatWhile(/[\w\.']/),"number"}function y(e,n){if(e.backUp(1),e.match(/^(?:R|u8R|uR|UR|LR)/)){var t=e.match(/^"([^\s\\()]{0,16})\(/);return!!t&&(n.cpp11RawStringDelim=t[1],n.tokenize=V,V(e,n))}return e.match(/^(?:u8|u|U|L)/)?!!e.match(/^["']/,!1)&&"string":(e.next(),!1)}function w(e){var n=/(\w+)::~?(\w+)$/.exec(e);return n&&n[1]==n[2]}function b(e,n){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"')){n.tokenize=null;break}return"string"}function V(e,n){var t=n.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+t+'"'))?n.tokenize=null:e.skipToEnd(),"string"}function C(n,t){"string"==typeof n&&(n=[n]);var r=[];function a(e){if(e)for(var n in e)e.hasOwnProperty(n)&&r.push(n)}a(t.keywords),a(t.types),a(t.builtin),a(t.atoms),r.length&&(t.helperType=n[0],e.registerHelper("hintWords",n[0],r));for(var i=0;i<n.length;++i)e.defineMIME(n[i],t)}function E(e,n){for(var t=!1;!e.eol();){if(!t&&e.match('"""')){n.tokenize=null;break}t="\\"==e.next()&&!t}return"string"}function D(e){return function(n,t){for(var r;r=n.next();){if("*"==r&&n.eat("/")){if(1==e){t.tokenize=null;break}return t.tokenize=D(e-1),t.tokenize(n,t)}if("/"==r&&n.eat("*"))return t.tokenize=D(e+1),t.tokenize(n,t)}return"comment"}}function F(e){return function(n,t){for(var r,a=!1,i=!1;!n.eol();){if(!e&&!a&&n.match('"')){i=!0;break}if(e&&n.match('"""')){i=!0;break}r=n.next(),!a&&"$"==r&&n.match("{")&&n.skipTo("}"),a=!a&&"\\"==r&&!e}return!i&&e||(t.tokenize=null),"string"}}C(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:o(l),types:h,blockKeywords:o(m),defKeywords:o(S),typeFirstDefinitions:!0,atoms:o("NULL true false"),isReservedIdentifier:x,hooks:{"#":g,"*":v},modeProps:{fold:["brace","include"]}}),C(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:o(l+" "+u),types:h,blockKeywords:o(m+" class try catch"),defKeywords:o(S+" class namespace"),typeFirstDefinitions:!0,atoms:o("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:x,hooks:{"#":g,"*":v,u:y,U:y,L:y,R:y,0:_,1:_,2:_,3:_,4:_,5:_,6:_,7:_,8:_,9:_,token:function(e,n,t){if("variable"==t&&"("==e.peek()&&(";"==n.prevToken||null==n.prevToken||"}"==n.prevToken)&&w(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),C("text/x-java",{name:"clike",keywords:o("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:o("var byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:o("catch class do else finally for if switch try while"),defKeywords:o("class interface enum @interface"),typeFirstDefinitions:!0,atoms:o("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")},'"':function(e,n){return!!e.match(/""$/)&&(n.tokenize=E,n.tokenize(e,n))}},modeProps:{fold:["brace","import"]}}),C("text/x-csharp",{name:"clike",keywords:o("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:o("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:o("catch class do else finally for foreach if struct switch try while"),defKeywords:o("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:o("true false null"),hooks:{"@":function(e,n){return e.eat('"')?(n.tokenize=b,b(e,n)):(e.eatWhile(/[\w\$_]/),"meta")}}}),C("text/x-scala",{name:"clike",keywords:o("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:o("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:o("catch class enum do else finally for forSome if match switch try while"),defKeywords:o("class enum def object package trait type val var"),atoms:o("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,n){return!!e.match('""')&&(n.tokenize=E,n.tokenize(e,n))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,t){var r=t.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(t.context=new n(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(e,n){return!!e.eat("*")&&(n.tokenize=D(1),n.tokenize(e,n))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),C("text/x-kotlin",{name:"clike",keywords:o("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value"),types:o("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:o("catch class do else finally for if where try while enum"),defKeywords:o("class val var object interface fun"),atoms:o("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,n){return"."==n.prevToken?"variable":"operator"},'"':function(e,n){return n.tokenize=F(e.match('""')),n.tokenize(e,n)},"/":function(e,n){return!!e.eat("*")&&(n.tokenize=D(1),n.tokenize(e,n))},indent:function(e,n,t,r){var a=t&&t.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=t?"operator"==e.prevToken&&"}"!=t&&"}"!=e.context.type||"variable"==e.prevToken&&"."==a||("}"==e.prevToken||")"==e.prevToken)&&"."==a?2*r+n.indented:n.align&&"}"==n.type?n.indented+(e.context.type==(t||"").charAt(0)?0:r):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),C(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:o("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:o("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:o("for while do if else struct"),builtin:o("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:o("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":g},modeProps:{fold:["brace","include"]}}),C("text/x-nesc",{name:"clike",keywords:o(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:h,blockKeywords:o(m),atoms:o("null true false"),hooks:{"#":g},modeProps:{fold:["brace","include"]}}),C("text/x-objectivec",{name:"clike",keywords:o(l+" "+c),types:p,builtin:o(d),blockKeywords:o(m+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:o(S+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:o("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:x,hooks:{"#":g,"*":v},modeProps:{fold:["brace","include"]}}),C("text/x-objectivec++",{name:"clike",keywords:o(l+" "+c+" "+u),types:p,builtin:o(d),blockKeywords:o(m+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:o(S+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:o("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:x,hooks:{"#":g,"*":v,u:y,U:y,L:y,R:y,0:_,1:_,2:_,3:_,4:_,5:_,6:_,7:_,8:_,9:_,token:function(e,n,t){if("variable"==t&&"("==e.peek()&&(";"==n.prevToken||null==n.prevToken||"}"==n.prevToken)&&w(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),C("text/x-squirrel",{name:"clike",keywords:o("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:h,blockKeywords:o("case catch class else for foreach if switch try while"),defKeywords:o("function local class"),typeFirstDefinitions:!0,atoms:o("true false null"),hooks:{"#":g},modeProps:{fold:["brace","include"]}});var T=null;function P(e){return function(n,t){for(var r,a=!1,i=!1;!n.eol();){if(!a&&n.match('"')&&("single"==e||n.match('""'))){i=!0;break}if(!a&&n.match("``")){T=P(e),i=!0;break}r=n.next(),a="single"==e&&!a&&"\\"==r}return i&&(t.tokenize=null),"string"}}C("text/x-ceylon",{name:"clike",keywords:o("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var n=e.charAt(0);return n===n.toUpperCase()&&n!==n.toLowerCase()},blockKeywords:o("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:o("class dynamic function interface module object package value"),builtin:o("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:o("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,n){return n.tokenize=P(e.match('""')?"triple":"single"),n.tokenize(e,n)},"`":function(e,n){return!(!T||!e.match("`"))&&(n.tokenize=T,T=null,n.tokenize(e,n))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,n,t){if(("variable"==t||"type"==t)&&"."==n.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(t(7494))},8875:function(e,n,t){var r;!function(a,i){"use strict";var o=function(e){if("object"!==typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var n=function e(n,t,r){return 1===arguments.length?e.get(n):e.set(n,t,r)};return n._document=e.document,n._cacheKeyPrefix="cookey.",n._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n.defaults={path:"/",secure:!1},n.get=function(e){n._cachedDocumentCookie!==n._document.cookie&&n._renewCache();var t=n._cache[n._cacheKeyPrefix+e];return t===i?i:decodeURIComponent(t)},n.set=function(e,t,r){return(r=n._getExtendedOptions(r)).expires=n._getExpiresDate(t===i?-1:r.expires),n._document.cookie=n._generateCookieString(e,t,r),n},n.expire=function(e,t){return n.set(e,i,t)},n._getExtendedOptions=function(e){return{path:e&&e.path||n.defaults.path,domain:e&&e.domain||n.defaults.domain,expires:e&&e.expires||n.defaults.expires,secure:e&&e.secure!==i?e.secure:n.defaults.secure}},n._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},n._getExpiresDate=function(e,t){if(t=t||new Date,"number"===typeof e?e=e===1/0?n._maxExpireDate:new Date(t.getTime()+1e3*e):"string"===typeof e&&(e=new Date(e)),e&&!n._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},n._generateCookieString=function(e,n,t){var r=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(n=(n+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return r+=(t=t||{}).path?";path="+t.path:"",r+=t.domain?";domain="+t.domain:"",r+=t.expires?";expires="+t.expires.toUTCString():"",r+=t.secure?";secure":""},n._getCacheFromString=function(e){for(var t={},r=e?e.split("; "):[],a=0;a<r.length;a++){var o=n._getKeyValuePairFromCookieString(r[a]);t[n._cacheKeyPrefix+o.key]===i&&(t[n._cacheKeyPrefix+o.key]=o.value)}return t},n._getKeyValuePairFromCookieString=function(e){var n=e.indexOf("=");n=n<0?e.length:n;var t,r=e.substr(0,n);try{t=decodeURIComponent(r)}catch(a){console&&"function"===typeof console.error&&console.error('Could not decode cookie with key "'+r+'"',a)}return{key:t,value:e.substr(n+1)}},n._renewCache=function(){n._cache=n._getCacheFromString(n._document.cookie),n._cachedDocumentCookie=n._document.cookie},n._areEnabled=function(){var e="cookies.js",t="1"===n.set(e,1).get(e);return n.expire(e),t},n.enabled=n._areEnabled(),n},s=a&&"object"===typeof a.document?o(a):o;(r=function(){return s}.call(n,t,n,e))===i||(e.exports=r)}("undefined"===typeof window?this:window)},8005:function(e,n,t){"use strict";function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(3980),o=t(1866),s=t(5038),l=t(4615),u=t(3284),c=t(9690),d=t(4354),A=t(6137),f=t(5986),h=t(4126),p=A("draft_tree_data_support"),m=p?l:s,S=f.List,g=f.Repeat,v={insertAtomicBlock:function(e,n,t){var a=e.getCurrentContent(),s=e.getSelection(),l=u.removeRange(a,s,"backward"),A=l.getSelectionAfter(),f=u.splitBlock(l,A),h=f.getSelectionAfter(),v=u.setBlockType(f,h,"atomic"),x=o.create({entity:n}),_={key:d(),type:"atomic",text:t,characterList:S(g(x,t.length))},y={key:d(),type:"unstyled"};p&&(_=r({},_,{nextSibling:y.key}),y=r({},y,{prevSibling:_.key}));var w=[new m(_),new m(y)],b=i.createFromArray(w),V=u.replaceWithFragment(v,h,b),C=V.merge({selectionBefore:s,selectionAfter:V.getSelectionAfter().set("hasFocus",!0)});return c.push(e,C,"insert-fragment")},moveAtomicBlock:function(e,n,t,r){var a,i=e.getCurrentContent(),o=e.getSelection();if("before"===r||"after"===r){var s=i.getBlockForKey("before"===r?t.getStartKey():t.getEndKey());a=h(i,n,s,r)}else{var l=u.removeRange(i,t,"backward"),d=l.getSelectionAfter(),A=l.getBlockForKey(d.getFocusKey());if(0===d.getStartOffset())a=h(l,n,A,"before");else if(d.getEndOffset()===A.getLength())a=h(l,n,A,"after");else{var f=u.splitBlock(l,d),p=f.getSelectionAfter(),m=f.getBlockForKey(p.getFocusKey());a=h(f,n,m,"before")}}var S=a.merge({selectionBefore:o,selectionAfter:a.getSelectionAfter().set("hasFocus",!0)});return c.push(e,S,"move-block")}};e.exports=v},3980:function(e,n,t){"use strict";var r=t(5986).OrderedMap,a={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=a},994:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=t(1111),i=t(526),o=t(5986),s=o.List,l=o.Repeat,u=o.Record,c=function(){return!0},d=u({start:null,end:null}),A=u({start:null,end:null,decoratorKey:null,leaves:null}),f={generate:function(e,n,t){var r=n.getLength();if(!r)return s.of(new A({start:0,end:0,decoratorKey:null,leaves:s.of(new d({start:0,end:0}))}));var i=[],o=t?t.getDecorations(n,e):s(l(null,r)),u=n.getCharacterList();return a(o,p,c,(function(e,n){i.push(new A({start:e,end:n,decoratorKey:o.get(e),leaves:h(u.slice(e,n).toList(),e)}))})),s(i)},fromJS:function(e){var n=e.leaves,t=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,["leaves"]);return new A(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){r(e,n,t[n])}))}return e}({},t,{leaves:null!=n?s(Array.isArray(n)?n:i(n)).map((function(e){return d(e)})):null}))}};function h(e,n){var t=[],r=e.map((function(e){return e.getStyle()})).toList();return a(r,p,c,(function(e,r){t.push(new d({start:e+n,end:r+n}))})),s(t)}function p(e,n){return e===n}e.exports=f},1866:function(e,n,t){"use strict";var r=t(5986),a=r.Map,i=r.OrderedSet,o=r.Record,s=i(),l={style:s,entity:null},u=function(e){var n,t;function r(){return e.apply(this,arguments)||this}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var o=r.prototype;return o.getStyle=function(){return this.get("style")},o.getEntity=function(){return this.get("entity")},o.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,n){var t=e.set("style",e.getStyle().add(n));return r.create(t)},r.removeStyle=function(e,n){var t=e.set("style",e.getStyle().remove(n));return r.create(t)},r.applyEntity=function(e,n){var t=e.getEntity()===n?e:e.set("entity",n);return r.create(t)},r.create=function(e){if(!e)return c;var n=a({style:s,entity:null}).merge(e),t=d.get(n);if(t)return t;var i=new r(n);return d=d.set(n,i),i},r.fromJS=function(e){var n=e.style,t=e.entity;return new r({style:Array.isArray(n)?i(n):n,entity:Array.isArray(t)?i(t):t})},r}(o(l)),c=new u,d=a([[a(l),c]]);u.EMPTY=c,e.exports=u},1993:function(e,n,t){"use strict";var r=t(5986).List,a=function(){function e(e){var n,t,r;r=void 0,(t="_decorators")in(n=this)?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,this._decorators=e.slice()}var n=e.prototype;return n.getDecorations=function(e,n){var t=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,a){var i=0;(0,r.strategy)(e,(function(e,n){(function(e,n,t){for(var r=n;r<t;r++)if(null!=e[r])return!1;return!0})(t,e,n)&&(!function(e,n,t,r){for(var a=n;a<t;a++)e[a]=r}(t,e,n,a+"."+i),i++)}),n)})),r(t)},n.getComponentForKey=function(e){var n=parseInt(e.split(".")[0],10);return this._decorators[n].component},n.getPropsForKey=function(e){var n=parseInt(e.split(".")[0],10);return this._decorators[n].props},e}();e.exports=a},5038:function(e,n,t){"use strict";var r=t(1866),a=t(1111),i=t(5986),o=i.List,s=i.Map,l=i.OrderedSet,u=i.Record,c=i.Repeat,d=l(),A=u({key:"",type:"unstyled",text:"",characterList:o(),depth:0,data:s()}),f=function(e){var n,t;function i(n){return e.call(this,function(e){if(!e)return e;var n=e.characterList,t=e.text;return t&&!n&&(e.characterList=o(c(r.EMPTY,t.length))),e}(n))||this}t=e,(n=i).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var s=i.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var n=this.getCharacterList().get(e);return n?n.getStyle():d},s.getEntityAt=function(e){var n=this.getCharacterList().get(e);return n?n.getEntity():null},s.findStyleRanges=function(e,n){a(this.getCharacterList(),h,e,n)},s.findEntityRanges=function(e,n){a(this.getCharacterList(),p,e,n)},i}(A);function h(e,n){return e.getStyle()===n.getStyle()}function p(e,n){return e.getEntity()===n.getEntity()}e.exports=f},4615:function(e,n,t){"use strict";var r=t(1866),a=t(1111),i=t(5986),o=i.List,s=i.Map,l=i.OrderedSet,u=i.Record,c=i.Repeat,d=l(),A={parent:null,characterList:o(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:o(),prevSibling:null,nextSibling:null},f=function(e,n){return e.getStyle()===n.getStyle()},h=function(e,n){return e.getEntity()===n.getEntity()},p=function(e){if(!e)return e;var n=e.characterList,t=e.text;return t&&!n&&(e.characterList=o(c(r.EMPTY,t.length))),e},m=function(e){var n,t;function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return e.call(this,p(n))||this}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var i=r.prototype;return i.getKey=function(){return this.get("key")},i.getType=function(){return this.get("type")},i.getText=function(){return this.get("text")},i.getCharacterList=function(){return this.get("characterList")},i.getLength=function(){return this.getText().length},i.getDepth=function(){return this.get("depth")},i.getData=function(){return this.get("data")},i.getInlineStyleAt=function(e){var n=this.getCharacterList().get(e);return n?n.getStyle():d},i.getEntityAt=function(e){var n=this.getCharacterList().get(e);return n?n.getEntity():null},i.getChildKeys=function(){return this.get("children")},i.getParentKey=function(){return this.get("parent")},i.getPrevSiblingKey=function(){return this.get("prevSibling")},i.getNextSiblingKey=function(){return this.get("nextSibling")},i.findStyleRanges=function(e,n){a(this.getCharacterList(),f,e,n)},i.findEntityRanges=function(e,n){a(this.getCharacterList(),h,e,n)},r}(u(A));e.exports=m},3281:function(e,n,t){"use strict";function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(3980),o=t(1866),s=t(5038),l=t(4615),u=t(5112),c=t(8977),d=t(4354),A=t(526),f=t(6137),h=t(5986),p=t(8720),m=h.List,S=h.Record,g=h.Repeat,v=h.Map,x=h.OrderedMap,_=S({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),y=f("draft_tree_data_support")?l:s,w=function(e){var n,t;function a(){return e.apply(this,arguments)||this}t=e,(n=a).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var s=a.prototype;return s.getEntityMap=function(){return u},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(n){return n===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(n){return n===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(n,t){return t===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(n,t){return t===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return u.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,n,t){return u.__create(e,n,t),this},s.mergeEntityData=function(e,n){return u.__mergeData(e,n),this},s.replaceEntityData=function(e,n){return u.__replaceData(e,n),this},s.addEntity=function(e){return u.__add(e),this},s.getEntity=function(e){return u.__get(e)},s.getAllEntities=function(){return u.__getAll()},s.loadWithEntities=function(e){return u.__loadWithEntities(e)},a.createFromBlockArray=function(e,n){var t=Array.isArray(e)?e:e.contentBlocks,r=i.createFromArray(t),o=r.isEmpty()?new c:c.createEmpty(r.first().getKey());return new a({blockMap:r,entityMap:n||u,selectionBefore:o,selectionAfter:o})},a.createFromText=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,t=e.split(n),r=t.map((function(e){return e=p(e),new y({key:d(),text:e,type:"unstyled",characterList:m(g(o.EMPTY,e.length))})}));return a.createFromBlockArray(r)},a.fromJS=function(e){return new a(r({},e,{blockMap:x(e.blockMap).map(a.createContentBlockFromJS),selectionBefore:new c(e.selectionBefore),selectionAfter:new c(e.selectionAfter)}))},a.createContentBlockFromJS=function(e){var n=e.characterList;return new y(r({},e,{data:v(e.data),characterList:null!=n?m((Array.isArray(n)?n:A(n)).map((function(e){return o.fromJS(e)}))):void 0}))},a}(_);e.exports=w},2254:function(e,n,t){"use strict";var r=t(1866),a=t(5986).Map,i={add:function(e,n,t){return o(e,n,t,!0)},remove:function(e,n,t){return o(e,n,t,!1)}};function o(e,n,t,i){var o=e.getBlockMap(),s=n.getStartKey(),l=n.getStartOffset(),u=n.getEndKey(),c=n.getEndOffset(),d=o.skipUntil((function(e,n){return n===s})).takeUntil((function(e,n){return n===u})).concat(a([[u,o.get(u)]])).map((function(e,n){var a,o;s===u?(a=l,o=c):(a=n===s?l:0,o=n===u?c:e.getLength());for(var d,A=e.getCharacterList();a<o;)d=A.get(a),A=A.set(a,i?r.applyStyle(d,t):r.removeStyle(d,t)),a++;return e.set("characterList",A)}));return e.merge({blockMap:o.merge(d),selectionBefore:n,selectionAfter:n})}e.exports=i},9978:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=t(8258),i=t(4117),o=t(6620),s=t(5986),l=t(7405),u=t(5338),c=s.Map,d={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},A=a.isBrowser("IE <= 11"),f=function(){function e(e){var n=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=c();var t=o(e);t.MutationObserver&&!A?this.observer=new t.MutationObserver((function(e){return n.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||l(!1),n.registerMutation({type:"characterData",target:e.target})}}var n=e.prototype;return n.start=function(){this.observer?this.observer.observe(this.container,d):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},n.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var n=this.mutations;return this.mutations=c(),n},n.registerMutations=function(e){for(var n=0;n<e.length;n++)this.registerMutation(e[n])},n.getMutationTextContent=function(e){var n=e.type,t=e.target,r=e.removedNodes;if("characterData"===n){if(""!==t.textContent)return A?t.textContent.replace("\n",""):t.textContent}else if("childList"===n){if(r&&r.length)return"";if(""!==t.textContent)return t.textContent}return null},n.registerMutation=function(e){var n=this.getMutationTextContent(e);if(null!=n){var t=u(i(e.target));this.mutations=this.mutations.set(t,n)}},e}();e.exports=f},128:function(e,n,t){"use strict";var r=t(7313),a=t(7827),i=(0,t(5986).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:a("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:a("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:a("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=i},269:function(e){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},2500:function(e,n,t){"use strict";var r=t(8005),a=t(3980),i=t(1866),o=t(1993),s=t(5038),l=t(3281),u=t(128),c=t(269),d=t(7496),A=t(1795),f=t(5112),h=t(3284),p=t(842),m=t(9690),S=t(7293),g=t(1943),v=t(4859),x=t(8977),_=t(7348),y=t(5741),w=t(4354),b=t(8498),V=t(640),C={Editor:d,EditorBlock:A,EditorState:m,CompositeDecorator:o,Entity:f,EntityInstance:p,BlockMapBuilder:a,CharacterMetadata:i,ContentBlock:s,ContentState:l,RawDraftContentState:g,SelectionState:x,AtomicBlockUtils:r,KeyBindingUtil:S,Modifier:h,RichUtils:v,DefaultDraftBlockRenderMap:u,DefaultDraftInlineStyle:c,convertFromHTML:t(6189),convertFromRaw:y,convertToRaw:_,genKey:w,getDefaultKeyBinding:b,getVisibleSelectionRect:V};e.exports=C},7496:function(e,n,t){"use strict";var r=t(1843);function a(){return a=r||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var u=t(128),c=t(269),d=t(3207),A=t(8219),f=t(1985),h=t(1413),p=t(6255),m=t(776),S=t(6221),g=t(9690),v=t(7313),x=t(7219),_=t(9026),y=t(8258),w=t(7827),b=t(4354),V=t(8498),C=t(7541),E=t(6137),D=t(7405),F=t(7719),T=t(5338),P=y.isBrowser("IE"),R=!P,L={edit:h,composite:d,drag:f,cut:null,render:null},M=!1,B=function(e){function n(){return e.apply(this,arguments)||this}l(n,e);var t=n.prototype;return t.render=function(){return null},t.componentDidMount=function(){this._update()},t.componentDidUpdate=function(){this._update()},t._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},n}(v.Component),k=function(e){function n(n){var t;return s(o(t=e.call(this,n)||this),"_blockSelectEvents",void 0),s(o(t),"_clipboard",void 0),s(o(t),"_handler",void 0),s(o(t),"_dragCount",void 0),s(o(t),"_internalDrag",void 0),s(o(t),"_editorKey",void 0),s(o(t),"_placeholderAccessibilityID",void 0),s(o(t),"_latestEditorState",void 0),s(o(t),"_latestCommittedEditorState",void 0),s(o(t),"_pendingStateFromBeforeInput",void 0),s(o(t),"_onBeforeInput",void 0),s(o(t),"_onBlur",void 0),s(o(t),"_onCharacterData",void 0),s(o(t),"_onCompositionEnd",void 0),s(o(t),"_onCompositionStart",void 0),s(o(t),"_onCopy",void 0),s(o(t),"_onCut",void 0),s(o(t),"_onDragEnd",void 0),s(o(t),"_onDragOver",void 0),s(o(t),"_onDragStart",void 0),s(o(t),"_onDrop",void 0),s(o(t),"_onInput",void 0),s(o(t),"_onFocus",void 0),s(o(t),"_onKeyDown",void 0),s(o(t),"_onKeyPress",void 0),s(o(t),"_onKeyUp",void 0),s(o(t),"_onMouseDown",void 0),s(o(t),"_onMouseUp",void 0),s(o(t),"_onPaste",void 0),s(o(t),"_onSelect",void 0),s(o(t),"editor",void 0),s(o(t),"editorContainer",void 0),s(o(t),"focus",void 0),s(o(t),"blur",void 0),s(o(t),"setMode",void 0),s(o(t),"exitCurrentMode",void 0),s(o(t),"restoreEditorDOM",void 0),s(o(t),"setClipboard",void 0),s(o(t),"getClipboard",void 0),s(o(t),"getEditorKey",void 0),s(o(t),"update",void 0),s(o(t),"onDragEnter",void 0),s(o(t),"onDragLeave",void 0),s(o(t),"_handleEditorContainerRef",(function(e){t.editorContainer=e,t.editor=null!==e?e.firstChild:null})),s(o(t),"focus",(function(e){var n=t.props.editorState,r=n.getSelection().getHasFocus(),a=t.editor;if(a){var i=_.getScrollParent(a),o=e||C(i),s=o.x,l=o.y;F(a)||D(!1),a.focus(),i===window?window.scrollTo(s,l):x.setTop(i,l),r||t.update(g.forceSelection(n,n.getSelection()))}})),s(o(t),"blur",(function(){var e=t.editor;e&&(F(e)||D(!1),e.blur())})),s(o(t),"setMode",(function(e){var n=t.props,r=n.onPaste,a=n.onCut,o=n.onCopy,s=i({},L.edit);r&&(s.onPaste=r),a&&(s.onCut=a),o&&(s.onCopy=o);var l=i({},L,{edit:s});t._handler=l[e]})),s(o(t),"exitCurrentMode",(function(){t.setMode("edit")})),s(o(t),"restoreEditorDOM",(function(e){t.setState({contentsKey:t.state.contentsKey+1},(function(){t.focus(e)}))})),s(o(t),"setClipboard",(function(e){t._clipboard=e})),s(o(t),"getClipboard",(function(){return t._clipboard})),s(o(t),"update",(function(e){t._latestEditorState=e,t.props.onChange(e)})),s(o(t),"onDragEnter",(function(){t._dragCount++})),s(o(t),"onDragLeave",(function(){t._dragCount--,0===t._dragCount&&t.exitCurrentMode()})),t._blockSelectEvents=!1,t._clipboard=null,t._handler=null,t._dragCount=0,t._editorKey=n.editorKey||b(),t._placeholderAccessibilityID="placeholder-"+t._editorKey,t._latestEditorState=n.editorState,t._latestCommittedEditorState=n.editorState,t._onBeforeInput=t._buildHandler("onBeforeInput"),t._onBlur=t._buildHandler("onBlur"),t._onCharacterData=t._buildHandler("onCharacterData"),t._onCompositionEnd=t._buildHandler("onCompositionEnd"),t._onCompositionStart=t._buildHandler("onCompositionStart"),t._onCopy=t._buildHandler("onCopy"),t._onCut=t._buildHandler("onCut"),t._onDragEnd=t._buildHandler("onDragEnd"),t._onDragOver=t._buildHandler("onDragOver"),t._onDragStart=t._buildHandler("onDragStart"),t._onDrop=t._buildHandler("onDrop"),t._onInput=t._buildHandler("onInput"),t._onFocus=t._buildHandler("onFocus"),t._onKeyDown=t._buildHandler("onKeyDown"),t._onKeyPress=t._buildHandler("onKeyPress"),t._onKeyUp=t._buildHandler("onKeyUp"),t._onMouseDown=t._buildHandler("onMouseDown"),t._onMouseUp=t._buildHandler("onMouseUp"),t._onPaste=t._buildHandler("onPaste"),t._onSelect=t._buildHandler("onSelect"),t.getEditorKey=function(){return t._editorKey},t.state={contentsKey:0},t}l(n,e);var r=n.prototype;return r._buildHandler=function(e){var n=this;return function(t){if(!n.props.readOnly){var r=n._handler&&n._handler[e];r&&(p?p((function(){return r(n,t)})):r(n,t))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:T(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,e)}return null},r._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",n=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",n)||void 0},r.render=function(){var e=this.props,n=e.blockRenderMap,t=e.blockRendererFn,r=e.blockStyleFn,o=e.customStyleFn,s=e.customStyleMap,l=e.editorState,u=e.preventScroll,d=e.readOnly,f=e.textAlignment,h=e.textDirectionality,p=w({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===f,"DraftEditor/alignRight":"right"===f,"DraftEditor/alignCenter":"center"===f}),m=this.props.role||"textbox",S="combobox"===m?!!this.props.ariaExpanded:null,g={blockRenderMap:n,blockRendererFn:t,blockStyleFn:r,customStyleMap:i({},c,s),customStyleFn:o,editorKey:this._editorKey,editorState:l,preventScroll:u,textDirectionality:h};return v.createElement("div",{className:p},this._renderPlaceholder(),v.createElement("div",{className:w("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":d?null:this.props.ariaActiveDescendantID,"aria-autocomplete":d?null:this.props.ariaAutoComplete,"aria-controls":d?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":d?null:S,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":d?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:w({notranslate:!d,"public/DraftEditor/content":!0}),contentEditable:!d,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:d?null:m,spellCheck:R&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(B,{editor:this,editorState:l}),v.createElement(A,a({},g,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!M&&E("draft_ods_enabled")&&(M=!0,S.initODS()),this.setMode("edit"),P&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.g.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(v.Component);s(k,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:u,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:V,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=k},1795:function(e,n,t){"use strict";var r=t(1843);function a(){return a=r||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=t(8389),l=t(4519),u=t(7313),c=t(7219),d=t(9026),A=t(3014),f=t(7821),h=t(7827),p=t(1604),m=t(7541),S=t(9349),g=t(7405),v=t(7719),x=t(5338),_=function(e,n){return e.getAnchorKey()===n||e.getFocusKey()===n},y=function(e){var n,t;function r(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o(i(n=e.call.apply(e,[this].concat(r))||this),"_node",void 0),n}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var y=r.prototype;return y.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||_(e.selection,e.block.getKey())&&e.forceSelection},y.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,n=e.getEndKey();if(e.getHasFocus()&&n===this.props.block.getKey()){var t=this._node;if(null!=t){var r,a=d.getScrollParent(t),i=m(a);if(a===window){var o=p(t);(r=o.y+o.height-S().height)>0&&window.scrollTo(i.x,i.y+r+10)}else{v(t)||g(!1),(r=t.offsetHeight+t.offsetTop-(a.offsetTop+a.offsetHeight+i.y))>0&&c.setTop(a,c.getTop(a)+r+10)}}}}},y._renderChildren=function(){var e=this,n=this.props.block,t=n.getKey(),r=n.getText(),i=this.props.tree.size-1,o=_(this.props.selection,t);return this.props.tree.map((function(c,d){var h=c.get("leaves");if(0===h.size)return null;var p=h.size-1,m=h.map((function(a,c){var A=l.encode(t,d,c),f=a.get("start"),h=a.get("end");return u.createElement(s,{key:A,offsetKey:A,block:n,start:f,selection:o?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(f,h),styleSet:n.getInlineStyleAt(f),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:d===i&&c===p})})).toArray(),S=c.get("decoratorKey");if(null==S)return m;if(!e.props.decorator)return m;var g=x(e.props.decorator),v=g.getComponentForKey(S);if(!v)return m;var _=g.getPropsForKey(S),y=l.encode(t,d,0),w=h.first().get("start"),b=h.last().get("end"),V=r.slice(w,b),C=n.getEntityAt(c.get("start")),E=f.getHTMLDirIfDifferent(A.getDirection(V),e.props.direction),D={contentState:e.props.contentState,decoratedText:V,dir:E,start:w,end:b,blockKey:t,entityKey:C,offsetKey:y};return u.createElement(v,a({},_,D,{key:y}),m)})).toArray()},y.render=function(){var e=this,n=this.props,t=n.direction,r=n.offsetKey,a=h({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return u.createElement("div",{"data-offset-key":r,className:a,ref:function(n){return e._node=n}},this._renderChildren())},r}(u.Component);e.exports=y},7808:function(e,n,t){"use strict";var r=t(1843);function a(){return a=r||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=t(6080),u=t(4519),c=t(7313),d=t(7219),A=t(9026),f=t(1604),h=t(7541),p=t(9349),m=t(5986),S=t(7405),g=t(7719),v=(m.List,function(e,n){return e.getAnchorKey()===n||e.getFocusKey()===n}),x=function(e,n){var t=n.get(e.getType())||n.get("unstyled"),r=t.wrapper;return{Element:t.element||n.get("unstyled").element,wrapperTemplate:r}},_=function(e,n){var t=n(e);return t?{CustomComponent:t.component,customProps:t.props,customEditable:t.editable}:{}},y=function(e,n,t,r,a,i){var s={"data-block":!0,"data-editor":n,"data-offset-key":t,key:e.getKey(),ref:i},l=r(e);return l&&(s.className=l),void 0!==a.customEditable&&(s=o({},s,{contentEditable:a.customEditable,suppressContentEditableWarning:!0})),s},w=function(e){var n,t;function r(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return s(i(n=e.call.apply(e,[this].concat(r))||this),"wrapperRef",c.createRef()),n}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var m=r.prototype;return m.shouldComponentUpdate=function(e){var n=this.props,t=n.block,r=n.direction,a=n.tree,i=!t.getChildKeys().isEmpty(),o=t!==e.block||a!==e.tree||r!==e.direction||v(e.selection,e.block.getKey())&&e.forceSelection;return i||o},m.componentDidMount=function(){var e=this.props.selection,n=e.getEndKey();if(e.getHasFocus()&&n===this.props.block.getKey()){var t=this.wrapperRef.current;if(t){var r,a=A.getScrollParent(t),i=h(a);if(a===window){var o=f(t);(r=o.y+o.height-p().height)>0&&window.scrollTo(i.x,i.y+r+10)}else{g(t)||S(!1);var s=t;(r=s.offsetHeight+s.offsetTop-(a.offsetHeight+i.y))>0&&d.setTop(a,d.getTop(a)+r+10)}}}},m.render=function(){var e=this,n=this.props,t=n.block,i=n.blockRenderMap,s=n.blockRendererFn,d=n.blockStyleFn,A=n.contentState,f=n.decorator,h=n.editorKey,p=n.editorState,m=n.customStyleFn,S=n.customStyleMap,g=n.direction,w=n.forceSelection,b=n.selection,V=n.tree,C=null;t.children.size&&(C=t.children.reduce((function(n,t){var a=u.encode(t,0,0),l=A.getBlockForKey(t),f=_(l,s),m=f.CustomComponent||r,S=x(l,i),g=S.Element,v=S.wrapperTemplate,w=y(l,h,a,d,f,null),b=o({},e.props,{tree:p.getBlockTree(t),blockProps:f.customProps,offsetKey:a,block:l});return n.push(c.createElement(g,w,c.createElement(m,b))),!v||function(e,n){var t=e.getNextSiblingKey();return!!t&&n.getBlockForKey(t).getType()===e.getType()}(l,A)||function(e,n,t){var r=[],a=!0,i=!1,o=void 0;try{for(var s,l=t.reverse()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var d=s.value;if(d.type!==n)break;r.push(d)}}catch(h){i=!0,o=h}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}t.splice(t.indexOf(r[0]),r.length+1);var A=r.reverse(),f=A[0].key;t.push(c.cloneElement(e,{key:"".concat(f,"-wrap"),"data-offset-key":u.encode(f,0,0)},A))}(v,g,n),n}),[]));var E=t.getKey(),D=u.encode(E,0,0),F=_(t,s),T=F.CustomComponent,P=null!=T?c.createElement(T,a({},this.props,{tree:p.getBlockTree(E),blockProps:F.customProps,offsetKey:D,block:t})):c.createElement(l,{block:t,children:C,contentState:A,customStyleFn:m,customStyleMap:S,decorator:f,direction:g,forceSelection:w,hasSelection:v(b,E),selection:b,tree:V});if(t.getParentKey())return P;var R=x(t,i).Element,L=y(t,h,D,d,F,this.wrapperRef);return c.createElement(R,L,P)},r}(c.Component);e.exports=w},3207:function(e,n,t){"use strict";var r=t(9978),a=t(3284),i=t(4519),o=t(9690),s=t(3058),l=t(8258),u=t(5518),c=t(47),d=t(7785),A=t(8776),f=t(5338),h=l.isBrowser("IE"),p=!1,m=!1,S=null;var g={onCompositionStart:function(e){m=!0,function(e){S||(S=new r(c(e))).start()}(e)},onCompositionEnd:function(e){p=!1,m=!1,setTimeout((function(){p||g.resolveComposition(e)}),20)},onSelect:u,onKeyDown:function(e,n){if(!m)return g.resolveComposition(e),void e._onKeyDown(n);n.which!==s.RIGHT&&n.which!==s.LEFT||n.preventDefault()},onKeyPress:function(e,n){n.which===s.RETURN&&n.preventDefault()},resolveComposition:function(e){if(!m){var n=f(S).stopAndFlushMutations();S=null,p=!0;var t=o.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),n.size){var r=t.getCurrentContent();n.forEach((function(e,n){var s=i.decode(n),l=s.blockKey,u=s.decoratorKey,c=s.leafKey,d=t.getBlockTree(l).getIn([u,"leaves",c]),f=d.start,h=d.end,p=t.getSelection().merge({anchorKey:l,focusKey:l,anchorOffset:f,focusOffset:h,isBackward:!1}),m=A(r,p),S=r.getBlockForKey(l).getInlineStyleAt(f);r=a.replaceText(r,p,e,S,m),t=o.set(t,{currentContent:r})}));var s=d(t,c(e)).selectionState;e.restoreEditorDOM();var l=h?o.forceSelection(t,s):o.acceptSelection(t,s);e.update(o.push(l,r,"insert-characters"))}else e.update(t)}}};e.exports=g},1635:function(e,n,t){"use strict";var r=t(1843);function a(){return a=r||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=t(1795),l=t(4519),u=t(7313),c=t(7827),d=t(6005),A=t(5338),f=function(e,n,t,r){return c({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":t,"public/DraftStyleDefault/depth0":0===n,"public/DraftStyleDefault/depth1":1===n,"public/DraftStyleDefault/depth2":2===n,"public/DraftStyleDefault/depth3":3===n,"public/DraftStyleDefault/depth4":n>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},h=function(e){var n,t;function r(){return e.apply(this,arguments)||this}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var o=r.prototype;return o.shouldComponentUpdate=function(e){var n=this.props.editorState,t=e.editorState;if(n.getDirectionMap()!==t.getDirectionMap())return!0;if(n.getSelection().getHasFocus()!==t.getSelection().getHasFocus())return!0;var r=t.getNativelyRenderedContent(),a=n.isInCompositionMode(),i=t.isInCompositionMode();if(n===t||null!==r&&t.getCurrentContent()===r||a&&i)return!1;var o=n.getCurrentContent(),s=t.getCurrentContent(),l=n.getDecorator(),u=t.getDecorator();return a!==i||o!==s||l!==u||t.mustForceSelection()},o.render=function(){for(var e=this.props,n=e.blockRenderMap,t=e.blockRendererFn,r=e.blockStyleFn,o=e.customStyleMap,c=e.customStyleFn,h=e.editorState,p=e.editorKey,m=e.preventScroll,S=e.textDirectionality,g=h.getCurrentContent(),v=h.getSelection(),x=h.mustForceSelection(),_=h.getDecorator(),y=A(h.getDirectionMap()),w=g.getBlocksAsArray(),b=[],V=null,C=null,E=0;E<w.length;E++){var D=w[E],F=D.getKey(),T=D.getType(),P=t(D),R=void 0,L=void 0,M=void 0;P&&(R=P.component,L=P.props,M=P.editable);var B=S||y.get(F),k=l.encode(F,0,0),I={contentState:g,block:D,blockProps:L,blockStyleFn:r,customStyleMap:o,customStyleFn:c,decorator:_,direction:B,forceSelection:x,offsetKey:k,preventScroll:m,selection:v,tree:h.getBlockTree(F)},O=n.get(T)||n.get("unstyled"),N=O.wrapper,j=O.element||n.get("unstyled").element,U=D.getDepth(),G="";if(r&&(G=r(D)),"li"===j)G=d(G,f(T,U,C!==N||null===V||U>V,B));var z=R||s,H={className:G,"data-block":!0,"data-editor":p,"data-offset-key":k,key:F};void 0!==M&&(H=i({},H,{contentEditable:M,suppressContentEditableWarning:!0}));var W=u.createElement(j,H,u.createElement(z,a({},I,{key:F})));b.push({block:W,wrapperTemplate:N,key:F,offsetKey:k}),V=N?D.getDepth():null,C=N}for(var X=[],K=0;K<b.length;){var q=b[K];if(q.wrapperTemplate){var Y=[];do{Y.push(b[K].block),K++}while(K<b.length&&b[K].wrapperTemplate===q.wrapperTemplate);var Q=u.cloneElement(q.wrapperTemplate,{key:q.key+"-wrap","data-offset-key":q.offsetKey},Y);X.push(Q)}else X.push(q.block),K++}return u.createElement("div",{"data-contents":"true"},X)},r}(u.Component);e.exports=h},8219:function(e,n,t){"use strict";var r=t(6137)("draft_tree_data_support");e.exports=t(r?6142:1635)},6142:function(e,n,t){"use strict";var r=t(1843);function a(){return a=r||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}var i=t(7808),o=t(4519),s=t(7313),l=t(5338),u=function(e){var n,t;function r(){return e.apply(this,arguments)||this}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var u=r.prototype;return u.shouldComponentUpdate=function(e){var n=this.props.editorState,t=e.editorState;if(n.getDirectionMap()!==t.getDirectionMap())return!0;if(n.getSelection().getHasFocus()!==t.getSelection().getHasFocus())return!0;var r=t.getNativelyRenderedContent(),a=n.isInCompositionMode(),i=t.isInCompositionMode();if(n===t||null!==r&&t.getCurrentContent()===r||a&&i)return!1;var o=n.getCurrentContent(),s=t.getCurrentContent(),l=n.getDecorator(),u=t.getDecorator();return a!==i||o!==s||l!==u||t.mustForceSelection()},u.render=function(){for(var e=this.props,n=e.blockRenderMap,t=e.blockRendererFn,r=e.blockStyleFn,u=e.customStyleMap,c=e.customStyleFn,d=e.editorState,A=e.editorKey,f=e.textDirectionality,h=d.getCurrentContent(),p=d.getSelection(),m=d.mustForceSelection(),S=d.getDecorator(),g=l(d.getDirectionMap()),v=[],x=h.getBlocksAsArray()[0];x;){var _=x.getKey(),y={blockRenderMap:n,blockRendererFn:t,blockStyleFn:r,contentState:h,customStyleFn:c,customStyleMap:u,decorator:S,editorKey:A,editorState:d,forceSelection:m,selection:p,block:x,direction:f||g.get(_),tree:d.getBlockTree(_)},w=(n.get(x.getType())||n.get("unstyled")).wrapper;v.push({block:s.createElement(i,a({key:_},y)),wrapperTemplate:w,key:_,offsetKey:o.encode(_,0,0)});var b=x.getNextSiblingKey();x=b?h.getBlockForKey(b):null}for(var V=[],C=0;C<v.length;){var E=v[C];if(E.wrapperTemplate){var D=[];do{D.push(v[C].block),C++}while(C<v.length&&v[C].wrapperTemplate===E.wrapperTemplate);var F=s.cloneElement(E.wrapperTemplate,{key:E.key+"-wrap","data-offset-key":E.offsetKey},D);V.push(F)}else V.push(E.block),C++}return s.createElement("div",{"data-contents":"true"},V)},r}(s.Component);e.exports=u},8158:function(e,n,t){"use strict";var r=t(1843);function a(){return a=r||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}var i=t(4519),o=t(7313),s=t(3014),l=t(7821),u=function(e){var n,t;function r(){return e.apply(this,arguments)||this}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,r.prototype.render=function(){var e=this.props,n=e.block,t=e.children,r=e.contentState,u=e.decorator,c=e.decoratorKey,d=e.direction,A=e.leafSet,f=e.text,h=n.getKey(),p=A.get("leaves"),m=u.getComponentForKey(c),S=u.getPropsForKey(c),g=i.encode(h,parseInt(c,10),0),v=f.slice(p.first().get("start"),p.last().get("end")),x=l.getHTMLDirIfDifferent(s.getDirection(v),d);return o.createElement(m,a({},S,{contentState:r,decoratedText:v,dir:x,key:g,entityKey:n.getEntityAt(A.get("start")),offsetKey:g}),t)},r}(o.Component);e.exports=u},1985:function(e,n,t){"use strict";var r=t(1767),a=t(3284),i=t(9690),o=t(4117),s=t(7803),l=t(4763),u=t(7685),c=t(6620),d=t(7146),A=t(5338);var f={onDragEnd:function(e){e.exitCurrentMode(),h(e)},onDrop:function(e,n){var t=new r(n.nativeEvent.dataTransfer),c=e._latestEditorState,f=function(e,n){var t=null,r=null,a=s(e.currentTarget);if("function"===typeof a.caretRangeFromPoint){var i=a.caretRangeFromPoint(e.x,e.y);t=i.startContainer,r=i.startOffset}else{if(!e.rangeParent)return null;t=e.rangeParent,r=e.rangeOffset}t=A(t),r=A(r);var l=A(o(t));return u(n,l,r,l,r)}(n.nativeEvent,c);if(n.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=f){var m=t.getFiles();if(m.length>0){if(e.props.handleDroppedFiles&&d(e.props.handleDroppedFiles(f,m)))return;l(m,(function(n){n&&e.update(p(c,f,n))}))}else{var S=e._internalDrag?"internal":"external";e.props.handleDrop&&d(e.props.handleDrop(f,t,S))||(e._internalDrag?e.update(function(e,n){var t=a.moveText(e.getCurrentContent(),e.getSelection(),n);return i.push(e,t,"insert-fragment")}(c,f)):e.update(p(c,f,t.getText()))),h(e)}}}};function h(e){e._internalDrag=!1;var n=e.editorContainer;if(n){var t=new MouseEvent("mouseup",{view:c(n),bubbles:!0,cancelable:!0});n.dispatchEvent(t)}}function p(e,n,t){var r=a.insertText(e.getCurrentContent(),n,t,e.getCurrentInlineStyle());return i.push(e,r,"insert-fragment")}e.exports=f},1413:function(e,n,t){"use strict";var r=t(8258),a=t(5352),i=t(2258),o=t(678),s=t(4977),l=t(76),u=t(4844),c=t(110),d=t(9914),A=t(3774),f=t(2196),h=t(9358),p=t(5518),m=r.isBrowser("Chrome"),S=r.isBrowser("Firefox"),g=m||S?p:function(e){},v={onBeforeInput:a,onBlur:i,onCompositionStart:o,onCopy:s,onCut:l,onDragOver:u,onDragStart:c,onFocus:d,onInput:A,onKeyDown:f,onPaste:h,onSelect:p,onMouseUp:g,onKeyUp:g};e.exports=v},6255:function(e,n,t){"use strict";var r=t(1168).unstable_flushControlled;e.exports=r},8389:function(e,n,t){"use strict";var r=t(1843);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=t(7439),s=t(7313),l=t(7405),u=t(5801),c=t(3413).setDraftEditorSelection,d=function(e){var n,t;function d(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i(a(n=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),n}t=e,(n=d).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var A=d.prototype;return A._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var n=this.props,t=n.block,r=n.start,a=n.text,i=t.getKey(),o=r+a.length;if(e.hasEdgeWithin(i,r,o)){var s=this.leaf;s||l(!1);var d,A=s.firstChild;A||l(!1),A.nodeType===Node.TEXT_NODE?d=A:u(A)?d=s:(d=A.firstChild)||l(!1),c(e,d,i,r,o)}}},A.shouldComponentUpdate=function(e){var n=this.leaf;return n||l(!1),n.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},A.componentDidUpdate=function(){this._setSelection()},A.componentDidMount=function(){this._setSelection()},A.render=function(){var e=this,n=this.props.block,t=this.props.text;t.endsWith("\n")&&this.props.isLast&&(t+="\n");var a=this.props,i=a.customStyleMap,l=a.customStyleFn,u=a.offsetKey,c=a.styleSet,d=c.reduce((function(e,n){var t={},a=i[n];return void 0!==a&&e.textDecoration!==a.textDecoration&&(t.textDecoration=[e.textDecoration,a.textDecoration].join(" ").trim()),r(e,a,t)}),{});if(l){var A=l(c,n);d=r(d,A)}return s.createElement("span",{"data-offset-key":u,ref:function(n){return e.leaf=n},style:d},s.createElement(o,null,t))},d}(s.Component);e.exports=d},6080:function(e,n,t){"use strict";var r=t(8158),a=t(8389),i=t(4519),o=t(5986),s=t(7313),l=t(7827),u=(o.List,function(e){var n,t;function o(){return e.apply(this,arguments)||this}return t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,o.prototype.render=function(){var e=this.props,n=e.block,t=e.contentState,o=e.customStyleFn,u=e.customStyleMap,c=e.decorator,d=e.direction,A=e.forceSelection,f=e.hasSelection,h=e.selection,p=e.tree,m=n.getKey(),S=n.getText(),g=p.size-1,v=this.props.children||p.map((function(e,l){var p=e.get("decoratorKey"),v=e.get("leaves"),x=v.size-1,_=v.map((function(e,t){var r=i.encode(m,l,t),c=e.get("start"),d=e.get("end");return s.createElement(a,{key:r,offsetKey:r,block:n,start:c,selection:f?h:null,forceSelection:A,text:S.slice(c,d),styleSet:n.getInlineStyleAt(c),customStyleMap:u,customStyleFn:o,isLast:p===g&&t===x})})).toArray();return p&&c?s.createElement(r,{block:n,children:_,contentState:t,decorator:c,decoratorKey:p,direction:d,leafSet:e,text:S,key:l}):_})).toArray();return s.createElement("div",{"data-offset-key":i.encode(m,0,0),className:l({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===d,"public/DraftStyleDefault/rtl":"RTL"===d})},v)},o}(s.Component));e.exports=u},776:function(e,n,t){"use strict";var r=t(7313),a=t(7827),i=function(e){var n,t;function i(){return e.apply(this,arguments)||this}t=e,(n=i).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var o=i.prototype;return o.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},o.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),n=a({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:n},r.createElement("div",{className:a("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},i}(r.Component);e.exports=i},7439:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(7313),o=t(8258),s=t(7405),l=t(5914),u=o.isBrowser("IE <= 11");var c=function(e){var n,t;function o(n){var t;return a(r(t=e.call(this,n)||this),"_forceFlag",void 0),a(r(t),"_node",void 0),t._forceFlag=!1,t}t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var c=o.prototype;return c.shouldComponentUpdate=function(e){var n=this._node,t=""===e.children;l(n)||s(!1);var r=n;return t?!function(e){return u?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},c.componentDidMount=function(){this._forceFlag=!this._forceFlag},c.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},c.render=function(){var e,n=this;return""===this.props.children?this._forceFlag?(e=function(e){return n._node=e},u?i.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return u?i.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):i.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return n._node=e})):i.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return n._node=e}},this.props.children)},o}(i.Component);e.exports=c},6221:function(e){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},5112:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=t(842),i=t(5986),o=t(7405),s=t(8820),l=(0,i.Map)(),u=s();function c(e,n){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+n+'" instead.')}var d={getLastCreatedEntityKey:function(){return c("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),d.__getLastCreatedEntityKey()},create:function(e,n,t){return c("DraftEntity.create","contentState.createEntity"),d.__create(e,n,t)},add:function(e){return c("DraftEntity.add","contentState.addEntity"),d.__add(e)},get:function(e){return c("DraftEntity.get","contentState.getEntity"),d.__get(e)},__getAll:function(){return l},__loadWithEntities:function(e){l=e,u=s()},mergeData:function(e,n){return c("DraftEntity.mergeData","contentState.mergeEntityData"),d.__mergeData(e,n)},replaceData:function(e,n){return c("DraftEntity.replaceData","contentState.replaceEntityData"),d.__replaceData(e,n)},__getLastCreatedEntityKey:function(){return u},__create:function(e,n,t){return d.__add(new a({type:e,mutability:n,data:t||{}}))},__add:function(e){return u=s(),l=l.set(u,e),u},__get:function(e){var n=l.get(e);return n||o(!1),n},__mergeData:function(e,n){var t=d.__get(e),a=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){r(e,n,t[n])}))}return e}({},t.getData(),n),i=t.set("data",a);return l=l.set(e,i),i},__replaceData:function(e,n){var t=d.__get(e).set("data",n);return l=l.set(e,t),t}};e.exports=d},842:function(e,n,t){"use strict";var r=function(e){var n,t;function r(){return e.apply(this,arguments)||this}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var a=r.prototype;return a.getType=function(){return this.get("type")},a.getMutability=function(){return this.get("mutability")},a.getData=function(){return this.get("data")},r}((0,t(5986).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},4178:function(e){"use strict";e.exports={getRemovalRange:function(e,n,t,r,a){var i=t.split(" ");i=i.map((function(e,n){if("forward"===a){if(n>0)return" "+e}else if(n<i.length-1)return e+" ";return e}));for(var o,s=r,l=null,u=null,c=0;c<i.length;c++){if(e<(o=s+i[c].length)&&s<n)null!==l||(l=s),u=o;else if(null!==l)break;s=o}var d=r+t.length,A=l===r,f=u===d;return(!A&&f||A&&!f)&&("forward"===a?u!==d&&u++:l!==r&&l--),{start:l,end:u}}}},5203:function(e){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},3284:function(e,n,t){"use strict";var r=t(1866),a=t(2254),i=t(2063),o=t(1311),s=t(1363),l=t(5986),u=t(9167),c=t(3574),d=t(7405),A=t(2614),f=t(9839),h=t(7429),p=t(5288),m=l.OrderedSet,S={replaceText:function(e,n,t,a,i){var o=f(e,n),s=h(o,n),l=r.create({style:a||m(),entity:i||null});return c(s,s.getSelectionAfter(),t,l)},insertText:function(e,n,t,r,a){return n.isCollapsed()||d(!1),S.replaceText(e,n,t,r,a)},moveText:function(e,n,t){var r=s(e,n),a=S.removeRange(e,n,"backward");return S.replaceWithFragment(a,t,r)},replaceWithFragment:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",a=f(e,n),i=h(a,n);return u(i,i.getSelectionAfter(),t,r)},removeRange:function(e,n,t){var r,a,i,s;n.getIsBackward()&&(n=n.merge({anchorKey:n.getFocusKey(),anchorOffset:n.getFocusOffset(),focusKey:n.getAnchorKey(),focusOffset:n.getAnchorOffset(),isBackward:!1})),r=n.getAnchorKey(),a=n.getFocusKey(),i=e.getBlockForKey(r),s=e.getBlockForKey(a);var l=n.getStartOffset(),u=n.getEndOffset(),c=i.getEntityAt(l),d=s.getEntityAt(u-1);if(r===a&&c&&c===d){var A=o(e.getEntityMap(),i,s,n,t);return h(e,A)}var p=f(e,n);return h(p,n)},splitBlock:function(e,n){var t=f(e,n),r=h(t,n);return p(r,r.getSelectionAfter())},applyInlineStyle:function(e,n,t){return a.add(e,n,t)},removeInlineStyle:function(e,n,t){return a.remove(e,n,t)},setBlockType:function(e,n,t){return A(e,n,(function(e){return e.merge({type:t,depth:0})}))},setBlockData:function(e,n,t){return A(e,n,(function(e){return e.merge({data:t})}))},mergeBlockData:function(e,n,t){return A(e,n,(function(e){return e.merge({data:e.getData().merge(t)})}))},applyEntity:function(e,n,t){var r=f(e,n);return i(r,n,t)}};e.exports=S},4519:function(e){"use strict";var n="-",t={encode:function(e,t,r){return e+n+t+n+r},decode:function(e){var t=e.split(n).reverse(),r=t[0],a=t[1];return{blockKey:t.slice(2).reverse().join(n),decoratorKey:parseInt(a,10),leafKey:parseInt(r,10)}}};e.exports=t},6604:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=t(5038),i=t(4615),o=t(6189),s=t(4354),l=t(1501),u=t(6137),c=t(5986),d=t(8720),A=c.List,f=c.Repeat,h=u("draft_tree_data_support"),p=h?i:a,m={processHTML:function(e,n){return o(e,l,n)},processText:function(e,n,t){return e.reduce((function(e,a,i){a=d(a);var o=s(),l={key:o,type:t,text:a,characterList:A(f(n,a.length))};if(h&&0!==i){var u=i-1;l=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){r(e,n,t[n])}))}return e}({},l,{prevSibling:(e[u]=e[u].merge({nextSibling:o})).getKey()})}return e.push(new p(l)),e}),[])}};e.exports=m},6068:function(e,n,t){"use strict";var r="\\s|(?![_])"+t(1495).getPunctuation(),a=new RegExp("^(?:"+r+")*(?:"+"['\u2018\u2019]|(?!"+r+").)*(?:(?!"+r+").)"),i=new RegExp("(?:(?!"+r+").)(?:"+"['\u2018\u2019]|(?!"+r+").)*(?:"+r+")*$");function o(e,n){var t=n?i.exec(e):a.exec(e);return t?t[0]:e}var s={getBackward:function(e){return o(e,!0)},getForward:function(e){return o(e,!1)}};e.exports=s},7596:function(e){"use strict";var n={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=n},8364:function(e,n,t){"use strict";function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(4354),o=t(7405),s=function(e){if(!e||!e.type)return!1;var n=e.type;return"unordered-list-item"===n||"ordered-list-item"===n},l={fromRawTreeStateToRawState:function(e){var n=e.blocks,t=[];return Array.isArray(n)||o(!1),Array.isArray(n)&&n.length?(function(e,n){for(var t=[].concat(e).reverse();t.length;){var r=t.pop();n(r);var a=r.children;Array.isArray(a)||o(!1),t=t.concat([].concat(a.reverse()))}}(n,(function(e){var n=r({},e);s(e)&&(n.depth=n.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(n){return n.type===e.type?r({},n,{depth:(e.depth||0)+1}):n})))}(e),null!=e.children&&e.children.length>0)||(delete n.children,t.push(n))})),e.blocks=t,r({},e,{blocks:t})):e},fromRawStateToRawTreeState:function(e){var n=[],t=[];return e.blocks.forEach((function(e){var a=s(e),o=e.depth||0,l=r({},e,{children:[]});if(a){var u=t[0];if(null==u&&0===o)n.push(l);else if(null==u||u.depth<o-1){var c={key:i(),text:"",depth:o-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};t.unshift(c),1===o?n.push(c):null!=u&&u.children.push(c),c.children.push(l)}else if(u.depth===o-1)u.children.push(l);else{for(;null!=u&&u.depth>=o;)t.shift(),u=t[0];o>0?u.children.push(l):n.push(l)}}else n.push(l)})),r({},e,{blocks:n})}};e.exports=l},2768:function(e,n,t){"use strict";t(4265);e.exports={isValidBlock:function(e,n){var t=e.getKey(),r=e.getParentKey();if(null!=r&&!n.get(r).getChildKeys().includes(t))return!1;if(!e.getChildKeys().map((function(e){return n.get(e)})).every((function(e){return e.getParentKey()===t})))return!1;var a=e.getPrevSiblingKey();if(null!=a&&n.get(a).getNextSiblingKey()!==t)return!1;var i=e.getNextSiblingKey();if(null!=i&&n.get(i).getPrevSiblingKey()!==t)return!1;return(null===i||null===a||a!==i)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var n=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==n.length)return!1;for(var t=0,r=n.shift().getKey(),a=[];null!=r;){var i=e.get(r),o=i.getChildKeys(),s=i.getNextSiblingKey();if(o.size>0){null!=s&&a.unshift(s);var l=o.map((function(n){return e.get(n)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==l)return!1;r=l.getKey()}else r=null!=i.getNextSiblingKey()?i.getNextSiblingKey():a.shift();t++}return t===e.size},isValidTree:function(e){var n=this;return!!e.toArray().every((function(t){return n.isValidBlock(t,e)}))&&this.isConnectedTree(e)}}},8964:function(e,n,t){"use strict";var r,a=t(6757),i=t(5986),o=t(5338),s=i.OrderedMap,l={getDirectionMap:function(e,n){r?r.reset():r=new a;var t=e.getBlockMap(),l=t.valueSeq().map((function(e){return o(r).getDirection(e.getText())})),u=s(t.keySeq().zip(l));return null!=n&&i.is(n,u)?n:u}};e.exports=l},9690:function(e,n,t){"use strict";function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(994),o=t(3281),s=t(8964),l=t(8977),u=t(5986),c=u.OrderedSet,d=u.Record,A=u.Stack,f=u.OrderedMap,h=u.List,p=d({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:A(),selection:null,treeMap:null,undoStack:A()}),m=function(){n.createEmpty=function(e){return this.createWithText("",e)},n.createWithText=function(e,t){return n.createWithContent(o.createFromText(e),t)},n.createWithContent=function(e,t){if(0===e.getBlockMap().count())return n.createEmpty(t);var r=e.getBlockMap().first().getKey();return n.create({currentContent:e,undoStack:A(),redoStack:A(),decorator:t||null,selection:l.createEmpty(r)})},n.create=function(e){var t=e.currentContent,a=r({},e,{treeMap:g(t,e.decorator),directionMap:s.getDirectionMap(t)});return new n(new p(a))},n.fromJS=function(e){return new n(new p(r({},e,{directionMap:null!=e.directionMap?f(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?c(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?o.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?A(e.redoStack.map((function(e){return o.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new l(e.selection):e.selection,treeMap:null!=e.treeMap?f(e.treeMap).map((function(e){return h(e).map((function(e){return i.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?A(e.undoStack.map((function(e){return o.fromJS(e)}))):e.undoStack,currentContent:o.fromJS(e.currentContent)})))},n.set=function(e,t){return new n(e.getImmutable().withMutations((function(n){var r=n.get("decorator"),a=r;null===t.decorator?a=null:t.decorator&&(a=t.decorator);var o=t.currentContent||e.getCurrentContent();if(a!==r){var s,l=n.get("treeMap");return s=a&&r?function(e,n,t,r,a){return t.merge(n.toSeq().filter((function(n){return r.getDecorations(n,e)!==a.getDecorations(n,e)})).map((function(n){return i.generate(e,n,r)})))}(o,o.getBlockMap(),l,a,r):g(o,a),void n.merge({decorator:a,treeMap:s,nativelyRenderedContent:null})}o!==e.getCurrentContent()&&n.set("treeMap",function(e,n,t,r){var a=e.getCurrentContent().set("entityMap",t),o=a.getBlockMap();return e.getImmutable().get("treeMap").merge(n.toSeq().filter((function(e,n){return e!==o.get(n)})).map((function(e){return i.generate(a,e,r)})))}(e,o.getBlockMap(),o.getEntityMap(),a)),n.merge(t)})))};var e=n.prototype;function n(e){a(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},n.setInlineStyleOverride=function(e,t){return n.set(e,{inlineStyleOverride:t})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var n=this.getCurrentContent(),t=this.getSelection();return t.isCollapsed()?function(e,n){var t=n.getStartKey(),r=n.getStartOffset(),a=e.getBlockForKey(t);if(r>0)return a.getInlineStyleAt(r-1);if(a.getLength())return a.getInlineStyleAt(0);return x(e,t)}(n,t):function(e,n){var t=n.getStartKey(),r=n.getStartOffset(),a=e.getBlockForKey(t);if(r<a.getLength())return a.getInlineStyleAt(r);if(r>0)return a.getInlineStyleAt(r-1);return x(e,t)}(n,t)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),n=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),n,n)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},n.acceptSelection=function(e,n){return S(e,n,!1)},n.forceSelection=function(e,n){return n.getHasFocus()||(n=n.set("hasFocus",!0)),S(e,n,!0)},n.moveSelectionToEnd=function(e){var t=e.getCurrentContent().getLastBlock(),r=t.getKey(),a=t.getLength();return n.acceptSelection(e,new l({anchorKey:r,anchorOffset:a,focusKey:r,focusOffset:a,isBackward:!1}))},n.moveFocusToEnd=function(e){var t=n.moveSelectionToEnd(e);return n.forceSelection(t,t.getSelection())},n.push=function(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===t)return e;var i=s.getDirectionMap(t,e.getDirectionMap());if(!e.getAllowUndo())return n.set(e,{currentContent:t,directionMap:i,lastChangeType:r,selection:t.getSelectionAfter(),forceSelection:a,inlineStyleOverride:null});var o=e.getSelection(),l=e.getCurrentContent(),u=e.getUndoStack(),c=t;o!==l.getSelectionAfter()||v(e,r)?(u=u.push(l),c=c.set("selectionBefore",o)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(c=c.set("selectionBefore",l.getSelectionBefore()));var d=e.getInlineStyleOverride(),f=["adjust-depth","change-block-type","split-block"];-1===f.indexOf(r)&&(d=null);var h={currentContent:c,directionMap:i,undoStack:u,redoStack:A(),lastChangeType:r,selection:t.getSelectionAfter(),forceSelection:a,inlineStyleOverride:d};return n.set(e,h)},n.undo=function(e){if(!e.getAllowUndo())return e;var t=e.getUndoStack(),r=t.peek();if(!r)return e;var a=e.getCurrentContent(),i=s.getDirectionMap(r,e.getDirectionMap());return n.set(e,{currentContent:r,directionMap:i,undoStack:t.shift(),redoStack:e.getRedoStack().push(a),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:a.getSelectionBefore()})},n.redo=function(e){if(!e.getAllowUndo())return e;var t=e.getRedoStack(),r=t.peek();if(!r)return e;var a=e.getCurrentContent(),i=s.getDirectionMap(r,e.getDirectionMap());return n.set(e,{currentContent:r,directionMap:i,undoStack:e.getUndoStack().push(a),redoStack:t.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},n}();function S(e,n,t){return m.set(e,{selection:n,forceSelection:t,nativelyRenderedContent:null,inlineStyleOverride:null})}function g(e,n){return e.getBlockMap().map((function(t){return i.generate(e,t,n)})).toOrderedMap()}function v(e,n){return n!==e.getLastChangeType()||"insert-characters"!==n&&"backspace-character"!==n&&"delete-character"!==n}function x(e,n){var t=e.getBlockMap().reverse().skipUntil((function(e,t){return t===n})).skip(1).skipUntil((function(e,n){return e.getLength()})).first();return t?t.getInlineStyleAt(t.getLength()-1):c()}e.exports=m},7293:function(e,n,t){"use strict";var r=t(8258),a=t(9862),i=r.isPlatform("Mac OS X"),o={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return i&&e.altKey},usesMacOSHeuristics:function(){return i},hasCommandModifier:function(e){return i?!!e.metaKey&&!e.altKey:o.isCtrlKeyCommand(e)},isSoftNewlineEvent:a};e.exports=o},1943:function(){},4859:function(e,n,t){"use strict";var r=t(3284),a=t(9690),i=t(3707),o=t(5338),s={currentBlockContainsLink:function(e){var n=e.getSelection(),t=e.getCurrentContent(),r=t.getEntityMap();return t.getBlockForKey(n.getAnchorKey()).getCharacterList().slice(n.getStartOffset(),n.getEndOffset()).some((function(e){var n=e.getEntity();return!!n&&"LINK"===r.__get(n).getType()}))},getCurrentBlockType:function(e){var n=e.getSelection();return e.getCurrentContent().getBlockForKey(n.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,n,t){switch(n){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var n=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),t=a.push(e,n,"insert-characters");return a.forceSelection(t,n.getSelectionAfter())},onBackspace:function(e){var n=e.getSelection();if(!n.isCollapsed()||n.getAnchorOffset()||n.getFocusOffset())return null;var t=e.getCurrentContent(),r=n.getStartKey(),i=t.getBlockBefore(r);if(i&&"atomic"===i.getType()){var o=t.getBlockMap().delete(i.getKey()),l=t.merge({blockMap:o,selectionAfter:n});if(l!==t)return a.push(e,l,"remove-range")}var u=s.tryToRemoveBlockStyle(e);return u?a.push(e,u,"change-block-type"):null},onDelete:function(e){var n=e.getSelection();if(!n.isCollapsed())return null;var t=e.getCurrentContent(),i=n.getStartKey(),o=t.getBlockForKey(i).getLength();if(n.getStartOffset()<o)return null;var s=t.getBlockAfter(i);if(!s||"atomic"!==s.getType())return null;var l=n.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),u=r.removeRange(t,l,"forward");return u!==t?a.push(e,u,"remove-range"):null},onTab:function(e,n,t){var r=n.getSelection(),o=r.getAnchorKey();if(o!==r.getFocusKey())return n;var s=n.getCurrentContent(),l=s.getBlockForKey(o),u=l.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return n;e.preventDefault();var c=l.getDepth();if(!e.shiftKey&&c===t)return n;var d=i(s,r,e.shiftKey?-1:1,t);return a.push(n,d,"adjust-depth")},toggleBlockType:function(e,n){var t=e.getSelection(),i=t.getStartKey(),s=t.getEndKey(),l=e.getCurrentContent(),u=t;if(i!==s&&0===t.getEndOffset()){var c=o(l.getBlockBefore(s));s=c.getKey(),u=u.merge({anchorKey:i,anchorOffset:t.getStartOffset(),focusKey:s,focusOffset:c.getLength(),isBackward:!1})}if(l.getBlockMap().skipWhile((function(e,n){return n!==i})).reverse().skipWhile((function(e,n){return n!==s})).some((function(e){return"atomic"===e.getType()})))return e;var d=l.getBlockForKey(i).getType()===n?"unstyled":n;return a.push(e,r.setBlockType(l,u,d),"change-block-type")},toggleCode:function(e){var n=e.getSelection(),t=n.getAnchorKey(),r=n.getFocusKey();return n.isCollapsed()||t!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,n){var t=e.getSelection(),i=e.getCurrentInlineStyle();if(t.isCollapsed())return a.setInlineStyleOverride(e,i.has(n)?i.remove(n):i.add(n));var o,s=e.getCurrentContent();return o=i.has(n)?r.removeInlineStyle(s,t,n):r.applyInlineStyle(s,t,n),a.push(e,o,"change-inline-style")},toggleLink:function(e,n,t){var i=r.applyEntity(e.getCurrentContent(),n,t);return a.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var n=e.getSelection(),t=n.getAnchorOffset();if(n.isCollapsed()&&0===t){var a=n.getAnchorKey(),i=e.getCurrentContent(),o=i.getBlockForKey(a).getType(),s=i.getBlockBefore(a);if("code-block"===o&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==o)return r.setBlockType(i,n,"unstyled")}return null}};e.exports=s},4017:function(e,n,t){"use strict";var r=t(3284),a=t(9690),i=t(1363),o=t(5338),s=null,l={cut:function(e){var n=e.getCurrentContent(),t=e.getSelection(),l=null;if(t.isCollapsed()){var u=t.getAnchorKey(),c=n.getBlockForKey(u).getLength();if(c===t.getAnchorOffset()){var d=n.getKeyAfter(u);if(null==d)return e;l=t.set("focusKey",d).set("focusOffset",0)}else l=t.set("focusOffset",c)}else l=t;l=o(l),s=i(n,l);var A=r.removeRange(n,l,"forward");return A===n?e:a.push(e,A,"remove-range")},paste:function(e){if(!s)return e;var n=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return a.push(e,n,"insert-fragment")}};e.exports=l},8977:function(e,n,t){"use strict";var r=function(e){var n,t;function r(){return e.apply(this,arguments)||this}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var a=r.prototype;return a.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},a.getAnchorKey=function(){return this.get("anchorKey")},a.getAnchorOffset=function(){return this.get("anchorOffset")},a.getFocusKey=function(){return this.get("focusKey")},a.getFocusOffset=function(){return this.get("focusOffset")},a.getIsBackward=function(){return this.get("isBackward")},a.getHasFocus=function(){return this.get("hasFocus")},a.hasEdgeWithin=function(e,n,t){var r=this.getAnchorKey(),a=this.getFocusKey();if(r===a&&r===e){var i=this.getStartOffset(),o=this.getEndOffset();return n<=i&&i<=t||n<=o&&o<=t}if(e!==r&&e!==a)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return n<=s&&t>=s},a.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},a.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},a.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},a.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},a.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,t(5986).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},3707:function(e){"use strict";e.exports=function(e,n,t,r){var a=n.getStartKey(),i=n.getEndKey(),o=e.getBlockMap(),s=o.toSeq().skipUntil((function(e,n){return n===a})).takeUntil((function(e,n){return n===i})).concat([[i,o.get(i)]]).map((function(e){var n=e.getDepth()+t;return n=Math.max(0,Math.min(n,r)),e.set("depth",n)}));return o=o.merge(s),e.merge({blockMap:o,selectionBefore:n,selectionAfter:n})}},8449:function(e,n,t){"use strict";var r=t(1866);e.exports=function(e,n,t,a){for(var i=n,o=e.getCharacterList();i<t;)o=o.set(i,r.applyEntity(o.get(i),a)),i++;return e.set("characterList",o)}},2063:function(e,n,t){"use strict";var r=t(8449),a=t(5986);e.exports=function(e,n,t){var i=e.getBlockMap(),o=n.getStartKey(),s=n.getStartOffset(),l=n.getEndKey(),u=n.getEndOffset(),c=i.skipUntil((function(e,n){return n===o})).takeUntil((function(e,n){return n===l})).toOrderedMap().merge(a.OrderedMap([[l,i.get(l)]])).map((function(e,n){var a=n===o?s:0,i=n===l?u:e.getLength();return r(e,a,i,t)}));return e.merge({blockMap:i.merge(c),selectionBefore:n,selectionAfter:n})}},7348:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=t(5038),i=t(4615),o=t(7596),s=t(3791),l=t(2878),u=t(7405),c=function(e,n){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:l(e),entityRanges:s(e,n),data:e.getData().toObject()}},d=function(e,n,t,o){if(e instanceof a)t.push(c(e,n));else{e instanceof i||u(!1);var s=e.getParentKey(),l=o[e.getKey()]=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){r(e,n,t[n])}))}return e}({},c(e,n),{children:[]});s?o[s].children.push(l):t.push(l)}};e.exports=function(e){var n={entityMap:{},blocks:[]};return n=function(e,n){var t=n.entityMap,r=[],a={},i={},s=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(n){var r=e.getEntityAt(n),a=o.stringify(r);i[a]||(i[a]=r,t[a]="".concat(s),s++)})),d(e,t,r,a)})),{blocks:r,entityMap:t}}(e,n),n=function(e,n){var t=n.blocks,r=n.entityMap,a={};return Object.keys(r).forEach((function(n,t){var r=e.getEntity(o.unstringify(n));a[t]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:t,entityMap:a}}(e,n),n}},6189:function(e,n,t){"use strict";var r;function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=t(1866),s=t(5038),l=t(4615),u=t(128),c=t(5112),d=t(2636),A=t(7827),f=t(4354),h=t(1501),p=t(6137),m=t(5986),S=m.List,g=m.Map,v=m.OrderedSet,x=t(9134),_=t(5801),y=t(7719),w=t(3864),b=p("draft_tree_data_support"),V=new RegExp("\r","g"),C=new RegExp("\n","g"),E=new RegExp("^\n","g"),D=new RegExp("&nbsp;","g"),F=new RegExp("&#13;?","g"),T=new RegExp("&#8203;?","g"),P=["bold","bolder","500","600","700","800","900"],R=["light","lighter","normal","100","200","300","400"],L=["className","href","rel","target","title"],M=["alt","className","height","src","width"],B=(i(r={},A("public/DraftStyleDefault/depth0"),0),i(r,A("public/DraftStyleDefault/depth1"),1),i(r,A("public/DraftStyleDefault/depth2"),2),i(r,A("public/DraftStyleDefault/depth3"),3),i(r,A("public/DraftStyleDefault/depth4"),4),r),k=g({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),I=function(e){var n={};return e.mapKeys((function(e,t){var r=[t.element];void 0!==t.aliasedElements&&r.push.apply(r,t.aliasedElements),r.forEach((function(t){void 0===n[t]?n[t]=e:"string"===typeof n[t]?n[t]=[n[t],e]:n[t].push(e)}))})),g(n)},O=function(e){if(y(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},N=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(B).some((function(t){e.classList.contains(t)&&(n=B[t])})),n},j=function(e){if(!x(e))return!1;var n=e;if(!n.href||"http:"!==n.protocol&&"https:"!==n.protocol&&"mailto:"!==n.protocol&&"tel:"!==n.protocol)return!1;try{new d(n.href);return!0}catch(t){return!1}},U=function(e){if(!w(e))return!1;var n=e;return!(!n.attributes.getNamedItem("src")||!n.attributes.getNamedItem("src").value)},G=function(e,n){if(!y(e))return n;var t=e,r=t.style.fontWeight,a=t.style.fontStyle,i=t.style.textDecoration;return n.withMutations((function(e){P.indexOf(r)>=0?e.add("BOLD"):R.indexOf(r)>=0&&e.remove("BOLD"),"italic"===a?e.add("ITALIC"):"normal"===a&&e.remove("ITALIC"),"underline"===i&&e.add("UNDERLINE"),"line-through"===i&&e.add("STRIKETHROUGH"),"none"===i&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},z=function(e){return"ul"===e||"ol"===e},H=function(){function e(e,n){i(this,"characterList",S()),i(this,"currentBlockType","unstyled"),i(this,"currentDepth",0),i(this,"currentEntity",null),i(this,"currentText",""),i(this,"wrapper",null),i(this,"blockConfigs",[]),i(this,"contentBlocks",[]),i(this,"entityMap",c),i(this,"blockTypeMap",void 0),i(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=n}var n=e.prototype;return n.clear=function(){this.characterList=S(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=c,this.wrapper=null,this.contentBlocks=[]},n.addDOMNode=function(e){var n;return this.contentBlocks=[],this.currentDepth=0,(n=this.blockConfigs).push.apply(n,this._toBlockConfigs([e],v())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},n.getContentBlocks=function(){return 0===this.contentBlocks.length&&(b?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},n._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.key||f(),t=a({key:n,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:S(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=S(),this.currentBlockType="unstyled",this.currentText="",t},n._toBlockConfigs=function(e,n){for(var t=[],r=0;r<e.length;r++){var a=e[r],i=a.nodeName.toLowerCase();if("body"===i||z(i)){this._trimCurrentText(),""!==this.currentText&&t.push(this._makeBlockConfig());var o=this.currentDepth,s=this.wrapper;z(i)&&(this.wrapper=i,z(s)&&this.currentDepth++),t.push.apply(t,this._toBlockConfigs(Array.from(a.childNodes),n)),this.currentDepth=o,this.wrapper=s}else{var l=this.blockTypeMap.get(i);if(void 0===l)if("#text"!==i)if("br"!==i)if(U(a))this._addImgNode(a,n);else if(j(a))this._addAnchorNode(a,t,n);else{var u=n;k.has(i)&&(u=u.add(k.get(i))),u=G(a,u);var c=O(a);null!=c&&(u=u.add(c)),t.push.apply(t,this._toBlockConfigs(Array.from(a.childNodes),u))}else this._addBreakNode(a,n);else this._addTextNode(a,n);else{this._trimCurrentText(),""!==this.currentText&&t.push(this._makeBlockConfig());var d=this.currentDepth,A=this.wrapper;if(this.wrapper="pre"===i?"pre":this.wrapper,"string"!==typeof l&&(l=this.disambiguate(i,this.wrapper)||l[0]||"unstyled"),!b&&y(a)&&("unordered-list-item"===l||"ordered-list-item"===l)){var h=a;this.currentDepth=N(h,this.currentDepth)}var p=f(),m=this._toBlockConfigs(Array.from(a.childNodes),n);this._trimCurrentText(),t.push(this._makeBlockConfig({key:p,childConfigs:m,type:l})),this.currentDepth=d,this.wrapper=A}}}return t},n._appendText=function(e,n){var t;this.currentText+=e;var r=o.create({style:n,entity:this.currentEntity});this.characterList=(t=this.characterList).push.apply(t,Array(e.length).fill(r))},n._trimCurrentText=function(){var e=this.currentText.length,n=e-this.currentText.trimLeft().length,t=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(n=void 0!==r?Math.min(n,r[0]):n)>(t=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(t,e-r[0]):t)?(this.currentText="",this.characterList=S()):(this.currentText=this.currentText.slice(n,t),this.characterList=this.characterList.slice(n,t))},n._addTextNode=function(e,n){var t=e.textContent;""===t.trim()&&"pre"!==this.wrapper&&(t=" "),"pre"!==this.wrapper&&(t=(t=t.replace(E,"")).replace(C," ")),this._appendText(t,n)},n._addBreakNode=function(e,n){_(e)&&this._appendText("\n",n)},n._addImgNode=function(e,n){if(w(e)){var t=e,r={};M.forEach((function(e){var n=t.getAttribute(e);n&&(r[e]=n)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),p("draftjs_fix_paste_for_img")?"presentation"!==t.getAttribute("role")&&this._appendText("\ud83d\udcf7",n):this._appendText("\ud83d\udcf7",n),this.currentEntity=null}},n._addAnchorNode=function(e,n,t){if(x(e)){var r=e,a={};L.forEach((function(e){var n=r.getAttribute(e);n&&(a[e]=n)})),a.url=new d(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",a||{}),n.push.apply(n,this._toBlockConfigs(Array.from(e.childNodes),t)),this.currentEntity=null}},n._toContentBlocks=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.length-1,r=0;r<=t;r++){var i=e[r];i.parent=n,i.prevSibling=r>0?e[r-1].key:null,i.nextSibling=r<t?e[r+1].key:null,i.children=S(i.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new l(a({},i))),this._toContentBlocks(i.childConfigs,i.key)}},n._hoistContainersInBlockConfigs=function(e){var n=this;return S(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:n._hoistContainersInBlockConfigs(e.childConfigs)}))},n._toFlatContentBlocks=function(e){var n=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var t=n._extractTextFromBlockConfigs(e.childConfigs),r=t.text,i=t.characterList;n.contentBlocks.push(new s(a({},e,{text:e.text+r,characterList:e.characterList.concat(i)})))}))},n._extractTextFromBlockConfigs=function(e){for(var n=e.length-1,t="",r=S(),a=0;a<=n;a++){var i=e[a];t+=i.text,r=r.concat(i.characterList),""!==t&&"unstyled"!==i.type&&(t+="\n",r=r.push(r.last()));var o=this._extractTextFromBlockConfigs(i.childConfigs);t+=o.text,r=r.concat(o.characterList)}return{text:t,characterList:r}},e}();e.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=n(e=e.trim().replace(V,"").replace(D," ").replace(F,"").replace(T,""));if(!r)return null;var a=I(t),i=function(e,n){return"li"===e?"ol"===n?"ordered-list-item":"unordered-list-item":null};return new H(a,i).addDOMNode(r).getContentBlocks()}},5741:function(e,n,t){"use strict";function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(5038),o=t(4615),s=t(3281),l=t(5112),u=t(8364),c=(t(2768),t(8977)),d=t(8708),A=t(9033),f=t(9802),h=t(4354),p=t(6137),m=t(5986),S=t(7405),g=p("draft_tree_data_support"),v=m.List,x=m.Map,_=m.OrderedMap,y=function(e,n){var t=e.key,r=e.type,a=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:t||h(),data:x(a),characterList:w(e,n)}},w=function(e,n){var t=e.text,a=e.entityRanges,i=e.inlineStyleRanges,o=a||[];return d(f(t,i||[]),A(t,o.filter((function(e){return n.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:n[e.key]})}))))},b=function(e){return r({},e,{key:e.key||h()})},V=function(e,n,t){var a=n.map((function(e){return r({},e,{parentRef:t})}));return e.concat(a.reverse())},C=function(e,n){var t=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),a=g&&!t?u.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!g)return function(e,n){return _(e.map((function(e){var t=new i(y(e,n));return[t.getKey(),t]})))}(t?u.fromRawTreeStateToRawState(e).blocks:a,n);var s=function(e,n){return e.map(b).reduce((function(t,a,i){Array.isArray(a.children)||S(!1);var s=a.children.map(b),l=new o(r({},y(a,n),{prevSibling:0===i?null:e[i-1].key,nextSibling:i===e.length-1?null:e[i+1].key,children:v(s.map((function(e){return e.key})))}));t=t.set(l.getKey(),l);for(var u=V([],s,l);u.length>0;){var c=u.pop(),d=c.parentRef,A=d.getChildKeys(),f=A.indexOf(c.key),h=Array.isArray(c.children);if(!h){h||S(!1);break}var p=c.children.map(b),m=new o(r({},y(c,n),{parent:d.getKey(),children:v(p.map((function(e){return e.key}))),prevSibling:0===f?null:A.get(f-1),nextSibling:f===A.size-1?null:A.get(f+1)}));t=t.set(m.getKey(),m),u=V(u,p,m)}return t}),_())}(a,n);return s};e.exports=function(e){Array.isArray(e.blocks)||S(!1);var n=function(e){var n=e.entityMap,t={};return Object.keys(n).forEach((function(e){var r=n[e],a=r.type,i=r.mutability,o=r.data;t[e]=l.__create(a,i,o||{})})),t}(e),t=C(e,n),r=t.isEmpty()?new c:c.createEmpty(t.first().getKey());return new s({blockMap:t,entityMap:n,selectionBefore:r,selectionAfter:r})}},8708:function(e,n,t){"use strict";var r=t(1866),a=t(5986).List;e.exports=function(e,n){var t=e.map((function(e,t){var a=n[t];return r.create({style:e,entity:a})}));return a(t)}},9033:function(e,n,t){"use strict";var r=t(2577).substr;e.exports=function(e,n){var t=Array(e.length).fill(null);return n&&n.forEach((function(n){for(var a=r(e,0,n.offset).length,i=a+r(e,n.offset,n.length).length,o=a;o<i;o++)t[o]=n.key})),t}},9802:function(e,n,t){"use strict";var r=t(2577),a=t(5986).OrderedSet,i=r.substr,o=a();e.exports=function(e,n){var t=Array(e.length).fill(o);return n&&n.forEach((function(n){for(var r=i(e,0,n.offset).length,a=r+i(e,n.offset,n.length).length;r<a;)t[r]=t[r].add(n.style),r++})),t}},7261:function(e){"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},5352:function(e,n,t){"use strict";var r=t(3284),a=t(9690),i=t(8258),o=t(8776),s=t(7146),l=t(2165),u=t(5338),c=t(7617),d=i.isBrowser("Firefox");function A(e,n,t,i,o){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),n,t,i);return a.push(e,s,"insert-characters",o)}e.exports=function(e,n){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=e._latestEditorState,r=n.data;if(r)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,t,n.timeStamp)))n.preventDefault();else{var i=t.getSelection(),f=i.getStartOffset(),h=i.getAnchorKey();if(!i.isCollapsed())return n.preventDefault(),void e.update(A(t,r,t.getCurrentInlineStyle(),o(t.getCurrentContent(),t.getSelection()),!0));var p,m=A(t,r,t.getCurrentInlineStyle(),o(t.getCurrentContent(),t.getSelection()),!1),S=!1;if(S||(S=l(e._latestCommittedEditorState)),!S){var g=t.getBlockTree(h),v=m.getBlockTree(h);S=g.size!==v.size||g.zip(v).some((function(e){var n=e[0],t=e[1],a=n.get("start"),i=a+(a>=f?r.length:0),o=n.get("end"),s=o+(o>=f?r.length:0),l=t.get("start"),u=t.get("end"),c=t.get("decoratorKey");return n.get("decoratorKey")!==c||n.get("leaves").size!==t.get("leaves").size||i!==l||s!==u||null!=c&&u-l!==o-a}))}if(S||(p=r,S=d&&("'"==p||"/"==p)),S||(S=u(m.getDirectionMap()).get(h)!==u(t.getDirectionMap()).get(h)),S)return n.preventDefault(),m=a.set(m,{forceSelection:!0}),void e.update(m);m=a.set(m,{nativelyRenderedContent:m.getCurrentContent()}),e._pendingStateFromBeforeInput=m,c((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},2258:function(e,n,t){"use strict";var r=t(9690),a=t(2804),i=t(3459);e.exports=function(e,n){var t=n.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&i(t)===t.body){var o=t.defaultView.getSelection(),s=e.editor;1===o.rangeCount&&a(s,o.anchorNode)&&a(s,o.focusNode)&&o.removeAllRanges()}var l=e._latestEditorState,u=l.getSelection();if(u.getHasFocus()){var c=u.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(n),e.update(r.acceptSelection(l,c))}}},678:function(e,n,t){"use strict";var r=t(9690);e.exports=function(e,n){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(n)}},4977:function(e,n,t){"use strict";var r=t(5212);e.exports=function(e,n){e._latestEditorState.getSelection().isCollapsed()?n.preventDefault():e.setClipboard(r(e._latestEditorState))}},76:function(e,n,t){"use strict";var r=t(3284),a=t(9690),i=t(9026),o=t(5212),s=t(7541),l=t(6460);e.exports=function(e,n){var t,u=e._latestEditorState,c=u.getSelection(),d=n.target;if(c.isCollapsed())n.preventDefault();else{if(l(d)){var A=d;t=s(i.getScrollParent(A))}var f=o(u);e.setClipboard(f),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(t),e.exitCurrentMode(),e.update(function(e){var n=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return a.push(e,n,"remove-range")}(u))}),0)}}},4844:function(e){"use strict";e.exports=function(e,n){e.setMode("drag"),n.preventDefault()}},110:function(e){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},9914:function(e,n,t){"use strict";var r=t(9690),a=t(8258);e.exports=function(e,n){var t=e._latestEditorState,i=t.getSelection();if(!i.getHasFocus()){var o=i.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(n),a.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(t,o)):e.update(r.acceptSelection(t,o))}}},3774:function(e,n,t){"use strict";var r=t(3284),a=t(4519),i=t(9690),o=t(8258),s=t(7261).notEmptyKey,l=t(4117),u=t(3332),c=t(5338),d=o.isEngine("Gecko");e.exports=function(e,n){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=e.editor.ownerDocument.defaultView.getSelection(),o=t.anchorNode,A=t.isCollapsed,f=(null===o||void 0===o?void 0:o.nodeType)!==Node.TEXT_NODE&&(null===o||void 0===o?void 0:o.nodeType)!==Node.ELEMENT_NODE;if(null!=o&&!f){if(o.nodeType===Node.TEXT_NODE&&(null!==o.previousSibling||null!==o.nextSibling)){var h=o.parentNode;if(null==h)return;o.nodeValue=h.textContent;for(var p=h.firstChild;null!=p;p=p.nextSibling)p!==o&&h.removeChild(p)}var m=o.textContent,S=e._latestEditorState,g=c(l(o)),v=a.decode(g),x=v.blockKey,_=v.decoratorKey,y=v.leafKey,w=S.getBlockTree(x).getIn([_,"leaves",y]),b=w.start,V=w.end,C=S.getCurrentContent(),E=C.getBlockForKey(x),D=E.getText().slice(b,V);if(m.endsWith("\n\n")&&(m=m.slice(0,-1)),m!==D){var F,T,P,R,L=S.getSelection(),M=L.merge({anchorOffset:b,focusOffset:V,isBackward:!1}),B=E.getEntityAt(b),k=s(B)?C.getEntity(B):null,I="MUTABLE"===(null!=k?k.getMutability():null),O=I?"spellcheck-change":"apply-entity",N=r.replaceText(C,M,m,E.getInlineStyleAt(b),I?E.getEntityAt(b):null);if(d)F=t.anchorOffset,T=t.focusOffset,R=(P=b+Math.min(F,T))+Math.abs(F-T),F=P,T=R;else{var j=m.length-D.length;P=L.getStartOffset(),R=L.getEndOffset(),F=A?R+j:P,T=R+j}var U=N.merge({selectionBefore:C.getSelectionAfter(),selectionAfter:L.merge({anchorOffset:F,focusOffset:T})});e.update(i.push(S,U,O))}else{var G=n.nativeEvent.inputType;if(G){var z=function(e,n){return"deleteContentBackward"===e?u(n):n}(G,S);if(z!==S)return e.restoreEditorDOM(),void e.update(z)}}}}},2196:function(e,n,t){"use strict";var r=t(3284),a=t(9690),i=t(7293),o=t(3058),s=t(4017),l=t(8258),u=t(7146),c=t(1559),d=t(182),A=t(5400),f=t(2617),h=t(6338),p=t(6741),m=t(3332),S=t(3815),g=t(2319),v=t(2640),x=i.isOptionKeyCommand,_=l.isBrowser("Chrome");e.exports=function(e,n){var t=n.which,i=e._latestEditorState;function l(t){var r=e.props[t];return!!r&&(r(n),!0)}switch(t){case o.RETURN:if(n.preventDefault(),e.props.handleReturn&&u(e.props.handleReturn(n,i)))return;break;case o.ESC:if(n.preventDefault(),l("onEscape"))return;break;case o.TAB:if(l("onTab"))return;break;case o.UP:if(l("onUpArrow"))return;break;case o.RIGHT:if(l("onRightArrow"))return;break;case o.DOWN:if(l("onDownArrow"))return;break;case o.LEFT:if(l("onLeftArrow"))return;break;case o.SPACE:_&&x(n)&&n.preventDefault()}var y=e.props.keyBindingFn(n);if(null!=y&&""!==y)if("undo"!==y){if(n.preventDefault(),!e.props.handleKeyCommand||!u(e.props.handleKeyCommand(y,i,n.timeStamp))){var w=function(e,n,t){switch(e){case"redo":return a.redo(n);case"delete":return S(n);case"delete-word":return A(n);case"backspace":return m(n);case"backspace-word":return d(n);case"backspace-to-start-of-line":return c(n,t);case"split-block":return f(n);case"transpose-characters":return g(n);case"move-selection-to-start-of-block":return p(n);case"move-selection-to-end-of-block":return h(n);case"secondary-cut":return s.cut(n);case"secondary-paste":return s.paste(n);default:return n}}(y,i,n);w!==i&&e.update(w)}}else v(n,i,e.update);else if(t===o.SPACE&&_&&x(n)){var b=r.replaceText(i.getCurrentContent(),i.getSelection(),"\xa0");e.update(a.push(i,b,"insert-characters"))}}},9358:function(e,n,t){"use strict";var r=t(3980),a=t(1866),i=t(1767),o=t(3284),s=t(6604),l=t(9690),u=t(4859),c=t(8776),d=t(4763),A=t(7146),f=t(3409);function h(e,n,t){var r=o.replaceWithFragment(e.getCurrentContent(),e.getSelection(),n);return l.push(e,r.set("entityMap",t),"insert-fragment")}e.exports=function(e,n){n.preventDefault();var t=new i(n.clipboardData);if(!t.isRichText()){var p=t.getFiles(),m=t.getText();if(p.length>0){if(e.props.handlePastedFiles&&A(e.props.handlePastedFiles(p)))return;return void d(p,(function(n){if(n=n||m){var t=e._latestEditorState,i=f(n),d=a.create({style:t.getCurrentInlineStyle(),entity:c(t.getCurrentContent(),t.getSelection())}),A=u.getCurrentBlockType(t),h=s.processText(i,d,A),p=r.createFromArray(h),S=o.replaceWithFragment(t.getCurrentContent(),t.getSelection(),p);e.update(l.push(t,S,"insert-fragment"))}}))}}var S=[],g=t.getText(),v=t.getHTML(),x=e._latestEditorState;if(e.props.formatPastedText){var _=e.props.formatPastedText(g,v);g=_.text,v=_.html}if(!e.props.handlePastedText||!A(e.props.handlePastedText(g,v,x))){if(g&&(S=f(g)),!e.props.stripPastedStyles){var y,w=e.getClipboard();if(!e.props.formatPastedText&&t.isRichText()&&w){if(-1!==(null===(y=v)||void 0===y?void 0:y.indexOf(e.getEditorKey()))||1===S.length&&1===w.size&&w.first().getText()===g)return void e.update(h(e._latestEditorState,w))}else if(w&&t.types.includes("com.apple.webarchive")&&!t.types.includes("text/html")&&function(e,n){return e.length===n.size&&n.valueSeq().every((function(n,t){return n.getText()===e[t]}))}(S,w))return void e.update(h(e._latestEditorState,w));if(v){var b=s.processHTML(v,e.props.blockRenderMap);if(b){var V=b.contentBlocks,C=b.entityMap;if(V){var E=r.createFromArray(V);return void e.update(h(e._latestEditorState,E,C))}}}e.setClipboard(null)}if(S.length){var D=a.create({style:x.getCurrentInlineStyle(),entity:c(x.getCurrentContent(),x.getSelection())}),F=u.getCurrentBlockType(x),T=s.processText(S,D,F),P=r.createFromArray(T);e.update(h(e._latestEditorState,P))}}}},5518:function(e,n,t){"use strict";var r=t(5203),a=t(9690),i=t(47),o=t(7785);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var n=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(n.toJS())})}}else{var t=e.props.editorState,s=o(t,i(e)),l=s.selectionState;l!==t.getSelection()&&(t=s.needsRecovery?a.forceSelection(t,l):a.acceptSelection(t,l),e.update(t))}}},3791:function(e,n,t){"use strict";var r=t(7596),a=t(2577).strlen;e.exports=function(e,n){var t=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(i,o){var s=e.getText(),l=e.getEntityAt(i);t.push({offset:a(s.slice(0,i)),length:a(s.slice(i,o)),key:Number(n[r.stringify(l)])})})),t}},2878:function(e,n,t){"use strict";var r=t(2577),a=t(1111),i=function(e,n){return e===n},o=function(e){return!!e},s=[];e.exports=function(e){var n=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),t=n.flatten().toSet().map((function(t){return function(e,n,t){var s=[],l=n.map((function(e){return e.has(t)})).toList();return a(l,i,o,(function(n,a){var i=e.getText();s.push({offset:r.strlen(i.slice(0,n)),length:r.strlen(i.slice(n,a)),style:t})})),s}(e,n,t)}));return Array.prototype.concat.apply(s,t.toJS())}},926:function(e,n,t){"use strict";var r=t(2577),a=t(7803),i=t(8175),o=t(7405);function s(e,n){for(var t=1/0,r=1/0,a=-1/0,i=-1/0,o=0;o<e.length;o++){var s=e[o];0!==s.width&&1!==s.width&&(t=Math.min(t,s.top),r=Math.min(r,s.bottom),a=Math.max(a,s.top),i=Math.max(i,s.bottom))}return a<=r&&a-t<n&&i-r<n}function l(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||o(!1);var n=(e=e.cloneRange()).startContainer;1!==n.nodeType&&(n=n.parentNode);var t=function(e){var n=getComputedStyle(e),t=a(e),r=t.createElement("div");r.style.fontFamily=n.fontFamily,r.style.fontSize=n.fontSize,r.style.fontStyle=n.fontStyle,r.style.fontWeight=n.fontWeight,r.style.lineHeight=n.lineHeight,r.style.position="absolute",r.textContent="M";var i=t.body;i||o(!1),i.appendChild(r);var s=r.getBoundingClientRect();return i.removeChild(r),s.height}(n),u=e.endContainer,c=e.endOffset;for(e.setStart(e.startContainer,0);s(i(e),t)&&(u=e.startContainer,c=e.startOffset,u.parentNode||o(!1),e.setStartBefore(u),1!==u.nodeType||"inline"===getComputedStyle(u).display););for(var d=u,A=c-1;;){for(var f=d.nodeValue,h=A;h>=0;h--)if(!(null!=f&&h>0&&r.isSurrogatePair(f,h-1))){if(e.setStart(d,h),!s(i(e),t))break;u=d,c=h}if(-1===h||0===d.childNodes.length)break;A=l(d=d.childNodes[h])}return e.setStart(u,c),e}},4117:function(e,n,t){"use strict";var r=t(7803),a=t(4707);e.exports=function(e){for(var n=e;n&&n!==r(e).documentElement;){var t=a(n);if(null!=t)return t;n=n.parentNode}return null}},1111:function(e){"use strict";e.exports=function(e,n,t,r){if(e.size){var a=0;e.reduce((function(e,i,o){return n(e,i)||(t(e)&&r(a,o),a=o),i})),t(e.last())&&r(a,e.count())}}},4354:function(e){"use strict";var n={},t=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||n.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*t).toString(32);return n[e]=!0,e}},1311:function(e,n,t){"use strict";var r=t(4178),a=t(9264),i=t(7405);function o(e,n,t,o,s,l,u){var c=t.getStartOffset(),d=t.getEndOffset(),A=e.__get(s).getMutability(),f=u?c:d;if("MUTABLE"===A)return t;var h=a(n,s).filter((function(e){return f<=e.end&&f>=e.start}));1!=h.length&&i(!1);var p=h[0];if("IMMUTABLE"===A)return t.merge({anchorOffset:p.start,focusOffset:p.end,isBackward:!1});l||(u?d=p.end:c=p.start);var m=r.getRemovalRange(c,d,n.getText().slice(p.start,p.end),p.start,o);return t.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1})}e.exports=function(e,n,t,r,a){var i=r.getStartOffset(),s=r.getEndOffset(),l=n.getEntityAt(i),u=t.getEntityAt(s-1);if(!l&&!u)return r;var c=r;if(l&&l===u)c=o(e,n,c,a,l,!0,!0);else if(l&&u){var d=o(e,n,c,a,l,!1,!0),A=o(e,t,c,a,u,!1,!1);c=c.merge({anchorOffset:d.getAnchorOffset(),focusOffset:A.getFocusOffset(),isBackward:!1})}else if(l){var f=o(e,n,c,a,l,!1,!0);c=c.merge({anchorOffset:f.getStartOffset(),isBackward:!1})}else if(u){var h=o(e,t,c,a,u,!1,!1);c=c.merge({focusOffset:h.getEndOffset(),isBackward:!1})}return c}},47:function(e,n,t){"use strict";var r=t(7405),a=t(7719);e.exports=function(e){var n=e.editorContainer;return n||r(!1),a(n.firstChild)||r(!1),n.firstChild}},1363:function(e,n,t){"use strict";var r=t(118),a=t(9839);e.exports=function(e,n){var t=n.getStartKey(),i=n.getStartOffset(),o=n.getEndKey(),s=n.getEndOffset(),l=a(e,n).getBlockMap(),u=l.keySeq(),c=u.indexOf(t),d=u.indexOf(o)+1;return r(l.slice(c,d).map((function(e,n){var r=e.getText(),a=e.getCharacterList();return t===o?e.merge({text:r.slice(i,s),characterList:a.slice(i,s)}):n===t?e.merge({text:r.slice(i),characterList:a.slice(i)}):n===o?e.merge({text:r.slice(0,s),characterList:a.slice(0,s)}):e})))}},7803:function(e){"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},8498:function(e,n,t){"use strict";var r=t(7293),a=t(3058),i=t(8258),o=i.isPlatform("Mac OS X"),s=o&&i.isBrowser("Firefox < 29"),l=r.hasCommandModifier,u=r.isCtrlKeyCommand;function c(e){return o&&e.altKey||u(e)}e.exports=function(e){switch(e.keyCode){case 66:return l(e)?"bold":null;case 68:return u(e)?"delete":null;case 72:return u(e)?"backspace":null;case 73:return l(e)?"italic":null;case 74:return l(e)?"code":null;case 75:return o&&u(e)?"secondary-cut":null;case 77:case 79:return u(e)?"split-block":null;case 84:return o&&u(e)?"transpose-characters":null;case 85:return l(e)?"underline":null;case 87:return o&&u(e)?"backspace-word":null;case 89:return u(e)?o?"secondary-paste":"redo":null;case 90:return function(e){return l(e)?e.shiftKey?"redo":"undo":null}(e)||null;case a.RETURN:return"split-block";case a.DELETE:return function(e){return!o&&e.shiftKey?null:c(e)?"delete-word":"delete"}(e);case a.BACKSPACE:return function(e){return l(e)&&o?"backspace-to-start-of-line":c(e)?"backspace-word":"backspace"}(e);case a.LEFT:return s&&l(e)?"move-selection-to-start-of-block":null;case a.RIGHT:return s&&l(e)?"move-selection-to-end-of-block":null;default:return null}}},7785:function(e,n,t){"use strict";var r=t(8896);e.exports=function(e,n){var t=n.ownerDocument.defaultView.getSelection(),a=t.anchorNode,i=t.anchorOffset,o=t.focusNode,s=t.focusOffset;return 0===t.rangeCount||null==a||null==o?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,n,a,i,o,s)}},8896:function(e,n,t){"use strict";var r=t(4117),a=t(4707),i=t(7685),o=t(7405),s=t(5914),l=t(5338);function u(e,n,t){var i=n,u=r(i);(null!=u||e&&(e===i||e.firstChild===i)||o(!1),e===i)&&(i=i.firstChild,s(i)||o(!1),"true"!==(i=i).getAttribute("data-contents")&&o(!1),t>0&&(t=i.childNodes.length));if(0===t){var d=null;if(null!=u)d=u;else{var A=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||a(e.firstChild));)e=e.firstChild;return e}(i);d=l(a(A))}return{key:d,offset:0}}var f=i.childNodes[t-1],h=null,p=null;if(a(f)){var m=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||a(e.lastChild));)e=e.lastChild;return e}(f);h=l(a(m)),p=c(m)}else h=l(u),p=c(f);return{key:h,offset:p}}function c(e){var n=e.textContent;return"\n"===n?0:n.length}e.exports=function(e,n,t,a,o,s){var c=t.nodeType===Node.TEXT_NODE,d=o.nodeType===Node.TEXT_NODE;if(c&&d)return{selectionState:i(e,l(r(t)),a,l(r(o)),s),needsRecovery:!1};var A=null,f=null,h=!0;return c?(A={key:l(r(t)),offset:a},f=u(n,o,s)):d?(f={key:l(r(o)),offset:s},A=u(n,t,a)):(A=u(n,t,a),f=u(n,o,s),t===o&&a===s&&(h=!!t.firstChild&&"BR"!==t.firstChild.nodeName)),{selectionState:i(e,A.key,A.offset,f.key,f.offset),needsRecovery:h}}},8776:function(e,n,t){"use strict";var r=t(7261).notEmptyKey;function a(e,n){return r(n)&&"MUTABLE"===e.__get(n).getMutability()?n:null}e.exports=function(e,n){var t;if(n.isCollapsed()){var r=n.getAnchorKey(),i=n.getAnchorOffset();return i>0?(t=e.getBlockForKey(r).getEntityAt(i-1))!==e.getBlockForKey(r).getEntityAt(i)?null:a(e.getEntityMap(),t):null}var o=n.getStartKey(),s=n.getStartOffset(),l=e.getBlockForKey(o);return t=s===l.getLength()?null:l.getEntityAt(s),a(e.getEntityMap(),t)}},5212:function(e,n,t){"use strict";var r=t(1363);e.exports=function(e){var n=e.getSelection();return n.isCollapsed()?null:r(e.getCurrentContent(),n)}},8254:function(e,n,t){"use strict";var r=t(4615);e.exports=function(e,n){if(!(e instanceof r))return null;var t=e.getNextSiblingKey();if(t)return t;var a=e.getParentKey();if(!a)return null;for(var i=n.get(a);i&&!i.getNextSiblingKey();){var o=i.getParentKey();i=o?n.get(o):null}return i?i.getNextSiblingKey():null}},526:function(e){"use strict";e.exports=function(e){return Object.keys(e).map((function(n){return e[n]}))}},1545:function(e,n,t){"use strict";var r=t(8175);e.exports=function(e){var n=r(e),t=0,a=0,i=0,o=0;if(n.length){if(n.length>1&&0===n[0].width){var s=n[1];t=s.top,a=s.right,i=s.bottom,o=s.left}else{var l=n[0];t=l.top,a=l.right,i=l.bottom,o=l.left}for(var u=1;u<n.length;u++){var c=n[u];0!==c.height&&0!==c.width&&(t=Math.min(t,c.top),a=Math.max(a,c.right),i=Math.max(i,c.bottom),o=Math.min(o,c.left))}}return{top:t,right:a,bottom:i,left:o,width:a-o,height:i-t}}},8175:function(e,n,t){"use strict";var r=t(8258),a=t(7405);var i=r.isBrowser("Chrome")?function(e){for(var n=e.cloneRange(),t=[],r=e.endContainer;null!=r;r=r.parentNode){var i=r===e.commonAncestorContainer;i?n.setStart(e.startContainer,e.startOffset):n.setStart(n.endContainer,0);var o,s=Array.from(n.getClientRects());if(t.push(s),i)return t.reverse(),(o=[]).concat.apply(o,t);n.setEndBefore(r)}a(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=i},9264:function(e,n,t){"use strict";var r=t(7405);e.exports=function(e,n){var t=[];return e.findEntityRanges((function(e){return e.getEntity()===n}),(function(e,n){t.push({start:e,end:n})})),t.length||r(!1),t}},1501:function(e,n,t){"use strict";var r=t(8258),a=t(7405),i=r.isBrowser("IE <= 9");e.exports=function(e){var n,t=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&((n=document.implementation.createHTMLDocument("foo")).documentElement||a(!1),n.documentElement.innerHTML=e,t=n.getElementsByTagName("body")[0]),t}},4707:function(e,n,t){"use strict";var r=t(5914);e.exports=function e(n){if(r(n)){var t=n,a=t.getAttribute("data-offset-key");if(a)return a;for(var i=0;i<t.childNodes.length;i++){var o=e(t.childNodes[i]);if(o)return o}}return null}},4763:function(e,n,t){"use strict";var r=t(7405),a=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var o=0,s=[];e.forEach((function(l){!function(e,n){if(!t.g.FileReader||e.type&&!(e.type in i))return void n("");if(""===e.type){var o="";return a.test(e.name)&&(o=e.name.replace(a,"")),void n(o)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!==typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}(l,(function(t){o++,t&&s.push(t.slice(0,5e3)),o==e.length&&n(s.join("\r"))}))}))}},7685:function(e,n,t){"use strict";var r=t(4519),a=t(5338);e.exports=function(e,n,t,i,o){var s=a(e.getSelection());if(!n||!i)return s;var l=r.decode(n),u=l.blockKey,c=e.getBlockTree(u),d=c&&c.getIn([l.decoratorKey,"leaves",l.leafKey]),A=r.decode(i),f=A.blockKey,h=e.getBlockTree(f),p=h&&h.getIn([A.decoratorKey,"leaves",A.leafKey]);if(!d||!p)return s;var m=d.get("start"),S=p.get("start"),g=d?m+t:null,v=p?S+o:null;if(s.getAnchorKey()===u&&s.getAnchorOffset()===g&&s.getFocusKey()===f&&s.getFocusOffset()===v)return s;var x=!1;if(u===f){var _=d.get("end"),y=p.get("end");x=S===m&&y===_?o<t:S<m}else{x=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===u||e===f})).first()===f}return s.merge({anchorKey:u,anchorOffset:g,focusKey:f,focusOffset:v,isBackward:x})}},640:function(e,n,t){"use strict";var r=t(1545);e.exports=function(e){var n=e.getSelection();if(!n.rangeCount)return null;var t=n.getRangeAt(0),a=r(t),i=a.top,o=a.right,s=a.bottom,l=a.left;return 0===i&&0===o&&0===s&&0===l?null:a}},6620:function(e){"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},6137:function(e){"use strict";e.exports=function(e){return!("undefined"===typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},9167:function(e,n,t){"use strict";var r=t(3980),a=t(4615),i=t(5986),o=t(9223),s=t(7405),l=t(118),u=i.List,c=function(e,n,t,r,a,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",l=t.get(a),u=l.getText(),c=l.getCharacterList(),d=a,A=i+r.getText().length,f=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":f=r.getData().merge(l.getData());break;case"REPLACE_WITH_NEW_DATA":f=r.getData()}var h=l.getType();u&&"unstyled"===h&&(h=r.getType());var p=l.merge({text:u.slice(0,i)+r.getText()+u.slice(i),characterList:o(c,r.getCharacterList(),i),type:h,data:f});return e.merge({blockMap:t.set(a,p),selectionBefore:n,selectionAfter:n.merge({anchorKey:d,anchorOffset:A,focusKey:d,focusOffset:A,isBackward:!1})})},d=function(e,n,t,i,o,s){var l=t.first()instanceof a,c=[],d=i.size,A=t.get(o),f=i.first(),h=i.last(),p=h.getLength(),m=h.getKey(),S=l&&(!A.getChildKeys().isEmpty()||!f.getChildKeys().isEmpty());t.forEach((function(e,n){n===o?(S?c.push(e):c.push(function(e,n,t){var r=e.getText(),a=e.getCharacterList(),i=r.slice(0,n),o=a.slice(0,n),s=t.first();return e.merge({text:i+s.getText(),characterList:o.concat(s.getCharacterList()),type:i?e.getType():s.getType(),data:s.getData()})}(e,s,i)),i.slice(S?0:1,d-1).forEach((function(e){return c.push(e)})),c.push(function(e,n,t){var r=e.getText(),a=e.getCharacterList(),i=r.length,o=r.slice(n,i),s=a.slice(n,i),l=t.last();return l.merge({text:l.getText()+o,characterList:l.getCharacterList().concat(s),data:l.getData()})}(e,s,i))):c.push(e)}));var g=r.createFromArray(c);return l&&(g=function(e,n,t,r){return e.withMutations((function(n){var a=t.getKey(),i=r.getKey(),o=t.getNextSiblingKey(),s=t.getParentKey(),l=function(e,n){var t=e.getKey(),r=e,a=[];for(n.get(t)&&a.push(t);r&&r.getNextSiblingKey();){var i=r.getNextSiblingKey();if(!i)break;a.push(i),r=n.get(i)}return a}(r,e),c=l[l.length-1];if(n.get(i)?(n.setIn([a,"nextSibling"],i),n.setIn([i,"prevSibling"],a)):(n.setIn([a,"nextSibling"],r.getNextSiblingKey()),n.setIn([r.getNextSiblingKey(),"prevSibling"],a)),n.setIn([c,"nextSibling"],o),o&&n.setIn([o,"prevSibling"],c),l.forEach((function(e){return n.setIn([e,"parent"],s)})),s){var d=e.get(s).getChildKeys(),A=d.indexOf(a)+1,f=d.toArray();f.splice.apply(f,[A,0].concat(l)),n.setIn([s,"children"],u(f))}}))}(g,0,A,f)),e.merge({blockMap:g,selectionBefore:n,selectionAfter:n.merge({anchorKey:m,anchorOffset:p,focusKey:m,focusOffset:p,isBackward:!1})})};e.exports=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";n.isCollapsed()||s(!1);var i=e.getBlockMap(),o=l(t),u=n.getStartKey(),A=n.getStartOffset(),f=i.get(u);return f instanceof a&&(f.getChildKeys().isEmpty()||s(!1)),1===o.size?c(e,n,i,o.first(),u,A,r):d(e,n,i,o,u,A)}},9223:function(e){"use strict";e.exports=function(e,n,t){var r=e;if(t===r.count())n.forEach((function(e){r=r.push(e)}));else if(0===t)n.reverse().forEach((function(e){r=r.unshift(e)}));else{var a=r.slice(0,t),i=r.slice(t);r=a.concat(n,i).toList()}return r}},3574:function(e,n,t){"use strict";var r=t(5986),a=t(9223),i=t(7405),o=r.Repeat;e.exports=function(e,n,t,r){n.isCollapsed()||i(!1);var s=null;if(null!=t&&(s=t.length),null==s||0===s)return e;var l=e.getBlockMap(),u=n.getStartKey(),c=n.getStartOffset(),d=l.get(u),A=d.getText(),f=d.merge({text:A.slice(0,c)+t+A.slice(c,d.getLength()),characterList:a(d.getCharacterList(),o(r,s).toList(),c)}),h=c+s;return e.merge({blockMap:l.set(u,f),selectionAfter:n.merge({anchorOffset:h,focusOffset:h})})}},5914:function(e){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},7146:function(e){"use strict";e.exports=function(e){return"handled"===e||!0===e}},9134:function(e,n,t){"use strict";var r=t(5914);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},5801:function(e,n,t){"use strict";var r=t(5914);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},7719:function(e){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},3864:function(e,n,t){"use strict";var r=t(5914);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},6460:function(e){"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var n=e;if(!n.ownerDocument.defaultView)return n instanceof Node;if(n instanceof n.ownerDocument.defaultView.Node)return!0}return!1}},2165:function(e){"use strict";e.exports=function(e){var n=e.getSelection(),t=n.getAnchorKey(),r=e.getBlockTree(t),a=n.getStartOffset(),i=!1;return r.some((function(e){return a===e.get("start")?(i=!0,!0):a<e.get("end")&&e.get("leaves").some((function(e){var n=e.get("start");return a===n&&(i=!0,!0)}))})),i}},9862:function(e,n,t){"use strict";var r=t(3058);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},1559:function(e,n,t){"use strict";var r=t(9690),a=t(926),i=t(8896),o=t(9979),s=t(2250);e.exports=function(e,n){var t=s(e,(function(e){var t=e.getSelection();if(t.isCollapsed()&&0===t.getAnchorOffset())return o(e,1);var r=n.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=a(r),i(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return t===e.getCurrentContent()?e:r.push(e,t,"remove-range")}},182:function(e,n,t){"use strict";var r=t(6068),a=t(9690),i=t(9979),o=t(2250);e.exports=function(e){var n=o(e,(function(e){var n=e.getSelection(),t=n.getStartOffset();if(0===t)return i(e,1);var a=n.getStartKey(),o=e.getCurrentContent().getBlockForKey(a).getText().slice(0,t),s=r.getBackward(o);return i(e,s.length||1)}),"backward");return n===e.getCurrentContent()?e:a.push(e,n,"remove-range")}},5400:function(e,n,t){"use strict";var r=t(6068),a=t(9690),i=t(8817),o=t(2250);e.exports=function(e){var n=o(e,(function(e){var n=e.getSelection(),t=n.getStartOffset(),a=n.getStartKey(),o=e.getCurrentContent().getBlockForKey(a).getText().slice(t),s=r.getForward(o);return i(e,s.length||1)}),"forward");return n===e.getCurrentContent()?e:a.push(e,n,"remove-range")}},2617:function(e,n,t){"use strict";var r=t(3284),a=t(9690);e.exports=function(e){var n=r.splitBlock(e.getCurrentContent(),e.getSelection());return a.push(e,n,"split-block")}},6338:function(e,n,t){"use strict";var r=t(9690);e.exports=function(e){var n=e.getSelection(),t=n.getEndKey(),a=e.getCurrentContent().getBlockForKey(t).getLength();return r.set(e,{selection:n.merge({anchorKey:t,anchorOffset:a,focusKey:t,focusOffset:a,isBackward:!1}),forceSelection:!0})}},6741:function(e,n,t){"use strict";var r=t(9690);e.exports=function(e){var n=e.getSelection(),t=n.getStartKey();return r.set(e,{selection:n.merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1}),forceSelection:!0})}},3332:function(e,n,t){"use strict";var r=t(9690),a=t(2577),i=t(9979),o=t(2250);e.exports=function(e){var n=o(e,(function(e){var n=e.getSelection(),t=e.getCurrentContent(),r=n.getAnchorKey(),o=n.getAnchorOffset(),s=t.getBlockForKey(r).getText()[o-1];return i(e,s?a.getUTF16Length(s,0):1)}),"backward");if(n===e.getCurrentContent())return e;var t=e.getSelection();return r.push(e,n.set("selectionBefore",t),t.isCollapsed()?"backspace-character":"remove-range")}},3815:function(e,n,t){"use strict";var r=t(9690),a=t(2577),i=t(8817),o=t(2250);e.exports=function(e){var n=o(e,(function(e){var n=e.getSelection(),t=e.getCurrentContent(),r=n.getAnchorKey(),o=n.getAnchorOffset(),s=t.getBlockForKey(r).getText()[o];return i(e,s?a.getUTF16Length(s,0):1)}),"forward");if(n===e.getCurrentContent())return e;var t=e.getSelection();return r.push(e,n.set("selectionBefore",t),t.isCollapsed()?"delete-character":"remove-range")}},2319:function(e,n,t){"use strict";var r=t(3284),a=t(9690),i=t(1363);e.exports=function(e){var n=e.getSelection();if(!n.isCollapsed())return e;var t=n.getAnchorOffset();if(0===t)return e;var o,s,l=n.getAnchorKey(),u=e.getCurrentContent(),c=u.getBlockForKey(l).getLength();if(c<=1)return e;t===c?(o=n.set("anchorOffset",t-1),s=n):s=(o=n.set("focusOffset",t+1)).set("anchorOffset",t+1);var d=i(u,o),A=r.removeRange(u,o,"backward"),f=A.getSelectionAfter(),h=f.getAnchorOffset()-1,p=f.merge({anchorOffset:h,focusOffset:h}),m=r.replaceWithFragment(A,p,d),S=a.push(e,m,"insert-fragment");return a.acceptSelection(S,s)}},2640:function(e,n,t){"use strict";var r=t(9690);e.exports=function(e,n,t){var a=r.undo(n);if("spellcheck-change"!==n.getLastChangeType())e.preventDefault(),n.getNativelyRenderedContent()?(t(r.set(n,{nativelyRenderedContent:null})),setTimeout((function(){t(a)}),0)):t(a);else{var i=a.getCurrentContent();t(r.set(a,{nativelyRenderedContent:i}))}}},2614:function(e,n,t){"use strict";var r=t(5986).Map;e.exports=function(e,n,t){var a=n.getStartKey(),i=n.getEndKey(),o=e.getBlockMap(),s=o.toSeq().skipUntil((function(e,n){return n===a})).takeUntil((function(e,n){return n===i})).concat(r([[i,o.get(i)]])).map(t);return e.merge({blockMap:o.merge(s),selectionBefore:n,selectionAfter:n})}},4126:function(e,n,t){"use strict";var r=t(4615),a=t(8254),i=t(5986),o=t(7405),s=i.OrderedMap,l=i.List,u=function(e,n,t){if(e){var r=n.get(e);r&&n.set(e,t(r))}},c=function(e,n,t,r,a){if(!a)return e;var i="after"===r,o=n.getKey(),s=t.getKey(),c=n.getParentKey(),d=n.getNextSiblingKey(),A=n.getPrevSiblingKey(),f=t.getParentKey(),h=i?t.getNextSiblingKey():s,p=i?s:t.getPrevSiblingKey();return e.withMutations((function(e){u(c,e,(function(e){var n=e.getChildKeys();return e.merge({children:n.delete(n.indexOf(o))})})),u(A,e,(function(e){return e.merge({nextSibling:d})})),u(d,e,(function(e){return e.merge({prevSibling:A})})),u(h,e,(function(e){return e.merge({prevSibling:o})})),u(p,e,(function(e){return e.merge({nextSibling:o})})),u(f,e,(function(e){var n=e.getChildKeys(),t=n.indexOf(s),r=i?t+1:0!==t?t-1:0,a=n.toArray();return a.splice(r,0,o),e.merge({children:l(a)})})),u(o,e,(function(e){return e.merge({nextSibling:h,prevSibling:p,parent:f})}))}))};e.exports=function(e,n,t,i){"replace"===i&&o(!1);var l=t.getKey(),u=n.getKey();u===l&&o(!1);var d=e.getBlockMap(),A=n instanceof r,f=[n],h=d.delete(u);A&&(f=[],h=d.withMutations((function(e){var t=n.getNextSiblingKey(),r=a(n,e);e.toSeq().skipUntil((function(e){return e.getKey()===u})).takeWhile((function(e){var n=e.getKey(),a=n===u,i=t&&n!==t,o=!t&&e.getParentKey()&&(!r||n!==r);return!!(a||i||o)})).forEach((function(n){f.push(n),e.delete(n.getKey())}))})));var p=h.toSeq().takeUntil((function(e){return e===t})),m=h.toSeq().skipUntil((function(e){return e===t})).skip(1),S=f.map((function(e){return[e.getKey(),e]})),g=s();if("before"===i){var v=e.getBlockBefore(l);v&&v.getKey()===n.getKey()&&o(!1),g=p.concat([].concat(S,[[l,t]]),m).toOrderedMap()}else if("after"===i){var x=e.getBlockAfter(l);x&&x.getKey()===u&&o(!1),g=p.concat([[l,t]].concat(S),m).toOrderedMap()}return e.merge({blockMap:c(g,n,t,i,A),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:u,focusKey:u})})}},9979:function(e,n,t){"use strict";t(4265);e.exports=function(e,n){var t=e.getSelection(),r=e.getCurrentContent(),a=t.getStartKey(),i=t.getStartOffset(),o=a,s=0;if(n>i){var l=r.getKeyBefore(a);if(null==l)o=a;else o=l,s=r.getBlockForKey(l).getText().length}else s=i-n;return t.merge({focusKey:o,focusOffset:s,isBackward:!0})}},8817:function(e,n,t){"use strict";t(4265);e.exports=function(e,n){var t,r=e.getSelection(),a=r.getStartKey(),i=r.getStartOffset(),o=e.getCurrentContent(),s=a;return n>o.getBlockForKey(a).getText().length-i?(s=o.getKeyAfter(a),t=0):t=i+n,r.merge({focusKey:s,focusOffset:t})}},118:function(e,n,t){"use strict";var r=t(4615),a=t(4354),i=t(5986).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var n,t={};return i(e.withMutations((function(e){e.forEach((function(r,i){var o=r.getKey(),s=r.getNextSiblingKey(),l=r.getPrevSiblingKey(),u=r.getChildKeys(),c=r.getParentKey(),d=a();if(t[o]=d,s&&(e.get(s)?e.setIn([s,"prevSibling"],d):e.setIn([o,"nextSibling"],null)),l&&(e.get(l)?e.setIn([l,"nextSibling"],d):e.setIn([o,"prevSibling"],null)),c&&e.get(c)){var A=e.get(c).getChildKeys();e.setIn([c,"children"],A.set(A.indexOf(r.getKey()),d))}else e.setIn([o,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],d),e.setIn([o,"prevSibling"],t[n.getKey()])),n=e.get(o);u.forEach((function(n){e.get(n)?e.setIn([n,"parent"],d):e.setIn([o,"children"],r.getChildKeys().filter((function(e){return e!==n})))}))}))})).toArray().map((function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]})))}(e):function(e){return i(e.toArray().map((function(e){var n=a();return[n,e.set("key",n)]})))}(e)}},9839:function(e,n,t){"use strict";var r=t(1866),a=t(1111),i=t(7405);function o(e,n,t){var o=n.getCharacterList(),s=t>0?o.get(t-1):void 0,l=t<o.count()?o.get(t):void 0,u=s?s.getEntity():void 0,c=l?l.getEntity():void 0;if(c&&c===u&&"MUTABLE"!==e.__get(c).getMutability()){for(var d,A=function(e,n,t){var r;return a(e,(function(e,n){return e.getEntity()===n.getEntity()}),(function(e){return e.getEntity()===n}),(function(e,n){e<=t&&n>=t&&(r={start:e,end:n})})),"object"!==typeof r&&i(!1),r}(o,c,t),f=A.start,h=A.end;f<h;)d=o.get(f),o=o.set(f,r.applyEntity(d,null)),f++;return n.set("characterList",o)}return n}e.exports=function(e,n){var t=e.getBlockMap(),r=e.getEntityMap(),a={},i=n.getStartKey(),s=n.getStartOffset(),l=t.get(i),u=o(r,l,s);u!==l&&(a[i]=u);var c=n.getEndKey(),d=n.getEndOffset(),A=t.get(c);i===c&&(A=u);var f=o(r,A,d);return f!==A&&(a[c]=f),Object.keys(a).length?e.merge({blockMap:t.merge(a),selectionAfter:n}):e.set("selectionAfter",n)}},7429:function(e,n,t){"use strict";var r=t(4615),a=t(8254),i=t(5986),o=(i.List,i.Map),s=function(e,n,t){if(e){var r=n.get(e);r&&n.set(e,t(r))}},l=function(e,n){var t=[];if(!e)return t;for(var r=n.get(e);r&&r.getParentKey();){var a=r.getParentKey();a&&t.push(a),r=a?n.get(a):null}return t},u=function(e,n,t){if(!e)return null;for(var r=t.get(e.getKey()).getNextSiblingKey();r&&!n.get(r);)r=t.get(r).getNextSiblingKey()||null;return r},c=function(e,n,t){if(!e)return null;for(var r=t.get(e.getKey()).getPrevSiblingKey();r&&!n.get(r);)r=t.get(r).getPrevSiblingKey()||null;return r},d=function(e,n,t,r){return e.withMutations((function(i){if(s(n.getKey(),i,(function(e){return e.merge({nextSibling:u(e,i,r),prevSibling:c(e,i,r)})})),s(t.getKey(),i,(function(e){return e.merge({nextSibling:u(e,i,r),prevSibling:c(e,i,r)})})),l(n.getKey(),r).forEach((function(e){return s(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:u(e,i,r),prevSibling:c(e,i,r)})}))})),s(n.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:n.getPrevSiblingKey()})})),s(n.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:u(e,i,r)})})),s(t.getNextSiblingKey(),i,(function(e){return e.merge({prevSibling:c(e,i,r)})})),s(t.getPrevSiblingKey(),i,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})})),l(t.getKey(),r).forEach((function(e){s(e,i,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return i.get(e)})),nextSibling:u(e,i,r),prevSibling:c(e,i,r)})}))})),function(e,n){var t=[];if(!e)return t;for(var r=a(e,n);r&&n.get(r);){var i=n.get(r);t.push(r),r=i.getParentKey()?a(i,n):null}return t}(t,r).forEach((function(e){return s(e,i,(function(e){return e.merge({nextSibling:u(e,i,r),prevSibling:c(e,i,r)})}))})),null==e.get(n.getKey())&&null!=e.get(t.getKey())&&t.getParentKey()===n.getKey()&&null==t.getPrevSiblingKey()){var o=n.getPrevSiblingKey();s(t.getKey(),i,(function(e){return e.merge({prevSibling:o})})),s(o,i,(function(e){return e.merge({nextSibling:t.getKey()})}));var d=o?e.get(o):null,A=d?d.getParentKey():null;if(n.getChildKeys().forEach((function(e){s(e,i,(function(e){return e.merge({parent:A})}))})),null!=A){var f=e.get(A);s(A,i,(function(e){return e.merge({children:f.getChildKeys().concat(n.getChildKeys())})}))}s(n.getChildKeys().find((function(n){return null===e.get(n).getNextSiblingKey()})),i,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}))}}))},A=function(e,n,t){if(0===n)for(;n<t;)e=e.shift(),n++;else if(t===e.count())for(;t>n;)e=e.pop(),t--;else{var r=e.slice(0,n),a=e.slice(t);e=r.concat(a).toList()}return e};e.exports=function(e,n){if(n.isCollapsed())return e;var t,i=e.getBlockMap(),s=n.getStartKey(),u=n.getStartOffset(),c=n.getEndKey(),f=n.getEndOffset(),h=i.get(s),p=i.get(c),m=h instanceof r,S=[];if(m){var g=p.getChildKeys(),v=l(c,i);p.getNextSiblingKey()&&(S=S.concat(v)),g.isEmpty()||(S=S.concat(v.concat([c]))),S=S.concat(l(a(p,i),i))}t=h===p?A(h.getCharacterList(),u,f):h.getCharacterList().slice(0,u).concat(p.getCharacterList().slice(f));var x=h.merge({text:h.getText().slice(0,u)+p.getText().slice(f),characterList:t}),_=m&&0===u&&0===f&&p.getParentKey()===s&&null==p.getPrevSiblingKey()?o([[s,null]]):i.toSeq().skipUntil((function(e,n){return n===s})).takeUntil((function(e,n){return n===c})).filter((function(e,n){return-1===S.indexOf(n)})).concat(o([[c,null]])).map((function(e,n){return n===s?x:null})),y=i.merge(_).filter((function(e){return!!e}));return m&&h!==p&&(y=d(y,h,p,i)),e.merge({blockMap:y,selectionBefore:n,selectionAfter:n.merge({anchorKey:s,anchorOffset:u,focusKey:s,focusOffset:u,isBackward:!1})})}},2250:function(e,n,t){"use strict";var r=t(3284),a=t(6137)("draft_tree_data_support");e.exports=function(e,n,t){var i=e.getSelection(),o=e.getCurrentContent(),s=i,l=i.getAnchorKey(),u=i.getFocusKey(),c=o.getBlockForKey(l);if(a&&"forward"===t&&l!==u)return o;if(i.isCollapsed()){if("forward"===t){if(e.isSelectionAtEndOfContent())return o;if(a)if(i.getAnchorOffset()===o.getBlockForKey(l).getLength()){var d=o.getBlockForKey(c.nextSibling);if(!d||0===d.getLength())return o}}else if(e.isSelectionAtStartOfContent())return o;if((s=n(e))===i)return o}return r.removeRange(o,s,t)}},8720:function(e){"use strict";var n=new RegExp("\r","g");e.exports=function(e){return e.replace(n,"")}},3413:function(e,n,t){"use strict";var r=t(6221),a=t(5203),i=t(8258),o=t(2804),s=t(3459),l=t(7803),u=t(7405),c=t(5914),d=i.isBrowser("IE");function A(e,n){if(!e)return"[empty]";var t=f(e,n);return t.nodeType===Node.TEXT_NODE?t.textContent:(c(t)||u(!1),t.outerHTML)}function f(e,n){var t=void 0!==n?n(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return l(e).createTextNode("[text "+r+(t.length?" | "+t.join(", "):"")+"]")}var a=e.cloneNode();1===a.nodeType&&t.length&&a.setAttribute("data-labels",t.join(", "));for(var i=e.childNodes,o=0;o<i.length;o++)a.appendChild(f(i[o],n));return a}function h(e,n){for(var t=e,r=t;t;){if(c(t)&&r.hasAttribute("contenteditable"))return A(t,n);r=t=t.parentNode}return"Could not find contentEditable parent of node"}function p(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function m(e,n,t,r){var i=s();if(e.extend&&null!=n&&o(i,n)){t>p(n)&&a.logSelectionStateFailure({anonymizedDom:h(n),extraParams:JSON.stringify({offset:t}),selectionState:JSON.stringify(r.toJS())});var l=n===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(n,t)}catch(c){throw a.logSelectionStateFailure({anonymizedDom:h(n,(function(n){var t=[];return n===i&&t.push("active element"),n===e.anchorNode&&t.push("selection anchor node"),n===e.focusNode&&t.push("selection focus node"),t})),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:n===e.focusNode,nodeWasFocus:l,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:c?""+c:null,offset:t},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),c}}else if(n&&e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(n,t),e.addRange(u.cloneRange())}}function S(e,n,t,i){var o=l(n).createRange();if(t>p(n)&&(a.logSelectionStateFailure({anonymizedDom:h(n),extraParams:JSON.stringify({offset:t}),selectionState:JSON.stringify(i.toJS())}),r.handleExtensionCausedError()),o.setStart(n,t),d)try{e.addRange(o)}catch(s){0}else e.addRange(o)}e.exports={setDraftEditorSelection:function(e,n,t,r,a){var i=l(n);if(o(i.documentElement,n)){var s=i.defaultView.getSelection(),u=e.getAnchorKey(),c=e.getAnchorOffset(),d=e.getFocusKey(),A=e.getFocusOffset(),f=e.getIsBackward();if(!s.extend&&f){var h=u,p=c;u=d,c=A,d=h,A=p,f=!1}var g=u===t&&r<=c&&a>=c,v=d===t&&r<=A&&a>=A;if(g&&v)return s.removeAllRanges(),S(s,n,c-r,e),void m(s,n,A-r,e);if(f){if(v&&(s.removeAllRanges(),S(s,n,A-r,e)),g){var x=s.focusNode,_=s.focusOffset;s.removeAllRanges(),S(s,n,c-r,e),m(s,x,_,e)}}else g&&(s.removeAllRanges(),S(s,n,c-r,e)),v&&m(s,n,A-r,e)}},addFocusToSelection:m}},5288:function(e,n,t){"use strict";var r=t(4615),a=t(4354),i=t(5986),o=t(7405),s=t(2614),l=i.List,u=i.Map,c=function(e,n,t){if(e){var r=n.get(e);r&&n.set(e,t(r))}};e.exports=function(e,n){n.isCollapsed()||o(!1);var t=n.getAnchorKey(),i=e.getBlockMap(),d=i.get(t),A=d.getText();if(!A){var f=d.getType();if("unordered-list-item"===f||"ordered-list-item"===f)return s(e,n,(function(e){return e.merge({type:"unstyled",depth:0})}))}var h=n.getAnchorOffset(),p=d.getCharacterList(),m=a(),S=d instanceof r,g=d.merge({text:A.slice(0,h),characterList:p.slice(0,h)}),v=g.merge({key:m,text:A.slice(h),characterList:p.slice(h),data:u()}),x=i.toSeq().takeUntil((function(e){return e===d})),_=i.toSeq().skipUntil((function(e){return e===d})).rest(),y=x.concat([[t,g],[m,v]],_).toOrderedMap();return S&&(d.getChildKeys().isEmpty()||o(!1),y=function(e,n,t){return e.withMutations((function(e){var r=n.getKey(),a=t.getKey();c(n.getParentKey(),e,(function(e){var n=e.getChildKeys(),t=n.indexOf(r)+1,i=n.toArray();return i.splice(t,0,a),e.merge({children:l(i)})})),c(n.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:a})})),c(r,e,(function(e){return e.merge({nextSibling:a})})),c(a,e,(function(e){return e.merge({prevSibling:r})}))}))}(y,g,v)),e.merge({blockMap:y,selectionBefore:n,selectionAfter:n.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})}},3409:function(e){"use strict";var n=/\r\n?|\n/g;e.exports=function(e){return e.split(n)}},8820:function(e){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)}))}},1767:function(e,n,t){"use strict";var r=t(2421),a=t(8408),i=t(840),o=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function l(e){if("file"==e.kind)return e.getAsFile()}var u=function(){function e(e){this.data=e,this.types=e.types?a(e.types):[]}var n=e.prototype;return n.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},n.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(o,"\n"):null},n.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},n.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},n.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},n.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var n=this.getFiles(),t=0;t<n.length;t++){var a=n[t].type;if(!r.isImage(a))return!1}return!0},n.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},n.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(l).filter(i.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},n.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=u},3058:function(e){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},2421:function(e){"use strict";var n={isImage:function(e){return"image"===t(e)[0]},isJpeg:function(e){var r=t(e);return n.isImage(e)&&("jpeg"===r[1]||"pjpeg"===r[1])}};function t(e){return e.split("/")}e.exports=n},7219:function(e){"use strict";function n(e,n){return!!n&&(e===n.documentElement||e===n.body)}var t={getTop:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollTop=r.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=t},9026:function(e,n,t){"use strict";function r(e,n){var t=a.get(e,n);return"auto"===t||"scroll"===t}var a={get:t(6989),getScrollParent:function(e){if(!e)return null;for(var n=e.ownerDocument;e&&e!==n.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return n.defaultView||n.parentWindow}};e.exports=a},1495:function(e){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},2636:function(e){"use strict";var n=function(){function e(e){var n,t,r;r=void 0,(t="_uri")in(n=this)?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=n},3014:function(e,n,t){"use strict";var r=t(7821),a=t(7405),i="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",o="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",s=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+i+o+"]"),l=new RegExp("["+i+o+"]");function u(e){var n=s.exec(e);return null==n?null:n[0]}function c(e){var n=u(e);return null==n?r.NEUTRAL:l.exec(n)?r.RTL:r.LTR}function d(e,n){if(n=n||r.NEUTRAL,!e.length)return n;var t=c(e);return t===r.NEUTRAL?n:t}function A(e,n){return n||(n=r.getGlobalDir()),r.isStrong(n)||a(!1),d(e,n)}var f={firstStrongChar:u,firstStrongCharDir:c,resolveBlockDir:d,getDirection:A,isDirectionLTR:function(e,n){return A(e,n)===r.LTR},isDirectionRTL:function(e,n){return A(e,n)===r.RTL}};e.exports=f},7821:function(e,n,t){"use strict";var r=t(7405),a="LTR",i=null;function o(e){return e===a||"RTL"===e}function s(e){return o(e)||r(!1),e===a?"ltr":"rtl"}function l(e){i=e}var u={NEUTRAL:"NEUTRAL",LTR:a,RTL:"RTL",isStrong:o,getHTMLDir:s,getHTMLDirIfDifferent:function(e,n){return o(e)||r(!1),o(n)||r(!1),e===n?null:s(e)},setGlobalDir:l,initGlobalDir:function(){l(a)},getGlobalDir:function(){return i||this.initGlobalDir(),i||r(!1),i}};e.exports=u},6757:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=t(3014),i=t(7821),o=t(7405),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?i.isStrong(e)||o(!1):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}var n=e.prototype;return n.reset=function(){this._lastDir=this._defaultDir},n.getDirection=function(e){return this._lastDir=a.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},2577:function(e,n,t){"use strict";var r=t(7405),a=/[\uD800-\uDFFF]/;function i(e){return 55296<=e&&e<=57343}function o(e){return a.test(e)}function s(e,n){return 1+i(e.charCodeAt(n))}function l(e,n,t){if(n=n||0,t=void 0===t?1/0:t||0,!o(e))return e.substr(n,t);var r=e.length;if(r<=0||n>r||t<=0)return"";var a=0;if(n>0){for(;n>0&&a<r;n--)a+=s(e,a);if(a>=r)return""}else if(n<0){for(a=r;n<0&&0<a;n++)a-=s(e,a-1);a<0&&(a=0)}var i=r;if(t<r)for(i=a;t>0&&i<r;t--)i+=s(e,i);return e.substring(a,i)}var u={getCodePoints:function(e){for(var n=[],t=0;t<e.length;t+=s(e,t))n.push(e.codePointAt(t));return n},getUTF16Length:s,hasSurrogateUnit:o,isCodeUnitInSurrogateRange:i,isSurrogatePair:function(e,n){if(0<=n&&n<e.length||r(!1),n+1===e.length)return!1;var t=e.charCodeAt(n),a=e.charCodeAt(n+1);return 55296<=t&&t<=56319&&56320<=a&&a<=57343},strlen:function(e){if(!o(e))return e.length;for(var n=0,t=0;t<e.length;t+=s(e,t))n++;return n},substring:function(e,n,t){(n=n||0)<0&&(n=0),(t=void 0===t?1/0:t||0)<0&&(t=0);var r=Math.abs(t-n);return l(e,n=n<t?n:t,r)},substr:l};e.exports=u},8258:function(e,n,t){"use strict";var r=t(7894),a=t(3729),i=t(7972),o=t(3786);function s(e,n,t,r){if(e===t)return!0;if(!t.startsWith(e))return!1;var i=t.slice(e.length);return!!n&&(i=r?r(i):i,a.contains(i,n))}function l(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var u={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,l)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=i(u,o)},7894:function(e,n,t){"use strict";var r=t(1318),a="Unknown",i={"Mac OS":"Mac OS X"};var o,s=(new r).getResult(),l=function(e){if(!e)return{major:"",minor:""};var n=e.split(".");return{major:n[0],minor:n[1]}}(s.browser.version),u={browserArchitecture:s.cpu.architecture||a,browserFullVersion:s.browser.version||a,browserMinorVersion:l.minor||a,browserName:s.browser.name||a,browserVersion:s.browser.major||a,deviceName:s.device.model||a,engineName:s.engine.name||a,engineVersion:s.engine.version||a,platformArchitecture:s.cpu.architecture||a,platformName:(o=s.os.name,i[o]||o||a),platformVersion:s.os.version||a,platformFullVersion:s.os.version||a};e.exports=u},3729:function(e,n,t){"use strict";var r=t(7405),a=/\./,i=/\|\|/,o=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,l=/^(\d*)(.*)/;function u(e,n){var t=e.split(i);return t.length>1?t.some((function(e){return x.contains(e,n)})):function(e,n){var t=e.split(o);if(t.length>0&&t.length<=2||r(!1),1===t.length)return c(t[0],n);var a=t[0],i=t[1];return p(a)&&p(i)||r(!1),c(">="+a,n)&&c("<="+i,n)}(e=t[0].trim(),n)}function c(e,n){if(""===(e=e.trim()))return!0;var t=n.split(a),r=f(e),i=r.modifier,o=r.rangeComponents;switch(i){case"<":return d(t,o);case"<=":return function(e,n){var t=v(e,n);return-1===t||0===t}(t,o);case">=":return A(t,o);case">":return 1===v(t,o);case"~":case"~>":return function(e,n){var t=n.slice(),r=n.slice();r.length>1&&r.pop();var a=r.length-1,i=parseInt(r[a],10);h(i)&&(r[a]=i+1+"");return A(e,t)&&d(e,r)}(t,o);default:return function(e,n){return 0===v(e,n)}(t,o)}}function d(e,n){return-1===v(e,n)}function A(e,n){var t=v(e,n);return 1===t||0===t}function f(e){var n=e.split(a),t=n[0].match(s);return t||r(!1),{modifier:t[1],rangeComponents:[t[2]].concat(n.slice(1))}}function h(e){return!isNaN(e)&&isFinite(e)}function p(e){return!f(e).modifier}function m(e,n){for(var t=e.length;t<n;t++)e[t]="0"}function S(e,n){var t=e.match(l)[1],r=n.match(l)[1],a=parseInt(t,10),i=parseInt(r,10);return h(a)&&h(i)&&a!==i?g(a,i):g(e,n)}function g(e,n){return typeof e!==typeof n&&r(!1),e>n?1:e<n?-1:0}function v(e,n){for(var t=function(e,n){m(e=e.slice(),(n=n.slice()).length);for(var t=0;t<n.length;t++){var r=n[t].match(/^[x*]$/i);if(r&&(n[t]=e[t]="0","*"===r[0]&&t===n.length-1))for(var a=t;a<e.length;a++)e[a]="0"}return m(n,e.length),[e,n]}(e,n),r=t[0],a=t[1],i=0;i<a.length;i++){var o=S(r[i],a[i]);if(o)return o}return 0}var x={contains:function(e,n){return u(e.trim(),n.trim())}};e.exports=x},4700:function(e){"use strict";var n=/-(.)/g;e.exports=function(e){return e.replace(n,(function(e,n){return n.toUpperCase()}))}},2804:function(e,n,t){"use strict";var r=t(5186);e.exports=function e(n,t){return!(!n||!t)&&(n===t||!r(n)&&(r(t)?e(n,t.parentNode):"contains"in n?n.contains(t):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(t))))}},8408:function(e,n,t){"use strict";var r=t(7405);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var n=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&r(!1),"number"!==typeof n&&r(!1),0===n||n-1 in e||r(!1),"function"===typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(i){}for(var t=Array(n),a=0;a<n;a++)t[a]=e[a];return t}(e):[e]}},7827:function(e){"use strict";function n(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(n){return e[n]})).map(n).join(" "):Array.prototype.map.call(arguments,n).join(" ")}},840:function(e){"use strict";function n(e){return function(){return e}}var t=function(){};t.thatReturns=n,t.thatReturnsFalse=n(!1),t.thatReturnsTrue=n(!0),t.thatReturnsNull=n(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},e.exports=t},3459:function(e){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}},6935:function(e){"use strict";var n="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:n||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},1604:function(e,n,t){"use strict";var r=t(8967);e.exports=function(e){var n=r(e);return{x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top}}},8967:function(e,n,t){"use strict";var r=t(2804);e.exports=function(e){var n=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(n,e))return{left:0,right:0,top:0,bottom:0};var t=e.getBoundingClientRect();return{left:Math.round(t.left)-n.clientLeft,right:Math.round(t.right)-n.clientLeft,top:Math.round(t.top)-n.clientTop,bottom:Math.round(t.bottom)-n.clientTop}}},7541:function(e,n,t){"use strict";var r=t(6935),a=t(4536);e.exports=function(e){var n=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=n);var t=a(e),i=e===n?e.ownerDocument.documentElement:e,o=e.scrollWidth-i.clientWidth,s=e.scrollHeight-i.clientHeight;return t.x=Math.max(0,Math.min(t.x,o)),t.y=Math.max(0,Math.min(t.y,s)),t}},6989:function(e,n,t){"use strict";var r=t(4700),a=t(8415);function i(e){return null==e?e:String(e)}e.exports=function(e,n){var t;if(window.getComputedStyle&&(t=window.getComputedStyle(e,null)))return i(t.getPropertyValue(a(n)));if(document.defaultView&&document.defaultView.getComputedStyle){if(t=document.defaultView.getComputedStyle(e,null))return i(t.getPropertyValue(a(n)));if("display"===n)return"none"}return e.currentStyle?i("float"===n?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(n)]):i(e.style&&e.style[r(n)])}},4536:function(e){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},9349:function(e){"use strict";function n(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function t(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function r(){return{width:window.innerWidth||n(),height:window.innerHeight||t()}}r.withoutScrollbars=function(){return{width:n(),height:t()}},e.exports=r},8415:function(e){"use strict";var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},7405:function(e){"use strict";var n=function(e){};e.exports=function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(n(t),!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(o=new Error(t.replace(/%s/g,(function(){return String(a[s++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},6736:function(e){"use strict";e.exports=function(e){var n=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof n.Node?e instanceof n.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},5186:function(e,n,t){"use strict";var r=t(6736);e.exports=function(e){return r(e)&&3==e.nodeType}},6005:function(e){"use strict";e.exports=function(e){var n=e||"",t=arguments.length;if(t>1)for(var r=1;r<t;r++){var a=arguments[r];a&&(n=(n?n+" ":"")+a)}return n}},7972:function(e){"use strict";var n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!e)return null;var a={};for(var i in e)n.call(e,i)&&(a[i]=t.call(r,e[i],i,e));return a}},3786:function(e){"use strict";e.exports=function(e){var n={};return function(t){return n.hasOwnProperty(t)||(n[t]=e.call(this,t)),n[t]}}},5338:function(e){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},7617:function(e,n,t){"use strict";t(9e3),e.exports=t.g.setImmediate},4265:function(e,n,t){"use strict";var r=t(840);e.exports=r},8925:function(e,n,t){var r,a,i;a=[],r=function(){"use strict";function n(e,n){return"undefined"==typeof n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,n,t)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch(e){}return 200<=n.status&&299>=n.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t.g&&t.g.global===t.g?t.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,n,t){var s=o.URL||o.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):a(l.href)?r(e,n,t):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,o){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(n(e,o),t);else if(a(e))r(e,t,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,n,t,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,n,t);var i="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&l||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},c.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,A=d.createObjectURL(e);a?a.location=A:location.href=A,a=null,setTimeout((function(){d.revokeObjectURL(A)}),4e4)}});o.saveAs=l.saveAs=l,e.exports=l},void 0===(i="function"===typeof r?r.apply(n,a):r)||(e.exports=i)},7861:function(e,n,t){"use strict";var r=t(6214),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,A=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(n,t,r){if("string"!==typeof t){if(h){var a=f(t);a&&a!==h&&e(n,a,r)}var o=c(t);d&&(o=o.concat(d(t)));for(var s=l(n),p=l(t),m=0;m<o.length;++m){var S=o[m];if(!i[S]&&(!r||!r[S])&&(!p||!p[S])&&(!s||!s[S])){var g=A(t,S);try{u(n,S,g)}catch(v){}}}}return n}},5986:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function n(e,n){n&&(e.prototype=Object.create(n.prototype)),e.prototype.constructor=e}function t(e){return o(e)?e:K(e)}function r(e){return s(e)?e:q(e)}function a(e){return l(e)?e:Y(e)}function i(e){return o(e)&&!u(e)?e:Q(e)}function o(e){return!(!e||!e[d])}function s(e){return!(!e||!e[A])}function l(e){return!(!e||!e[f])}function u(e){return s(e)||l(e)}function c(e){return!(!e||!e[h])}n(r,t),n(a,t),n(i,t),t.isIterable=o,t.isKeyed=s,t.isIndexed=l,t.isAssociative=u,t.isOrdered=c,t.Keyed=r,t.Indexed=a,t.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",A="@@__IMMUTABLE_KEYED__@@",f="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",p="delete",m=5,S=1<<m,g=S-1,v={},x={value:!1},_={value:!1};function y(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function b(){}function V(e,n){n=n||0;for(var t=Math.max(0,e.length-n),r=new Array(t),a=0;a<t;a++)r[a]=e[a+n];return r}function C(e){return void 0===e.size&&(e.size=e.__iterate(D)),e.size}function E(e,n){if("number"!==typeof n){var t=n>>>0;if(""+t!==n||4294967295===t)return NaN;n=t}return n<0?C(e)+n:n}function D(){return!0}function F(e,n,t){return(0===e||void 0!==t&&e<=-t)&&(void 0===n||void 0!==t&&n>=t)}function T(e,n){return R(e,n,0)}function P(e,n){return R(e,n,n)}function R(e,n,t){return void 0===e?t:e<0?Math.max(0,n+e):void 0===n?e:Math.min(n,e)}var L=0,M=1,B=2,k="function"===typeof Symbol&&Symbol.iterator,I="@@iterator",O=k||I;function N(e){this.next=e}function j(e,n,t,r){var a=0===e?n:1===e?t:[n,t];return r?r.value=a:r={value:a,done:!1},r}function U(){return{value:void 0,done:!0}}function G(e){return!!W(e)}function z(e){return e&&"function"===typeof e.next}function H(e){var n=W(e);return n&&n.call(e)}function W(e){var n=e&&(k&&e[k]||e[I]);if("function"===typeof n)return n}function X(e){return e&&"number"===typeof e.length}function K(e){return null===e||void 0===e?oe():o(e)?e.toSeq():ue(e)}function q(e){return null===e||void 0===e?oe().toKeyedSeq():o(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function Y(e){return null===e||void 0===e?oe():o(e)?s(e)?e.entrySeq():e.toIndexedSeq():le(e)}function Q(e){return(null===e||void 0===e?oe():o(e)?s(e)?e.entrySeq():e:le(e)).toSetSeq()}N.prototype.toString=function(){return"[Iterator]"},N.KEYS=L,N.VALUES=M,N.ENTRIES=B,N.prototype.inspect=N.prototype.toSource=function(){return this.toString()},N.prototype[O]=function(){return this},n(K,t),K.of=function(){return K(arguments)},K.prototype.toSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq {","}")},K.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},K.prototype.__iterate=function(e,n){return de(this,e,n,!0)},K.prototype.__iterator=function(e,n){return Ae(this,e,n,!0)},n(q,K),q.prototype.toKeyedSeq=function(){return this},n(Y,K),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,n){return de(this,e,n,!1)},Y.prototype.__iterator=function(e,n){return Ae(this,e,n,!1)},n(Q,K),Q.of=function(){return Q(arguments)},Q.prototype.toSetSeq=function(){return this},K.isSeq=ie,K.Keyed=q,K.Set=Q,K.Indexed=Y;var J,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function ne(e){this._array=e,this.size=e.length}function te(e){var n=Object.keys(e);this._object=e,this._keys=n,this.size=n.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ae(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function oe(){return J||(J=new ne([]))}function se(e){var n=Array.isArray(e)?new ne(e).fromEntrySeq():z(e)?new ae(e).fromEntrySeq():G(e)?new re(e).fromEntrySeq():"object"===typeof e?new te(e):void 0;if(!n)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return n}function le(e){var n=ce(e);if(!n)throw new TypeError("Expected Array or iterable object of values: "+e);return n}function ue(e){var n=ce(e)||"object"===typeof e&&new te(e);if(!n)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return n}function ce(e){return X(e)?new ne(e):z(e)?new ae(e):G(e)?new re(e):void 0}function de(e,n,t,r){var a=e._cache;if(a){for(var i=a.length-1,o=0;o<=i;o++){var s=a[t?i-o:o];if(!1===n(s[1],r?s[0]:o,e))return o+1}return o}return e.__iterateUncached(n,t)}function Ae(e,n,t,r){var a=e._cache;if(a){var i=a.length-1,o=0;return new N((function(){var e=a[t?i-o:o];return o++>i?U():j(n,r?e[0]:o-1,e[1])}))}return e.__iteratorUncached(n,t)}function fe(e,n){return n?he(n,e,"",{"":e}):pe(e)}function he(e,n,t,r){return Array.isArray(n)?e.call(r,t,Y(n).map((function(t,r){return he(e,t,r,n)}))):me(n)?e.call(r,t,q(n).map((function(t,r){return he(e,t,r,n)}))):n}function pe(e){return Array.isArray(e)?Y(e).map(pe).toList():me(e)?q(e).map(pe).toMap():e}function me(e){return e&&(e.constructor===Object||void 0===e.constructor)}function Se(e,n){if(e===n||e!==e&&n!==n)return!0;if(!e||!n)return!1;if("function"===typeof e.valueOf&&"function"===typeof n.valueOf){if((e=e.valueOf())===(n=n.valueOf())||e!==e&&n!==n)return!0;if(!e||!n)return!1}return!("function"!==typeof e.equals||"function"!==typeof n.equals||!e.equals(n))}function ge(e,n){if(e===n)return!0;if(!o(n)||void 0!==e.size&&void 0!==n.size&&e.size!==n.size||void 0!==e.__hash&&void 0!==n.__hash&&e.__hash!==n.__hash||s(e)!==s(n)||l(e)!==l(n)||c(e)!==c(n))return!1;if(0===e.size&&0===n.size)return!0;var t=!u(e);if(c(e)){var r=e.entries();return n.every((function(e,n){var a=r.next().value;return a&&Se(a[1],e)&&(t||Se(a[0],n))}))&&r.next().done}var a=!1;if(void 0===e.size)if(void 0===n.size)"function"===typeof e.cacheResult&&e.cacheResult();else{a=!0;var i=e;e=n,n=i}var d=!0,A=n.__iterate((function(n,r){if(t?!e.has(n):a?!Se(n,e.get(r,v)):!Se(e.get(r,v),n))return d=!1,!1}));return d&&e.size===A}function ve(e,n){if(!(this instanceof ve))return new ve(e,n);if(this._value=e,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(Z)return Z;Z=this}}function xe(e,n){if(!e)throw new Error(n)}function _e(e,n,t){if(!(this instanceof _e))return new _e(e,n,t);if(xe(0!==t,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),t=void 0===t?1:Math.abs(t),n<e&&(t=-t),this._start=e,this._end=n,this._step=t,this.size=Math.max(0,Math.ceil((n-e)/t-1)+1),0===this.size){if($)return $;$=this}}function ye(){throw TypeError("Abstract")}function we(){}function be(){}function Ve(){}K.prototype[ee]=!0,n(ne,Y),ne.prototype.get=function(e,n){return this.has(e)?this._array[E(this,e)]:n},ne.prototype.__iterate=function(e,n){for(var t=this._array,r=t.length-1,a=0;a<=r;a++)if(!1===e(t[n?r-a:a],a,this))return a+1;return a},ne.prototype.__iterator=function(e,n){var t=this._array,r=t.length-1,a=0;return new N((function(){return a>r?U():j(e,a,t[n?r-a++:a++])}))},n(te,q),te.prototype.get=function(e,n){return void 0===n||this.has(e)?this._object[e]:n},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,n){for(var t=this._object,r=this._keys,a=r.length-1,i=0;i<=a;i++){var o=r[n?a-i:i];if(!1===e(t[o],o,this))return i+1}return i},te.prototype.__iterator=function(e,n){var t=this._object,r=this._keys,a=r.length-1,i=0;return new N((function(){var o=r[n?a-i:i];return i++>a?U():j(e,o,t[o])}))},te.prototype[h]=!0,n(re,Y),re.prototype.__iterateUncached=function(e,n){if(n)return this.cacheResult().__iterate(e,n);var t=H(this._iterable),r=0;if(z(t))for(var a;!(a=t.next()).done&&!1!==e(a.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,n){if(n)return this.cacheResult().__iterator(e,n);var t=H(this._iterable);if(!z(t))return new N(U);var r=0;return new N((function(){var n=t.next();return n.done?n:j(e,r++,n.value)}))},n(ae,Y),ae.prototype.__iterateUncached=function(e,n){if(n)return this.cacheResult().__iterate(e,n);for(var t,r=this._iterator,a=this._iteratorCache,i=0;i<a.length;)if(!1===e(a[i],i++,this))return i;for(;!(t=r.next()).done;){var o=t.value;if(a[i]=o,!1===e(o,i++,this))break}return i},ae.prototype.__iteratorUncached=function(e,n){if(n)return this.cacheResult().__iterator(e,n);var t=this._iterator,r=this._iteratorCache,a=0;return new N((function(){if(a>=r.length){var n=t.next();if(n.done)return n;r[a]=n.value}return j(e,a,r[a++])}))},n(ve,Y),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,n){return this.has(e)?this._value:n},ve.prototype.includes=function(e){return Se(this._value,e)},ve.prototype.slice=function(e,n){var t=this.size;return F(e,n,t)?this:new ve(this._value,P(n,t)-T(e,t))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return Se(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return Se(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,n){for(var t=0;t<this.size;t++)if(!1===e(this._value,t,this))return t+1;return t},ve.prototype.__iterator=function(e,n){var t=this,r=0;return new N((function(){return r<t.size?j(e,r++,t._value):U()}))},ve.prototype.equals=function(e){return e instanceof ve?Se(this._value,e._value):ge(e)},n(_e,Y),_e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},_e.prototype.get=function(e,n){return this.has(e)?this._start+E(this,e)*this._step:n},_e.prototype.includes=function(e){var n=(e-this._start)/this._step;return n>=0&&n<this.size&&n===Math.floor(n)},_e.prototype.slice=function(e,n){return F(e,n,this.size)?this:(e=T(e,this.size),(n=P(n,this.size))<=e?new _e(0,0):new _e(this.get(e,this._end),this.get(n,this._end),this._step))},_e.prototype.indexOf=function(e){var n=e-this._start;if(n%this._step===0){var t=n/this._step;if(t>=0&&t<this.size)return t}return-1},_e.prototype.lastIndexOf=function(e){return this.indexOf(e)},_e.prototype.__iterate=function(e,n){for(var t=this.size-1,r=this._step,a=n?this._start+t*r:this._start,i=0;i<=t;i++){if(!1===e(a,i,this))return i+1;a+=n?-r:r}return i},_e.prototype.__iterator=function(e,n){var t=this.size-1,r=this._step,a=n?this._start+t*r:this._start,i=0;return new N((function(){var o=a;return a+=n?-r:r,i>t?U():j(e,i++,o)}))},_e.prototype.equals=function(e){return e instanceof _e?this._start===e._start&&this._end===e._end&&this._step===e._step:ge(this,e)},n(ye,t),n(we,ye),n(be,ye),n(Ve,ye),ye.Keyed=we,ye.Indexed=be,ye.Set=Ve;var Ce="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,n){var t=65535&(e|=0),r=65535&(n|=0);return t*r+((e>>>16)*r+t*(n>>>16)<<16>>>0)|0};function Ee(e){return e>>>1&1073741824|3221225471&e}function De(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var n=typeof e;if("number"===n){var t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return Ee(t)}if("string"===n)return e.length>Ne?Fe(e):Te(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===n)return Pe(e);if("function"===typeof e.toString)return Te(e.toString());throw new Error("Value type "+n+" cannot be hashed.")}function Fe(e){var n=Ge[e];return void 0===n&&(n=Te(e),Ue===je&&(Ue=0,Ge={}),Ue++,Ge[e]=n),n}function Te(e){for(var n=0,t=0;t<e.length;t++)n=31*n+e.charCodeAt(t)|0;return Ee(n)}function Pe(e){var n;if(ke&&void 0!==(n=Be.get(e)))return n;if(void 0!==(n=e[Oe]))return n;if(!Le){if(void 0!==(n=e.propertyIsEnumerable&&e.propertyIsEnumerable[Oe]))return n;if(void 0!==(n=Me(e)))return n}if(n=++Ie,1073741824&Ie&&(Ie=0),ke)Be.set(e,n);else{if(void 0!==Re&&!1===Re(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Le)Object.defineProperty(e,Oe,{enumerable:!1,configurable:!1,writable:!1,value:n});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Oe]=n;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Oe]=n}}return n}var Re=Object.isExtensible,Le=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Me(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Be,ke="function"===typeof WeakMap;ke&&(Be=new WeakMap);var Ie=0,Oe="__immutablehash__";"function"===typeof Symbol&&(Oe=Symbol(Oe));var Ne=16,je=255,Ue=0,Ge={};function ze(e){xe(e!==1/0,"Cannot perform this action with an infinite size.")}function He(e){return null===e||void 0===e?an():We(e)&&!c(e)?e:an().withMutations((function(n){var t=r(e);ze(t.size),t.forEach((function(e,t){return n.set(t,e)}))}))}function We(e){return!(!e||!e[Ke])}n(He,we),He.prototype.toString=function(){return this.__toString("Map {","}")},He.prototype.get=function(e,n){return this._root?this._root.get(0,void 0,e,n):n},He.prototype.set=function(e,n){return on(this,e,n)},He.prototype.setIn=function(e,n){return this.updateIn(e,v,(function(){return n}))},He.prototype.remove=function(e){return on(this,e,v)},He.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},He.prototype.update=function(e,n,t){return 1===arguments.length?e(this):this.updateIn([e],n,t)},He.prototype.updateIn=function(e,n,t){t||(t=n,n=void 0);var r=Sn(this,yt(e),n,t);return r===v?void 0:r},He.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):an()},He.prototype.merge=function(){return fn(this,void 0,arguments)},He.prototype.mergeWith=function(n){return fn(this,n,e.call(arguments,1))},He.prototype.mergeIn=function(n){var t=e.call(arguments,1);return this.updateIn(n,an(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,t):t[t.length-1]}))},He.prototype.mergeDeep=function(){return fn(this,hn,arguments)},He.prototype.mergeDeepWith=function(n){var t=e.call(arguments,1);return fn(this,pn(n),t)},He.prototype.mergeDeepIn=function(n){var t=e.call(arguments,1);return this.updateIn(n,an(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]}))},He.prototype.sort=function(e){return zn(dt(this,e))},He.prototype.sortBy=function(e,n){return zn(dt(this,n,e))},He.prototype.withMutations=function(e){var n=this.asMutable();return e(n),n.wasAltered()?n.__ensureOwner(this.__ownerID):this},He.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new b)},He.prototype.asImmutable=function(){return this.__ensureOwner()},He.prototype.wasAltered=function(){return this.__altered},He.prototype.__iterator=function(e,n){return new en(this,e,n)},He.prototype.__iterate=function(e,n){var t=this,r=0;return this._root&&this._root.iterate((function(n){return r++,e(n[1],n[0],t)}),n),r},He.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rn(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},He.isMap=We;var Xe,Ke="@@__IMMUTABLE_MAP__@@",qe=He.prototype;function Ye(e,n){this.ownerID=e,this.entries=n}function Qe(e,n,t){this.ownerID=e,this.bitmap=n,this.nodes=t}function Je(e,n,t){this.ownerID=e,this.count=n,this.nodes=t}function Ze(e,n,t){this.ownerID=e,this.keyHash=n,this.entries=t}function $e(e,n,t){this.ownerID=e,this.keyHash=n,this.entry=t}function en(e,n,t){this._type=n,this._reverse=t,this._stack=e._root&&tn(e._root)}function nn(e,n){return j(e,n[0],n[1])}function tn(e,n){return{node:e,index:0,__prev:n}}function rn(e,n,t,r){var a=Object.create(qe);return a.size=e,a._root=n,a.__ownerID=t,a.__hash=r,a.__altered=!1,a}function an(){return Xe||(Xe=rn(0))}function on(e,n,t){var r,a;if(e._root){var i=y(x),o=y(_);if(r=sn(e._root,e.__ownerID,0,void 0,n,t,i,o),!o.value)return e;a=e.size+(i.value?t===v?-1:1:0)}else{if(t===v)return e;a=1,r=new Ye(e.__ownerID,[[n,t]])}return e.__ownerID?(e.size=a,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rn(a,r):an()}function sn(e,n,t,r,a,i,o,s){return e?e.update(n,t,r,a,i,o,s):i===v?e:(w(s),w(o),new $e(n,r,[a,i]))}function ln(e){return e.constructor===$e||e.constructor===Ze}function un(e,n,t,r,a){if(e.keyHash===r)return new Ze(n,r,[e.entry,a]);var i,o=(0===t?e.keyHash:e.keyHash>>>t)&g,s=(0===t?r:r>>>t)&g;return new Qe(n,1<<o|1<<s,o===s?[un(e,n,t+m,r,a)]:(i=new $e(n,r,a),o<s?[e,i]:[i,e]))}function cn(e,n,t,r){e||(e=new b);for(var a=new $e(e,De(t),[t,r]),i=0;i<n.length;i++){var o=n[i];a=a.update(e,0,void 0,o[0],o[1])}return a}function dn(e,n,t,r){for(var a=0,i=0,o=new Array(t),s=0,l=1,u=n.length;s<u;s++,l<<=1){var c=n[s];void 0!==c&&s!==r&&(a|=l,o[i++]=c)}return new Qe(e,a,o)}function An(e,n,t,r,a){for(var i=0,o=new Array(S),s=0;0!==t;s++,t>>>=1)o[s]=1&t?n[i++]:void 0;return o[r]=a,new Je(e,i+1,o)}function fn(e,n,t){for(var a=[],i=0;i<t.length;i++){var s=t[i],l=r(s);o(s)||(l=l.map((function(e){return fe(e)}))),a.push(l)}return mn(e,n,a)}function hn(e,n,t){return e&&e.mergeDeep&&o(n)?e.mergeDeep(n):Se(e,n)?e:n}function pn(e){return function(n,t,r){if(n&&n.mergeDeepWith&&o(t))return n.mergeDeepWith(e,t);var a=e(n,t,r);return Se(n,a)?n:a}}function mn(e,n,t){return 0===(t=t.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==t.length?e.withMutations((function(e){for(var r=n?function(t,r){e.update(r,v,(function(e){return e===v?t:n(e,t,r)}))}:function(n,t){e.set(t,n)},a=0;a<t.length;a++)t[a].forEach(r)})):e.constructor(t[0])}function Sn(e,n,t,r){var a=e===v,i=n.next();if(i.done){var o=a?t:e,s=r(o);return s===o?e:s}xe(a||e&&e.set,"invalid keyPath");var l=i.value,u=a?v:e.get(l,v),c=Sn(u,n,t,r);return c===u?e:c===v?e.remove(l):(a?an():e).set(l,c)}function gn(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function vn(e,n,t,r){var a=r?e:V(e);return a[n]=t,a}function xn(e,n,t,r){var a=e.length+1;if(r&&n+1===a)return e[n]=t,e;for(var i=new Array(a),o=0,s=0;s<a;s++)s===n?(i[s]=t,o=-1):i[s]=e[s+o];return i}function _n(e,n,t){var r=e.length-1;if(t&&n===r)return e.pop(),e;for(var a=new Array(r),i=0,o=0;o<r;o++)o===n&&(i=1),a[o]=e[o+i];return a}qe[Ke]=!0,qe[p]=qe.remove,qe.removeIn=qe.deleteIn,Ye.prototype.get=function(e,n,t,r){for(var a=this.entries,i=0,o=a.length;i<o;i++)if(Se(t,a[i][0]))return a[i][1];return r},Ye.prototype.update=function(e,n,t,r,a,i,o){for(var s=a===v,l=this.entries,u=0,c=l.length;u<c&&!Se(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===a:s)return this;if(w(o),(s||!d)&&w(i),!s||1!==l.length){if(!d&&!s&&l.length>=yn)return cn(e,l,r,a);var A=e&&e===this.ownerID,f=A?l:V(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[r,a]:f.push([r,a]),A?(this.entries=f,this):new Ye(e,f)}},Qe.prototype.get=function(e,n,t,r){void 0===n&&(n=De(t));var a=1<<((0===e?n:n>>>e)&g),i=this.bitmap;return 0===(i&a)?r:this.nodes[gn(i&a-1)].get(e+m,n,t,r)},Qe.prototype.update=function(e,n,t,r,a,i,o){void 0===t&&(t=De(r));var s=(0===n?t:t>>>n)&g,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&a===v)return this;var d=gn(u&l-1),A=this.nodes,f=c?A[d]:void 0,h=sn(f,e,n+m,t,r,a,i,o);if(h===f)return this;if(!c&&h&&A.length>=wn)return An(e,A,u,s,h);if(c&&!h&&2===A.length&&ln(A[1^d]))return A[1^d];if(c&&h&&1===A.length&&ln(h))return h;var p=e&&e===this.ownerID,S=c?h?u:u^l:u|l,x=c?h?vn(A,d,h,p):_n(A,d,p):xn(A,d,h,p);return p?(this.bitmap=S,this.nodes=x,this):new Qe(e,S,x)},Je.prototype.get=function(e,n,t,r){void 0===n&&(n=De(t));var a=(0===e?n:n>>>e)&g,i=this.nodes[a];return i?i.get(e+m,n,t,r):r},Je.prototype.update=function(e,n,t,r,a,i,o){void 0===t&&(t=De(r));var s=(0===n?t:t>>>n)&g,l=a===v,u=this.nodes,c=u[s];if(l&&!c)return this;var d=sn(c,e,n+m,t,r,a,i,o);if(d===c)return this;var A=this.count;if(c){if(!d&&--A<bn)return dn(e,u,A,s)}else A++;var f=e&&e===this.ownerID,h=vn(u,s,d,f);return f?(this.count=A,this.nodes=h,this):new Je(e,A,h)},Ze.prototype.get=function(e,n,t,r){for(var a=this.entries,i=0,o=a.length;i<o;i++)if(Se(t,a[i][0]))return a[i][1];return r},Ze.prototype.update=function(e,n,t,r,a,i,o){void 0===t&&(t=De(r));var s=a===v;if(t!==this.keyHash)return s?this:(w(o),w(i),un(this,e,n,t,[r,a]));for(var l=this.entries,u=0,c=l.length;u<c&&!Se(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===a:s)return this;if(w(o),(s||!d)&&w(i),s&&2===c)return new $e(e,this.keyHash,l[1^u]);var A=e&&e===this.ownerID,f=A?l:V(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[r,a]:f.push([r,a]),A?(this.entries=f,this):new Ze(e,this.keyHash,f)},$e.prototype.get=function(e,n,t,r){return Se(t,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,n,t,r,a,i,o){var s=a===v,l=Se(r,this.entry[0]);return(l?a===this.entry[1]:s)?this:(w(o),s?void w(i):l?e&&e===this.ownerID?(this.entry[1]=a,this):new $e(e,this.keyHash,[r,a]):(w(i),un(this,e,n,De(r),[r,a])))},Ye.prototype.iterate=Ze.prototype.iterate=function(e,n){for(var t=this.entries,r=0,a=t.length-1;r<=a;r++)if(!1===e(t[n?a-r:r]))return!1},Qe.prototype.iterate=Je.prototype.iterate=function(e,n){for(var t=this.nodes,r=0,a=t.length-1;r<=a;r++){var i=t[n?a-r:r];if(i&&!1===i.iterate(e,n))return!1}},$e.prototype.iterate=function(e,n){return e(this.entry)},n(en,N),en.prototype.next=function(){for(var e=this._type,n=this._stack;n;){var t,r=n.node,a=n.index++;if(r.entry){if(0===a)return nn(e,r.entry)}else if(r.entries){if(a<=(t=r.entries.length-1))return nn(e,r.entries[this._reverse?t-a:a])}else if(a<=(t=r.nodes.length-1)){var i=r.nodes[this._reverse?t-a:a];if(i){if(i.entry)return nn(e,i.entry);n=this._stack=tn(i,n)}continue}n=this._stack=this._stack.__prev}return U()};var yn=S/4,wn=S/2,bn=S/4;function Vn(e){var n=Bn();if(null===e||void 0===e)return n;if(Cn(e))return e;var t=a(e),r=t.size;return 0===r?n:(ze(r),r>0&&r<S?Mn(0,r,m,null,new Fn(t.toArray())):n.withMutations((function(e){e.setSize(r),t.forEach((function(n,t){return e.set(t,n)}))})))}function Cn(e){return!(!e||!e[En])}n(Vn,be),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("List [","]")},Vn.prototype.get=function(e,n){if((e=E(this,e))>=0&&e<this.size){var t=Nn(this,e+=this._origin);return t&&t.array[e&g]}return n},Vn.prototype.set=function(e,n){return kn(this,e,n)},Vn.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Vn.prototype.insert=function(e,n){return this.splice(e,0,n)},Vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Bn()},Vn.prototype.push=function(){var e=arguments,n=this.size;return this.withMutations((function(t){jn(t,0,n+e.length);for(var r=0;r<e.length;r++)t.set(n+r,e[r])}))},Vn.prototype.pop=function(){return jn(this,0,-1)},Vn.prototype.unshift=function(){var e=arguments;return this.withMutations((function(n){jn(n,-e.length);for(var t=0;t<e.length;t++)n.set(t,e[t])}))},Vn.prototype.shift=function(){return jn(this,1)},Vn.prototype.merge=function(){return Un(this,void 0,arguments)},Vn.prototype.mergeWith=function(n){return Un(this,n,e.call(arguments,1))},Vn.prototype.mergeDeep=function(){return Un(this,hn,arguments)},Vn.prototype.mergeDeepWith=function(n){var t=e.call(arguments,1);return Un(this,pn(n),t)},Vn.prototype.setSize=function(e){return jn(this,0,e)},Vn.prototype.slice=function(e,n){var t=this.size;return F(e,n,t)?this:jn(this,T(e,t),P(n,t))},Vn.prototype.__iterator=function(e,n){var t=0,r=Ln(this,n);return new N((function(){var n=r();return n===Rn?U():j(e,t++,n)}))},Vn.prototype.__iterate=function(e,n){for(var t,r=0,a=Ln(this,n);(t=a())!==Rn&&!1!==e(t,r++,this););return r},Vn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Mn(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Vn.isList=Cn;var En="@@__IMMUTABLE_LIST__@@",Dn=Vn.prototype;function Fn(e,n){this.array=e,this.ownerID=n}Dn[En]=!0,Dn[p]=Dn.remove,Dn.setIn=qe.setIn,Dn.deleteIn=Dn.removeIn=qe.removeIn,Dn.update=qe.update,Dn.updateIn=qe.updateIn,Dn.mergeIn=qe.mergeIn,Dn.mergeDeepIn=qe.mergeDeepIn,Dn.withMutations=qe.withMutations,Dn.asMutable=qe.asMutable,Dn.asImmutable=qe.asImmutable,Dn.wasAltered=qe.wasAltered,Fn.prototype.removeBefore=function(e,n,t){if(t===n?1<<n:0===this.array.length)return this;var r=t>>>n&g;if(r>=this.array.length)return new Fn([],e);var a,i=0===r;if(n>0){var o=this.array[r];if((a=o&&o.removeBefore(e,n-m,t))===o&&i)return this}if(i&&!a)return this;var s=On(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return a&&(s.array[r]=a),s},Fn.prototype.removeAfter=function(e,n,t){if(t===(n?1<<n:0)||0===this.array.length)return this;var r,a=t-1>>>n&g;if(a>=this.array.length)return this;if(n>0){var i=this.array[a];if((r=i&&i.removeAfter(e,n-m,t))===i&&a===this.array.length-1)return this}var o=On(this,e);return o.array.splice(a+1),r&&(o.array[a]=r),o};var Tn,Pn,Rn={};function Ln(e,n){var t=e._origin,r=e._capacity,a=Gn(r),i=e._tail;return o(e._root,e._level,0);function o(e,n,t){return 0===n?s(e,t):l(e,n,t)}function s(e,o){var s=o===a?i&&i.array:e&&e.array,l=o>t?0:t-o,u=r-o;return u>S&&(u=S),function(){if(l===u)return Rn;var e=n?--u:l++;return s&&s[e]}}function l(e,a,i){var s,l=e&&e.array,u=i>t?0:t-i>>a,c=1+(r-i>>a);return c>S&&(c=S),function(){for(;;){if(s){var e=s();if(e!==Rn)return e;s=null}if(u===c)return Rn;var t=n?--c:u++;s=o(l&&l[t],a-m,i+(t<<a))}}}}function Mn(e,n,t,r,a,i,o){var s=Object.create(Dn);return s.size=n-e,s._origin=e,s._capacity=n,s._level=t,s._root=r,s._tail=a,s.__ownerID=i,s.__hash=o,s.__altered=!1,s}function Bn(){return Tn||(Tn=Mn(0,0,m))}function kn(e,n,t){if((n=E(e,n))!==n)return e;if(n>=e.size||n<0)return e.withMutations((function(e){n<0?jn(e,n).set(0,t):jn(e,0,n+1).set(n,t)}));n+=e._origin;var r=e._tail,a=e._root,i=y(_);return n>=Gn(e._capacity)?r=In(r,e.__ownerID,0,n,t,i):a=In(a,e.__ownerID,e._level,n,t,i),i.value?e.__ownerID?(e._root=a,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Mn(e._origin,e._capacity,e._level,a,r):e}function In(e,n,t,r,a,i){var o,s=r>>>t&g,l=e&&s<e.array.length;if(!l&&void 0===a)return e;if(t>0){var u=e&&e.array[s],c=In(u,n,t-m,r,a,i);return c===u?e:((o=On(e,n)).array[s]=c,o)}return l&&e.array[s]===a?e:(w(i),o=On(e,n),void 0===a&&s===o.array.length-1?o.array.pop():o.array[s]=a,o)}function On(e,n){return n&&e&&n===e.ownerID?e:new Fn(e?e.array.slice():[],n)}function Nn(e,n){if(n>=Gn(e._capacity))return e._tail;if(n<1<<e._level+m){for(var t=e._root,r=e._level;t&&r>0;)t=t.array[n>>>r&g],r-=m;return t}}function jn(e,n,t){void 0!==n&&(n|=0),void 0!==t&&(t|=0);var r=e.__ownerID||new b,a=e._origin,i=e._capacity,o=a+n,s=void 0===t?i:t<0?i+t:a+t;if(o===a&&s===i)return e;if(o>=s)return e.clear();for(var l=e._level,u=e._root,c=0;o+c<0;)u=new Fn(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=m);c&&(o+=c,a+=c,s+=c,i+=c);for(var d=Gn(i),A=Gn(s);A>=1<<l+m;)u=new Fn(u&&u.array.length?[u]:[],r),l+=m;var f=e._tail,h=A<d?Nn(e,s-1):A>d?new Fn([],r):f;if(f&&A>d&&o<i&&f.array.length){for(var p=u=On(u,r),S=l;S>m;S-=m){var v=d>>>S&g;p=p.array[v]=On(p.array[v],r)}p.array[d>>>m&g]=f}if(s<i&&(h=h&&h.removeAfter(r,0,s)),o>=A)o-=A,s-=A,l=m,u=null,h=h&&h.removeBefore(r,0,o);else if(o>a||A<d){for(c=0;u;){var x=o>>>l&g;if(x!==A>>>l&g)break;x&&(c+=(1<<l)*x),l-=m,u=u.array[x]}u&&o>a&&(u=u.removeBefore(r,l,o-c)),u&&A<d&&(u=u.removeAfter(r,l,A-c)),c&&(o-=c,s-=c)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=l,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):Mn(o,s,l,u,h)}function Un(e,n,t){for(var r=[],i=0,s=0;s<t.length;s++){var l=t[s],u=a(l);u.size>i&&(i=u.size),o(l)||(u=u.map((function(e){return fe(e)}))),r.push(u)}return i>e.size&&(e=e.setSize(i)),mn(e,n,r)}function Gn(e){return e<S?0:e-1>>>m<<m}function zn(e){return null===e||void 0===e?Xn():Hn(e)?e:Xn().withMutations((function(n){var t=r(e);ze(t.size),t.forEach((function(e,t){return n.set(t,e)}))}))}function Hn(e){return We(e)&&c(e)}function Wn(e,n,t,r){var a=Object.create(zn.prototype);return a.size=e?e.size:0,a._map=e,a._list=n,a.__ownerID=t,a.__hash=r,a}function Xn(){return Pn||(Pn=Wn(an(),Bn()))}function Kn(e,n,t){var r,a,i=e._map,o=e._list,s=i.get(n),l=void 0!==s;if(t===v){if(!l)return e;o.size>=S&&o.size>=2*i.size?(r=(a=o.filter((function(e,n){return void 0!==e&&s!==n}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=a.__ownerID=e.__ownerID)):(r=i.remove(n),a=s===o.size-1?o.pop():o.set(s,void 0))}else if(l){if(t===o.get(s)[1])return e;r=i,a=o.set(s,[n,t])}else r=i.set(n,o.size),a=o.set(o.size,[n,t]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=a,e.__hash=void 0,e):Wn(r,a)}function qn(e,n){this._iter=e,this._useKeys=n,this.size=e.size}function Yn(e){this._iter=e,this.size=e.size}function Qn(e){this._iter=e,this.size=e.size}function Jn(e){this._iter=e,this.size=e.size}function Zn(e){var n=vt(e);return n._iter=e,n.size=e.size,n.flip=function(){return e},n.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},n.has=function(n){return e.includes(n)},n.includes=function(n){return e.has(n)},n.cacheResult=xt,n.__iterateUncached=function(n,t){var r=this;return e.__iterate((function(e,t){return!1!==n(t,e,r)}),t)},n.__iteratorUncached=function(n,t){if(n===B){var r=e.__iterator(n,t);return new N((function(){var e=r.next();if(!e.done){var n=e.value[0];e.value[0]=e.value[1],e.value[1]=n}return e}))}return e.__iterator(n===M?L:M,t)},n}function $n(e,n,t){var r=vt(e);return r.size=e.size,r.has=function(n){return e.has(n)},r.get=function(r,a){var i=e.get(r,v);return i===v?a:n.call(t,i,r,e)},r.__iterateUncached=function(r,a){var i=this;return e.__iterate((function(e,a,o){return!1!==r(n.call(t,e,a,o),a,i)}),a)},r.__iteratorUncached=function(r,a){var i=e.__iterator(B,a);return new N((function(){var a=i.next();if(a.done)return a;var o=a.value,s=o[0];return j(r,s,n.call(t,o[1],s,e),a)}))},r}function et(e,n){var t=vt(e);return t._iter=e,t.size=e.size,t.reverse=function(){return e},e.flip&&(t.flip=function(){var n=Zn(e);return n.reverse=function(){return e.flip()},n}),t.get=function(t,r){return e.get(n?t:-1-t,r)},t.has=function(t){return e.has(n?t:-1-t)},t.includes=function(n){return e.includes(n)},t.cacheResult=xt,t.__iterate=function(n,t){var r=this;return e.__iterate((function(e,t){return n(e,t,r)}),!t)},t.__iterator=function(n,t){return e.__iterator(n,!t)},t}function nt(e,n,t,r){var a=vt(e);return r&&(a.has=function(r){var a=e.get(r,v);return a!==v&&!!n.call(t,a,r,e)},a.get=function(r,a){var i=e.get(r,v);return i!==v&&n.call(t,i,r,e)?i:a}),a.__iterateUncached=function(a,i){var o=this,s=0;return e.__iterate((function(e,i,l){if(n.call(t,e,i,l))return s++,a(e,r?i:s-1,o)}),i),s},a.__iteratorUncached=function(a,i){var o=e.__iterator(B,i),s=0;return new N((function(){for(;;){var i=o.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(n.call(t,c,u,e))return j(a,r?u:s++,c,i)}}))},a}function tt(e,n,t){var r=He().asMutable();return e.__iterate((function(a,i){r.update(n.call(t,a,i,e),0,(function(e){return e+1}))})),r.asImmutable()}function rt(e,n,t){var r=s(e),a=(c(e)?zn():He()).asMutable();e.__iterate((function(i,o){a.update(n.call(t,i,o,e),(function(e){return(e=e||[]).push(r?[o,i]:i),e}))}));var i=gt(e);return a.map((function(n){return pt(e,i(n))}))}function at(e,n,t,r){var a=e.size;if(void 0!==n&&(n|=0),void 0!==t&&(t|=0),F(n,t,a))return e;var i=T(n,a),o=P(t,a);if(i!==i||o!==o)return at(e.toSeq().cacheResult(),n,t,r);var s,l=o-i;l===l&&(s=l<0?0:l);var u=vt(e);return u.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(u.get=function(n,t){return(n=E(this,n))>=0&&n<s?e.get(n+i,t):t}),u.__iterateUncached=function(n,t){var a=this;if(0===s)return 0;if(t)return this.cacheResult().__iterate(n,t);var o=0,l=!0,u=0;return e.__iterate((function(e,t){if(!l||!(l=o++<i))return u++,!1!==n(e,r?t:u-1,a)&&u!==s})),u},u.__iteratorUncached=function(n,t){if(0!==s&&t)return this.cacheResult().__iterator(n,t);var a=0!==s&&e.__iterator(n,t),o=0,l=0;return new N((function(){for(;o++<i;)a.next();if(++l>s)return U();var e=a.next();return r||n===M?e:j(n,l-1,n===L?void 0:e.value[1],e)}))},u}function it(e,n,t){var r=vt(e);return r.__iterateUncached=function(r,a){var i=this;if(a)return this.cacheResult().__iterate(r,a);var o=0;return e.__iterate((function(e,a,s){return n.call(t,e,a,s)&&++o&&r(e,a,i)})),o},r.__iteratorUncached=function(r,a){var i=this;if(a)return this.cacheResult().__iterator(r,a);var o=e.__iterator(B,a),s=!0;return new N((function(){if(!s)return U();var e=o.next();if(e.done)return e;var a=e.value,l=a[0],u=a[1];return n.call(t,u,l,i)?r===B?e:j(r,l,u,e):(s=!1,U())}))},r}function ot(e,n,t,r){var a=vt(e);return a.__iterateUncached=function(a,i){var o=this;if(i)return this.cacheResult().__iterate(a,i);var s=!0,l=0;return e.__iterate((function(e,i,u){if(!s||!(s=n.call(t,e,i,u)))return l++,a(e,r?i:l-1,o)})),l},a.__iteratorUncached=function(a,i){var o=this;if(i)return this.cacheResult().__iterator(a,i);var s=e.__iterator(B,i),l=!0,u=0;return new N((function(){var e,i,c;do{if((e=s.next()).done)return r||a===M?e:j(a,u++,a===L?void 0:e.value[1],e);var d=e.value;i=d[0],c=d[1],l&&(l=n.call(t,c,i,o))}while(l);return a===B?e:j(a,i,c,e)}))},a}function st(e,n){var t=s(e),a=[e].concat(n).map((function(e){return o(e)?t&&(e=r(e)):e=t?se(e):le(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===a.length)return e;if(1===a.length){var i=a[0];if(i===e||t&&s(i)||l(e)&&l(i))return i}var u=new ne(a);return t?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=a.reduce((function(e,n){if(void 0!==e){var t=n.size;if(void 0!==t)return e+t}}),0),u}function lt(e,n,t){var r=vt(e);return r.__iterateUncached=function(r,a){var i=0,s=!1;function l(e,u){var c=this;e.__iterate((function(e,a){return(!n||u<n)&&o(e)?l(e,u+1):!1===r(e,t?a:i++,c)&&(s=!0),!s}),a)}return l(e,0),i},r.__iteratorUncached=function(r,a){var i=e.__iterator(r,a),s=[],l=0;return new N((function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===B&&(u=u[1]),n&&!(s.length<n)||!o(u))return t?e:j(r,l++,u,e);s.push(i),i=u.__iterator(r,a)}else i=s.pop()}return U()}))},r}function ut(e,n,t){var r=gt(e);return e.toSeq().map((function(a,i){return r(n.call(t,a,i,e))})).flatten(!0)}function ct(e,n){var t=vt(e);return t.size=e.size&&2*e.size-1,t.__iterateUncached=function(t,r){var a=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==t(n,i++,a))&&!1!==t(e,i++,a)}),r),i},t.__iteratorUncached=function(t,r){var a,i=e.__iterator(M,r),o=0;return new N((function(){return(!a||o%2)&&(a=i.next()).done?a:o%2?j(t,o++,n):j(t,o++,a.value,a)}))},t}function dt(e,n,t){n||(n=_t);var r=s(e),a=0,i=e.toSeq().map((function(n,r){return[r,n,a++,t?t(n,r,e):n]})).toArray();return i.sort((function(e,t){return n(e[3],t[3])||e[2]-t[2]})).forEach(r?function(e,n){i[n].length=2}:function(e,n){i[n]=e[1]}),r?q(i):l(e)?Y(i):Q(i)}function At(e,n,t){if(n||(n=_t),t){var r=e.toSeq().map((function(n,r){return[n,t(n,r,e)]})).reduce((function(e,t){return ft(n,e[1],t[1])?t:e}));return r&&r[0]}return e.reduce((function(e,t){return ft(n,e,t)?t:e}))}function ft(e,n,t){var r=e(t,n);return 0===r&&t!==n&&(void 0===t||null===t||t!==t)||r>0}function ht(e,n,r){var a=vt(e);return a.size=new ne(r).map((function(e){return e.size})).min(),a.__iterate=function(e,n){for(var t,r=this.__iterator(M,n),a=0;!(t=r.next()).done&&!1!==e(t.value,a++,this););return a},a.__iteratorUncached=function(e,a){var i=r.map((function(e){return e=t(e),H(a?e.reverse():e)})),o=0,s=!1;return new N((function(){var t;return s||(t=i.map((function(e){return e.next()})),s=t.some((function(e){return e.done}))),s?U():j(e,o++,n.apply(null,t.map((function(e){return e.value}))))}))},a}function pt(e,n){return ie(e)?n:e.constructor(n)}function mt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function St(e){return ze(e.size),C(e)}function gt(e){return s(e)?r:l(e)?a:i}function vt(e){return Object.create((s(e)?q:l(e)?Y:Q).prototype)}function xt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function _t(e,n){return e>n?1:e<n?-1:0}function yt(e){var n=H(e);if(!n){if(!X(e))throw new TypeError("Expected iterable or array-like: "+e);n=H(t(e))}return n}function wt(e,n){var t,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!t){t=!0;var o=Object.keys(e);Et(a,o),a.size=o.length,a._name=n,a._keys=o,a._defaultValues=e}this._map=He(i)},a=r.prototype=Object.create(bt);return a.constructor=r,r}n(zn,He),zn.of=function(){return this(arguments)},zn.prototype.toString=function(){return this.__toString("OrderedMap {","}")},zn.prototype.get=function(e,n){var t=this._map.get(e);return void 0!==t?this._list.get(t)[1]:n},zn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Xn()},zn.prototype.set=function(e,n){return Kn(this,e,n)},zn.prototype.remove=function(e){return Kn(this,e,v)},zn.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},zn.prototype.__iterate=function(e,n){var t=this;return this._list.__iterate((function(n){return n&&e(n[1],n[0],t)}),n)},zn.prototype.__iterator=function(e,n){return this._list.fromEntrySeq().__iterator(e,n)},zn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._map.__ensureOwner(e),t=this._list.__ensureOwner(e);return e?Wn(n,t,e,this.__hash):(this.__ownerID=e,this._map=n,this._list=t,this)},zn.isOrderedMap=Hn,zn.prototype[h]=!0,zn.prototype[p]=zn.prototype.remove,n(qn,q),qn.prototype.get=function(e,n){return this._iter.get(e,n)},qn.prototype.has=function(e){return this._iter.has(e)},qn.prototype.valueSeq=function(){return this._iter.valueSeq()},qn.prototype.reverse=function(){var e=this,n=et(this,!0);return this._useKeys||(n.valueSeq=function(){return e._iter.toSeq().reverse()}),n},qn.prototype.map=function(e,n){var t=this,r=$n(this,e,n);return this._useKeys||(r.valueSeq=function(){return t._iter.toSeq().map(e,n)}),r},qn.prototype.__iterate=function(e,n){var t,r=this;return this._iter.__iterate(this._useKeys?function(n,t){return e(n,t,r)}:(t=n?St(this):0,function(a){return e(a,n?--t:t++,r)}),n)},qn.prototype.__iterator=function(e,n){if(this._useKeys)return this._iter.__iterator(e,n);var t=this._iter.__iterator(M,n),r=n?St(this):0;return new N((function(){var a=t.next();return a.done?a:j(e,n?--r:r++,a.value,a)}))},qn.prototype[h]=!0,n(Yn,Y),Yn.prototype.includes=function(e){return this._iter.includes(e)},Yn.prototype.__iterate=function(e,n){var t=this,r=0;return this._iter.__iterate((function(n){return e(n,r++,t)}),n)},Yn.prototype.__iterator=function(e,n){var t=this._iter.__iterator(M,n),r=0;return new N((function(){var n=t.next();return n.done?n:j(e,r++,n.value,n)}))},n(Qn,Q),Qn.prototype.has=function(e){return this._iter.includes(e)},Qn.prototype.__iterate=function(e,n){var t=this;return this._iter.__iterate((function(n){return e(n,n,t)}),n)},Qn.prototype.__iterator=function(e,n){var t=this._iter.__iterator(M,n);return new N((function(){var n=t.next();return n.done?n:j(e,n.value,n.value,n)}))},n(Jn,q),Jn.prototype.entrySeq=function(){return this._iter.toSeq()},Jn.prototype.__iterate=function(e,n){var t=this;return this._iter.__iterate((function(n){if(n){mt(n);var r=o(n);return e(r?n.get(1):n[1],r?n.get(0):n[0],t)}}),n)},Jn.prototype.__iterator=function(e,n){var t=this._iter.__iterator(M,n);return new N((function(){for(;;){var n=t.next();if(n.done)return n;var r=n.value;if(r){mt(r);var a=o(r);return j(e,a?r.get(0):r[0],a?r.get(1):r[1],n)}}}))},Yn.prototype.cacheResult=qn.prototype.cacheResult=Qn.prototype.cacheResult=Jn.prototype.cacheResult=xt,n(wt,we),wt.prototype.toString=function(){return this.__toString(Ct(this)+" {","}")},wt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},wt.prototype.get=function(e,n){if(!this.has(e))return n;var t=this._defaultValues[e];return this._map?this._map.get(e,t):t},wt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Vt(this,an()))},wt.prototype.set=function(e,n){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Ct(this));var t=this._map&&this._map.set(e,n);return this.__ownerID||t===this._map?this:Vt(this,t)},wt.prototype.remove=function(e){if(!this.has(e))return this;var n=this._map&&this._map.remove(e);return this.__ownerID||n===this._map?this:Vt(this,n)},wt.prototype.wasAltered=function(){return this._map.wasAltered()},wt.prototype.__iterator=function(e,n){var t=this;return r(this._defaultValues).map((function(e,n){return t.get(n)})).__iterator(e,n)},wt.prototype.__iterate=function(e,n){var t=this;return r(this._defaultValues).map((function(e,n){return t.get(n)})).__iterate(e,n)},wt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._map&&this._map.__ensureOwner(e);return e?Vt(this,n,e):(this.__ownerID=e,this._map=n,this)};var bt=wt.prototype;function Vt(e,n,t){var r=Object.create(Object.getPrototypeOf(e));return r._map=n,r.__ownerID=t,r}function Ct(e){return e._name||e.constructor.name||"Record"}function Et(e,n){try{n.forEach(Dt.bind(void 0,e))}catch(t){}}function Dt(e,n){Object.defineProperty(e,n,{get:function(){return this.get(n)},set:function(e){xe(this.__ownerID,"Cannot set on an immutable record."),this.set(n,e)}})}function Ft(e){return null===e||void 0===e?kt():Tt(e)&&!c(e)?e:kt().withMutations((function(n){var t=i(e);ze(t.size),t.forEach((function(e){return n.add(e)}))}))}function Tt(e){return!(!e||!e[Rt])}bt[p]=bt.remove,bt.deleteIn=bt.removeIn=qe.removeIn,bt.merge=qe.merge,bt.mergeWith=qe.mergeWith,bt.mergeIn=qe.mergeIn,bt.mergeDeep=qe.mergeDeep,bt.mergeDeepWith=qe.mergeDeepWith,bt.mergeDeepIn=qe.mergeDeepIn,bt.setIn=qe.setIn,bt.update=qe.update,bt.updateIn=qe.updateIn,bt.withMutations=qe.withMutations,bt.asMutable=qe.asMutable,bt.asImmutable=qe.asImmutable,n(Ft,Ve),Ft.of=function(){return this(arguments)},Ft.fromKeys=function(e){return this(r(e).keySeq())},Ft.prototype.toString=function(){return this.__toString("Set {","}")},Ft.prototype.has=function(e){return this._map.has(e)},Ft.prototype.add=function(e){return Mt(this,this._map.set(e,!0))},Ft.prototype.remove=function(e){return Mt(this,this._map.remove(e))},Ft.prototype.clear=function(){return Mt(this,this._map.clear())},Ft.prototype.union=function(){var n=e.call(arguments,0);return 0===(n=n.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(e){for(var t=0;t<n.length;t++)i(n[t]).forEach((function(n){return e.add(n)}))})):this.constructor(n[0])},Ft.prototype.intersect=function(){var n=e.call(arguments,0);if(0===n.length)return this;n=n.map((function(e){return i(e)}));var t=this;return this.withMutations((function(e){t.forEach((function(t){n.every((function(e){return e.includes(t)}))||e.remove(t)}))}))},Ft.prototype.subtract=function(){var n=e.call(arguments,0);if(0===n.length)return this;n=n.map((function(e){return i(e)}));var t=this;return this.withMutations((function(e){t.forEach((function(t){n.some((function(e){return e.includes(t)}))&&e.remove(t)}))}))},Ft.prototype.merge=function(){return this.union.apply(this,arguments)},Ft.prototype.mergeWith=function(n){var t=e.call(arguments,1);return this.union.apply(this,t)},Ft.prototype.sort=function(e){return It(dt(this,e))},Ft.prototype.sortBy=function(e,n){return It(dt(this,n,e))},Ft.prototype.wasAltered=function(){return this._map.wasAltered()},Ft.prototype.__iterate=function(e,n){var t=this;return this._map.__iterate((function(n,r){return e(r,r,t)}),n)},Ft.prototype.__iterator=function(e,n){return this._map.map((function(e,n){return n})).__iterator(e,n)},Ft.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._map.__ensureOwner(e);return e?this.__make(n,e):(this.__ownerID=e,this._map=n,this)},Ft.isSet=Tt;var Pt,Rt="@@__IMMUTABLE_SET__@@",Lt=Ft.prototype;function Mt(e,n){return e.__ownerID?(e.size=n.size,e._map=n,e):n===e._map?e:0===n.size?e.__empty():e.__make(n)}function Bt(e,n){var t=Object.create(Lt);return t.size=e?e.size:0,t._map=e,t.__ownerID=n,t}function kt(){return Pt||(Pt=Bt(an()))}function It(e){return null===e||void 0===e?Gt():Ot(e)?e:Gt().withMutations((function(n){var t=i(e);ze(t.size),t.forEach((function(e){return n.add(e)}))}))}function Ot(e){return Tt(e)&&c(e)}Lt[Rt]=!0,Lt[p]=Lt.remove,Lt.mergeDeep=Lt.merge,Lt.mergeDeepWith=Lt.mergeWith,Lt.withMutations=qe.withMutations,Lt.asMutable=qe.asMutable,Lt.asImmutable=qe.asImmutable,Lt.__empty=kt,Lt.__make=Bt,n(It,Ft),It.of=function(){return this(arguments)},It.fromKeys=function(e){return this(r(e).keySeq())},It.prototype.toString=function(){return this.__toString("OrderedSet {","}")},It.isOrderedSet=Ot;var Nt,jt=It.prototype;function Ut(e,n){var t=Object.create(jt);return t.size=e?e.size:0,t._map=e,t.__ownerID=n,t}function Gt(){return Nt||(Nt=Ut(Xn()))}function zt(e){return null===e||void 0===e?Yt():Ht(e)?e:Yt().unshiftAll(e)}function Ht(e){return!(!e||!e[Xt])}jt[h]=!0,jt.__empty=Gt,jt.__make=Ut,n(zt,be),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("Stack [","]")},zt.prototype.get=function(e,n){var t=this._head;for(e=E(this,e);t&&e--;)t=t.next;return t?t.value:n},zt.prototype.peek=function(){return this._head&&this._head.value},zt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,t=arguments.length-1;t>=0;t--)n={value:arguments[t],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):qt(e,n)},zt.prototype.pushAll=function(e){if(0===(e=a(e)).size)return this;ze(e.size);var n=this.size,t=this._head;return e.reverse().forEach((function(e){n++,t={value:e,next:t}})),this.__ownerID?(this.size=n,this._head=t,this.__hash=void 0,this.__altered=!0,this):qt(n,t)},zt.prototype.pop=function(){return this.slice(1)},zt.prototype.unshift=function(){return this.push.apply(this,arguments)},zt.prototype.unshiftAll=function(e){return this.pushAll(e)},zt.prototype.shift=function(){return this.pop.apply(this,arguments)},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yt()},zt.prototype.slice=function(e,n){if(F(e,n,this.size))return this;var t=T(e,this.size);if(P(n,this.size)!==this.size)return be.prototype.slice.call(this,e,n);for(var r=this.size-t,a=this._head;t--;)a=a.next;return this.__ownerID?(this.size=r,this._head=a,this.__hash=void 0,this.__altered=!0,this):qt(r,a)},zt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?qt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},zt.prototype.__iterate=function(e,n){if(n)return this.reverse().__iterate(e);for(var t=0,r=this._head;r&&!1!==e(r.value,t++,this);)r=r.next;return t},zt.prototype.__iterator=function(e,n){if(n)return this.reverse().__iterator(e);var t=0,r=this._head;return new N((function(){if(r){var n=r.value;return r=r.next,j(e,t++,n)}return U()}))},zt.isStack=Ht;var Wt,Xt="@@__IMMUTABLE_STACK__@@",Kt=zt.prototype;function qt(e,n,t,r){var a=Object.create(Kt);return a.size=e,a._head=n,a.__ownerID=t,a.__hash=r,a.__altered=!1,a}function Yt(){return Wt||(Wt=qt(0))}function Qt(e,n){var t=function(t){e.prototype[t]=n[t]};return Object.keys(n).forEach(t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(t),e}Kt[Xt]=!0,Kt.withMutations=qe.withMutations,Kt.asMutable=qe.asMutable,Kt.asImmutable=qe.asImmutable,Kt.wasAltered=qe.wasAltered,t.Iterator=N,Qt(t,{toArray:function(){ze(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(n,t){e[t]=n})),e},toIndexedSeq:function(){return new Yn(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new qn(this,!0)},toMap:function(){return He(this.toKeyedSeq())},toObject:function(){ze(this.size);var e={};return this.__iterate((function(n,t){e[t]=n})),e},toOrderedMap:function(){return zn(this.toKeyedSeq())},toOrderedSet:function(){return It(s(this)?this.valueSeq():this)},toSet:function(){return Ft(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Qn(this)},toSeq:function(){return l(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return zt(s(this)?this.valueSeq():this)},toList:function(){return Vn(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,n){return 0===this.size?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){return pt(this,st(this,e.call(arguments,0)))},includes:function(e){return this.some((function(n){return Se(n,e)}))},entries:function(){return this.__iterator(B)},every:function(e,n){ze(this.size);var t=!0;return this.__iterate((function(r,a,i){if(!e.call(n,r,a,i))return t=!1,!1})),t},filter:function(e,n){return pt(this,nt(this,e,n,!0))},find:function(e,n,t){var r=this.findEntry(e,n);return r?r[1]:t},findEntry:function(e,n){var t;return this.__iterate((function(r,a,i){if(e.call(n,r,a,i))return t=[a,r],!1})),t},findLastEntry:function(e,n){return this.toSeq().reverse().findEntry(e,n)},forEach:function(e,n){return ze(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){ze(this.size),e=void 0!==e?""+e:",";var n="",t=!0;return this.__iterate((function(r){t?t=!1:n+=e,n+=null!==r&&void 0!==r?r.toString():""})),n},keys:function(){return this.__iterator(L)},map:function(e,n){return pt(this,$n(this,e,n))},reduce:function(e,n,t){var r,a;return ze(this.size),arguments.length<2?a=!0:r=n,this.__iterate((function(n,i,o){a?(a=!1,r=n):r=e.call(t,r,n,i,o)})),r},reduceRight:function(e,n,t){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return pt(this,et(this,!0))},slice:function(e,n){return pt(this,at(this,e,n,!0))},some:function(e,n){return!this.every(nr(e),n)},sort:function(e){return pt(this,dt(this,e))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,n){return C(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return tt(this,e,n)},equals:function(e){return ge(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ne(e._cache);var n=e.toSeq().map(er).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(nr(e),n)},findLast:function(e,n,t){return this.toKeyedSeq().reverse().find(e,n,t)},first:function(){return this.find(D)},flatMap:function(e,n){return pt(this,ut(this,e,n))},flatten:function(e){return pt(this,lt(this,e,!0))},fromEntrySeq:function(){return new Jn(this)},get:function(e,n){return this.find((function(n,t){return Se(t,e)}),void 0,n)},getIn:function(e,n){for(var t,r=this,a=yt(e);!(t=a.next()).done;){var i=t.value;if((r=r&&r.get?r.get(i,v):v)===v)return n}return r},groupBy:function(e,n){return rt(this,e,n)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"===typeof e.includes?e:t(e),this.every((function(n){return e.includes(n)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:t(e)).isSubset(this)},keySeq:function(){return this.toSeq().map($t).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return At(this,e)},maxBy:function(e,n){return At(this,n,e)},min:function(e){return At(this,e?tr(e):ir)},minBy:function(e,n){return At(this,n?tr(n):ir,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return pt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,n){return pt(this,ot(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(nr(e),n)},sortBy:function(e,n){return pt(this,dt(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return pt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,n){return pt(this,it(this,e,n))},takeUntil:function(e,n){return this.takeWhile(nr(e),n)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=or(this))}});var Jt=t.prototype;Jt[d]=!0,Jt[O]=Jt.values,Jt.__toJS=Jt.toArray,Jt.__toStringMapper=rr,Jt.inspect=Jt.toSource=function(){return this.toString()},Jt.chain=Jt.flatMap,Jt.contains=Jt.includes,function(){try{Object.defineProperty(Jt,"length",{get:function(){if(!t.noLengthWarning){var e;try{throw new Error}catch(n){e=n.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Qt(r,{flip:function(){return pt(this,Zn(this))},findKey:function(e,n){var t=this.findEntry(e,n);return t&&t[0]},findLastKey:function(e,n){return this.toSeq().reverse().findKey(e,n)},keyOf:function(e){return this.findKey((function(n){return Se(n,e)}))},lastKeyOf:function(e){return this.findLastKey((function(n){return Se(n,e)}))},mapEntries:function(e,n){var t=this,r=0;return pt(this,this.toSeq().map((function(a,i){return e.call(n,[i,a],r++,t)})).fromEntrySeq())},mapKeys:function(e,n){var t=this;return pt(this,this.toSeq().flip().map((function(r,a){return e.call(n,r,a,t)})).flip())}});var Zt=r.prototype;function $t(e,n){return n}function er(e,n){return[n,e]}function nr(e){return function(){return!e.apply(this,arguments)}}function tr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"===typeof e?JSON.stringify(e):e}function ar(){return V(arguments)}function ir(e,n){return e<n?1:e>n?-1:0}function or(e){if(e.size===1/0)return 0;var n=c(e),t=s(e),r=n?1:0;return sr(e.__iterate(t?n?function(e,n){r=31*r+lr(De(e),De(n))|0}:function(e,n){r=r+lr(De(e),De(n))|0}:n?function(e){r=31*r+De(e)|0}:function(e){r=r+De(e)|0}),r)}function sr(e,n){return n=Ce(n,3432918353),n=Ce(n<<15|n>>>-15,461845907),n=Ce(n<<13|n>>>-13,5),n=Ce((n=(n+3864292196|0)^e)^n>>>16,2246822507),n=Ee((n=Ce(n^n>>>13,3266489909))^n>>>16)}function lr(e,n){return e^n+2654435769+(e<<6)+(e>>2)|0}return Zt[A]=!0,Zt[O]=Jt.entries,Zt.__toJS=Jt.toObject,Zt.__toStringMapper=function(e,n){return JSON.stringify(n)+": "+rr(e)},Qt(a,{toKeyedSeq:function(){return new qn(this,!1)},filter:function(e,n){return pt(this,nt(this,e,n,!1))},findIndex:function(e,n){var t=this.findEntry(e,n);return t?t[0]:-1},indexOf:function(e){var n=this.toKeyedSeq().keyOf(e);return void 0===n?-1:n},lastIndexOf:function(e){var n=this.toKeyedSeq().reverse().keyOf(e);return void 0===n?-1:n},reverse:function(){return pt(this,et(this,!1))},slice:function(e,n){return pt(this,at(this,e,n,!1))},splice:function(e,n){var t=arguments.length;if(n=Math.max(0|n,0),0===t||2===t&&!n)return this;e=T(e,e<0?this.count():this.size);var r=this.slice(0,e);return pt(this,1===t?r:r.concat(V(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var t=this.toKeyedSeq().findLastKey(e,n);return void 0===t?-1:t},first:function(){return this.get(0)},flatten:function(e){return pt(this,lt(this,e,!1))},get:function(e,n){return(e=E(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?n:this.find((function(n,t){return t===e}),void 0,n)},has:function(e){return(e=E(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return pt(this,ct(this,e))},interleave:function(){var e=[this].concat(V(arguments)),n=ht(this.toSeq(),Y.of,e),t=n.flatten(!0);return n.size&&(t.size=n.size*e.length),pt(this,t)},last:function(){return this.get(-1)},skipWhile:function(e,n){return pt(this,ot(this,e,n,!1))},zip:function(){return pt(this,ht(this,ar,[this].concat(V(arguments))))},zipWith:function(e){var n=V(arguments);return n[0]=this,pt(this,ht(this,e,n))}}),a.prototype[f]=!0,a.prototype[h]=!0,Qt(i,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Jt.includes,Qt(q,r.prototype),Qt(Y,a.prototype),Qt(Q,i.prototype),Qt(we,r.prototype),Qt(be,a.prototype),Qt(Ve,i.prototype),{Iterable:t,Seq:K,Collection:ye,Map:He,OrderedMap:zn,List:Vn,Stack:zt,Set:Ft,OrderedSet:It,Record:wt,Range:_e,Repeat:ve,is:Se,fromJS:fe}}()},658:function(e,n,t){e.exports=function e(n,t,r){function a(o,s){if(!t[o]){if(!n[o]){if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[o]={exports:{}};n[o][0].call(u.exports,(function(e){return a(n[o][1][e]||e)}),u,u.exports,e,n,t,r)}return t[o].exports}for(var i=void 0,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,n,t){"use strict";var r=e("./utils"),a=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var n,t,a,o,s,l,u,c=[],d=0,A=e.length,f=A,h="string"!==r.getTypeOf(e);d<e.length;)f=A-d,a=h?(n=e[d++],t=d<A?e[d++]:0,d<A?e[d++]:0):(n=e.charCodeAt(d++),t=d<A?e.charCodeAt(d++):0,d<A?e.charCodeAt(d++):0),o=n>>2,s=(3&n)<<4|t>>4,l=1<f?(15&t)<<2|a>>6:64,u=2<f?63&a:64,c.push(i.charAt(o)+i.charAt(s)+i.charAt(l)+i.charAt(u));return c.join("")},t.decode=function(e){var n,t,r,o,s,l,u=0,c=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var A,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&f--,e.charAt(e.length-2)===i.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=a.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)n=i.indexOf(e.charAt(u++))<<2|(o=i.indexOf(e.charAt(u++)))>>4,t=(15&o)<<4|(s=i.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(l=i.indexOf(e.charAt(u++))),A[c++]=n,64!==s&&(A[c++]=t),64!==l&&(A[c++]=r);return A}},{"./support":30,"./utils":32}],2:[function(e,n,t){"use strict";var r=e("./external"),a=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,n,t,r,a){this.compressedSize=e,this.uncompressedSize=n,this.crc32=t,this.compression=r,this.compressedContent=a}s.prototype={getContentWorker:function(){var e=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),n=this;return e.on("end",(function(){if(this.streamInfo.data_length!==n.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,n,t){return e.pipe(new i).pipe(new o("uncompressedSize")).pipe(n.compressWorker(t)).pipe(new o("compressedSize")).withStreamInfo("compression",n)},n.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,n,t){"use strict";var r=e("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,n,t){"use strict";var r=e("./utils"),a=function(){for(var e,n=[],t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;n[t]=e}return n}();n.exports=function(e,n){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,n,t,r){var i=a,o=r+t;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[255&(e^n[s])];return-1^e}(0|n,e,e.length,0):function(e,n,t,r){var i=a,o=r+t;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[255&(e^n.charCodeAt(s))];return-1^e}(0|n,e,e.length,0):0}},{"./utils":32}],5:[function(e,n,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(e,n,t){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),n.exports={Promise:r}},{lie:37}],7:[function(e,n,t){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("pako"),i=e("./utils"),o=e("./stream/GenericWorker"),s=r?"uint8array":"array";function l(e,n){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=n,this.meta={}}t.magic="\b\0",i.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(n){e.push({data:n,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,n,t){"use strict";function r(e,n){var t,r="";for(t=0;t<n;t++)r+=String.fromCharCode(255&e),e>>>=8;return r}function a(e,n,t,a,o,c){var d,A,f=e.file,h=e.compression,p=c!==s.utf8encode,m=i.transformTo("string",c(f.name)),S=i.transformTo("string",s.utf8encode(f.name)),g=f.comment,v=i.transformTo("string",c(g)),x=i.transformTo("string",s.utf8encode(g)),_=S.length!==f.name.length,y=x.length!==g.length,w="",b="",V="",C=f.dir,E=f.date,D={crc32:0,compressedSize:0,uncompressedSize:0};n&&!t||(D.crc32=e.crc32,D.compressedSize=e.compressedSize,D.uncompressedSize=e.uncompressedSize);var F=0;n&&(F|=8),p||!_&&!y||(F|=2048);var T=0,P=0;C&&(T|=16),"UNIX"===o?(P=798,T|=function(e,n){var t=e;return e||(t=n?16893:33204),(65535&t)<<16}(f.unixPermissions,C)):(P=20,T|=function(e){return 63&(e||0)}(f.dosPermissions)),d=E.getUTCHours(),d<<=6,d|=E.getUTCMinutes(),d<<=5,d|=E.getUTCSeconds()/2,A=E.getUTCFullYear()-1980,A<<=4,A|=E.getUTCMonth()+1,A<<=5,A|=E.getUTCDate(),_&&(b=r(1,1)+r(l(m),4)+S,w+="up"+r(b.length,2)+b),y&&(V=r(1,1)+r(l(v),4)+x,w+="uc"+r(V.length,2)+V);var R="";return R+="\n\0",R+=r(F,2),R+=h.magic,R+=r(d,2),R+=r(A,2),R+=r(D.crc32,4),R+=r(D.compressedSize,4),R+=r(D.uncompressedSize,4),R+=r(m.length,2),R+=r(w.length,2),{fileRecord:u.LOCAL_FILE_HEADER+R+m+w,dirRecord:u.CENTRAL_FILE_HEADER+r(P,2)+R+r(v.length,2)+"\0\0\0\0"+r(T,4)+r(a,4)+m+w+v}}var i=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,n,t,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=n,this.zipPlatform=t,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(c,o),c.prototype.push=function(e){var n=e.meta.percent||0,t=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:t?(n+100*(t-r-1))/t:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var n=this.streamFiles&&!e.file.dir;if(n){var t=a(e,n,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:t.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var n=this.streamFiles&&!e.file.dir,t=a(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(t.dirRecord),n)this.push({data:function(e){return u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:t.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,n=0;n<this.dirRecords.length;n++)this.push({data:this.dirRecords[n],meta:{percent:100}});var t=this.bytesWritten-e,a=function(e,n,t,a,o){var s=i.transformTo("string",o(a));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(n,4)+r(t,4)+r(s.length,2)+s}(this.dirRecords.length,t,e,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var n=this;return e.on("data",(function(e){n.processChunk(e)})),e.on("end",(function(){n.closedSource(n.previous.streamInfo),n._sources.length?n.prepareNextSource():n.end()})),e.on("error",(function(e){n.error(e)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var n=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var t=0;t<n.length;t++)try{n[t].error(e)}catch(e){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,n=0;n<e.length;n++)e[n].lock()},n.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,n,t){"use strict";var r=e("../compressions"),a=e("./ZipFileWorker");t.generateWorker=function(e,n,t){var i=new a(n.streamFiles,t,n.platform,n.encodeFileName),o=0;try{e.forEach((function(e,t){o++;var a=function(e,n){var t=e||n,a=r[t];if(!a)throw new Error(t+" is not a valid compression method !");return a}(t.options.compression,n.compression),s=t.options.compressionOptions||n.compressionOptions||{},l=t.dir,u=t.date;t._compressWorker(a,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(i)})),i.entriesCount=o}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,n,t){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var n in this)"function"!=typeof this[n]&&(e[n]=this[n]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,n){return(new r).loadAsync(e,n)},r.external=e("./external"),n.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,n,t){"use strict";var r=e("./utils"),a=e("./external"),i=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new a.Promise((function(n,t){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){t(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?t(new Error("Corrupted zip : CRC32 mismatch")):n()})).resume()}))}n.exports=function(e,n){var t=this;return n=r.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),l.isNode&&l.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,n.optimizedBinaryString,n.base64).then((function(e){var t=new o(n);return t.load(e),t})).then((function(e){var t=[a.Promise.resolve(e)],r=e.files;if(n.checkCRC32)for(var i=0;i<r.length;i++)t.push(u(r[i]));return a.Promise.all(t)})).then((function(e){for(var a=e.shift(),i=a.files,o=0;o<i.length;o++){var s=i[o],l=s.fileNameStr,u=r.resolve(s.fileNameStr);t.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:n.createFolders}),s.dir||(t.file(u).unsafeOriginalName=l)}return a.zipComment.length&&(t.comment=a.zipComment),t}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,n,t){"use strict";var r=e("../utils"),a=e("../stream/GenericWorker");function i(e,n){a.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(n)}r.inherits(i,a),i.prototype._bindStream=function(e){var n=this;(this._stream=e).pause(),e.on("data",(function(e){n.push({data:e,meta:{percent:0}})})).on("error",(function(e){n.isPaused?this.generatedError=e:n.error(e)})).on("end",(function(){n.isPaused?n._upstreamEnded=!0:n.end()}))},i.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,n,t){"use strict";var r=e("readable-stream").Readable;function a(e,n,t){r.call(this,n),this._helper=e;var a=this;e.on("data",(function(e,n){a.push(e)||a._helper.pause(),t&&t(n)})).on("error",(function(e){a.emit("error",e)})).on("end",(function(){a.push(null)}))}e("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,n,t){"use strict";n.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,n);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,n)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var n=new Buffer(e);return n.fill(0),n},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,n,t){"use strict";function r(e,n,t){var r,a=i.getTypeOf(n),s=i.extend(t||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=p(e)),s.createFolders&&(r=h(e))&&m.call(this,r,!0);var d="string"===a&&!1===s.binary&&!1===s.base64;t&&void 0!==t.binary||(s.binary=!d),(n instanceof u&&0===n.uncompressedSize||s.dir||!n||0===n.length)&&(s.base64=!1,s.binary=!0,n="",s.compression="STORE",a="string");var S=null;S=n instanceof u||n instanceof o?n:A.isNode&&A.isStream(n)?new f(e,n):i.prepareContent(e,n,s.binary,s.optimizedBinaryString,s.base64);var g=new c(e,S,s);this.files[e]=g}var a=e("./utf8"),i=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),A=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var n=e.lastIndexOf("/");return 0<n?e.substring(0,n):""},p=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,n){return n=void 0!==n?n:l.createFolders,e=p(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:n}),this.files[e]};function S(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var n,t,r;for(n in this.files)r=this.files[n],(t=n.slice(this.root.length,n.length))&&n.slice(0,this.root.length)===this.root&&e(t,r)},filter:function(e){var n=[];return this.forEach((function(t,r){e(t,r)&&n.push(r)})),n},file:function(e,n,t){if(1!==arguments.length)return e=this.root+e,r.call(this,e,n,t),this;if(S(e)){var a=e;return this.filter((function(e,n){return!n.dir&&a.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(e){if(!e)return this;if(S(e))return this.filter((function(n,t){return t.dir&&e.test(n)}));var n=this.root+e,t=m.call(this,n),r=this.clone();return r.root=t.name,r},remove:function(e){e=this.root+e;var n=this.files[e];if(n||("/"!==e.slice(-1)&&(e+="/"),n=this.files[e]),n&&!n.dir)delete this.files[e];else for(var t=this.filter((function(n,t){return t.name.slice(0,e.length)===e})),r=0;r<t.length;r++)delete this.files[t[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var n,t={};try{if((t=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=t.type.toLowerCase(),t.compression=t.compression.toUpperCase(),"binarystring"===t.type&&(t.type="string"),!t.type)throw new Error("No output type specified.");i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var r=t.comment||this.comment||"";n=d.generateWorker(this,t,r)}catch(e){(n=new o("error")).error(e)}return new s(n,t.type||"string",t.mimeType)},generateAsync:function(e,n){return this.generateInternalStream(e).accumulate(n)},generateNodeStream:function(e,n){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(n)}};n.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,n,t){"use strict";n.exports=e("stream")},{stream:void 0}],17:[function(e,n,t){"use strict";var r=e("./DataReader");function a(e){r.call(this,e);for(var n=0;n<this.data.length;n++)e[n]=255&e[n]}e("../utils").inherits(a,r),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var n=e.charCodeAt(0),t=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===n&&this.data[i+1]===t&&this.data[i+2]===r&&this.data[i+3]===a)return i-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var n=e.charCodeAt(0),t=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.readData(4);return n===i[0]&&t===i[1]&&r===i[2]&&a===i[3]},a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,n,t){"use strict";var r=e("../utils");function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var n,t=0;for(this.checkOffset(e),n=this.index+e-1;n>=this.index;n--)t=(t<<8)+this.byteAt(n);return this.index+=e,t},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},n.exports=a},{"../utils":32}],19:[function(e,n,t){"use strict";var r=e("./Uint8ArrayReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.readData=function(e){this.checkOffset(e);var n=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,n,t){"use strict";var r=e("./DataReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var n=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,n,t){"use strict";var r=e("./ArrayReader");function a(e){r.call(this,e)}e("../utils").inherits(a,r),a.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,n,t){"use strict";var r=e("../utils"),a=e("../support"),i=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");n.exports=function(e){var n=r.getTypeOf(e);return r.checkSupport(n),"string"!==n||a.uint8array?"nodebuffer"===n?new s(e):a.uint8array?new l(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,n,t){"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,n,t){"use strict";var r=e("./GenericWorker"),a=e("../utils");function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}a.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},n.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,n,t){"use strict";var r=e("./GenericWorker"),a=e("../crc32");function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},n.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,n,t){"use strict";var r=e("../utils"),a=e("./GenericWorker");function i(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(i,a),i.prototype.processChunk=function(e){if(e){var n=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=n+e.data.length}a.prototype.processChunk.call(this,e)},n.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,n,t){"use strict";var r=e("../utils"),a=e("./GenericWorker");function i(e){a.call(this,"DataWorker");var n=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){n.dataIsReady=!0,n.data=e,n.max=e&&e.length||0,n.type=r.getTypeOf(e),n.isPaused||n._tickAndRepeat()}),(function(e){n.error(e)}))}r.inherits(i,a),i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,n=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,n);break;case"uint8array":e=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":e=this.data.slice(this.index,n)}return this.index=n,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,n,t){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,n){return this._listeners[e].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,n){if(this._listeners[e])for(var t=0;t<this._listeners[e].length;t++)this._listeners[e][t].call(this,n)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var n=this;return e.on("data",(function(e){n.processChunk(e)})),e.on("end",(function(){n.end()})),e.on("error",(function(e){n.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,n){return this.extraStreamInfo[e]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},n.exports=r},{}],29:[function(e,n,t){"use strict";var r=e("../utils"),a=e("./ConvertWorker"),i=e("./GenericWorker"),o=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,n){return new l.Promise((function(t,a){var i=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,t){i.push(e),n&&n(t)})).on("error",(function(e){i=[],a(e)})).on("end",(function(){try{var e=function(e,n,t){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",n),t);case"base64":return o.encode(n);default:return r.transformTo(e,n)}}(l,function(e,n){var t,r=0,a=null,i=0;for(t=0;t<n.length;t++)i+=n[t].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(a=new Uint8Array(i),t=0;t<n.length;t++)a.set(n[t],r),r+=n[t].length;return a;case"nodebuffer":return Buffer.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,i),u);t(e)}catch(e){a(e)}i=[]})).resume()}))}function d(e,n,t){var o=n;switch(n){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=n,this._mimeType=t,r.checkSupport(o),this._worker=e.pipe(new a(o)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return c(this,e)},on:function(e,n){var t=this;return"data"===e?this._worker.on(e,(function(e){n.call(t,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(n,arguments,t)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),t.blob=0===a.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!e("readable-stream").Readable}catch(e){t.nodestream=!1}},{"readable-stream":16}],31:[function(e,n,t){"use strict";for(var r=e("./utils"),a=e("./support"),i=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,t.utf8encode=function(e){return a.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var n,t,r,i,o,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(t=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(t=65536+(t-55296<<10)+(r-56320),i++),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=a.uint8array?new Uint8Array(l):new Array(l),i=o=0;o<l;i++)55296==(64512&(t=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(t=65536+(t-55296<<10)+(r-56320),i++),t<128?n[o++]=t:(t<2048?n[o++]=192|t>>>6:(t<65536?n[o++]=224|t>>>12:(n[o++]=240|t>>>18,n[o++]=128|t>>>12&63),n[o++]=128|t>>>6&63),n[o++]=128|63&t);return n}(e)},t.utf8decode=function(e){return a.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var n,t,a,i,o=e.length,l=new Array(2*o);for(n=t=0;n<o;)if((a=e[n++])<128)l[t++]=a;else if(4<(i=s[a]))l[t++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;1<i&&n<o;)a=a<<6|63&e[n++],i--;1<i?l[t++]=65533:a<65536?l[t++]=a:(a-=65536,l[t++]=55296|a>>10&1023,l[t++]=56320|1023&a)}return l.length!==t&&(l.subarray?l=l.subarray(0,t):l.length=t),r.applyFromCharCode(l)}(e=r.transformTo(a.uint8array?"uint8array":"array",e))},r.inherits(u,o),u.prototype.processChunk=function(e){var n=r.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=n;(n=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var o=function(e,n){var t;for((n=n||e.length)>e.length&&(n=e.length),t=n-1;0<=t&&128==(192&e[t]);)t--;return t<0||0===t?n:t+s[e[t]]>n?t:n}(n),l=n;o!==n.length&&(a.uint8array?(l=n.subarray(0,o),this.leftOver=n.subarray(o,n.length)):(l=n.slice(0,o),this.leftOver=n.slice(o,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=u,r.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,n,t){"use strict";var r=e("./support"),a=e("./base64"),i=e("./nodejsUtils"),o=e("./external");function s(e){return e}function l(e,n){for(var t=0;t<e.length;++t)n[t]=255&e.charCodeAt(t);return n}e("setimmediate"),t.newBlob=function(n,r){t.checkSupport("blob");try{return new Blob([n],{type:r})}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(n),a.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,n,t){var r=[],a=0,i=e.length;if(i<=t)return String.fromCharCode.apply(null,e);for(;a<i;)"array"===n||"nodebuffer"===n?r.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+t,i)))):r.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+t,i)))),a+=t;return r.join("")},stringifyByChar:function(e){for(var n="",t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var n=65536,r=t.getTypeOf(e),a=!0;if("uint8array"===r?a=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(a=u.applyCanBeUsed.nodebuffer),a)for(;1<n;)try{return u.stringifyByChunk(e,r,n)}catch(e){n=Math.floor(n/2)}return u.stringifyByChar(e)}function d(e,n){for(var t=0;t<e.length;t++)n[t]=e[t];return n}t.applyFromCharCode=c;var A={};A.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return A.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,i.allocBuffer(e.length))}},A.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},A.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},A.uint8array={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return i.newBufferFrom(e)}},A.nodebuffer={string:c,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return A.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},t.transformTo=function(e,n){if(n=n||"",!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return A[r][e](n)},t.resolve=function(e){for(var n=e.split("/"),t=[],r=0;r<n.length;r++){var a=n[r];"."===a||""===a&&0!==r&&r!==n.length-1||(".."===a?t.pop():t.push(a))}return t.join("/")},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&i.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var n,t,r="";for(t=0;t<(e||"").length;t++)r+="\\x"+((n=e.charCodeAt(t))<16?"0":"")+n.toString(16).toUpperCase();return r},t.delay=function(e,n,t){setImmediate((function(){e.apply(t||null,n||[])}))},t.inherits=function(e,n){function t(){}t.prototype=n.prototype,e.prototype=new t},t.extend=function(){var e,n,t={};for(e=0;e<arguments.length;e++)for(n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&void 0===t[n]&&(t[n]=arguments[e][n]);return t},t.prepareContent=function(e,n,i,s,u){return o.Promise.resolve(n).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(n,t){var r=new FileReader;r.onload=function(e){n(e.target.result)},r.onerror=function(e){t(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(n){var c=t.getTypeOf(n);return c?("arraybuffer"===c?n=t.transformTo("uint8array",n):"string"===c&&(u?n=a.decode(n):i&&!0!==s&&(n=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(n))),n):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,n,t){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),i=e("./signature"),o=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var n=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(n)+", expected "+a.pretty(e)+")")}},isSignature:function(e,n){var t=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===n;return this.reader.setIndex(t),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),n=s.uint8array?"uint8array":"array",t=a.transformTo(n,e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,n,t,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),n=this.reader.readInt(4),t=this.reader.readData(n),this.zip64ExtensibleData[e]={id:e,length:n,value:t}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,n;for(e=0;e<this.files.length;e++)n=this.files[e],this.reader.setIndex(n.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var n=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var t=this.centralDirOffset+this.centralDirSize;this.zip64&&(t+=20,t+=12+this.zip64EndOfCentralSize);var r=n-t;if(0<r)this.isSignature(n,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,n,t){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),i=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,n){this.options=e,this.loadOptions=n}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var n,t;if(e.skip(22),this.fileNameLength=e.readInt(2),t=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(t),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(n=function(e){for(var n in l)if(Object.prototype.hasOwnProperty.call(l,n)&&l[n].magic===e)return l[n];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,n,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var n=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(n),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var n,t,r,a=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<a;)n=e.readInt(2),t=e.readInt(2),r=e.readData(t),this.extraFields[n]={id:n,length:t,value:r};e.setIndex(a)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var n=this.findExtraFieldUnicodePath();if(null!==n)this.fileNameStr=n;else{var t=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(t)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var n=r(e.value);return 1!==n.readInt(1)||o(this.fileName)!==n.readInt(4)?null:s.utf8decode(n.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var n=r(e.value);return 1!==n.readInt(1)||o(this.fileComment)!==n.readInt(4)?null:s.utf8decode(n.readData(e.length-5))}return null}},n.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,n,t){"use strict";function r(e,n,t){this.name=e,this.dir=t.dir,this.date=t.date,this.comment=t.comment,this.unixPermissions=t.unixPermissions,this.dosPermissions=t.dosPermissions,this._data=n,this._dataBinary=t.binary,this.options={compression:t.compression,compressionOptions:t.compressionOptions}}var a=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var n=null,t="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(t=e.toLowerCase())||"text"===t;"binarystring"!==t&&"text"!==t||(t="string"),n=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(n=n.pipe(new o.Utf8EncodeWorker)),!i&&r&&(n=n.pipe(new o.Utf8DecodeWorker))}catch(e){(n=new l("error")).error(e)}return new a(n,t,"")},async:function(e,n){return this.internalStream(e).accumulate(n)},nodeStream:function(e,n){return this.internalStream(e||"nodebuffer").toNodejsStream(n)},_compressWorker:function(e,n){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var t=this._decompressWorker();return this._dataBinary||(t=t.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(t,e,n)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)r.prototype[u[d]]=c;n.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,n,r){(function(e){"use strict";var t,r,a=e.MutationObserver||e.WebKitMutationObserver;if(a){var i=0,o=new a(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),t=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){c(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,t=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,n;r=!0;for(var t=u.length;t;){for(n=u,u=[],e=-1;++e<t;)n[e]();t=u.length}r=!1}n.exports=function(e){1!==u.push(e)||r||t()}}).call(this,"undefined"!=typeof t.g?t.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,n,t){"use strict";var r=e("immediate");function a(){}var i={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==a&&f(this,e)}function c(e,n,t){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function d(e,n,t){r((function(){var r;try{r=n(t)}catch(r){return i.reject(e,r)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function A(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function(){n.apply(e,arguments)}}function f(e,n){var t=!1;function r(n){t||(t=!0,i.reject(e,n))}function a(n){t||(t=!0,i.resolve(e,n))}var o=h((function(){n(a,r)}));"error"===o.status&&r(o.value)}function h(e,n){var t={};try{t.value=e(n),t.status="success"}catch(e){t.status="error",t.value=e}return t}(n.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var n=this.constructor;return this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,n){if("function"!=typeof e&&this.state===s||"function"!=typeof n&&this.state===o)return this;var t=new this.constructor(a);return this.state!==l?d(t,this.state===s?e:n,this.outcome):this.queue.push(new c(t,e,n)),t},c.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){i.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,n){var t=h(A,n);if("error"===t.status)return i.reject(e,t.value);var r=t.value;if(r)f(e,r);else{e.state=s,e.outcome=n;for(var a=-1,o=e.queue.length;++a<o;)e.queue[a].callFulfilled(n)}return e},i.reject=function(e,n){e.state=o,e.outcome=n;for(var t=-1,r=e.queue.length;++t<r;)e.queue[t].callRejected(n);return e},u.resolve=function(e){return e instanceof this?e:i.resolve(new this(a),e)},u.reject=function(e){var n=new this(a);return i.reject(n,e)},u.all=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var o=new Array(t),s=0,l=-1,u=new this(a);++l<t;)c(e[l],l);return u;function c(e,a){n.resolve(e).then((function(e){o[a]=e,++s!==t||r||(r=!0,i.resolve(u,o))}),(function(e){r||(r=!0,i.reject(u,e))}))}},u.race=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var o,s=-1,l=new this(a);++s<t;)o=e[s],n.resolve(o).then((function(e){r||(r=!0,i.resolve(l,e))}),(function(e){r||(r=!0,i.reject(l,e))}));return l}},{immediate:36}],38:[function(e,n,t){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),n.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,n,t){"use strict";var r=e("./zlib/deflate"),a=e("./utils/common"),i=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,d=0,A=8;function f(e){if(!(this instanceof f))return new f(e);this.options=a.assign({level:c,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var n=this.options;n.raw&&0<n.windowBits?n.windowBits=-n.windowBits:n.gzip&&0<n.windowBits&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var t=r.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==u)throw new Error(o[t]);if(n.header&&r.deflateSetHeader(this.strm,n.header),n.dictionary){var h;if(h="string"==typeof n.dictionary?i.string2buf(n.dictionary):"[object ArrayBuffer]"===l.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(t=r.deflateSetDictionary(this.strm,h))!==u)throw new Error(o[t]);this._dict_set=!0}}function h(e,n){var t=new f(n);if(t.push(e,!0),t.err)throw t.msg||o[t.err];return t.result}f.prototype.push=function(e,n){var t,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=n===~~n?n:!0===n?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new a.Buf8(c),s.next_out=0,s.avail_out=c),1!==(t=r.deflate(s,o))&&t!==u)return this.onEnd(t),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(s.output,s.next_out))):this.onData(a.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==t);return 4===o?(t=r.deflateEnd(this.strm),this.onEnd(t),this.ended=!0,t===u):2!==o||(this.onEnd(u),!(s.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=f,t.deflate=h,t.deflateRaw=function(e,n){return(n=n||{}).raw=!0,h(e,n)},t.gzip=function(e,n){return(n=n||{}).gzip=!0,h(e,n)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,n,t){"use strict";var r=e("./zlib/inflate"),a=e("./utils/common"),i=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var n=this.options;n.raw&&0<=n.windowBits&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(0<=n.windowBits&&n.windowBits<16)||e&&e.windowBits||(n.windowBits+=32),15<n.windowBits&&n.windowBits<48&&0==(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var t=r.inflateInit2(this.strm,n.windowBits);if(t!==o.Z_OK)throw new Error(s[t]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function A(e,n){var t=new d(n);if(t.push(e,!0),t.err)throw t.msg||s[t.err];return t.result}d.prototype.push=function(e,n){var t,s,l,u,d,A,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=n===~~n?n:!0===n?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(h),f.next_out=0,f.avail_out=h),(t=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(A="string"==typeof p?i.string2buf(p):"[object ArrayBuffer]"===c.call(p)?new Uint8Array(p):p,t=r.inflateSetDictionary(this.strm,A)),t===o.Z_BUF_ERROR&&!0===m&&(t=o.Z_OK,m=!1),t!==o.Z_STREAM_END&&t!==o.Z_OK)return this.onEnd(t),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&t!==o.Z_STREAM_END&&(0!==f.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(f.output,f.next_out),u=f.next_out-l,d=i.buf2string(f.output,l),f.next_out=u,f.avail_out=h-u,u&&a.arraySet(f.output,f.output,l,u,0),this.onData(d)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&t!==o.Z_STREAM_END);return t===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(t=r.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,t===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=A,t.inflateRaw=function(e,n){return(n=n||{}).raw=!0,A(e,n)},t.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,n,t){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var t=n.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}}return e},t.shrinkBuf=function(e,n){return e.length===n?e:e.subarray?e.subarray(0,n):(e.length=n,e)};var a={arraySet:function(e,n,t,r,a){if(n.subarray&&e.subarray)e.set(n.subarray(t,t+r),a);else for(var i=0;i<r;i++)e[a+i]=n[t+i]},flattenChunks:function(e){var n,t,r,a,i,o;for(n=r=0,t=e.length;n<t;n++)r+=e[n].length;for(o=new Uint8Array(r),n=a=0,t=e.length;n<t;n++)i=e[n],o.set(i,a),a+=i.length;return o}},i={arraySet:function(e,n,t,r,a){for(var i=0;i<r;i++)e[a+i]=n[t+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(r)},{}],42:[function(e,n,t){"use strict";var r=e("./common"),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,n){if(n<65537&&(e.subarray&&i||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,n));for(var t="",o=0;o<n;o++)t+=String.fromCharCode(e[o]);return t}o[254]=o[254]=1,t.string2buf=function(e){var n,t,a,i,o,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(t=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=e.charCodeAt(i+1)))&&(t=65536+(t-55296<<10)+(a-56320),i++),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new r.Buf8(l),i=o=0;o<l;i++)55296==(64512&(t=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(a=e.charCodeAt(i+1)))&&(t=65536+(t-55296<<10)+(a-56320),i++),t<128?n[o++]=t:(t<2048?n[o++]=192|t>>>6:(t<65536?n[o++]=224|t>>>12:(n[o++]=240|t>>>18,n[o++]=128|t>>>12&63),n[o++]=128|t>>>6&63),n[o++]=128|63&t);return n},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var n=new r.Buf8(e.length),t=0,a=n.length;t<a;t++)n[t]=e.charCodeAt(t);return n},t.buf2string=function(e,n){var t,r,a,i,s=n||e.length,u=new Array(2*s);for(t=r=0;t<s;)if((a=e[t++])<128)u[r++]=a;else if(4<(i=o[a]))u[r++]=65533,t+=i-1;else{for(a&=2===i?31:3===i?15:7;1<i&&t<s;)a=a<<6|63&e[t++],i--;1<i?u[r++]=65533:a<65536?u[r++]=a:(a-=65536,u[r++]=55296|a>>10&1023,u[r++]=56320|1023&a)}return l(u,r)},t.utf8border=function(e,n){var t;for((n=n||e.length)>e.length&&(n=e.length),t=n-1;0<=t&&128==(192&e[t]);)t--;return t<0||0===t?n:t+o[e[t]]>n?t:n}},{"./common":41}],43:[function(e,n,t){"use strict";n.exports=function(e,n,t,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==t;){for(t-=o=2e3<t?2e3:t;i=i+(a=a+n[r++]|0)|0,--o;);a%=65521,i%=65521}return a|i<<16|0}},{}],44:[function(e,n,t){"use strict";n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,n,t){"use strict";var r=function(){for(var e,n=[],t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;n[t]=e}return n}();n.exports=function(e,n,t,a){var i=r,o=a+t;e^=-1;for(var s=a;s<o;s++)e=e>>>8^i[255&(e^n[s])];return-1^e}},{}],46:[function(e,n,t){"use strict";var r,a=e("../utils/common"),i=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=0,c=4,d=0,A=-2,f=-1,h=4,p=2,m=8,S=9,g=286,v=30,x=19,_=2*g+1,y=15,w=3,b=258,V=b+w+1,C=42,E=113,D=1,F=2,T=3,P=4;function R(e,n){return e.msg=l[n],n}function L(e){return(e<<1)-(4<e?9:0)}function M(e){for(var n=e.length;0<=--n;)e[n]=0}function B(e){var n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(a.arraySet(e.output,n.pending_buf,n.pending_out,t,e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,0===n.pending&&(n.pending_out=0))}function k(e,n){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,B(e.strm)}function I(e,n){e.pending_buf[e.pending++]=n}function O(e,n){e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=255&n}function N(e,n){var t,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-V?e.strstart-(e.w_size-V):0,u=e.window,c=e.w_mask,d=e.prev,A=e.strstart+b,f=u[i+o-1],h=u[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(t=n)+o]===h&&u[t+o-1]===f&&u[t]===u[i]&&u[++t]===u[i+1]){i+=2,t++;do{}while(u[++i]===u[++t]&&u[++i]===u[++t]&&u[++i]===u[++t]&&u[++i]===u[++t]&&u[++i]===u[++t]&&u[++i]===u[++t]&&u[++i]===u[++t]&&u[++i]===u[++t]&&i<A);if(r=b-(A-i),i=A-b,o<r){if(e.match_start=n,s<=(o=r))break;f=u[i+o-1],h=u[i+o]}}}while((n=d[n&c])>l&&0!=--a);return o<=e.lookahead?o:e.lookahead}function j(e){var n,t,r,i,l,u,c,d,A,f,h=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-V)){for(a.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,n=t=e.hash_size;r=e.head[--n],e.head[n]=h<=r?r-h:0,--t;);for(n=t=h;r=e.prev[--n],e.prev[n]=h<=r?r-h:0,--t;);i+=h}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,f=void 0,(A=i)<(f=u.avail_in)&&(f=A),t=0===f?0:(u.avail_in-=f,a.arraySet(c,u.input,u.next_in,f,d),1===u.state.wrap?u.adler=o(u.adler,c,f,d):2===u.state.wrap&&(u.adler=s(u.adler,c,f,d)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=t,e.lookahead+e.insert>=w)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+w-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<w)););}while(e.lookahead<V&&0!==e.strm.avail_in)}function U(e,n){for(var t,r;;){if(e.lookahead<V){if(j(e),e.lookahead<V&&n===u)return D;if(0===e.lookahead)break}if(t=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==t&&e.strstart-t<=e.w_size-V&&(e.match_length=N(e,t)),e.match_length>=w)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-w),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=w){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(k(e,!1),0===e.strm.avail_out))return D}return e.insert=e.strstart<w-1?e.strstart:w-1,n===c?(k(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?D:F}function G(e,n){for(var t,r,a;;){if(e.lookahead<V){if(j(e),e.lookahead<V&&n===u)return D;if(0===e.lookahead)break}if(t=0,e.lookahead>=w&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=w-1,0!==t&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-V&&(e.match_length=N(e,t),e.match_length<=5&&(1===e.strategy||e.match_length===w&&4096<e.strstart-e.match_start)&&(e.match_length=w-1)),e.prev_length>=w&&e.match_length<=e.prev_length){for(a=e.strstart+e.lookahead-w,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-w),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+w-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=w-1,e.strstart++,r&&(k(e,!1),0===e.strm.avail_out))return D}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&k(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return D}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<w-1?e.strstart:w-1,n===c?(k(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?D:F}function z(e,n,t,r,a){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=a}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*_),this.dyn_dtree=new a.Buf16(2*(2*v+1)),this.bl_tree=new a.Buf16(2*(2*x+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(y+1),this.heap=new a.Buf16(2*g+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*g+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(e){var n;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=p,(n=e.state).pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?C:E,e.adler=2===n.wrap?0:1,n.last_flush=u,i._tr_init(n),d):R(e,A)}function X(e){var n=W(e);return n===d&&function(e){e.window_size=2*e.w_size,M(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=w-1,e.match_available=0,e.ins_h=0}(e.state),n}function K(e,n,t,r,i,o){if(!e)return A;var s=1;if(n===f&&(n=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),i<1||S<i||t!==m||r<8||15<r||n<0||9<n||o<0||h<o)return R(e,A);8===r&&(r=9);var l=new H;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+w-1)/w),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=n,l.strategy=o,l.method=t,X(e)}r=[new z(0,0,0,0,(function(e,n){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&n===u)return D;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+t;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,k(e,!1),0===e.strm.avail_out))return D;if(e.strstart-e.block_start>=e.w_size-V&&(k(e,!1),0===e.strm.avail_out))return D}return e.insert=0,n===c?(k(e,!0),0===e.strm.avail_out?T:P):(e.strstart>e.block_start&&(k(e,!1),e.strm.avail_out),D)})),new z(4,4,8,4,U),new z(4,5,16,8,U),new z(4,6,32,32,U),new z(4,4,16,16,G),new z(8,16,32,32,G),new z(8,16,128,128,G),new z(8,32,128,256,G),new z(32,128,258,1024,G),new z(32,258,258,4096,G)],t.deflateInit=function(e,n){return K(e,n,m,15,8,0)},t.deflateInit2=K,t.deflateReset=X,t.deflateResetKeep=W,t.deflateSetHeader=function(e,n){return e&&e.state?2!==e.state.wrap?A:(e.state.gzhead=n,d):A},t.deflate=function(e,n){var t,a,o,l;if(!e||!e.state||5<n||n<0)return e?R(e,A):A;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||666===a.status&&n!==c)return R(e,0===e.avail_out?-5:A);if(a.strm=e,t=a.last_flush,a.last_flush=n,a.status===C)if(2===a.wrap)e.adler=0,I(a,31),I(a,139),I(a,8),a.gzhead?(I(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),I(a,255&a.gzhead.time),I(a,a.gzhead.time>>8&255),I(a,a.gzhead.time>>16&255),I(a,a.gzhead.time>>24&255),I(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),I(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(I(a,255&a.gzhead.extra.length),I(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=s(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(I(a,0),I(a,0),I(a,0),I(a,0),I(a,0),I(a,9===a.level?2:2<=a.strategy||a.level<2?4:0),I(a,3),a.status=E);else{var f=m+(a.w_bits-8<<4)<<8;f|=(2<=a.strategy||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(f|=32),f+=31-f%31,a.status=E,O(a,f),0!==a.strstart&&(O(a,e.adler>>>16),O(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),B(e),o=a.pending,a.pending!==a.pending_buf_size));)I(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),B(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,I(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),B(e),o=a.pending,a.pending===a.pending_buf_size)){l=1;break}l=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,I(a,l)}while(0!==l);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===l&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&B(e),a.pending+2<=a.pending_buf_size&&(I(a,255&e.adler),I(a,e.adler>>8&255),e.adler=0,a.status=E)):a.status=E),0!==a.pending){if(B(e),0===e.avail_out)return a.last_flush=-1,d}else if(0===e.avail_in&&L(n)<=L(t)&&n!==c)return R(e,-5);if(666===a.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==a.lookahead||n!==u&&666!==a.status){var h=2===a.strategy?function(e,n){for(var t;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(n===u)return D;break}if(e.match_length=0,t=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(k(e,!1),0===e.strm.avail_out))return D}return e.insert=0,n===c?(k(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?D:F}(a,n):3===a.strategy?function(e,n){for(var t,r,a,o,s=e.window;;){if(e.lookahead<=b){if(j(e),e.lookahead<=b&&n===u)return D;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=w&&0<e.strstart&&(r=s[a=e.strstart-1])===s[++a]&&r===s[++a]&&r===s[++a]){o=e.strstart+b;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<o);e.match_length=b-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=w?(t=i._tr_tally(e,1,e.match_length-w),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(k(e,!1),0===e.strm.avail_out))return D}return e.insert=0,n===c?(k(e,!0),0===e.strm.avail_out?T:P):e.last_lit&&(k(e,!1),0===e.strm.avail_out)?D:F}(a,n):r[a.level].func(a,n);if(h!==T&&h!==P||(a.status=666),h===D||h===T)return 0===e.avail_out&&(a.last_flush=-1),d;if(h===F&&(1===n?i._tr_align(a):5!==n&&(i._tr_stored_block(a,0,0,!1),3===n&&(M(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),B(e),0===e.avail_out))return a.last_flush=-1,d}return n!==c?d:a.wrap<=0?1:(2===a.wrap?(I(a,255&e.adler),I(a,e.adler>>8&255),I(a,e.adler>>16&255),I(a,e.adler>>24&255),I(a,255&e.total_in),I(a,e.total_in>>8&255),I(a,e.total_in>>16&255),I(a,e.total_in>>24&255)):(O(a,e.adler>>>16),O(a,65535&e.adler)),B(e),0<a.wrap&&(a.wrap=-a.wrap),0!==a.pending?d:1)},t.deflateEnd=function(e){var n;return e&&e.state?(n=e.state.status)!==C&&69!==n&&73!==n&&91!==n&&103!==n&&n!==E&&666!==n?R(e,A):(e.state=null,n===E?R(e,-3):d):A},t.deflateSetDictionary=function(e,n){var t,r,i,s,l,u,c,f,h=n.length;if(!e||!e.state)return A;if(2===(s=(t=e.state).wrap)||1===s&&t.status!==C||t.lookahead)return A;for(1===s&&(e.adler=o(e.adler,n,h,0)),t.wrap=0,h>=t.w_size&&(0===s&&(M(t.head),t.strstart=0,t.block_start=0,t.insert=0),f=new a.Buf8(t.w_size),a.arraySet(f,n,h-t.w_size,t.w_size,0),n=f,h=t.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=n,j(t);t.lookahead>=w;){for(r=t.strstart,i=t.lookahead-(w-1);t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+w-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,--i;);t.strstart=r,t.lookahead=w-1,j(t)}return t.strstart+=t.lookahead,t.block_start=t.strstart,t.insert=t.lookahead,t.lookahead=0,t.match_length=t.prev_length=w-1,t.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,t.wrap=s,d},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,n,t){"use strict";n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,n,t){"use strict";n.exports=function(e,n){var t,r,a,i,o,s,l,u,c,d,A,f,h,p,m,S,g,v,x,_,y,w,b,V,C;t=e.state,r=e.next_in,V=e.input,a=r+(e.avail_in-5),i=e.next_out,C=e.output,o=i-(n-e.avail_out),s=i+(e.avail_out-257),l=t.dmax,u=t.wsize,c=t.whave,d=t.wnext,A=t.window,f=t.hold,h=t.bits,p=t.lencode,m=t.distcode,S=(1<<t.lenbits)-1,g=(1<<t.distbits)-1;e:do{h<15&&(f+=V[r++]<<h,h+=8,f+=V[r++]<<h,h+=8),v=p[f&S];n:for(;;){if(f>>>=x=v>>>24,h-=x,0===(x=v>>>16&255))C[i++]=65535&v;else{if(!(16&x)){if(0==(64&x)){v=p[(65535&v)+(f&(1<<x)-1)];continue n}if(32&x){t.mode=12;break e}e.msg="invalid literal/length code",t.mode=30;break e}_=65535&v,(x&=15)&&(h<x&&(f+=V[r++]<<h,h+=8),_+=f&(1<<x)-1,f>>>=x,h-=x),h<15&&(f+=V[r++]<<h,h+=8,f+=V[r++]<<h,h+=8),v=m[f&g];t:for(;;){if(f>>>=x=v>>>24,h-=x,!(16&(x=v>>>16&255))){if(0==(64&x)){v=m[(65535&v)+(f&(1<<x)-1)];continue t}e.msg="invalid distance code",t.mode=30;break e}if(y=65535&v,h<(x&=15)&&(f+=V[r++]<<h,(h+=8)<x&&(f+=V[r++]<<h,h+=8)),l<(y+=f&(1<<x)-1)){e.msg="invalid distance too far back",t.mode=30;break e}if(f>>>=x,h-=x,(x=i-o)<y){if(c<(x=y-x)&&t.sane){e.msg="invalid distance too far back",t.mode=30;break e}if(b=A,(w=0)===d){if(w+=u-x,x<_){for(_-=x;C[i++]=A[w++],--x;);w=i-y,b=C}}else if(d<x){if(w+=u+d-x,(x-=d)<_){for(_-=x;C[i++]=A[w++],--x;);if(w=0,d<_){for(_-=x=d;C[i++]=A[w++],--x;);w=i-y,b=C}}}else if(w+=d-x,x<_){for(_-=x;C[i++]=A[w++],--x;);w=i-y,b=C}for(;2<_;)C[i++]=b[w++],C[i++]=b[w++],C[i++]=b[w++],_-=3;_&&(C[i++]=b[w++],1<_&&(C[i++]=b[w++]))}else{for(w=i-y;C[i++]=C[w++],C[i++]=C[w++],C[i++]=C[w++],2<(_-=3););_&&(C[i++]=C[w++],1<_&&(C[i++]=C[w++]))}break}}break}}while(r<a&&i<s);r-=_=h>>3,f&=(1<<(h-=_<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<s?s-i+257:257-(i-s),t.hold=f,t.bits=h}},{}],49:[function(e,n,t){"use strict";var r=e("../utils/common"),a=e("./adler32"),i=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=1,u=2,c=0,d=-2,A=1,f=852,h=592;function p(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(e){var n;return e&&e.state?(n=e.state,e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=1&n.wrap),n.mode=A,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new r.Buf32(f),n.distcode=n.distdyn=new r.Buf32(h),n.sane=1,n.back=-1,c):d}function g(e){var n;return e&&e.state?((n=e.state).wsize=0,n.whave=0,n.wnext=0,S(e)):d}function v(e,n){var t,r;return e&&e.state?(r=e.state,n<0?(t=0,n=-n):(t=1+(n>>4),n<48&&(n&=15)),n&&(n<8||15<n)?d:(null!==r.window&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,g(e))):d}function x(e,n){var t,r;return e?(r=new m,(e.state=r).window=null,(t=v(e,n))!==c&&(e.state=null),t):d}var _,y,w=!0;function b(e){if(w){var n;for(_=new r.Buf32(512),y=new r.Buf32(32),n=0;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(s(l,e.lens,0,288,_,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;s(u,e.lens,0,32,y,0,e.work,{bits:5}),w=!1}e.lencode=_,e.lenbits=9,e.distcode=y,e.distbits=5}function V(e,n,t,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),a>=o.wsize?(r.arraySet(o.window,n,t-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(a<(i=o.wsize-o.wnext)&&(i=a),r.arraySet(o.window,n,t-a,i,o.wnext),(a-=i)?(r.arraySet(o.window,n,t-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}t.inflateReset=g,t.inflateReset2=v,t.inflateResetKeep=S,t.inflateInit=function(e){return x(e,15)},t.inflateInit2=x,t.inflate=function(e,n){var t,f,h,m,S,g,v,x,_,y,w,C,E,D,F,T,P,R,L,M,B,k,I,O,N=0,j=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(t=e.state).mode&&(t.mode=13),S=e.next_out,h=e.output,v=e.avail_out,m=e.next_in,f=e.input,g=e.avail_in,x=t.hold,_=t.bits,y=g,w=v,k=c;e:for(;;)switch(t.mode){case A:if(0===t.wrap){t.mode=13;break}for(;_<16;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(2&t.wrap&&35615===x){j[t.check=0]=255&x,j[1]=x>>>8&255,t.check=i(t.check,j,2,0),_=x=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",t.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",t.mode=30;break}if(_-=4,B=8+(15&(x>>>=4)),0===t.wbits)t.wbits=B;else if(B>t.wbits){e.msg="invalid window size",t.mode=30;break}t.dmax=1<<B,e.adler=t.check=1,t.mode=512&x?10:12,_=x=0;break;case 2:for(;_<16;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(t.flags=x,8!=(255&t.flags)){e.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){e.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=x>>8&1),512&t.flags&&(j[0]=255&x,j[1]=x>>>8&255,t.check=i(t.check,j,2,0)),_=x=0,t.mode=3;case 3:for(;_<32;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}t.head&&(t.head.time=x),512&t.flags&&(j[0]=255&x,j[1]=x>>>8&255,j[2]=x>>>16&255,j[3]=x>>>24&255,t.check=i(t.check,j,4,0)),_=x=0,t.mode=4;case 4:for(;_<16;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}t.head&&(t.head.xflags=255&x,t.head.os=x>>8),512&t.flags&&(j[0]=255&x,j[1]=x>>>8&255,t.check=i(t.check,j,2,0)),_=x=0,t.mode=5;case 5:if(1024&t.flags){for(;_<16;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}t.length=x,t.head&&(t.head.extra_len=x),512&t.flags&&(j[0]=255&x,j[1]=x>>>8&255,t.check=i(t.check,j,2,0)),_=x=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&(g<(C=t.length)&&(C=g),C&&(t.head&&(B=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),r.arraySet(t.head.extra,f,m,C,B)),512&t.flags&&(t.check=i(t.check,f,C,m)),g-=C,m+=C,t.length-=C),t.length))break e;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===g)break e;for(C=0;B=f[m+C++],t.head&&B&&t.length<65536&&(t.head.name+=String.fromCharCode(B)),B&&C<g;);if(512&t.flags&&(t.check=i(t.check,f,C,m)),g-=C,m+=C,B)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===g)break e;for(C=0;B=f[m+C++],t.head&&B&&t.length<65536&&(t.head.comment+=String.fromCharCode(B)),B&&C<g;);if(512&t.flags&&(t.check=i(t.check,f,C,m)),g-=C,m+=C,B)break e}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;_<16;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(x!==(65535&t.check)){e.msg="header crc mismatch",t.mode=30;break}_=x=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=12;break;case 10:for(;_<32;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}e.adler=t.check=p(x),_=x=0,t.mode=11;case 11:if(0===t.havedict)return e.next_out=S,e.avail_out=v,e.next_in=m,e.avail_in=g,t.hold=x,t.bits=_,2;e.adler=t.check=1,t.mode=12;case 12:if(5===n||6===n)break e;case 13:if(t.last){x>>>=7&_,_-=7&_,t.mode=27;break}for(;_<3;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}switch(t.last=1&x,_-=1,3&(x>>>=1)){case 0:t.mode=14;break;case 1:if(b(t),t.mode=20,6!==n)break;x>>>=2,_-=2;break e;case 2:t.mode=17;break;case 3:e.msg="invalid block type",t.mode=30}x>>>=2,_-=2;break;case 14:for(x>>>=7&_,_-=7&_;_<32;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&x,_=x=0,t.mode=15,6===n)break e;case 15:t.mode=16;case 16:if(C=t.length){if(g<C&&(C=g),v<C&&(C=v),0===C)break e;r.arraySet(h,f,m,C,S),g-=C,m+=C,v-=C,S+=C,t.length-=C;break}t.mode=12;break;case 17:for(;_<14;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(t.nlen=257+(31&x),x>>>=5,_-=5,t.ndist=1+(31&x),x>>>=5,_-=5,t.ncode=4+(15&x),x>>>=4,_-=4,286<t.nlen||30<t.ndist){e.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;_<3;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}t.lens[U[t.have++]]=7&x,x>>>=3,_-=3}for(;t.have<19;)t.lens[U[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,I={bits:t.lenbits},k=s(0,t.lens,0,19,t.lencode,0,t.work,I),t.lenbits=I.bits,k){e.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;T=(N=t.lencode[x&(1<<t.lenbits)-1])>>>16&255,P=65535&N,!((F=N>>>24)<=_);){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(P<16)x>>>=F,_-=F,t.lens[t.have++]=P;else{if(16===P){for(O=F+2;_<O;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(x>>>=F,_-=F,0===t.have){e.msg="invalid bit length repeat",t.mode=30;break}B=t.lens[t.have-1],C=3+(3&x),x>>>=2,_-=2}else if(17===P){for(O=F+3;_<O;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}_-=F,B=0,C=3+(7&(x>>>=F)),x>>>=3,_-=3}else{for(O=F+7;_<O;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}_-=F,B=0,C=11+(127&(x>>>=F)),x>>>=7,_-=7}if(t.have+C>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=30;break}for(;C--;)t.lens[t.have++]=B}}if(30===t.mode)break;if(0===t.lens[256]){e.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,I={bits:t.lenbits},k=s(l,t.lens,0,t.nlen,t.lencode,0,t.work,I),t.lenbits=I.bits,k){e.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,I={bits:t.distbits},k=s(u,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,I),t.distbits=I.bits,k){e.msg="invalid distances set",t.mode=30;break}if(t.mode=20,6===n)break e;case 20:t.mode=21;case 21:if(6<=g&&258<=v){e.next_out=S,e.avail_out=v,e.next_in=m,e.avail_in=g,t.hold=x,t.bits=_,o(e,w),S=e.next_out,h=e.output,v=e.avail_out,m=e.next_in,f=e.input,g=e.avail_in,x=t.hold,_=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;T=(N=t.lencode[x&(1<<t.lenbits)-1])>>>16&255,P=65535&N,!((F=N>>>24)<=_);){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(T&&0==(240&T)){for(R=F,L=T,M=P;T=(N=t.lencode[M+((x&(1<<R+L)-1)>>R)])>>>16&255,P=65535&N,!(R+(F=N>>>24)<=_);){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}x>>>=R,_-=R,t.back+=R}if(x>>>=F,_-=F,t.back+=F,t.length=P,0===T){t.mode=26;break}if(32&T){t.back=-1,t.mode=12;break}if(64&T){e.msg="invalid literal/length code",t.mode=30;break}t.extra=15&T,t.mode=22;case 22:if(t.extra){for(O=t.extra;_<O;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}t.length+=x&(1<<t.extra)-1,x>>>=t.extra,_-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;T=(N=t.distcode[x&(1<<t.distbits)-1])>>>16&255,P=65535&N,!((F=N>>>24)<=_);){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(0==(240&T)){for(R=F,L=T,M=P;T=(N=t.distcode[M+((x&(1<<R+L)-1)>>R)])>>>16&255,P=65535&N,!(R+(F=N>>>24)<=_);){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}x>>>=R,_-=R,t.back+=R}if(x>>>=F,_-=F,t.back+=F,64&T){e.msg="invalid distance code",t.mode=30;break}t.offset=P,t.extra=15&T,t.mode=24;case 24:if(t.extra){for(O=t.extra;_<O;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}t.offset+=x&(1<<t.extra)-1,x>>>=t.extra,_-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===v)break e;if(C=w-v,t.offset>C){if((C=t.offset-C)>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=30;break}E=C>t.wnext?(C-=t.wnext,t.wsize-C):t.wnext-C,C>t.length&&(C=t.length),D=t.window}else D=h,E=S-t.offset,C=t.length;for(v<C&&(C=v),v-=C,t.length-=C;h[S++]=D[E++],--C;);0===t.length&&(t.mode=21);break;case 26:if(0===v)break e;h[S++]=t.length,v--,t.mode=21;break;case 27:if(t.wrap){for(;_<32;){if(0===g)break e;g--,x|=f[m++]<<_,_+=8}if(w-=v,e.total_out+=w,t.total+=w,w&&(e.adler=t.check=t.flags?i(t.check,h,w,S-w):a(t.check,h,w,S-w)),w=v,(t.flags?x:p(x))!==t.check){e.msg="incorrect data check",t.mode=30;break}_=x=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;_<32;){if(0===g)break e;g--,x+=f[m++]<<_,_+=8}if(x!==(4294967295&t.total)){e.msg="incorrect length check",t.mode=30;break}_=x=0}t.mode=29;case 29:k=1;break e;case 30:k=-3;break e;case 31:return-4;default:return d}return e.next_out=S,e.avail_out=v,e.next_in=m,e.avail_in=g,t.hold=x,t.bits=_,(t.wsize||w!==e.avail_out&&t.mode<30&&(t.mode<27||4!==n))&&V(e,e.output,e.next_out,w-e.avail_out)?(t.mode=31,-4):(y-=e.avail_in,w-=e.avail_out,e.total_in+=y,e.total_out+=w,t.total+=w,t.wrap&&w&&(e.adler=t.check=t.flags?i(t.check,h,w,e.next_out-w):a(t.check,h,w,e.next_out-w)),e.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0==y&&0===w||4===n)&&k===c&&(k=-5),k)},t.inflateEnd=function(e){if(!e||!e.state)return d;var n=e.state;return n.window&&(n.window=null),e.state=null,c},t.inflateGetHeader=function(e,n){var t;return e&&e.state?0==(2&(t=e.state).wrap)?d:((t.head=n).done=!1,c):d},t.inflateSetDictionary=function(e,n){var t,r=n.length;return e&&e.state?0!==(t=e.state).wrap&&11!==t.mode?d:11===t.mode&&a(1,n,r,0)!==t.check?-3:V(e,n,r,r)?(t.mode=31,-4):(t.havedict=1,c):d},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,n,t){"use strict";var r=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(e,n,t,l,u,c,d,A){var f,h,p,m,S,g,v,x,_,y=A.bits,w=0,b=0,V=0,C=0,E=0,D=0,F=0,T=0,P=0,R=0,L=null,M=0,B=new r.Buf16(16),k=new r.Buf16(16),I=null,O=0;for(w=0;w<=15;w++)B[w]=0;for(b=0;b<l;b++)B[n[t+b]]++;for(E=y,C=15;1<=C&&0===B[C];C--);if(C<E&&(E=C),0===C)return u[c++]=20971520,u[c++]=20971520,A.bits=1,0;for(V=1;V<C&&0===B[V];V++);for(E<V&&(E=V),w=T=1;w<=15;w++)if(T<<=1,(T-=B[w])<0)return-1;if(0<T&&(0===e||1!==C))return-1;for(k[1]=0,w=1;w<15;w++)k[w+1]=k[w]+B[w];for(b=0;b<l;b++)0!==n[t+b]&&(d[k[n[t+b]]++]=b);if(g=0===e?(L=I=d,19):1===e?(L=a,M-=257,I=i,O-=257,256):(L=o,I=s,-1),w=V,S=c,F=b=R=0,p=-1,m=(P=1<<(D=E))-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){for(v=w-F,_=d[b]<g?(x=0,d[b]):d[b]>g?(x=I[O+d[b]],L[M+d[b]]):(x=96,0),f=1<<w-F,V=h=1<<D;u[S+(R>>F)+(h-=f)]=v<<24|x<<16|_|0,0!==h;);for(f=1<<w-1;R&f;)f>>=1;if(0!==f?(R&=f-1,R+=f):R=0,b++,0==--B[w]){if(w===C)break;w=n[t+d[b]]}if(E<w&&(R&m)!==p){for(0===F&&(F=E),S+=V,T=1<<(D=w-F);D+F<C&&!((T-=B[D+F])<=0);)D++,T<<=1;if(P+=1<<D,1===e&&852<P||2===e&&592<P)return 1;u[p=R&m]=E<<24|D<<16|S-c|0}}return 0!==R&&(u[S+R]=w-F<<24|64<<16|0),A.bits=E,0}},{"../utils/common":41}],51:[function(e,n,t){"use strict";n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,n,t){"use strict";var r=e("../utils/common"),a=0,i=1;function o(e){for(var n=e.length;0<=--n;)e[n]=0}var s=0,l=29,u=256,c=u+1+l,d=30,A=19,f=2*c+1,h=15,p=16,m=7,S=256,g=16,v=17,x=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(c+2));o(V);var C=new Array(2*d);o(C);var E=new Array(512);o(E);var D=new Array(256);o(D);var F=new Array(l);o(F);var T,P,R,L=new Array(d);function M(e,n,t,r,a){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function B(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}function k(e){return e<256?E[e]:E[256+(e>>>7)]}function I(e,n){e.pending_buf[e.pending++]=255&n,e.pending_buf[e.pending++]=n>>>8&255}function O(e,n,t){e.bi_valid>p-t?(e.bi_buf|=n<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=n>>p-e.bi_valid,e.bi_valid+=t-p):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)}function N(e,n,t){O(e,t[2*n],t[2*n+1])}function j(e,n){for(var t=0;t|=1&e,e>>>=1,t<<=1,0<--n;);return t>>>1}function U(e,n,t){var r,a,i=new Array(h+1),o=0;for(r=1;r<=h;r++)i[r]=o=o+t[r-1]<<1;for(a=0;a<=n;a++){var s=e[2*a+1];0!==s&&(e[2*a]=j(i[s]++,s))}}function G(e){var n;for(n=0;n<c;n++)e.dyn_ltree[2*n]=0;for(n=0;n<d;n++)e.dyn_dtree[2*n]=0;for(n=0;n<A;n++)e.bl_tree[2*n]=0;e.dyn_ltree[2*S]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function z(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,n,t,r){var a=2*n,i=2*t;return e[a]<e[i]||e[a]===e[i]&&r[n]<=r[t]}function W(e,n,t){for(var r=e.heap[t],a=t<<1;a<=e.heap_len&&(a<e.heap_len&&H(n,e.heap[a+1],e.heap[a],e.depth)&&a++,!H(n,r,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=r}function X(e,n,t){var r,a,i,o,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],a=e.pending_buf[e.l_buf+s],s++,0===r?N(e,a,n):(N(e,(i=D[a])+u+1,n),0!==(o=_[i])&&O(e,a-=F[i],o),N(e,i=k(--r),t),0!==(o=y[i])&&O(e,r-=L[i],o)),s<e.last_lit;);N(e,S,n)}function K(e,n){var t,r,a,i=n.dyn_tree,o=n.stat_desc.static_tree,s=n.stat_desc.has_stree,l=n.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=f,t=0;t<l;t++)0!==i[2*t]?(e.heap[++e.heap_len]=u=t,e.depth[t]=0):i[2*t+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(n.max_code=u,t=e.heap_len>>1;1<=t;t--)W(e,i,t);for(a=l;t=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=t,e.heap[--e.heap_max]=r,i[2*a]=i[2*t]+i[2*r],e.depth[a]=(e.depth[t]>=e.depth[r]?e.depth[t]:e.depth[r])+1,i[2*t+1]=i[2*r+1]=a,e.heap[1]=a++,W(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,n){var t,r,a,i,o,s,l=n.dyn_tree,u=n.max_code,c=n.stat_desc.static_tree,d=n.stat_desc.has_stree,A=n.stat_desc.extra_bits,p=n.stat_desc.extra_base,m=n.stat_desc.max_length,S=0;for(i=0;i<=h;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;t<f;t++)m<(i=l[2*l[2*(r=e.heap[t])+1]+1]+1)&&(i=m,S++),l[2*r+1]=i,u<r||(e.bl_count[i]++,o=0,p<=r&&(o=A[r-p]),s=l[2*r],e.opt_len+=s*(i+o),d&&(e.static_len+=s*(c[2*r+1]+o)));if(0!==S){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,S-=2}while(0<S);for(i=m;0!==i;i--)for(r=e.bl_count[i];0!==r;)u<(a=e.heap[--t])||(l[2*a+1]!==i&&(e.opt_len+=(i-l[2*a+1])*l[2*a],l[2*a+1]=i),r--)}}(e,n),U(i,u,e.bl_count)}function q(e,n,t){var r,a,i=-1,o=n[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),n[2*(t+1)+1]=65535,r=0;r<=t;r++)a=o,o=n[2*(r+1)+1],++s<l&&a===o||(s<u?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*g]++):s<=10?e.bl_tree[2*v]++:e.bl_tree[2*x]++,i=a,u=(s=0)===o?(l=138,3):a===o?(l=6,3):(l=7,4))}function Y(e,n,t){var r,a,i=-1,o=n[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=t;r++)if(a=o,o=n[2*(r+1)+1],!(++s<l&&a===o)){if(s<u)for(;N(e,a,e.bl_tree),0!=--s;);else 0!==a?(a!==i&&(N(e,a,e.bl_tree),s--),N(e,g,e.bl_tree),O(e,s-3,2)):s<=10?(N(e,v,e.bl_tree),O(e,s-3,3)):(N(e,x,e.bl_tree),O(e,s-11,7));i=a,u=(s=0)===o?(l=138,3):a===o?(l=6,3):(l=7,4)}}o(L);var Q=!1;function J(e,n,t,a){O(e,(s<<1)+(a?1:0),3),function(e,n,t,a){z(e),a&&(I(e,t),I(e,~t)),r.arraySet(e.pending_buf,e.window,n,t,e.pending),e.pending+=t}(e,n,t,!0)}t._tr_init=function(e){Q||(function(){var e,n,t,r,a,i=new Array(h+1);for(r=t=0;r<l-1;r++)for(F[r]=t,e=0;e<1<<_[r];e++)D[t++]=r;for(D[t-1]=r,r=a=0;r<16;r++)for(L[r]=a,e=0;e<1<<y[r];e++)E[a++]=r;for(a>>=7;r<d;r++)for(L[r]=a<<7,e=0;e<1<<y[r]-7;e++)E[256+a++]=r;for(n=0;n<=h;n++)i[n]=0;for(e=0;e<=143;)V[2*e+1]=8,e++,i[8]++;for(;e<=255;)V[2*e+1]=9,e++,i[9]++;for(;e<=279;)V[2*e+1]=7,e++,i[7]++;for(;e<=287;)V[2*e+1]=8,e++,i[8]++;for(U(V,c+1,i),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=j(e,5);T=new M(V,_,u+1,c,h),P=new M(C,y,0,d,h),R=new M(new Array(0),w,0,A,m)}(),Q=!0),e.l_desc=new B(e.dyn_ltree,T),e.d_desc=new B(e.dyn_dtree,P),e.bl_desc=new B(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,G(e)},t._tr_stored_block=J,t._tr_flush_block=function(e,n,t,r){var o,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var n,t=4093624447;for(n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(n=32;n<u;n++)if(0!==e.dyn_ltree[2*n])return i;return a}(e)),K(e,e.l_desc),K(e,e.d_desc),l=function(e){var n;for(q(e,e.dyn_ltree,e.l_desc.max_code),q(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),n=A-1;3<=n&&0===e.bl_tree[2*b[n]+1];n--);return e.opt_len+=3*(n+1)+5+5+4,n}(e),o=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=o&&(o=s)):o=s=t+5,t+4<=o&&-1!==n?J(e,n,t,r):4===e.strategy||s===o?(O(e,2+(r?1:0),3),X(e,V,C)):(O(e,4+(r?1:0),3),function(e,n,t,r){var a;for(O(e,n-257,5),O(e,t-1,5),O(e,r-4,4),a=0;a<r;a++)O(e,e.bl_tree[2*b[a]+1],3);Y(e,e.dyn_ltree,n-1),Y(e,e.dyn_dtree,t-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),X(e,e.dyn_ltree,e.dyn_dtree)),G(e),r&&z(e)},t._tr_tally=function(e,n,t){return e.pending_buf[e.d_buf+2*e.last_lit]=n>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&n,e.pending_buf[e.l_buf+e.last_lit]=255&t,e.last_lit++,0===n?e.dyn_ltree[2*t]++:(e.matches++,n--,e.dyn_ltree[2*(D[t]+u+1)]++,e.dyn_dtree[2*k(n)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){O(e,2,3),N(e,S,V),function(e){16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,n,t){"use strict";n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,n,r){(function(e){!function(e,n){"use strict";if(!e.setImmediate){var t,r,a,i,o=1,s={},l=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,t="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){A(e)}))}:function(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(n){e.postMessage(i+n,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){A(e.data)},function(e){a.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,function(e){var n=u.createElement("script");n.onreadystatechange=function(){A(e),n.onreadystatechange=null,r.removeChild(n),n=null},r.appendChild(n)}):function(e){setTimeout(A,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),r=0;r<n.length;r++)n[r]=arguments[r+1];var a={callback:e,args:n};return s[o]=a,t(o),o++},c.clearImmediate=d}function d(e){delete s[e]}function A(e){if(l)setTimeout(A,0,e);else{var t=s[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),l=!1}}}}function f(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(i)&&A(+n.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof t.g?t.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},4453:function(e,n,t){"use strict";t.d(n,{Q:function(){return Z},S:function(){return ne}});var r={r0:0,zero:0,at:1,v0:2,v1:3,a0:4,a1:5,a2:6,a3:7,t0:8,t1:9,t2:10,t3:11,t4:12,t5:13,t6:14,t7:15,s0:16,s1:17,s2:18,s3:19,s4:20,s5:21,s6:22,s7:23,t8:24,t9:25,k0:26,k1:27,gp:28,sp:29,fp:30,ra:31};function a(e){if(e)return r[e.toLowerCase()]}var i={S:16,D:17,W:20,L:21};function o(e){return i[e.toUpperCase()]}function s(e){for(var n in i)if(i[n]===e)return n;return""}var l={S:0,D:1,W:4,L:5};function u(e){return l[e.toUpperCase()]}function c(e){for(var n in l)if(l[n]===e)return n;return""}var d={F:0,UN:1,EQ:2,UEQ:3,OLT:4,ULT:5,OLE:6,ULE:7,SF:8,NGLE:9,SEQ:10,NGL:11,LT:12,NGE:13,LE:14,NGT:15};function A(e){return d[e.toUpperCase()]}function f(e){for(var n in d)if(d[n]===e)return n;return""}function h(e){return"0"===e[0]||"1"===e[0]}function p(e,n,t){return(e>>>t&S(n.length))===m(n)}function m(e){for(var n=0,t=0;t<e.length;t++){n<<=1,n|="1"===e[t]?1:0}return n}function S(e){if(e<=0)throw new Error("makeBitMask cannot make mask of length ".concat(e));for(var n=1;--e;)n<<=1,n|=1;return n}function g(e,n){for(;e.length<n;)e="0"+e;return e}var v=t(885);function x(e,n,t,r){var a,i=(0,v.Z)(e,3),o=i[0],s=i[1],l=i[2];return a="b"===(s=s.toLowerCase())?parseInt(l,2):"o"===s?parseInt(l,8):"x"===s?parseInt(l,16):parseInt(l,10),isNaN(a)||(r&&(a>>>=r),16===n&&t&&(a=_(a)),o&&(a=-a)),a}function _(e){return new Int16Array([e])[0]}function y(e){if("?"===e[e.length-1]&&(e=e.substring(0,e.length-1)),-1===e.indexOf("int"))return"cc"===e.substr(0,2)?{signed:!1,bits:4,shift:!1}:null;var n=0,t=e.indexOf("shift");return t>0&&(n=e.substr(t).match(/\d+/g)),{signed:"u"!==e[0],bits:parseInt(e.match(/\d+/g)),shift:n}}var w="rs",b="rt",V="rd",C="fs",E="ft",D="fd",F="fr",T="uint5",P="uint5",R="uint10",L="int16",M="uint16",B="uint20",k="uint26",I="uint26shift2",O="cc",N="fmt",j="fmt3";function U(e){return X[e.toLowerCase()]}var G=new Map;function z(e){if(G.has(e))return G.get(e);var n=function(e){if(h(e))return e.length;switch(e=e.replace("?","")){case"cc":case"fmt3":return 3;case"cond":return 4;case"rs":case"rt":case"rd":case"fs":case"ft":case"fd":case"fr":case"sa":case"fmt":return 5}var n=y(e);if(n)return n.bits;throw new Error("Unrecongized format value: ".concat(e))}(e);return G.set(e,n),n}function H(e,n,t){for(var r,a=0,i=0,o=n.length-1;o>=0;o--){var s=void 0,l=n[o];if(Array.isArray(l)){for(var u=!1,c=0;c<l.length;c++)if((r=W(l[c],e,i,t))>=0){u=!0,a+=r,s=z(l[c]);break}if(!u)return 0}else{if(!((r=W(l,e,i,t))>=0))return 0;a+=r,s=z(l)}i+=s}return a}function W(e,n,t,r){if(!h(e)){if(e===N){for(var a=0;a<r.length;a++){var i=g(o(r[a]).toString(2),5);if(p(n,i,t))return i.length}return-1}if(e===j){for(var s=0;s<r.length;s++){var l=g(u(r[s]).toString(2),3);if(p(n,l,t))return l.length}return-1}return 0}return p(n,e,t)?e.length:-1}var X={"abs.fmt":{format:["010001",N,"00000",C,D,"000101"],fmts:["S","D"],display:[D,C]},add:{format:["000000",w,b,V,"00000100000"],display:[V,w,b]},"add.fmt":{format:["010001",N,E,C,D,"000000"],fmts:["S","D"],display:[D,C,E]},addi:{format:["001000",w,b,L],display:[b,w,L]},addiu:{format:["001001",w,b,M],display:[b,w,M]},addu:{format:["000000",w,b,V,"00000100001"],display:[V,w,b]},and:{format:["000000",w,b,V,"00000100100"],display:[V,w,b]},andi:{format:["001100",w,b,M],display:[b,w,M]},bc1f:{format:["010001","01000",[O,"000"],"00",L],display:["cc?",L]},bc1fl:{format:["010001","01000",[O,"000"],"10",L],display:["cc?",L]},bc1t:{format:["010001","01000",[O,"000"],"01",L],display:["cc?",L]},bc1tl:{format:["010001","01000",[O,"000"],"11",L],display:["cc?",L]},beq:{format:["000100",w,b,M],display:[w,b,M]},beql:{format:["010100",w,b,M],display:[w,b,M]},bgez:{format:["000001",w,"00001",M],display:[w,M]},bgezal:{format:["000001",w,"10001",M],display:[w,M]},bgezall:{format:["000001",w,"10011",M],display:[w,M]},bgezl:{format:["000001",w,"00011",M],display:[w,M]},bgtz:{format:["000111",w,"00000",M],display:[w,M]},bgtzl:{format:["010111",w,"00000",M],display:[w,M]},blez:{format:["000110",w,"00000",M],display:[w,M]},blezl:{format:["010110",w,"00000",M],display:[w,M]},bltz:{format:["000001",w,"00000",M],display:[w,M]},bltzal:{format:["000001",w,"10000",M],display:[w,M]},bltzall:{format:["000001",w,"10010",M],display:[w,M]},bltzl:{format:["000001",w,"00010",M],display:[w,M]},bne:{format:["000101",w,b,M],display:[w,b,M]},bnel:{format:["010101",w,b,M],display:[w,b,M]},break:{format:["000000",[B,"00000000000000000000"],"001101"],display:["uint20?"]},"c.cond.fmt":{format:["010001",N,E,C,[O,"000"],"00","11","cond"],fmts:["S","D"],display:["cc?",C,E]},"ceil.l.fmt":{format:["010001",N,"00000",C,D,"001010"],fmts:["S","D"],display:[D,C]},"ceil.w.fmt":{format:["010001",N,"00000",C,D,"001110"],fmts:["S","D"],display:[D,C]},cfc1:{format:["010001","00010",b,C,"00000000000"],display:[b,C]},ctc1:{format:["010001","00110",b,C,"00000000000"],display:[b,C]},cop0:{format:["010000",k],display:[k]},cop1:{format:["010001",k],display:[k]},cop2:{format:["010010",k],display:[k]},cop3:{format:["010011",k],display:[k]},"cvt.d.fmt":{format:["010001",N,"00000",C,D,"100001"],fmts:["S","W","L"],display:[D,C]},"cvt.l.fmt":{format:["010001",N,"00000",C,D,"100101"],fmts:["S","D"],display:[D,C]},"cvt.s.fmt":{format:["010001",N,"00000",C,D,"100000"],fmts:["D","W","L"],display:[D,C]},"cvt.w.fmt":{format:["010001",N,"00000",C,D,"100100"],fmts:["S","D"],display:[D,C]},dadd:{format:["000000",w,b,V,"00000101100"],display:[V,w,b]},daddi:{format:["011000",w,b,L],display:[b,w,L]},daddiu:{format:["011001",w,b,M],display:[b,w,M]},daddu:{format:["000000",w,b,V,"00000101101"],display:[V,w,b]},ddiv:{format:["000000",w,b,"0000000000011110"],display:[w,b]},ddivu:{format:["000000",w,b,"0000000000011111"],display:[w,b]},div:{format:["000000",w,b,"0000000000011010"],display:[w,b]},"div.fmt":{format:["010001",N,E,C,D,"000011"],fmts:["S","D"],display:[D,C,E]},divu:{format:["000000",w,b,"0000000000011011"],display:[w,b]},dmfc1:{format:["010001","00001",b,C,"00000000000"],display:[b,C]},dmult:{format:["000000",w,b,"0000000000011100"],display:[w,b]},dmultu:{format:["000000",w,b,"0000000000011101"],display:[w,b]},dmtc1:{format:["010001","00101",b,C,"00000000000"],display:[b,C]},dsll:{format:["00000000000",b,V,T,"111000"],display:[V,b,T]},dsll32:{format:["00000000000",b,V,T,"111100"],display:[V,b,T]},dsllv:{format:["000000",w,b,V,"00000010100"],display:[V,b,w]},dsra:{format:["00000000000",b,V,T,"111011"],display:[V,b,T]},dsra32:{format:["00000000000",b,V,T,"111111"],display:[V,b,T]},dsrav:{format:["000000",w,b,V,"00000010111"],display:[V,b,w]},dsrl:{format:["00000000000",b,V,T,"111010"],display:[V,b,T]},dsrl32:{format:["00000000000",b,V,T,"111110"],display:[V,b,T]},dsrlv:{format:["000000",w,b,V,"00000010110"],display:[V,b,w]},dsub:{format:["000000",w,b,V,"00000101110"],display:[V,w,b]},dsubu:{format:["000000",w,b,V,"00000101111"],display:[V,w,b]},"floor.l.fmt":{format:["010001",N,"00000",C,D,"001011"],fmts:["S","D"],display:[D,C]},"floor.w.fmt":{format:["010001",N,"00000",C,D,"001111"],fmts:["S","D"],display:[D,C]},j:{format:["000010",I],display:[I]},jal:{format:["000011",I],display:[I]},jalr:{format:["000000",w,"00000",[V,"11111"],"00000","001001"],display:["rd?",w]},jr:{format:["000000",w,"000000000000000","001000"],display:[w]},lb:{format:["100000",w,b,L],display:[b,L,"(",w,")"]},lbu:{format:["100100",w,b,M],display:[b,M,"(",w,")"]},ld:{format:["110111",w,b,L],display:[b,L,"(",w,")"]},ldc1:{format:["110101",w,E,L],display:[E,L,"(",w,")"]},ldc2:{format:["110110",w,b,L],display:[b,L,"(",w,")"]},ldl:{format:["011010",w,b,L],display:[b,L,"(",w,")"]},ldr:{format:["011011",w,b,L],display:[b,L,"(",w,")"]},ldxc1:{format:["010011",w,b,"00000",D,"000001"],display:[D,b,"(",w,")"]},lh:{format:["100001",w,b,L],display:[b,L,"(",w,")"]},lhu:{format:["100101",w,b,L],display:[b,L,"(",w,")"]},ll:{format:["110000",w,b,L],display:[b,L,"(",w,")"]},lld:{format:["110100",w,b,L],display:[b,L,"(",w,")"]},lui:{format:["001111","00000",b,M],display:[b,M]},lw:{format:["100011",w,b,L],display:[b,L,"(",w,")"]},lwc1:{format:["110001",w,E,L],display:[E,L,"(",w,")"]},lwc2:{format:["110010",w,b,L],display:[b,L,"(",w,")"]},lwc3:{format:["110011",w,b,L],display:[b,L,"(",w,")"]},lwl:{format:["100010",w,b,L],display:[b,L,"(",w,")"]},lwr:{format:["100110",w,b,L],display:[b,L,"(",w,")"]},lwu:{format:["100111",w,b,L],display:[b,L,"(",w,")"]},lwxc1:{format:["010011",w,b,"00000",D,"000000"],display:[D,b,"(",w,")"]},"madd.fmt":{format:["010011",F,E,C,D,"100",j],fmts:["S","D"],display:[D,F,C,E]},mfc1:{format:["010001","00000",b,C,"00000000000"],display:[b,C]},mfhi:{format:["000000","0000000000",V,"00000","010000"],display:[V]},mflo:{format:["000000","0000000000",V,"00000","010010"],display:[V]},"mov.fmt":{format:["010001",N,"00000",C,D,"000110"],fmts:["S","D"],display:[D,C]},movf:{format:["000000",w,O,"00",V,"00000","000001"],display:[V,w,O]},"movf.fmt":{format:["010001",N,O,"00",C,D,"010001"],fmts:["S","D"],display:[D,C,O]},movn:{format:["000000",w,b,V,"00000","001011"],display:[V,w,b]},"movn.fmt":{format:["010001",N,b,C,D,"010011"],fmts:["S","D"],display:[D,C,b]},movt:{format:["000000",w,O,"01",V,"00000","000001"],display:[V,w,O]},"movt.fmt":{format:["010001",N,O,"01",C,D,"010001"],fmts:["S","D"],display:[D,C,O]},movz:{format:["000000",w,b,V,"00000","001010"],display:[V,w,b]},"movz.fmt":{format:["010001",N,b,C,D,"010010"],fmts:["S","D"],display:[D,C,b]},"msub.fmt":{format:["010011",F,E,C,D,"101",j],fmts:["S","D"],display:[D,F,C,E]},mtc1:{format:["010001","00100",b,C,"00000000000"],display:[b,C]},mthi:{format:["000000",w,"000000000000000","010001"],display:[w]},mtlo:{format:["000000",w,"000000000000000","010011"],display:[w]},"mul.fmt":{format:["010001",N,E,C,D,"000010"],fmts:["S","D"],display:[D,C,E]},mult:{format:["000000",w,b,"0000000000","011000"],display:[w,b]},multu:{format:["000000",w,b,"0000000000","011001"],display:[w,b]},"neg.fmt":{format:["010001",N,"00000",C,D,"000111"],fmts:["S","D"],display:[D,C]},"nmadd.fmt":{format:["010011",F,E,C,D,"110",j],fmts:["S","D"],display:[D,F,C,E]},"nmsub.fmt":{format:["010011",F,E,C,D,"111",j],fmts:["S","D"],display:[D,F,C,E]},nop:{format:["00000000000000000000000000000000"],display:[]},nor:{format:["000000",w,b,V,"00000","100111"],display:[V,w,b]},or:{format:["000000",w,b,V,"00000","100101"],display:[V,w,b]},ori:{format:["001101",w,b,M],display:[b,w,M]},pref:{format:["110011",w,P,L],display:[P,L,"(",w,")"]},prefx:{format:["010011",w,b,P,"00000","001111"],display:[P,b,"(",w,")"]},"recip.fmt":{format:["010001",N,"00000",C,D,"010101"],fmts:["S","D"],display:[D,C]},"round.l.fmt":{format:["010001",N,"00000",C,D,"001000"],fmts:["S","D"],display:[D,C]},"round.w.fmt":{format:["010001",N,"00000",C,D,"001100"],fmts:["S","D"],display:[D,C]},"rsqrt.fmt":{format:["010001",N,"00000",C,D,"010110"],fmts:["S","D"],display:[D,C]},sb:{format:["101000",w,b,L],display:[b,L,"(",w,")"]},sc:{format:["111000",w,b,L],display:[b,L,"(",w,")"]},scd:{format:["111100",w,b,L],display:[b,L,"(",w,")"]},sd:{format:["111111",w,b,L],display:[b,L,"(",w,")"]},sdc1:{format:["111101",w,E,L],display:[E,L,"(",w,")"]},sdc2:{format:["111110",w,b,L],display:[b,L,"(",w,")"]},sdl:{format:["101100",w,b,L],display:[b,L,"(",w,")"]},sdr:{format:["101101",w,b,L],display:[b,L,"(",w,")"]},sdxc1:{format:["010011",w,P,C,"00000","001001"],display:[C,P,"(",w,")"]},sh:{format:["101001",w,b,L],display:[b,L,"(",w,")"]},sll:{format:["000000","00000",b,V,T,"000000"],display:[V,b,T]},sllv:{format:["000000",w,b,V,"00000","000100"],display:[V,b,w]},slt:{format:["000000",w,b,V,"00000","101010"],display:[V,w,b]},slti:{format:["001010",w,b,L],display:[b,w,L]},sltiu:{format:["001011",w,b,M],display:[b,w,M]},sltu:{format:["000000",w,b,V,"00000","101011"],display:[V,w,b]},"sqrt.fmt":{format:["010001",N,"00000",C,D,"000100"],fmts:["S","D"],display:[D,C]},sra:{format:["000000","00000",b,V,T,"000011"],display:[V,b,T]},srav:{format:["000000",w,b,V,"00000","000111"],display:[V,b,w]},srl:{format:["000000","00000",b,V,T,"000010"],display:[V,b,T]},srlv:{format:["000000",w,b,V,"00000","000110"],display:[V,b,w]},sub:{format:["000000",w,b,V,"00000","100010"],display:[V,w,b]},"sub.fmt":{format:["010001",N,E,C,D,"000001"],fmts:["S","D"],display:[D,C,E]},subu:{format:["000000",w,b,V,"00000","100011"],display:[V,w,b]},sw:{format:["101011",w,b,L],display:[b,L,"(",w,")"]},swc1:{format:["111001",w,E,L],display:[E,L,"(",w,")"]},swc2:{format:["111010",w,b,L],display:[b,L,"(",w,")"]},swc3:{format:["111011",w,b,L],display:[b,L,"(",w,")"]},swl:{format:["101010",w,b,L],display:[b,L,"(",w,")"]},swr:{format:["101110",w,b,L],display:[b,L,"(",w,")"]},swxc1:{format:["010011",w,P,C,"00000","001000"],display:[C,P,"(",w,")"]},sync:{format:["000000","000000000000000","00000","001111"],display:[]},syscall:{format:["000000",[B,"00000000000000000000"],"001100"],display:[]},teq:{format:["000000",w,b,R,"110100"],display:[w,b]},teqi:{format:["000001",w,"01100",L],display:[w,L]},tge:{format:["000000",w,b,R,"110000"],display:[w,b]},tgei:{format:["000001",w,"01000",L],display:[w,L]},tgeiu:{format:["000001",w,"01001",M],display:[w,M]},tgeu:{format:["000000",w,b,R,"110001"],display:[w,b]},tlt:{format:["000000",w,b,R,"110010"],display:[w,b]},tlti:{format:["000001",w,"01010",L],display:[w,L]},tltiu:{format:["000001",w,"01011",M],display:[w,M]},tltu:{format:["000000",w,b,R,"110011"],display:[w,b]},tne:{format:["000000",w,b,R,"110110"],display:[w,b]},tnei:{format:["000001",w,"01110",L],display:[w,L]},"trunc.l.fmt":{format:["010001",N,"00000",C,D,"001001"],fmts:["S","D"],display:[D,C]},"trunc.w.fmt":{format:["010001",N,"00000",C,D,"001101"],fmts:["S","D"],display:[D,C]},xor:{format:["000000",w,b,V,"00000","100110"],display:[V,w,b]},xori:{format:["001110",w,b,M],display:[b,w,M]}},K="([A-Za-z0-3.]+)",q=new RegExp("^\\s*"+K),Y=Object.create(null);function Q(e){var n,t,r=q.exec(e);if(r){var a=r[1].split(".");if(1===a.length)return a[0].toLowerCase();for(var o="",s=!1,u=!1,c=a.length-1;c>0;c--){var A=a[c];s||("fmt"===A||(t=A,i.hasOwnProperty(t.toUpperCase())||l.hasOwnProperty(t.toUpperCase())))&&(s=!0,A="fmt"),u||(n=A,d.hasOwnProperty(n.toUpperCase())&&(u=!0,A="cond")),o="."+A+o}return(a[0]+o).toLowerCase()}return null}function J(e){if(function(e){if(!e)return!1;switch(e.substr(0,2)){case"rs":case"rt":case"rd":return!0}return!1}(e))return"\\$?(\\w+)";if(function(e){if(!e)return!1;switch(e.substr(0,2)){case"fs":case"ft":case"fd":return!0}return!1}(e))return"\\$?[Ff]([0-9]+)";if(y(e))return"(-)?0?([xbo]?)([A-Fa-f0-9]+)";throw new Error("Unrecognized display entry ".concat(e))}function Z(e,n){var t;if(t=n,n=Object.assign({intermediate:!1},t),Array.isArray(e))return e.map((function(e){return $(e,n)}));if("object"===typeof e)return $(e,n);if("string"===typeof e){var r=e.split(/\r?\n/).filter((function(e){return!!e.trim()}));return 1===r.length?$(r[0],n):r.map((function(e){return $(e,n)}))}throw new Error("Unexpected input to parse. Pass a string or array of strings.")}function $(e,n){var t,r,i;if("string"===typeof e){if(!(t=Q(e)))throw new Error("Could not parse opcode from ".concat(e));if(!(r=U(t)))throw new Error("Opcode ".concat(t," was not recognized"));i=function(e,n,t){var r=function(e,n){if(Y[e])return Y[e];for(var t=[K],r=n.display,a=0;a<r.length;a++){var i=r[a],o=i.endsWith("?"),s="";if(o&&(s+="(?:[,\\s]+"),"("===r[a+1]){if(o)throw new Error("Not prepared to generate optional regex with parenthesis");if(")"!==r[a+3])throw new Error("Not prepared to generate regex for multiple values in parenthesis");s+=J(i)+"\\s*\\(?"+J(r[a+2])+"\\)?",a+=3}else s+=J(i);o&&(s+=")?"),t.push(s)}var l="^\\s*"+t.reduce((function(e,n,t){return 0===t||n.startsWith("(?:")?e+n:e+"[,\\s]+"+n}),"")+"\\s*$",u=new RegExp(l);return Y[e]=u,u}(e,n).exec(t);if(!r)throw new Error("Could not parse instruction: ".concat(t));var i={op:e};-1===e.indexOf(".fmt")&&-1===e.indexOf(".cond")||function(e,n,t,r,a){var i=e.split("."),s=n.split(".");if(i.length!==s.length)throw new Error("Given opcode ".concat(e," does not have all pieces (").concat(n,")"));for(var l=0;l<s.length;l++){var c=s[l];if("fmt"===c||"ftm3"===c){if(-1===t.indexOf(i[l].toUpperCase()))throw new Error("Format ".concat(i[l]," is not allowed for ").concat(c,". Allowed values are ").concat(t));"fmt"===c?a.fmt=o(i[l]):"fmt3"===c&&(a.fmt3=u(i[l]))}"cond"===c&&(a.cond=A(i[l]))}}(r[1],e,n.fmts,n.format,i);for(var s=n.display,l=2,c=0;c<s.length;c++,l++){var d=r[l],f=s[c],h=f.endsWith("?");switch(h&&(f=f.replace("?","")),f){case"(":case")":l--;continue;case"rs":case"rd":case"rt":var p=a(d);if(void 0===p){if(h)continue;throw new Error("Unrecognized ".concat(f," register ").concat(d))}i[f]=p;continue;case"fs":case"ft":case"fd":case"fr":if(i[f]=parseInt(d),isNaN(i[f]))throw new Error("Unrecognized ".concat(f," register ").concat(d));continue}var m=y(f);if(!m)throw new Error("Unrecognized opcode display entry ".concat(f));var S=void 0,g=[r[l],r[l+1],r[l+2]];if(!h||g[2]){if(S=x(g,m.bits,m.signed,m.shift),isNaN(S))throw new Error("Could not parse immediate ".concat(g.join("")));i[f]=S}l+=2}return i}(t,r,e)}else if("object"===typeof e){if(!(t=Q(e.op)))throw new Error("Object input to parse did not contain 'op'");if(!(r=U(t)))throw new Error("Opcode ".concat(t," was not recognized"));i=e}return n.intermediate?i:function(e,n){for(var t=0,r=0,a=0;a<e.length;a++){var i=void 0,o=e[a],s=z(Array.isArray(o)?o[0]:o);if(t=t<<s>>>0,Array.isArray(o)){for(var l=0;l<o.length;l++)if((i=ee(o[l],t,n)).wrote){t=i.output;break}}else(i=ee(o,t,n)).wrote&&(t=i.output);r+=s}if(32!=r)throw new Error("Incorrect number of bits written for format "+e);return t}(r.format,i)}function ee(e,n,t){var r=!1;if(h(e))n|=m(e),r=!0;else if(void 0!==t[e]){r=!0,n|=t[e]&S(z(e))}return{wrote:r,output:n>>>0}}function ne(e,n){var t;if(t=n,n=Object.assign({casing:"toUpperCase",commas:!1,include$:!1,intermediate:!1,numBase:16},t),Array.isArray(e))return e.map((function(e){return te(e,n)}));var r=e instanceof ArrayBuffer;if(r||e instanceof DataView){for(var a=r?new DataView(e):e,i=[],o=0;o<a.byteLength;o+=4)i.push(te(a.getUint32(o),n));return i}var s=typeof e;if("number"===s||"object"===s)return te(e,n);throw new Error("Unexpected input to print.")}function te(e,n){var t,a,i;if("number"===typeof e){if(a=function(e){var n="",t=0;for(var r in X){var a=H(e,X[r].format,X[r].fmts);a>t&&(n=r,t=a)}return n}(e),!a)throw new Error("Unrecognized instruction");i=function(e,n){for(var t={},r=n.length-1;r>=0;r--){var a=void 0,i=void 0,o=n[r];if(Array.isArray(o))for(var s=o.length-1;s>=0;s--){if(a=e&S(i=z(o[s])),!h(o[s])){o=o[s];break}if(o[s]===g(a.toString(2),i)){o=o[s];break}}else a=e&S(i=z(o));h(o)?e>>>=i:(t[o]=a,e>>>=i)}return t}(e,(t=U(a)).format),i.op=a}else{if("object"!==typeof e)throw new Error("Unexpected value ".concat(e));if(!e.op)throw new Error("Instruction object did not contain op");t=U(e.op),i=e}if(!t)throw new Error("Invalid opcode");return n.intermediate?i:function(e,n,t){var a=function(e,n){for(var t=e.op.split("."),r=0;r<t.length;r++)if("fmt"===t[r])if(e.hasOwnProperty("fmt3"))t[r]=c(e.fmt3);else{if(!e.hasOwnProperty("fmt"))throw new Error("Format value not available");t[r]=s(e.fmt)}else if("cond"===t[r]){if(!e.hasOwnProperty("cond"))throw new Error("Condition value not available");t[r]=f(e.cond)}return ie(t.join("."),n.casing)}(e,t);function i(n){switch(n){case"rs":case"rt":case"rd":return function(e){for(var n in r)if(r[n]===e)return n;return""}(e[n]);case"fs":case"ft":case"fd":return function(e){if("number"!==typeof e)throw new Error("getFloatRegName encountered non-number");return"F"+e}(e[n])}}for(var o=n.display,l=0;l<o.length;l++){var u=o[l];if(!u.endsWith("?")||(u=u.replace("?",""),void 0!==e[u])){var d=e[u];if(void 0===d&&"("!==u&&")"!==u)throw new Error("Expected ".concat(u," value, got undefined"));var A=t.commas;switch(u){case"rs":case"rt":case"rd":case"fs":case"ft":case"fd":a.endsWith("(")||(a+=" "),a+=ae(i(u),t);break;case"(":case")":A=!1,a.endsWith(",")&&(a=a.slice(0,-1)),a+=u}var h=y(u);h&&(a.endsWith("(")||(a+=" "),h.signed&&16===h.bits&&(d=_(d)),h.shift&&(d<<=h.shift),a+=re(d,t)),A&&l!==o.length-1&&!a.endsWith(",")&&(a+=",")}}return a.trim()}(i,t,n)}function re(e,n){if(0===e)return e.toString(n.numBase);var t="";return e<0&&(t+="-"),16===n.numBase?t+="0x":8===n.numBase?t+="0o":2===n.numBase&&(t+="0b"),t+=ie(Math.abs(e).toString(n.numBase),n.casing)}function ae(e,n){var t="";return n.include$&&(t+="$"),t+=ie(e,n.casing)}function ie(e,n){return"toLowerCase"===n?e.toLowerCase():e.toUpperCase()}},1843:function(e){"use strict";var n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,i){for(var o,s,l=a(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))t.call(o,c)&&(l[c]=o[c]);if(n){s=n(o);for(var d=0;d<s.length;d++)r.call(o,s[d])&&(l[s[d]]=o[s[d]])}}return l}},534:function(e,n,t){"use strict";var r=t(7313),a=t(2224);function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(s[e]=n,e=0;e<n.length;e++)o.add(n[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(e,n,t,r,a,i,o){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var n=e[0];m[n]=new p(n,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var S=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,n,t,r){var a=m.hasOwnProperty(n)?m[n]:null;(null!==a?0!==a.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null===n||"undefined"===typeof n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,a,r)&&(t=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(f,e)&&(A.test(e)?h[e]=!0:(f[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):a.mustUseProperty?e[a.propertyName]=null===t?3!==a.type&&"":t:(n=a.attributeName,r=a.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(a=a.type)||4===a&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var n=e.replace(S,g);m[n]=new p(n,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var n=e.replace(S,g);m[n]=new p(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var n=e.replace(S,g);m[n]=new p(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var k,I=Object.assign;function O(e){if(void 0===k)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);k=n&&n[1]||""}return"\n"+k+e}var N=!1;function j(e,n){if(!e||N)return"";N=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var r=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){r=u}e.call(n.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?O(e):""}function U(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case y:return"Portal";case V:return"Profiler";case b:return"StrictMode";case F:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case D:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(n=e.displayName||null)?n:G(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return G(e(n))}catch(t){}}return null}function z(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(n);case 8:return n===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function X(e){e._valueTracker||(e._valueTracker=function(e){var n=W(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var a=t.get,i=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function K(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function Y(e,n){var t=n.checked;return I({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function Q(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=H(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function J(e,n){null!=(n=n.checked)&&v(e,"checked",n,!1)}function Z(e,n){J(e,n);var t=H(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,H(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function $(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&q(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var a=0;a<t.length;a++)n["$"+t[a]]=!0;for(t=0;t<e.length;t++)a=n.hasOwnProperty("$"+e[t].value),e[t].selected!==a&&(e[t].selected=a),a&&r&&(e[t].defaultSelected=!0)}else{for(t=""+H(t),n=null,a=0;a<e.length;a++){if(e[a].value===t)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==n||e[a].disabled||(n=e[a])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(i(91));return I({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(i(92));if(ne(t)){if(1<t.length)throw Error(i(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:H(t)}}function ie(e,n){var t=H(n.value),r=H(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function oe(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?se(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,n)}))}:ce);function Ae(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,n,t){return null==n||"boolean"===typeof n||""===n?"":t||"number"!==typeof n||0===n||fe.hasOwnProperty(e)&&fe[e]?(""+n).trim():n+"px"}function me(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),a=pe(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,a):e[t]=a}}Object.keys(fe).forEach((function(e){he.forEach((function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),fe[n]=fe[e]}))}));var Se=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,n){if(n){if(Se[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(i(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(i(62))}}function ve(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ye=null,we=null,be=null;function Ve(e){if(e=va(e)){if("function"!==typeof ye)throw Error(i(280));var n=e.stateNode;n&&(n=_a(n),ye(e.stateNode,e.type,n))}}function Ce(e){we?be?be.push(e):be=[e]:we=e}function Ee(){if(we){var e=we,n=be;if(be=we=null,Ve(e),n)for(e=0;e<n.length;e++)Ve(n[e])}}function De(e,n){return e(n)}function Fe(){}var Te=!1;function Pe(e,n,t){if(Te)return e(n,t);Te=!0;try{return De(e,n,t)}finally{Te=!1,(null!==we||null!==be)&&(Fe(),Ee())}}function Re(e,n){var t=e.stateNode;if(null===t)return null;var r=_a(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(i(231,n,typeof t));return t}var Le=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){Le=!1}function Be(e,n,t,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{n.apply(t,u)}catch(c){this.onError(c)}}var ke=!1,Ie=null,Oe=!1,Ne=null,je={onError:function(e){ke=!0,Ie=e}};function Ue(e,n,t,r,a,i,o,s,l){ke=!1,Ie=null,Be.apply(je,arguments)}function Ge(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function ze(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function He(e){if(Ge(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ge(e)))throw Error(i(188));return n!==e?null:e}for(var t=e,r=n;;){var a=t.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){t=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===t)return He(a),e;if(o===r)return He(a),n;o=o.sibling}throw Error(i(188))}if(t.return!==r.return)t=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===t){s=!0,t=a,r=o;break}if(l===r){s=!0,r=a,t=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===t){s=!0,t=o,r=a;break}if(l===r){s=!0,r=o,t=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(t.alternate!==r)throw Error(i(190))}if(3!==t.tag)throw Error(i(188));return t.stateNode.current===t?e:n}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Xe(e);if(null!==n)return n;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,qe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Je=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,en=a.unstable_UserBlockingPriority,nn=a.unstable_NormalPriority,tn=a.unstable_LowPriority,rn=a.unstable_IdlePriority,an=null,on=null;var sn=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ln(e)/un|0)|0},ln=Math.log,un=Math.LN2;var cn=64,dn=4194304;function An(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&t;if(0!==o){var s=o&~a;0!==s?r=An(s):0!==(i&=o)&&(r=An(i))}else 0!==(o=t&~a)?r=An(o):0!==i&&(r=An(i));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&a)&&((a=r&-r)>=(i=n&-n)||16===a&&0!==(4194240&i)))return n;if(0!==(4&r)&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)a=1<<(t=31-sn(n)),r|=e[t],n&=~a;return r}function hn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function pn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mn(){var e=cn;return 0===(4194240&(cn<<=1))&&(cn=64),e}function Sn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function gn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-sn(n)]=t}function vn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-sn(t),a=1<<r;a&n|e[r]&n&&(e[r]|=n),t&=~a}}var xn=0;function _n(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yn,wn,bn,Vn,Cn,En=!1,Dn=[],Fn=null,Tn=null,Pn=null,Rn=new Map,Ln=new Map,Mn=[],Bn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kn(e,n){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Rn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(n.pointerId)}}function In(e,n,t,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==n&&(null!==(n=va(n))&&wn(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==a&&-1===n.indexOf(a)&&n.push(a),e)}function On(e){var n=ga(e.target);if(null!==n){var t=Ge(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=ze(t)))return e.blockedOn=n,void Cn(e.priority,(function(){bn(t)}))}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Nn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Qn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=va(t))&&wn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);xe=r,t.target.dispatchEvent(r),xe=null,n.shift()}return!0}function jn(e,n,t){Nn(e)&&t.delete(n)}function Un(){En=!1,null!==Fn&&Nn(Fn)&&(Fn=null),null!==Tn&&Nn(Tn)&&(Tn=null),null!==Pn&&Nn(Pn)&&(Pn=null),Rn.forEach(jn),Ln.forEach(jn)}function Gn(e,n){e.blockedOn===n&&(e.blockedOn=null,En||(En=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Un)))}function zn(e){function n(n){return Gn(n,e)}if(0<Dn.length){Gn(Dn[0],e);for(var t=1;t<Dn.length;t++){var r=Dn[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Fn&&Gn(Fn,e),null!==Tn&&Gn(Tn,e),null!==Pn&&Gn(Pn,e),Rn.forEach(n),Ln.forEach(n),t=0;t<Mn.length;t++)(r=Mn[t]).blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&null===(t=Mn[0]).blockedOn;)On(t),null===t.blockedOn&&Mn.shift()}var Hn=x.ReactCurrentBatchConfig,Wn=!0;function Xn(e,n,t,r){var a=xn,i=Hn.transition;Hn.transition=null;try{xn=1,qn(e,n,t,r)}finally{xn=a,Hn.transition=i}}function Kn(e,n,t,r){var a=xn,i=Hn.transition;Hn.transition=null;try{xn=4,qn(e,n,t,r)}finally{xn=a,Hn.transition=i}}function qn(e,n,t,r){if(Wn){var a=Qn(e,n,t,r);if(null===a)Hr(e,n,r,Yn,t),kn(e,r);else if(function(e,n,t,r,a){switch(n){case"focusin":return Fn=In(Fn,e,n,t,r,a),!0;case"dragenter":return Tn=In(Tn,e,n,t,r,a),!0;case"mouseover":return Pn=In(Pn,e,n,t,r,a),!0;case"pointerover":var i=a.pointerId;return Rn.set(i,In(Rn.get(i)||null,e,n,t,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ln.set(i,In(Ln.get(i)||null,e,n,t,r,a)),!0}return!1}(a,e,n,t,r))r.stopPropagation();else if(kn(e,r),4&n&&-1<Bn.indexOf(e)){for(;null!==a;){var i=va(a);if(null!==i&&yn(i),null===(i=Qn(e,n,t,r))&&Hr(e,n,r,Yn,t),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,n,r,null,t)}}var Yn=null;function Qn(e,n,t,r){if(Yn=null,null!==(e=ga(e=_e(r))))if(null===(n=Ge(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=ze(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yn=e,null}function Jn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Zn=null,$n=null,et=null;function nt(){if(et)return et;var e,n,t=$n,r=t.length,a="value"in Zn?Zn.value:Zn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return et=a.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function at(){return!1}function it(e){function n(n,t,r,a,i){for(var o in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rt:at,this.isPropagationStopped=at,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var ot,st,lt,ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ct=it(ut),dt=I({},ut,{view:0,detail:0}),At=it(dt),ft=I({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lt&&(lt&&"mousemove"===e.type?(ot=e.screenX-lt.screenX,st=e.screenY-lt.screenY):st=ot=0,lt=e),ot)},movementY:function(e){return"movementY"in e?e.movementY:st}}),ht=it(ft),pt=it(I({},ft,{dataTransfer:0})),mt=it(I({},dt,{relatedTarget:0})),St=it(I({},ut,{animationName:0,elapsedTime:0,pseudoElement:0})),gt=I({},ut,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vt=it(gt),xt=it(I({},ut,{data:0})),_t={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=wt[e])&&!!n[e]}function Vt(){return bt}var Ct=I({},dt,{key:function(e){if(e.key){var n=_t[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Et=it(Ct),Dt=it(I({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ft=it(I({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vt})),Tt=it(I({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pt=I({},ft,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rt=it(Pt),Lt=[9,13,27,32],Mt=c&&"CompositionEvent"in window,Bt=null;c&&"documentMode"in document&&(Bt=document.documentMode);var kt=c&&"TextEvent"in window&&!Bt,It=c&&(!Mt||Bt&&8<Bt&&11>=Bt),Ot=String.fromCharCode(32),Nt=!1;function jt(e,n){switch(e){case"keyup":return-1!==Lt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ut(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gt=!1;var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!zt[e.type]:"textarea"===n}function Wt(e,n,t,r){Ce(r),0<(n=Xr(n,"onChange")).length&&(t=new ct("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Xt=null,Kt=null;function qt(e){Or(e,0)}function Yt(e){if(K(xa(e)))return e}function Qt(e,n){if("change"===e)return n}var Jt=!1;if(c){var Zt;if(c){var $t="oninput"in document;if(!$t){var er=document.createElement("div");er.setAttribute("oninput","return;"),$t="function"===typeof er.oninput}Zt=$t}else Zt=!1;Jt=Zt&&(!document.documentMode||9<document.documentMode)}function nr(){Xt&&(Xt.detachEvent("onpropertychange",tr),Kt=Xt=null)}function tr(e){if("value"===e.propertyName&&Yt(Kt)){var n=[];Wt(n,Kt,e,_e(e)),Pe(qt,n)}}function rr(e,n,t){"focusin"===e?(nr(),Kt=t,(Xt=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yt(Kt)}function ir(e,n){if("click"===e)return Yt(n)}function or(e,n){if("input"===e||"change"===e)return Yt(n)}var sr="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function lr(e,n){if(sr(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var a=t[r];if(!d.call(n,a)||!sr(e[a],n[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,n){var t,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?dr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function Ar(){for(var e=window,n=q();n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(r){t=!1}if(!t)break;n=q((e=n.contentWindow).document)}return n}function fr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function hr(e){var n=Ar(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&dr(t.ownerDocument.documentElement,t)){if(null!==r&&fr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var a=t.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(t,i);var o=cr(t,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((n=n.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(n),e.extend(o.node,o.offset)):(n.setEnd(o.node,o.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,Sr=null,gr=null,vr=!1;function xr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;vr||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Xr(Sr,"onSelect")).length&&(n=new ct("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=mr)))}function _r(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var yr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},wr={},br={};function Vr(e){if(wr[e])return wr[e];if(!yr[e])return e;var n,t=yr[e];for(n in t)if(t.hasOwnProperty(n)&&n in br)return wr[e]=t[n];return e}c&&(br=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var Cr=Vr("animationend"),Er=Vr("animationiteration"),Dr=Vr("animationstart"),Fr=Vr("transitionend"),Tr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,n){Tr.set(e,n),l(n,[e])}for(var Lr=0;Lr<Pr.length;Lr++){var Mr=Pr[Lr];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Dr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Fr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Ir(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,a,o,s,l,u){if(Ue.apply(this,arguments),ke){if(!ke)throw Error(i(198));var c=Ie;ke=!1,Ie=null,Oe||(Oe=!0,Ne=c)}}(r,n,void 0,e),e.currentTarget=null}function Or(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var r=e[t],a=r.event;r=r.listeners;e:{var i=void 0;if(n)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Ir(a,s,u),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Ir(a,s,u),i=l}}}if(Oe)throw e=Ne,Oe=!1,Ne=null,e}function Nr(e,n){var t=n[pa];void 0===t&&(t=n[pa]=new Set);var r=e+"__bubble";t.has(r)||(zr(n,e,2,!1),t.add(r))}function jr(e,n,t){var r=0;n&&(r|=4),zr(t,e,r,n)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(n){"selectionchange"!==n&&(kr.has(n)||jr(n,!1,e),jr(n,!0,e))}));var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Ur]||(n[Ur]=!0,jr("selectionchange",!1,n))}}function zr(e,n,t,r){switch(Jn(n)){case 1:var a=Xn;break;case 4:a=Kn;break;default:a=qn}t=a.bind(null,n,t,e),a=void 0,!Le||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(a=!0),r?void 0!==a?e.addEventListener(n,t,{capture:!0,passive:a}):e.addEventListener(n,t,!0):void 0!==a?e.addEventListener(n,t,{passive:a}):e.addEventListener(n,t,!1)}function Hr(e,n,t,r,a){var i=r;if(0===(1&n)&&0===(2&n)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ga(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=i,a=_e(t),o=[];e:{var s=Tr.get(e);if(void 0!==s){var l=ct,u=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":l=Et;break;case"focusin":u="focus",l=mt;break;case"focusout":u="blur",l=mt;break;case"beforeblur":case"afterblur":l=mt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ft;break;case Cr:case Er:case Dr:l=St;break;case Fr:l=Tt;break;case"scroll":l=At;break;case"wheel":l=Rt;break;case"copy":case"cut":case"paste":l=vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dt}var c=0!==(4&n),d=!c&&"scroll"===e,A=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var p=(f=h).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==A&&(null!=(p=Re(h,A))&&c.push(Wr(h,p,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,t,a),o.push({event:s,listeners:c}))}}if(0===(7&n)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||t===xe||!(u=t.relatedTarget||t.fromElement)||!ga(u)&&!u[ha])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=t.relatedTarget||t.toElement)?ga(u):null)&&(u!==(d=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=ht,p="onMouseLeave",A="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Dt,p="onPointerLeave",A="onPointerEnter",h="pointer"),d=null==l?s:xa(l),f=null==u?s:xa(u),(s=new c(p,h+"leave",l,t,a)).target=d,s.relatedTarget=f,p=null,ga(a)===r&&((c=new c(A,h+"enter",u,t,a)).target=f,c.relatedTarget=d,p=c),d=p,l&&u)e:{for(A=u,h=0,f=c=l;f;f=Kr(f))h++;for(f=0,p=A;p;p=Kr(p))f++;for(;0<h-f;)c=Kr(c),h--;for(;0<f-h;)A=Kr(A),f--;for(;h--;){if(c===A||null!==A&&c===A.alternate)break e;c=Kr(c),A=Kr(A)}c=null}else c=null;null!==l&&qr(o,s,l,c,!1),null!==u&&null!==d&&qr(o,d,u,c,!0)}if("select"===(l=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qt;else if(Ht(s))if(Jt)m=or;else{m=ar;var S=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Wt(o,m,t,a):(S&&S(e,s,r),"focusout"===e&&(S=s._wrapperState)&&S.controlled&&"number"===s.type&&ee(s,"number",s.value)),S=r?xa(r):window,e){case"focusin":(Ht(S)||"true"===S.contentEditable)&&(mr=S,Sr=r,gr=null);break;case"focusout":gr=Sr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(o,t,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(o,t,a)}var g;if(Mt)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Gt?jt(e,t)&&(v="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(v="onCompositionStart");v&&(It&&"ko"!==t.locale&&(Gt||"onCompositionStart"!==v?"onCompositionEnd"===v&&Gt&&(g=nt()):($n="value"in(Zn=a)?Zn.value:Zn.textContent,Gt=!0)),0<(S=Xr(r,v)).length&&(v=new xt(v,e,null,t,a),o.push({event:v,listeners:S}),g?v.data=g:null!==(g=Ut(t))&&(v.data=g))),(g=kt?function(e,n){switch(e){case"compositionend":return Ut(n);case"keypress":return 32!==n.which?null:(Nt=!0,Ot);case"textInput":return(e=n.data)===Ot&&Nt?null:e;default:return null}}(e,t):function(e,n){if(Gt)return"compositionend"===e||!Mt&&jt(e,n)?(e=nt(),et=$n=Zn=null,Gt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return It&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(r=Xr(r,"onBeforeInput")).length&&(a=new xt("onBeforeInput","beforeinput",null,t,a),o.push({event:a,listeners:r}),a.data=g))}Or(o,n)}))}function Wr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Xr(e,n){for(var t=n+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Re(e,t))&&r.unshift(Wr(e,i,a)),null!=(i=Re(e,n))&&r.push(Wr(e,i,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,n,t,r,a){for(var i=n._reactName,o=[];null!==t&&t!==r;){var s=t,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Re(t,i))&&o.unshift(Wr(t,l,s)):a||null!=(l=Re(t,i))&&o.push(Wr(t,l,s))),t=t.return}0!==o.length&&e.push({event:n,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Zr(e,n,t){if(n=Jr(n),Jr(e)!==n&&t)throw Error(i(425))}function $r(){}var ea=null,na=null;function ta(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,n){var t=n,r=0;do{var a=t.nextSibling;if(e.removeChild(t),a&&8===a.nodeType)if("/$"===(t=a.data)){if(0===r)return e.removeChild(a),void zn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=a}while(t);zn(n)}function ua(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function ca(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),Aa="__reactFiber$"+da,fa="__reactProps$"+da,ha="__reactContainer$"+da,pa="__reactEvents$"+da,ma="__reactListeners$"+da,Sa="__reactHandles$"+da;function ga(e){var n=e[Aa];if(n)return n;for(var t=e.parentNode;t;){if(n=t[ha]||t[Aa]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=ca(e);null!==e;){if(t=e[Aa])return t;e=ca(e)}return n}t=(e=t).parentNode}return null}function va(e){return!(e=e[Aa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function _a(e){return e[fa]||null}var ya=[],wa=-1;function ba(e){return{current:e}}function Va(e){0>wa||(e.current=ya[wa],ya[wa]=null,wa--)}function Ca(e,n){wa++,ya[wa]=e.current,e.current=n}var Ea={},Da=ba(Ea),Fa=ba(!1),Ta=Ea;function Pa(e,n){var t=e.type.contextTypes;if(!t)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in t)i[a]=n[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function La(){Va(Fa),Va(Da)}function Ma(e,n,t){if(Da.current!==Ea)throw Error(i(168));Ca(Da,n),Ca(Fa,t)}function Ba(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!==typeof r.getChildContext)return t;for(var a in r=r.getChildContext())if(!(a in n))throw Error(i(108,z(e)||"Unknown",a));return I({},t,r)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ta=Da.current,Ca(Da,e),Ca(Fa,Fa.current),!0}function Ia(e,n,t){var r=e.stateNode;if(!r)throw Error(i(169));t?(e=Ba(e,n,Ta),r.__reactInternalMemoizedMergedChildContext=e,Va(Fa),Va(Da),Ca(Da,e)):Va(Fa),Ca(Fa,t)}var Oa=null,Na=!1,ja=!1;function Ua(e){null===Oa?Oa=[e]:Oa.push(e)}function Ga(){if(!ja&&null!==Oa){ja=!0;var e=0,n=xn;try{var t=Oa;for(xn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Oa=null,Na=!1}catch(a){throw null!==Oa&&(Oa=Oa.slice(e+1)),Ke($e,Ga),a}finally{xn=n,ja=!1}}return null}var za=[],Ha=0,Wa=null,Xa=0,Ka=[],qa=0,Ya=null,Qa=1,Ja="";function Za(e,n){za[Ha++]=Xa,za[Ha++]=Wa,Wa=e,Xa=n}function $a(e,n,t){Ka[qa++]=Qa,Ka[qa++]=Ja,Ka[qa++]=Ya,Ya=e;var r=Qa;e=Ja;var a=32-sn(r)-1;r&=~(1<<a),t+=1;var i=32-sn(n)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Qa=1<<32-sn(n)+a|t<<a|r,Ja=i+e}else Qa=1<<i|t<<a|r,Ja=e}function ei(e){null!==e.return&&(Za(e,1),$a(e,1,0))}function ni(e){for(;e===Wa;)Wa=za[--Ha],za[Ha]=null,Xa=za[--Ha],za[Ha]=null;for(;e===Ya;)Ya=Ka[--qa],Ka[qa]=null,Ja=Ka[--qa],Ka[qa]=null,Qa=Ka[--qa],Ka[qa]=null}var ti=null,ri=null,ai=!1,ii=null;function oi(e,n){var t=Pu(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function si(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ti=e,ri=ua(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ti=e,ri=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Ya?{id:Qa,overflow:Ja}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Pu(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ti=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var n=ri;if(n){var t=n;if(!si(e,n)){if(li(e))throw Error(i(418));n=ua(t.nextSibling);var r=ti;n&&si(e,n)?oi(r,t):(e.flags=-4097&e.flags|2,ai=!1,ti=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ti=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ti=e}function di(e){if(e!==ti)return!1;if(!ai)return ci(e),ai=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!ta(e.type,e.memoizedProps)),n&&(n=ri)){if(li(e))throw Ai(),Error(i(418));for(;n;)oi(e,n),n=ua(n.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){ri=ua(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}ri=null}}else ri=ti?ua(e.stateNode.nextSibling):null;return!0}function Ai(){for(var e=ri;e;)e=ua(e.nextSibling)}function fi(){ri=ti=null,ai=!1}function hi(e){null===ii?ii=[e]:ii.push(e)}var pi=x.ReactCurrentBatchConfig;function mi(e,n){if(e&&e.defaultProps){for(var t in n=I({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}var Si=ba(null),gi=null,vi=null,xi=null;function _i(){xi=vi=gi=null}function yi(e){var n=Si.current;Va(Si),e._currentValue=n}function wi(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function bi(e,n){gi=e,xi=vi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(xs=!0),e.firstContext=null)}function Vi(e){var n=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:n,next:null},null===vi){if(null===gi)throw Error(i(308));vi=e,gi.dependencies={lanes:0,firstContext:e}}else vi=vi.next=e;return n}var Ci=null;function Ei(e){null===Ci?Ci=[e]:Ci.push(e)}function Di(e,n,t,r){var a=n.interleaved;return null===a?(t.next=t,Ei(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fi(e,r)}function Fi(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Ti=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Mi(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var a=r.pending;return null===a?n.next=n:(n.next=a.next,a.next=n),r.pending=n,Fi(e,t)}return null===(a=r.interleaved)?(n.next=n,Ei(r)):(n.next=a.next,a.next=n),r.interleaved=n,Fi(e,t)}function Bi(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194240&t))){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,vn(e,t)}}function ki(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var a=null,i=null;if(null!==(t=t.firstBaseUpdate)){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===i?a=i=o:i=i.next=o,t=t.next}while(null!==t);null===i?a=i=n:i=i.next=n}else a=i=n;return t={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Ii(e,n,t,r){var a=e.updateQueue;Ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?i=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,c=u=l=null,s=i;;){var A=s.lane,f=s.eventTime;if((r&A)===A){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,p=s;switch(A=n,f=t,p.tag){case 1:if("function"===typeof(h=p.payload)){d=h.call(f,d,A);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(A="function"===typeof(h=p.payload)?h.call(f,d,A):h)||void 0===A)break e;d=I({},d,A);break e;case 2:Ti=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(A=a.effects)?a.effects=[s]:A.push(s))}else f={eventTime:f,lane:A,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=A;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(A=s).next,A.next=null,a.lastBaseUpdate=A,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(n=a.shared.interleaved)){a=n;do{o|=a.lane,a=a.next}while(a!==n)}else null===i&&(a.shared.lanes=0);kl|=o,e.lanes=o,e.memoizedState=d}}function Oi(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],a=r.callback;if(null!==a){if(r.callback=null,r=t,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Ni=(new r.Component).refs;function ji(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:I({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var Ui={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=eu(),a=nu(e),i=Li(r,a);i.payload=n,void 0!==t&&null!==t&&(i.callback=t),null!==(n=Mi(e,i,a))&&(tu(n,e,a,r),Bi(n,e,a))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=eu(),a=nu(e),i=Li(r,a);i.tag=1,i.payload=n,void 0!==t&&null!==t&&(i.callback=t),null!==(n=Mi(e,i,a))&&(tu(n,e,a,r),Bi(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=eu(),r=nu(e),a=Li(t,r);a.tag=2,void 0!==n&&null!==n&&(a.callback=n),null!==(n=Mi(e,a,r))&&(tu(n,e,r,t),Bi(n,e,r))}};function Gi(e,n,t,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!n.prototype||!n.prototype.isPureReactComponent||(!lr(t,r)||!lr(a,i))}function zi(e,n,t){var r=!1,a=Ea,i=n.contextType;return"object"===typeof i&&null!==i?i=Vi(i):(a=Ra(n)?Ta:Da.current,i=(r=null!==(r=n.contextTypes)&&void 0!==r)?Pa(e,a):Ea),n=new n(t,i),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Ui,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),n}function Hi(e,n,t,r){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Ui.enqueueReplaceState(n,n.state,null)}function Wi(e,n,t,r){var a=e.stateNode;a.props=t,a.state=e.memoizedState,a.refs=Ni,Pi(e);var i=n.contextType;"object"===typeof i&&null!==i?a.context=Vi(i):(i=Ra(n)?Ta:Da.current,a.context=Pa(e,i)),a.state=e.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ji(e,n,i,t),a.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(n=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),n!==a.state&&Ui.enqueueReplaceState(a,a.state,null),Ii(e,t,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Xi(e,n,t){if(null!==(e=t.ref)&&"function"!==typeof e&&"object"!==typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(i(309));var r=t.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===o?n.ref:(n=function(e){var n=a.refs;n===Ni&&(n=a.refs={}),null===e?delete n[o]:n[o]=e},n._stringRef=o,n)}if("string"!==typeof e)throw Error(i(284));if(!t._owner)throw Error(i(290,e))}return e}function Ki(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function qi(e){return(0,e._init)(e._payload)}function Yi(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function a(e,n){return(e=Lu(e,n)).index=0,e.sibling=null,e}function o(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Iu(t,e.mode,r)).return=e,n):((n=a(n,t)).return=e,n)}function u(e,n,t,r){var i=t.type;return i===w?d(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&qi(i)===n.type)?((r=a(n,t.props)).ref=Xi(e,n,t),r.return=e,r):((r=Mu(t.type,t.key,t.props,null,e.mode,r)).ref=Xi(e,n,t),r.return=e,r)}function c(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Ou(t,e.mode,r)).return=e,n):((n=a(n,t.children||[])).return=e,n)}function d(e,n,t,r,i){return null===n||7!==n.tag?((n=Bu(t,e.mode,r,i)).return=e,n):((n=a(n,t)).return=e,n)}function A(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n)return(n=Iu(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return(t=Mu(n.type,n.key,n.props,null,e.mode,t)).ref=Xi(e,null,n),t.return=e,t;case y:return(n=Ou(n,e.mode,t)).return=e,n;case R:return A(e,(0,n._init)(n._payload),t)}if(ne(n)||B(n))return(n=Bu(n,e.mode,t,null)).return=e,n;Ki(e,n)}return null}function f(e,n,t,r){var a=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t)return null!==a?null:l(e,n,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return t.key===a?u(e,n,t,r):null;case y:return t.key===a?c(e,n,t,r):null;case R:return f(e,n,(a=t._init)(t._payload),r)}if(ne(t)||B(t))return null!==a?null:d(e,n,t,r,null);Ki(e,t)}return null}function h(e,n,t,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(n,e=e.get(t)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(n,e=e.get(null===r.key?t:r.key)||null,r,a);case y:return c(n,e=e.get(null===r.key?t:r.key)||null,r,a);case R:return h(e,n,t,(0,r._init)(r._payload),a)}if(ne(r)||B(r))return d(n,e=e.get(t)||null,r,a,null);Ki(n,r)}return null}function p(a,i,s,l){for(var u=null,c=null,d=i,p=i=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var S=f(a,d,s[p],l);if(null===S){null===d&&(d=m);break}e&&d&&null===S.alternate&&n(a,d),i=o(S,i,p),null===c?u=S:c.sibling=S,c=S,d=m}if(p===s.length)return t(a,d),ai&&Za(a,p),u;if(null===d){for(;p<s.length;p++)null!==(d=A(a,s[p],l))&&(i=o(d,i,p),null===c?u=d:c.sibling=d,c=d);return ai&&Za(a,p),u}for(d=r(a,d);p<s.length;p++)null!==(m=h(d,a,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),i=o(m,i,p),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return n(a,e)})),ai&&Za(a,p),u}function m(a,s,l,u){var c=B(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,p=s,m=s=0,S=null,g=l.next();null!==p&&!g.done;m++,g=l.next()){p.index>m?(S=p,p=null):S=p.sibling;var v=f(a,p,g.value,u);if(null===v){null===p&&(p=S);break}e&&p&&null===v.alternate&&n(a,p),s=o(v,s,m),null===d?c=v:d.sibling=v,d=v,p=S}if(g.done)return t(a,p),ai&&Za(a,m),c;if(null===p){for(;!g.done;m++,g=l.next())null!==(g=A(a,g.value,u))&&(s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return ai&&Za(a,m),c}for(p=r(a,p);!g.done;m++,g=l.next())null!==(g=h(p,a,m,g.value,u))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return e&&p.forEach((function(e){return n(a,e)})),ai&&Za(a,m),c}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=i;null!==c;){if(c.key===u){if((u=o.type)===w){if(7===c.tag){t(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&qi(u)===c.type){t(r,c.sibling),(i=a(c,o.props)).ref=Xi(r,c,o),i.return=r,r=i;break e}t(r,c);break}n(r,c),c=c.sibling}o.type===w?((i=Bu(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Mu(o.type,o.key,o.props,null,r.mode,l)).ref=Xi(r,i,o),l.return=r,r=l)}return s(r);case y:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){t(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}t(r,i);break}n(r,i),i=i.sibling}(i=Ou(o,r.mode,l)).return=r,r=i}return s(r);case R:return e(r,i,(c=o._init)(o._payload),l)}if(ne(o))return p(r,i,o,l);if(B(o))return m(r,i,o,l);Ki(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(t(r,i.sibling),(i=a(i,o)).return=r,r=i):(t(r,i),(i=Iu(o,r.mode,l)).return=r,r=i),s(r)):t(r,i)}}var Qi=Yi(!0),Ji=Yi(!1),Zi={},$i=ba(Zi),eo=ba(Zi),no=ba(Zi);function to(e){if(e===Zi)throw Error(i(174));return e}function ro(e,n){switch(Ca(no,n),Ca(eo,e),Ca($i,Zi),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:le(null,"");break;default:n=le(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Va($i),Ca($i,n)}function ao(){Va($i),Va(eo),Va(no)}function io(e){to(no.current);var n=to($i.current),t=le(n,e.type);n!==t&&(Ca(eo,e),Ca($i,t))}function oo(e){eo.current===e&&(Va($i),Va(eo))}var so=ba(0);function lo(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var Ao=x.ReactCurrentDispatcher,fo=x.ReactCurrentBatchConfig,ho=0,po=null,mo=null,So=null,go=!1,vo=!1,xo=0,_o=0;function yo(){throw Error(i(321))}function wo(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!sr(e[t],n[t]))return!1;return!0}function bo(e,n,t,r,a,o){if(ho=o,po=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ao.current=null===e||null===e.memoizedState?ss:ls,e=t(r,a),vo){o=0;do{if(vo=!1,xo=0,25<=o)throw Error(i(301));o+=1,So=mo=null,n.updateQueue=null,Ao.current=us,e=t(r,a)}while(vo)}if(Ao.current=os,n=null!==mo&&null!==mo.next,ho=0,So=mo=po=null,go=!1,n)throw Error(i(300));return e}function Vo(){var e=0!==xo;return xo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?po.memoizedState=So=e:So=So.next=e,So}function Eo(){if(null===mo){var e=po.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var n=null===So?po.memoizedState:So.next;if(null!==n)So=n,mo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===So?po.memoizedState=So=e:So=So.next=e}return So}function Do(e,n){return"function"===typeof n?n(e):n}function Fo(e){var n=Eo(),t=n.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=e;var r=mo,a=r.baseQueue,o=t.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,t.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((ho&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var A={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=A,s=r):u=u.next=A,po.lanes|=d,kl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,n.memoizedState)||(xs=!0),n.memoizedState=r,n.baseState=s,n.baseQueue=u,t.lastRenderedState=r}if(null!==(e=t.interleaved)){a=e;do{o=a.lane,po.lanes|=o,kl|=o,a=a.next}while(a!==e)}else null===a&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function To(e){var n=Eo(),t=n.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=e;var r=t.dispatch,a=t.pending,o=n.memoizedState;if(null!==a){t.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,n.memoizedState)||(xs=!0),n.memoizedState=o,null===n.baseQueue&&(n.baseState=o),t.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,n){var t=po,r=Eo(),a=n(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,xs=!0),r=r.queue,Ho(Bo.bind(null,t,r,e),[e]),r.getSnapshot!==n||o||null!==So&&1&So.memoizedState.tag){if(t.flags|=2048,No(9,Mo.bind(null,t,r,a,n),void 0,null),null===Fl)throw Error(i(349));0!==(30&ho)||Lo(t,n,a)}return a}function Lo(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=po.updateQueue)?(n={lastEffect:null,stores:null},po.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Mo(e,n,t,r){n.value=t,n.getSnapshot=r,ko(n)&&Io(e)}function Bo(e,n,t){return t((function(){ko(n)&&Io(e)}))}function ko(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!sr(e,t)}catch(r){return!0}}function Io(e){var n=Fi(e,1);null!==n&&tu(n,e,1,-1)}function Oo(e){var n=Co();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},n.queue=e,e=e.dispatch=ts.bind(null,po,e),[n.memoizedState,e]}function No(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=po.updateQueue)?(n={lastEffect:null,stores:null},po.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function jo(){return Eo().memoizedState}function Uo(e,n,t,r){var a=Co();po.flags|=e,a.memoizedState=No(1|n,t,void 0,void 0===r?null:r)}function Go(e,n,t,r){var a=Eo();r=void 0===r?null:r;var i=void 0;if(null!==mo){var o=mo.memoizedState;if(i=o.destroy,null!==r&&wo(r,o.deps))return void(a.memoizedState=No(n,t,i,r))}po.flags|=e,a.memoizedState=No(1|n,t,i,r)}function zo(e,n){return Uo(8390656,8,e,n)}function Ho(e,n){return Go(2048,8,e,n)}function Wo(e,n){return Go(4,2,e,n)}function Xo(e,n){return Go(4,4,e,n)}function Ko(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function qo(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Go(4,4,Ko.bind(null,n,e),t)}function Yo(){}function Qo(e,n){var t=Eo();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&wo(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Jo(e,n){var t=Eo();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&wo(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function Zo(e,n,t){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=t):(sr(t,n)||(t=mn(),po.lanes|=t,kl|=t,e.baseState=!0),n)}function $o(e,n){var t=xn;xn=0!==t&&4>t?t:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),n()}finally{xn=t,fo.transition=r}}function es(){return Eo().memoizedState}function ns(e,n,t){var r=nu(e);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},rs(e))as(n,t);else if(null!==(t=Di(e,n,t,r))){tu(t,e,r,eu()),is(t,n,r)}}function ts(e,n,t){var r=nu(e),a={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(n,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=n.lastRenderedReducer))try{var o=n.lastRenderedState,s=i(o,t);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var l=n.interleaved;return null===l?(a.next=a,Ei(n)):(a.next=l.next,l.next=a),void(n.interleaved=a)}}catch(u){}null!==(t=Di(e,n,a,r))&&(tu(t,e,r,a=eu()),is(t,n,r))}}function rs(e){var n=e.alternate;return e===po||null!==n&&n===po}function as(e,n){vo=go=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function is(e,n,t){if(0!==(4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,vn(e,t)}}var os={readContext:Vi,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},ss={readContext:Vi,useCallback:function(e,n){return Co().memoizedState=[e,void 0===n?null:n],e},useContext:Vi,useEffect:zo,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Uo(4194308,4,Ko.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Uo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Uo(4,2,e,n)},useMemo:function(e,n){var t=Co();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Co();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=ns.bind(null,po,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Oo,useDebugValue:Yo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Oo(!1),n=e[0];return e=$o.bind(null,e[1]),Co().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=po,a=Co();if(ai){if(void 0===t)throw Error(i(407));t=t()}else{if(t=n(),null===Fl)throw Error(i(349));0!==(30&ho)||Lo(r,n,t)}a.memoizedState=t;var o={value:t,getSnapshot:n};return a.queue=o,zo(Bo.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Mo.bind(null,r,o,t,n),void 0,null),t},useId:function(){var e=Co(),n=Fl.identifierPrefix;if(ai){var t=Ja;n=":"+n+"R"+(t=(Qa&~(1<<32-sn(Qa)-1)).toString(32)+t),0<(t=xo++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=_o++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ls={readContext:Vi,useCallback:Qo,useContext:Vi,useEffect:Ho,useImperativeHandle:qo,useInsertionEffect:Wo,useLayoutEffect:Xo,useMemo:Jo,useReducer:Fo,useRef:jo,useState:function(){return Fo(Do)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Eo(),mo.memoizedState,e)},useTransition:function(){return[Fo(Do)[0],Eo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},us={readContext:Vi,useCallback:Qo,useContext:Vi,useEffect:Ho,useImperativeHandle:qo,useInsertionEffect:Wo,useLayoutEffect:Xo,useMemo:Jo,useReducer:To,useRef:jo,useState:function(){return To(Do)},useDebugValue:Yo,useDeferredValue:function(e){var n=Eo();return null===mo?n.memoizedState=e:Zo(n,mo.memoizedState,e)},useTransition:function(){return[To(Do)[0],Eo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,n){try{var t="",r=n;do{t+=U(r),r=r.return}while(r);var a=t}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:n,stack:a,digest:null}}function ds(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function As(e,n){try{console.error(n.value)}catch(t){setTimeout((function(){throw t}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,n,t){(t=Li(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Hl||(Hl=!0,Wl=r),As(0,n)},t}function ps(e,n,t){(t=Li(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=n.value;t.payload=function(){return r(a)},t.callback=function(){As(0,n)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(t.callback=function(){As(0,n),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function ms(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(n,a)}else void 0===(a=r.get(n))&&(a=new Set,r.set(n,a));a.has(t)||(a.add(t),e=Vu.bind(null,e,n,t),n.then(e,e))}function Ss(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function gs(e,n,t,r,a){return 0===(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=Li(-1,1)).tag=2,Mi(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=x.ReactCurrentOwner,xs=!1;function _s(e,n,t,r){n.child=null===e?Ji(n,null,t,r):Qi(n,e.child,t,r)}function ys(e,n,t,r,a){t=t.render;var i=n.ref;return bi(n,a),r=bo(e,n,t,r,i,a),t=Vo(),null===e||xs?(ai&&t&&ei(n),n.flags|=1,_s(e,n,r,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Hs(e,n,a))}function ws(e,n,t,r,a){if(null===e){var i=t.type;return"function"!==typeof i||Ru(i)||void 0!==i.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Mu(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=i,bs(e,n,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(o,r)&&e.ref===n.ref)return Hs(e,n,a)}return n.flags|=1,(e=Lu(i,r)).ref=n.ref,e.return=n,n.child=e}function bs(e,n,t,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===n.ref){if(xs=!1,n.pendingProps=r=i,0===(e.lanes&a))return n.lanes=e.lanes,Hs(e,n,a);0!==(131072&e.flags)&&(xs=!0)}}return Es(e,n,t,r,a)}function Vs(e,n,t){var r=n.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ll,Rl),Rl|=t;else{if(0===(1073741824&t))return e=null!==i?i.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ca(Ll,Rl),Rl|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:t,Ca(Ll,Rl),Rl|=r}else null!==i?(r=i.baseLanes|t,n.memoizedState=null):r=t,Ca(Ll,Rl),Rl|=r;return _s(e,n,a,t),n.child}function Cs(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Es(e,n,t,r,a){var i=Ra(t)?Ta:Da.current;return i=Pa(n,i),bi(n,a),t=bo(e,n,t,r,i,a),r=Vo(),null===e||xs?(ai&&r&&ei(n),n.flags|=1,_s(e,n,t,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Hs(e,n,a))}function Ds(e,n,t,r,a){if(Ra(t)){var i=!0;ka(n)}else i=!1;if(bi(n,a),null===n.stateNode)zs(e,n),zi(n,t,r),Wi(n,t,r,a),r=!0;else if(null===e){var o=n.stateNode,s=n.memoizedProps;o.props=s;var l=o.context,u=t.contextType;"object"===typeof u&&null!==u?u=Vi(u):u=Pa(n,u=Ra(t)?Ta:Da.current);var c=t.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Hi(n,o,r,u),Ti=!1;var A=n.memoizedState;o.state=A,Ii(n,r,o,a),l=n.memoizedState,s!==r||A!==l||Fa.current||Ti?("function"===typeof c&&(ji(n,t,c,r),l=n.memoizedState),(s=Ti||Gi(n,t,s,r,A,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(n.flags|=4194308)):("function"===typeof o.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(n.flags|=4194308),r=!1)}else{o=n.stateNode,Ri(e,n),s=n.memoizedProps,u=n.type===n.elementType?s:mi(n.type,s),o.props=u,d=n.pendingProps,A=o.context,"object"===typeof(l=t.contextType)&&null!==l?l=Vi(l):l=Pa(n,l=Ra(t)?Ta:Da.current);var f=t.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||A!==l)&&Hi(n,o,r,l),Ti=!1,A=n.memoizedState,o.state=A,Ii(n,r,o,a);var h=n.memoizedState;s!==d||A!==h||Fa.current||Ti?("function"===typeof f&&(ji(n,t,f,r),h=n.memoizedState),(u=Ti||Gi(n,t,u,r,A,h,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(n.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),r=!1)}return Fs(e,n,t,r,i,a)}function Fs(e,n,t,r,a,i){Cs(e,n);var o=0!==(128&n.flags);if(!r&&!o)return a&&Ia(n,t,!1),Hs(e,n,i);r=n.stateNode,vs.current=n;var s=o&&"function"!==typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&o?(n.child=Qi(n,e.child,null,i),n.child=Qi(n,null,s,i)):_s(e,n,s,i),n.memoizedState=r.state,a&&Ia(n,t,!0),n.child}function Ts(e){var n=e.stateNode;n.pendingContext?Ma(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Ma(0,n.context,!1),ro(e,n.containerInfo)}function Ps(e,n,t,r,a){return fi(),hi(a),n.flags|=256,_s(e,n,t,r),n.child}var Rs,Ls,Ms,Bs={dehydrated:null,treeContext:null,retryLane:0};function ks(e){return{baseLanes:e,cachePool:null,transitions:null}}function Is(e,n,t){var r,a=n.pendingProps,o=so.current,s=!1,l=0!==(128&n.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(so,1&o),null===e)return ui(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=n.mode,s=n.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ku(l,a,0,null),e=Bu(e,a,t,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=ks(t),n.memoizedState=Bs,e):Os(n,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,n,t,r,a,o,s){if(t)return 256&n.flags?(n.flags&=-257,Ns(e,n,s,r=ds(Error(i(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(o=r.fallback,a=n.mode,r=ku({mode:"visible",children:r.children},a,0,null),(o=Bu(o,a,s,null)).flags|=2,r.return=n,o.return=n,r.sibling=o,n.child=r,0!==(1&n.mode)&&Qi(n,e.child,null,s),n.child.memoizedState=ks(s),n.memoizedState=Bs,o);if(0===(1&n.mode))return Ns(e,n,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ns(e,n,s,r=ds(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Fl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Fi(e,a),tu(r,e,a,-1))}return pu(),Ns(e,n,s,r=ds(Error(i(421))))}return"$?"===a.data?(n.flags|=128,n.child=e.child,n=Eu.bind(null,e),a._reactRetry=n,null):(e=o.treeContext,ri=ua(a.nextSibling),ti=n,ai=!0,ii=null,null!==e&&(Ka[qa++]=Qa,Ka[qa++]=Ja,Ka[qa++]=Ya,Qa=e.id,Ja=e.overflow,Ya=n),(n=Os(n,r.children)).flags|=4096,n)}(e,n,l,a,r,o,t);if(s){s=a.fallback,l=n.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&n.child!==o?((a=n.child).childLanes=0,a.pendingProps=u,n.deletions=null):(a=Lu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Lu(r,s):(s=Bu(s,l,t,null)).flags|=2,s.return=n,a.return=n,a.sibling=s,n.child=a,a=s,s=n.child,l=null===(l=e.child.memoizedState)?ks(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~t,n.memoizedState=Bs,a}return e=(s=e.child).sibling,a=Lu(s,{mode:"visible",children:a.children}),0===(1&n.mode)&&(a.lanes=t),a.return=n,a.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=a,n.memoizedState=null,a}function Os(e,n){return(n=ku({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Ns(e,n,t,r){return null!==r&&hi(r),Qi(n,e.child,null,t),(e=Os(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function js(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),wi(e.return,n,t)}function Us(e,n,t,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=a)}function Gs(e,n,t){var r=n.pendingProps,a=r.revealOrder,i=r.tail;if(_s(e,n,r.children,t),0!==(2&(r=so.current)))r=1&r|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,t,n);else if(19===e.tag)js(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(so,r),0===(1&n.mode))n.memoizedState=null;else switch(a){case"forwards":for(t=n.child,a=null;null!==t;)null!==(e=t.alternate)&&null===lo(e)&&(a=t),t=t.sibling;null===(t=a)?(a=n.child,n.child=null):(a=t.sibling,t.sibling=null),Us(n,!1,a,t,i);break;case"backwards":for(t=null,a=n.child,n.child=null;null!==a;){if(null!==(e=a.alternate)&&null===lo(e)){n.child=a;break}e=a.sibling,a.sibling=t,t=a,a=e}Us(n,!0,t,null,i);break;case"together":Us(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zs(e,n){0===(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Hs(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),kl|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(i(153));if(null!==n.child){for(t=Lu(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Lu(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Ws(e,n){if(!ai)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Ks(e,n,t){var r=n.pendingProps;switch(ni(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(n),null;case 1:case 17:return Ra(n.type)&&La(),Xs(n),null;case 3:return r=n.stateNode,ao(),Va(Fa),Va(Da),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,null!==ii&&(ou(ii),ii=null))),Xs(n),null;case 5:oo(n);var a=to(no.current);if(t=n.type,null!==e&&null!=n.stateNode)Ls(e,n,t,r),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(i(166));return Xs(n),null}if(e=to($i.current),di(n)){r=n.stateNode,t=n.type;var o=n.memoizedProps;switch(r[Aa]=n,r[fa]=o,e=0!==(1&n.mode),t){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(a=0;a<Br.length;a++)Nr(Br[a],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":Q(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":ae(r,o),Nr("invalid",r)}for(var l in ge(t,o),a=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Nr("scroll",r)}switch(t){case"input":X(r),$(r,o,!0);break;case"textarea":X(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=a,n.updateQueue=r,null!==r&&(n.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(t,{is:r.is}):(e=l.createElement(t),"select"===t&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,t),e[Aa]=n,e[fa]=r,Rs(e,n),n.stateNode=e;e:{switch(l=ve(t,r),t){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Br.length;a++)Nr(Br[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":Q(e,r),a=Y(e,r),Nr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Nr("invalid",e)}for(o in ge(t,a),u=a)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==t||""!==c)&&Ae(e,c):"number"===typeof c&&Ae(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Nr("scroll",e):null!=c&&v(e,o,c,l))}switch(t){case"input":X(e),$(e,r,!1);break;case"textarea":X(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?te(e,!!r.multiple,o,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Xs(n),null;case 6:if(e&&null!=n.stateNode)Ms(0,n,e.memoizedProps,r);else{if("string"!==typeof r&&null===n.stateNode)throw Error(i(166));if(t=to(no.current),to($i.current),di(n)){if(r=n.stateNode,t=n.memoizedProps,r[Aa]=n,(o=r.nodeValue!==t)&&null!==(e=ti))switch(e.tag){case 3:Zr(r.nodeValue,t,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,t,0!==(1&e.mode))}o&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[Aa]=n,n.stateNode=r}return Xs(n),null;case 13:if(Va(so),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&n.mode)&&0===(128&n.flags))Ai(),fi(),n.flags|=98560,o=!1;else if(o=di(n),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=n.memoizedState)?o.dehydrated:null))throw Error(i(317));o[Aa]=n}else fi(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Xs(n),o=!1}else null!==ii&&(ou(ii),ii=null),o=!0;if(!o)return 65536&n.flags?n:null}return 0!==(128&n.flags)?(n.lanes=t,n):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,0!==(1&n.mode)&&(null===e||0!==(1&so.current)?0===Ml&&(Ml=3):pu())),null!==n.updateQueue&&(n.flags|=4),Xs(n),null);case 4:return ao(),null===e&&Gr(n.stateNode.containerInfo),Xs(n),null;case 10:return yi(n.type._context),Xs(n),null;case 19:if(Va(so),null===(o=n.memoizedState))return Xs(n),null;if(r=0!==(128&n.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(l=lo(e))){for(n.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(o=t).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Ca(so,1&so.current|2),n.child}e=e.sibling}null!==o.tail&&Je()>Gl&&(n.flags|=128,r=!0,Ws(o,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ai)return Xs(n),null}else 2*Je()-o.renderingStartTime>Gl&&1073741824!==t&&(n.flags|=128,r=!0,Ws(o,!1),n.lanes=4194304);o.isBackwards?(l.sibling=n.child,n.child=l):(null!==(t=o.last)?t.sibling=l:n.child=l,o.last=l)}return null!==o.tail?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=Je(),n.sibling=null,t=so.current,Ca(so,r?1&t|2:1&t),n):(Xs(n),null);case 22:case 23:return du(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&0!==(1&n.mode)?0!==(1073741824&Rl)&&(Xs(n),6&n.subtreeFlags&&(n.flags|=8192)):Xs(n),null;case 24:case 25:return null}throw Error(i(156,n.tag))}function qs(e,n){switch(ni(n),n.tag){case 1:return Ra(n.type)&&La(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return ao(),Va(Fa),Va(Da),co(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 5:return oo(n),null;case 13:if(Va(so),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(i(340));fi()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Va(so),null;case 4:return ao(),null;case 10:return yi(n.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Ls=function(e,n,t,r){var a=e.memoizedProps;if(a!==r){e=n.stateNode,to($i.current);var i,o=null;switch(t){case"input":a=Y(e,a),r=Y(e,r),o=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ge(t,r),t=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(t||(t={}),t[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(t||(t={}),t[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(t||(t={}),t[i]=u[i])}else t||(o||(o=[]),o.push(c,t)),t=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Nr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}t&&(o=o||[]).push("style",t);var c=o;(n.updateQueue=c)&&(n.flags|=4)}},Ms=function(e,n,t,r){t!==r&&(n.flags|=4)};var Ys=!1,Qs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,n){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){bu(e,n,r)}else t.current=null}function el(e,n,t){try{t()}catch(r){bu(e,n,r)}}var nl=!1;function tl(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(n,t,i)}a=a.next}while(a!==r)}}function rl(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function al(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"===typeof n?n(e):n.current=e}}function il(e){var n=e.alternate;null!==n&&(e.alternate=null,il(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[Aa],delete n[fa],delete n[pa],delete n[ma],delete n[Sa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,n,t),e=e.sibling;null!==e;)ll(e,n,t),e=e.sibling}function ul(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,n,t),e=e.sibling;null!==e;)ul(e,n,t),e=e.sibling}var cl=null,dl=!1;function Al(e,n,t){for(t=t.child;null!==t;)fl(e,n,t),t=t.sibling}function fl(e,n,t){if(on&&"function"===typeof on.onCommitFiberUnmount)try{on.onCommitFiberUnmount(an,t)}catch(s){}switch(t.tag){case 5:Qs||$s(t,n);case 6:var r=cl,a=dl;cl=null,Al(e,n,t),dl=a,null!==(cl=r)&&(dl?(e=cl,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):cl.removeChild(t.stateNode));break;case 18:null!==cl&&(dl?(e=cl,t=t.stateNode,8===e.nodeType?la(e.parentNode,t):1===e.nodeType&&la(e,t),zn(e)):la(cl,t.stateNode));break;case 4:r=cl,a=dl,cl=t.stateNode.containerInfo,dl=!0,Al(e,n,t),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=t.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(t,n,o),a=a.next}while(a!==r)}Al(e,n,t);break;case 1:if(!Qs&&($s(t,n),"function"===typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(s){bu(t,n,s)}Al(e,n,t);break;case 21:Al(e,n,t);break;case 22:1&t.mode?(Qs=(r=Qs)||null!==t.memoizedState,Al(e,n,t),Qs=r):Al(e,n,t);break;default:Al(e,n,t)}}function hl(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Js),n.forEach((function(n){var r=Du.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))}))}}function pl(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];try{var o=e,s=n,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(o,s,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){bu(a,n,c)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)ml(n,e),n=n.sibling}function ml(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(n,e),Sl(e),4&r){try{tl(3,e,e.return),rl(3,e)}catch(m){bu(e,e.return,m)}try{tl(5,e,e.return)}catch(m){bu(e,e.return,m)}}break;case 1:pl(n,e),Sl(e),512&r&&null!==t&&$s(t,t.return);break;case 5:if(pl(n,e),Sl(e),512&r&&null!==t&&$s(t,t.return),32&e.flags){var a=e.stateNode;try{Ae(a,"")}catch(m){bu(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==t?t.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(a,o),ve(l,s);var c=ve(l,o);for(s=0;s<u.length;s+=2){var d=u[s],A=u[s+1];"style"===d?me(a,A):"dangerouslySetInnerHTML"===d?de(a,A):"children"===d?Ae(a,A):v(a,d,A,c)}switch(l){case"input":Z(a,o);break;case"textarea":ie(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?te(a,!!o.multiple,h,!1):f!==!!o.multiple&&(null!=o.defaultValue?te(a,!!o.multiple,o.defaultValue,!0):te(a,!!o.multiple,o.multiple?[]:"",!1))}a[fa]=o}catch(m){bu(e,e.return,m)}}break;case 6:if(pl(n,e),Sl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(m){bu(e,e.return,m)}}break;case 3:if(pl(n,e),Sl(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{zn(n.containerInfo)}catch(m){bu(e,e.return,m)}break;case 4:default:pl(n,e),Sl(e);break;case 13:pl(n,e),Sl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Je())),4&r&&hl(e);break;case 22:if(d=null!==t&&null!==t.memoizedState,1&e.mode?(Qs=(c=Qs)||d,pl(n,e),Qs=c):pl(n,e),Sl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(A=Zs=d;null!==Zs;){switch(h=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:$s(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,t=f.return;try{n=r,p.props=n.memoizedProps,p.state=n.memoizedState,p.componentWillUnmount()}catch(m){bu(r,t,m)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){_l(A);continue}}null!==h?(h.return=f,Zs=h):_l(A)}d=d.sibling}e:for(d=null,A=e;;){if(5===A.tag){if(null===d){d=A;try{a=A.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=A.stateNode,s=void 0!==(u=A.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",s))}catch(m){bu(e,e.return,m)}}}else if(6===A.tag){if(null===d)try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(m){bu(e,e.return,m)}}else if((22!==A.tag&&23!==A.tag||null===A.memoizedState||A===e)&&null!==A.child){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;null===A.sibling;){if(null===A.return||A.return===e)break e;d===A&&(d=null),A=A.return}d===A&&(d=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:pl(n,e),Sl(e),4&r&&hl(e);case 21:}}function Sl(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(ol(t)){var r=t;break e}t=t.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(Ae(a,""),r.flags&=-33),ul(e,sl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(i(161))}}catch(s){bu(e,e.return,s)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function gl(e,n,t){Zs=e,vl(e,n,t)}function vl(e,n,t){for(var r=0!==(1&e.mode);null!==Zs;){var a=Zs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ys;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ys;var u=Qs;if(Ys=o,(Qs=l)&&!u)for(Zs=a;null!==Zs;)l=(o=Zs).child,22===o.tag&&null!==o.memoizedState?yl(a):null!==l?(l.return=o,Zs=l):yl(a);for(;null!==i;)Zs=i,vl(i,n,t),i=i.sibling;Zs=a,Ys=s,Qs=u}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Zs=i):xl(e)}}function xl(e){for(;null!==Zs;){var n=Zs;if(0!==(8772&n.flags)){var t=n.alternate;try{if(0!==(8772&n.flags))switch(n.tag){case 0:case 11:case 15:Qs||rl(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Qs)if(null===t)r.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:mi(n.type,t.memoizedProps);r.componentDidUpdate(a,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;null!==o&&Oi(n,o,r);break;case 3:var s=n.updateQueue;if(null!==s){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Oi(n,s,t)}break;case 5:var l=n.stateNode;if(null===t&&4&n.flags){t=l;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var c=n.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var A=d.dehydrated;null!==A&&zn(A)}}}break;default:throw Error(i(163))}Qs||512&n.flags&&al(n)}catch(f){bu(n,n.return,f)}}if(n===e){Zs=null;break}if(null!==(t=n.sibling)){t.return=n.return,Zs=t;break}Zs=n.return}}function _l(e){for(;null!==Zs;){var n=Zs;if(n===e){Zs=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Zs=t;break}Zs=n.return}}function yl(e){for(;null!==Zs;){var n=Zs;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{rl(4,n)}catch(l){bu(n,t,l)}break;case 1:var r=n.stateNode;if("function"===typeof r.componentDidMount){var a=n.return;try{r.componentDidMount()}catch(l){bu(n,a,l)}}var i=n.return;try{al(n)}catch(l){bu(n,i,l)}break;case 5:var o=n.return;try{al(n)}catch(l){bu(n,o,l)}}}catch(l){bu(n,n.return,l)}if(n===e){Zs=null;break}var s=n.sibling;if(null!==s){s.return=n.return,Zs=s;break}Zs=n.return}}var wl,bl=Math.ceil,Vl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Dl=0,Fl=null,Tl=null,Pl=0,Rl=0,Ll=ba(0),Ml=0,Bl=null,kl=0,Il=0,Ol=0,Nl=null,jl=null,Ul=0,Gl=1/0,zl=null,Hl=!1,Wl=null,Xl=null,Kl=!1,ql=null,Yl=0,Ql=0,Jl=null,Zl=-1,$l=0;function eu(){return 0!==(6&Dl)?Je():-1!==Zl?Zl:Zl=Je()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Pl?Pl&-Pl:null!==pi.transition?(0===$l&&($l=mn()),$l):0!==(e=xn)?e:e=void 0===(e=window.event)?16:Jn(e.type)}function tu(e,n,t,r){if(50<Ql)throw Ql=0,Jl=null,Error(i(185));gn(e,t,r),0!==(2&Dl)&&e===Fl||(e===Fl&&(0===(2&Dl)&&(Il|=t),4===Ml&&su(e,Pl)),ru(e,r),1===t&&0===Dl&&0===(1&n.mode)&&(Gl=Je()+500,Na&&Ga()))}function ru(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-sn(i),s=1<<o,l=a[o];-1===l?0!==(s&t)&&0===(s&r)||(a[o]=hn(s,n)):l<=n&&(e.expiredLanes|=s),i&=~s}}(e,n);var r=fn(e,e===Fl?Pl:0);if(0===r)null!==t&&qe(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&qe(t),1===n)0===e.tag?function(e){Na=!0,Ua(e)}(lu.bind(null,e)):Ua(lu.bind(null,e)),oa((function(){0===(6&Dl)&&Ga()})),t=null;else{switch(_n(r)){case 1:t=$e;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Fu(t,au.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function au(e,n){if(Zl=-1,$l=0,0!==(6&Dl))throw Error(i(327));var t=e.callbackNode;if(yu()&&e.callbackNode!==t)return null;var r=fn(e,e===Fl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||n)n=mu(e,r);else{n=r;var a=Dl;Dl|=2;var o=hu();for(Fl===e&&Pl===n||(zl=null,Gl=Je()+500,Au(e,n));;)try{gu();break}catch(l){fu(e,l)}_i(),Vl.current=o,Dl=a,null!==Tl?n=0:(Fl=null,Pl=0,n=Ml)}if(0!==n){if(2===n&&(0!==(a=pn(e))&&(r=a,n=iu(e,a))),1===n)throw t=Bl,Au(e,0),su(e,r),ru(e,Je()),t;if(6===n)su(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var a=t[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(a)&&(2===(n=mu(e,r))&&(0!==(o=pn(e))&&(r=o,n=iu(e,o))),1===n))throw t=Bl,Au(e,0),su(e,r),ru(e,Je()),t;switch(e.finishedWork=a,e.finishedLanes=r,n){case 0:case 1:throw Error(i(345));case 2:case 5:_u(e,jl,zl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(n=Ul+500-Je())){if(0!==fn(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(_u.bind(null,e,jl,zl),n);break}_u(e,jl,zl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var s=31-sn(r);o=1<<s,(s=n[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bl(r/1960))-r)){e.timeoutHandle=ra(_u.bind(null,e,jl,zl),r);break}_u(e,jl,zl);break;default:throw Error(i(329))}}}return ru(e,Je()),e.callbackNode===t?au.bind(null,e):null}function iu(e,n){var t=Nl;return e.current.memoizedState.isDehydrated&&(Au(e,n).flags|=256),2!==(e=mu(e,n))&&(n=jl,jl=t,null!==n&&ou(n)),e}function ou(e){null===jl?jl=e:jl.push.apply(jl,e)}function su(e,n){for(n&=~Ol,n&=~Il,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-sn(n),r=1<<t;e[t]=-1,n&=~r}}function lu(e){if(0!==(6&Dl))throw Error(i(327));yu();var n=fn(e,0);if(0===(1&n))return ru(e,Je()),null;var t=mu(e,n);if(0!==e.tag&&2===t){var r=pn(e);0!==r&&(n=r,t=iu(e,r))}if(1===t)throw t=Bl,Au(e,0),su(e,n),ru(e,Je()),t;if(6===t)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,_u(e,jl,zl),ru(e,Je()),null}function uu(e,n){var t=Dl;Dl|=1;try{return e(n)}finally{0===(Dl=t)&&(Gl=Je()+500,Na&&Ga())}}function cu(e){null!==ql&&0===ql.tag&&0===(6&Dl)&&yu();var n=Dl;Dl|=1;var t=El.transition,r=xn;try{if(El.transition=null,xn=1,e)return e()}finally{xn=r,El.transition=t,0===(6&(Dl=n))&&Ga()}}function du(){Rl=Ll.current,Va(Ll)}function Au(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,aa(t)),null!==Tl)for(t=Tl.return;null!==t;){var r=t;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&La();break;case 3:ao(),Va(Fa),Va(Da),co();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Va(so);break;case 10:yi(r.type._context);break;case 22:case 23:du()}t=t.return}if(Fl=e,Tl=e=Lu(e.current,null),Pl=Rl=n,Ml=0,Bl=null,Ol=Il=kl=0,jl=Nl=null,null!==Ci){for(n=0;n<Ci.length;n++)if(null!==(r=(t=Ci[n]).interleaved)){t.interleaved=null;var a=r.next,i=t.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}t.pending=r}Ci=null}return e}function fu(e,n){for(;;){var t=Tl;try{if(_i(),Ao.current=os,go){for(var r=po.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}go=!1}if(ho=0,So=mo=po=null,vo=!1,xo=0,Cl.current=null,null===t||null===t.return){Ml=1,Bl=n,Tl=null;break}e:{var o=e,s=t.return,l=t,u=n;if(n=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,A=d.tag;if(0===(1&d.mode)&&(0===A||11===A||15===A)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Ss(s);if(null!==h){h.flags&=-257,gs(h,s,l,0,n),1&h.mode&&ms(o,c,n),u=c;var p=(n=h).updateQueue;if(null===p){var m=new Set;m.add(u),n.updateQueue=m}else p.add(u);break e}if(0===(1&n)){ms(o,c,n),pu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var S=Ss(s);if(null!==S){0===(65536&S.flags)&&(S.flags|=256),gs(S,s,l,0,n),hi(cs(u,l));break e}}o=u=cs(u,l),4!==Ml&&(Ml=2),null===Nl?Nl=[o]:Nl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,n&=-n,o.lanes|=n,ki(o,hs(0,u,n));break e;case 1:l=u;var g=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Xl||!Xl.has(v)))){o.flags|=65536,n&=-n,o.lanes|=n,ki(o,ps(o,l,n));break e}}o=o.return}while(null!==o)}xu(t)}catch(x){n=x,Tl===t&&null!==t&&(Tl=t=t.return);continue}break}}function hu(){var e=Vl.current;return Vl.current=os,null===e?os:e}function pu(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Fl||0===(268435455&kl)&&0===(268435455&Il)||su(Fl,Pl)}function mu(e,n){var t=Dl;Dl|=2;var r=hu();for(Fl===e&&Pl===n||(zl=null,Au(e,n));;)try{Su();break}catch(a){fu(e,a)}if(_i(),Dl=t,Vl.current=r,null!==Tl)throw Error(i(261));return Fl=null,Pl=0,Ml}function Su(){for(;null!==Tl;)vu(Tl)}function gu(){for(;null!==Tl&&!Ye();)vu(Tl)}function vu(e){var n=wl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===n?xu(e):Tl=n,Cl.current=null}function xu(e){var n=e;do{var t=n.alternate;if(e=n.return,0===(32768&n.flags)){if(null!==(t=Ks(t,n,Rl)))return void(Tl=t)}else{if(null!==(t=qs(t,n)))return t.flags&=32767,void(Tl=t);if(null===e)return Ml=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(Tl=n);Tl=n=e}while(null!==n);0===Ml&&(Ml=5)}function _u(e,n,t){var r=xn,a=El.transition;try{El.transition=null,xn=1,function(e,n,t,r){do{yu()}while(null!==ql);if(0!==(6&Dl))throw Error(i(327));t=e.finishedWork;var a=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var a=31-sn(t),i=1<<a;n[a]=0,r[a]=-1,e[a]=-1,t&=~i}}(e,o),e===Fl&&(Tl=Fl=null,Pl=0),0===(2064&t.subtreeFlags)&&0===(2064&t.flags)||Kl||(Kl=!0,Fu(nn,(function(){return yu(),null}))),o=0!==(15990&t.flags),0!==(15990&t.subtreeFlags)||o){o=El.transition,El.transition=null;var s=xn;xn=1;var l=Dl;Dl|=4,Cl.current=null,function(e,n){if(ea=Wn,fr(e=Ar())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch(_){t=null;break e}var s=0,l=-1,u=-1,c=0,d=0,A=e,f=null;n:for(;;){for(var h;A!==t||0!==a&&3!==A.nodeType||(l=s+a),A!==o||0!==r&&3!==A.nodeType||(u=s+r),3===A.nodeType&&(s+=A.nodeValue.length),null!==(h=A.firstChild);)f=A,A=h;for(;;){if(A===e)break n;if(f===t&&++c===a&&(l=s),f===o&&++d===r&&(u=s),null!==(h=A.nextSibling))break;f=(A=f).parentNode}A=h}t=-1===l||-1===u?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(na={focusedElem:e,selectionRange:t},Wn=!1,Zs=n;null!==Zs;)if(e=(n=Zs).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Zs=e;else for(;null!==Zs;){n=Zs;try{var p=n.alternate;if(0!==(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,S=p.memoizedState,g=n.stateNode,v=g.getSnapshotBeforeUpdate(n.elementType===n.type?m:mi(n.type,m),S);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=n.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(_){bu(n,n.return,_)}if(null!==(e=n.sibling)){e.return=n.return,Zs=e;break}Zs=n.return}p=nl,nl=!1}(e,t),ml(t,e),hr(na),Wn=!!ea,na=ea=null,e.current=t,gl(t,e,a),Qe(),Dl=l,xn=s,El.transition=o}else e.current=t;if(Kl&&(Kl=!1,ql=e,Yl=a),0===(o=e.pendingLanes)&&(Xl=null),function(e){if(on&&"function"===typeof on.onCommitFiberRoot)try{on.onCommitFiberRoot(an,e,void 0,128===(128&e.current.flags))}catch(n){}}(t.stateNode),ru(e,Je()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)r((a=n[t]).value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&yu(),0!==(1&(o=e.pendingLanes))?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Ga()}(e,n,t,r)}finally{El.transition=a,xn=r}return null}function yu(){if(null!==ql){var e=_n(Yl),n=El.transition,t=xn;try{if(El.transition=null,xn=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Yl=0,0!==(6&Dl))throw Error(i(331));var a=Dl;for(Dl|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zs=c;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:tl(8,d,o)}var A=d.child;if(null!==A)A.return=d,Zs=A;else for(;null!==Zs;){var f=(d=Zs).sibling,h=d.return;if(il(d),d===c){Zs=null;break}if(null!==f){f.return=h,Zs=f;break}Zs=h}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:tl(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var v=e.current;for(Zs=v;null!==Zs;){var x=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Zs=x;else e:for(s=v;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(y){bu(l,l.return,y)}if(l===s){Zs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zs=_;break e}Zs=l.return}}if(Dl=a,Ga(),on&&"function"===typeof on.onPostCommitFiberRoot)try{on.onPostCommitFiberRoot(an,e)}catch(y){}r=!0}return r}finally{xn=t,El.transition=n}}return!1}function wu(e,n,t){e=Mi(e,n=hs(0,n=cs(t,n),1),1),n=eu(),null!==e&&(gn(e,1,n),ru(e,n))}function bu(e,n,t){if(3===e.tag)wu(e,e,t);else for(;null!==n;){if(3===n.tag){wu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){n=Mi(n,e=ps(n,e=cs(t,e),1),1),e=eu(),null!==n&&(gn(n,1,e),ru(n,e));break}}n=n.return}}function Vu(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=eu(),e.pingedLanes|=e.suspendedLanes&t,Fl===e&&(Pl&t)===t&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Je()-Ul?Au(e,0):Ol|=t),ru(e,n)}function Cu(e,n){0===n&&(0===(1&e.mode)?n=1:(n=dn,0===(130023424&(dn<<=1))&&(dn=4194304)));var t=eu();null!==(e=Fi(e,n))&&(gn(e,n,t),ru(e,t))}function Eu(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Cu(e,t)}function Du(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(t=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(n),Cu(e,t)}function Fu(e,n){return Ke(e,n)}function Tu(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,n,t,r){return new Tu(e,n,t,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,n){var t=e.alternate;return null===t?((t=Pu(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Mu(e,n,t,r,a,o){var s=2;if(r=e,"function"===typeof e)Ru(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Bu(t.children,a,o,n);case b:s=8,a|=8;break;case V:return(e=Pu(12,t,n,2|a)).elementType=V,e.lanes=o,e;case F:return(e=Pu(13,t,n,a)).elementType=F,e.lanes=o,e;case T:return(e=Pu(19,t,n,a)).elementType=T,e.lanes=o,e;case L:return ku(t,a,o,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case E:s=9;break e;case D:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(n=Pu(s,t,n,a)).elementType=e,n.type=r,n.lanes=o,n}function Bu(e,n,t,r){return(e=Pu(7,e,r,n)).lanes=t,e}function ku(e,n,t,r){return(e=Pu(22,e,r,n)).elementType=L,e.lanes=t,e.stateNode={isHidden:!1},e}function Iu(e,n,t){return(e=Pu(6,e,null,n)).lanes=t,e}function Ou(e,n,t){return(n=Pu(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Nu(e,n,t,r,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sn(0),this.expirationTimes=Sn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ju(e,n,t,r,a,i,o,s,l){return e=new Nu(e,n,t,s,l),1===n?(n=1,!0===i&&(n|=8)):n=0,i=Pu(3,null,null,n),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function Uu(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function Gu(e){if(!e)return Ea;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ra(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(i(171))}if(1===e.tag){var t=e.type;if(Ra(t))return Ba(e,t,n)}return n}function zu(e,n,t,r,a,i,o,s,l){return(e=ju(t,r,!0,e,0,i,0,s,l)).context=Gu(null),t=e.current,(i=Li(r=eu(),a=nu(t))).callback=void 0!==n&&null!==n?n:null,Mi(t,i,a),e.current.lanes=a,gn(e,a,r),ru(e,r),e}function Hu(e,n,t,r){var a=n.current,i=eu(),o=nu(a);return t=Gu(t),null===n.context?n.context=t:n.pendingContext=t,(n=Li(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Mi(a,n,o))&&(tu(e,a,o,i),Bi(e,a,o)),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xu(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Ku(e,n){Xu(e,n),(e=e.alternate)&&Xu(e,n)}wl=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Fa.current)xs=!0;else{if(0===(e.lanes&t)&&0===(128&n.flags))return xs=!1,function(e,n,t){switch(n.tag){case 3:Ts(n),fi();break;case 5:io(n);break;case 1:Ra(n.type)&&ka(n);break;case 4:ro(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;Ca(Si,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(Ca(so,1&so.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Is(e,n,t):(Ca(so,1&so.current),null!==(e=Hs(e,n,t))?e.sibling:null);Ca(so,1&so.current);break;case 19:if(r=0!==(t&n.childLanes),0!==(128&e.flags)){if(r)return Gs(e,n,t);n.flags|=128}if(null!==(a=n.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(so,so.current),r)break;return null;case 22:case 23:return n.lanes=0,Vs(e,n,t)}return Hs(e,n,t)}(e,n,t);xs=0!==(131072&e.flags)}else xs=!1,ai&&0!==(1048576&n.flags)&&$a(n,Xa,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;zs(e,n),e=n.pendingProps;var a=Pa(n,Da.current);bi(n,t),a=bo(null,n,r,e,a,t);var o=Vo();return n.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ra(r)?(o=!0,ka(n)):o=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Pi(n),a.updater=Ui,n.stateNode=a,a._reactInternals=n,Wi(n,r,e,t),n=Fs(null,n,r,!0,o,t)):(n.tag=0,ai&&o&&ei(n),_s(null,n,a,t),n=n.child),n;case 16:r=n.elementType;e:{switch(zs(e,n),e=n.pendingProps,r=(a=r._init)(r._payload),n.type=r,a=n.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===P)return 14}return 2}(r),e=mi(r,e),a){case 0:n=Es(null,n,r,e,t);break e;case 1:n=Ds(null,n,r,e,t);break e;case 11:n=ys(null,n,r,e,t);break e;case 14:n=ws(null,n,r,mi(r.type,e),t);break e}throw Error(i(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,Es(e,n,r,a=n.elementType===r?a:mi(r,a),t);case 1:return r=n.type,a=n.pendingProps,Ds(e,n,r,a=n.elementType===r?a:mi(r,a),t);case 3:e:{if(Ts(n),null===e)throw Error(i(387));r=n.pendingProps,a=(o=n.memoizedState).element,Ri(e,n),Ii(n,r,null,t);var s=n.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=o,n.memoizedState=o,256&n.flags){n=Ps(e,n,r,t,a=cs(Error(i(423)),n));break e}if(r!==a){n=Ps(e,n,r,t,a=cs(Error(i(424)),n));break e}for(ri=ua(n.stateNode.containerInfo.firstChild),ti=n,ai=!0,ii=null,t=Ji(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(fi(),r===a){n=Hs(e,n,t);break e}_s(e,n,r,t)}n=n.child}return n;case 5:return io(n),null===e&&ui(n),r=n.type,a=n.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ta(r,a)?s=null:null!==o&&ta(r,o)&&(n.flags|=32),Cs(e,n),_s(e,n,s,t),n.child;case 6:return null===e&&ui(n),null;case 13:return Is(e,n,t);case 4:return ro(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=Qi(n,null,r,t):_s(e,n,r,t),n.child;case 11:return r=n.type,a=n.pendingProps,ys(e,n,r,a=n.elementType===r?a:mi(r,a),t);case 7:return _s(e,n,n.pendingProps,t),n.child;case 8:case 12:return _s(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,o=n.memoizedProps,s=a.value,Ca(Si,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!Fa.current){n=Hs(e,n,t);break e}}else for(null!==(o=n.child)&&(o.return=n);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Li(-1,t&-t)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=t,null!==(u=o.alternate)&&(u.lanes|=t),wi(o.return,t,n),l.lanes|=t;break}u=u.next}}else if(10===o.tag)s=o.type===n.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=t,null!==(l=s.alternate)&&(l.lanes|=t),wi(s,t,n),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===n){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}_s(e,n,a.children,t),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,bi(n,t),r=r(a=Vi(a)),n.flags|=1,_s(e,n,r,t),n.child;case 14:return a=mi(r=n.type,n.pendingProps),ws(e,n,r,a=mi(r.type,a),t);case 15:return bs(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:mi(r,a),zs(e,n),n.tag=1,Ra(r)?(e=!0,ka(n)):e=!1,bi(n,t),zi(n,r,a),Wi(n,r,a,t),Fs(null,n,r,!0,e,t);case 19:return Gs(e,n,t);case 22:return Vs(e,n,t)}throw Error(i(156,n.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function ec(e,n,t,r,a){var i=t._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Wu(o);s.call(e)}}Hu(n,o,e,a)}else o=function(e,n,t,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Wu(o);i.call(e)}}var o=zu(n,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[ha]=o.current,Gr(8===e.nodeType?e.parentNode:e),cu(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[ha]=l.current,Gr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(n,l,t,r)})),l}(t,n,e,a,r);return Wu(o)}Qu.prototype.render=Yu.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(i(409));Hu(e,n,null,null)},Qu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;cu((function(){Hu(null,e,null,null)})),n[ha]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Vn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Mn.length&&0!==n&&n<Mn[t].priority;t++);Mn.splice(t,0,e),0===t&&On(e)}},yn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=An(n.pendingLanes);0!==t&&(vn(n,1|t),ru(n,Je()),0===(6&Dl)&&(Gl=Je()+500,Ga()))}break;case 13:cu((function(){var n=Fi(e,1);if(null!==n){var t=eu();tu(n,e,1,t)}})),Ku(e,1)}},wn=function(e){if(13===e.tag){var n=Fi(e,134217728);if(null!==n)tu(n,e,134217728,eu());Ku(e,134217728)}},bn=function(e){if(13===e.tag){var n=nu(e),t=Fi(e,n);if(null!==t)tu(t,e,n,eu());Ku(e,n)}},Vn=function(){return xn},Cn=function(e,n){var t=xn;try{return xn=e,n()}finally{xn=t}},ye=function(e,n,t){switch(n){case"input":if(Z(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var a=_a(r);if(!a)throw Error(i(90));K(r),Z(r,a)}}}break;case"textarea":ie(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},De=uu,Fe=cu;var nc={usingClientEntryPoint:!1,Events:[va,xa,_a,Ce,Ee,uu]},tc={findFiberByHostInstance:ga,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{an=ac.inject(rc),on=ac}catch(ce){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(n))throw Error(i(200));return Uu(e,n,null,t)},n.createRoot=function(e,n){if(!Ju(e))throw Error(i(299));var t=!1,r="",a=qu;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),n=ju(e,1,!1,null,0,t,0,r,a),e[ha]=n.current,Gr(8===e.nodeType?e.parentNode:e),new Yu(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(n))?null:e.stateNode},n.flushSync=function(e){return cu(e)},n.hydrate=function(e,n,t){if(!Zu(n))throw Error(i(200));return ec(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Ju(e))throw Error(i(405));var r=null!=t&&t.hydratedSources||null,a=!1,o="",s=qu;if(null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),n=zu(n,null,e,1,null!=t?t:null,a,0,o,s),e[ha]=n.current,Gr(e),r)for(e=0;e<r.length;e++)a=(a=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a);return new Qu(n)},n.render=function(e,n,t){if(!Zu(n))throw Error(i(200));return ec(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},n.unstable_batchedUpdates=uu,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Zu(t))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,n,t,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},1739:function(e,n,t){"use strict";var r=t(1168);n.s=r.createRoot,r.hydrateRoot},1168:function(e,n,t){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(534)},1624:function(e,n){"use strict";var t="function"===typeof Symbol&&Symbol.for,r=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,A=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case r:switch(e=e.type){case c:case d:case i:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case A:case m:case p:case l:return e;default:return n}}case a:return n}}}function y(e){return _(e)===d}n.AsyncMode=c,n.ConcurrentMode=d,n.ContextConsumer=u,n.ContextProvider=l,n.Element=r,n.ForwardRef=A,n.Fragment=i,n.Lazy=m,n.Memo=p,n.Portal=a,n.Profiler=s,n.StrictMode=o,n.Suspense=f,n.isAsyncMode=function(e){return y(e)||_(e)===c},n.isConcurrentMode=y,n.isContextConsumer=function(e){return _(e)===u},n.isContextProvider=function(e){return _(e)===l},n.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},n.isForwardRef=function(e){return _(e)===A},n.isFragment=function(e){return _(e)===i},n.isLazy=function(e){return _(e)===m},n.isMemo=function(e){return _(e)===p},n.isPortal=function(e){return _(e)===a},n.isProfiler=function(e){return _(e)===s},n.isStrictMode=function(e){return _(e)===o},n.isSuspense=function(e){return _(e)===f},n.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===o||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===l||e.$$typeof===u||e.$$typeof===A||e.$$typeof===g||e.$$typeof===v||e.$$typeof===x||e.$$typeof===S)},n.typeOf=_},6214:function(e,n,t){"use strict";e.exports=t(1624)},5230:function(e,n){"use strict";var t,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function S(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case r:switch(e=e.type){case i:case s:case o:case A:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case p:case h:case l:return e;default:return n}}case a:return n}}}t=Symbol.for("react.module.reference")},6440:function(e,n,t){"use strict";t(5230)},5918:function(e,n,t){"use strict";var r=t(7313),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,t){var r,i={},u=null,c=null;for(r in void 0!==t&&(u=""+t),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(c=n.ref),n)o.call(n,r)&&!l.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:s.current}}n.Fragment=i,n.jsx=u,n.jsxs=u},306:function(e,n){"use strict";var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function S(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}function g(){}function v(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||h}S.prototype.isReactComponent={},S.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=S.prototype;var x=v.prototype=new g;x.constructor=v,p(x,S.prototype),x.isPureReactComponent=!0;var _=Array.isArray,y=Object.prototype.hasOwnProperty,w={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function V(e,n,r){var a,i={},o=null,s=null;if(null!=n)for(a in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(o=""+n.key),n)y.call(n,a)&&!b.hasOwnProperty(a)&&(i[a]=n[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:t,type:e,key:o,ref:s,props:i,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var E=/\/+/g;function D(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function F(e,n,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+D(l,0):i,_(o)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),F(o,n,a,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),n.push(o)),1;if(l=0,i=""===i?".":i+":",_(e))for(var u=0;u<e.length;u++){var c=i+D(s=e[u],u);l+=F(s,n,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=F(s=s.value,n,a,c=i+D(s,u++),o);else if("object"===s)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,n,t){if(null==e)return e;var r=[],a=0;return F(e,r,"","",(function(e){return n.call(t,e,a++)})),r}function P(e){if(-1===e._status){var n=e._result;(n=n()).then((function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)}),(function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)})),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:w};n.Children={map:T,forEach:function(e,n,t){T(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return T(e,(function(){n++})),n},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=S,n.Fragment=a,n.Profiler=o,n.PureComponent=v,n.StrictMode=i,n.Suspense=c,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,n.cloneElement=function(e,n,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,s=w.current),void 0!==n.key&&(i=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)y.call(n,u)&&!b.hasOwnProperty(u)&&(a[u]=void 0===n[u]&&void 0!==l?l[u]:n[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:t,type:e.type,key:i,ref:o,props:a,_owner:s}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=V,n.createFactory=function(e){var n=V.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:u,render:e}},n.isValidElement=C,n.lazy=function(e){return{$$typeof:A,_payload:{_status:-1,_result:e},_init:P}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=L.transition;L.transition={};try{e()}finally{L.transition=n}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(e,n){return R.current.useCallback(e,n)},n.useContext=function(e){return R.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return R.current.useDeferredValue(e)},n.useEffect=function(e,n){return R.current.useEffect(e,n)},n.useId=function(){return R.current.useId()},n.useImperativeHandle=function(e,n,t){return R.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return R.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return R.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return R.current.useMemo(e,n)},n.useReducer=function(e,n,t){return R.current.useReducer(e,n,t)},n.useRef=function(e){return R.current.useRef(e)},n.useState=function(e){return R.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return R.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return R.current.useTransition()},n.version="18.2.0"},7313:function(e,n,t){"use strict";e.exports=t(306)},6417:function(e,n,t){"use strict";e.exports=t(5918)},8557:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ActionCreators=n.ActionTypes=void 0;var t={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};n.ActionTypes=t;var r={undo:function(){return{type:t.UNDO}},redo:function(){return{type:t.REDO}},jumpToFuture:function(e){return{type:t.JUMP_TO_FUTURE,index:e}},jumpToPast:function(e){return{type:t.JUMP_TO_PAST,index:e}},jump:function(e){return{type:t.JUMP,index:e}},clearHistory:function(){return{type:t.CLEAR_HISTORY}}};n.ActionCreators=r},3114:function(e,n){"use strict";function t(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r,a;Object.defineProperty(n,"__esModule",{value:!0}),n.set=function(e){r=e},n.start=function(e,n){void(a={header:[],prev:[],action:[],next:[],msgs:[]}),r&&(console.group?(a.header=["%credux-undo","font-style: italic","action",e.type],a.action=l("action",o,e),a.prev=l("prev history",i,n)):(a.header=["redux-undo action",e.type],a.action=["action",e],a.prev=["prev history",n]))},n.end=function(e){r&&(console.group?a.next=l("next history",s,e):a.next=["next history",e],function(){var e=a,n=e.header,r=e.prev,i=e.next,o=e.action,s=e.msgs;if(console.group){var l,u,c,d,A;(l=console).groupCollapsed.apply(l,t(n)),(u=console).log.apply(u,t(r)),(c=console).log.apply(c,t(o)),(d=console).log.apply(d,t(i)),(A=console).log.apply(A,t(s)),console.groupEnd()}else{var f,h,p,m,S;(f=console).log.apply(f,t(n)),(h=console).log.apply(h,t(r)),(p=console).log.apply(p,t(o)),(m=console).log.apply(m,t(i)),(S=console).log.apply(S,t(s))}}())},n.log=function(){if(r){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];a.msgs=a.msgs.concat([].concat(n,["\n"]))}};var i="#9E9E9E",o="#03A9F4",s="#4CAF50";function l(e,n,t){return["%c".concat(e),"color: ".concat(n,"; font-weight: bold"),t]}},7998:function(e,n){"use strict";function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:"string"===typeof e?[e]:n}Object.defineProperty(n,"__esModule",{value:!0}),n.parseActions=t,n.isHistory=function(e){return"undefined"!==typeof e.present&&"undefined"!==typeof e.future&&"undefined"!==typeof e.past&&Array.isArray(e.future)&&Array.isArray(e.past)},n.includeAction=function(e){var n=t(e);return function(e){return n.indexOf(e.type)>=0}},n.excludeAction=function(e){var n=t(e);return function(e){return n.indexOf(e.type)<0}},n.combineFilters=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){return function(t,r,a){return e(t,r,a)&&n(t,r,a)}}),(function(){return!0}))},n.groupByActionTypes=function(e){var n=t(e);return function(e){return n.indexOf(e.type)>=0?e.type:null}},n.newHistory=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{past:e,present:n,future:t,group:r,_latestUnfiltered:n,index:e.length,limit:e.length+t.length+1}}},9412:function(e,n,t){"use strict";Object.defineProperty(n,"zF",{enumerable:!0,get:function(){return a.ActionCreators}}),Object.defineProperty(n,"kw",{enumerable:!0,get:function(){return i.excludeAction}}),Object.defineProperty(n,"ul",{enumerable:!0,get:function(){return i.groupByActionTypes}}),Object.defineProperty(n,"ZP",{enumerable:!0,get:function(){return o.default}});var r,a=t(8557),i=t(7998),o=(r=t(2417))&&r.__esModule?r:{default:r}},2417:function(e,n,t){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.set(n.debug);var t,r=u({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:i.ActionTypes.UNDO,redoType:i.ActionTypes.REDO,jumpToPastType:i.ActionTypes.JUMP_TO_PAST,jumpToFutureType:i.ActionTypes.JUMP_TO_FUTURE,jumpType:i.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},n,{initTypes:(0,o.parseActions)(n.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,o.parseActions)(n.clearHistoryType,[i.ActionTypes.CLEAR_HISTORY])}),s=r.neverSkipReducer?function(n,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return u({},n,{present:e.apply(void 0,[n.present,t].concat(a))})}:function(e){return e};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.start(i,n);for(var l,u=n,c=arguments.length,d=new Array(c>2?c-2:0),g=2;g<c;g++)d[g-2]=arguments[g];if(!t){if(a.log("history is uninitialized"),void 0===n){var v={type:"@@redux-undo/CREATE_HISTORY"},x=e.apply(void 0,[n,v].concat(d));return u=A(x,r.ignoreInitialState),a.log("do not set initialState on probe actions"),a.end(u),u}(0,o.isHistory)(n)?(u=t=r.ignoreInitialState?n:(0,o.newHistory)(n.past,n.present,n.future),a.log("initialHistory initialized: initialState is a history",t)):(u=t=A(n,r.ignoreInitialState),a.log("initialHistory initialized: initialState is not a history",t))}switch(i.type){case void 0:return u;case r.undoType:return l=m(u,-1),a.log("perform undo"),a.end(l),s.apply(void 0,[l,i].concat(d));case r.redoType:return l=m(u,1),a.log("perform redo"),a.end(l),s.apply(void 0,[l,i].concat(d));case r.jumpToPastType:return l=p(u,i.index),a.log("perform jumpToPast to ".concat(i.index)),a.end(l),s.apply(void 0,[l,i].concat(d));case r.jumpToFutureType:return l=h(u,i.index),a.log("perform jumpToFuture to ".concat(i.index)),a.end(l),s.apply(void 0,[l,i].concat(d));case r.jumpType:return l=m(u,i.index),a.log("perform jump to ".concat(i.index)),a.end(l),s.apply(void 0,[l,i].concat(d));case S(i.type,r.clearHistoryType):return l=A(u.present,r.ignoreInitialState),a.log("perform clearHistory"),a.end(l),s.apply(void 0,[l,i].concat(d));default:if(l=e.apply(void 0,[u.present,i].concat(d)),r.initTypes.some((function(e){return e===i.type})))return a.log("reset history due to init action"),a.end(t),t;if(u._latestUnfiltered===l)return u;var _="function"===typeof r.filter&&!r.filter(i,l,u);if(_){var y=(0,o.newHistory)(u.past,l,u.future,u.group);return r.syncFilter||(y._latestUnfiltered=u._latestUnfiltered),a.log("filter ignored action, not storing it in past"),a.end(y),y}var w=r.groupBy(i,l,u);if(null!=w&&w===u.group){var b=(0,o.newHistory)(u.past,l,u.future,u.group);return a.log("groupBy grouped the action with the previous action"),a.end(b),b}return u=f(u,l,r.limit,w),a.log("inserted new state into history"),a.end(u),u}}};var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s();if(n&&n.has(e))return n.get(e);var t={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(t,i,o):t[i]=e[i]}t.default=e,n&&n.set(e,t);return t}(t(3114)),i=t(8557),o=t(7998);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(e,n){var t=(0,o.newHistory)([],e,[]);return n&&(t._latestUnfiltered=null),t}function f(e,n,t,r){var i=e.past.length+1;a.log("inserting",n),a.log("new free: ",t-i);var s=e.past,l=e._latestUnfiltered,u=t&&t<=i,c=s.slice(u?1:0),A=null!=l?[].concat(d(c),[l]):c;return(0,o.newHistory)(A,n,[],r)}function h(e,n){if(n<0||n>=e.future.length)return e;var t=e.past,r=e.future,a=e._latestUnfiltered,i=[].concat(d(t),[a],d(r.slice(0,n))),s=r[n],l=r.slice(n+1);return(0,o.newHistory)(i,s,l)}function p(e,n){if(n<0||n>=e.past.length)return e;var t=e.past,r=e.future,a=e._latestUnfiltered,i=t.slice(0,n),s=[].concat(d(t.slice(n+1)),[a],d(r)),l=t[n];return(0,o.newHistory)(i,l,s)}function m(e,n){return n>0?h(e,n-1):n<0?p(e,e.past.length+n):e}function S(e,n){return n.indexOf(e)>-1?e:!e}},5249:function(e,n,t){"use strict";var r=t(9852);function a(e,n){for(var t=0,r=0;r<n.height;r++)for(var a=0;a<n.width;a++){var i=Math.floor(a*e.width/n.width),o=4*(Math.floor(r*e.height/n.height)*e.width+i);n.data[t++]=e.data[o++],n.data[t++]=e.data[o++],n.data[t++]=e.data[o++],n.data[t++]=e.data[o++]}}function i(e,n){function t(e,n,t,r,a){return Math.round((e-n)*a+(t-e)*r)}function r(n,r,a,i,o){var s=e.data[4*(a*e.width+i)+n];return i===o?s:t(r,i,o,s,e.data[4*(a*e.width+o)+n])}function a(e,n,a,i,o,s,l){var u=r(e,n,s,a,i);return s===l?u:t(o,s,l,u,r(e,n,l,a,i))}for(var i=0,o=0;o<n.height;o++)for(var s=0;s<n.width;s++){var l=s*e.width/n.width,u=o*e.height/n.height,c=Math.floor(l),d=Math.floor(u),A=Math.min(Math.ceil(l),e.width-1),f=Math.min(Math.ceil(u),e.height-1);n.data[i++]=a(0,l,c,A,u,d,f),n.data[i++]=a(1,l,c,A,u,d,f),n.data[i++]=a(2,l,c,A,u,d,f),n.data[i++]=a(3,l,c,A,u,d,f)}}e.exports=function(e,n,t,o){var s;switch(o=o||"bilinear-interpolation"){case"nearest-neighbor":s=a;break;case"bilinear-interpolation":case"biliniear-interpolation":s=i;break;default:throw new Error("Unknown algorithm: ".concat(o))}var l=new r(n,t);return s(e,l),l}},3095:function(e,n){"use strict";function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,a=e[r];if(!(0<i(a,n)))break e;e[r]=n,e[t]=a,t=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,t))u<a&&0>i(c,l)?(e[r]=c,e[u]=t,r=u):(e[r]=l,e[s]=t,r=s);else{if(!(u<a&&0>i(c,t)))break e;e[r]=c,e[u]=t,r=u}}}return n}function i(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,A=null,f=3,h=!1,p=!1,m=!1,S="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var n=r(c);null!==n;){if(null===n.callback)a(c);else{if(!(n.startTime<=e))break;a(c),n.sortIndex=n.expirationTime,t(u,n)}n=r(c)}}function _(e){if(m=!1,x(e),!p)if(null!==r(u))p=!0,L(y);else{var n=r(c);null!==n&&M(_,n.startTime-e)}}function y(e,t){p=!1,m&&(m=!1,g(C),C=-1),h=!0;var i=f;try{for(x(t),A=r(u);null!==A&&(!(A.expirationTime>t)||e&&!F());){var o=A.callback;if("function"===typeof o){A.callback=null,f=A.priorityLevel;var s=o(A.expirationTime<=t);t=n.unstable_now(),"function"===typeof s?A.callback=s:A===r(u)&&a(u),x(t)}else a(u);A=r(u)}if(null!==A)var l=!0;else{var d=r(c);null!==d&&M(_,d.startTime-t),l=!1}return l}finally{A=null,f=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,b=!1,V=null,C=-1,E=5,D=-1;function F(){return!(n.unstable_now()-D<E)}function T(){if(null!==V){var e=n.unstable_now();D=e;var t=!0;try{t=V(!0,e)}finally{t?w():(b=!1,V=null)}}else b=!1}if("function"===typeof v)w=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=T,w=function(){R.postMessage(null)}}else w=function(){S(T,0)};function L(e){V=e,b||(b=!0,w())}function M(e,t){C=S((function(){e(n.unstable_now())}),t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){p||h||(p=!0,L(y))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return r(u)},n.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var t=f;f=n;try{return e()}finally{f=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=f;f=e;try{return n()}finally{f=t}},n.unstable_scheduleCallback=function(e,a,i){var o=n.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,t(c,e),null===r(u)&&e===r(c)&&(m?(g(C),C=-1):m=!0,M(_,i-o))):(e.sortIndex=s,t(u,e),p||h||(p=!0,L(y))),e},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(e){var n=f;return function(){var t=f;f=n;try{return e.apply(this,arguments)}finally{f=t}}}},2224:function(e,n,t){"use strict";e.exports=t(3095)},9e3:function(e,n,t){!function(e,n){"use strict";if(!e.setImmediate){var t,r=1,a={},i=!1,o=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?t=function(e){process.nextTick((function(){u(e)}))}:function(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}()?function(){var n="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(n)&&u(+t.data.slice(n.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),t=function(t){e.postMessage(n+t,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},t=function(n){e.port2.postMessage(n)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;t=function(n){var t=o.createElement("script");t.onreadystatechange=function(){u(n),t.onreadystatechange=null,e.removeChild(t),t=null},e.appendChild(t)}}():t=function(e){setTimeout(u,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),i=0;i<n.length;i++)n[i]=arguments[i+1];var o={callback:e,args:n};return a[r]=o,t(r),r++},s.clearImmediate=l}function l(e){delete a[e]}function u(e){if(i)setTimeout(u,0,e);else{var n=a[e];if(n){i=!0;try{!function(e){var n=e.callback,t=e.args;switch(t.length){case 0:n();break;case 1:n(t[0]);break;case 2:n(t[0],t[1]);break;case 3:n(t[0],t[1],t[2]);break;default:n.apply(void 0,t)}}(n)}finally{l(e),i=!1}}}}}("undefined"===typeof self?"undefined"===typeof t.g?this:t.g:self)},1318:function(e,n,t){var r;!function(a,i){"use strict";var o="function",s="undefined",l="object",u="string",c="model",d="name",A="type",f="vendor",h="version",p="architecture",m="console",S="mobile",g="tablet",v="smarttv",x="wearable",_="embedded",y="Amazon",w="Apple",b="ASUS",V="BlackBerry",C="Firefox",E="Google",D="Huawei",F="LG",T="Microsoft",P="Motorola",R="Opera",L="Samsung",M="Sony",B="Xiaomi",k="Zebra",I="Facebook",O=function(e){for(var n={},t=0;t<e.length;t++)n[e[t].toUpperCase()]=e[t];return n},N=function(e,n){return typeof e===u&&-1!==j(n).indexOf(j(e))},j=function(e){return e.toLowerCase()},U=function(e,n){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof n===s?e:e.substring(0,255)},G=function(e,n){for(var t,r,a,s,u,c,d=0;d<n.length&&!u;){var A=n[d],f=n[d+1];for(t=r=0;t<A.length&&!u;)if(u=A[t++].exec(e))for(a=0;a<f.length;a++)c=u[++r],typeof(s=f[a])===l&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=c?c.replace(s[1],s[2]):i:this[s[0]]=c?s[1].call(this,c,s[2]):i:4===s.length&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):i):this[s]=c||i;d+=2}},z=function(e,n){for(var t in n)if(typeof n[t]===l&&n[t].length>0){for(var r=0;r<n[t].length;r++)if(N(n[t][r],e))return"?"===t?i:t}else if(N(n[t],e))return"?"===t?i:t;return e},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,h],[/opios[\/ ]+([\w\.]+)/i],[h,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[h,[d,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[h,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],h],[/\bfocus\/([\w\.]+)/i],[h,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[h,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[h,[d,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,I],h],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,h],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[h,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[h,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[h,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,j]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",j]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[f,L],[A,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[f,L],[A,S]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[f,w],[A,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[f,w],[A,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[f,D],[A,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[c,[f,D],[A,S]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[f,B],[A,S]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[f,B],[A,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[f,"OPPO"],[A,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[f,"Vivo"],[A,S]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[f,"Realme"],[A,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[f,P],[A,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[f,P],[A,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[f,F],[A,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[f,F],[A,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[f,"Lenovo"],[A,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[f,"Nokia"],[A,S]],[/(pixel c)\b/i],[c,[f,E],[A,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[f,E],[A,S]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[f,M],[A,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[f,M],[A,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[f,"OnePlus"],[A,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[f,y],[A,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[f,y],[A,S]],[/(playbook);[-\w\),; ]+(rim)/i],[c,f,[A,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[f,V],[A,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[f,b],[A,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[f,b],[A,S]],[/(nexus 9)/i],[c,[f,"HTC"],[A,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[f,[c,/_/g," "],[A,S]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[f,"Acer"],[A,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[f,"Meizu"],[A,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[f,"Sharp"],[A,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,c,[A,S]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,c,[A,g]],[/(surface duo)/i],[c,[f,T],[A,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[f,"Fairphone"],[A,S]],[/(u304aa)/i],[c,[f,"AT&T"],[A,S]],[/\bsie-(\w*)/i],[c,[f,"Siemens"],[A,S]],[/\b(rct\w+) b/i],[c,[f,"RCA"],[A,g]],[/\b(venue[\d ]{2,7}) b/i],[c,[f,"Dell"],[A,g]],[/\b(q(?:mv|ta)\w+) b/i],[c,[f,"Verizon"],[A,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[f,"Barnes & Noble"],[A,g]],[/\b(tm\d{3}\w+) b/i],[c,[f,"NuVision"],[A,g]],[/\b(k88) b/i],[c,[f,"ZTE"],[A,g]],[/\b(nx\d{3}j) b/i],[c,[f,"ZTE"],[A,S]],[/\b(gen\d{3}) b.+49h/i],[c,[f,"Swiss"],[A,S]],[/\b(zur\d{3}) b/i],[c,[f,"Swiss"],[A,g]],[/\b((zeki)?tb.*\b) b/i],[c,[f,"Zeki"],[A,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],c,[A,g]],[/\b(ns-?\w{0,9}) b/i],[c,[f,"Insignia"],[A,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[f,"NextBook"],[A,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],c,[A,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],c,[A,S]],[/\b(ph-1) /i],[c,[f,"Essential"],[A,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[f,"Envizen"],[A,g]],[/\b(trio[-\w\. ]+) b/i],[c,[f,"MachSpeed"],[A,g]],[/\btu_(1491) b/i],[c,[f,"Rotor"],[A,g]],[/(shield[\w ]+) b/i],[c,[f,"Nvidia"],[A,g]],[/(sprint) (\w+)/i],[f,c,[A,S]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[f,T],[A,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[f,k],[A,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[f,k],[A,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,c,[A,m]],[/droid.+; (shield) bui/i],[c,[f,"Nvidia"],[A,m]],[/(playstation [345portablevi]+)/i],[c,[f,M],[A,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[f,T],[A,m]],[/smart-tv.+(samsung)/i],[f,[A,v]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[f,L],[A,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,F],[A,v]],[/(apple) ?tv/i],[f,[c,"Apple TV"],[A,v]],[/crkey/i],[[c,"Chromecast"],[f,E],[A,v]],[/droid.+aft(\w)( bui|\))/i],[c,[f,y],[A,v]],[/\(dtv[\);].+(aquos)/i],[c,[f,"Sharp"],[A,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[f,U],[c,U],[A,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[A,v]],[/((pebble))app/i],[f,c,[A,x]],[/droid.+; (glass) \d/i],[c,[f,E],[A,x]],[/droid.+; (wt63?0{2,3})\)/i],[c,[f,k],[A,x]],[/(quest( 2)?)/i],[c,[f,I],[A,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[A,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[A,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[A,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[A,g]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[A,S]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[h,z,H]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[h,z,H]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[h,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,h],[/\(bb(10);/i],[h,[d,V]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],h],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,h],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,h]]},X=function e(n,t){if(typeof n===l&&(t=n,n=i),!(this instanceof e))return new e(n,t).getResult();var r=n||(typeof a!==s&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),o=t?function(e,n){var t={};for(var r in e)n[r]&&n[r].length%2===0?t[r]=n[r].concat(e[r]):t[r]=e[r];return t}(W,t):W;return this.getBrowser=function(){var e,n={};return n.name=i,n.version=i,G.call(n,r,o.browser),n.major=typeof(e=n.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:i,n},this.getCPU=function(){var e={};return e.architecture=i,G.call(e,r,o.cpu),e},this.getDevice=function(){var e={};return e.vendor=i,e.model=i,e.type=i,G.call(e,r,o.device),e},this.getEngine=function(){var e={};return e.name=i,e.version=i,G.call(e,r,o.engine),e},this.getOS=function(){var e={};return e.name=i,e.version=i,G.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>255?U(e,255):e,this},this.setUA(r),this};X.VERSION="0.7.31",X.BROWSER=O([d,h,"major"]),X.CPU=O([p]),X.DEVICE=O([c,f,A,m,S,v,g,x,_]),X.ENGINE=X.OS=O([d,h]),typeof n!==s?(e.exports&&(n=e.exports=X),n.UAParser=X):t.amdO?(r=function(){return X}.call(n,t,n,e))===i||(e.exports=r):typeof a!==s&&(a.UAParser=X);var K=typeof a!==s&&(a.jQuery||a.Zepto);if(K&&!K.ua){var q=new X;K.ua=q.getResult(),K.ua.get=function(){return q.getUA()},K.ua.set=function(e){q.setUA(e);var n=q.getResult();for(var t in n)K.ua[t]=n[t]}}}("object"===typeof window?window:this)},1531:function(e,n,t){"use strict";var r=t(7313);var a="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},i=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!a(e,t)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=i({inst:{value:t,getSnapshot:n}}),a=r[0].inst,c=r[1];return s((function(){a.value=t,a.getSnapshot=n,u(a)&&c({inst:a})}),[e,t,n]),o((function(){return u(a)&&c({inst:a}),e((function(){u(a)&&c({inst:a})}))}),[e]),l(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},5531:function(e,n,t){"use strict";var r=t(7313),a=t(1239);var i="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},o=a.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,a){var d=s(null);if(null===d.current){var A={hasValue:!1,value:null};d.current=A}else A=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==a&&A.hasValue){var n=A.value;if(a(n,e))return s=n}return s=e}if(n=s,i(o,e))return n;var t=r(e);return void 0!==a&&a(n,t)?n:(o=e,s=t)}var o,s,l=!1,u=void 0===t?null:t;return[function(){return e(n())},null===u?void 0:function(){return e(u())}]}),[n,t,r,a]);var f=o(e,d[0],d[1]);return l((function(){A.hasValue=!0,A.value=f}),[f]),c(f),f}},1239:function(e,n,t){"use strict";e.exports=t(1531)},7058:function(e,n,t){"use strict";e.exports=t(5531)},907:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{Z:function(){return r}})},885:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(181);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,n)||(0,r.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(907);function a(e,n){if(e){if("string"===typeof e)return(0,r.Z)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?(0,r.Z)(e,n):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.amdO={},__webpack_require__.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=function(e,n){for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="./";var __webpack_exports__={};!function(){"use strict";function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function t(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?n(Object(a),!0).forEach((function(n){e(t,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,n){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},o(e,n)}function s(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&o(e,n)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,n){if(n&&("object"===u(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function A(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=l(e);if(n){var a=l(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return d(this,t)}}var f,h,p,m,S,g,v,x,_,y,w,b;function V(e){for(var n in v){if(v[n]===e)return n}return null}function C(e){switch(e){case y.LANDON:return _.LANDON;case y.WALKOVER:return _.WALKOVER;case y.BEFORE_TURN:case y.AFTER_TURN:case y.BEFORE_PLAYER_TURN:case y.BEFORE_DICE_ROLL:return _.SPECIAL;case y.BEGINORWALKOVER:return _.BEGINORWALKOVER;default:throw new Error("Unrecognized editor activation type ".concat(e))}}function E(e){switch(e){case 1:return"Direct";case 2:return"Process"}throw new Error("Unknown execution type ".concat(e,"."))}!function(e){e[e.EDITOR=0]="EDITOR",e[e.DETAILS=1]="DETAILS",e[e.SETTINGS=2]="SETTINGS",e[e.ABOUT=3]="ABOUT",e[e.MODELS=4]="MODELS",e[e.PATCHES=5]="PATCHES",e[e.STRINGS=6]="STRINGS",e[e.EVENTS=7]="EVENTS",e[e.CREATEEVENT_ASM=8]="CREATEEVENT_ASM",e[e.CREATEEVENT_C=9]="CREATEEVENT_C",e[e.DEBUG=10]="DEBUG",e[e.AUDIO=11]="AUDIO",e[e.ADDITIONAL_BGS=12]="ADDITIONAL_BGS",e[e.AUDIO_SELECTION_CODE=13]="AUDIO_SELECTION_CODE",e[e.SPRITES=14]="SPRITES"}(f||(f={})),function(e){e[e.OTHER=0]="OTHER",e[e.BLUE=1]="BLUE",e[e.RED=2]="RED",e[e.MINIGAME=3]="MINIGAME",e[e.HAPPENING=4]="HAPPENING",e[e.STAR=5]="STAR",e[e.CHANCE=6]="CHANCE",e[e.START=7]="START",e[e.SHROOM=8]="SHROOM",e[e.BOWSER=9]="BOWSER",e[e.ITEM=10]="ITEM",e[e.BATTLE=11]="BATTLE",e[e.BANK=12]="BANK",e[e.ARROW=13]="ARROW",e[e.BLACKSTAR=14]="BLACKSTAR",e[e.GAMEGUY=15]="GAMEGUY",e[e.DUEL_BASIC=16]="DUEL_BASIC",e[e.DUEL_START_BLUE=17]="DUEL_START_BLUE",e[e.DUEL_START_RED=18]="DUEL_START_RED",e[e.DUEL_POWERUP=19]="DUEL_POWERUP",e[e.DUEL_REVERSE=20]="DUEL_REVERSE"}(h||(h={})),function(e){e[e.TOAD=0]="TOAD",e[e.BOWSER=1]="BOWSER",e[e.KOOPA=2]="KOOPA",e[e.BOO=3]="BOO",e[e.GOOMBA=4]="GOOMBA",e[e.BANK=5]="BANK",e[e.BANKCOIN=6]="BANKCOIN",e[e.ITEMSHOP=7]="ITEMSHOP",e[e.GATE=8]="GATE"}(p||(p={})),function(e){e.NORMAL="NORMAL",e.DUEL="DUEL"}(m||(m={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.WESTERN=1]="WESTERN",e[e.PIRATE=2]="PIRATE",e[e.HORROR=3]="HORROR",e[e.SPACE=4]="SPACE",e[e.MYSTERY=5]="MYSTERY"}(S||(S={})),function(e){e[e.MOVE=0]="MOVE",e[e.LINE=1]="LINE",e[e.LINE_STICKY=2]="LINE_STICKY",e[e.ROTATE=3]="ROTATE",e[e.ERASE=4]="ERASE",e[e.ROM_LOAD=5]="ROM_LOAD",e[e.ROM_UNLOAD=6]="ROM_UNLOAD",e[e.BOARD_LOAD=7]="BOARD_LOAD",e[e.BOARD_SAVE=8]="BOARD_SAVE",e[e.BOARD_NEW=9]="BOARD_NEW",e[e.BOARD_WRITE=10]="BOARD_WRITE",e[e.BOARD_DETAILS=11]="BOARD_DETAILS",e[e.BOARD_EDITOR=12]="BOARD_EDITOR",e[e.BOARD_COPY=13]="BOARD_COPY",e[e.MODEL_VIEWER=13.3]="MODEL_VIEWER",e[e.STRINGS_EDITOR=13.4]="STRINGS_EDITOR",e[e.SPRITE_VIEWER=13.45]="SPRITE_VIEWER",e[e.EVENTS=13.5]="EVENTS",e[e.CREATEEVENT=13.6]="CREATEEVENT",e[e.BACK_TO_EVENTS=13.7]="BACK_TO_EVENTS",e[e.SAVE_EVENT=13.8]="SAVE_EVENT",e[e.EVENT_LOAD=13.9]="EVENT_LOAD",e[e.SET_BG=14]="SET_BG",e[e.SCREENSHOT=14.1]="SCREENSHOT",e[e.SAVE_ADDITIONALBG=14.2]="SAVE_ADDITIONALBG",e[e.ADDITIONALBG_BACK=14.3]="ADDITIONALBG_BACK",e[e.SAVE_AUDIOSELECTCODE=14.2]="SAVE_AUDIOSELECTCODE",e[e.AUDIOSELECTCODE_BACK=14.3]="AUDIOSELECTCODE_BACK",e[e.ROM_SAVE=15]="ROM_SAVE",e[e.SETTINGS=15.1]="SETTINGS",e[e.ABOUT=15.2]="ABOUT",e[e.PATCHES=15.3]="PATCHES",e[e.DEBUG=15.4]="DEBUG",e[e.AUDIO=15.5]="AUDIO",e[e.ADD_OTHER=16]="ADD_OTHER",e[e.ADD_BLUE=17]="ADD_BLUE",e[e.ADD_RED=18]="ADD_RED",e[e.ADD_MINIGAME=19]="ADD_MINIGAME",e[e.ADD_HAPPENING=20]="ADD_HAPPENING",e[e.ADD_STAR=21]="ADD_STAR",e[e.ADD_BLACKSTAR=21.2]="ADD_BLACKSTAR",e[e.ADD_START=21.3]="ADD_START",e[e.ADD_CHANCE=22]="ADD_CHANCE",e[e.ADD_SHROOM=23]="ADD_SHROOM",e[e.ADD_BOWSER=24]="ADD_BOWSER",e[e.ADD_TOAD_CHARACTER=25]="ADD_TOAD_CHARACTER",e[e.ADD_BOWSER_CHARACTER=26]="ADD_BOWSER_CHARACTER",e[e.ADD_KOOPA_CHARACTER=27]="ADD_KOOPA_CHARACTER",e[e.ADD_BOO_CHARACTER=28]="ADD_BOO_CHARACTER",e[e.ADD_ITEM=29]="ADD_ITEM",e[e.ADD_BATTLE=30]="ADD_BATTLE",e[e.ADD_BANK=31]="ADD_BANK",e[e.ADD_GAMEGUY=32]="ADD_GAMEGUY",e[e.ADD_ARROW=32.2]="ADD_ARROW",e[e.MARK_STAR=33]="MARK_STAR",e[e.MARK_GATE=33.1]="MARK_GATE",e[e.ADD_BANK_SUBTYPE=34]="ADD_BANK_SUBTYPE",e[e.ADD_BANKCOIN_SUBTYPE=35]="ADD_BANKCOIN_SUBTYPE",e[e.ADD_ITEMSHOP_SUBTYPE=36]="ADD_ITEMSHOP_SUBTYPE",e[e.ADD_DUEL_BASIC=37]="ADD_DUEL_BASIC",e[e.ADD_DUEL_REVERSE=38]="ADD_DUEL_REVERSE",e[e.ADD_DUEL_POWERUP=39]="ADD_DUEL_POWERUP",e[e.ADD_DUEL_START_BLUE=40]="ADD_DUEL_START_BLUE",e[e.ADD_DUEL_START_RED=41]="ADD_DUEL_START_RED",e[e.TELESCOPE=42]="TELESCOPE"}(g||(g={})),function(e){e.MP1_USA="CLBE",e.MP1_JPN="CLBJ",e.MP1_PAL="NLBP",e.MP2_USA="NMWE",e.MP2_JPN="NMWJ",e.MP2_PAL="NMWP",e.MP3_USA="NMVE",e.MP3_JPN="NMVJ",e.MP3_PAL="NMVP"}(v||(v={})),function(e){e[e.MIPS=0]="MIPS",e[e.C=1]="C"}(x||(x={})),function(e){e[e.WALKOVER=1]="WALKOVER",e[e.LANDON=3]="LANDON",e[e.SPECIAL=7]="SPECIAL",e[e.BEGINORWALKOVER=8]="BEGINORWALKOVER"}(_||(_={})),function(e){e[e.WALKOVER=1]="WALKOVER",e[e.LANDON=3]="LANDON",e[e.BEFORE_DICE_ROLL=-5]="BEFORE_DICE_ROLL",e[e.BEFORE_PLAYER_TURN=-4]="BEFORE_PLAYER_TURN",e[e.AFTER_TURN=-3]="AFTER_TURN",e[e.BEFORE_TURN=-2]="BEFORE_TURN",e[e.BEGINORWALKOVER=8]="BEGINORWALKOVER"}(y||(y={})),function(e){e[e.DIRECT=1]="DIRECT",e[e.PROCESS=2]="PROCESS"}(w||(w={})),function(e){e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING"}(b||(b={}));var D,F,T=["Boolean","Number","+Number","Number[]","Space","Space[]"];function P(e){return e.endsWith("[]")}!function(e){e.Boolean="Boolean",e.Number="Number",e.PositiveNumber="+Number",e.NumberArray="Number[]",e.Space="Space",e.SpaceArray="Space[]"}(D||(D={})),function(e){e.Classic="classic",e.DarkGray="dark-gray"}(F||(F={}));var R=__webpack_require__(181);function L(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,R.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw i}}}}function M(e){return JSON.parse(JSON.stringify(e))}function B(e){for(var n in e)return!1;return!0}function k(){k=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(E){s=function(e,n,t){return e[n]=t}}function l(e,n,t,r){var a=n&&n.prototype instanceof A?n:A,i=Object.create(a.prototype),o=new b(r||[]);return i._invoke=function(e,n,t){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return C()}for(t.method=a,t.arg=i;;){var o=t.delegate;if(o){var s=_(o,t);if(s){if(s===d)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var l=c(e,n,t);if("normal"===l.type){if(r=t.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(r="completed",t.method="throw",t.arg=l.arg)}}}(e,t,o),i}function c(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var d={};function A(){}function f(){}function h(){}var p={};s(p,a,(function(){return this}));var m=Object.getPrototypeOf,S=m&&m(m(V([])));S&&S!==n&&t.call(S,a)&&(p=S);var g=h.prototype=A.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function x(e,n){function r(a,i,o,s){var l=c(e[a],e,i);if("throw"!==l.type){var d=l.arg,A=d.value;return A&&"object"==u(A)&&t.call(A,"__await")?n.resolve(A.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):n.resolve(A).then((function(e){d.value=e,o(d)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,t){function i(){return new n((function(n,a){r(e,t,n,a)}))}return a=a?a.then(i,i):i()}}function _(e,n){var t=e.iterator[n.method];if(void 0===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,_(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(t,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function y(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function w(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function V(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=h,s(g,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===f||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(x.prototype),s(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(n,t,r,a,i){void 0===i&&(i=Promise);var o=new x(l(n,t,r,a),i);return e.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(g),s(g,o,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=V,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=t.call(i,"catchLoc"),l=t.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),d},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),w(t),d}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var a=r.arg;w(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:V(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),d}},e}function I(e,n,t,r,a,i,o){try{var s=e[i](o),l=s.value}catch(u){return void t(u)}s.done?n(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){I(i,r,a,o,s,"next",e)}function s(e){I(i,r,a,o,s,"throw",e)}o(void 0)}))}}function N(e,n){var t=document.createElement("canvas");return t.width=e,t.height=n,t.getContext("2d")}function j(e,n,t){var r=e.getBoundingClientRect();return n=Math.round(n),t=Math.round(t),[n-Math.round(r.left),t-Math.round(r.top)]}var U=!1;function G(){return U}function z(e){U=!!e}function H(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];G()&&console.log.apply(console,arguments)}function W(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0x",t=Number(Math.abs(e)).toString(16).toUpperCase();return 1===t.length&&(t="0"+t),(e<0?"-":"")+n+t}function X(e){if(G()&&!e)throw new Error("Assertion failed")}var K=__webpack_require__(4090);function q(e,n,t,r,a){if(e instanceof ArrayBuffer&&(e=new DataView(e)),n instanceof ArrayBuffer&&(n=new DataView(n)),Array.isArray(n))for(var i=0;i<a;i++)e.setUint8(t+i,n[r+i]);else for(var o=0;o<a;o++)e.setUint8(t+o,n.getUint8(r+o))}function Y(e){for(var n=new ArrayBuffer(e.length),t=new Uint8Array(n),r=0;r<e.length;r++)t[r]=e[r];return n}function Q(e,n,t){return n+t>e.byteLength?"":K.ArrayBuffer.hash(e,{start:n,length:t})}function J(e,n){return Q.apply(null,e).toLowerCase()===n.toLowerCase()}function Z(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.byteLength,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a="";n=e instanceof ArrayBuffer?new DataView(e):e;for(var i=0;i<t;i++)a+=W(n.getUint8(i),"")+(i&&r&&(i+1)%r===0?"\n":" ");return a}function $(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.byteLength,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;console.log(Z(e,n,t))}function ee(e,n,t){for(var r=N(n,t).createImageData(n,t),a=new Uint8Array(e),i=0;i<e.byteLength;i++)r.data[i]=a[i];return r}function ne(e,n,t){var r=ee(e,n,t),a=N(n,t);return a.putImageData(r,0,0),a.canvas.toDataURL()}function te(e){for(var n=atob(e.split(",")[1]),t=new ArrayBuffer(n.length),r=new Uint8Array(t),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return t}function re(e,n){if(e.byteLength!==n.byteLength)return!1;for(var t=new Uint8Array(e),r=new Uint8Array(n),a=0;a<t.byteLength;a++)if(t[a]!==r[a])return!1;return!0}function ae(e,n){if(!e||!n)return e||n;var t=new Uint8Array(e.byteLength+n.byteLength);return t.set(new Uint8Array(e),0),t.set(new Uint8Array(n),e.byteLength),t.buffer}function ie(e,n){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,n){return e===n},r=[],a=0;a<e.length;a++)for(var i=e[a],o=0;o<n.length;o++)if(t(i,n[o])){r.push(i);break}return r}function oe(e,n){for(var t=new Array(n),r=0;r<n;r++)t[r]=e;return t}var se=[{addr:2147484416,type:"u32",name:"osTvType",desc:"0=PAL"},{addr:2147484420,type:"u32",name:"osRomType",desc:"0=cart"},{addr:2147484424,type:"data",name:"osRomBase",desc:"B0000000=cart"},{addr:2147484428,type:"data",name:"osResetType",desc:"0=cold reset"},{addr:2147484440,type:"data",name:"osMemSize",desc:"Size of RDRAM"},{addr:2147567024,type:"code",name:"ReadMainFS",desc:"Reads file from MainFS"},{addr:2147567408,type:"code",name:"FreeMainFS",desc:"Free's an allocated MainFS file pointer"},{addr:2147578972,type:"code",name:"DMA",desc:"A0=rom_addr"},{addr:2147579176,type:"code",name:"LoadFormFile",desc:"A0=main_fs_DDDDFFFF"},{addr:2147579276,type:"code",name:"GetRandomByte"},{addr:2147579328,type:"code",name:"LoadOverlay",desc:"A0=overlay_index"},{addr:2147584272,type:"code",name:"InitSprite",desc:"A0=u32 file_id DDDDFFFF"},{addr:2147585104,type:"code",name:"ShowBasicSprite",desc:"A0=u16 basic_sprite_index"},{addr:2147585148,type:"code",name:"HideBasicSprite",desc:"A0=u16 basic_sprite_index"},{addr:2147585232,type:"code",name:"SetBasicSpritePos",desc:"A0=u16 basic_sprite_index"},{addr:2147585816,type:"code",name:"SetBasicSpriteSize",desc:"A0=u16 basic_sprite_index"},{addr:2147586144,type:"code",name:"InitBasicSprite",desc:"A0=short sprite_index"},{addr:2147594896,type:"code",name:"ParseObjType10",desc:"Parse OBJ1 type 0x10"},{addr:2147599080,type:"code",name:"FindFormEntry",desc:'Finds a FORM entry. A0=entry type (like "OBJ1")'},{addr:2147603008,type:"code",name:"InitCameras",desc:"A0=int cameras count"},{addr:2147604788,type:"code",name:"Convert3DTo2D",desc:"A0=3 point vector"},{addr:2147630100,type:"code",name:"LoadFormBinary",desc:"A0=form_addr"},{addr:2147726976,type:"code",name:"MakePermHeap",desc:"A0=heap_addr"},{addr:2147727012,type:"code",name:"MallocPerm",desc:"A0=size"},{addr:2147727048,type:"code",name:"FreePerm",desc:"A0=addr"},{addr:2147727184,type:"code",name:"MakeTempHeap",desc:"A0=heap_addr"},{addr:2147727220,type:"code",name:"MallocTemp",desc:"A0=size"},{addr:2147727256,type:"code",name:"FreeTemp",desc:"A0=addr"},{addr:2147729740,type:"code",name:"DirectionPrompt",desc:"Prompts player to choose path at branch"},{addr:2147740080,type:"code",name:"RunDecisionTree",desc:"A0=decision_tree_pointer"},{addr:2147768184,type:"code",name:"ShowPlayerCoinChange",desc:"A0=player_index"},{addr:2147787668,type:"code",name:"HVQDecode",desc:"HVQ image decoder"},{addr:2147795436,type:"code",name:"GetSpaceData",desc:"A0=space_index"},{addr:2147795460,type:"code",name:"GetAbsSpaceIndexFromChainSpaceIndex",desc:"A0=chain_index"},{addr:2147795504,type:"code",name:"GetChainLength",desc:"A0=chain_index"},{addr:2147795532,type:"code",name:"GetChainSpaceIndexFromAbsSpaceIndex",desc:"A0=abs_space_index"},{addr:2147796108,type:"code",name:"SetSpaceType",desc:"A0=space_index"},{addr:2147797248,type:"code",name:"EventTableHydrate",desc:"Moves event table data into the space data"},{addr:2147797804,type:"code",name:"SetCurrentSpaceIndex",desc:"A0=space_index"},{addr:2147797816,type:"code",name:"GetCurrentSpaceIndex"},{addr:2147798640,type:"code",name:"SwapPlayerLocationData",desc:"A0=player_index_1"},{addr:2147798848,type:"code",name:"SetPlayerBlue",desc:"Sets the player's turn state blue"},{addr:2147798856,type:"code",name:"SetPlayerRed",desc:"Sets the player's turn state red"},{addr:2147798864,type:"code",name:"SetPlayerGreen",desc:"Sets the player's turn state green"},{addr:2147798896,type:"code",name:"GetSumOfPlayerStars",desc:"sums the star count of all players"},{addr:2147798976,type:"code",name:"RNGPercentChance",desc:"A0=percent chance the call returns true"},{addr:2147799048,type:"code",name:"GetTurnsRemaining",desc:"Subtracts elapsed turns from total turns"},{addr:2147801048,type:"code",name:"SetPlayerOntoChain",desc:"A0=player_index"},{addr:2147801156,type:"code",name:"SetNextChainAndSpace",desc:"A0=player_index"},{addr:2147801392,type:"code",name:"CreateTextWindow",desc:"creates a text window based on upper left x and y coordinate"},{addr:2147801560,type:"code",name:"ShowTextWindow"},{addr:2147801808,type:"code",name:"HideTextWindow"},{addr:2147802724,type:"code",name:"WaitForTextConfirmation"},{addr:2147822208,type:"code",name:"GetCurrentPlayerIndex"},{addr:2147822220,type:"code",name:"GetPlayerStruct",desc:"A0=player_index pass -1 to get current player's struct"},{addr:2147822284,type:"code",name:"PlayerIsCurrent",desc:"A0=player_index tests if A0 is the current player"},{addr:2147822312,type:"code",name:"PlayerStructIsCurrent",desc:"A0=struct player pointer"},{addr:2147822368,type:"code",name:"PlayerIsCPU",desc:"A0=player_index"},{addr:2147822408,type:"code",name:"AdjustPlayerCoins",desc:"A0=player_index"},{addr:2147822520,type:"code",name:"PlayerHasCoins",desc:"A0=player_index"},{addr:2147823648,type:"code",name:"ClearPlayer0x20",desc:"clears all 0x20 entries in player structs"},{addr:2147834208,type:"code",name:"AdjustPlayerCoinsGradual",desc:"A0=player_index"},{addr:2147845968,type:"code",name:"ExecBoardScene",desc:"A0=board_fns"},{addr:2147850136,type:"code",name:"IsBoardFeatureFlagSet"},{addr:2147850204,type:"code",name:"SetBoardFeatureFlag",desc:"A0=feature"},{addr:2147850284,type:"code",name:"ClearBoardFeatureFlag",desc:"A0=feature"},{addr:2147850368,type:"code",name:"MakeHeap",desc:"A0=addr"},{addr:2147850400,type:"code",name:"Malloc",desc:"A0=heap pointer (main or temp)"},{addr:2147850540,type:"code",name:"Free",desc:"A0=allocated heap pointer"},{addr:2147851008,type:"code",name:"Ensure16",desc:"A0=num"},{addr:2147858488,type:"code",name:"FreeString",desc:"A0=*str"},{addr:2147864368,type:"code",name:"InitObjectSystem",desc:"A0=int max_objects"},{addr:2147867688,type:"code",name:"InitProcess",desc:"A0=fn"},{addr:2147868048,type:"code",name:"EndProcess"},{addr:2147877548,type:"code",name:"PlaySound",desc:"A0=index"},{addr:2147885756,type:"code",name:"DrawDebugText",desc:"A0=x_pos"},{addr:2147890512,type:"code",name:"SleepProcess"},{addr:2147890612,type:"code",name:"SleepVProcess"},{addr:2147932120,type:"code",name:"LoadStringIntoWindow",desc:"A0=window_id"},{addr:2147934320,type:"code",name:"SetTextCharsPerFrame",desc:"A0=window_id"},{addr:2148005196,type:"code",name:"HVQDecodeInner",desc:"HVQ image decoder"},{addr:2148007236,type:"code",name:"__leoCommand"},{addr:2148010448,type:"code",name:"__leoAnalize_asic_status"},{addr:2148011632,type:"code",name:"__leoSend_asic_cmd_w"},{addr:2148011688,type:"code",name:"__leoSend_asic_cmd_w_nochkDiskChange"},{addr:2148012004,type:"code",name:"__leoRecal_w"},{addr:2148012144,type:"code",name:"__leoSeek_w"},{addr:2148012288,type:"code",name:"__leoChk_err_retry"},{addr:2148012560,type:"code",name:"__leoChk_cur_drvmode"},{addr:2148012832,type:"code",name:"__LEOrw_flags"},{addr:2148012834,type:"code",name:"__LEOdma_que"},{addr:2148012858,type:"code",name:"__LEOPiDmaParam"},{addr:2148012882,type:"code",name:"__LEOtgt_param"},{addr:2148012894,type:"code",name:"__LEOPiInfo"},{addr:2148012898,type:"code",name:"__LEOasic_seq_ctl_shadow"},{addr:2148012902,type:"code",name:"__leoSet_mseq"},{addr:2148013268,type:"code",name:"__leoClr_reset"},{addr:2148013380,type:"code",name:"__LEOcommand_que"},{addr:2148013404,type:"code",name:"__leoClr_queue"},{addr:2148013552,type:"code",name:"__leoLba_to_phys"},{addr:2148014484,type:"code",name:"LeoReadDiskID"},{addr:2148014580,type:"code",name:"LeoReadWrite"},{addr:2148017600,type:"code",name:"osLeoDiskInit"},{addr:2148017756,type:"code",name:"__osDiskHandle"},{addr:2148017760,type:"code",name:"__LeoDiskHandle"},{addr:2148018112,type:"code",name:"LeoDriveExist"},{addr:2148029872,type:"code",name:"sqrtf",desc:"of F0 and F12"},{addr:2148029888,type:"code",name:"cosf"},{addr:2148030224,type:"code",name:"guLookAt",desc:"Calculate a 'lookat' view matrix."},{addr:2148031124,type:"code",name:"guLookAtF",desc:"Calculate a 'lookat' view matrix (floating point)"},{addr:2148032032,type:"code",name:"guLookAtReflect"},{addr:2148032140,type:"code",name:"guLookAtReflectF"},{addr:2148033552,type:"code",name:"guLookAtHilite"},{addr:2148033764,type:"code",name:"guLookAtHiliteF"},{addr:2148036208,type:"code",name:"guMtxF2L"},{addr:2148036360,type:"code",name:"guMtxL2F"},{addr:2148036448,type:"code",name:"guMtxIdentF"},{addr:2148036528,type:"code",name:"guMtxIdentF"},{addr:2148036696,type:"code",name:"guMtxF2L"},{addr:2148036848,type:"code",name:"guMtxXFMF"},{addr:2148037020,type:"code",name:"guMtxCatF"},{addr:2148037068,type:"code",name:"guMtxXFMF"},{addr:2148037248,type:"code",name:"guMtxXFML"},{addr:2148037388,type:"code",name:"guMtxCatL"},{addr:2148037504,type:"code",name:"guOrtho",desc:"Calculate a positive projection matrix."},{addr:2148037836,type:"code",name:"guOrthoF",desc:"Calculate a positive projection matrix (floating point)"},{addr:2148038144,type:"code",name:"guPerspective",desc:"Calculate a perspective drawing projection matrix."},{addr:2148038600,type:"code",name:"guPerspectiveF",desc:"Calculate a perspective drawing projection matrix (floating point)"},{addr:2148039040,type:"code",name:"guRotate"},{addr:2148039416,type:"code",name:"guRotateF"},{addr:2148039776,type:"code",name:"guRotateRPY"},{addr:2148040172,type:"code",name:"guRotateRPYF"},{addr:2148040576,type:"code",name:"guScale"},{addr:2148040700,type:"code",name:"guScaleF"},{addr:2148040800,type:"code",name:"sinf"},{addr:2148041216,type:"code",name:"guTranslate"},{addr:2148041328,type:"code",name:"guTranslateF"},{addr:2148041424,type:"code",name:"guRandom",desc:"Generates a pseudo-random number"},{addr:2148041472,type:"code",name:"osInvalDCache"},{addr:2148041872,type:"code",name:"osSetIntMask"},{addr:2148042096,type:"code",name:"osWritebackDCache"},{addr:2148042272,type:"code",name:"osCreateMesgQueue"},{addr:2148042320,type:"code",name:"osCreateThread"},{addr:2148042736,type:"code",name:"osGetThreadPri"},{addr:2148042768,type:"code",name:"osGetTime"},{addr:2148042912,type:"code",name:"osJamMesg"},{addr:2148043232,type:"code",name:"osRecvMesg"},{addr:2148043536,type:"code",name:"osSendMesg"},{addr:2148043840,type:"code",name:"osSetThreadPri"},{addr:2148044048,type:"code",name:"osStartThread"},{addr:2148044336,type:"code",name:"osStopThread"},{addr:2148044528,type:"code",name:"__osDequeueThread"},{addr:2148044580,type:"code",name:"__osFaultedThread"},{addr:2148044584,type:"code",name:"__osRunningThread"},{addr:2148044588,type:"code",name:"__osActiveQueue"},{addr:2148044592,type:"code",name:"__osRunQueue"},{addr:2148044596,type:"code",name:"__osThreadTail"},{addr:2148044992,type:"code",name:"__osSetTimerIntr"},{addr:2148045088,type:"code",name:"__osInsertTimer"},{addr:2148045360,type:"code",name:"osVirtualToPhysical",desc:"Translates between CPU virtual address/physical memory address"},{addr:2148045472,type:"code",name:"alBnkfNew",desc:"Initializes a bank file"},{addr:2148045620,type:"code",name:"alSeqFileNew"},{addr:2148045684,type:"code",name:"__bnkf_o_0098"},{addr:2148045856,type:"code",name:"__bnkf_o_0118"},{addr:2148046004,type:"code",name:"__bnkf_o_01D8"},{addr:2148046092,type:"code",name:"__bnkf_o_0258"},{addr:2148046192,type:"code",name:"alEvtqFlushType"},{addr:2148046316,type:"code",name:"alEvtqNextEvent"},{addr:2148046368,type:"code",name:"alEvtqFlushstring_num",desc:"returns pointer"},{addr:2148046468,type:"code",name:"alEvtqPostEvent"},{addr:2148046488,type:"code",name:"alEvtqPostEvent"},{addr:2148046756,type:"code",name:"alEvtqNextEvent"},{addr:2148046856,type:"code",name:"alEvtqFlushType"},{addr:2148046908,type:"code",name:"alEvtqNew"},{addr:2148047132,type:"code",name:"alLink"},{addr:2148047164,type:"code",name:"alUnlink"},{addr:2148047216,type:"code",name:"alHeapInit"},{addr:2148047280,type:"code",name:"alHeapDBAlloc"},{addr:2148047360,type:"code",name:"alCopy"},{addr:2148047424,type:"code",name:"alCSeqGetLoc"},{addr:2148047540,type:"code",name:"alCSeqSetLoc"},{addr:2148047656,type:"code",name:"alCSeqNewMarker"},{addr:2148047692,type:"code",name:"alCSeqNextEvent"},{addr:2148047936,type:"code",name:"__alCSeqNextDelta"},{addr:2148048064,type:"code",name:"__cseq_o_0194"},{addr:2148048320,type:"code",name:"alCSeqGetTicks"},{addr:2148048328,type:"code",name:"alCSeqSecToTicks"},{addr:2148048488,type:"code",name:"alCSeqTicksToSec"},{addr:2148048612,type:"code",name:"__alCSeqNextDelta"},{addr:2148048740,type:"code",name:"alCSeqNextEvent"},{addr:2148048984,type:"code",name:"alCSeqNew"},{addr:2148049876,type:"code",name:"__cseq_o_02A4"},{addr:2148050060,type:"code",name:"__cseq_o_0088"},{addr:2148050176,type:"code",name:"alSeqpDelete"},{addr:2148050208,type:"code",name:"alSeqpGetChlFXMix"},{addr:2148050240,type:"code",name:"alSeqpGetChlPan"},{addr:2148050272,type:"code",name:"alSeqpGetChlVol"},{addr:2148050304,type:"code",name:"alSeqpGetChlProgram"},{addr:2148050432,type:"code",name:"alCSPGetTempo"},{addr:2148050480,type:"code",name:"alSeqpGetState"},{addr:2148050496,type:"code",name:"alSeqpPlay"},{addr:2148050544,type:"code",name:"alSeqpSetBank"},{addr:2148050592,type:"code",name:"alSeqpSetChlFXMix"},{addr:2148050672,type:"code",name:"alSeqpSetSeq"},{addr:2148050720,type:"code",name:"alSeqpSetTempo"},{addr:2148050800,type:"code",name:"alSeqpSetVol"},{addr:2148050848,type:"code",name:"alSeqpStop"},{addr:2148050896,type:"code",name:"alSndpDelete"},{addr:2148050944,type:"code",name:"alSndpAllocate"},{addr:2148051136,type:"code",name:"alSndpDeallocate"},{addr:2148051216,type:"code",name:"alSndpSetSound"},{addr:2148051232,type:"code",name:"alSndpPlay"},{addr:2148051328,type:"code",name:"alSndpGetSound"},{addr:2148051344,type:"code",name:"alSndpStop"},{addr:2148051424,type:"code",name:"alSndpGetState"},{addr:2148051456,type:"code",name:"alSndpSetPitch"},{addr:2148051536,type:"code",name:"alSndpSetPriority"},{addr:2148051584,type:"code",name:"alSndpSetVol"},{addr:2148051664,type:"code",name:"alSndpSetPan"},{addr:2148051744,type:"code",name:"alSndpSetFXMix"},{addr:2148051824,type:"code",name:"alSynDelete"},{addr:2148051840,type:"code",name:"alSynAddPlayer"},{addr:2148051920,type:"code",name:"alSynRemovePlayer"},{addr:2148052080,type:"code",name:"alSynFreeVoice"},{addr:2148052240,type:"code",name:"_allocatePVoice"},{addr:2148052424,type:"code",name:"alSynAllocVoice"},{addr:2148052536,type:"code",name:"__synallocvoice_o_0048"},{addr:2148052720,type:"code",name:"alSynStopVoice"},{addr:2148052848,type:"code",name:"alSynStartVoice"},{addr:2148053008,type:"code",name:"alSynSetPitch"},{addr:2148053152,type:"code",name:"alSynSetVol"},{addr:2148053344,type:"code",name:"alCents2Ratio"},{addr:2148053440,type:"code",name:"osAiGetLength"},{addr:2148053616,type:"code",name:"osSpTaskStartGo"},{addr:2148053660,type:"code",name:"osSpTaskLoad"},{addr:2148054192,type:"code",name:"osSpTaskYield"},{addr:2148054224,type:"code",name:"osSpTaskYielded"},{addr:2148054304,type:"code",name:"osViGetCurrentFramebuffer"},{addr:2148054432,type:"code",name:"osViSetEvent"},{addr:2148054528,type:"code",name:"osViSetMode"},{addr:2148054608,type:"code",name:"osViSwapBuffer"},{addr:2148054688,type:"code",name:"osViBlack"},{addr:2148055664,type:"code",name:"__osPfsGetInitData"},{addr:2148055844,type:"code",name:"__osPfsRequestData"},{addr:2148056008,type:"code",name:"__osPfsPifRam"},{addr:2148056044,type:"code",name:"__pfsisplug_o_004C"},{addr:2148056072,type:"code",name:"osPfsIsPlug"},{addr:2148056208,type:"code",name:"__pfsisplug_o_0094"},{addr:2148056400,type:"code",name:"osEepromLongWrite"},{addr:2148056640,type:"code",name:"osEepromLongRead"},{addr:2148056752,type:"code",name:"osEPiStartDma"},{addr:2148056912,type:"code",name:"__osPiCreateAccessQueue"},{addr:2148056952,type:"code",name:"__osPiGetAccess"},{addr:2148056996,type:"code",name:"__osPiGetAccess"},{addr:2148057060,type:"code",name:"__osPiAccessQueue"},{addr:2148057084,type:"code",name:"__osPiCreateAccessQueue"},{addr:2148057104,type:"code",name:"__osPiRelAccess"},{addr:2148057152,type:"code",name:"bcopy"},{addr:2148057952,type:"code",name:"bzero",desc:"Writes all zeroes"},{addr:2148058112,type:"code",name:"strchr"},{addr:2148058204,type:"code",name:"memcpy"},{addr:2148058168,type:"code",name:"strlen"},{addr:2148058256,type:"code",name:"sprintf",desc:"A0=out_addr"},{addr:2148058400,type:"code",name:"rmonPrintf",desc:"no-op in release"},{addr:2148058420,type:"code",name:"osSyncPrintf",desc:"no-op in release"},{addr:2148058564,type:"code",name:"alCSPNew"},{addr:2148065316,type:"code",name:"alSeqpNew"},{addr:2148065496,type:"code",name:"__seqplayer_o_03EC"},{addr:2148067584,type:"code",name:"__seqplayer_o_0400"},{addr:2148067692,type:"code",name:"__seqplayer_o_0A54"},{addr:2148067772,type:"code",name:"__seqplayer_o_0244"},{addr:2148067872,type:"code",name:"__seqplayer_o_0D18"},{addr:2148067956,type:"code",name:"__seqplayer_o_0A1C"},{addr:2148068168,type:"code",name:"__seqplayer_o_0284"},{addr:2148068280,type:"code",name:"__seqplayer_o_0320"},{addr:2148068308,type:"code",name:"__seqplayer_o_0C7C"},{addr:2148068376,type:"code",name:"__seqplayer_o_04F8"},{addr:2148068668,type:"code",name:"__seqplayer_o_04E0"},{addr:2148068844,type:"code",name:"__seqplayer_o_0600"},{addr:2148069016,type:"code",name:"__seqplayer_o_107C"},{addr:2148069100,type:"code",name:"__seqplayer_o_167C"},{addr:2148069228,type:"code",name:"__seqplayer_o_00BC"},{addr:2148069408,type:"code",name:"__seqplayer_o_0238"},{addr:2148069648,type:"code",name:"__seqplayer_o_05D8"},{addr:2148069712,type:"code",name:"alSynSetFXMix"},{addr:2148070164,type:"code",name:"alAudioFrame"},{addr:2148070596,type:"code",name:"alSynNew"},{addr:2148071472,type:"code",name:"osAiSetFrequency"},{addr:2148071760,type:"code",name:"__CartRomHandle"},{addr:2148071876,type:"code",name:"osCartRomInit"},{addr:2148072144,type:"code",name:"osEepromProbe"},{addr:2148072272,type:"code",name:"osEepromRead"},{addr:2148072680,type:"code",name:"__conteepread_o_00A8"},{addr:2148072816,type:"code",name:"osEepromWrite"},{addr:2148073176,type:"code",name:"__conteepwrite_o_00AC"},{addr:2148073344,type:"code",name:"__osEepStatus"},{addr:2148073760,type:"code",name:"osContGetReadData"},{addr:2148073916,type:"code",name:"osContStartReadData"},{addr:2148074052,type:"code",name:"__contreaddata_o_0028"},{addr:2148074736,type:"code",name:"osEPiReadIo"},{addr:2148074832,type:"code",name:"osEPiWriteIo"},{addr:2148074928,type:"code",name:"osMotorInit"},{addr:2148075512,type:"code",name:"__osMotorAccess"},{addr:2148075840,type:"code",name:"__osPfsDeclearPage"},{addr:2148076120,type:"code",name:"osPfsAllocateFile"},{addr:2148076620,type:"code",name:"__pfsallocatefile_o_0178"},{addr:2148076912,type:"code",name:"__osPfsReleasePages"},{addr:2148077016,type:"code",name:"osPfsDeleteFile"},{addr:2148077340,type:"code",name:"__pfsdeletefile_o_00EC"},{addr:2148077436,type:"code",name:"alHeapCheck"},{addr:2148077856,type:"code",name:"osPfsFreeBlocks"},{addr:2148078128,type:"code",name:"osPfsInitPak"},{addr:2148078632,type:"code",name:"__pfsinitpak_o_0050"},{addr:2148080192,type:"code",name:"osPfsRepairId"},{addr:2148080288,type:"code",name:"osPfsFindFile"},{addr:2148080704,type:"code",name:"__osPfsSelectBank"},{addr:2148080816,type:"code",name:"osCreatePiManager"},{addr:2148081216,type:"code",name:"__osPiRawStartDma"},{addr:2148081224,type:"code",name:"__osPiTable"},{addr:2148081228,type:"code",name:"__osPiDevMgr"},{addr:2148081332,type:"code",name:"__Dom1SpeedParam"},{addr:2148081424,type:"code",name:"__osSiRawStartDma"},{addr:2148081448,type:"code",name:"__osCurrentHandle"},{addr:2148081456,type:"code",name:"__osPiTable"},{addr:2148081460,type:"code",name:"__osPiDevMgr"},{addr:2148081600,type:"code",name:"__osSpRawStartDma"},{addr:2148082576,type:"code",name:"osViSetSpecialFeatures"},{addr:2148082944,type:"code",name:"__osViSwapContext"},{addr:2148083728,type:"code",name:"osAfterPreNMI"},{addr:2148085420,type:"code",name:"__osEnqueueAndYield"},{addr:2148085756,type:"code",name:"__osPopThread"},{addr:2148086176,type:"code",name:"osGetMemSize"},{addr:2148087072,type:"code",name:"__osDisableInt"},{addr:2148087184,type:"code",name:"__osRestoreInt"},{addr:2148087216,type:"code",name:"osSetEventMesg"},{addr:2148087392,type:"code",name:"__osSetHWIntrRoutine"},{addr:2148087680,type:"code",name:"osGetCount"},{addr:2148087712,type:"code",name:"__osProbeTLB"},{addr:2148088096,type:"code",name:"osSetTimer"},{addr:2148088256,type:"code",name:"alLoadParam"},{addr:2148088684,type:"code",name:"alRaw16Pull"},{addr:2148089608,type:"code",name:"alAdpcmPull"},{addr:2148090272,type:"code",name:"alLoadParam"},{addr:2148090700,type:"code",name:"__load_o_0108"},{addr:2148091088,type:"code",name:"alAuxBusParam"},{addr:2148091136,type:"code",name:"alAuxBusPull"},{addr:2148091308,type:"code",name:"alAuxBusParam"},{addr:2148091360,type:"code",name:"alMainBusParam"},{addr:2148091408,type:"code",name:"alMainBusPull"},{addr:2148091680,type:"code",name:"alMainBusParam"},{addr:2148091728,type:"code",name:"alResampleParam"},{addr:2148091920,type:"code",name:"alResamplePull"},{addr:2148092220,type:"code",name:"alResampleParam"},{addr:2148092416,type:"code",name:"alSeqGetLoc"},{addr:2148092480,type:"code",name:"alSeqNewMarker"},{addr:2148092648,type:"code",name:"__seq_o_044C"},{addr:2148092756,type:"code",name:"alSeqSecToTicks"},{addr:2148092900,type:"code",name:"alSeqTicksToSec"},{addr:2148093008,type:"code",name:"__alSeqNextDelta"},{addr:2148093108,type:"code",name:"alSeqNextEvent"},{addr:2148093468,type:"code",name:"alSeqNew"},{addr:2148093644,type:"code",name:"alSeqSetLoc"},{addr:2148093700,type:"code",name:"__seq_o_011C"},{addr:2148093720,type:"code",name:"__seq_o_0040"},{addr:2148093768,type:"code",name:"__seq_o_0020"},{addr:2148093848,type:"code",name:"__seq_o_0104"},{addr:2148093936,type:"code",name:"alSynSetPriority"},{addr:2148093952,type:"code",name:"alSynAllocFX"},{addr:2148094112,type:"code",name:"__osAiDeviceBusy"},{addr:2148094144,type:"code",name:"__osSpDeviceBusy"},{addr:2148094176,type:"code",name:"__osSpGetStatus"},{addr:2148094192,type:"code",name:"__osSpSetStatus"},{addr:2148094208,type:"code",name:"__osSpSetPc"},{addr:2148094628,type:"code",name:"__osSiGetAccess"},{addr:2148094736,type:"code",name:"__osSiRelAccess"},{addr:2148094784,type:"code",name:"osPiGetCmdQueue"},{addr:2148097860,type:"code",name:"alFxNew"},{addr:2148099036,type:"code",name:"alEnvmixerNew"},{addr:2148099220,type:"code",name:"alLoadNew"},{addr:2148099396,type:"code",name:"alResampleNew"},{addr:2148099536,type:"code",name:"alAuxBusNew"},{addr:2148099628,type:"code",name:"alMainBusNew"},{addr:2148099720,type:"code",name:"alSaveNew"},{addr:2148099792,type:"code",name:"_ldexpf",desc:"multiply floating-point number by integral power of 2"},{addr:2148099828,type:"code",name:"_frexpf",desc:"convert floating-point number to fractional and integral components"},{addr:2148100052,type:"code",name:"alEnvmixerParam"},{addr:2148100264,type:"code",name:"alEnvmixerPull"},{addr:2148101072,type:"code",name:"alEnvmixerParam"},{addr:2148101284,type:"code",name:"__env_o_01E0"},{addr:2148102268,type:"code",name:"__env_o_0718"},{addr:2148102908,type:"code",name:"__env_o_027C"},{addr:2148103040,type:"code",name:"_doModFunc"},{addr:2148103180,type:"code",name:"alFxParamHdl"},{addr:2148103676,type:"code",name:"alFxParam"},{addr:2148103696,type:"code",name:"_filterBuffer"},{addr:2148103852,type:"code",name:"_loadOutputBuffer"},{addr:2148103924,type:"code",name:"alFxParam"},{addr:2148104388,type:"code",name:"_loadBuffer"},{addr:2148104440,type:"code",name:"__reverb_o_0178"},{addr:2148104756,type:"code",name:"_saveBuffer"},{addr:2148104976,type:"code",name:"__reverb_o_0154"},{addr:2148105124,type:"code",name:"alFxPull"},{addr:2148105344,type:"code",name:"__reverb_o_00C4"},{addr:2148105712,type:"code",name:"__reverb_o_024C"},{addr:2148105868,type:"code",name:"__reverb_o_05D0"},{addr:2148106016,type:"code",name:"alSaveParam"},{addr:2148106056,type:"code",name:"alSavePull"},{addr:2148106184,type:"code",name:"alSaveParam"},{addr:2148106224,type:"code",name:"__osPfsInodeCache"},{addr:2148106276,type:"code",name:"__osIdCheckSum"},{addr:2148106344,type:"code",name:"__osRepairPackId"},{addr:2148106480,type:"code",name:"__osPfsRWInode"},{addr:2148107092,type:"code",name:"__osCheckPackId"},{addr:2148107304,type:"code",name:"__osCheckId"},{addr:2148107448,type:"code",name:"__osGetId"},{addr:2148107488,type:"code",name:"__osGetId"},{addr:2148107908,type:"code",name:"__osCheckId"},{addr:2148107948,type:"code",name:"__osCheckPackId"},{addr:2148108092,type:"code",name:"__osPfsRWInode"},{addr:2148108304,type:"code",name:"__osRepairPackId"},{addr:2148108928,type:"code",name:"__osContRamRead"},{addr:2148109052,type:"code",name:"__osIdCheckSum"},{addr:2148109120,type:"code",name:"__osSumcalc"},{addr:2148109172,type:"code",name:"__osPfsInodeCacheBank"},{addr:2148109173,type:"code",name:"__osPfsInodeCacheChannel"},{addr:2148109440,type:"code",name:"__osContRamWrite"},{addr:2148109984,type:"code",name:"__osContDataCrc"},{addr:2148110108,type:"code",name:"__osContAddressCrc"},{addr:2148110224,type:"code",name:"__osDevMgrMain"},{addr:2148111184,type:"code",name:"__osEPiRawReadIo"},{addr:2148111552,type:"code",name:"__osEPiRawWriteIo"},{addr:2148111920,type:"code",name:"osPfsChecker"},{addr:2148113744,type:"code",name:"__osPfsGetStatus"},{addr:2148113872,type:"code",name:"__osPfsRequestOneChannel"},{addr:2148113984,type:"code",name:"__pfsgetstatus_o_0030"},{addr:2148114020,type:"code",name:"__osPfsGetStatus"},{addr:2148114132,type:"code",name:"__pfsgetstatus_o_0084"},{addr:2148114272,type:"code",name:"__osSpRawReadIo"},{addr:2148114352,type:"code",name:"__osSpRawWriteIo"},{addr:2148114432,type:"code",name:"__osResetGlobalIntMask"},{addr:2148114512,type:"code",name:"__osSetGlobalIntMask"},{addr:2148114576,type:"code",name:"osYieldThread"},{addr:2148114656,type:"code",name:"alFilterNew"},{addr:2148114688,type:"code",name:"__osSpDeviceBusy"},{addr:2148277364,type:"data",name:"overlay_table"},{addr:2148282356,type:"data",name:"rng_seed"},{addr:2148287312,type:"data",name:"model_info"},{addr:2148292986,type:"u16",name:"cur_board_scene_state",desc:"Determines how the board scene starts up when (re)loaded"},{addr:2148313792,type:"data",name:"jt_ai_logic",desc:"Jump table for 8003E9B0"},{addr:2148315232,type:"data",name:"jt_spacetype_to_turneffect",desc:"Jump table for space type to turn effect"},{addr:2148330124,type:"data",name:"__ALSndPlayer*sndp"},{addr:2148340464,type:"data",name:"main_fs_rom_location"},{addr:2148340468,type:"data",name:"main_fs_dir_count",desc:"Number of directories in main filesystem"},{addr:2148340480,type:"data",name:"main_fs_cur_dir_file_count",desc:"Count of files in directory being accessed"},{addr:2148360240,type:"data",name:"perm_heap_addr",desc:"Address of permanent heap"},{addr:2148360256,type:"data",name:"temp_heap_addr",desc:"Address of temporary heap"},{addr:2148368648,type:"data",name:"space_data",desc:"pointer to space data parsed from board def file"},{addr:2148368656,type:"data",name:"chain_data_addr",desc:"pointer to array of chain lengths and indices"},{addr:2148453156,type:"data",name:"debug_font_color",desc:"16 color values"},{addr:2148454722,type:"u16",name:"bank_coins",desc:"Coins in bank"},{addr:2148454724,type:"u16",name:"bank_stars",desc:"Stars in bank"},{addr:2148454728,type:"u16",name:"enabled_feature_flags"},{addr:2148454802,type:"u16",name:"times_passed_start",desc:"Number of times the start space has been passed"},{addr:2148455760,type:"u16",name:"max_objects",desc:"set from InitObjectSystem"},{addr:2148455879,type:"u8",name:"total_turns",desc:"Total game turns"},{addr:2148455881,type:"u8",name:"current_turn",desc:"Elapsed turns"},{addr:2148455900,type:"u16",name:"current_player_index",desc:"Player who's turn is active"},{addr:2148469236,type:"u32",name:"scene",desc:"Current scene"},{addr:2148478172,type:"u16",name:"hidden_block_space_index",desc:"Space index of hidden block"},{addr:2148479665,type:"u8",name:"p1_cpu_difficulty_1",desc:"Player 1 CPU difficulty"},{addr:2148479666,type:"u8",name:"p1_cpu_difficulty_2",desc:"Player 1 CPU difficulty"},{addr:2148479668,type:"u8",name:"p1_char",desc:"Player 1 character"},{addr:2148479672,type:"u16",name:"p1_coins",desc:"Player 1 coin count"},{addr:2148479674,type:"s16",name:"p1_minigame_coins",desc:"Player 1 coins in current Mini-Game"},{addr:2148479676,type:"u16",name:"p1_stars",desc:"Player 1 star count"},{addr:2148479678,type:"u16",name:"p1_cur_chain_index",desc:"Player 1 current chain index"},{addr:2148479680,type:"u16",name:"p1_cur_space_index",desc:"Player 1 current space index"},{addr:2148479682,type:"u16",name:"p1_next_chain_index",desc:"Player 1 next chain index"},{addr:2148479684,type:"u16",name:"p1_next_space_index",desc:"Player 1 next space index"},{addr:2148479686,type:"u8",name:"p1_poisoned",desc:"Player 1 poisoned boolean"},{addr:2148479687,type:"u8",name:"p1_turn_status",desc:"Color based on type of space landed on"},{addr:2148479700,type:"u16",name:"p1_total_minigame_coins",desc:"Player 1 total Mini-Game coins collected"},{addr:2148479702,type:"u16",name:"p1_total_coins",desc:"Player 1 total coins collected"},{addr:2148479704,type:"u8",name:"p1_total_happening_spaces",desc:"Player 1 total number of Happening Spaces landed on"},{addr:2148479705,type:"u8",name:"p1_total_red_spaces",desc:"Player 1 total number of red spaces landed on"},{addr:2148479706,type:"u8",name:"p1_total_blue_spaces",desc:"Player 1 total number of blue spaces landed on"},{addr:2148479707,type:"u8",name:"p1_total_minigame_spaces",desc:"Player 1 total number of Mini-Game spaces landed on"},{addr:2148479708,type:"u8",name:"p1_total_chance_spaces",desc:"Player 1 total number of Chance Time spaces landed on"},{addr:2148479709,type:"u8",name:"p1_total_mushroom_spaces",desc:"Player 1 total number of Mushroom spaces landed on"},{addr:2148479710,type:"u8",name:"p1_total_bowser_spaces",desc:"Player 1 total number of Bowser spaces landed on"},{addr:2148479713,type:"u8",name:"p2_cpu_difficulty_1",desc:"Player 2 CPU difficulty"},{addr:2148479714,type:"u8",name:"p2_cpu_difficulty_2",desc:"Player 2 CPU difficulty"},{addr:2148479716,type:"u8",name:"p2_char",desc:"Player 2 character"},{addr:2148479720,type:"u16",name:"p2_coins",desc:"Player 2 coin count"},{addr:2148479722,type:"s16",name:"p2_minigame_coins",desc:"Player 2 coins in current Mini-Game"},{addr:2148479724,type:"u16",name:"p2_stars",desc:"Player 2 star count"},{addr:2148479726,type:"u16",name:"p2_cur_chain_index",desc:"Player 2 current chain index"},{addr:2148479728,type:"u16",name:"p2_cur_space_index",desc:"Player 2 current space index"},{addr:2148479730,type:"u16",name:"p2_next_chain_index",desc:"Player 2 next chain index"},{addr:2148479732,type:"u16",name:"p2_next_space_index",desc:"Player 2 next space index"},{addr:2148479734,type:"u8",name:"p2_poisoned",desc:"Player 2 poisoned boolean"},{addr:2148479735,type:"u8",name:"p2_turn_status",desc:"Color based on type of spaced landed on"},{addr:2148479748,type:"u16",name:"p2_total_minigame_coins",desc:"Player 2 total Mini-Game coins collected"},{addr:2148479750,type:"u16",name:"p2_total_coins",desc:"Player 2 total coins collected"},{addr:2148479752,type:"u8",name:"p2_total_happening_spaces",desc:"Player 2 total number of Happening spaces landed on"},{addr:2148479753,type:"u8",name:"p2_total_red_spaces",desc:"Player 2 total number of red spaces landed on"},{addr:2148479754,type:"u8",name:"p2_total_blue_spaces",desc:"Player 2 total number of blue spaces landed on"},{addr:2148479755,type:"u8",name:"p2_total_minigame_spaces",desc:"Player 2 total number of Mini-Game spaces landed on"},{addr:2148479756,type:"u8",name:"p2_total_chance_spaces",desc:"Player 2 total number of Chance Time spaces landed on"},{addr:2148479757,type:"u8",name:"p2_total_mushroom_spaces",desc:"Player 2 total number of Mushroom spaces landed on"},{addr:2148479758,type:"u8",name:"p2_total_bowser_spaces",desc:"Player 2 total number of Bowser spaces landed on"},{addr:2148479761,type:"u8",name:"p3_cpu_difficulty_1",desc:"Player 3 CPU difficulty"},{addr:2148479762,type:"u8",name:"p3_cpu_difficulty_2",desc:"Player 3 CPU difficulty"},{addr:2148479764,type:"u8",name:"p3_char",desc:"Player 3 character"},{addr:2148479768,type:"u16",name:"p3_coins",desc:"Player 3 coin count"},{addr:2148479770,type:"s16",name:"p3_minigame_coins",desc:"Player 3 coins in current Mini-Game"},{addr:2148479772,type:"u16",name:"p3_stars",desc:"Player 3 star count"},{addr:2148479774,type:"u16",name:"p3_cur_chain_index",desc:"Player 3 current chain index"},{addr:2148479776,type:"u16",name:"p3_cur_space_index",desc:"Player 3 current space index"},{addr:2148479778,type:"u16",name:"p3_next_chain_index",desc:"Player 3 next chain index"},{addr:2148479780,type:"u16",name:"p3_next_space_index",desc:"Player 3 next space index"},{addr:2148479782,type:"u8",name:"p3_poisoned",desc:"Player 3 poisoned boolean"},{addr:2148479783,type:"u8",name:"p3_turn_status",desc:"Color based on type of space landed on"},{addr:2148479796,type:"u16",name:"p3_total_minigame_coins",desc:"Player 3 total Mini-Game coins collected"},{addr:2148479798,type:"u16",name:"p3_total_coins",desc:"Player 3 total coins collected"},{addr:2148479800,type:"u8",name:"p3_total_happening_spaces",desc:"Player 3 total number of Happening spaces landed on"},{addr:2148479801,type:"u8",name:"p3_total_red_spaces",desc:"Player 3 total number of red spaces landed on"},{addr:2148479802,type:"u8",name:"p3_total_blue_spaces",desc:"Player 3 total number of blue spaces landed on"},{addr:2148479803,type:"u8",name:"p3_total_minigame_spaces",desc:"Player 3 total number of Mini-Game spaces landed on"},{addr:2148479804,type:"u8",name:"p3_total_chance_spaces",desc:"Player 3 total number of Chance Time spaces landed on"},{addr:2148479805,type:"u8",name:"p3_total_mushroom_spaces",desc:"Player 3 total number of Mushroom spaces landed on"},{addr:2148479806,type:"u8",name:"p3_total_bowser_spaces",desc:"Player 3 total number of Bowser spaces landed on"},{addr:2148479809,type:"u8",name:"p3_cpu_difficulty_1",desc:"Player 3 CPU difficulty"},{addr:2148479810,type:"u8",name:"p3_cpu_difficulty_2",desc:"Player 3 CPU difficulty"},{addr:2148479812,type:"u8",name:"p4_char",desc:"Player 4 character"},{addr:2148479816,type:"u16",name:"p4_coins",desc:"Player 4 coin count"},{addr:2148479818,type:"s16",name:"p4_minigame_coins",desc:"Player 4 coins in current Mini-Game"},{addr:2148479820,type:"u16",name:"p4_stars",desc:"Player 4 star count"},{addr:2148479822,type:"u16",name:"p4_cur_chain_index",desc:"Player 4 current chain index"},{addr:2148479824,type:"u16",name:"p4_cur_space_index",desc:"Player 4 current space index"},{addr:2148479826,type:"u16",name:"p4_next_chain_index",desc:"Player 4 next chain index"},{addr:2148479828,type:"u16",name:"p4_next_space_index",desc:"Player 4 next space index"},{addr:2148479830,type:"u8",name:"p4_poisoned",desc:"Player 4 poisoned boolean"},{addr:2148479831,type:"u8",name:"p4_turn_status",desc:"Color based on type of space landed on"},{addr:2148479844,type:"u16",name:"p4_total_minigame_coins",desc:"Player 4 total Mini-Game coins collected"},{addr:2148479846,type:"u16",name:"p4_total_coins",desc:"Player 4 total coins collected"},{addr:2148479848,type:"u8",name:"p4_total_happening_spaces",desc:"Player 4 total number of Happening spaces landed on"},{addr:2148479849,type:"u8",name:"p4_total_red_spaces",desc:"Player 4 total number of red spaces landed on"},{addr:2148479850,type:"u8",name:"p4_total_blue_spaces",desc:"Player 4 total number of blue spaces landed on"},{addr:2148479851,type:"u8",name:"p4_total_minigame_spaces",desc:"Player 4 total number of Mini-Game spaces landed on"},{addr:2148479852,type:"u8",name:"p4_total_chance_spaces",desc:"Player 4 total number of Chance Time spaces landed on"},{addr:2148479853,type:"u8",name:"p4_total_mushroom_spaces",desc:"Player 4 total number of Mushroom spaces landed on"},{addr:2148479854,type:"u8",name:"p4_total_bowser_spaces",desc:"Player 4 total number of Bowser spaces landed on"}],le=[{addr:2148275156,type:"data",name:"overlay_table"},{addr:2148489776,type:"data",name:"overlay_ram_start"}],ue=[{addr:2148307636,type:"data",name:"overlay_table"},{addr:2148546384,type:"data",name:"overlay_ram_start"}],ce=[{addr:2147484416,type:"u32",name:"osTvType",desc:"0=PAL"},{addr:2147484420,type:"u32",name:"osRomType",desc:"0=cart"},{addr:2147484424,type:"data",name:"osRomBase",desc:"B0000000=cart"},{addr:2147484428,type:"data",name:"osResetType",desc:"0=cold reset"},{addr:2147484440,type:"data",name:"osMemSize",desc:"Size of RDRAM"},{addr:2147568404,type:"code",name:"PlaySound",desc:"A0=sound_index"},{addr:2147579520,type:"code",name:"ReadMainFS",desc:"Reads file from MainFS"},{addr:2147579904,type:"code",name:"FreeMainFS",desc:"Free's an allocated MainFS file pointer"},{addr:2147584764,type:"code",name:"GetRandomByte"},{addr:2147749248,type:"code",name:"MakePermHeap",desc:"A0=heap_addr"},{addr:2147749284,type:"code",name:"MallocPerm",desc:"A0=size"},{addr:2147749320,type:"code",name:"FreePerm",desc:"A0=addr"},{addr:2147749456,type:"code",name:"MakeTempHeap",desc:"A0=heap_addr"},{addr:2147749492,type:"code",name:"MallocTemp",desc:"A0=size"},{addr:2147749528,type:"code",name:"FreeTemp",desc:"A0=addr"},{addr:2147764224,type:"code",name:"RunDecisionTree",desc:"A0=decision_tree_pointer"},{addr:2147797556,type:"code",name:"ShowPlayerCoinChange",desc:"A0=player_index"},{addr:2147800736,type:"code",name:"UseMushroom",desc:"Mushroom item function"},{addr:2147800884,type:"code",name:"UseSkeleton_key",desc:"Skeleton Key item function"},{addr:2147800920,type:"code",name:"UsePlunder_chest",desc:"Plunder Chest item function"},{addr:2147800960,type:"code",name:"UseBowserBomb",desc:"Bowser Bomb item function"},{addr:2147800992,type:"code",name:"UseDuelingGlove",desc:"Dueling Glove item function"},{addr:2147801176,type:"code",name:"UseWarpBlock",desc:"Warp Block item function"},{addr:2147801264,type:"code",name:"UseGoldenMushroom",desc:"Golden Mushroom item function"},{addr:2147801412,type:"code",name:"UseBooBell",desc:"Boo Bell item function"},{addr:2147801644,type:"code",name:"UseBowserSuit",desc:"Bowser Suit item function"},{addr:2147801796,type:"code",name:"UseMagicLamp",desc:"Magic Lamp item function"},{addr:2147828328,type:"code",name:"AddArrowAngle",desc:"F0=degree_rot_of_arrow"},{addr:2147830668,type:"code",name:"GetSpaceData",desc:"A0=space_index"},{addr:2147830704,type:"code",name:"GetAbsSpaceIndexFromChainSpaceIndex",desc:"A0=chain_index"},{addr:2147833484,type:"code",name:"EventTableHydrate",desc:"Moves event table data into the space data"},{addr:2147836228,type:"code",name:"CloseMessage",desc:"Closes open message window (with animation)"},{addr:2147836776,type:"code",name:"ShowMessage",desc:"A0=character_index"},{addr:2147839024,type:"code",name:"RotateCharacterModel",desc:"A0=player_index (-1 for cur)"},{addr:2147840736,type:"code",name:"SetPlayerOntoChain",desc:"A0=player_index"},{addr:2147840844,type:"code",name:"SetNextChainAndSpace"},{addr:2147867696,type:"code",name:"GetCurrentPlayerIndex"},{addr:2147867708,type:"code",name:"GetPlayerStruct",desc:"A0=player_index pass -1 to get current player's struct"},{addr:2147867780,type:"code",name:"PlayerIsCurrent",desc:"A0=player_index tests if A0 is the current player"},{addr:2147867808,type:"code",name:"PlayerIsCPU",desc:"A0=player_index"},{addr:2147867848,type:"code",name:"AdjustPlayerCoins",desc:"A0=player_index"},{addr:2147867960,type:"code",name:"PlayerHasCoins",desc:"A0=player_index"},{addr:2147868008,type:"code",name:"SetBoardPlayerAnimation",desc:"A0=player_index"},{addr:2147882164,type:"code",name:"AdjustPlayerCoinsGradual",desc:"A0=player_index"},{addr:2147910752,type:"code",name:"MakeHeap",desc:"A0=addr"},{addr:2147910784,type:"code",name:"Malloc",desc:"A0=heap pointer (main or temp)"},{addr:2147910924,type:"code",name:"Free",desc:"A0=allocated heap pointer"},{addr:2147967168,type:"code",name:"InitObjSys"},{addr:2147970660,type:"code",name:"InitProcess"},{addr:2147981148,type:"code",name:"PlayCharacterSound",desc:"A0=sound_index"},{addr:2147998176,type:"code",name:"SleepProcess"},{addr:2147998276,type:"code",name:"SleepVProcess"},{addr:2148070724,type:"code",name:"InitFadeIn",desc:"A0=fade_type"},{addr:2148070828,type:"code",name:"InitFadeOut",desc:"A0=fade_type"},{addr:2148397008,type:"data",name:"perm_heap_addr",desc:"Permanent heap pointer"},{addr:2148397024,type:"data",name:"temp_heap_addr",desc:"Temporary heap address"},{addr:2148084464,type:"code",name:"alSynStartVoiceParams"},{addr:2148084880,type:"code",name:"alSynSetPan"},{addr:2148101828,type:"code",name:"__leoCommand"},{addr:2148105040,type:"code",name:"__leoAnalize_asic_status"},{addr:2148106224,type:"code",name:"__leoSend_asic_cmd_w"},{addr:2148106280,type:"code",name:"__leoSend_asic_cmd_w_nochkDiskChange"},{addr:2148106596,type:"code",name:"__leoRecal_w"},{addr:2148106736,type:"code",name:"__leoSeek_w"},{addr:2148106880,type:"code",name:"__leoChk_err_retry"},{addr:2148107152,type:"code",name:"__leoChk_cur_drvmode"},{addr:2148107424,type:"code",name:"__LEOrw_flags"},{addr:2148107426,type:"code",name:"__LEOdma_que"},{addr:2148107450,type:"code",name:"__LEOPiDmaParam"},{addr:2148107474,type:"code",name:"__LEOtgt_param"},{addr:2148107490,type:"code",name:"__LEOasic_seq_ctl_shadow"},{addr:2148107494,type:"code",name:"__leoSet_mseq"},{addr:2148107860,type:"code",name:"__leoClr_reset"},{addr:2148107972,type:"code",name:"__LEOcommand_que"},{addr:2148107996,type:"code",name:"__leoClr_queue"},{addr:2148108144,type:"code",name:"__leoLba_to_phys"},{addr:2148108736,type:"code",name:"LeoDriveExist"},{addr:2148109280,type:"code",name:"__leoActive"},{addr:2148109284,type:"code",name:"LeoReadDiskID"},{addr:2148109376,type:"code",name:"__leoActive"},{addr:2148109380,type:"code",name:"LeoReadWrite"},{addr:2148109524,type:"code",name:"__LEO_country_code"},{addr:2148109528,type:"code",name:"__osShutdown"},{addr:2148109836,type:"code",name:"__LeoBootGame2"},{addr:2148110360,type:"code",name:"LeoBootGame"},{addr:2148110672,type:"code",name:"__LeoBootGame3"},{addr:2148117912,type:"code",name:"__leoInquiry"},{addr:2148118084,type:"code",name:"__leoMode_sel"},{addr:2148118260,type:"code",name:"__leoStart_stop"},{addr:2148118496,type:"code",name:"__LEORAM_BYTE"},{addr:2148118524,type:"code",name:"__LEOdisk_type"},{addr:2148118525,type:"code",name:"__LEORAM_START_LBA"},{addr:2148118543,type:"code",name:"__leoRd_capacity"},{addr:2148119508,type:"code",name:"__LEOtgt_param"},{addr:2148119520,type:"code",name:"leoRezero"},{addr:2148119668,type:"code",name:"leoSeek"},{addr:2148119860,type:"code",name:"__leoTest_unit_rdy"},{addr:2148123936,type:"code",name:"__osPiTable"},{addr:2148123940,type:"code",name:"osLeoDiskInit"},{addr:2148124092,type:"code",name:"__osDiskHandle"},{addr:2148124096,type:"code",name:"__LeoDiskHandle"},{addr:2148124448,type:"code",name:"osEepromWrite"},{addr:2148124808,type:"code",name:"__conteepwrite_o_00AC"},{addr:2148124976,type:"code",name:"__osEepStatus"},{addr:2148125392,type:"code",name:"osEepromProbe"},{addr:2148125520,type:"code",name:"osEepromLongWrite"},{addr:2148125760,type:"code",name:"osEepromLongRead"},{addr:2148127548,type:"code",name:"__osEnqueueAndYield"},{addr:2148127884,type:"code",name:"__osPopThread"},{addr:2148128304,type:"code",name:"__osDisableInt"},{addr:2148128416,type:"code",name:"__osRestoreInt"},{addr:2148128448,type:"code",name:"osSetIntMask"},{addr:2148128608,type:"code",name:"__osSetHWIntrRoutine"},{addr:2148128704,type:"code",name:"osCreatePiManager"},{addr:2148129104,type:"code",name:"__Dom2SpeedParam"},{addr:2148129112,type:"code",name:"__osPiTable"},{addr:2148129116,type:"code",name:"__osPiDevMgr"},{addr:2148129220,type:"code",name:"__Dom1SpeedParam"},{addr:2148129336,type:"code",name:"__osCurrentHandle"},{addr:2148129344,type:"code",name:"__osPiTable"},{addr:2148129348,type:"code",name:"__osPiDevMgr"},{addr:2148129600,type:"code",name:"osEPiWriteIo"},{addr:2148129696,type:"code",name:"osEPiReadIo"},{addr:2148129792,type:"code",name:"osEPiStartDma"},{addr:2148129952,type:"code",name:"__CartRomHandle"},{addr:2148130068,type:"code",name:"osCartRomInit"},{addr:2148130336,type:"code",name:"__osDevMgrMain"},{addr:2148131296,type:"code",name:"__osPiCreateAccessQueue"},{addr:2148131336,type:"code",name:"__osPiGetAccess"},{addr:2148131380,type:"code",name:"__osPiGetAccess"},{addr:2148131444,type:"code",name:"__osPiAccessQueue"},{addr:2148131468,type:"code",name:"__osPiCreateAccessQueue"},{addr:2148131488,type:"code",name:"__osPiRelAccess"},{addr:2148131536,type:"code",name:"osAiGetLength"},{addr:2148131552,type:"code",name:"__osPiAccessQueueEnabled"},{addr:2148132e3,type:"code",name:"alBnkfNew"},{addr:2148132148,type:"code",name:"alSeqFileNew"},{addr:2148132212,type:"code",name:"__bnkf_o_0098"},{addr:2148132384,type:"code",name:"__bnkf_o_0118"},{addr:2148132532,type:"code",name:"__bnkf_o_01D8"},{addr:2148132620,type:"code",name:"__bnkf_o_0258"},{addr:2148132720,type:"code",name:"alEvtqFlushType"},{addr:2148132844,type:"code",name:"alEvtqNextEvent"},{addr:2148132896,type:"code",name:"alEvtqFlush"},{addr:2148132996,type:"code",name:"alEvtqPostEvent"},{addr:2148133016,type:"code",name:"alEvtqPostEvent"},{addr:2148133284,type:"code",name:"alEvtqNextEvent"},{addr:2148133384,type:"code",name:"alEvtqFlushType"},{addr:2148133436,type:"code",name:"alEvtqNew"},{addr:2148133660,type:"code",name:"alLink"},{addr:2148133692,type:"code",name:"alUnlink"},{addr:2148133744,type:"code",name:"alHeapInit"},{addr:2148133808,type:"code",name:"alHeapDBAlloc"},{addr:2148133888,type:"code",name:"alCopy"},{addr:2148133952,type:"code",name:"alCSeqGetLoc"},{addr:2148134068,type:"code",name:"alCSeqSetLoc"},{addr:2148134184,type:"code",name:"alCSeqNewMarker"},{addr:2148134220,type:"code",name:"alCSeqNextEvent"},{addr:2148134464,type:"code",name:"__alCSeqNextDelta"},{addr:2148134592,type:"code",name:"__cseq_o_0194"},{addr:2148135140,type:"code",name:"__alCSeqNextDelta"},{addr:2148135512,type:"code",name:"alCSeqNew"},{addr:2148136404,type:"code",name:"__cseq_o_02A4"},{addr:2148136588,type:"code",name:"__cseq_o_0088"},{addr:2148136704,type:"code",name:"alSeqpDelete"},{addr:2148136736,type:"code",name:"alSeqpGetChlFXMix"},{addr:2148136768,type:"code",name:"alSeqpGetChlPan"},{addr:2148136800,type:"code",name:"alSeqpGetChlVol"},{addr:2148136832,type:"code",name:"alSeqpGetChlProgram"},{addr:2148136960,type:"code",name:"alCSPGetTempo"},{addr:2148137008,type:"code",name:"alSeqpGetState"},{addr:2148137024,type:"code",name:"alSeqpPlay"},{addr:2148137072,type:"code",name:"alSeqpSetBank"},{addr:2148137120,type:"code",name:"alSeqpSetSeq"},{addr:2148137168,type:"code",name:"alSeqpSetTempo"},{addr:2148137248,type:"code",name:"alSeqpSetVol"},{addr:2148137296,type:"code",name:"alSeqpStop"},{addr:2148137344,type:"code",name:"__CSPPostNextSeqEvent"},{addr:2148137460,type:"code",name:"alCSPNew"},{addr:2148138936,type:"code",name:"__csplayer_o_046C"},{addr:2148139052,type:"code",name:"__csplayer_o_01D0"},{addr:2148139308,type:"code",name:"__csplayer_o_03E0"},{addr:2148141448,type:"code",name:"__csplayer_o_03F4"},{addr:2148141848,type:"code",name:"__csplayer_o_115C"},{addr:2148141992,type:"code",name:"__csplayer_o_05B4"},{addr:2148142048,type:"code",name:"alSndpDelete"},{addr:2148142096,type:"code",name:"alSndpAllocate"},{addr:2148142288,type:"code",name:"alSndpDeallocate"},{addr:2148142368,type:"code",name:"alSndpSetSound"},{addr:2148142384,type:"code",name:"alSndpPlay"},{addr:2148142480,type:"code",name:"alSndpStop"},{addr:2148142560,type:"code",name:"alSndpGetState"},{addr:2148142592,type:"code",name:"alSndpSetPitch"},{addr:2148142672,type:"code",name:"alSndpSetPriority"},{addr:2148142720,type:"code",name:"alSndpSetVol"},{addr:2148142800,type:"code",name:"alSndpSetPan"},{addr:2148142880,type:"code",name:"alSndpSetFXMix"},{addr:2148143252,type:"code",name:"alAudioFrame"},{addr:2148143684,type:"code",name:"alSynNew"},{addr:2148144176,type:"code",name:"__synthesizer_o_0440"},{addr:2148144324,type:"code",name:"__synthesizer_o_0370"},{addr:2148144472,type:"code",name:"__synthesizer_o_032C"},{addr:2148144560,type:"code",name:"alSynDelete"},{addr:2148144576,type:"code",name:"alSynAddPlayer"},{addr:2148144656,type:"code",name:"alSynRemovePlayer"},{addr:2148144816,type:"code",name:"alSynFreeVoice"},{addr:2148144976,type:"code",name:"alSynAllocVoice"},{addr:2148145160,type:"code",name:"alSynAllocVoice"},{addr:2148145272,type:"code",name:"__synallocvoice_o_0048"},{addr:2148145456,type:"code",name:"alSynStopVoice"},{addr:2148145584,type:"code",name:"alSynStartVoice"},{addr:2148145744,type:"code",name:"alSynSetPitch"},{addr:2148145888,type:"code",name:"alSynSetVol"},{addr:2148146080,type:"code",name:"alSynSetFXMix"},{addr:2148146240,type:"code",name:"alSynAllocFX"},{addr:2148146400,type:"code",name:"alCents2Ratio"},{addr:2148146496,type:"code",name:"osInvalDCache"},{addr:2148146672,type:"code",name:"osInvalICache"},{addr:2148146800,type:"code",name:"osWritebackDCache"},{addr:2148146928,type:"code",name:"osWritebackDCacheAll"},{addr:2148146976,type:"code",name:"osContGetReadData"},{addr:2148147132,type:"code",name:"osContStartReadData"},{addr:2148147268,type:"code",name:"__contreaddata_o_0028"},{addr:2148148336,type:"code",name:"osVirtualToPhysical"},{addr:2148148432,type:"code",name:"cosf"},{addr:2148148768,type:"code",name:"guLookAt"},{addr:2148149668,type:"code",name:"guLookAtF"},{addr:2148150576,type:"code",name:"guLookAtHilite"},{addr:2148150788,type:"code",name:"guLookAtHiliteF"},{addr:2148153232,type:"code",name:"guLookAtReflect"},{addr:2148153340,type:"code",name:"guLookAtReflectF"},{addr:2148154924,type:"code",name:"guMtxCatF"},{addr:2148155152,type:"code",name:"guMtxXFML"},{addr:2148155292,type:"code",name:"guMtxCatL"},{addr:2148155408,type:"code",name:"guMtxF2L"},{addr:2148155560,type:"code",name:"guMtxL2F"},{addr:2148155648,type:"code",name:"guMtxIdentF"},{addr:2148155728,type:"code",name:"guMtxIdentF"},{addr:2148156048,type:"code",name:"guOrtho"},{addr:2148156380,type:"code",name:"guOrthoF"},{addr:2148156688,type:"code",name:"guPerspective"},{addr:2148157144,type:"code",name:"guPerspectiveF"},{addr:2148157584,type:"code",name:"guRandom",desc:"Generates a pseudo-random number"},{addr:2148157632,type:"code",name:"guRotate"},{addr:2148158008,type:"code",name:"guRotateF"},{addr:2148158368,type:"code",name:"guRotateRPY"},{addr:2148158764,type:"code",name:"guRotateRPYF"},{addr:2148159168,type:"code",name:"guScale"},{addr:2148159292,type:"code",name:"guScaleF"},{addr:2148159392,type:"code",name:"sinf"},{addr:2148159808,type:"code",name:"guTranslate"},{addr:2148159920,type:"code",name:"guTranslateF"},{addr:2148160016,type:"code",name:"bcopy"},{addr:2148160816,type:"code",name:"bzero"},{addr:2148160976,type:"code",name:"memcpy"},{addr:2148161016,type:"code",name:"strlen"},{addr:2148161040,type:"code",name:"strlen"},{addr:2148161052,type:"code",name:"strchr"},{addr:2148161076,type:"code",name:"memcpy"},{addr:2148161120,type:"code",name:"sprintf"},{addr:2148161264,type:"code",name:"rmonPrintf",desc:"no-op in released ROM"},{addr:2148161284,type:"code",name:"osSyncPrintf",desc:"no-op in released ROM"},{addr:2148161312,type:"code",name:"osCreateMesgQueue"},{addr:2148161360,type:"code",name:"osJamMesg"},{addr:2148161680,type:"code",name:"osRecvMesg"},{addr:2148161984,type:"code",name:"osSendMesg"},{addr:2148162288,type:"code",name:"osSetEventMesg"},{addr:2148162464,type:"code",name:"__osSetCause"},{addr:2148162480,type:"code",name:"__osSetCompare"},{addr:2148162496,type:"code",name:"__osSetCount"},{addr:2148162512,type:"code",name:"__osSetSR"},{addr:2148162528,type:"code",name:"osSpTaskStartGo"},{addr:2148162572,type:"code",name:"osSpTaskLoad"},{addr:2148163104,type:"code",name:"osSpTaskYield"},{addr:2148163136,type:"code",name:"osSpTaskYielded"},{addr:2148163216,type:"code",name:"__osSiRawStartDma"},{addr:2148163476,type:"code",name:"__osSiGetAccess"},{addr:2148163584,type:"code",name:"__osSiRelAccess"},{addr:2148163632,type:"code",name:"osCreateThread"},{addr:2148164064,type:"code",name:"osGetThreadPri"},{addr:2148164096,type:"code",name:"osSetThreadPri"},{addr:2148164304,type:"code",name:"osStartThread"},{addr:2148164592,type:"code",name:"osStopThread"},{addr:2148164784,type:"code",name:"__osDequeueThread"},{addr:2148164836,type:"code",name:"__osFaultedThread"},{addr:2148164840,type:"code",name:"__osRunningThread"},{addr:2148164844,type:"code",name:"__osActiveQueue"},{addr:2148164848,type:"code",name:"osYieldThread"},{addr:2148164852,type:"code",name:"__osThreadTail"},{addr:2148164928,type:"code",name:"osGetTime"},{addr:2148165072,type:"code",name:"osSetTimer"},{addr:2148165632,type:"code",name:"__osSetTimerIntr"},{addr:2148165728,type:"code",name:"__osInsertTimer"},{addr:2148166e3,type:"code",name:"__osProbeTLB"},{addr:2148166192,type:"code",name:"osViGetCurrentFramebuffer"},{addr:2148167152,type:"code",name:"osViSetEvent"},{addr:2148167248,type:"code",name:"osViSetMode"},{addr:2148167328,type:"code",name:"osViSetSpecialFeatures"},{addr:2148167696,type:"code",name:"osViSetYScale"},{addr:2148167776,type:"code",name:"osViSwapBuffer"},{addr:2148167856,type:"code",name:"__osViSwapContext"},{addr:2148168640,type:"code",name:"osViBlack"},{addr:2148168736,type:"code",name:"osMotorInit"},{addr:2148169320,type:"code",name:"__osMotorAccess"},{addr:2148169648,type:"code",name:"__osPfsSelectBank"},{addr:2148169760,type:"code",name:"__osContRamRead"},{addr:2148170248,type:"code",name:"__osPfsLastChannel"},{addr:2148170256,type:"code",name:"__osContRamWrite"},{addr:2148170880,type:"code",name:"osAfterPreNMI"},{addr:2148170912,type:"code",name:"osGetMemSize"},{addr:2148171824,type:"code",name:"osEepromRead"},{addr:2148172232,type:"code",name:"__conteepread_o_00A8"},{addr:2148172368,type:"code",name:"__osSetGlobalIntMask"},{addr:2148172432,type:"code",name:"__osResetGlobalIntMask"},{addr:2148172512,type:"code",name:"__osPiRawStartDma"},{addr:2148172720,type:"code",name:"osPiGetCmdQueue"},{addr:2148172752,type:"code",name:"__osEPiRawReadIo"},{addr:2148173104,type:"code",name:"alHeapCheck"},{addr:2148173120,type:"code",name:"__osEPiRawWriteIo"},{addr:2148173488,type:"code",name:"__osAiDeviceBusy"},{addr:2148173520,type:"code",name:"_init_lpfilter"},{addr:2148173684,type:"code",name:"alFxNew"},{addr:2148174860,type:"code",name:"alEnvmixerNew"},{addr:2148175044,type:"code",name:"alLoadNew"},{addr:2148175220,type:"code",name:"alResampleNew"},{addr:2148175360,type:"code",name:"alAuxBusNew"},{addr:2148175452,type:"code",name:"alMainBusNew"},{addr:2148175544,type:"code",name:"alSaveNew"},{addr:2148175616,type:"code",name:"alLoadParam"},{addr:2148176044,type:"code",name:"alRaw16Pull"},{addr:2148176968,type:"code",name:"alAdpcmPull"},{addr:2148177632,type:"code",name:"alLoadParam"},{addr:2148178060,type:"code",name:"__load_o_0108"},{addr:2148178448,type:"code",name:"alAuxBusParam"},{addr:2148178496,type:"code",name:"alAuxBusPull"},{addr:2148178668,type:"code",name:"alAuxBusParam"},{addr:2148178720,type:"code",name:"_ldexpf"},{addr:2148178756,type:"code",name:"_frexpf"},{addr:2148178980,type:"code",name:"alEnvmixerParam"},{addr:2148179192,type:"code",name:"alEnvmixerPull"},{addr:214818e4,type:"code",name:"alEnvmixerParam"},{addr:2148180212,type:"code",name:"__env_o_01E0"},{addr:2148181196,type:"code",name:"__env_o_0718"},{addr:2148181836,type:"code",name:"__env_o_027C"},{addr:2148181968,type:"code",name:"alFilterNew"},{addr:2148182e3,type:"code",name:"alMainBusParam"},{addr:2148182048,type:"code",name:"alMainBusPull"},{addr:2148182320,type:"code",name:"alMainBusParam"},{addr:2148182368,type:"code",name:"alResampleParam"},{addr:2148182560,type:"code",name:"alResamplePull"},{addr:2148182860,type:"code",name:"alResampleParam"},{addr:2148183056,type:"code",name:"_doModFunc"},{addr:2148183196,type:"code",name:"alFxParamHdl"},{addr:2148183692,type:"code",name:"alFxParam"},{addr:2148183712,type:"code",name:"_filterBuffer"},{addr:2148183868,type:"code",name:"_loadOutputBuffer"},{addr:2148183940,type:"code",name:"alFxParam"},{addr:2148184404,type:"code",name:"_loadBuffer"},{addr:2148184456,type:"code",name:"__reverb_o_0178"},{addr:2148184772,type:"code",name:"_saveBuffer"},{addr:2148184992,type:"code",name:"__reverb_o_0154"},{addr:2148185140,type:"code",name:"alFxPull"},{addr:2148185360,type:"code",name:"__reverb_o_00C4"},{addr:2148185728,type:"code",name:"__reverb_o_024C"},{addr:2148185884,type:"code",name:"__reverb_o_05D0"},{addr:2148186032,type:"code",name:"alSaveParam"},{addr:2148186072,type:"code",name:"alSavePull"},{addr:2148186200,type:"code",name:"alSaveParam"},{addr:2148186240,type:"code",name:"__resetPerfChanState"},{addr:2148186368,type:"code",name:"__setInstChanState"},{addr:2148186452,type:"code",name:"__lookupVoice"},{addr:2148186536,type:"code",name:"__vsPan"},{addr:2148186604,type:"code",name:"__mapVoice"},{addr:2148186684,type:"code",name:"__lookupSoundQuick"},{addr:2148186896,type:"code",name:"__initFromBank"},{addr:2148187068,type:"code",name:"__seqpReleaseVoice"},{addr:2148187360,type:"code",name:"__voiceNeedsNoteKill"},{addr:2148187536,type:"code",name:"__postNextSeqEvent"},{addr:2148187744,type:"code",name:"__vsDelta"},{addr:2148187772,type:"code",name:"__vsVol"},{addr:2148187864,type:"code",name:"__seqplayer_o_0420"},{addr:2148187884,type:"code",name:"__unmapVoice"},{addr:2148187984,type:"code",name:"__seqpStopOsc"},{addr:2148188072,type:"code",name:"__seqplayer_o_01DC"},{addr:2148188224,type:"code",name:"__initChanState"},{addr:2148188404,type:"code",name:"alSeqpNew"},{addr:2148188584,type:"code",name:"__seqplayer_o_03EC"},{addr:2148190672,type:"code",name:"__seqplayer_o_0400"},{addr:2148190780,type:"code",name:"__seqplayer_o_0A54"},{addr:2148190860,type:"code",name:"__seqplayer_o_0244"},{addr:2148190960,type:"code",name:"__seqplayer_o_0D18"},{addr:2148191044,type:"code",name:"__seqplayer_o_0A1C"},{addr:2148191256,type:"code",name:"__seqplayer_o_0284"},{addr:2148191368,type:"code",name:"__seqplayer_o_0320"},{addr:2148191396,type:"code",name:"__seqplayer_o_0C7C"},{addr:2148191464,type:"code",name:"__seqplayer_o_04F8"},{addr:2148191756,type:"code",name:"__seqplayer_o_04E0"},{addr:2148191932,type:"code",name:"__seqplayer_o_0600"},{addr:2148192104,type:"code",name:"__seqplayer_o_107C"},{addr:2148192188,type:"code",name:"__seqplayer_o_167C"},{addr:2148192316,type:"code",name:"__seqplayer_o_00BC"},{addr:2148192496,type:"code",name:"__seqplayer_o_0238"},{addr:2148192736,type:"code",name:"__seqplayer_o_05D8"},{addr:2148192800,type:"code",name:"alSynSetPriority"},{addr:2148192816,type:"code",name:"sqrtf",desc:"SQRT.S F0"},{addr:2148195664,type:"code",name:"osGetCount"},{addr:2148195728,type:"code",name:"__osSpDeviceBusy"},{addr:2148195760,type:"code",name:"__osSpGetStatus"},{addr:2148195776,type:"code",name:"__osSpSetStatus"},{addr:2148195792,type:"code",name:"__osSpSetPc"},{addr:2148195840,type:"code",name:"__osSpRawStartDma"},{addr:2148195984,type:"code",name:"__osSpRawReadIo"},{addr:2148196064,type:"code",name:"__osSpRawWriteIo"},{addr:2148196144,type:"code",name:"__osContDataCrc"},{addr:2148196252,type:"code",name:"__osContDataCrc"},{addr:2148196268,type:"code",name:"__osContAddressCrc"},{addr:2148196848,type:"code",name:"__osPfsGetInitData"},{addr:2148197028,type:"code",name:"__osPfsRequestData"},{addr:2148197192,type:"code",name:"__osPfsPifRam"},{addr:2148197228,type:"code",name:"__pfsisplug_o_004C"},{addr:2148197256,type:"code",name:"osPfsIsPlug"},{addr:2148197392,type:"code",name:"__pfsisplug_o_0094"},{addr:2148197584,type:"code",name:"__osPfsGetOneChannelData"},{addr:2148197712,type:"code",name:"__osPfsRequestOneChannel"},{addr:2148197824,type:"code",name:"__pfsgetstatus_o_0030"},{addr:2148197860,type:"code",name:"__osPfsGetStatus"},{addr:2148197972,type:"code",name:"__pfsgetstatus_o_0084"},{addr:2148198112,type:"code",name:"__osPfsInodeCache"},{addr:2148198232,type:"code",name:"__contpfs_o_0598"},{addr:2148198368,type:"code",name:"__osPfsRWInode"},{addr:2148198980,type:"code",name:"__contpfs_o_0578"},{addr:2148199192,type:"code",name:"__osCheckId"},{addr:2148199376,type:"code",name:"__osGetId"},{addr:2148199836,type:"code",name:"__osCheckPackId"},{addr:2148200192,type:"code",name:"__osRepairPackId"},{addr:2148202608,type:"code",name:"_Litob"},{addr:2148203200,type:"code",name:"_Ldtob"},{addr:2148204300,type:"code",name:"__xldtob_o_0080"},{addr:2148204452,type:"code",name:"__xldtob_o_0414"},{addr:2148205904,type:"code",name:"__osSpDeviceBusy"},{addr:2148209696,type:"code",name:"__divdi3"},{addr:2148210064,type:"code",name:"__udivdi3"},{addr:2148210096,type:"code",name:"__umoddi3"},{addr:2148305012,type:"data",name:"overlay_table"},{addr:2148319248,type:"data",name:"item_function_pointers",desc:"u32[10]"},{addr:2148397008,type:"data",name:"perm_heap_addr",desc:"Address of permanent heap"},{addr:2148397024,type:"data",name:"temp_heap_addr",desc:"Address of temporary heap"},{addr:2148407504,type:"u16",name:"num_board_spaces"},{addr:2148407506,type:"u16",name:"num_chains"},{addr:2148407508,type:"u32",name:"hydrated_space_data"},{addr:2148407512,type:"u32",name:"hydrated_chains"},{addr:2148407616,type:"data",name:"arrow_angles",desc:"f32[8]"},{addr:2148407648,type:"u32",name:"num_arrow_angles"},{addr:2148504494,type:"u16",name:"total_turns"},{addr:2148504496,type:"u16",name:"current_turn"},{addr:2148509246,type:"u16",name:"scene",desc:"Current scene number"},{addr:2148520643,type:"u8",name:"p1_controller"},{addr:2148520644,type:"u8",name:"p1_char",desc:"00=Mario"},{addr:2148520648,type:"u16",name:"p1_coins",desc:"Player 1 coin count"},{addr:2148520654,type:"u16",name:"p1_stars",desc:"Player 1 star count"},{addr:2148520656,type:"u16",name:"p1_cur_chain_index",desc:"Player 1 current chain index"},{addr:2148520658,type:"u16",name:"p1_cur_space_index",desc:"Player 1 current space index"},{addr:2148520660,type:"u16",name:"p1_next_chain_index",desc:"Player 1 next chain index"},{addr:2148520662,type:"u16",name:"p1_next_space_index",desc:"Player 1 next space index"},{addr:2148520665,type:"u8",name:"p1_item",desc:"Player 1 item"},{addr:2148520666,type:"u16",name:"p1_turn_status",desc:"Player 1 turn status"},{addr:2148520696,type:"u8",name:"p2_char",desc:"00=Mario"},{addr:2148520700,type:"u16",name:"p2_coins",desc:"Player 2 coin count"},{addr:2148520706,type:"u16",name:"p2_stars",desc:"Player 2 star count"},{addr:2148520708,type:"u16",name:"p2_cur_chain_index",desc:"Player 2 current chain index"},{addr:2148520710,type:"u16",name:"p2_cur_space_index",desc:"Player 2 current space index"},{addr:2148520712,type:"u16",name:"p2_next_chain_index",desc:"Player 2 next chain index"},{addr:2148520714,type:"u16",name:"p2_next_space_index",desc:"Player 2 next space index"},{addr:2148520717,type:"u8",name:"p2_item",desc:"Player 2 item"},{addr:2148520718,type:"u16",name:"p2_turn_status",desc:"Player 2 turn status"},{addr:2148520748,type:"u8",name:"p3_char",desc:"00=Mario"},{addr:2148520752,type:"u16",name:"p3_coins",desc:"Player 3 coin count"},{addr:2148520758,type:"u16",name:"p3_stars",desc:"Player 3 star count"},{addr:2148520769,type:"u8",name:"p3_item",desc:"Player 3 item"},{addr:2148520770,type:"u16",name:"p3_turn_statu",desc:"Player 3 turn status"},{addr:2148520800,type:"u8",name:"p4_char",desc:"00=Mario"},{addr:2148520804,type:"u16",name:"p4_coins",desc:"Player 4 coin count"},{addr:2148520810,type:"u16",name:"p4_stars",desc:"Player 4 star count"},{addr:2148520821,type:"u8",name:"p4_item",desc:"Player 4 item"},{addr:2148520822,type:"u16",name:"p4_turn_status",desc:"Player 4 turn status"},{addr:2148520984,type:"u16",name:"hidden_space_primary",desc:"space index of primary hidden space"}],de=[{addr:2148305220,type:"data",name:"overlay_table"},{addr:2148533744,type:"data",name:"overlay_ram_start"}],Ae=[{addr:2147484416,type:"u32",name:"osTvType",desc:"0=PAL"},{addr:2147484420,type:"u32",name:"osRomType",desc:"0=cart"},{addr:2147484424,type:"data",name:"osRomBase",desc:"B0000000=cart"},{addr:2147484428,type:"data",name:"osResetType",desc:"0=cold reset"},{addr:2147484440,type:"data",name:"osMemSize",desc:"Size of RDRAM"},{addr:2147523600,type:"code",name:"ReadMainFS",desc:"Reads file from MainFS"},{addr:2147524204,type:"code",name:"FreeMainFS",desc:"Free's an allocated MainFS file pointer"},{addr:2147525168,type:"code",name:"DecodeNone"},{addr:2147525324,type:"code",name:"DecodeLZ"},{addr:2147528704,type:"code",name:"DecodeFile"},{addr:2147529068,type:"code",name:"GetRandomByte"},{addr:2147530808,type:"code",name:"LoadGraphics"},{addr:2147532780,type:"code",name:"InitEspriteSlot"},{addr:2147533188,type:"code",name:"CloseEsprite"},{addr:2147557920,type:"code",name:"InitCameras",desc:"A0=num_cameras"},{addr:2147614240,type:"code",name:"InitAnimations",desc:"A0=1"},{addr:2147702848,type:"code",name:"MakePermHeap"},{addr:2147702884,type:"code",name:"MallocPerm",desc:"A0=size"},{addr:2147702920,type:"code",name:"FreePerm",desc:"A0=ptr"},{addr:2147702948,type:"code",name:"ReallocPerm"},{addr:2147702992,type:"code",name:"GetAllocatedPermHeapSize"},{addr:2147703024,type:"code",name:"GetUsedMemoryBlockCountPerm"},{addr:2147703056,type:"code",name:"MakeTempHeap"},{addr:2147703092,type:"code",name:"MallocTemp"},{addr:2147703128,type:"code",name:"FreeTemp"},{addr:2147703156,type:"code",name:"ReallocTemp"},{addr:2147703200,type:"code",name:"GetAllocatedTempHeapSize"},{addr:2147703232,type:"code",name:"GetUsedMemoryBlockCountTemp"},{addr:2147705040,type:"code",name:"MakeHeap"},{addr:2147705072,type:"code",name:"Malloc"},{addr:2147705224,type:"code",name:"Free"},{addr:2147705416,type:"code",name:"Realloc"},{addr:2147705616,type:"code",name:"GetAllocatedHeapSize"},{addr:2147705668,type:"code",name:"GetUsedMemoryBlockCount"},{addr:2147705708,type:"code",name:"GetMemoryAllocSize"},{addr:2147774816,type:"code",name:"InitObjSys"},{addr:2147778208,type:"code",name:"InitProcess"},{addr:2147778568,type:"code",name:"EndProcess"},{addr:2147778856,type:"code",name:"LoadOverlay",desc:"A0=num"},{addr:2147788064,type:"code",name:"PlayMusic",desc:"A0=index"},{addr:2147789448,type:"code",name:"PlaySound",desc:"A0=index"},{addr:2147802492,type:"code",name:"DrawDebugText",desc:"A0=x_pos"},{addr:2147807248,type:"code",name:"SleepProcess"},{addr:2147807348,type:"code",name:"SleepVProcess",desc:"Sleep 1 frame"},{addr:2147808676,type:"code",name:"SaveFileEncode",desc:"A0=start addr of data to encode"},{addr:2147809868,type:"code",name:"SaveFileDecode",desc:"A0=start addr of portion to decode"},{addr:2147833456,type:"code",name:"FreeGraphics"},{addr:2147833872,type:"code",name:"ImgPackParse"},{addr:2147877132,type:"code",name:"DisablePromptOption",desc:"A0=window_id"},{addr:2147885032,type:"code",name:"InitFadeIn",desc:"A0=fade_type"},{addr:2147885136,type:"code",name:"InitFadeOut",desc:"A0=fade_type"},{addr:2147885244,type:"code",name:"GetFadeStatus",desc:"returns 0 when fade action is finished"},{addr:2147902720,type:"code",name:"setjmp"},{addr:2147902820,type:"code",name:"longjmp"},{addr:2147930096,type:"code",name:"alSeqpGetChlVol"},{addr:2147930128,type:"code",name:"alSeqpGetChlFXMix"},{addr:2147930160,type:"code",name:"alSeqpGetChlPan"},{addr:2147930192,type:"code",name:"alSeqpGetChlProgram"},{addr:2147930320,type:"code",name:"alSeqpGetState"},{addr:2147930336,type:"code",name:"alCSPGetTempo"},{addr:2147930384,type:"code",name:"alSeqpPlay"},{addr:2147930432,type:"code",name:"alSeqpSetBank"},{addr:2147930480,type:"code",name:"alSeqpSetSeq"},{addr:2147930528,type:"code",name:"alSeqpSetTempo"},{addr:2147930608,type:"code",name:"alSeqpSetVol"},{addr:2147930656,type:"code",name:"alSeqpStop"},{addr:2147933812,type:"code",name:"alEvtqPostEvent"},{addr:2147950624,type:"code",name:"osEepromWrite"},{addr:2147951228,type:"code",name:"__osEepStatus"},{addr:2147951776,type:"code",name:"osEepromLongWrite"},{addr:2147952016,type:"code",name:"osEepromLongRead"},{addr:2147952128,type:"code",name:"osSetIntMask"},{addr:2147952288,type:"code",name:"osCreatePiManager"},{addr:2147952748,type:"code",name:"__Dom2SpeedParam"},{addr:2147952756,type:"code",name:"__osPiTable"},{addr:2147952760,type:"code",name:"__osPiDevMgr"},{addr:2147952864,type:"code",name:"__Dom1SpeedParam"},{addr:2147952976,type:"code",name:"__osEPiRawStartDma"},{addr:2147952980,type:"code",name:"__osCurrentHandle"},{addr:2147952988,type:"code",name:"__osPiTable"},{addr:2147952992,type:"code",name:"__osPiDevMgr"},{addr:2147953472,type:"code",name:"osEPiStartDma"},{addr:2147953632,type:"code",name:"__CartRomHandle"},{addr:2147953748,type:"code",name:"osCartRomInit"},{addr:2147954016,type:"code",name:"__osDevMgrMain"},{addr:2147954976,type:"code",name:"__osPiRelAccess"},{addr:2147955016,type:"code",name:"__osPiGetAccess"},{addr:2147955060,type:"code",name:"__osPiGetAccess"},{addr:2147955124,type:"code",name:"__osPiAccessQueue"},{addr:2147955148,type:"code",name:"__osPiCreateAccessQueue"},{addr:2147955168,type:"code",name:"__osPiRelAccess"},{addr:2147955216,type:"code",name:"osAiGetLength"},{addr:2147955232,type:"code",name:"__osPiAccessQueueEnabled"},{addr:2147955680,type:"code",name:"_init_lpfilter"},{addr:2147955844,type:"code",name:"alFxNew"},{addr:2147957020,type:"code",name:"alEnvmixerNew"},{addr:2147957204,type:"code",name:"alLoadNew"},{addr:2147957380,type:"code",name:"alResampleNew"},{addr:2147957520,type:"code",name:"alAuxBusNew"},{addr:2147957612,type:"code",name:"alMainBusNew"},{addr:2147957704,type:"code",name:"alSaveNew"},{addr:2147957776,type:"code",name:"alLoadParam"},{addr:2147958204,type:"code",name:"alRaw16Pull"},{addr:2147959128,type:"code",name:"alAdpcmPull"},{addr:2147959792,type:"code",name:"alLoadParam"},{addr:2147960220,type:"code",name:"__load_o_0108"},{addr:2147960608,type:"code",name:"alAuxBusParam"},{addr:2147960656,type:"code",name:"alAuxBusPull"},{addr:2147960828,type:"code",name:"alAuxBusParam"},{addr:2147960880,type:"code",name:"alBnkfNew"},{addr:2147961028,type:"code",name:"alSeqFileNew"},{addr:2147961092,type:"code",name:"__bnkf_o_0098"},{addr:2147961264,type:"code",name:"__bnkf_o_0118"},{addr:2147961412,type:"code",name:"__bnkf_o_01D8"},{addr:2147961500,type:"code",name:"__bnkf_o_0258"},{addr:2147961600,type:"code",name:"_ldexpf"},{addr:2147961636,type:"code",name:"_frexpf"},{addr:2147961860,type:"code",name:"alEnvmixerParam"},{addr:2147962072,type:"code",name:"alEnvmixerPull"},{addr:2147962880,type:"code",name:"alEnvmixerParam"},{addr:2147963092,type:"code",name:"__env_o_01E0"},{addr:2147964076,type:"code",name:"__env_o_0718"},{addr:2147964716,type:"code",name:"__env_o_027C"},{addr:2147964848,type:"code",name:"alEvtqFlushType"},{addr:2147965024,type:"code",name:"alEvtqFlush"},{addr:2147965144,type:"code",name:"alEvtqPostEvent"},{addr:2147965412,type:"code",name:"alEvtqNextEvent"},{addr:2147965564,type:"code",name:"alEvtqNew"},{addr:2147965696,type:"code",name:"alFilterNew"},{addr:2147965728,type:"code",name:"alMainBusParam"},{addr:2147965776,type:"code",name:"alMainBusPull"},{addr:2147966048,type:"code",name:"alMainBusParam"},{addr:2147966096,type:"code",name:"alResampleParam"},{addr:2147966288,type:"code",name:"alResamplePull"},{addr:2147966588,type:"code",name:"alResampleParam"},{addr:2147971580,type:"code",name:"alLink"},{addr:2147971612,type:"code",name:"alUnlink"},{addr:2147971664,type:"code",name:"alHeapInit"},{addr:2147971728,type:"code",name:"alHeapDBAlloc"},{addr:2147971808,type:"code",name:"alCopy"},{addr:2147971872,type:"code",name:"alCSeqGetLoc"},{addr:2147971988,type:"code",name:"alCSeqSetLoc"},{addr:2147972104,type:"code",name:"alCSeqNewMarker"},{addr:2147972384,type:"code",name:"__alCSeqNextDelta"},{addr:2147972512,type:"code",name:"__cseq_o_0194"},{addr:2147972768,type:"code",name:"alCSeqGetTicks"},{addr:2147972776,type:"code",name:"alCSeqSecToTicks"},{addr:2147972936,type:"code",name:"alCSeqTicksToSec"},{addr:2147973060,type:"code",name:"__alCSeqNextDelta"},{addr:2147973188,type:"code",name:"alCSeqNextEvent"},{addr:2147973432,type:"code",name:"alCSeqNew"},{addr:2147974324,type:"code",name:"__cseq_o_02A4"},{addr:2147974508,type:"code",name:"__cseq_o_0088"},{addr:2147974916,type:"code",name:"alAudioFrame"},{addr:2147975348,type:"code",name:"alSynNew"},{addr:2147975840,type:"code",name:"__synthesizer_o_0440"},{addr:2147975988,type:"code",name:"__synthesizer_o_0370"},{addr:2147976136,type:"code",name:"__synthesizer_o_032C"},{addr:2147976224,type:"code",name:"alSynDelete"},{addr:2147976240,type:"code",name:"alSynAddPlayer"},{addr:2147976320,type:"code",name:"alSynFreeVoice"},{addr:2147976664,type:"code",name:"alSynAllocVoice"},{addr:2147976776,type:"code",name:"__synallocvoice_o_0048"},{addr:2147976960,type:"code",name:"alSynStopVoice"},{addr:2147977088,type:"code",name:"alSynStartVoice"},{addr:2147977248,type:"code",name:"alSynSetPitch"},{addr:2147977392,type:"code",name:"alSynSetVol"},{addr:2147977584,type:"code",name:"alSynSetFXMix"},{addr:2147977744,type:"code",name:"alSynSetPan"},{addr:2147977888,type:"code",name:"alSynAllocFX"},{addr:2147978048,type:"code",name:"alCents2Ratio"},{addr:2147978144,type:"code",name:"osInvalDCache"},{addr:2147978320,type:"code",name:"osInvalICache"},{addr:2147978448,type:"code",name:"osWritebackDCache"},{addr:2147978624,type:"code",name:"osContGetReadData"},{addr:2147978780,type:"code",name:"osContStartReadData"},{addr:2147978916,type:"code",name:"__contreaddata_o_0028"},{addr:2147979984,type:"code",name:"osVirtualToPhysical"},{addr:2147980080,type:"code",name:"cosf"},{addr:2147980416,type:"code",name:"guLookAt"},{addr:2147981316,type:"code",name:"guLookAtF"},{addr:2147982224,type:"code",name:"guLookAtHilite"},{addr:2147982436,type:"code",name:"guLookAtHiliteF"},{addr:2147984880,type:"code",name:"guLookAtReflect"},{addr:2147984988,type:"code",name:"guLookAtReflectF"},{addr:2147986400,type:"code",name:"guOrtho"},{addr:2147986732,type:"code",name:"guOrthoF"},{addr:2147987040,type:"code",name:"guPerspective"},{addr:2147987496,type:"code",name:"guPerspectiveF"},{addr:2147987936,type:"code",name:"guRandom"},{addr:2147987984,type:"code",name:"guRotateRPY"},{addr:2147988380,type:"code",name:"guRotateRPYF"},{addr:2147988784,type:"code",name:"sinf"},{addr:2147989200,type:"code",name:"__osRdbSend"},{addr:2147989736,type:"code",name:"__osRdb_IP6_Empty"},{addr:2147989744,type:"code",name:"__osRdb_IP6_CurSend"},{addr:2147989748,type:"code",name:"__osRdb_IP6_CurWrite"},{addr:2147989752,type:"code",name:"__osRdb_IP6_Ct"},{addr:2147989756,type:"code",name:"__osRdb_IP6_Size"},{addr:2147989760,type:"code",name:"__osRdb_IP6_Data"},{addr:2147989764,type:"code",name:"osInitRdb"},{addr:2147989872,type:"code",name:"bcopy"},{addr:2147990672,type:"code",name:"bzero"},{addr:2147990832,type:"code",name:"memcpy"},{addr:2147990896,type:"code",name:"strlen"},{addr:2147990976,type:"code",name:"sprintf"},{addr:2147991120,type:"code",name:"rmonPrintf",desc:"disabled behind flag"},{addr:2147991168,type:"code",name:"osSyncPrintf",desc:"disabled behind flag"},{addr:2147991296,type:"code",name:"osCreateMesgQueue"},{addr:2147991344,type:"code",name:"osJamMesg"},{addr:2147991664,type:"code",name:"osRecvMesg"},{addr:2147991968,type:"code",name:"osSendMesg"},{addr:2147992272,type:"code",name:"__osEventStateTab"},{addr:2147992392,type:"code",name:"osSetEventMesg"},{addr:2147992456,type:"code",name:"osSetEventMesg"},{addr:2147992512,type:"code",name:"osSpTaskStartGo"},{addr:2147992556,type:"code",name:"osSpTaskLoad"},{addr:2147993088,type:"code",name:"osSpTaskYield"},{addr:2147993120,type:"code",name:"osSpTaskYielded"},{addr:2147993200,type:"code",name:"__osSiRawStartDma"},{addr:2147993460,type:"code",name:"__osSiGetAccess"},{addr:2147993568,type:"code",name:"__osSiRelAccess"},{addr:2147993616,type:"code",name:"osCreateThread"},{addr:2147994096,type:"code",name:"osGetThreadPri"},{addr:2147994128,type:"code",name:"osSetThreadPri"},{addr:2147994336,type:"code",name:"osStartThread"},{addr:2147994624,type:"code",name:"__osDequeueThread"},{addr:2147994676,type:"code",name:"__osFaultedThread"},{addr:2147994680,type:"code",name:"__osRunningThread"},{addr:2147994684,type:"code",name:"__osActiveQueue"},{addr:2147994688,type:"code",name:"osYieldThread"},{addr:2147994692,type:"code",name:"__osThreadTail"},{addr:2147994768,type:"code",name:"osGetTime"},{addr:2147994912,type:"code",name:"osSetTimer"},{addr:2147995784,type:"code",name:"__osSetTimerIntr"},{addr:2147995912,type:"code",name:"__osInsertTimer"},{addr:2147996176,type:"code",name:"__osProbeTLB"},{addr:2147996368,type:"code",name:"osViGetCurrentFramebuffer"},{addr:2147997328,type:"code",name:"osViSetEvent"},{addr:2147997424,type:"code",name:"osViSetMode"},{addr:2147997504,type:"code",name:"osViSetSpecialFeatures"},{addr:2147997872,type:"code",name:"osViSetYScale"},{addr:2147997952,type:"code",name:"osViSwapBuffer"},{addr:2147998032,type:"code",name:"__osViSwapContext"},{addr:2147998816,type:"code",name:"osViBlack"},{addr:2147998912,type:"code",name:"guMtxIdentF"},{addr:2147999008,type:"code",name:"guMtxF2L"},{addr:2147999136,type:"code",name:"guMtxL2F"},{addr:2147999264,type:"code",name:"guMtxCatF"},{addr:2147999808,type:"code",name:"guMtxCatL"},{addr:2147999936,type:"code",name:"guRotate"},{addr:2148000312,type:"code",name:"guRotateF"},{addr:2148000672,type:"code",name:"osMotorInit"},{addr:2148001256,type:"code",name:"__osMotorAccess"},{addr:2148001584,type:"code",name:"__osPfsSelectBank"},{addr:2148001696,type:"code",name:"__osContRamRead"},{addr:2148002184,type:"code",name:"__osPfsLastChannel"},{addr:2148002192,type:"code",name:"__osContRamWrite"},{addr:2148002816,type:"code",name:"osAfterPreNMI"},{addr:2148002848,type:"code",name:"osGetMemSize"},{addr:2148004048,type:"code",name:"__checkHardware_kmc"},{addr:2148004108,type:"code",name:"__osInitialize_kmc"},{addr:2148005024,type:"code",name:"__checkHardware_msp"},{addr:2148005072,type:"code",name:"__osInitialize_msp"},{addr:2148005984,type:"code",name:"__osInitialize_emu"},{addr:2148006112,type:"code",name:"__osEepromRead16K"},{addr:2148006116,type:"code",name:"__osEepPifRam"},{addr:2148006180,type:"code",name:"osEepromRead"},{addr:2148006536,type:"code",name:"__conteepread_o_00B8"},{addr:2148009500,type:"code",name:"__osEnqueueAndYield"},{addr:2148009844,type:"code",name:"__osPopThread"},{addr:2148010304,type:"code",name:"__osDisableInt"},{addr:2148010416,type:"code",name:"__osRestoreInt"},{addr:2148010448,type:"code",name:"__osSetGlobalIntMask"},{addr:2148010512,type:"code",name:"__osResetGlobalIntMask"},{addr:2148010592,type:"code",name:"__osPiRawStartDma"},{addr:2148010800,type:"code",name:"osPiGetCmdQueue"},{addr:2148010832,type:"code",name:"__osEPiRawReadIo"},{addr:2148011184,type:"code",name:"alHeapCheck"},{addr:2148011200,type:"code",name:"__osEPiRawWriteIo"},{addr:2148011568,type:"code",name:"osPiWriteIo"},{addr:2148011648,type:"code",name:"osPiReadIo"},{addr:2148011728,type:"code",name:"__osAiDeviceBusy"},{addr:2148011760,type:"code",name:"__osThreadSave"},{addr:2148012464,type:"code",name:"__osThprofStack"},{addr:2148012468,type:"code",name:"__osThprofHeap"},{addr:2148012608,type:"code",name:"sqrtf"},{addr:2148012624,type:"code",name:"__osRdb_Read_Data_Ct"},{addr:2148012628,type:"code",name:"__osRdb_Read_Data_Buf"},{addr:2148012632,type:"code",name:"osReadHost"},{addr:2148014272,type:"code",name:"MonitorInitBreak"},{addr:2148014304,type:"code",name:"__isExp"},{addr:2148014628,type:"code",name:"__isExpJP"},{addr:2148015540,type:"code",name:"__osThprofCount"},{addr:2148015544,type:"code",name:"__osThprofLastTimer"},{addr:2148015548,type:"code",name:"osThreadProfileCallback"},{addr:2148015680,type:"code",name:"__osThprofFunc"},{addr:2148015684,type:"code",name:"__osThprofFlag"},{addr:2148017296,type:"code",name:"__osGetCause"},{addr:2148017312,type:"code",name:"osGetCount"},{addr:2148017376,type:"code",name:"__rmonSendFault"},{addr:2148017380,type:"code",name:"rmonRdbReadBuf"},{addr:2148017808,type:"code",name:"__osSpDeviceBusy"},{addr:2148017840,type:"code",name:"__osSpGetStatus"},{addr:2148017856,type:"code",name:"__osSpSetStatus"},{addr:2148017872,type:"code",name:"__osSpSetPc"},{addr:2148017920,type:"code",name:"__osSpRawStartDma"},{addr:2148018064,type:"code",name:"__osSpRawReadIo"},{addr:2148018144,type:"code",name:"__osSpRawWriteIo"},{addr:2148018224,type:"code",name:"__osContDataCrc"},{addr:2148018332,type:"code",name:"__osContDataCrc"},{addr:2148018348,type:"code",name:"__osContAddressCrc"},{addr:2148019040,type:"code",name:"__osPfsGetInitData"},{addr:2148019220,type:"code",name:"__osPfsRequestData"},{addr:2148019384,type:"code",name:"__osPfsPifRam"},{addr:2148019420,type:"code",name:"__pfsisplug_o_004C"},{addr:2148019428,type:"code",name:"__rmonIOhandler"},{addr:2148019448,type:"code",name:"osPfsIsPlug"},{addr:2148019584,type:"code",name:"__pfsisplug_o_0094"},{addr:2148019604,type:"code",name:"__rmonIOputw"},{addr:2148019696,type:"code",name:"__rmonIOflush"},{addr:2148019756,type:"code",name:"__rmonSendFault"},{addr:2148019776,type:"code",name:"__osPfsGetOneChannelData"},{addr:2148019904,type:"code",name:"__osPfsRequestOneChannel"},{addr:2148020016,type:"code",name:"__pfsgetstatus_o_0030"},{addr:2148020052,type:"code",name:"__osPfsGetStatus"},{addr:2148020164,type:"code",name:"__pfsgetstatus_o_0084"},{addr:2148020304,type:"code",name:"__osPfsInodeCache"},{addr:2148020424,type:"code",name:"__contpfs_o_0598"},{addr:2148020560,type:"code",name:"__osPfsRWInode"},{addr:2148021172,type:"code",name:"__contpfs_o_0578"},{addr:2148021384,type:"code",name:"__osCheckId"},{addr:2148021568,type:"code",name:"__osGetId"},{addr:2148022028,type:"code",name:"__osCheckPackId"},{addr:2148022384,type:"code",name:"__osRepairPackId"},{addr:2148023008,type:"code",name:"__osPiRawReadIo"},{addr:2148023088,type:"code",name:"__osPiRawWriteIo"},{addr:2148023132,type:"code",name:"__osIdCheckSum"},{addr:2148023168,type:"code",name:"osEPiWriteIo"},{addr:2148023200,type:"code",name:"__osSumcalc"},{addr:2148023252,type:"code",name:"__osPfsInodeCacheBank"},{addr:2148023253,type:"code",name:"__osPfsInodeCacheChannel"},{addr:2148023632,type:"code",name:"_Litob"},{addr:2148024224,type:"code",name:"_Ldtob"},{addr:2148025324,type:"code",name:"__xldtob_o_0080"},{addr:2148025476,type:"code",name:"__xldtob_o_0414"},{addr:2148026928,type:"code",name:"__rmonExecute"},{addr:2148027072,type:"code",name:"__rmonWriteWordTo"},{addr:2148027136,type:"code",name:"__rmonReadWordAt"},{addr:2148027248,type:"code",name:"__rmonCopyWords"},{addr:2148027464,type:"code",name:"__rmonGetRegionCount"},{addr:2148027548,type:"code",name:"__rmonGetExeName"},{addr:2148027736,type:"code",name:"__rmonLoadProgram"},{addr:2148027744,type:"code",name:"__rmonListProcesses"},{addr:2148027832,type:"code",name:"__rmonWriteMem"},{addr:2148028380,type:"code",name:"__rmonUtilityBuffer"},{addr:2148028636,type:"code",name:"__rmonReadMem"},{addr:2148028976,type:"code",name:"__rmonSetComm"},{addr:2148029004,type:"code",name:"__rmonCopyWords"},{addr:2148029032,type:"code",name:"__rmonPanic"},{addr:2148029040,type:"code",name:"__rmonMQ"},{addr:2148029052,type:"code",name:"__rmonMemcpy"},{addr:2148029064,type:"code",name:"__rmonInit"},{addr:2148029100,type:"code",name:"__rmonReadWordAt"},{addr:2148029164,type:"code",name:"__rmonWriteWordTo"},{addr:2148029272,type:"code",name:"__rmonSetFault"},{addr:2148029312,type:"code",name:"__rmonGetRegisterContents"},{addr:2148029432,type:"code",name:"__rmonSetVRegs"},{addr:2148029868,type:"code",name:"__rmonGetVRegs"},{addr:2148030048,type:"code",name:"__rmonregs_o_0AA4"},{addr:2148030340,type:"code",name:"__rmonSetSRegs"},{addr:2148030704,type:"code",name:"__rmonGetSRegs"},{addr:2148031112,type:"code",name:"__rmonSetFRegisters"},{addr:2148031252,type:"code",name:"__rmonGetFRegisters"},{addr:2148031392,type:"code",name:"__rmonSetGRegisters"},{addr:2148031632,type:"code",name:"__rmonGetGRegisters"},{addr:2148031940,type:"code",name:"__rmonGetRegisterContents"},{addr:2148032064,type:"code",name:"__rmonMaskIdleThreadInts"},{addr:2148032168,type:"code",name:"__rmonGetTCB"},{addr:2148032268,type:"code",name:"__rmonStopUserThreads"},{addr:2148032752,type:"code",name:"__rmonGetThreadStatus"},{addr:2148034320,type:"code",name:"__rmonSendHeader"},{addr:2148034424,type:"code",name:"__rmonSendReply"},{addr:2148034608,type:"code",name:"__rmonSendData"},{addr:2148035248,type:"code",name:"__osSpRawReadIo"},{addr:2148035328,type:"code",name:"__osSpRawWriteIo"},{addr:2148035408,type:"code",name:"__osSpDeviceBusy"},{addr:2148035440,type:"code",name:"osStopThread"},{addr:2148035632,type:"code",name:"__osGetActiveQueue"},{addr:2148036096,type:"code",name:"__rmonRCPrunning"},{addr:2148036200,type:"code",name:"__rmonStepRCP"},{addr:2148036256,type:"code",name:"__rmonHitCpuFault"},{addr:2148036300,type:"code",name:"__rmonRcpAtBreak"},{addr:2148036301,type:"code",name:"__rmonHitSpBreak"},{addr:2148036441,type:"code",name:"__rmonHitBreak"},{addr:2148036661,type:"code",name:"__rmonGetExceptionStatus"},{addr:2148036721,type:"code",name:"__rmonSetSingleStep"},{addr:2148037149,type:"code",name:"__rmonGetBranchTarget"},{addr:2148037533,type:"code",name:"__rmonClearBreak"},{addr:2148037817,type:"code",name:"__rmonListBreak"},{addr:2148037825,type:"code",name:"__rmonSetBreak"},{addr:2148040448,type:"code",name:"__divdi3"},{addr:2148040816,type:"code",name:"__udivdi3"},{addr:2148040848,type:"code",name:"__umoddi3"},{addr:2148047536,type:"code",name:"midpoint",desc:"A0=output_xyz"},{addr:2148098804,type:"data",name:"overlay_table"},{addr:2148103760,type:"u32",name:"rng_seed"},{addr:2148146544,type:"data",name:"generic_save_data_decode_table",desc:"44 bytes"},{addr:2148317348,type:"u32",name:"debug_font_color",desc:"Used with DrawDebugText"},{addr:2148320244,type:"u8",name:"p1_buttonpress",desc:"0x80 (A)"},{addr:2148320245,type:"u8",name:"p1_buttonpress2",desc:"0x1 (Right C)"},{addr:2148320246,type:"u8",name:"p1_analog_x_axis"},{addr:2148320247,type:"u8",name:"p1_analog_y_axis"},{addr:2148320252,type:"u8",name:"p2_buttonpress",desc:"0x80 (A)"},{addr:2148320253,type:"u8",name:"p2_buttonpress2",desc:"0x1 (Right C)"},{addr:2148320254,type:"u8",name:"p2_analog_x_axis"},{addr:2148320255,type:"u8",name:"p2_analog_y_axis"},{addr:2148320260,type:"u8",name:"p3_buttonpress",desc:"0x80 (A)"},{addr:2148320261,type:"u8",name:"p3_buttonpress2",desc:"0x1 (Right C)"},{addr:2148320262,type:"u8",name:"p3_analog_x_axis"},{addr:2148320263,type:"u8",name:"p3_analog_y_axis"},{addr:2148320268,type:"u8",name:"p4_buttonpress",desc:"0x80 (A)"},{addr:2148320269,type:"u8",name:"p4_buttonpress2",desc:"0x1 (Right C)"},{addr:2148320270,type:"u8",name:"p4_analog_x_axis"},{addr:2148320271,type:"u8",name:"p4_analog_y_axis"},{addr:2148320485,type:"u8",name:"hidden_block_item_space_index"},{addr:2148323196,type:"u8",name:"p1_buttonpress3",desc:"see above"},{addr:2148323197,type:"u8",name:"p1_buttonpress4"},{addr:2148323198,type:"u8",name:"p2_buttonpress3"},{addr:2148323199,type:"u8",name:"p2_buttonpress4"},{addr:2148323200,type:"u8",name:"p3_buttonpress3"},{addr:2148323201,type:"u8",name:"p3_buttonpress4"},{addr:2148323202,type:"u8",name:"p4_buttonpress3"},{addr:2148323203,type:"u8",name:"p4_buttonpress4"},{addr:2148323418,type:"u8",name:"total_turns"},{addr:2148323419,type:"u8",name:"current_turn"},{addr:2148323420,type:"u8",name:"current_game_length",desc:"00=Lite Play"},{addr:2148323421,type:"u8",name:"current_star_spawn",desc:"00 for first star spawn"},{addr:2148323422,type:"u8",name:"star_spawn_indices",desc:"array length 8 of the current star order"},{addr:2148323431,type:"u8",name:"current_player_index",desc:"Player who's turn is active"},{addr:2148323433,type:"u8",name:"current_space_index"},{addr:2148323488,type:"u8",name:"board_ram9",desc:"free for board use"},{addr:2148323489,type:"u8",name:"board_ram10",desc:"free for board use"},{addr:2148323490,type:"u8",name:"board_ram11",desc:"free for board use"},{addr:2148323491,type:"u8",name:"board_ram12",desc:"free for board use"},{addr:2148323492,type:"u8",name:"board_ram13",desc:"free for board use"},{addr:2148323493,type:"u8",name:"board_ram14",desc:"free for board use"},{addr:2148323494,type:"u8",name:"board_ram15",desc:"free for board use"},{addr:2148323495,type:"u8",name:"board_ram16",desc:"free for board use"},{addr:2148323496,type:"u8",name:"board_ram17",desc:"free for board use"},{addr:2148323497,type:"u8",name:"cur_player_used_item",desc:"0=Player can use item"},{addr:2148323503,type:"u8",name:"slow_dice_flags",desc:"bit0 is P1"},{addr:2148323508,type:"u16",name:"bank_coin_total",desc:"Number of coins in bank"},{addr:2148326354,type:"u8",name:"p1_forced_dice_roll",desc:" forces p1's normal roll"},{addr:2148326355,type:"u8",name:"p1_forced_dice_roll2",desc:" forces p1's second roll when using a mushroom"},{addr:2148326356,type:"u8",name:"p1_forced_dice_roll3",desc:" forces p1's third roll when using a golden mushroom"},{addr:2148326357,type:"u8",name:"p1_spaces_remaining",desc:" controls the number above the player's head"},{addr:2148326430,type:"u8",name:"p2_forced_dice_roll",desc:" forces p2's normal roll"},{addr:2148326431,type:"u8",name:"p2_forced_dice_roll2",desc:" forces p2's second roll when using a mushroom"},{addr:2148326432,type:"u8",name:"p2_forced_dice_roll3",desc:" forces p2's third roll when using a golden mushroom"},{addr:2148326433,type:"u8",name:"p2_spaces_remaining",desc:" controls the number above the player's head"},{addr:2148326506,type:"u8",name:"p3_forced_dice_roll",desc:" forces p3's normal roll"},{addr:2148326507,type:"u8",name:"p3_forced_dice_roll2",desc:" forces p3's second roll when using a mushroom"},{addr:2148326508,type:"u8",name:"p3_forced_dice_roll3",desc:" forces p3's third roll when using a golden mushroom"},{addr:2148326509,type:"u8",name:"p3_spaces_remaining",desc:" controls the number above the player's head"},{addr:2148326582,type:"u8",name:"p4_forced_dice_roll",desc:" forces p4's normal roll"},{addr:2148326583,type:"u8",name:"p4_forced_dice_roll2",desc:" forces p4's second roll when using a mushroom"},{addr:2148326584,type:"u8",name:"p4_forced_dice_roll3",desc:" forces p4's third roll when using a golden mushroom"},{addr:2148326585,type:"u8",name:"p4_spaces_remaining",desc:" controls the number above the player's head"},{addr:2148327877,type:"u8",name:"hidden_block_coins_space_index"},{addr:2148327938,type:"u16",name:"current_scene"},{addr:2148339976,type:"data",name:"player_structs"},{addr:2148339977,type:"u8",name:"p1_cpu_difficulty"},{addr:2148339978,type:"u8",name:"p1_controller"},{addr:2148339979,type:"u8",name:"p1_char",desc:"Mario=0"},{addr:2148339986,type:"u16",name:"p1_coins",desc:"Player 1 coin count"},{addr:2148339990,type:"u8",name:"p1_stars",desc:"Player 1 star count"},{addr:2148339991,type:"u8",name:"p1_cur_chain_index",desc:"Player 1 current chain index"},{addr:2148339992,type:"u8",name:"p1_cur_space_index",desc:"Player 1 current space index"},{addr:2148339993,type:"u8",name:"p1_next_chain_index",desc:"Player 1 next chain index"},{addr:2148339994,type:"u8",name:"p1_next_space_index",desc:"Player 1 next space index"},{addr:2148339997,type:"u8",name:"p1_prev_chain_index",desc:"Player 1 previous chain index"},{addr:2148339998,type:"u8",name:"p1_prev_space_index",desc:"Player 1 previous space index"},{addr:2148339999,type:"u8",name:"p1_status_flags",desc:"0x80 (reset effect you land)"},{addr:214834e4,type:"u8",name:"p1_item1",desc:"Player 1 first item"},{addr:2148340001,type:"u8",name:"p1_item2",desc:"Player 1 second item"},{addr:2148340002,type:"u8",name:"p1_item3",desc:"Player 1 third item"},{addr:2148340003,type:"u8",name:"p1_bowser_suit_flag",desc:"1 = suit is on"},{addr:2148340004,type:"u8",name:"p1_turn_color_status",desc:"00=blank"},{addr:2148340016,type:"u16",name:"p1_minigame_star"},{addr:2148340018,type:"u16",name:"p1_coin_star"},{addr:2148340020,type:"s8",name:"p1_happening_space_count"},{addr:2148340021,type:"u8",name:"p1_red_space_count"},{addr:2148340022,type:"u8",name:"p1_blue_space_count"},{addr:2148340023,type:"u8",name:"p1_chance_space_count"},{addr:2148340024,type:"u8",name:"p1_bowser_space_count"},{addr:2148340025,type:"u8",name:"p1_battle_space_count"},{addr:2148340026,type:"u8",name:"p1_item_space_count"},{addr:2148340027,type:"u8",name:"p1_bank_space_count"},{addr:2148340028,type:"u8",name:"p1_game_guy_space_count"},{addr:2148340033,type:"u8",name:"p2_cpu_difficulty"},{addr:2148340034,type:"u8",name:"p2_controller"},{addr:2148340035,type:"u8",name:"p2_char"},{addr:2148340042,type:"u16",name:"p2_coins",desc:"Player 2 coin count"},{addr:2148340046,type:"u8",name:"p2_stars",desc:"Player 2 star count"},{addr:2148340047,type:"u8",name:"p2_cur_chain_index",desc:"Player 2 current chain index"},{addr:2148340048,type:"u8",name:"p2_cur_space_index",desc:"Player 2 current space index"},{addr:2148340049,type:"u8",name:"p2_next_chain_index",desc:"Player 2 next chain index"},{addr:2148340050,type:"u8",name:"p2_next_space_index",desc:"Player 2 next space index"},{addr:2148340053,type:"u8",name:"p2_prev_chain_index",desc:"Player 2 previous chain index"},{addr:2148340054,type:"u8",name:"p2_prev_space_index",desc:"Player 2 previous space index"},{addr:2148340055,type:"u8",name:"p2_status_flags",desc:"see p1 notes"},{addr:2148340056,type:"u8",name:"p2_item1",desc:"Player 2 first item"},{addr:2148340057,type:"u8",name:"p2_item2",desc:"Player 2 second item"},{addr:2148340058,type:"u8",name:"p2_item3",desc:"Player 2 third item"},{addr:2148340059,type:"u8",name:"p2_bowser_suit_flag",desc:"1 = suit is on"},{addr:2148340060,type:"u8",name:"p2_turn_color_status",desc:"00=blank"},{addr:2148340072,type:"u16",name:"p2_minigame_star"},{addr:2148340074,type:"u16",name:"p2_coin_star"},{addr:2148340076,type:"s8",name:"p2_happening_space_count"},{addr:2148340077,type:"u8",name:"p2_red_space_count"},{addr:2148340078,type:"u8",name:"p2_blue_space_count"},{addr:2148340079,type:"u8",name:"p2_chance_space_count"},{addr:2148340080,type:"u8",name:"p2_bowser_space_count"},{addr:2148340081,type:"u8",name:"p2_battle_space_count"},{addr:2148340082,type:"u8",name:"p2_item_space_count"},{addr:2148340083,type:"u8",name:"p2_bank_space_count"},{addr:2148340084,type:"u8",name:"p2_game_guy_space_count"},{addr:2148340089,type:"u8",name:"p3_cpu_difficulty"},{addr:2148340090,type:"u8",name:"p3_controller"},{addr:2148340091,type:"u8",name:"p3_char"},{addr:2148340098,type:"u16",name:"p3_coins",desc:"Player 3 coin count"},{addr:2148340102,type:"u8",name:"p3_stars",desc:"Player 3 star count"},{addr:2148340103,type:"u8",name:"p3_cur_chain_index",desc:"Player 3 current chain index"},{addr:2148340104,type:"u8",name:"p3_cur_space_index",desc:"Player 3 current space index"},{addr:2148340105,type:"u8",name:"p3_next_chain_index",desc:"Player 3 next chain index"},{addr:2148340106,type:"u8",name:"p3_next_space_index",desc:"Player 3 next space index"},{addr:2148340109,type:"u8",name:"p3_prev_chain_index",desc:"Player 3 previous chain index"},{addr:2148340110,type:"u8",name:"p3_prev_space_index",desc:"Player 3 previous space index"},{addr:2148340111,type:"u8",name:"p3_status_flags",desc:"see p1 notes"},{addr:2148340112,type:"u8",name:"p3_item1",desc:"Player 3 first item"},{addr:2148340113,type:"u8",name:"p3_item2",desc:"Player 3 second item"},{addr:2148340114,type:"u8",name:"p3_item3",desc:"Player 3 third item"},{addr:2148340115,type:"u8",name:"p3_bowser_suit_flag",desc:"1 = suit is on"},{addr:2148340116,type:"u8",name:"p3_turn_color_status",desc:"00=blank"},{addr:2148340128,type:"u16",name:"p3_minigame_star"},{addr:2148340130,type:"u16",name:"p3_coin_star"},{addr:2148340132,type:"s8",name:"p3_happening_space_count"},{addr:2148340133,type:"u8",name:"p3_red_space_count"},{addr:2148340134,type:"u8",name:"p3_blue_space_count"},{addr:2148340135,type:"u8",name:"p3_chance_space_count"},{addr:2148340136,type:"u8",name:"p3_bowser_space_count"},{addr:2148340137,type:"u8",name:"p3_battle_space_count"},{addr:2148340138,type:"u8",name:"p3_item_space_count"},{addr:2148340139,type:"u8",name:"p3_bank_space_count"},{addr:2148340140,type:"u8",name:"p3_game_guy_space_count"},{addr:2148340145,type:"u8",name:"p4_cpu_difficulty"},{addr:2148340146,type:"u8",name:"p4_controller"},{addr:2148340147,type:"u8",name:"p4_char"},{addr:2148340154,type:"u16",name:"p4_coins",desc:"Player 4 coin count"},{addr:2148340158,type:"u8",name:"p4_stars",desc:"Player 4 star count"},{addr:2148340159,type:"u8",name:"p4_cur_chain_index",desc:"Player 4 current chain index"},{addr:2148340160,type:"u8",name:"p4_cur_space_index",desc:"Player 4 current space index"},{addr:2148340161,type:"u8",name:"p4_next_chain_index",desc:"Player 4 next chain index"},{addr:2148340162,type:"u8",name:"p4_next_space_index",desc:"Player 4 next space index"},{addr:2148340165,type:"u8",name:"p4_prev_chain_index",desc:"Player 4 previous chain index"},{addr:2148340166,type:"u8",name:"p4_prev_space_index",desc:"Player 4 previous space index"},{addr:2148340167,type:"u8",name:"p4_status_flags",desc:"see p1 notes"},{addr:2148340168,type:"u8",name:"p4_item1",desc:"Player 4 first item"},{addr:2148340169,type:"u8",name:"p4_item2",desc:"Player 4 second item"},{addr:2148340170,type:"u8",name:"p4_item3",desc:"Player 4 third item"},{addr:2148340171,type:"u8",name:"p4_bowser_suit_flag",desc:"1 = suit is on"},{addr:2148340172,type:"u8",name:"p4_turn_color_status",desc:"00=blank"},{addr:2148340184,type:"u16",name:"p4_minigame_star"},{addr:2148340186,type:"u16",name:"p4_coin_star"},{addr:2148340188,type:"s8",name:"p4_happening_space_count"},{addr:2148340189,type:"u8",name:"p4_red_space_count"},{addr:2148340190,type:"u8",name:"p4_blue_space_count"},{addr:2148340191,type:"u8",name:"p4_chance_space_count"},{addr:2148340192,type:"u8",name:"p4_bowser_space_count"},{addr:2148340193,type:"u8",name:"p4_battle_space_count"},{addr:2148340194,type:"u8",name:"p4_item_space_count"},{addr:2148340195,type:"u8",name:"p4_bank_space_count"},{addr:2148340196,type:"u8",name:"p4_game_guy_space_count"},{addr:2148340303,type:"u8",name:"hidden_block_star_space_index"},{addr:2148352448,type:"u32",name:"cur_player_spaces_remaining"},{addr:2148376976,type:"code",name:"RunDecisionTree",desc:"A0=decision_tree_pointer"},{addr:2148409160,type:"code",name:"ShowPlayerCoinChange",desc:"A0=player_index"},{addr:2148419960,type:"code",name:"PlayerHasItem",desc:"A0=player_index"},{addr:2148420060,type:"code",name:"PlayerHasEmptyItemSlot",desc:"A0=player_index"},{addr:2148420104,type:"code",name:"FixUpPlayerItemSlots",desc:"A0=player_index"},{addr:2148443744,type:"code",name:"AddArrowAngle",desc:"F0=degree_rot_of_arrow"},{addr:2148446560,type:"code",name:"GetSpaceData",desc:"A0=space_index"},{addr:2148446596,type:"code",name:"GetAbsSpaceIndexFromChainSpaceIndex",desc:"A0=chain_index"},{addr:2148446640,type:"code",name:"GetChainLength",desc:"A0=chain_index"},{addr:2148446668,type:"code",name:"GetChainSpaceIndexFromAbsSpaceIndex",desc:"A0=abs_space_index"},{addr:2148446796,type:"code",name:"SetPlayerOntoAbsSpaceIndex",desc:"A0=abs_space_index"},{addr:2148448240,type:"code",name:"SetSpaceType",desc:"A0=space_index"},{addr:2148448864,type:"code",name:"EventTableHydrate",desc:"Moves event table data into the space data"},{addr:2148449468,type:"code",name:"SetCurrentSpaceIndex",desc:"A0=space_index"},{addr:2148449480,type:"code",name:"GetCurrentSpaceIndex"},{addr:2148449708,type:"code",name:"RedrawSpaces"},{addr:2148452040,type:"code",name:"CloseMessage",desc:"Closes open message window (with animation)"},{addr:2148452588,type:"code",name:"ShowMessage",desc:"A0=character_index"},{addr:2148453208,type:"code",name:"GetAngleBetweenSpaces",desc:"A0=space_1_data[0x8]"},{addr:2148453916,type:"code",name:"SetPlayerBlue",desc:"Sets the player's turn state blue"},{addr:2148453924,type:"code",name:"SetPlayerRed",desc:"Sets the player's turn state red"},{addr:2148453932,type:"code",name:"SetPlayerGreen",desc:"Sets the player's turn state green"},{addr:2148453964,type:"code",name:"GetSumOfPlayerStars",desc:"sums the star count of all players"},{addr:2148454044,type:"code",name:"RNGPercentChance",desc:"A0=percent_chance"},{addr:2148454116,type:"code",name:"GetTurnsElapsed"},{addr:2148454924,type:"code",name:"RotatePlayerModel",desc:"A0=player_index"},{addr:2148456732,type:"code",name:"SetPlayerOntoChain",desc:"A0=player_index"},{addr:2148456856,type:"code",name:"SetNextChainAndSpace",desc:"A0=player_index"},{addr:2148456952,type:"code",name:"SetPrevChainAndSpace",desc:"A0=player_index"},{addr:2148457048,type:"code",name:"ChangeStarLocation"},{addr:2148460992,type:"code",name:"GetPlayerPlacement",desc:"A0=player_index"},{addr:2148461144,type:"code",name:"GetPlayerPlacementAtEndOfGame",desc:"A0=player_index"},{addr:2148475184,type:"code",name:"GetCurrentPlayerIndex"},{addr:2148475196,type:"code",name:"GetPlayerStruct",desc:"A0=player_index pass -1 to get current player's struct"},{addr:2148475260,type:"code",name:"PlayerIsCurrent",desc:"A0=player_index tests if A0 is the current player"},{addr:2148475288,type:"code",name:"PlayerIsCPU",desc:"A0=player_index"},{addr:2148475328,type:"code",name:"AdjustPlayerCoins",desc:"A0=player_index"},{addr:2148475440,type:"code",name:"PlayerHasCoins",desc:"A0=player_index"},{addr:2148475652,type:"code",name:"SetBoardPlayerAnimation",desc:"A0=player_index"},{addr:2148490564,type:"code",name:"AdjustPlayerCoinsGradual",desc:"A0=player_index"},{addr:2148492272,type:"code",name:"RefreshHUD",desc:"A0=player_index"},{addr:2148503900,type:"code",name:"SetCameraType",desc:"A0=type"},{addr:2148535712,type:"data",name:"mini_ids_4p"},{addr:2148535732,type:"data",name:"mini_ids_4p_easy"},{addr:2148535744,type:"data",name:"mini_ids_1v3"},{addr:2148535756,type:"data",name:"mini_ids_1v3_easy"},{addr:2148535764,type:"data",name:"mini_ids_2v2"},{addr:2148535776,type:"data",name:"mini_ids_2v2_easy"},{addr:2148535784,type:"data",name:"mini_ids_battle"},{addr:2148535792,type:"data",name:"mini_ids_battle_easy"},{addr:2148535796,type:"data",name:"mini_ids_item"},{addr:2148535804,type:"data",name:"mini_ids_item_easy"},{addr:2148535816,type:"data",name:"mini_ids_duel"},{addr:2148535824,type:"data",name:"mini_ids_duel_easy"},{addr:2148535832,type:"data",name:"num_minis_in_roulette",desc:"Number of Mini-Games to populate the roulette with for each type (4p"},{addr:2148543576,type:"u32",name:"boo_function_pointer"},{addr:2148553232,type:"u16",name:"num_board_spaces"},{addr:2148553234,type:"u16",name:"num_chains"},{addr:2148553236,type:"u32",name:"hydrated_space_data"},{addr:2148553240,type:"u32",name:"hydrated_chains"},{addr:2148553360,type:"data",name:"arrow_angles",desc:"f32[8]"},{addr:2148553392,type:"u32",name:"num_arrow_angles"},{addr:2148554736,type:"u32",name:"p1_hud_xpos",desc:" float for p1's HUD x pos"},{addr:2148554740,type:"u32",name:"p1_hud_ypos",desc:" float for p1's HUD y pos"},{addr:2148554844,type:"u32",name:"p2_hud_xpos",desc:" see p1"},{addr:2148554848,type:"u32",name:"p2_hud_ypos",desc:" see p1"},{addr:2148554952,type:"u32",name:"p3_hud_xpos",desc:" see p1"},{addr:2148554956,type:"u32",name:"p3_hud_ypos",desc:" see p1"},{addr:2148555060,type:"u32",name:"p4_hud_xpos",desc:" see p1"},{addr:2148555064,type:"u32",name:"p4_hud_ypos",desc:" see p1"},{addr:2148555168,type:"data",name:"overlay_base",desc:"Overlay starting location"}],fe=[{addr:2148078296,type:"data",name:"overlay_table"},{addr:2148507904,type:"data",name:"overlay_ram_start"}];function he(e){switch(e){case v.MP1_USA:return se;case v.MP1_JPN:return le;case v.MP1_PAL:return ue;case v.MP2_USA:return ce;case v.MP2_JPN:return de;case v.MP2_PAL:throw new Error("Symbols not available for game type "+e);case v.MP3_USA:return Ae;case v.MP3_JPN:return fe;case v.MP3_PAL:throw new Error("Symbols not available for game type "+e)}throw new Error("Unrecognized game type "+e)}function pe(e,n){var t=he(e);return t?(n&&(t=t.filter((function(e){return e.type===n}))),t=t.filter((function(e){return"_"!==e.name[0]&&"?"!==e.name[0]}))):[]}function me(e,n){var t=he(e);if(!t)throw new Error("Symbols aren't available for ".concat(e,"."));for(var r=0;r<t.length;r++)if(t[r].name===n)return t[r].addr;throw new Error("Symbol ".concat(n," wasn't found for ").concat(e,"."))}function Se(e){return(e-3072|2147483648)>>>0}function ge(e){return(e+3072&2147483647)>>>0}var ve=new(function(){function e(){r(this,e),this._overlays=void 0,this._sceneInfo=void 0,this._overlays=[],this._sceneInfo=[]}return i(e,[{key:"clearCache",value:function(){this._overlays=null,this._sceneInfo=null}},{key:"count",value:function(){return this._sceneInfo.length}},{key:"getInfo",value:function(e){return this._sceneInfo[e]||null}},{key:"getDataView",value:function(e){return new DataView(this._overlays[e])}},{key:"getCodeDataView",value:function(e){var n=this._sceneInfo[e],t=2147483647&n.code_start,r=2147483647&n.code_end;return new DataView(this._overlays[e],0,r-t)}},{key:"getRoDataView",value:function(e){var n=this._sceneInfo[e],t=2147483647&n.rodata_start,r=2147483647&n.rodata_end,a=2147483647&n.ram_start;return new DataView(this._overlays[e],t-a,r-t)}},{key:"getByteLength",value:function(){return this._sceneInfo.reduce((function(e,n){return e+n.rom_end-n.rom_start}),0)}},{key:"extractAsync",value:function(){var e=this;return new Promise((function(n){e.extract(),n()}))}},{key:"extract",value:function(){this._overlays=[],this._sceneInfo=[];var e=me(Ry.getROMGame(),"overlay_table");if(e){e=ge(e);for(var n=Ry.getROMBuffer(),t=Ry.getDataView(),r=e;1142947840!==t.getUint32(r);){var a={rom_start:t.getUint32(r),rom_end:t.getUint32(r+4),ram_start:t.getUint32(r+8),code_start:t.getUint32(r+12),code_end:t.getUint32(r+16),rodata_start:t.getUint32(r+20),rodata_end:t.getUint32(r+24),bss_start:t.getUint32(r+28),bss_end:t.getUint32(r+32)};this._sceneInfo.push(a),this._overlays.push(n.slice(a.rom_start,a.rom_end)),r+=36}}else H("overlay_table symbol undefined for current ROM")}},{key:"pack",value:function(e){var n=me(Ry.getROMGame(),"overlay_table");if(!n)throw new Error("overlay_table symbol undefined for current ROM");n=ge(n);for(var t=new DataView(e),r=n,a=0;1142947840!==t.getUint32(r);){var i=this._sceneInfo[a];t.setUint32(r,i.rom_start),t.setUint32(r+4,i.rom_end),t.setUint32(r+8,i.ram_start),t.setUint32(r+12,i.code_start),t.setUint32(r+16,i.code_end),t.setUint32(r+20,i.rodata_start),t.setUint32(r+24,i.rodata_end),t.setUint32(r+28,i.bss_start),t.setUint32(r+32,i.bss_end);var o=this._overlays[a];q(e,o,i.rom_start,0,o.byteLength),r+=36,a++}}},{key:"replace",value:function(e,n,t){if(n.byteLength%16)throw new Error("Cannot have overlay byte length that is not divisible by 16");this._overlays[e]=n;var r=this._sceneInfo[e],a=r.rom_end-r.rom_start,i=n.byteLength-a;if(r.rom_end=r.rom_start+n.byteLength,t)for(var o in t){var s=t[o];s&&(r[o]=s)}for(var l=e+1;l<this._sceneInfo.length;l++){var u=this._sceneInfo[l];r.rom_start<u.rom_start&&(u.rom_start+=i,u.rom_end+=i)}H("Replaced overlay ".concat(W(e)," with new buffer of length ").concat(n.byteLength),t)}}]),e}()),xe=__webpack_require__(885),_e=1024;function ye(e,n,t){for(var r=0,a=0,i=958,o=new ArrayBuffer(_e),s=new DataView(o),l=0;a<t;){if(0===(256&l)&&(l=e.getUint8(r),l|=65280,++r),1===(1&l))n.setUint8(a,e.getUint8(r)),s.setUint8(i,e.getUint8(r)),++a,++r,i=(i+1)%_e;else{var u=e.getUint8(r),c=e.getUint8(r+1);r+=2;for(var d,A=(192&c)<<2|u,f=3+(63&c),h=0;h<f;++h)d=s.getUint8(A%_e),s.setUint8(i,d),i=(i+1)%_e,n.setUint8(a,d),++a,++A}l>>=1}return r}function we(e,n,t){for(var r=0,a=0,i=0,o=0;a<t;){if(0===o&&(i=e.getUint32(r),o=32,r+=4),0!==(2147483648&i))n.setUint8(a,e.getUint8(r)),++a,++r;else{var s=e.getUint8(r),l=e.getUint8(r+1);r+=2;var u,c,d=1+((15&s)<<8|l),A=2+((240&s)>>4);for(2===A&&(A=e.getUint8(r)+18,++r),u=0;u<A&&a<t;++u)c=d>a?0:n.getUint8(a-d),n.setUint8(a,c),++a}i<<=1,--o}return r}function be(e,n,t){for(var r=0,a=0;a<t;){var i=e.getUint8(r);r++;var o=127&i;if(128&i)for(var s=0;s<o;s++){var l=e.getUint8(r);r++,n.setUint8(a,l),a++}else{var u=e.getUint8(r);r++;for(var c=0;c<o;c++)n.setUint8(a,u),a++}}return r}function Ve(e,n,t){var r,a=new ArrayBuffer(t),i=new DataView(a);switch(e){case 1:r=ye(n,i,t);break;case 2:case 3:case 4:r=we(n,i,t);break;case 5:r=be(n,i,t);break;case 0:r=t;for(var o=0;o<t;o++)i.setUint8(o,n.getUint8(o));break;default:H("decompression ".concat(e," not implemented."))}return a.compressedSize=r,a}function Ce(e,n){switch(e){case 1:return function(e){for(var n=Math.ceil(e.byteLength/8),t=e.byteLength+n,r=new ArrayBuffer(t),a=new DataView(r),i=0,o=0;i<t;)i&&i%9?(a.setUint8(i,e.getUint8(o)),o++):a.setUint8(i,255),i++;return r}(n);case 2:case 3:case 4:return function(e){for(var n=e.byteLength/32,t=e.byteLength+4*n,r=new ArrayBuffer(t),a=new DataView(r),i=0,o=0;o<t;o+=36,i+=32)a.setUint32(o,4294967295),a.setUint32(o+4,e.getUint32(i)),a.setUint32(o+8,e.getUint32(i+4)),a.setUint32(o+12,e.getUint32(i+8)),a.setUint32(o+16,e.getUint32(i+12)),a.setUint32(o+20,e.getUint32(i+16)),a.setUint32(o+24,e.getUint32(i+20)),a.setUint32(o+28,e.getUint32(i+24)),a.setUint32(o+32,e.getUint32(i+28));return r}(n);case 5:return function(e){for(var n=new ArrayBuffer(3*e.byteLength),t=new DataView(n),r=0,a=0,i=0;a<e.byteLength;)if(e.getUint8(a)===e.getUint8(a+1)){i=0;for(var o=0;o<127;o++){if(e.getUint8(a+o)!==e.getUint8(a+o+1)||a+o>=e.byteLength){i++;break}i++}t.setUint8(r,i),t.setUint8(r+1,e.getUint8(a)),r+=2,a+=i}else{i=0;for(var s=0;s<127&&!(e.getUint8(a+s)===e.getUint8(a+s+1)||a+s>=e.byteLength);s++)i++;t.setUint8(r,128|i),r+=1;for(var l=0;l<i;l++)t.setUint8(r,e.getUint8(a+l)),r+=1,a+=1}return n.slice(0,r)}(n);default:return n.buffer.slice(0)}}function Ee(e,n,t,r){return Math.sqrt((e-t)*(e-t)+(n-r)*(n-r))}function De(e,n,t,r){return{x:(e+t)/2,y:(n+r)/2}}function Fe(e,n,t,r,a,i){var o=[Math.min(t,a),Math.max(t,a)],s=o[0],l=o[1],u=[Math.min(r,i),Math.max(r,i)];return e>=s&&e<=l&&n>=u[0]&&n<=u[1]}function Te(e,n){return n*Math.ceil(e/n)}function Pe(e){return e*Math.PI/180}function Re(e){var n=new ArrayBuffer(4),t=new DataView(n);return t.setFloat32(0,e),t.getUint32(0)}var Le=__webpack_require__(7313),Me=__webpack_require__(8875);function Be(e,n){return function(t){function r(){e(t),t.stopPropagation(),t.preventDefault()}(n&&!n.enter||13!==t.keyCode)&&(n&&!n.space||32!==t.keyCode)||r()}}function ke(e){e.stopPropagation(),e.preventDefault()}function Ie(){var e=(0,Le.useState)(0),n=(0,xe.Z)(e,2)[1];return(0,Le.useCallback)((function(){return n((function(e){return e+1}))}),[])}var Oe,Ne=__webpack_require__(6417),je=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onClick=function(){e.props.onClick(e.props.id)},e}return i(t,[{key:"render",value:function(){var e="nbButton";return this.props.css&&(e+=" "+this.props.css),(0,Ne.jsx)("div",{className:e,title:this.props.title,tabIndex:0,onClick:this.onClick,onKeyDown:Be(this.onClick),children:this.props.children})}}]),t}(Le.Component),Ue=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onClick=function(){e.props.readonly||!1===e.props.allowDeselect&&e.props.pressed||e.props.onToggled(e.props.id,!e.props.pressed)},e}return i(t,[{key:"render",value:function(){var e="toggleButton"+(this.props.pressed?" pressed":"");return this.props.css&&(e+=" "+this.props.css),(0,Ne.jsx)("div",{className:e,title:this.props.title,tabIndex:0,onClick:this.onClick,onKeyDown:Be(this.onClick),children:this.props.children})}}]),t}(Le.Component);function Ge(e){var n=e.items.map((function(n){return(0,Ne.jsx)(Ue,{id:n.id,pressed:n.selected,allowDeselect:e.allowDeselect,readonly:e.readonly,title:n.title,onToggled:e.onToggleClick,children:n.text},n.id)}));return(0,Ne.jsx)("div",{className:e.groupCssClass,children:n})}!function(e){e.uiTheme="ui.theme",e.uiAdvanced="ui.advanced",e.uiDebug="ui.debug",e.uiSkipValidation="ui.skipvalidation",e.uiAllowAllRoms="ui.allowallroms",e.uiShowRomBoards="ui.showromboards",e.writeBranding="write.branding",e.writeDecompressed="write.decompressed",e.limitModelFPS="models.limitfps",e.limitModelAnimations="models.limitAnimations",e.modelUseGLB="models.useGLB"}(Oe||(Oe={}));var ze=[{name:"Theme",type:"section"},{id:Oe.uiTheme,type:"theme",default:F.Classic,name:"Theme"},{name:"UI",type:"section"},{id:Oe.uiAdvanced,type:"checkbox",default:!1,name:"Advanced features",desc:"Enables infrequently used, potentially complicated, and developer features."},{id:Oe.uiDebug,type:"checkbox",default:G(),name:"Debug features",advanced:!0,desc:"Enables debug output and UI that may aid development."},{id:Oe.uiSkipValidation,type:"checkbox",default:!1,name:"Skip Overwrite Validation",advanced:!0,desc:"Allow boards to be written regardless of warnings."},{id:Oe.uiShowRomBoards,type:"checkbox",default:!1,name:"Show ROM Boards",advanced:!0,desc:"Show boards parsed from the ROM in the editor."},{id:Oe.uiAllowAllRoms,type:"checkbox",default:!1,name:"Allow All ROMs",advanced:!0,desc:"Allows more than just the officially supported ROMs to attempt to load."},{name:"ROM",type:"section"},{id:Oe.writeBranding,type:"checkbox",default:!0,name:"Include branding",desc:"Adds the PartyPlanner64 logo to the game boot splashscreens."},{id:Oe.writeDecompressed,type:"checkbox",default:!1,name:"Leave ROM decompressed",advanced:!0,desc:"Leaves all files decompressed when saving a ROM, resulting in larger file size."},{name:"Model Viewer",type:"section"},{id:Oe.limitModelFPS,type:"checkbox",default:!0,name:"Limit FPS",desc:"Reduce the refresh rate for better performance."},{id:Oe.limitModelAnimations,type:"checkbox",default:!0,name:"Limit animations",desc:"Limit animations to those in the same directory as the model."},{id:Oe.modelUseGLB,type:"checkbox",default:!1,name:"Use GLB container for glTF",desc:"Create a GLB container when exporting models to glTF."}];function He(e){var n=function(e){return ze.find((function(n){return"section"!==n.type&&n.id===e}))}(e);if(n&&"section"!==n.type)return n.default}var We=new(function(){function e(){r(this,e),this._tempSettings=void 0,this.listeners=new Set,Me.defaults={expires:1/0},this._tempSettings={}}return i(e,[{key:"getSetting",value:function(e){if(this._tempSettings.hasOwnProperty(e))return this._tempSettings[e];var n;if(Me.enabled){var t=Me.get(e);n=void 0===t?He(e):JSON.parse(t)}else n=He(e);return this._tempSettings[e]=n,n}},{key:"setSetting",value:function(e,n){this._tempSettings[e]=n,Me.enabled&&Me.set(e,JSON.stringify(n)),this.listeners.forEach((function(n){n(e)}))}},{key:"reset",value:function(){this._tempSettings={},Me.enabled&&ze.forEach((function(e){"section"!==e.type&&e.id&&Me.expire(e.id)}))}}]),e}());function Xe(e){if(e)return We.getSetting(e)}function Ke(e,n){We.setSetting(e,n),e===Oe.uiDebug&&z(n)}z(We.getSetting(Oe.uiDebug));var qe=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onSettingChanged=function(n,t){Ke(n,t),e.forceUpdate()},e}return i(t,[{key:"render",value:function(){var e=this,n=function(){var e=ze;return We.getSetting(Oe.uiAdvanced)||(e=e.filter((function(e){return!e.advanced}))),e}().map((function(n){switch(n.type){case"checkbox":var t=Xe(n.id);return(0,Ne.jsx)(Ye,{id:n.id,name:n.name,desc:n.desc,value:t,onCheckChanged:function(n,t){return e.onSettingChanged(n,t)}},n.id);case"section":return(0,Ne.jsx)("h3",{children:n.name},n.name);case"theme":var r=Xe(n.id);return(0,Ne.jsx)(Qe,{id:n.id,name:n.name,value:r,onThemeChanged:e.onSettingChanged},n.id)}throw new Error("Unrecognized setting type")}));return(0,Ne.jsxs)("div",{id:"settingsForm",children:[(0,Ne.jsx)("h2",{children:"Settings"}),n]})}}]),t}(Le.Component),Ye=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onToggled=function(){e.props.onCheckChanged(e.props.id,!e.props.value)},e}return i(t,[{key:"render",value:function(){var e=this.props.id+"-main",n=this.props.id+"-desc";return(0,Ne.jsxs)("div",{className:"checkboxSetting",onClick:this.onToggled,children:[(0,Ne.jsx)("input",{type:"checkbox",className:"checkboxSettingChk",checked:this.props.value,onChange:this.onToggled,"aria-labelledby":e,"aria-describedby":n}),(0,Ne.jsxs)("div",{className:"checkboxSettingLines",children:[(0,Ne.jsx)("span",{id:e,className:"checkboxSettingMain",children:this.props.name}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("span",{id:n,className:"checkboxSettingDesc",children:this.props.desc})]})]})}}]),t}(Le.Component);function Qe(e){return(0,Ne.jsxs)("div",{className:"themeSetting",children:[(0,Ne.jsx)(Je,{name:"Classic",theme:F.Classic,accentColorHexString:"#5A4540",selected:e.value===F.Classic||!e.value,onSelected:function(n){return e.onThemeChanged(e.id,n)}}),(0,Ne.jsx)(Je,{name:"Dark Gray",theme:F.DarkGray,accentColorHexString:"#4a4a4a",selected:e.value===F.DarkGray,onSelected:function(n){return e.onThemeChanged(e.id,n)}})]})}function Je(e){return(0,Ne.jsx)(Ue,{id:e.theme,allowDeselect:!1,onToggled:function(){return e.onSelected(e.theme)},pressed:e.selected,children:(0,Ne.jsx)("span",{className:"themeColorSwatch",title:e.name,style:{backgroundColor:e.accentColorHexString}})},e.theme)}function Ze(e){return We.getSetting(e)}var $e,en=__webpack_require__(4531),nn={};function tn(e){switch(e){case 0:case 1:case 5:return 8;case 2:case 3:case 4:return 12}throw new Error("_getFileHeaderSize(".concat(e,") not handled"))}nn[v.MP1_USA]=[{upper:87974,lower:87978},{upper:245782,lower:245790}],nn[v.MP1_JPN]=[{upper:87766,lower:87770},{upper:245554,lower:245562}],nn[v.MP1_PAL]=[{upper:90358,lower:90362},{upper:251962,lower:251966}],nn[v.MP2_USA]=[{upper:268006,lower:268014}],nn[v.MP2_JPN]=[{upper:265610,lower:265618}],nn[v.MP3_USA]=[{upper:221598,lower:221606}],nn[v.MP3_JPN]=[{upper:221578,lower:221586}];var rn=function(){function e(){r(this,e)}return i(e,null,[{key:"getROMOffset",value:function(){var n=Ry.getDataView(),t=e.getPatchOffsets();if(!t)return null;var r=t[0],a=n.getUint16(r.upper)<<16,i=n.getUint16(r.lower),o=a|i;if(32768&i&&(o-=65536),H("MainFS.getROMOffset -> ".concat(W(o))),G())for(var s=1;s<t.length;s++){var l=n.getUint16(t[s].upper)<<16,u=n.getUint16(t[s].lower);if(l!==a||u!==i)throw new Error("MainFS.getROMOffset patch offset ".concat(s," seems wrong"))}return o}},{key:"setROMOffset",value:function(n,t){for(var r=new DataView(t),a=e.getPatchOffsets(),i=(0,en.iu)(n),o=(0,xe.Z)(i,2),s=o[0],l=o[1],u=0;u<a.length;u++)r.setUint16(a[u].upper,s),r.setUint16(a[u].lower,l);H("MainFS.setROMOffset -> ".concat(W((0,en.NC)(s,l))))}},{key:"getPatchOffsets",value:function(){return nn[Ry.getROMGame()]}},{key:"get",value:function(e,n){return $e[e][n].decompressed}},{key:"has",value:function(e,n){return!!$e[e][n]}},{key:"read",value:function(n,t,r){var a=Ry.getROMBuffer(),i=e.getROMOffset(),o=i+new DataView(a,i).getUint32(4*(1+n)),s=o+new DataView(a,o).getUint32(4*(1+t)),l=new DataView(a,s),u=l.getUint32(0),c=l.getUint32(4),d=s+tn(c),A={compressionType:c,decompressedSize:u,decompressed:Ve(c,new DataView(a,d),u)};if(G()&&u!==A.decompressed.byteLength)throw new Error("MainFS Dir: ".concat(n,", File: ").concat(t," decompressed size mismatch"));if(r){var f=A.decompressed.compressedSize;A.compressed=a.slice(d,d+f)}return A}},{key:"write",value:function(e,n,t){var r=$e[e][n];if(r){if(t!==r.decompressed&&re(t,r.decompressed))return}else H("Adding new file to MainFS: ".concat(e,"/").concat(n)),$e[e][n]=r={compressionType:0};r.compressed&&(delete r.decompressedSize,delete r.compressed,r.compressionType=0),r.decompressed=t.slice(0)}},{key:"clearCache",value:function(){$e=null}},{key:"extract",value:function(){var n,t;G()&&window.performance&&(n=performance.now());var r=e.getDirectoryCount();$e=new Array(r);for(var a=0;a<r;a++){var i=e.getFileCount(a);$e[a]=new Array(i);for(var o=0;o<i;o++)$e[a][o]=e.read(a,o,!0)}return G()&&n&&(t=performance.now(),H("MainFS.extract() -> ".concat(t-n,"ms"))),$e}},{key:"extractAsync",value:function(){return new Promise((function(n){e.extract(),n()}))}},{key:"pack",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new DataView(n,t),a=e.getDirectoryCount();r.setUint32(0,a);for(var i=4,o=4+4*a,s=0;s<a;s++)r.setUint32(i,o),i+=4,o=Te(o=e._writeDir(s,r,o),2);return o}},{key:"_writeDir",value:function(n,t,r){var a=e.getFileCount(n);t.setUint32(r,a);for(var i=r+4,o=r+4+4*a,s=0;s<a;s++)t.setUint32(i,o-r),i+=4,o=Te(o=e._writeFile(n,s,t,o),2);return o}},{key:"_writeFile",value:function(e,n,t,r){var a=$e[e][n],i=!!Ze(Oe.writeDecompressed);if(a){t.setUint32(r,a.decompressedSize||a.decompressed.byteLength);var o=i?0:a.compressionType;t.setUint32(r+4,o);var s,l=r+8;return 12===tn(o)&&(t.setUint32(r+8,a.decompressedSize||a.decompressed.byteLength),l+=4),q(t,s=i?a.decompressed:a.compressed||a.decompressed,l,0,s.byteLength),l+s.byteLength}t.setUint32(r,0),t.setUint32(r+4,0);var u=r+8;return 12===tn(0)&&(t.setUint32(r+8,0),u+=4),u}},{key:"getDirectoryCount",value:function(){if($e)return $e.length;var n=Ry.getROMBuffer();return new DataView(n,e.getROMOffset()).getUint32(0)}},{key:"getFileCount",value:function(n){if($e&&$e[n])return $e[n].length;var t=Ry.getROMBuffer(),r=e.getROMOffset(),a=r+new DataView(t,r).getUint32(4*(1+n));return new DataView(t,a).getUint32(0)}},{key:"getByteLength",value:function(){var e=$e.length,n=!!Ze(Oe.writeDecompressed),t=0;t+=4,t+=4*e;for(var r=0;r<e;r++){var a=$e[r].length;t+=4,t+=4*a;for(var i=0;i<a;i++){var o=$e[r][i];o?(t+=tn(n?0:o.compressionType),o.compressed&&!n?t+=o.compressed.byteLength:t+=o.decompressed.byteLength,t=Te(t,2)):t+=tn(0)}}return t}},{key:"getCompressedSize",value:function(e,n){return $e&&$e[e][n]&&$e[e][n].compressed?$e[e][n].compressed.byteLength:0}},{key:"getFileHeaderSize",value:function(e,n){return $e&&$e[e][n]&&"number"===typeof $e[e][n].compressionType?tn($e[e][n].compressionType):8}}]),e}(),an=Object.create(null),on={};function sn(e,n){if(an[e])throw new Error("Cannot create an already existing BoardInfo ".concat(e,"."));var t=Object.create(on);return n&&Object.assign(t,n),an[e]=t,t}var ln={name:"Test Info",boardDefFile:1,bgDir:1,str:{},img:{}},un=null;function cn(e){var n=e.getUint32(0),t=1213616384===(4294967040&n);if(3===n)return Ve(3,new DataView(e.buffer,8),e.getUint32(4));if(!t)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(!un){un=new ArrayBuffer(6144);for(var r=new DataView(un),a=0;a<3072;a++)r.setUint16(2*a,1)}return un}function dn(e,n,t,r,a){for(var i,o,s,l,u,c,d,A,f=n*r,h=t*a,p=new ArrayBuffer(f*h),m=new DataView(p),S=0;S<h;S++){o=S%a,l=Math.floor(S/a)*n,c=o*r,A=S*f;for(var g=0;g<f;g+=4)i=g%r,s=l+Math.floor(g/r),u=c+i,d=A+g,m.setUint32(d,e[s].getUint32(u))}return p}function An(e,n,t,r,a){for(var i,o=n*r,s=t*a,l=[],u=[],c=n*t,d=0;d<c;d++)l.push(new ArrayBuffer(r*a)),u.push(new DataView(l[d]));for(var A=0;A<s;A++){i=Math.floor(A/a)*n;for(var f=0;f<o;f++){var h=A%a*r+f%r,p=A*o+f;u[i+Math.floor(f/r)].setUint8(h,e[p])}}return l}function fn(e,n,t){for(var r=new ArrayBuffer(n*t*4),a=new Uint8Array(r),i=new DataView(e),o=0,s=0;s<n*t;s++){var l=i.getUint16(2*s);a[o]=8*((63488&l)>>>11),a[o+1]=8*((1984&l)>>>6),a[o+2]=8*((62&l)>>>1),a[o+3]=1&l?255:0,o+=4}return r}function hn(e,n,t){for(var r=new ArrayBuffer(n*t*2),a=new DataView(r),i=new Uint8Array(e),o=0,s=0;s<n*t;s++){var l=i[o]/8;l<<=11;var u=i[o+1]/8;u<<=6;var c=i[o+2]/8;c<<=1;var d=i[o+3]>>>7;a.setUint16(2*s,65535&(l|u|c|d)),o+=4}return r}var pn,mn,Sn={};Sn[v.MP1_USA]=[{upper:357926,lower:357930},{upper:380946,lower:380950},{ovl:1,upper:566,lower:574},{ovl:63,upper:2774,lower:2782},{ovl:64,upper:23038,lower:23046},{ovl:65,upper:1826,lower:1834},{ovl:66,upper:14490,lower:14498},{ovl:67,upper:15970,lower:15978},{ovl:68,upper:3606,lower:3614},{ovl:69,upper:2186,lower:2194},{ovl:70,upper:10390,lower:10398},{ovl:71,upper:2230,lower:2238},{ovl:72,upper:2714,lower:2722},{ovl:73,upper:2730,lower:2738},{ovl:74,upper:5282,lower:5290},{ovl:75,upper:4494,lower:4502},{ovl:76,upper:3774,lower:3782},{ovl:77,upper:4082,lower:4090},{ovl:78,upper:4614,lower:4622},{ovl:79,upper:3822,lower:3830},{ovl:80,upper:1270,lower:1278},{ovl:81,upper:1490,lower:1498},{ovl:82,upper:6726,lower:6734},{ovl:83,upper:2370,lower:2378},{ovl:84,upper:2914,lower:2922},{ovl:85,upper:4350,lower:4358},{ovl:86,upper:1930,lower:1938},{ovl:87,upper:6294,lower:6302},{ovl:89,upper:2218,lower:2226},{ovl:90,upper:3006,lower:3014},{ovl:91,upper:3938,lower:3946},{ovl:92,upper:866,lower:874},{ovl:93,upper:2610,lower:2618},{ovl:94,upper:6042,lower:6050},{ovl:95,upper:1570,lower:1578},{ovl:96,upper:1582,lower:1590},{ovl:97,upper:21754,lower:21762},{ovl:98,upper:11426,lower:11434},{ovl:100,upper:23142,lower:23150},{ovl:101,upper:11470,lower:11478},{ovl:119,upper:10730,lower:10738},{ovl:120,upper:10614,lower:10622},{ovl:121,upper:3582,lower:3590},{ovl:123,upper:9394,lower:9398},{ovl:124,upper:5438,lower:5446},{ovl:125,upper:4842,lower:4850},{ovl:128,upper:7834,lower:7842},{ovl:130,upper:4898,lower:4906}],Sn[v.MP1_JPN]=[{upper:357526,lower:2},{upper:379858,lower:2},{upper:870598,lower:6},{upper:2462374,lower:6},{upper:2485734,lower:6},{upper:2488530,lower:6},{upper:2604202,lower:6},{upper:2621122,lower:6},{upper:2625478,lower:6},{upper:2628346,lower:6},{upper:2639334,lower:6},{upper:2641942,lower:6},{upper:2644794,lower:6},{upper:2647770,lower:6},{upper:2653298,lower:6},{upper:2658142,lower:6},{upper:2662286,lower:6},{upper:2666690,lower:6},{upper:2671526,lower:6},{upper:2675726,lower:6},{upper:2677334,lower:6},{upper:2679090,lower:6},{upper:2685974,lower:6},{upper:2688866,lower:6},{upper:2692082,lower:6},{upper:2696782,lower:6},{upper:2699034,lower:6},{upper:2705462,lower:6},{upper:2708010,lower:6},{upper:2711338,lower:6},{upper:2715646,lower:6},{upper:2716770,lower:6},{upper:2719490,lower:6},{upper:2725790,lower:6},{upper:2727746,lower:6},{upper:2729598,lower:6},{upper:2752006,lower:6},{upper:2770646,lower:6},{upper:2844246,lower:6},{upper:2856686,lower:6},{upper:3132114,lower:6},{upper:3143158,lower:6},{upper:3147502,lower:6},{upper:3167842,lower:2},{upper:3183310,lower:6},{upper:3197802,lower:6},{upper:3226138,lower:6},{upper:3238402,lower:6}],Sn[v.MP2_USA]=[{upper:347090,lower:347098},{upper:408118,lower:408126},{upper:478570,lower:478574},{ovl:63,upper:154,lower:162},{ovl:64,upper:150,lower:158},{ovl:66,upper:154,lower:162},{ovl:68,upper:154,lower:162},{ovl:70,upper:158,lower:166},{ovl:72,upper:162,lower:170},{ovl:74,upper:154,lower:162},{ovl:77,upper:3602,lower:3610},{ovl:78,upper:174,lower:182},{ovl:79,upper:166,lower:174},{ovl:80,upper:166,lower:174},{ovl:81,upper:22522,lower:22530},{ovl:82,upper:13326,lower:13334},{ovl:83,upper:154,lower:162},{ovl:84,upper:3950,lower:3958},{ovl:85,upper:158,lower:166},{ovl:98,upper:206,lower:214},{ovl:109,upper:14818,lower:14826},{ovl:110,upper:5558,lower:5566},{ovl:112,upper:7002,lower:7010},{ovl:114,upper:30,lower:38}],Sn[v.MP3_USA]=[{ovl:129,upper:73318,lower:73326},{ovl:129,upper:153366,lower:153374},{ovl:128,upper:77898,lower:77906},{ovl:128,upper:138886,lower:138894},{ovl:79,upper:25386,lower:25394},{ovl:80,upper:14662,lower:14670},{ovl:81,upper:6754,lower:6762},{ovl:83,upper:13170,lower:13178},{ovl:84,upper:7126,lower:7134},{ovl:98,upper:20950,lower:20958},{ovl:100,upper:14346,lower:14354},{ovl:101,upper:12106,lower:12114},{ovl:110,upper:41914,lower:41918},{ovl:113,upper:5682,lower:5690},{ovl:115,upper:298,lower:306},{ovl:116,upper:1374,lower:1382},{ovl:122,upper:10058,lower:10066},{ovl:124,upper:30842,lower:30846},{ovl:125,upper:6382,lower:6390},{ovl:125,upper:10422,lower:10430}];var gn={getROMOffset:function(){var e=this.getPatchOffsets();if(!e)return null;var n=e[0];if(!n)return null;var t,r,a=n.upper,i=n.lower;if("number"===typeof n.ovl){var o=ve.getDataView(n.ovl);t=o.getUint16(a),r=o.getUint16(i)}else{var s=Ry.getDataView();t=s.getUint16(a),r=s.getUint16(i)}var l=(0,en.NC)(t,r);if(G())for(var u=1;u<e.length;u++){var c=e[u],d=c.upper,A=c.lower,f=void 0,h=void 0;if("number"===typeof c.ovl){var p=ve.getDataView(c.ovl);f=p.getUint16(d),h=p.getUint16(A)}else{var m=Ry.getDataView();f=m.getUint16(d),h=m.getUint16(A)}if(f!==t||h!==r)throw new Error("HVQFS.getROMOffset patch offset ".concat(u," seems wrong:\n          offset: ").concat(W(l)," vs ").concat(W(f>>>16)+W(h,""),"\n          reading upper: ").concat(W(d),", lower: ").concat(W(A)))}return l},setROMOffset:function(e,n){H("HVQFS.setROMOffset(".concat(W(e),")"));for(var t=this.getPatchOffsets(),r=(0,en.iu)(e),a=(0,xe.Z)(r,2),i=a[0],o=a[1],s=0;s<t.length;s++){var l=t[s],u=l.upper,c=l.lower;if("number"===typeof l.ovl){var d=ve.getDataView(l.ovl);d.setUint16(u,i),d.setUint16(c,o)}else{var A=new DataView(n);A.setUint16(u,i),A.setUint16(c,o)}}H("HVQFS.setROMOffset -> ".concat(W(i<<16|o)))},getPatchOffsets:function(){var e=Sn[Ry.getROMGame()];return e?e.map((function(e){return e.lower<10&&!e.ovl?{upper:e.upper,lower:e.upper+2+e.lower}:{upper:e.upper,lower:e.lower,ovl:e.ovl}})):null},get:function(e,n){return pn[e][n]},read:function(e,n){var t=Ry.getROMBuffer(),r=this.getROMOffset(),a=r+new DataView(t,r).getUint32(4*(1+e)),i=new DataView(t,a),o=a+i.getUint32(4*(1+n)),s=a+i.getUint32(4*(1+n+1));return t.slice(o,s)},write:function(e,n,t){pn[e][n]=t.slice(0)},clearCache:function(){pn=null,mn=null},extract:function(){var e,n;G()&&window.performance&&(e=performance.now());var t=this.getDirectoryCount();pn=new Array(t),mn=new Array(t);for(var r=0;r<t;r++){var a=this.getHVQFileCount(r);pn[r]=new Array(a);for(var i=0;i<a;i++)pn[r][i]=this.read(r,i);this._readMetadata(r)}return G()&&e&&(n=performance.now(),H("HVQFS.extract() -> ".concat(n-e,"ms"))),pn},extractAsync:function(){var e=this;return new Promise((function(n,t){e.extract(),n()}))},pack:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=new DataView(e,n),r=this.getDirectoryCount();t.setUint32(0,r+1);for(var a=4,i=4+4*(r+1),o=0;o<r;o++)t.setUint32(a,i),a+=4,i=Te(i=this._writeBg(o,t,i),4);return t.setUint32(a,i),i},_writeBg:function(e,n,t){var r=this.getHVQFileCount(e);n.setUint32(t,r+1),this._writeMetadata(e);for(var a=t+4,i=t+4+4*(r+1),o=0;o<r;o++)n.setUint32(a,i-t),a+=4,i=Te(i=this._writeFile(e,o,n,i),4);return n.setUint32(a,i-t),i},_writeFile:function(e,n,t,r){var a=pn[e][n];return q(t,a,r,0,a.byteLength),r+a.byteLength},_readMetadata:function(e){var n=new DataView(pn[e][0],0),t={tileWidth:n.getUint32(0),tileHeight:n.getUint32(4),tileCountX:n.getUint32(8),tileCountY:n.getUint32(12),fov:n.getFloat32(16),scaleFactor:n.getFloat32(20),cameraEyePosX:n.getFloat32(24),cameraEyePosZ:n.getFloat32(28),cameraEyePosY:n.getFloat32(32),lookatPointX:n.getFloat32(36),lookatPointZ:n.getFloat32(40),lookatPointY:n.getFloat32(44),cameraUpVecX:n.getFloat32(48),cameraUpVecZ:n.getFloat32(52),cameraUpVecY:n.getFloat32(56)};this._setMetadata(e,t)},_writeMetadata:function(e){var n=new DataView(pn[e][0],0),t=this.getMetadata(e);n.setUint32(0,t.tileWidth),n.setUint32(4,t.tileHeight),n.setUint32(8,t.tileCountX),n.setUint32(12,t.tileCountY),n.setFloat32(16,t.fov),n.setFloat32(20,t.scaleFactor),n.setFloat32(24,t.cameraEyePosX),n.setFloat32(28,t.cameraEyePosZ),n.setFloat32(32,t.cameraEyePosY),n.setFloat32(36,t.lookatPointX),n.setFloat32(40,t.lookatPointZ),n.setFloat32(44,t.lookatPointY),n.setFloat32(48,t.cameraUpVecX),n.setFloat32(52,t.cameraUpVecZ),n.setFloat32(56,t.cameraUpVecY)},_getBgDimensions:function(e){var n=mn[e];return[n.tileWidth*n.tileCountX,n.tileHeight*n.tileCountY]},getMetadata:function(e){return mn[e]},_setMetadata:function(e,n){mn[e]=n},updateMetadata:function(e,n){var t=this.getMetadata(e);"tileWidth"in n&&(t.tileWidth=n.tileWidth),"tileHeight"in n&&(t.tileHeight=n.tileHeight),"tileCountX"in n&&(t.tileCountX=n.tileCountX),"tileCountY"in n&&(t.tileCountY=n.tileCountY),"fov"in n&&(t.fov=n.fov),"scaleFactor"in n&&(t.scaleFactor=n.scaleFactor),"cameraEyePosX"in n&&(t.cameraEyePosX=n.cameraEyePosX),"cameraEyePosZ"in n&&(t.cameraEyePosZ=n.cameraEyePosZ),"cameraEyePosY"in n&&(t.cameraEyePosY=n.cameraEyePosY),"lookatPointX"in n&&(t.lookatPointX=n.lookatPointX),"lookatPointZ"in n&&(t.lookatPointZ=n.lookatPointZ),"lookatPointY"in n&&(t.lookatPointY=n.lookatPointY),"cameraUpVecX"in n&&(t.cameraUpVecX=n.cameraUpVecX),"cameraUpVecZ"in n&&(t.cameraUpVecZ=n.cameraUpVecZ),"cameraUpVecY"in n&&(t.cameraUpVecY=n.cameraUpVecY),this._setMetadata(e,t)},readBackgroundImgData:function(e){var n=pn[e].length-1,t=this.getMetadata(e),r=t.tileWidth,a=t.tileHeight,i=t.tileCountX,o=t.tileCountY,s=r*i,l=a*o;H("HVQFS.readBackground, dir: ".concat(e,", tiles: ").concat(n,", board is ").concat(s,"x").concat(l));for(var u=[],c=1===Ry.getGameVersion()?1:2;c<pn[e].length;c++)u.push(new DataView(pn[e][c]));for(var d=u.map(cn).map((function(e){return new DataView(e)})),A=[],f=o-1;f>=0;f--)for(var h=0;h<i;h++)A.push(d[f*i+h]);for(var p=fn(dn(A,i,o,2*r,a),s,l),m=new Uint8Array(p),S=N(s,l).createImageData(s,l),g=0;g<m.byteLength;g++)S.data[g]=m[g];return S},readBackground:function(e){var n=this.getMetadata(e),t=this._getBgDimensions(e),r=(0,xe.Z)(t,2),a=r[0],i=r[1],o=N(a,i),s=this.readBackgroundImgData(e);return o.putImageData(s,0,0),Object.assign({},n,{width:a,height:i,src:o.canvas.toDataURL()})},writeBackground:function(e,n,t,r,a){var i=t/64,o=r/48,s=i*o;H("HVQFS.writeBackground, dir: ".concat(e,", img is ").concat(t,"x").concat(r));for(var l=An(n.data,i,o,256,48).map((function(e){return hn(e,64,48)})).map((function(e){return function(e,n,t){var r=Ry.getGameVersion();if(null===r)throw new Error("HVQ encode not implemented");if(r>1){var a=Ce(3,new DataView(e)),i=new ArrayBuffer(a.byteLength+8),o=new DataView(i);return o.setUint32(0,3),o.setUint32(4,e.byteLength),q(o,a,8,0,a.byteLength),i}return e}(e)})),u=[],c=o-1;c>=0;c--)for(var d=0;d<i;d++)u.push(l[c*i+d]);var A=Ry.getGameVersion();if(!pn[e]){if(!a)throw new Error("Cannot write a new HVQ background without metadata");pn[e]=[],A>1?(pn[e][0]=pn[3][0],pn[e][1]=pn[3][1]):pn[e][0]=pn[0][0],this._readMetadata(e)}if(a&&this.updateMetadata(e,a),1===A)for(var f=1;f<=s;f++)pn[e][f]=u[f-1];else for(var h=2;h<=s+1;h++)pn[e][h]=u[h-2]},getDirectoryCount:function(){if(pn)return pn.length;var e=Ry.getROMBuffer(),n=this.getROMOffset();return null===n?0:new DataView(e,n).getUint32(0)-1},getHVQFileCount:function(e){if(pn&&pn[e])return pn[e].length;var n=Ry.getROMBuffer(),t=this.getROMOffset();if(null===t)return 0;var r=t+new DataView(n,t).getUint32(4*(1+e));return new DataView(n,r).getUint32(0)-1},getByteLength:function(){var e=0,n=pn.length;e+=4,e+=4*(n+1);for(var t=0;t<n;t++){var r=pn[t].length;e+=4,e+=4*(r+1);for(var a=0;a<r;a++)e=Te(e+=pn[t][a].byteLength,4)}return e}};function vn(e,n,t,r){var a=e;a instanceof DataView||(a=new DataView(a));for(var i,o=a.byteLength*(r/t),s=new ArrayBuffer(o),l=new DataView(s),u=0,c=0,d=r/8,A="setUint"+r;c<o;)if(8===t)i=a.getUint8(u),l[A](c,_n(n,i)),u+=1,c+=d;else if(4===t)i=(240&a.getUint8(u))>>4,l[A](c,_n(n,i)),c+=d,i=15&a.getUint8(u),l[A](c,_n(n,i)),c+=d,u+=1;else{if(2!==t)throw new Error("Cannot decode palette with bpp: ".concat(t));i=(192&a.getUint8(u))>>6,l[A](c,_n(n,i)),c+=d,i=(48&a.getUint8(u))>>4,l[A](c,_n(n,i)),c+=d,i=(12&a.getUint8(u))>>2,l[A](c,_n(n,i)),c+=d,i=3&a.getUint8(u),l[A](c,_n(n,i)),c+=d,u+=1}return s}function xn(e,n,t){var r=e;r instanceof DataView||(r=new DataView(r));for(var a={colors:[],bpp:n},i={},o=n/8,s="getUint"+n,l=0;l<e.byteLength;){var u=r[s](l);i.hasOwnProperty(u.toString(16))?l+=o:(i[u.toString(16)]=a.colors.length,a.colors.push(u),l+=o)}var c=new ArrayBuffer(e.byteLength/o*(t/8)),d=new DataView(c),A="setUint"+t,f=0;for(l=0;f<c.byteLength;){if(8!==t)throw new Error("Cannot encode palette with bpp: ".concat(t));var h=i[r[s](l).toString(16)];d[A](f,h),l+=o,f++}return[c,a]}function _n(e,n){if(n>=e.length)throw new Error("Invalid palette access (index ".concat(n," of palette length ").concat(e.length,")"));return e[n]}function yn(e,n,t,r){for(var a=new ArrayBuffer(n*t*4),i=new Uint8Array(a),o=new DataView(e),s=0,l=0;l<n*t;l++){var u;if(8===r)u=o.getUint8(l);else{if(4!==r)throw new Error("bpp must be 4 or 8");u=o.getUint8(l/2)&(l%2?15:240),l%2===0&&(u>>=4,u&=15),u=u/15*255}i[s]=u,i[s+1]=u,i[s+2]=u,i[s+3]=255,s+=4}return a}function wn(e){var n=new DataView(e),t=n.getUint32(0),r=n.getUint32(12),a=n.getUint16(16),i=n.getUint8(25),o=r!==n.byteLength,s=[];if(o)for(;r!==n.byteLength;)s.push(n.getUint16(r)),r+=2;for(var l=[],u=t,c=new DataView(e,u),d=0;d<a;d++){var A=c.getUint32(0),f=c.getUint16(4),h=c.getUint16(6),p=void 0;p=i>=8?i*f*h/8:f*h/(8/i);var m=e.slice(A,A+p);o&&(m=vn(m,s,i,16));var S={width:f,height:h};32===i?S.src=m:16===i||o?S.src=fn(m,f,h):4!==i&&8!==i||(S.src=yn(m,f,h,i)),l.push(S),u+=12,c=new DataView(e,u)}return l}function bn(e,n,t,r){var a,i,o=function(e,n){for(var t=32,r=0;r<e.length;r++)t+=12,e[r].bpp===n?t+=e[r].src.byteLength:32===e[r].bpp&&16===n&&(t+=e[r].src.byteLength/2);return t}(e,n);if(t){var s=xn(e[0].src,e[0].bpp,8),l=(0,xe.Z)(s,2);a=l[0],i=l[1],e[0]._bmpData=a,o+=i.colors.length*(n/t),o-=e[0].src.byteLength-a.byteLength}var u,c=new ArrayBuffer(o),d=new DataView(c);r&&(u=new DataView(r)),d.setUint32(0,32),d.setUint32(4,44),d.setUint32(8,44),i?d.setUint32(12,o-i.colors.length*(n/t)):d.setUint32(12,o),d.setUint16(16,e.length),d.setUint16(18,0);for(var A=0,f=0,h=0;h<e.length;h++)A+=e[h].width,f+=e[h].height;if(d.setUint16(20,A),d.setUint16(22,f),u?d.setUint8(24,u.getUint8(24)):d.setUint8(24,0),d.setUint8(25,t||n),i){d.setUint8(26,i.colors.length);for(var p=o-i.colors.length*(n/t),m=0;m<i.colors.length;m++)d.setUint16(p+2*m,i.colors[m])}for(var S=32,g=0;g<e.length;g++)S=Vn(d,S,e[g],n,u);return c}function Vn(e,n,t,r,a){var i;if(e.setUint32(n,n+12),e.setUint16(n+=4,t.width),e.setUint16(n+=2,t.height),a?(e.setUint32(n+=2,a.getUint32(n)),n+=4):(e.setUint16(n+=2,t.width/2),e.setUint16(n+=2,t.height/2),n+=2),t._bmpData)i=new DataView(t._bmpData);else if(t.bpp===r)i=new DataView(t.src);else{if(32!==t.bpp||16!==r)throw new Error("Cannot create ImgPack (yet) with inBpp=".concat(t.bpp," and outBpp=").concat(r,"."));var o=hn(t.src,t.width,t.height);i=new DataView(o)}return q(e,i,n,0,i.byteLength),n+i.byteLength}var Cn=sn("MP1_USA_DK",{name:"DK's Jungle Adventure",canOverwrite:!0,boardDefFile:69,bgDir:0,pauseBgDir:4,sceneIndex:54,mainfsEventFile:[10,422],mainfsBoardFile:[10,423],koopaSpaceInst:3412,bowserSpaceInst:3256,boosLoopFnOffset:4568,boosReadbackFnOffset:4304,starSpaceArrOffset:13088,starSpaceCount:7,toadSpaceArrOffset:[13104,13128],audioIndexOffset:3006,str:{boardSelect:652,koopaIntro:571,starComments:[286,287,288,289,290,291,292]},img:{boardSelectImg:17,pauseLogoImg:276,introLogoImg:[356,357],introLogoImgDimens:[272,112],titleScreenImg:385},onLoad:function(e){e.otherbg.largescene=gn.readBackground(Cn.bgDir+1).src,e.otherbg.conversation=gn.readBackground(Cn.bgDir+2).src,e.otherbg.splashscreen=gn.readBackground(Cn.bgDir+6).src},onAfterOverwrite:function(){var e=ve.getDataView(98);e.setUint32(28824,3313106944),e.setUint32(28828,0),e.setUint32(28832,0);var n=[];(n=n.concat(j_._strToBytes("You're looking for Stars?\nHow about this instead..."))).push(255),n.push(0);var t=Y(n);j_.write(396,t),j_.write(399,t),j_.write(402,t)}}),En=sn("MP1_USA_PEACH",{name:"Peach's Birthday Cake",canOverwrite:!0,boardDefFile:70,bgDir:7,pauseBgDir:14,str:{boardSelect:653,koopaIntro:572},img:{boardSelectImg:20,pauseLogoImg:277,introLogoImg:[359],introLogoImgDimens:[284,126],titleScreenImg:382},sceneIndex:55,mainfsEventFile:[10,424],mainfsBoardFile:[10,425],eventASMStart:0,koopaSpaceInst:1984,bowserSpaceInst:2440,goombaSpaceInst:2304,onLoad:function(e){e.otherbg.largescene=gn.readBackground(En.bgDir+1).src,e.otherbg.conversation=gn.readBackground(En.bgDir+2).src,e.otherbg.splashscreen=gn.readBackground(En.bgDir+10).src},onAfterOverwrite:function(e){var n=rn.get(10,360),t=bn([{src:new ArrayBuffer(5e4),width:250,height:50,bpp:32}],16,0,n);rn.write(10,360,t)}}),Dn=sn("MP1_USA_YOSHI",{name:"Yoshi's Tropical Island",canOverwrite:!0,boardDefFile:71,bgDir:18,pauseBgDir:25,str:{boardSelect:654,koopaIntro:573},img:{boardSelectImg:18,pauseLogoImg:278,introLogoImg:[362],introLogoImgDimens:[270,120],titleScreenImg:383},sceneIndex:56,mainfsEventFile:[10,426],mainfsBoardFile:[10,427],onLoad:function(e){e.otherbg.largescene=gn.readBackground(Dn.bgDir+1).src,e.otherbg.conversation=gn.readBackground(Dn.bgDir+2).src,e.otherbg.splashscreen=gn.readBackground(Dn.bgDir+8).src},onAfterOverwrite:function(e){var n=rn.get(10,363),t=bn([{src:new ArrayBuffer(33280),width:208,height:40,bpp:32}],16,0,n);rn.write(10,363,t)}}),Fn=sn("MP1_USA_WARIO",{name:"Wario's Battle Canyon",canOverwrite:!0,boardDefFile:72,bgDir:27,pauseBgDir:36,str:{boardSelect:655,koopaIntro:574},img:{boardSelectImg:19,pauseLogoImg:279,introLogoImg:[365],introLogoImgDimens:[290,114],titleScreenImg:384},sceneIndex:57,mainfsEventFile:[10,428],mainfsBoardFile:[10,429],koopaSpaceInst:3792,bowserSpaceInst:3496,boosLoopFnOffset:4508,boosReadbackFnOffset:4244,starSpaceArrOffset:12864,starSpaceCount:7,toadSpaceArrOffset:[12880,12912],onLoad:function(e){e.otherbg.largescene=gn.readBackground(Fn.bgDir+1).src,e.otherbg.conversation=gn.readBackground(Fn.bgDir+2).src,e.otherbg.splashscreen=gn.readBackground(Fn.bgDir+11).src},onAfterOverwrite:function(e){var n=rn.get(10,366),t=bn([{src:new ArrayBuffer(85120),width:280,height:76,bpp:32}],16,0,n);rn.write(10,366,t)}}),Tn=sn("MP1_USA_LUIGI");Tn.name="Luigi's Engine Room",Tn.boardDefFile=73,Tn.bgDir=39,Tn.str={boardSelect:656,koopaIntro:575},Tn.img={boardSelectImg:21,pauseLogoImg:280,introLogoImg:[368],introLogoImgDimens:[276,128],titleScreenImg:381},Tn.sceneIndex=58,Tn.eventASMStart=0,Tn.starSpaceArrOffset=12128,Tn.starSpaceCount=7,Tn.toadSpaceArrOffset=[12144,12276];var Pn=sn("MP1_USA_MARIO");Pn.name="Mario's Rainbow Castle",Pn.boardDefFile=74,Pn.bgDir=47,Pn.str={boardSelect:657,koopaIntro:576},Pn.img={boardSelectImg:22,pauseLogoImg:281,introLogoImg:[371],introLogoImgDimens:[270,96],titleScreenImg:380},Pn.sceneIndex=59,Pn.eventASMStart=0;var Rn=sn("MP1_USA_BOWSER");Rn.name="Bowser's Magma Mountain",Rn.boardDefFile=75,Rn.bgDir=56,Rn.str={boardSelect:658,koopaIntro:577},Rn.img={boardSelectImg:23,pauseLogoImg:282,introLogoImg:[374],introLogoImgDimens:[270,106]},Rn.sceneIndex=60,Rn.eventASMStart=0,Rn.starSpaceArrOffset=8856,Rn.starSpaceCount=7,Rn.toadSpaceArrOffset=[8872,8904];var Ln=sn("MP1_USA_ETERNALSTAR");Ln.name="Eternal Star",Ln.boardDefFile=76,Ln.bgDir=68,Ln.str={boardSelect:[659,660],koopaIntro:578},Ln.img={boardSelectImg:24,pauseLogoImg:283,introLogoImg:[378]},Ln.sceneIndex=61,Ln.eventASMStart=0,Ln.bowserSpaceInst=3548,Ln.starSpaceArrOffset=9712,Ln.starSpaceCount=7,Ln.toadSpaceArrOffset=9728;var Mn=sn("MP1_USA_TRAINING");Mn.name="Training",Mn.boardDefFile=77,Mn.bgDir=77,Mn.str={},Mn.img={},Mn.sceneIndex=62,Mn.eventASMStart=0,Mn.bowserSpaceInst=812,Mn.toadSpaceInst=364,Mn.koopaSpaceInst=500,Mn.booSpaceInst=676;var Bn=sn("MP1_USA_STADIUM");Bn.name="Mini-Game Stadium",Bn.boardDefFile=83,Bn.bgDir=99,Bn.str={},Bn.img={};var kn=sn("MP1_USA_ISLAND");kn.name="Mini-Game Island",kn.boardDefFile=78,kn.bgDir=79,kn.str={},kn.img={},kn.sceneIndex=114,kn.eventASMStart=0;var In=sn("MP1_JPN_DK");In.name="DK's Jungle Adventure",In.boardDefFile=69,In.bgDir=0,In.str={boardSelect:652,koopaIntro:571,starComments:[286,287,288,289,290,291,292]},In.img={boardSelectImg:17,pauseLogoImg:276,introLogoImg:[356,357],titleScreenImg:385},In.eventASMStart=0,In.eventASMEnd=0;var On=sn("MP2_WESTERN",{name:"Western Land",canOverwrite:!0,boardDefFile:64,bgDir:2,animBgSet:0,costumeType:S.WESTERN,str:{boardSelect:197,boardNames:[190,210],boardGreeting:[1248,1249],boardWinner:707,boardPlayCount:1327},img:{introLogoImg:406,pauseLogoImg:380,boardSelectImg:30,boardSelectIconCoords:[39,20],boardSelectIconMask:20},mainfsEventFile:[10,682],mainfsBoardFile:[10,683],sceneIndex:62,eventASMStart:54096,eventASMEnd:60132,spaceEventTables:[{upper:13292,lower:13300},{upper:13304,lower:13312,primary:!0},{upper:13316,lower:13324}],starSpaceArrOffset:[61828,61940],starSpaceCount:7,toadSpaceArrOffset:[61844,62020],bankArrOffset:[62344],bankCoinArrOffset:[62060],bankCount:2,itemShopArrOffset:[62348],itemShopCount:1,booArrOffset:[62056],booCount:2,audioIndexOffset:13226,onLoad:function(e){e.otherbg.largescene=gn.readBackground(On.bgDir+2).src},onAfterOverwrite:function(e){ve.getDataView(82).setUint16(11790,81);var n=[];n.push(11),(n=n.concat(j_._strToBytes("Don't listen to Toad!"))).push(10),(n=n.concat(j_._strToBytes("I've got the results. Follow me!"))).push(0),j_.write(697,Y(n));var t=rn.get(10,410),r=[{src:new ArrayBuffer(73728),width:144,height:128,bpp:32}],a=bn(r,16,0,t);rn.write(10,410,a),t=rn.get(10,411),a=bn(r=[{src:new ArrayBuffer(2048),width:32,height:16,bpp:32}],16,0,t),rn.write(10,411,a),t=rn.get(10,412),a=bn(r=[{src:new ArrayBuffer(16384),width:64,height:64,bpp:32}],16,0,t),rn.write(10,412,a);var i=rn.get(10,394),o=new DataView(i);o.setUint16(508,0),o.setUint16(4358,0),rn.write(10,394,i),i=rn.get(10,395),(o=new DataView(i)).setUint16(516,0),o.setUint16(1558,0),rn.write(10,395,i)}}),Nn=sn("MP2_PIRATE");Nn.name="Pirate Land",Nn.boardDefFile=65,Nn.bgDir=10,Nn.animBgSet=1,Nn.costumeType=S.PIRATE,Nn.str={boardSelect:198},Nn.img={introLogoImg:422,pauseLogoImg:381,boardSelectImg:31,boardSelectIconCoords:[35,61]},Nn.arrowRotStartOffset=0,Nn.arrowRotEndOffset=0;var jn=sn("MP2_HORROR");jn.name="Horror Land",jn.boardDefFile=66,jn.bgDir=21,jn.animBgSet=2,jn.costumeType=S.HORROR,jn.str={boardSelect:201},jn.img={introLogoImg:581,pauseLogoImg:382,boardSelectImg:32,boardSelectIconCoords:[133,60]},jn.sceneIndex=67,jn.eventASMStart=0,jn.eventASMEnd=0,jn.spaceEventTables=[{upper:14420,lower:14428},{upper:14432,lower:14440},{upper:14488,lower:14496},{upper:14500,lower:14504}];var Un=sn("MP2_SPACE");Un.name="Space Land",Un.boardDefFile=67,Un.bgDir=24,Un.animBgSet=3,Un.costumeType=S.SPACE,Un.str={boardSelect:199,boardNames:[193,212]},Un.img={introLogoImg:500,pauseLogoImg:383,boardSelectImg:33,boardSelectIconCoords:[93,10]};var Gn=sn("MP2_MYSTERY");Gn.name="Mystery Land",Gn.boardDefFile=68,Gn.bgDir=16,Gn.costumeType=S.MYSTERY,Gn.str={boardSelect:200},Gn.img={introLogoImg:502,pauseLogoImg:384,boardSelectImg:34,boardSelectIconCoords:[139,19]};var zn=sn("MP2_BOWSER");zn.name="Bowser Land",zn.boardDefFile=69,zn.bgDir=37,zn.animBgSet=4,zn.costumeType=S.NORMAL,zn.str={boardSelect:202},zn.img={introLogoImg:547,pauseLogoImg:385,boardSelectImg:35};var Hn=sn("MP3_CHILLY",{name:"Chilly Waters",canOverwrite:!0,boardDefFile:570,bgDir:3,pauseBgDir:5,str:{boardSelect:[[21,30],[26,17]],boardGreeting:[24,12],boardGreetingDuel:[24,0],boardNames:[[49,39],[83,43]]},img:{boardSelectImg:72,splashLogoImg:22,splashLogoTextImg:28,pauseLogoImg:125,gateImg:354},sceneIndex:72,mainfsEventFile:[19,618],mainfsBoardFile:[19,619],eventASMStart:84720,eventASMEnd:93164,spaceEventTables:[{upper:9896,lower:9904},{upper:9908,lower:9916},{upper:9932,lower:9940}],starSpaceArrOffset:[96528,96640],starSpaceCount:8,toadSpaceArrOffset:[96544,96732],bankArrOffset:[97124],bankCoinArrOffset:[96768],bankCount:2,itemShopArrOffset:[97128],itemShopCount:2,booArrOffset:[96764],booCount:1,gateNeighborsOffset:[96724],gateArrOffset:[96892],gateCount:2,arrowRotStartOffset:9112,arrowRotEndOffset:9280,audioIndexOffset:9858,onLoad:function(e){e.otherbg.largescene=gn.readBackground(Hn.bgDir+1).src}}),Wn=sn("MP3_BLOOBER",{name:"Deep Bloober Sea",canOverwrite:!0,boardDefFile:571,bgDir:6,pauseBgDir:8,str:{boardSelect:[[21,31],[26,18]],boardGreeting:[24,13],boardGreetingDuel:[24,2],boardNames:[[49,40],[83,44]]},img:{boardSelectImg:73,splashLogoImg:23,splashLogoTextImg:29,pauseLogoImg:126,gateImg:359},sceneIndex:73,mainfsEventFile:[19,620],mainfsBoardFile:[19,621],onLoad:function(e){e.otherbg.largescene=gn.readBackground(Wn.bgDir+1).src}}),Xn=sn("MP3_SPINY",{name:"Spiny Desert",canOverwrite:!0,boardDefFile:572,bgDir:9,pauseBgDir:11,str:{boardSelect:[[21,32],[26,19]],boardGreeting:[24,14],boardGreetingDuel:[24,4],boardNames:[[49,41],[83,45]]},img:{boardSelectImg:74,splashLogoImg:24,splashLogoTextImg:30,pauseLogoImg:127,gateImg:366},sceneIndex:74,mainfsEventFile:[19,622],mainfsBoardFile:[19,623],onLoad:function(e){e.otherbg.largescene=gn.readBackground(Xn.bgDir+1).src}}),Kn=sn("MP3_WOODY",{name:"Woody Woods",canOverwrite:!0,boardDefFile:573,bgDir:12,pauseBgDir:14,str:{boardSelect:[[21,33],[26,20]],boardGreeting:[24,15],boardGreetingDuel:[24,6],boardNames:[[49,42],[83,46]]},img:{boardSelectImg:75,splashLogoImg:25,splashLogoTextImg:31,pauseLogoImg:128,gateImg:373},sceneIndex:75,mainfsEventFile:[19,624],mainfsBoardFile:[19,625],onLoad:function(e){e.otherbg.largescene=gn.readBackground(Kn.bgDir+1).src}}),qn=sn("MP3_CAVERN",{name:"Creepy Cavern",canOverwrite:!0,boardDefFile:574,bgDir:15,pauseBgDir:17,str:{boardSelect:[[21,34],[26,21]],boardGreeting:[24,16],boardGreetingDuel:[24,8],boardNames:[[49,43],[83,47]]},img:{boardSelectImg:76,splashLogoImg:26,splashLogoTextImg:32,pauseLogoImg:129,gateImg:383},sceneIndex:76,mainfsEventFile:[19,626],mainfsBoardFile:[19,627],onLoad:function(e){e.otherbg.largescene=gn.readBackground(qn.bgDir+1).src}}),Yn=sn("MP3_WALUIGI",{name:"Waluigi's Land",canOverwrite:!0,boardDefFile:575,bgDir:18,pauseBgDir:20,str:{boardSelect:[[21,35],[26,22]],boardGreeting:[24,17],boardGreetingDuel:[24,10],boardNames:[[49,44],[83,48]]},img:{boardSelectImg:77,splashLogoImg:27,splashLogoTextImg:33,pauseLogoImg:130,gateImg:387},sceneIndex:77,mainfsEventFile:[19,628],mainfsBoardFile:[19,629],onLoad:function(e){e.otherbg.largescene=gn.readBackground(Yn.bgDir+1).src}}),Qn=sn("MP3U_GATEGUY");Qn.name="Gate Guy",Qn.type=m.DUEL,Qn.boardDefFile=577,Qn.bgDir=24,Qn.img={boardSelectImg:81,splashLogoImg:34,splashLogoTextImg:40,miniMapWithBg:279,miniMapDots:280},Qn.sceneIndex=91,Qn.spaceEventTables=[{upper:33052,lower:33060},{upper:33064,lower:33072}],Qn.onAfterOverwrite=function(e){};var Jn=sn("MP3U_ARROWHEAD");Jn.name="Arrowhead",Jn.type=m.DUEL,Jn.boardDefFile=578,Jn.bgDir=25,Jn.img={boardSelectImg:82,splashLogoImg:35,splashLogoTextImg:41,miniMapWithBg:310,miniMapDots:311};var Zn=sn("MP3U_PIPESQUEAK");Zn.name="Pipesqueak",Zn.type=m.DUEL,Zn.boardDefFile=579,Zn.bgDir=26,Zn.img={boardSelectImg:83,splashLogoImg:36,splashLogoTextImg:42,miniMapWithBg:312,miniMapDots:313};var $n=sn("MP3U_BLOWHARD");$n.name="Blowhard",$n.type=m.DUEL,$n.boardDefFile=580,$n.bgDir=27,$n.img={boardSelectImg:84,splashLogoImg:37,splashLogoTextImg:43,miniMapWithBg:315,miniMapDots:316};var et=sn("MP3U_MRMOVER");et.name="Mr. Mover",et.type=m.DUEL,et.boardDefFile=581,et.bgDir=28,et.img={boardSelectImg:85,splashLogoImg:38,splashLogoTextImg:44,miniMapWithBg:317,miniMapDots:318};var nt=sn("MP3U_BACKTRACK");function tt(e){switch(e){case v.MP1_USA:return[Cn,En,Dn,Fn,Tn,Pn,Rn,Ln,Mn,kn,Bn];case v.MP1_JPN:return[In];case v.MP2_USA:return[On,Nn,jn,Un,Gn,zn];case v.MP3_USA:return[Hn,Wn,Xn,Kn,qn,Yn,Qn,Jn,Zn,$n,et,nt]}return H("Missing boardinfo for "+e),null}nt.name="Backtrack",nt.type=m.DUEL,nt.boardDefFile=582,nt.bgDir=29,nt.img={boardSelectImg:86,splashLogoImg:39,splashLogoTextImg:45,miniMapWithBg:319,miniMapDots:320};var rt,at=function(){function e(n,t,a){r(this,e),this.__type="ALEnv",this.__smallVolumes=void 0,this.attackTime=void 0,this.decayTime=void 0,this.releaseTime=void 0,this.attackVolume=void 0,this.decayVolume=void 0,this.zeroPad=void 0,this.__smallVolumes=a,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){this.attackTime=e.getInt32(n),this.decayTime=e.getInt32(n+4),this.releaseTime=e.getInt32(n+8),this.__smallVolumes?(this.attackVolume=e.getUint8(n+12),this.decayVolume=e.getUint8(n+13)):(this.attackVolume=e.getInt16(n+12),this.decayVolume=e.getInt16(n+14))}}]),e}(),it=function(){function e(n,t){r(this,e),this.__type="ALKey",this.velocityMin=void 0,this.velocityMax=void 0,this.keyMin=void 0,this.keyMax=void 0,this.keyBase=void 0,this.detune=void 0,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){this.velocityMin=e.getUint8(n),this.velocityMax=e.getUint8(n+1),this.keyMin=e.getUint8(n+2),this.keyMax=e.getUint8(n+3),this.keyBase=e.getUint8(n+4),this.detune=e.getInt8(n+5)}}]),e}(),ot=function(){function e(n,t){r(this,e),this.__type="ALADPCMLoop",this.start=void 0,this.end=void 0,this.count=void 0,this.state=void 0,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){this.start=e.getUint32(n),this.end=e.getUint32(n+4),this.count=e.getUint32(n+8),this.state=[];for(var t=0;t<16;t++)this.state[t]=e.getUint16(n+12+2*t)}}]),e}(),st=function(){function e(n,t){r(this,e),this.__type="ALADPCMBook",this.order=void 0,this.npredictors=void 0,this.predictors=void 0,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){this.order=e.getInt32(n),this.npredictors=e.getInt32(n+4);var t=this.order*this.npredictors*8;this.predictors=new Array(t);for(var r=0;r<t;r++)this.predictors[r]=e.getInt16(n+8+2*r)}}]),e}(),lt=function(){function e(n,t){r(this,e),this.__type="ALADPCMWaveInfo",this.loop=null,this.book=null,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){var t=e.getUint32(n);0!==t&&(this.loop=new ot(e,t));var r=e.getUint32(n+4);0!==r&&(this.book=new st(e,r))}}]),e}(),ut=function(){function e(n,t){r(this,e),this.__type="ALRAWWaveInfo",this.start=void 0,this.end=void 0,this.count=void 0,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){this.start=e.getUint32(n),this.end=e.getUint32(n+4),this.count=e.getUint32(n+8)}}]),e}(),ct=function(){function e(n,t){r(this,e),this.__type="ALRAWWaveInfo",this.loop=null,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){var t=e.getUint32(n);0!==t&&(this.loop=new ut(e,n+t))}}]),e}();!function(e){e[e.AL_ADPCM_WAVE=0]="AL_ADPCM_WAVE",e[e.AL_RAW16_WAVE=1]="AL_RAW16_WAVE",e[e.AL_VOX_WAVE=2]="AL_VOX_WAVE",e[e.AL_MUSYX_WAVE=3]="AL_MUSYX_WAVE"}(rt||(rt={}));var dt,At,ft,ht=function(){function e(n,t){r(this,e),this.__type="ALWave",this.waveBase=void 0,this.waveLen=void 0,this.type=void 0,this.flags=void 0,this.zeroes=void 0,this.loopOffset=void 0,this.predictorOffset=void 0,this.adpcmWave=void 0,this.rawWave=void 0,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){if(this.waveBase=e.getUint32(n),this.waveLen=e.getUint32(n+4),this.type=e.getUint8(n+8),this.flags=e.getUint8(n+9),this.type===rt.AL_ADPCM_WAVE)this.adpcmWave=new lt(e,n+12);else{if(this.type!==rt.AL_RAW16_WAVE)throw new Error("Unrecognized ALWaveTable type ".concat(this.type));this.rawWave=new ct(e,n+12)}}}]),e}(),pt=function(){function e(n,t){r(this,e),this.__type="ALSound",this.env=void 0,this.keymap=void 0,this.wave=void 0,this.samplePan=void 0,this.sampleVolume=void 0,this.flags=void 0,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){var t=e.getUint32(n);this.env=new at(e,t);var r=e.getUint32(n+4);this.keymap=new it(e,r);var a=e.getUint32(n+8);this.wave=new ht(e,a),this.samplePan=e.getUint8(n+12),this.sampleVolume=e.getUint8(n+13),this.flags=e.getUint8(n+14)}}]),e}(),mt=function(){function e(n,t){r(this,e),this.__type="ALInst",this.volume=void 0,this.pan=void 0,this.priority=void 0,this.flags=void 0,this.tremType=void 0,this.tremRate=void 0,this.tremDepth=void 0,this.tremDelay=void 0,this.vibType=void 0,this.vibRate=void 0,this.vibDepth=void 0,this.vibDelay=void 0,this.bendRange=void 0,this.sounds=[],this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){this.volume=e.getUint8(n),this.pan=e.getUint8(n+1),this.priority=e.getUint8(n+2),this.flags=e.getUint8(n+3),this.tremType=e.getUint8(n+4),this.tremRate=e.getUint8(n+5),this.tremDepth=e.getUint8(n+6),this.tremDelay=e.getUint8(n+7),this.vibType=e.getUint8(n+8),this.vibRate=e.getUint8(n+9),this.vibDepth=e.getUint8(n+10),this.vibDelay=e.getUint8(n+11),this.bendRange=e.getInt16(n+12);for(var t=e.getInt16(n+14),r=0;r<t;r++){var a=e.getUint32(n+16+4*r);this.sounds.push(new pt(e,a))}}}]),e}(),St=function(){function e(n,t){r(this,e),this.__type="ALBank",this.flags=void 0,this.pad=void 0,this.sampleRate=void 0,this.instruments=[],this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){if(this.flags=e.getUint8(n+2),this.pad=e.getUint8(n+3),this.sampleRate=e.getInt32(n+4),e.getUint32(n+8))throw new Error("Need to parse percussion at bank offset 0x".concat((e.byteOffset+n).toString(16)));for(var t=e.getUint16(n),r=0;r<t;r++){var a=e.getUint32(n+12+4*r);this.instruments.push(new mt(e,a))}}}]),e}(),gt=function(){function e(n){if(r(this,e),this.__type="B1",this.banks=[],16945!==n.getUint16(0))throw new Error("B1 constructor encountered non-B1 structure");this._extract(n)}return i(e,[{key:"_extract",value:function(e){for(var n=e.getUint16(2),t=0;t<n;t++){var r=e.getUint32(4+4*t);this.banks.push(new St(e,r))}}}]),e}(),vt=21298,xt=function(){function e(n){r(this,e),this.__type="S2",this.midis=[],this.tbl=void 0,this.soundbanks=void 0,this._rawB1=void 0,this._extract(n)}return i(e,[{key:"_extract",value:function(e){if(e.getUint16(0)!==vt)throw new Error("S2 constructor encountered non-S2 structure");for(var n=e.getUint16(2),t=4+8*n,r=0;r<n;r++){var a=e.getUint32(4+4*r*2),i=e.getUint32(8+4*r*2),o=e.byteOffset+a;this.midis.push({buffer:e.buffer.slice(o,o+i),soundbankIndex:e.getUint8(t+16*r)})}var s=e.getUint32(t+12),l=e.getUint32(4);this.tbl=e.buffer.slice(e.byteOffset+s,e.byteOffset+l);var u=e.getUint32(t+4),c=e.getUint32(t+8),d=new DataView(e.buffer,e.byteOffset+u);this.soundbanks=new gt(d),this._rawB1=e.buffer.slice(e.byteOffset+u,e.byteOffset+u+c)}},{key:"pack",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=new DataView(e,n),r=0;t.setUint16(0,vt),t.setUint16(2,this.midis.length),r+=4;var a=8*this.midis.length,i=16*this.midis.length+4,o=Te(4+a+i,16),s=o+this._rawB1.byteLength+this.tbl.byteLength;s=Te(s,8);var l,u=L(this.midis);try{for(u.s();!(l=u.n()).done;){var c=l.value;t.setUint32(r,s);var d=Te(c.buffer.byteLength,8);t.setUint32(r+4,d),r+=8,s+=d}}catch(g){u.e(g)}finally{u.f()}var A,f=L(this.midis);try{for(f.s();!(A=f.n()).done;){var h=A.value;t.setInt8(r,h.soundbankIndex),t.setInt8(r+1,127),t.setUint8(r+2,255),t.setUint8(r+3,255),t.setUint32(r+4,o),t.setUint32(r+8,this._rawB1.byteLength),t.setUint32(r+12,o+this._rawB1.byteLength),r+=16}}catch(g){f.e(g)}finally{f.f()}t.setUint32(r,4294967295),r=Te(r+=4,16),q(t,this._rawB1,r,0,this._rawB1.byteLength),r+=Te(this._rawB1.byteLength,8),q(t,this.tbl,r,0,this.tbl.byteLength),r+=Te(this.tbl.byteLength,8);var p,m=L(this.midis);try{for(m.s();!(p=m.n()).done;){var S=p.value;q(t,S.buffer,r,0,S.buffer.byteLength),r+=Te(S.buffer.byteLength,8)}}catch(g){m.e(g)}finally{m.f()}return r=Te(r,16),G()&&X(this.getByteLength()===r),r}},{key:"getByteLength",value:function(){var e=0;e+=2,e+=2,e+=8*this.midis.length,e=Te(e+=16*this.midis.length+4,16),e+=Te(this._rawB1.byteLength,8),e+=Te(this.tbl.byteLength,8);var n,t=L(this.midis);try{for(t.s();!(n=t.n()).done;){e+=Te(n.value.buffer.byteLength,8)}}catch(r){t.e(r)}finally{t.f()}return e=Te(e,16)}}]),e}(),_t=1296188976,yt=64,wt=function(){function e(n){r(this,e),this.__type="MBF0",this.midis=[],this.tbl=void 0,this.soundbanks=void 0,this._soundbackBuffer=void 0,this._headerContents=void 0,this._extract(n)}return i(e,[{key:"_extract",value:function(e){if(e.getUint32(0)!==_t)throw new Error("MBF0 constructor encountered non-MBF0 structure");var n=e.getUint32(4);this._headerContents=new ArrayBuffer(56),q(this._headerContents,e,0,8,this._headerContents.byteLength);for(var t=new Map,r=0;r<n;r++){var a=64+16*r,i=e.getUint32(a+8),o=e.getUint32(a+12),s=void 0;t.has(i)?s=t.get(i):(s=e.buffer.slice(e.byteOffset+i,e.byteOffset+i+o),t.set(i,s)),this.midis.push({buffer:s,mystery0:e.getUint8(a),mystery1:e.getUint8(a+1),mystery4:e.getUint32(a+4),soundbankIndex:e.getUint8(a+2)}),X(0===e.getUint8(a+3)),X(117440512===e.getUint32(a+4)||0===e.getUint32(a+4))}var l=yt+16*n,u=e.getUint32(l),c=e.getUint32(l+4),d=e.getUint32(l+8),A=d+e.getUint32(l+12);this.tbl=e.buffer.slice(e.byteOffset+d,e.byteOffset+A);var f=new DataView(e.buffer,e.byteOffset+u,c);this.soundbanks=new gt(f),this._soundbackBuffer=e.buffer.slice(e.byteOffset+u,e.byteOffset+u+c)}},{key:"pack",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=new DataView(e,n),r=0;t.setUint32(0,_t),t.setUint32(4,this.midis.length),q(t,this._headerContents,8,0,this._headerContents.byteLength),r+=yt,r+=16*this.midis.length,r+=16;var a,i=new Map,o=L(this.midis);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.has(s.buffer)||(X(r%8===0),i.set(s.buffer,r),q(t,s.buffer,r,0,s.buffer.byteLength),r+=Te(s.buffer.byteLength,8))}}catch(S){o.e(S)}finally{o.f()}var l=r=Te(r,16),u=this._soundbackBuffer.byteLength;q(t,this._soundbackBuffer,r,0,u);var c=r+=Te(u,8),d=this.tbl.byteLength;q(t,this.tbl,r,0,d),r+=Te(d,8);var A=Te(r,16);r=yt;var f,h=L(this.midis);try{for(h.s();!(f=h.n()).done;){var p=f.value;t.setUint8(r,p.mystery0||0),t.setUint8(r+1,"number"===typeof p.mystery1?p.mystery1:111),t.setUint8(r+2,p.soundbankIndex),t.setUint8(r+3,0),t.setUint32(r+4,"number"===typeof p.mystery4?p.mystery4:117440512),t.setUint32(r+8,i.get(p.buffer)),t.setUint32(r+12,p.buffer.byteLength),r+=16}}catch(S){h.e(S)}finally{h.f()}t.setUint32(r,l),t.setUint32(r+4,u),t.setUint32(r+8,c),t.setUint32(r+12,d);var m=A;return G()&&X(this.getByteLength()===m),m}},{key:"getByteLength",value:function(){var e=0;e+=4,e+=4,X((e+=this._headerContents.byteLength)===yt),e+=16*this.midis.length,X((e+=16)%16===0);var n,t=new Set,r=L(this.midis);try{for(r.s();!(n=r.n()).done;){var a=n.value;t.has(a.buffer)||(t.add(a.buffer),e+=Te(a.buffer.byteLength,8))}}catch(i){r.e(i)}finally{r.f()}return e=Te(e,16),X(this._soundbackBuffer.byteLength%8===0),e+=this._soundbackBuffer.byteLength,X(this.tbl.byteLength%8===0),e=Te(e+=this.tbl.byteLength,16)}}]),e}(),bt=function(){function e(n,t){r(this,e),this.__type="ALSoundSimple",this.env=void 0,this.keymap=void 0,this.wave=void 0,this.samplePan=void 0,this.sampleVolume=void 0,this.flags=void 0,this.sampleRate=void 0,this._extract(n,t)}return i(e,[{key:"_extract",value:function(e,n){var t=e.getUint32(n);this.env=new at(e,t),this.sampleRate=e.getUint32(n+4);var r=e.getUint32(n+8);this.wave=new ht(e,r),this.samplePan=e.getUint8(n+12),this.sampleVolume=e.getUint8(n+13),this.flags=e.getUint8(n+14)}}]),e}(),Vt=function(){function e(n){if(r(this,e),this.__type="SBF0",this.tbl=void 0,this.sounds=[],1396852272!==n.getUint32(0))throw new Error("SBF0 constructor encountered non-SBF0 structure");this._extract(n)}return i(e,[{key:"_extract",value:function(e){var n=e.getUint32(68);if(0===n)throw new Error("Does soundCount === 0?");for(var t=new DataView(e.buffer,e.byteOffset+116),r=0;r<n;r++)this.sounds.push(new bt(t,16*r));var a=e.getUint32(84),i=a+e.getUint32(88);if(this.tbl=e.buffer.slice(e.byteOffset+a,e.byteOffset+i),G()){for(var o="",s=e.getUint32(4),l=i,u=0;u<s;u++)for(var c=e.getUint32(l+4*u),d=e.getUint8(l+c),A=l+c+8,f=0;f<d;f++){var h=e.getUint32(A+8*f+4),p=void 0,m=e.getUint8(l+h);switch(m){case 146:case 147:p=e.getUint16(l+h+1);break;case 18:case 19:p=e.getUint16(l+h+2);break;case 1:case 160:continue;default:throw new Error("Unrecongized soundFxInfoType "+W(m)+" at "+W(e.byteOffset+l+h))}o+="\n".concat(W(u),": ").concat(W(p))}H(o)}}}]),e}(),Ct=function(){function e(n){if(r(this,e),this.__type="T3",this.tbl=void 0,this.sounds=[],21555!==n.getUint16(0))throw new Error("T3 constructor encountered non-T3 structure");this._extract(n)}return i(e,[{key:"_extract",value:function(e){for(var n=e.getUint16(2),t=[],r=0;r<n;r++)t.push({rawSound:4095&e.getUint16(4+8*r+4),sampleRate:e.getUint16(4+8*r+6)});for(var a=e.getUint32(4+8*n+4),i=4+8*n+44,o=new DataView(e.buffer,e.byteOffset+i),s=0;s<a;s++){var l,u=new bt(o,16*s),c=L(t);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(d.rawSound===s){u.sampleRate=d.sampleRate;break}}}catch(h){c.e(h)}finally{c.f()}u.sampleRate||(console.warn("Unknown sample rate for raw sound ".concat(s,", guessing...")),u.sampleRate=22050),this.sounds.push(u)}console.log(this.sounds);var A=e.getUint32(4+8*n+12),f=A+e.getUint32(4+8*n+20);this.tbl=e.buffer.slice(e.byteOffset+A,e.byteOffset+f)}}]),e}(),Et=function(){function e(n){if(r(this,e),this.__type="FXD0",this.hunks=void 0,1180189744!==n.getUint32(0))throw new Error("FXD0 constructor encountered non-FXD0 structure");this._extract(n)}return i(e,[{key:"_extract",value:function(e){this.hunks=[];for(var n=e.getUint32(4),t=16,r=0;r<n;r++,t+=520){var a=t+520;this.hunks.push(e.buffer.slice(e.byteOffset+t,e.byteOffset+a))}}}]),e}(),Dt=(e(dt={},v.MP1_USA,[{type:"S2",offsets:[{upper:399174,lower:399178},{ovl:110,upper:3682,lower:3686}]},{type:"S2",offsets:[{upper:110378,lower:110382},{upper:399182,lower:399186},{upper:399230,lower:399234},{ovl:110,upper:3690,lower:3694},{ovl:110,upper:3730,lower:3734}]},{type:"T3",byteLength:3692928,offsets:[{upper:110386,lower:110390},{upper:399150,lower:399154},{upper:399238,lower:399242},{ovl:110,upper:3662,lower:3666},{ovl:110,upper:3738,lower:3742}]},{type:"T3",byteLength:1263616,offsets:[{upper:110350,lower:110354},{upper:399202,lower:399206},{ovl:110,upper:3706,lower:3710}]},{type:"FXD0",byteLength:2096,offsets:[{upper:110426,lower:110430}]},{type:"Pointer",byteLength:0,offsets:[{upper:110438,lower:110442}]}]),e(dt,v.MP1_JPN,[]),e(dt,v.MP1_PAL,[]),e(dt,v.MP2_USA,[{type:"MBF0",offsets:[{upper:119618,lower:119622},{upper:502254,lower:502258},{upper:502290,lower:502294}]},{type:"SBF0",byteLength:3888e3,offsets:[{upper:502266,lower:502270}]},{type:"SBF0",byteLength:1487184,offsets:[{upper:119630,lower:119634},{upper:502302,lower:502306}]},{type:"FXD0",byteLength:2624,offsets:[{upper:119682,lower:119686}]}]),e(dt,v.MP2_JPN,[]),e(dt,v.MP2_PAL,[]),e(dt,v.MP3_USA,[{type:"MBF0",offsets:[{upper:62058,lower:62062},{upper:311026,lower:311030}]},{type:"SBF0",byteLength:4876240,offsets:[{upper:62070,lower:62074},{upper:311038,lower:311042}]},{type:"FXD0",byteLength:2624,offsets:[{upper:62110,lower:62114}]}]),e(dt,v.MP3_JPN,[]),e(dt,v.MP3_PAL,[]),dt),Ft={getROMOffset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.getPatchInfo();if(!n||!n.length)return null;var t=n[e];if(!t)return null;var r,a,i=t.offsets[0],o=i.upper,s=i.lower;if("number"===typeof i.ovl){var l=ve.getDataView(i.ovl);r=l.getUint16(o),a=l.getUint16(s)}else{var u=Ry.getDataView();r=u.getUint16(o),a=u.getUint16(s)}var c=(0,en.NC)(r,a);return H("Audio.getROMOffset -> ".concat(W(c))),G()&&t.offsets.forEach((function(n,t){var r,a,i=n.upper,o=n.lower;if("number"===typeof n.ovl){var s=ve.getDataView(n.ovl);r=s.getUint16(i),a=s.getUint16(o)}else{var l=Ry.getDataView();r=l.getUint16(i),a=l.getUint16(o)}var u=(0,en.NC)(r,a);if(u!==c)throw new Error("AudioFS.getROMOffset patch offset ".concat(e,"/").concat(t," seems wrong:\n          offset: ").concat(W(c)," vs ").concat(W(u),"\n          reading upper: ").concat(W(i),", lower: ").concat(W(o)))})),c},setROMOffset:function(e,n){H("Audio.setROMOffset(".concat(W(e),")"));for(var t=this.getPatchInfo(),r=e,a=0;a<t.length;a++){for(var i=t[a],o=(0,en.iu)(r),s=(0,xe.Z)(o,2),l=s[0],u=s[1],c=0;c<i.offsets.length;c++){var d=i.offsets[c],A=d.upper,f=d.lower;if("number"===typeof d.ovl){var h=ve.getDataView(d.ovl);h.setUint16(A,l),h.setUint16(f,u)}else{var p=new DataView(n);p.setUint16(A,l),p.setUint16(f,u)}}switch(i.type){case"T3":case"SBF0":case"FXD0":X("number"===typeof i.byteLength),X(i.byteLength%16===0),r+=i.byteLength;break;case"S2":X(!!ft[a]),r+=ft[a].getByteLength();break;case"MBF0":X(!!ft[a]),r+=ft[a].getByteLength();break;case"Pointer":break;default:throw new Error("Unhandled audio subsection type: "+i.type)}}},getPatchInfo:function(){return Dt[Ry.getROMGame()]},read:function(e){throw new Error("audio.read not implemented")},write:function(e,n){throw new Error("audio.write not implemented")},getSequenceTableCount:function(){for(var e=0,n=0;n<ft.length;n++){var t=ft[n];t&&"midis"in t&&e++}return e},getSequenceTable:function(e){if(!ft)return null;for(var n=-1,t=0;t<ft.length;t++){var r=ft[t];if(r&&"midis"in r&&++n===e)return r}return null},getSoundTableCount:function(){for(var e=0,n=0;n<ft.length;n++){var t=ft[n];t&&"sounds"in t&&e++}return e},getSoundTable:function(e){if(!ft)return null;for(var n=-1,t=0;t<ft.length;t++){var r=ft[t];if(r&&"sounds"in r&&++n===e)return r}return null},clearCache:function(){At=null,ft=null},extract:function(){var e=Ry.getROMBuffer();if(null!==this.getROMOffset()){var n=this.getPatchInfo();At=new Array(n.length),ft=new Array(n.length);for(var t=0;t<n.length;t++){var r=n[t];switch(r.type){case"S2":var a=this.getROMOffset(t),i=ft[t]=new xt(Ry.getDataView(a));At[t]=e.slice(a,a+i.getByteLength());break;case"T3":X("number"===typeof r.byteLength);var o=this.getROMOffset(t);At[t]=e.slice(o,o+r.byteLength),ft[t]=new Ct(Ry.getDataView(o));break;case"MBF0":var s=this.getROMOffset(t),l=ft[t]=new wt(Ry.getDataView(s));At[t]=e.slice(s,s+l.getByteLength());break;case"SBF0":X("number"===typeof r.byteLength);var u=this.getROMOffset(t);At[t]=e.slice(u,u+r.byteLength),ft[t]=new Vt(Ry.getDataView(u));break;case"FXD0":X("number"===typeof r.byteLength);var c=this.getROMOffset(t);At[t]=e.slice(c,c+r.byteLength),ft[t]=new Et(Ry.getDataView(c));break;case"Pointer":At[t]=ft[t]=null;break;default:throw new Error("Unhandled audio subsection type: "+r.type)}}}},extractAsync:function(){var e=this;return new Promise((function(n,t){e.extract(),n()}))},pack:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this.getPatchInfo();if(!t||!t.length||!At)throw new Error("Unable to write audio section.");for(var r=n,a=0;a<t.length;a++){var i=t[a];switch(i.type){case"T3":case"SBF0":case"FXD0":X("number"===typeof i.byteLength),q(e,At[a],r,0,At[a].byteLength),r+=i.byteLength;break;case"S2":var o=ft[a];r=Te(r+=o.pack(e,r),16);break;case"MBF0":var s=ft[a];r=Te(r+=s.pack(e,r),16);break;case"Pointer":break;default:throw new Error("Unhandled audio subsection type: "+i.type)}}var l=r-n;return X(l%16===0),l},getByteLength:function(){var e=this.getPatchInfo();if(!e||!e.length)throw new Error("Unable to determine audio section length.");for(var n=0,t=0;t<e.length;t++){var r=e[t];switch(r.type){case"T3":case"SBF0":case"FXD0":X("number"===typeof r.byteLength),n+=r.byteLength;break;case"S2":n+=ft[t].getByteLength();break;case"MBF0":n+=ft[t].getByteLength();break;case"Pointer":break;default:throw new Error("Unhandled audio subsection type: "+r.type)}}return n}};function Tt(e,n){var t=Pt(e);n.spaces=function(e,n){for(var t=new DataView(e,n.spaceStartOffset),r=[],a=0,i=0;i<n.spaceCount;i++)r.push({type:t.getUint8(a+3),x:t.getFloat32(a+4),y:t.getFloat32(a+12),z:t.getFloat32(a+8)}),a+=16;return r}(e,t);var r=function(e,n){for(var t=new Array(n.chainCount),r={},a=new DataView(e,n.linkStartOffset),i=0;i<n.chainCount;i++){var o=a.getUint16(2*i),s=new DataView(e,n.linkStartOffset+o),l=s.getUint16(0);if(t[i]=[],1===l)t[i].push(s.getUint16(2));else for(var u=1;u<l;u++){var c=s.getUint16(2*u),d=s.getUint16(2*(u+1));r.hasOwnProperty(c)?(Array.isArray(r[c])||(r[c]=[r[c]]),-1===r[c].indexOf(d)&&r[c].push(d)):r[c]=d,t[i].push(c),u+1===l&&t[i].push(d)}}return{links:r,chains:t}}(e,t);return n.links=r.links,n._chains=r.chains,H("Parsing board def, ".concat(W(t.spaceCount)," (").concat(t.spaceCount,") spaces")),n}function Pt(e){var n=new DataView(e),t=Ry.getGameVersion();switch(t){case 1:return{spaceCount:n.getUint16(0),chainCount:n.getUint16(4),spaceStartOffset:n.getUint16(6),linkStartOffset:n.getUint16(10)};case 2:case 3:return{spaceCount:n.getUint16(0),chainCount:n.getUint16(2),spaceStartOffset:n.getUint16(4),linkStartOffset:n.getUint16(6)}}throw new Error("Unrecongized game "+t)}function Rt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot(e),t=new ArrayBuffer(Lt(e,n));return Bt(t,e,n),kt(t,e.spaces),It(t,n),t}function Lt(e,n){var t,r,a;return t=Mt(),r=16*e.spaces.length,a=2*n.length,n.forEach((function(e){a+=2*(e.length+1)})),t+r+a}function Mt(){var e,n=Ry.getGameVersion();switch(n){case 1:e=12;break;case 2:case 3:e=8;break;default:throw new Error("_boardDefHeaderSize: unknown game version ".concat(n))}return e}function Bt(e,n,t){var r=new DataView(e),a=Ry.getGameVersion(),i=Mt()+16*n.spaces.length;switch(a){case 1:r.setUint16(0,n.spaces.length),r.setUint16(4,t.length),r.setUint16(6,12),r.setUint16(8,i),r.setUint16(10,i);break;case 2:case 3:r.setUint16(0,n.spaces.length),r.setUint16(2,t.length),r.setUint16(4,8),r.setUint16(6,i)}}function kt(e,n){var t=new DataView(e),r=Mt();n.forEach((function(e){t.setUint32(r,e.type),t.setFloat32(r+4,e.x),t.setFloat32(r+8,e.z||0),t.setFloat32(r+12,e.y),r+=16}))}function It(e,n){var t,r,a=new DataView(e);t=r=Pt(e).linkStartOffset;for(var i=2*n.length,o=0;o<n.length;o++){a.setUint16(r,i),a.setUint16(t+i,n[o].length),i+=2;for(var s=0;s<n[o].length;s++)a.setUint16(t+i,n[o][s]),i+=2;r+=2}}function Ot(e){var n=(e=M(e)).spaces,t=e.links,r=[];function a(e){for(var i,o=[],s=e;!n[s]._seen;){if(n[s]._seen=!0,o.push(s),i=t[s],Array.isArray(i))return r.push(o),void i.forEach((function(e){a(e)}));if("number"!==typeof i)return console.warn("determineChains.parseChain hit a dead end at ".concat(W(s)," (").concat(s,")")),void r.push(o);if(u(i,s))return r.push(o),void a(i);s=i}o.length&&r.push(o)}for(var i={},o=0;o<n.length;o++)n[o]&&(i[o]=[]);var s=function(n){Vw(parseInt(n,10),e).forEach((function(e){i[e].push(Number(n))}))};for(var l in t)s(l);function u(e,n){return void 0===n?!!i[e].length:!!i[e].length&&(-1===i[e].indexOf(Number(n))||i[e].length>1)}a(xw(e));for(var c=0;c<n.length;c++)n[c]&&(n[c]._seen||!u(c)&&qy(c,"*",e)&&a(c));for(var d=0;d<n.length;d++)n[d]&&!n[d]._seen&&a(d);return H("chains: ",r),r}function Nt(e,n){for(var t=e.spaces,r=e.links,a=0;a<n.length;a++){var i=n[a];if(1===i.length){var o=i[0],s=t[o],l=r[o],u=void 0,c=void 0;if(Array.isArray(l))if(1===l.length){var d=t[l[0]],A=De(s.x,s.y,d.x,d.y);u=A.x,c=A.y}else if(2===l.length){var f=t[l[0]],p=t[l[1]],m=De(f.x,f.y,p.x,p.y),S=.01/Ee(s.x,s.y,m.x,m.y);u=(1-S)*s.x+S*m.x,c=(1-S)*s.y+S*m.y,H("Padding branch x: ".concat(s.x,", y: ").concat(s.y,", padX: ").concat(u,", padY: ").concat(c))}else u=s.x,c=s.y;else if("number"===typeof l){var g=t[l],v=De(s.x,s.y,g.x,g.y);u=v.x,c=v.y}if("number"===typeof u&&"number"===typeof c){var x=mw(u,c,h.OTHER,void 0,e);i.push(x),r[o]=x,r[x]=l}}}}function jt(e,n){for(var t=0;t<e.length;t++){var r=e[t].indexOf(n);if(r>=0)return[t,r]}return[-1,-1]}var Ut=__webpack_require__(907);function Gt(e){return function(e){if(Array.isArray(e))return(0,Ut.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,R.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zt=__webpack_require__(4216),Ht=__webpack_require__.n(zt),Wt=__webpack_require__(6046),Xt="\n#ifndef _ULTRA64_TYPES_H_\n#define _ULTRA64_TYPES_H_\n\n#ifndef NULL\n#define NULL    (void *)0\n#endif\n\n#define TRUE 1\n#define FALSE 0\n\ntypedef signed char            s8;\ntypedef unsigned char          u8;\ntypedef signed short int       s16;\ntypedef unsigned short int     u16;\ntypedef signed int             s32;\ntypedef unsigned int           u32;\n\n// SmallerC can't do u64...\ntypedef struct { u32 upper; u32 lower; } u64;\n\ntypedef float  f32;\n\n#endif /* _ULTRA64_TYPES_H_ */\n\n\n#ifndef _ULTRA64_THREAD_H_\n#define _ULTRA64_THREAD_H_\n\n/* Recommended priorities for system threads */\n#define OS_PRIORITY_MAX      255\n#define OS_PRIORITY_VIMGR    254\n#define OS_PRIORITY_RMON     250\n#define OS_PRIORITY_RMONSPIN 200\n#define OS_PRIORITY_PIMGR    150\n#define OS_PRIORITY_SIMGR    140\n#define OS_PRIORITY_APPMAX   127\n#define OS_PRIORITY_IDLE       0\n\n#define OS_STATE_STOPPED    1\n#define OS_STATE_RUNNABLE    2\n#define OS_STATE_RUNNING    4\n#define OS_STATE_WAITING    8\n\ntypedef s32 OSPri;\ntypedef s32 OSId;\n\ntypedef union\n{\n    struct {\n      f32 f_odd;\n      f32 f_even;\n    } f;\n} __OSfp;\n\ntypedef struct\n{\n    /* registers */\n    u64 at, v0, v1, a0, a1, a2, a3;\n    u64 t0, t1, t2, t3, t4, t5, t6, t7;\n    u64 s0, s1, s2, s3, s4, s5, s6, s7;\n    u64 t8, t9, gp, sp, s8, ra;\n    u64 lo, hi;\n    u32 sr, pc, cause, badvaddr, rcp;\n    u32 fpcsr;\n    __OSfp  fp0,  fp2,  fp4,  fp6,  fp8, fp10, fp12, fp14;\n    __OSfp fp16, fp18, fp20, fp22, fp24, fp26, fp28, fp30;\n} __OSThreadContext;\n\ntypedef struct\n{\n    u32 flag;\n    u32 count;\n    u64 time;\n} __OSThreadprofile_s;\n\ntypedef struct OSThread_s\n{\n    struct OSThread_s *next;\n    OSPri priority;\n    struct OSThread_s **queue;\n    struct OSThread_s *tlnext;\n    u16 state;\n    u16 flags;\n    OSId id;\n    int fp;\n    __OSThreadprofile_s *thprof;\n    __OSThreadContext context;\n} OSThread;\n\nvoid osCreateThread(OSThread *thread, OSId id, void (*entry)(void *), void *arg, void *sp, OSPri pri);\nOSId osGetThreadId(OSThread *thread);\nOSPri osGetThreadPri(OSThread *thread);\nvoid osSetThreadPri(OSThread *thread, OSPri pri);\nvoid osStartThread(OSThread *thread);\nvoid osStopThread(OSThread *thread);\n\n#endif /* _ULTRA64_THREAD_H_ */\n\n\n#ifndef _OS_MESSAGE_H_\n#define\t_OS_MESSAGE_H_\n\ntypedef u32 OSEvent;\n\n/*\n * Structure for message\n */\ntypedef void * OSMesg;\n\n/*\n * Structure for message queue\n */\ntypedef struct OSMesgQueue_s {\n\tOSThread\t*mtqueue;   /* Queue to store threads blocked on empty mailboxes (receive) */\n\tOSThread\t*fullqueue; /* Queue to store threads blocked on full mailboxes (send) */\n\ts32\t\tvalidCount;\t/* Contains number of valid message */\n\ts32\t\tfirst;\t\t/* Points to first valid message */\n\ts32\t\tmsgCount;\t/* Contains total # of messages */\n\tOSMesg\t\t*msg;\t\t/* Points to message buffer array */\n} OSMesgQueue;\n\n/* Events */\n#define OS_EVENT_SW1              0     /* CPU SW1 interrupt */\n#define OS_EVENT_SW2              1     /* CPU SW2 interrupt */\n#define OS_EVENT_CART             2     /* Cartridge interrupt: used by rmon */\n#define OS_EVENT_COUNTER          3     /* Counter int: used by VI/Timer Mgr */\n#define OS_EVENT_SP               4     /* SP task done interrupt */\n#define OS_EVENT_SI               5     /* SI (controller) interrupt */\n#define OS_EVENT_AI               6     /* AI interrupt */\n#define OS_EVENT_VI               7     /* VI interrupt: used by VI/Timer Mgr */\n#define OS_EVENT_PI               8     /* PI interrupt: used by PI Manager */\n#define OS_EVENT_DP               9     /* DP full sync interrupt */\n#define OS_EVENT_CPU_BREAK        10    /* CPU breakpoint: used by rmon */\n#define OS_EVENT_SP_BREAK         11    /* SP breakpoint:  used by rmon */\n#define OS_EVENT_FAULT            12    /* CPU fault event: used by rmon */\n#define OS_EVENT_THREADSTATUS     13    /* CPU thread status: used by rmon */\n#define OS_EVENT_PRENMI           14    /* Pre NMI interrupt */\n\n/* Flags to turn blocking on/off when sending/receiving message */\n#define\tOS_MESG_NOBLOCK\t\t0\n#define\tOS_MESG_BLOCK\t\t1\n\nextern void\t\tosCreateMesgQueue(OSMesgQueue *, OSMesg *, s32);\nextern s32\t\tosSendMesg(OSMesgQueue *, OSMesg, s32);\nextern s32\t\tosJamMesg(OSMesgQueue *, OSMesg, s32);\nextern s32\t\tosRecvMesg(OSMesgQueue *, OSMesg *, s32);\nextern void\t\tosSetEventMesg(OSEvent, OSMesgQueue *, OSMesg);\n\n#endif /* !_OS_MESSAGE_H_ */\n\n\n#ifndef _OS_CONT_H_\n#define\t_OS_CONT_H_\n\ntypedef struct {\n\tu16     type;    /* Controller Type */\n\tu8      status;  /* Controller status */\n\tu8      errno;\n} OSContStatus;\n\ntypedef struct {\n\tu16     button;\n\ts8      stick_x; /* -80 <= stick_x <= 80 */\n\ts8      stick_y; /* -80 <= stick_y <= 80 */\n\tu8      errno;\n} OSContPad;\n\ntypedef struct {\n\tvoid    *address;               /* Ram pad Address:  11 bits */\n\tu8      databuffer[32];         /* address of the data buffer */\n\tu8      addressCrc;             /* CRC code for address */\n\tu8      dataCrc;                /* CRC code for data */\n\tu8      errno;\n} OSContRamIo;\n\n/* Controller type */\n\n#define CONT_ABSOLUTE           0x0001\n#define CONT_RELATIVE           0x0002\n#define CONT_JOYPORT            0x0004\n#define CONT_EEPROM\t\t0x8000\n#define CONT_EEP16K\t\t0x4000\n#define\tCONT_TYPE_MASK\t\t0x1f07\n#define\tCONT_TYPE_NORMAL\t0x0005\n#define\tCONT_TYPE_MOUSE\t\t0x0002\n#define\tCONT_TYPE_VOICE\t\t0x0100\n\n/* Controller status */\n\n#define CONT_CARD_ON            0x01\n#define CONT_CARD_PULL          0x02\n#define CONT_ADDR_CRC_ER        0x04\n#define CONT_EEPROM_BUSY\t0x80\n\n/* Buttons */\n\n#define CONT_A      0x8000\n#define CONT_B      0x4000\n#define CONT_G\t    0x2000\n#define CONT_START  0x1000\n#define CONT_UP     0x0800\n#define CONT_DOWN   0x0400\n#define CONT_LEFT   0x0200\n#define CONT_RIGHT  0x0100\n#define CONT_L      0x0020\n#define CONT_R      0x0010\n#define CONT_E      0x0008\n#define CONT_D      0x0004\n#define CONT_C      0x0002\n#define CONT_F      0x0001\n\n/* Nintendo's official button names */\n\n#define A_BUTTON\tCONT_A\n#define B_BUTTON\tCONT_B\n#define L_TRIG\t\tCONT_L\n#define R_TRIG\t\tCONT_R\n#define Z_TRIG\t\tCONT_G\n#define START_BUTTON\tCONT_START\n#define U_JPAD\t\tCONT_UP\n#define L_JPAD\t\tCONT_LEFT\n#define R_JPAD\t\tCONT_RIGHT\n#define D_JPAD\t\tCONT_DOWN\n#define U_CBUTTONS\tCONT_E\n#define L_CBUTTONS\tCONT_C\n#define R_CBUTTONS\tCONT_F\n#define D_CBUTTONS\tCONT_D\n\n/* Controller error number */\n\n#define\tCONT_ERR_NO_CONTROLLER\t\tPFS_ERR_NOPACK \t\t/* 1 */\n#define\tCONT_ERR_CONTRFAIL\t\tCONT_OVERRUN_ERROR\t/* 4 */\n#define\tCONT_ERR_INVALID\t\tPFS_ERR_INVALID\t\t/* 5 */\n#define\tCONT_ERR_DEVICE\t\t\tPFS_ERR_DEVICE \t\t/* 11 */\n#define\tCONT_ERR_NOT_READY\t\t12\n#define\tCONT_ERR_VOICE_MEMORY\t\t13\n#define\tCONT_ERR_VOICE_WORD\t\t14\n#define\tCONT_ERR_VOICE_NO_RESPONSE\t15\n\n/* Controller interface */\n\nextern s32 osContInit(OSMesgQueue *, u8 *, OSContStatus *);\nextern s32 osContReset(OSMesgQueue *, OSContStatus *);\nextern s32 osContStartQuery(OSMesgQueue *);\nextern s32 osContStartReadData(OSMesgQueue *);\nextern void osContGetQuery(OSContStatus *);\nextern void osContGetReadData(OSContPad *);\n\n#endif /* _OS_CONT_H_ */\n\n#ifndef _MBI_H_\n#define\t_MBI_H_\n\n#define _SHIFTL(v, s, w)\t    ((unsigned int) (((unsigned int)(v) & ((0x01 << (w)) - 1)) << (s)))\n#define _SHIFTR(v, s, w)\t    ((unsigned int)(((unsigned int)(v) >> (s)) & ((0x01 << (w)) - 1)))\n\n#define _SHIFT _SHIFTL\n\n#define G_ON\t(1)\n#define G_OFF\t(0)\n\n//include <PR/abi.h>\n\n#define\tM_GFXTASK\t1\n#define\tM_AUDTASK\t2\n#define\tM_VIDTASK\t3\n#define M_HVQTASK\t6\n#define M_HVQMTASK\t7\n\n#define\tNUM_SEGMENTS\t\t(16)\n#define\tSEGMENT_OFFSET(a)\t((unsigned int)(a) & 0x00ffffff)\n#define\tSEGMENT_NUMBER(a)\t(((unsigned int)(a) << 4) >> 28)\n#define\tSEGMENT_ADDR(num, off)\t(((num) << 24) + (off))\n\n#endif /* !_MBI_H_ */\n\n#ifndef _GBI_H_\n#define\t_GBI_H_\n\n#define F3DEX_GBI_2 1\n#define _LANGUAGE_C 1\n\n#ifdef    F3DEX_GBI_2\n#ifndef  F3DEX_GBI\n#define F3DEX_GBI\n#endif\n#define\tG_NOOP\t\t\t0x00\n#define\tG_RDPHALF_2\t\t0xf1\n#define\tG_SETOTHERMODE_H\t0xe3\n#define\tG_SETOTHERMODE_L\t0xe2\n#define\tG_RDPHALF_1\t\t0xe1\n#define\tG_SPNOOP\t\t0xe0\n#define\tG_ENDDL\t\t\t0xdf\n#define\tG_DL\t\t\t0xde\n#define\tG_LOAD_UCODE\t\t0xdd\n#define\tG_MOVEMEM\t\t0xdc\n#define\tG_MOVEWORD\t\t0xdb\n#define\tG_MTX\t\t\t0xda\n#define G_GEOMETRYMODE\t\t0xd9\n#define\tG_POPMTX\t\t0xd8\n#define\tG_TEXTURE\t\t0xd7\n#define\tG_DMA_IO\t\t0xd6\n#define\tG_SPECIAL_1\t\t0xd5\n#define\tG_SPECIAL_2\t\t0xd4\n#define\tG_SPECIAL_3\t\t0xd3\n\n#define\tG_VTX\t\t\t0x01\n#define\tG_MODIFYVTX\t\t0x02\n#define\tG_CULLDL\t\t0x03\n#define\tG_BRANCH_Z\t\t0x04\n#define\tG_TRI1\t\t\t0x05\n#define G_TRI2\t\t\t0x06\n#define G_QUAD\t\t\t0x07\n#define G_LINE3D\t\t0x08\n#else\n\n/* DMA commands: */\n#define\tG_SPNOOP\t\t0\t/* handle 0 gracefully */\n#define\tG_MTX\t\t\t1\n#define G_RESERVED0\t\t2\t/* not implemeted */\n#define G_MOVEMEM\t\t3\t/* move a block of memory (up to 4 words) to dmem */\n#define\tG_VTX\t\t\t4\n#define G_RESERVED1\t\t5\t/* not implemeted */\n#define\tG_DL\t\t\t6\n#define G_RESERVED2\t\t7\t/* not implemeted */\n#define G_RESERVED3\t\t8\t/* not implemeted */\n#define G_SPRITE2D_BASE\t\t9\t/* sprite command */\n\n/* IMMEDIATE commands: */\n#define\tG_IMMFIRST\t\t-65\n#define\tG_TRI1\t\t\t(G_IMMFIRST-0)\n#define G_CULLDL\t\t(G_IMMFIRST-1)\n#define\tG_POPMTX\t\t(G_IMMFIRST-2)\n#define\tG_MOVEWORD\t\t(G_IMMFIRST-3)\n#define\tG_TEXTURE\t\t(G_IMMFIRST-4)\n#define\tG_SETOTHERMODE_H\t(G_IMMFIRST-5)\n#define\tG_SETOTHERMODE_L\t(G_IMMFIRST-6)\n#define G_ENDDL\t\t\t(G_IMMFIRST-7)\n#define G_SETGEOMETRYMODE\t(G_IMMFIRST-8)\n#define G_CLEARGEOMETRYMODE\t(G_IMMFIRST-9)\n#define G_LINE3D\t\t(G_IMMFIRST-10)\n#define G_RDPHALF_1\t\t(G_IMMFIRST-11)\n#define G_RDPHALF_2\t\t(G_IMMFIRST-12)\n#if (defined(F3DEX_GBI)||defined(F3DLP_GBI))\n#define G_MODIFYVTX\t\t(G_IMMFIRST-13)\n#define G_TRI2\t\t(G_IMMFIRST-14)\n#define G_BRANCH_Z\t\t(G_IMMFIRST-15)\n#define G_LOAD_UCODE\t\t(G_IMMFIRST-16)\n#else\n#define G_RDPHALF_CONT\t(G_IMMFIRST-13)\n#endif\n\n#define G_SPRITE2D_SCALEFLIP    (G_IMMFIRST-1)\n#define G_SPRITE2D_DRAW         (G_IMMFIRST-2)\n\n/* RDP commands: */\n#define\tG_NOOP\t\t\t0xc0\t/*   0 */\n\n#endif\n\n/* RDP commands: */\n#define\tG_SETCIMG\t\t0xff\t/*  -1 */\n#define\tG_SETZIMG\t\t0xfe\t/*  -2 */\n#define\tG_SETTIMG\t\t0xfd\t/*  -3 */\n#define\tG_SETCOMBINE\t\t0xfc\t/*  -4 */\n#define\tG_SETENVCOLOR\t\t0xfb\t/*  -5 */\n#define\tG_SETPRIMCOLOR\t\t0xfa\t/*  -6 */\n#define\tG_SETBLENDCOLOR\t\t0xf9\t/*  -7 */\n#define\tG_SETFOGCOLOR\t\t0xf8\t/*  -8 */\n#define\tG_SETFILLCOLOR\t\t0xf7\t/*  -9 */\n#define\tG_FILLRECT\t\t0xf6\t/* -10 */\n#define\tG_SETTILE\t\t0xf5\t/* -11 */\n#define\tG_LOADTILE\t\t0xf4\t/* -12 */\n#define\tG_LOADBLOCK\t\t0xf3\t/* -13 */\n#define\tG_SETTILESIZE\t\t0xf2\t/* -14 */\n#define\tG_LOADTLUT\t\t0xf0\t/* -16 */\n#define\tG_RDPSETOTHERMODE\t0xef\t/* -17 */\n#define\tG_SETPRIMDEPTH\t\t0xee\t/* -18 */\n#define\tG_SETSCISSOR\t\t0xed\t/* -19 */\n#define\tG_SETCONVERT\t\t0xec\t/* -20 */\n#define\tG_SETKEYR\t\t0xeb\t/* -21 */\n#define\tG_SETKEYGB\t\t0xea\t/* -22 */\n#define\tG_RDPFULLSYNC\t\t0xe9\t/* -23 */\n#define\tG_RDPTILESYNC\t\t0xe8\t/* -24 */\n#define\tG_RDPPIPESYNC\t\t0xe7\t/* -25 */\n#define\tG_RDPLOADSYNC\t\t0xe6\t/* -26 */\n#define G_TEXRECTFLIP\t\t0xe5\t/* -27 */\n#define G_TEXRECT\t\t0xe4\t/* -28 */\n\n#define G_TRI_FILL\t\t0xc8 /* fill triangle:            11001000 */\n#define G_TRI_SHADE\t\t0xcc /* shade triangle:           11001100 */\n#define G_TRI_TXTR\t\t0xca /* texture triangle:         11001010 */\n#define G_TRI_SHADE_TXTR\t0xce /* shade, texture triangle:  11001110 */\n#define G_TRI_FILL_ZBUFF\t0xc9 /* fill, zbuff triangle:     11001001 */\n#define G_TRI_SHADE_ZBUFF\t0xcd /* shade, zbuff triangle:    11001101 */\n#define G_TRI_TXTR_ZBUFF\t0xcb /* texture, zbuff triangle:  11001011 */\n#define G_TRI_SHADE_TXTR_ZBUFF\t0xcf /* shade, txtr, zbuff trngl: 11001111 */\n\n#define G_RDP_TRI_FILL_MASK\t0x08\n#define G_RDP_TRI_SHADE_MASK\t0x04\n#define G_RDP_TRI_TXTR_MASK\t0x02\n#define G_RDP_TRI_ZBUFF_MASK\t0x01\n\n#define BOWTIE_VAL\t0\n\n#define G_RDP_ADDR_FIXUP\t3\n\n#define\tGDMACMD(x)\t\t(x)\n#define\tGIMMCMD(x)\t\t(G_IMMFIRST-(x))\n#define\tGRDPCMD(x)\t\t(0xff-(x))\n\n#define\tG_DMACMDSIZ\t\t128\n#define\tG_IMMCMDSIZ\t\t64\n#define\tG_RDPCMDSIZ\t\t64\n\n#define\tG_TEXTURE_IMAGE_FRAC\t2\n#define\tG_TEXTURE_SCALE_FRAC\t16\n#define\tG_SCALE_FRAC\t\t8\n#define\tG_ROTATE_FRAC\t\t16\n\n#define\tG_MAXFBZ\t\t0x3fff\t/* 3b exp, 11b mantissa */\n\n#define\tGPACK_RGBA5551(r, g, b, a)\t((((r)<<8) & 0xf800) | \t\t\t\t\t\t\t (((g)<<3) & 0x7c0) |\t\t\t\t\t\t\t (((b)>>2) & 0x3e) | ((a) & 0x1))\n#define\tGPACK_ZDZ(z, dz)\t\t((z) << 2 | (dz))\n\n#define G_MTX_MODELVIEW\t0x00\t/* matrix types */\n#define G_MTX_PROJECTION\t0x04\n#define G_MTX_MUL\t\t0x00\t/* concat or load */\n#define G_MTX_LOAD\t\t0x02\n#define G_MTX_NOPUSH\t\t0x00\t/* push or not */\n#define G_MTX_PUSH\t\t0x01\n\n#define G_ZBUFFER\t\t0x00000001\n#define G_SHADE\t\t\t0x00000004\t/* enable Gouraud interp */\n\n#define G_TEXTURE_ENABLE\t0x00000000\t/* Ignored               */\n#define G_SHADING_SMOOTH\t0x00200000\t/* flat or smooth shaded */\n#define G_CULL_FRONT\t\t0x00000200\n#define G_CULL_BACK\t\t0x00000400\n#define G_CULL_BOTH\t\t0x00000600\t/* To make code cleaner */\n\n#define G_FOG\t\t\t0x00010000\n#define G_LIGHTING\t\t0x00020000\n#define G_TEXTURE_GEN\t\t0x00040000\n#define G_TEXTURE_GEN_LINEAR\t0x00080000\n#define G_LOD\t\t\t0x00100000\t/* NOT IMPLEMENTED */\n#if\t(defined(F3DEX_GBI)||defined(F3DLP_GBI))\n#define G_CLIPPING\t\t0x00800000\n#else\n#define G_CLIPPING\t\t0x00000000\n#endif\n\n#ifdef _LANGUAGE_ASSEMBLY\n#define G_FOG_H\t\t\t(G_FOG/0x10000)\n#define G_LIGHTING_H\t\t(G_LIGHTING/0x10000)\n#define G_TEXTURE_GEN_H\t\t(G_TEXTURE_GEN/0x10000)\n#define G_TEXTURE_GEN_LINEAR_H\t(G_TEXTURE_GEN_LINEAR/0x10000)\n#define G_LOD_H\t\t\t(G_LOD/0x10000)\t/* NOT IMPLEMENTED */\n#if\t(defined(F3DEX_GBI)||defined(F3DLP_GBI))\n#define G_CLIPPING_H\t\t(G_CLIPPING/0x10000)\n#endif\n#endif\n\n#define G_IM_FMT_RGBA\t0\n#define G_IM_FMT_YUV\t1\n#define G_IM_FMT_CI\t2\n#define G_IM_FMT_IA\t3\n#define G_IM_FMT_I\t4\n\n#define G_IM_SIZ_4b\t0\n#define G_IM_SIZ_8b\t1\n#define G_IM_SIZ_16b\t2\n#define G_IM_SIZ_32b\t3\n#define G_IM_SIZ_DD\t5\n\n#define G_IM_SIZ_4b_BYTES\t\t0\n#define G_IM_SIZ_4b_TILE_BYTES\tG_IM_SIZ_4b_BYTES\n#define G_IM_SIZ_4b_LINE_BYTES\tG_IM_SIZ_4b_BYTES\n\n#define G_IM_SIZ_8b_BYTES\t\t1\n#define G_IM_SIZ_8b_TILE_BYTES\tG_IM_SIZ_8b_BYTES\n#define G_IM_SIZ_8b_LINE_BYTES\tG_IM_SIZ_8b_BYTES\n\n#define G_IM_SIZ_16b_BYTES\t\t2\n#define G_IM_SIZ_16b_TILE_BYTES\tG_IM_SIZ_16b_BYTES\n#define G_IM_SIZ_16b_LINE_BYTES\tG_IM_SIZ_16b_BYTES\n\n#define G_IM_SIZ_32b_BYTES\t\t4\n#define G_IM_SIZ_32b_TILE_BYTES\t2\n#define G_IM_SIZ_32b_LINE_BYTES\t2\n\n#define G_IM_SIZ_4b_LOAD_BLOCK\tG_IM_SIZ_16b\n#define G_IM_SIZ_8b_LOAD_BLOCK\tG_IM_SIZ_16b\n#define G_IM_SIZ_16b_LOAD_BLOCK\tG_IM_SIZ_16b\n#define G_IM_SIZ_32b_LOAD_BLOCK\tG_IM_SIZ_32b\n\n#define G_IM_SIZ_4b_SHIFT  2\n#define G_IM_SIZ_8b_SHIFT  1\n#define G_IM_SIZ_16b_SHIFT 0\n#define G_IM_SIZ_32b_SHIFT 0\n\n#define G_IM_SIZ_4b_INCR  3\n#define G_IM_SIZ_8b_INCR  1\n#define G_IM_SIZ_16b_INCR 0\n#define G_IM_SIZ_32b_INCR 0\n\n#define G_CCMUX_COMBINED\t0\n#define G_CCMUX_TEXEL0\t\t1\n#define G_CCMUX_TEXEL1\t\t2\n#define G_CCMUX_PRIMITIVE\t3\n#define G_CCMUX_SHADE\t\t4\n#define G_CCMUX_ENVIRONMENT\t5\n#define G_CCMUX_CENTER\t\t6\n#define G_CCMUX_SCALE\t\t6\n#define G_CCMUX_COMBINED_ALPHA\t7\n#define G_CCMUX_TEXEL0_ALPHA\t8\n#define G_CCMUX_TEXEL1_ALPHA\t9\n#define G_CCMUX_PRIMITIVE_ALPHA\t10\n#define G_CCMUX_SHADE_ALPHA\t11\n#define G_CCMUX_ENV_ALPHA\t12\n#define G_CCMUX_LOD_FRACTION\t13\n#define G_CCMUX_PRIM_LOD_FRAC\t14\n#define G_CCMUX_NOISE\t\t7\n#define G_CCMUX_K4\t\t7\n#define G_CCMUX_K5\t\t15\n#define G_CCMUX_1\t\t6\n#define G_CCMUX_0\t\t31\n\n#define G_ACMUX_COMBINED\t0\n#define G_ACMUX_TEXEL0\t\t1\n#define G_ACMUX_TEXEL1\t\t2\n#define G_ACMUX_PRIMITIVE\t3\n#define G_ACMUX_SHADE\t\t4\n#define G_ACMUX_ENVIRONMENT\t5\n#define G_ACMUX_LOD_FRACTION\t0\n#define G_ACMUX_PRIM_LOD_FRAC\t6\n#define G_ACMUX_1\t\t6\n#define G_ACMUX_0\t\t7\n\n#define\tG_CC_PRIMITIVE\t\t0, 0, 0, PRIMITIVE, 0, 0, 0, PRIMITIVE\n#define\tG_CC_SHADE\t\t0, 0, 0, SHADE, 0, 0, 0, SHADE\n#define\tG_CC_MODULATEI\t\tTEXEL0, 0, SHADE, 0, 0, 0, 0, SHADE\n#define\tG_CC_MODULATEIA\t\tTEXEL0, 0, SHADE, 0, TEXEL0, 0, SHADE, 0\n#define\tG_CC_MODULATEIDECALA\tTEXEL0, 0, SHADE, 0, 0, 0, 0, TEXEL0\n#define\tG_CC_MODULATERGB\tG_CC_MODULATEI\n#define\tG_CC_MODULATERGBA\tG_CC_MODULATEIA\n#define\tG_CC_MODULATERGBDECALA\tG_CC_MODULATEIDECALA\n#define\tG_CC_MODULATEI_PRIM\tTEXEL0, 0, PRIMITIVE, 0, 0, 0, 0, PRIMITIVE\n#define\tG_CC_MODULATEIA_PRIM\tTEXEL0, 0, PRIMITIVE, 0, TEXEL0, 0, PRIMITIVE, 0\n#define\tG_CC_MODULATEIDECALA_PRIM\tTEXEL0, 0, PRIMITIVE, 0, 0, 0, 0, TEXEL0\n#define\tG_CC_MODULATERGB_PRIM\tG_CC_MODULATEI_PRIM\n#define\tG_CC_MODULATERGBA_PRIM\tG_CC_MODULATEIA_PRIM\n#define\tG_CC_MODULATERGBDECALA_PRIM\tG_CC_MODULATEIDECALA_PRIM\n#define\tG_CC_DECALRGB\t\t0, 0, 0, TEXEL0, 0, 0, 0, SHADE\n#define\tG_CC_DECALRGBA\t\t0, 0, 0, TEXEL0, 0, 0, 0, TEXEL0\n#define\tG_CC_BLENDI\t\tENVIRONMENT, SHADE, TEXEL0, SHADE, 0, 0, 0, SHADE\n#define\tG_CC_BLENDIA\t\tENVIRONMENT, SHADE, TEXEL0, SHADE, TEXEL0, 0, SHADE, 0\n#define\tG_CC_BLENDIDECALA\tENVIRONMENT, SHADE, TEXEL0, SHADE, 0, 0, 0, TEXEL0\n#define\tG_CC_BLENDRGBA\t\tTEXEL0, SHADE, TEXEL0_ALPHA, SHADE, 0, 0, 0, SHADE\n#define\tG_CC_BLENDRGBDECALA\tTEXEL0, SHADE, TEXEL0_ALPHA, SHADE, 0, 0, 0, TEXEL0\n#define G_CC_ADDRGB\t\t1, 0, TEXEL0, SHADE, 0, 0, 0, SHADE\n#define G_CC_ADDRGBDECALA\t1, 0, TEXEL0, SHADE, 0, 0, 0, TEXEL0\n#define G_CC_REFLECTRGB\t\tENVIRONMENT, 0, TEXEL0, SHADE, 0, 0, 0, SHADE\n#define G_CC_REFLECTRGBDECALA\tENVIRONMENT, 0, TEXEL0, SHADE, 0, 0, 0, TEXEL0\n#define G_CC_HILITERGB\t\tPRIMITIVE, SHADE, TEXEL0, SHADE, 0, 0, 0, SHADE\n#define G_CC_HILITERGBA\t\tPRIMITIVE, SHADE, TEXEL0, SHADE, PRIMITIVE, SHADE, TEXEL0, SHADE\n#define G_CC_HILITERGBDECALA\tPRIMITIVE, SHADE, TEXEL0, SHADE, 0, 0, 0, TEXEL0\n#define G_CC_SHADEDECALA\t0, 0, 0, SHADE, 0, 0, 0, TEXEL0\n#define\tG_CC_BLENDPE\t\tPRIMITIVE, ENVIRONMENT, TEXEL0, ENVIRONMENT, TEXEL0, 0, SHADE, 0\n#define\tG_CC_BLENDPEDECALA\tPRIMITIVE, ENVIRONMENT, TEXEL0, ENVIRONMENT, 0, 0, 0, TEXEL0\n\n#define\t_G_CC_BLENDPE\t\tENVIRONMENT, PRIMITIVE, TEXEL0, PRIMITIVE, TEXEL0, 0, SHADE, 0\n#define\t_G_CC_BLENDPEDECALA\tENVIRONMENT, PRIMITIVE, TEXEL0, PRIMITIVE, 0, 0, 0, TEXEL0\n#define\t_G_CC_TWOCOLORTEX\tPRIMITIVE, SHADE, TEXEL0, SHADE, 0, 0, 0, SHADE\n#define\t_G_CC_SPARSEST\t\tPRIMITIVE, TEXEL0, LOD_FRACTION, TEXEL0, PRIMITIVE, TEXEL0, LOD_FRACTION, TEXEL0\n#define G_CC_TEMPLERP   TEXEL1, TEXEL0, PRIM_LOD_FRAC, TEXEL0, TEXEL1, TEXEL0, PRIM_LOD_FRAC, TEXEL0\n\n#define\tG_CC_TRILERP\t\tTEXEL1, TEXEL0, LOD_FRACTION, TEXEL0, TEXEL1, TEXEL0, LOD_FRACTION, TEXEL0\n#define\tG_CC_INTERFERENCE\tTEXEL0, 0, TEXEL1, 0, TEXEL0, 0, TEXEL1, 0\n\n#define\tG_CC_1CYUV2RGB\t\tTEXEL0, K4, K5, TEXEL0, 0, 0, 0, SHADE\n\n#define\tG_CC_YUV2RGB\t\tTEXEL1, K4, K5, TEXEL1, 0, 0, 0, 0\n\n#define\tG_CC_PASS2\t\t0, 0, 0, COMBINED, 0, 0, 0, COMBINED\n#define\tG_CC_MODULATEI2\t\tCOMBINED, 0, SHADE, 0, 0, 0, 0, SHADE\n#define\tG_CC_MODULATEIA2\tCOMBINED, 0, SHADE, 0, COMBINED, 0, SHADE, 0\n#define\tG_CC_MODULATERGB2\tG_CC_MODULATEI2\n#define\tG_CC_MODULATERGBA2\tG_CC_MODULATEIA2\n#define\tG_CC_MODULATEI_PRIM2\tCOMBINED, 0, PRIMITIVE, 0, 0, 0, 0, PRIMITIVE\n#define\tG_CC_MODULATEIA_PRIM2\tCOMBINED, 0, PRIMITIVE, 0, COMBINED, 0, PRIMITIVE, 0\n#define\tG_CC_MODULATERGB_PRIM2\tG_CC_MODULATEI_PRIM2\n#define\tG_CC_MODULATERGBA_PRIM2\tG_CC_MODULATEIA_PRIM2\n#define\tG_CC_DECALRGB2\t\t0, 0, 0, COMBINED, 0, 0, 0, SHADE\n\n#define\tG_CC_BLENDI2\t\tENVIRONMENT, SHADE, COMBINED, SHADE, 0, 0, 0, SHADE\n#define\tG_CC_BLENDIA2\t\tENVIRONMENT, SHADE, COMBINED, SHADE, COMBINED, 0, SHADE, 0\n#define\tG_CC_CHROMA_KEY2\tTEXEL0, CENTER, SCALE, 0, 0, 0, 0, 0\n#define G_CC_HILITERGB2\t\tENVIRONMENT, COMBINED, TEXEL0, COMBINED, 0, 0, 0, SHADE\n#define G_CC_HILITERGBA2\tENVIRONMENT, COMBINED, TEXEL0, COMBINED, ENVIRONMENT, COMBINED, TEXEL0, COMBINED\n#define G_CC_HILITERGBDECALA2\tENVIRONMENT, COMBINED, TEXEL0, COMBINED, 0, 0, 0, TEXEL0\n#define G_CC_HILITERGBPASSA2\tENVIRONMENT, COMBINED, TEXEL0, COMBINED, 0, 0, 0, COMBINED\n\n#define\tG_MDSFT_ALPHACOMPARE\t\t0\n#define\tG_MDSFT_ZSRCSEL\t\t\t2\n#define\tG_MDSFT_RENDERMODE\t\t3\n#define\tG_MDSFT_BLENDER\t\t\t16\n\n#define\tG_MDSFT_BLENDMASK\t\t0\t/* unsupported */\n#define\tG_MDSFT_ALPHADITHER\t\t4\n#define\tG_MDSFT_RGBDITHER\t\t6\n\n#define\tG_MDSFT_COMBKEY\t\t\t8\n#define\tG_MDSFT_TEXTCONV\t\t9\n#define\tG_MDSFT_TEXTFILT\t\t12\n#define\tG_MDSFT_TEXTLUT\t\t\t14\n#define\tG_MDSFT_TEXTLOD\t\t\t16\n#define\tG_MDSFT_TEXTDETAIL\t\t17\n#define\tG_MDSFT_TEXTPERSP\t\t19\n#define\tG_MDSFT_CYCLETYPE\t\t20\n#define\tG_MDSFT_COLORDITHER\t\t22\t/* unsupported in HW 2.0 */\n#define\tG_MDSFT_PIPELINE\t\t23\n\n#define\tG_PM_1PRIMITIVE\t\t(1 << G_MDSFT_PIPELINE)\n#define\tG_PM_NPRIMITIVE\t\t(0 << G_MDSFT_PIPELINE)\n\n#define\tG_CYC_1CYCLE\t\t(0 << G_MDSFT_CYCLETYPE)\n#define\tG_CYC_2CYCLE\t\t(1 << G_MDSFT_CYCLETYPE)\n#define\tG_CYC_COPY\t\t(2 << G_MDSFT_CYCLETYPE)\n#define\tG_CYC_FILL\t\t(3 << G_MDSFT_CYCLETYPE)\n\n#define G_TP_NONE\t(0 << G_MDSFT_TEXTPERSP)\n#define G_TP_PERSP\t(1 << G_MDSFT_TEXTPERSP)\n\n#define G_TD_CLAMP\t(0 << G_MDSFT_TEXTDETAIL)\n#define G_TD_SHARPEN\t(1 << G_MDSFT_TEXTDETAIL)\n#define G_TD_DETAIL\t(2 << G_MDSFT_TEXTDETAIL)\n\n#define G_TL_TILE\t(0 << G_MDSFT_TEXTLOD)\n#define G_TL_LOD\t(1 << G_MDSFT_TEXTLOD)\n\n#define G_TT_NONE\t(0 << G_MDSFT_TEXTLUT)\n#define G_TT_RGBA16\t(2 << G_MDSFT_TEXTLUT)\n#define G_TT_IA16\t(3 << G_MDSFT_TEXTLUT)\n\n#define G_TF_POINT\t(0 << G_MDSFT_TEXTFILT)\n#define G_TF_AVERAGE\t(3 << G_MDSFT_TEXTFILT)\n#define G_TF_BILERP\t(2 << G_MDSFT_TEXTFILT)\n\n#define G_TC_CONV\t(0 << G_MDSFT_TEXTCONV)\n#define G_TC_FILTCONV\t(5 << G_MDSFT_TEXTCONV)\n#define G_TC_FILT\t(6 << G_MDSFT_TEXTCONV)\n\n#define G_CK_NONE\t(0 << G_MDSFT_COMBKEY)\n#define G_CK_KEY\t(1 << G_MDSFT_COMBKEY)\n\n#define\tG_CD_MAGICSQ\t\t(0 << G_MDSFT_RGBDITHER)\n#define\tG_CD_BAYER\t\t(1 << G_MDSFT_RGBDITHER)\n#define\tG_CD_NOISE\t\t(2 << G_MDSFT_RGBDITHER)\n\n#ifndef _HW_VERSION_1\n#define\tG_CD_DISABLE\t\t(3 << G_MDSFT_RGBDITHER)\n#define\tG_CD_ENABLE\t\tG_CD_NOISE\t/* HW 1.0 compatibility mode */\n#else\n#define G_CD_ENABLE\t\t(1 << G_MDSFT_COLORDITHER)\n#define G_CD_DISABLE\t\t(0 << G_MDSFT_COLORDITHER)\n#endif\n\n#define\tG_AD_PATTERN\t\t(0 << G_MDSFT_ALPHADITHER)\n#define\tG_AD_NOTPATTERN\t\t(1 << G_MDSFT_ALPHADITHER)\n#define\tG_AD_NOISE\t\t(2 << G_MDSFT_ALPHADITHER)\n#define\tG_AD_DISABLE\t\t(3 << G_MDSFT_ALPHADITHER)\n\n#define\tG_AC_NONE\t\t(0 << G_MDSFT_ALPHACOMPARE)\n#define\tG_AC_THRESHOLD\t\t(1 << G_MDSFT_ALPHACOMPARE)\n#define\tG_AC_DITHER\t\t(3 << G_MDSFT_ALPHACOMPARE)\n\n#define\tG_ZS_PIXEL\t\t(0 << G_MDSFT_ZSRCSEL)\n#define\tG_ZS_PRIM\t\t(1 << G_MDSFT_ZSRCSEL)\n\n#define\tAA_EN\t\t0x8\n#define\tZ_CMP\t\t0x10\n#define\tZ_UPD\t\t0x20\n#define\tIM_RD\t\t0x40\n#define\tCLR_ON_CVG\t0x80\n#define\tCVG_DST_CLAMP\t0\n#define\tCVG_DST_WRAP\t0x100\n#define\tCVG_DST_FULL\t0x200\n#define\tCVG_DST_SAVE\t0x300\n#define\tZMODE_OPA\t0\n#define\tZMODE_INTER\t0x400\n#define\tZMODE_XLU\t0x800\n#define\tZMODE_DEC\t0xc00\n#define\tCVG_X_ALPHA\t0x1000\n#define\tALPHA_CVG_SEL\t0x2000\n#define\tFORCE_BL\t0x4000\n#define\tTEX_EDGE\t0x0000 /* used to be 0x8000 */\n\n#define\tG_BL_CLR_IN\t0\n#define\tG_BL_CLR_MEM\t1\n#define\tG_BL_CLR_BL\t2\n#define\tG_BL_CLR_FOG\t3\n#define\tG_BL_1MA\t0\n#define\tG_BL_A_MEM\t1\n#define\tG_BL_A_IN\t0\n#define\tG_BL_A_FOG\t1\n#define\tG_BL_A_SHADE\t2\n#define\tG_BL_1\t\t2\n#define\tG_BL_0\t\t3\n\n#define\tGBL_c1(m1a, m1b, m2a, m2b)\t\t(m1a) << 30 | (m1b) << 26 | (m2a) << 22 | (m2b) << 18\n#define\tGBL_c2(m1a, m1b, m2a, m2b)\t\t(m1a) << 28 | (m1b) << 24 | (m2a) << 20 | (m2b) << 16\n\n#define\tRM_AA_ZB_OPA_SURF(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_CLAMP |\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_RA_ZB_OPA_SURF(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | CVG_DST_CLAMP |\t\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_ZB_XLU_SURF(clk)\t\t\t\t\t\tAA_EN | Z_CMP | IM_RD | CVG_DST_WRAP | CLR_ON_CVG |\t\tFORCE_BL | ZMODE_XLU |\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_OPA_DECAL(clk)\t\t\t\t\t\tAA_EN | Z_CMP | IM_RD | CVG_DST_WRAP | ALPHA_CVG_SEL |\t\tZMODE_DEC |\t\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_RA_ZB_OPA_DECAL(clk)\t\t\t\t\t\tAA_EN | Z_CMP | CVG_DST_WRAP | ALPHA_CVG_SEL |\t\t\tZMODE_DEC |\t\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_ZB_XLU_DECAL(clk)\t\t\t\t\t\tAA_EN | Z_CMP | IM_RD | CVG_DST_WRAP | CLR_ON_CVG |\t\tFORCE_BL | ZMODE_DEC |\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_OPA_INTER(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_CLAMP |\t\t\tALPHA_CVG_SEL |\tZMODE_INTER |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_RA_ZB_OPA_INTER(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | CVG_DST_CLAMP |\t\t\t\tALPHA_CVG_SEL |\tZMODE_INTER |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_ZB_XLU_INTER(clk)\t\t\t\t\t\tAA_EN | Z_CMP | IM_RD | CVG_DST_WRAP | CLR_ON_CVG |\t\tFORCE_BL | ZMODE_INTER |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_XLU_LINE(clk)\t\t\t\t\t\tAA_EN | Z_CMP | IM_RD | CVG_DST_CLAMP | CVG_X_ALPHA |\t\tALPHA_CVG_SEL | FORCE_BL | ZMODE_XLU |\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_DEC_LINE(clk)\t\t\t\t\t\tAA_EN | Z_CMP | IM_RD | CVG_DST_SAVE | CVG_X_ALPHA |\t\tALPHA_CVG_SEL | FORCE_BL | ZMODE_DEC |\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_TEX_EDGE(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_CLAMP |\t\t\tCVG_X_ALPHA | ALPHA_CVG_SEL | ZMODE_OPA | TEX_EDGE |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_ZB_TEX_INTER(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_CLAMP |\t\t\tCVG_X_ALPHA | ALPHA_CVG_SEL | ZMODE_INTER | TEX_EDGE |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_ZB_SUB_SURF(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_FULL |\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_ZB_PCL_SURF(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_CLAMP |\t\t\tZMODE_OPA | G_AC_DITHER | \t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_OPA_TERR(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_CLAMP |\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_TEX_TERR(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_CLAMP |\t\t\tCVG_X_ALPHA | ALPHA_CVG_SEL | ZMODE_OPA | TEX_EDGE |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_ZB_SUB_TERR(clk)\t\t\t\t\t\tAA_EN | Z_CMP | Z_UPD | IM_RD | CVG_DST_FULL |\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n\n#define\tRM_AA_OPA_SURF(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_CLAMP |\t\t\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_RA_OPA_SURF(clk)\t\t\t\t\t\tAA_EN | CVG_DST_CLAMP |\t\t\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_XLU_SURF(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_WRAP | CLR_ON_CVG | FORCE_BL |\t\tZMODE_OPA |\t\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_XLU_LINE(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_CLAMP | CVG_X_ALPHA |\t\t\tALPHA_CVG_SEL | FORCE_BL | ZMODE_OPA |\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_DEC_LINE(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_FULL | CVG_X_ALPHA |\t\t\tALPHA_CVG_SEL | FORCE_BL | ZMODE_OPA |\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_TEX_EDGE(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_CLAMP |\t\t\t\t\tCVG_X_ALPHA | ALPHA_CVG_SEL | ZMODE_OPA | TEX_EDGE |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_SUB_SURF(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_FULL |\t\t\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_AA_PCL_SURF(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_CLAMP |\t\t\t\t\tZMODE_OPA | G_AC_DITHER | \t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_OPA_TERR(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_CLAMP |\t\t\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_TEX_TERR(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_CLAMP |\t\t\t\t\tCVG_X_ALPHA | ALPHA_CVG_SEL | ZMODE_OPA | TEX_EDGE |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_AA_SUB_TERR(clk)\t\t\t\t\t\tAA_EN | IM_RD | CVG_DST_FULL |\t\t\t\t\tZMODE_OPA | ALPHA_CVG_SEL |\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n\n#define\tRM_ZB_OPA_SURF(clk)\t\t\t\t\t\tZ_CMP | Z_UPD | CVG_DST_FULL | ALPHA_CVG_SEL |\t\t\tZMODE_OPA |\t\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_ZB_XLU_SURF(clk)\t\t\t\t\t\tZ_CMP | IM_RD | CVG_DST_FULL | FORCE_BL | ZMODE_XLU |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_ZB_OPA_DECAL(clk)\t\t\t\t\t\tZ_CMP | CVG_DST_FULL | ALPHA_CVG_SEL | ZMODE_DEC |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_A_MEM)\n\n#define\tRM_ZB_XLU_DECAL(clk)\t\t\t\t\t\tZ_CMP | IM_RD | CVG_DST_FULL | FORCE_BL | ZMODE_DEC |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_ZB_CLD_SURF(clk)\t\t\t\t\t\tZ_CMP | IM_RD | CVG_DST_SAVE | FORCE_BL | ZMODE_XLU |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_ZB_OVL_SURF(clk)\t\t\t\t\t\tZ_CMP | IM_RD | CVG_DST_SAVE | FORCE_BL | ZMODE_DEC |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_ZB_PCL_SURF(clk)\t\t\t\t\t\tZ_CMP | Z_UPD | CVG_DST_FULL | ZMODE_OPA |\t\t\tG_AC_DITHER | \t\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_0, G_BL_CLR_IN, G_BL_1)\n\n\n#define\tRM_OPA_SURF(clk)\t\t\t\t\t\tCVG_DST_CLAMP | FORCE_BL | ZMODE_OPA |\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_0, G_BL_CLR_IN, G_BL_1)\n\n#define\tRM_XLU_SURF(clk)\t\t\t\t\t\tIM_RD | CVG_DST_FULL | FORCE_BL | ZMODE_OPA |\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_TEX_EDGE(clk)\t\t\t\t\t\tCVG_DST_CLAMP | CVG_X_ALPHA | ALPHA_CVG_SEL | FORCE_BL |\tZMODE_OPA | TEX_EDGE | AA_EN |\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_0, G_BL_CLR_IN, G_BL_1)\n\n#define\tRM_CLD_SURF(clk)\t\t\t\t\t\tIM_RD | CVG_DST_SAVE | FORCE_BL | ZMODE_OPA |\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_IN, G_BL_CLR_MEM, G_BL_1MA)\n\n#define\tRM_PCL_SURF(clk)\t\t\t\t\t\tCVG_DST_FULL | FORCE_BL | ZMODE_OPA | \t\t\t\tG_AC_DITHER | \t\t\t\t\t\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_0, G_BL_CLR_IN, G_BL_1)\n\n#define\tRM_ADD(clk)\t\t\t\t\t\tIM_RD | CVG_DST_SAVE | FORCE_BL | ZMODE_OPA |\t\tGBL_c##clk(G_BL_CLR_IN, G_BL_A_FOG, G_BL_CLR_MEM, G_BL_1)\n\n#define\tRM_NOOP(clk)\t\tGBL_c##clk(0, 0, 0, 0)\n\n#define RM_VISCVG(clk) \tIM_RD | FORCE_BL |     \tGBL_c##clk(G_BL_CLR_IN, G_BL_0, G_BL_CLR_BL, G_BL_A_MEM)\n\n/* for rendering to an 8-bit framebuffer */\n#define RM_OPA_CI(clk)                    \tCVG_DST_CLAMP | ZMODE_OPA |          \tGBL_c##clk(G_BL_CLR_IN, G_BL_0, G_BL_CLR_IN, G_BL_1)\n\n#define\tG_RM_AA_ZB_OPA_SURF\tRM_AA_ZB_OPA_SURF(1)\n#define\tG_RM_AA_ZB_OPA_SURF2\tRM_AA_ZB_OPA_SURF(2)\n#define\tG_RM_AA_ZB_XLU_SURF\tRM_AA_ZB_XLU_SURF(1)\n#define\tG_RM_AA_ZB_XLU_SURF2\tRM_AA_ZB_XLU_SURF(2)\n#define\tG_RM_AA_ZB_OPA_DECAL\tRM_AA_ZB_OPA_DECAL(1)\n#define\tG_RM_AA_ZB_OPA_DECAL2\tRM_AA_ZB_OPA_DECAL(2)\n#define\tG_RM_AA_ZB_XLU_DECAL\tRM_AA_ZB_XLU_DECAL(1)\n#define\tG_RM_AA_ZB_XLU_DECAL2\tRM_AA_ZB_XLU_DECAL(2)\n#define\tG_RM_AA_ZB_OPA_INTER\tRM_AA_ZB_OPA_INTER(1)\n#define\tG_RM_AA_ZB_OPA_INTER2\tRM_AA_ZB_OPA_INTER(2)\n#define\tG_RM_AA_ZB_XLU_INTER\tRM_AA_ZB_XLU_INTER(1)\n#define\tG_RM_AA_ZB_XLU_INTER2\tRM_AA_ZB_XLU_INTER(2)\n#define\tG_RM_AA_ZB_XLU_LINE\tRM_AA_ZB_XLU_LINE(1)\n#define\tG_RM_AA_ZB_XLU_LINE2\tRM_AA_ZB_XLU_LINE(2)\n#define\tG_RM_AA_ZB_DEC_LINE\tRM_AA_ZB_DEC_LINE(1)\n#define\tG_RM_AA_ZB_DEC_LINE2\tRM_AA_ZB_DEC_LINE(2)\n#define\tG_RM_AA_ZB_TEX_EDGE\tRM_AA_ZB_TEX_EDGE(1)\n#define\tG_RM_AA_ZB_TEX_EDGE2\tRM_AA_ZB_TEX_EDGE(2)\n#define\tG_RM_AA_ZB_TEX_INTER\tRM_AA_ZB_TEX_INTER(1)\n#define\tG_RM_AA_ZB_TEX_INTER2\tRM_AA_ZB_TEX_INTER(2)\n#define\tG_RM_AA_ZB_SUB_SURF\tRM_AA_ZB_SUB_SURF(1)\n#define\tG_RM_AA_ZB_SUB_SURF2\tRM_AA_ZB_SUB_SURF(2)\n#define\tG_RM_AA_ZB_PCL_SURF\tRM_AA_ZB_PCL_SURF(1)\n#define\tG_RM_AA_ZB_PCL_SURF2\tRM_AA_ZB_PCL_SURF(2)\n#define\tG_RM_AA_ZB_OPA_TERR\tRM_AA_ZB_OPA_TERR(1)\n#define\tG_RM_AA_ZB_OPA_TERR2\tRM_AA_ZB_OPA_TERR(2)\n#define\tG_RM_AA_ZB_TEX_TERR\tRM_AA_ZB_TEX_TERR(1)\n#define\tG_RM_AA_ZB_TEX_TERR2\tRM_AA_ZB_TEX_TERR(2)\n#define\tG_RM_AA_ZB_SUB_TERR\tRM_AA_ZB_SUB_TERR(1)\n#define\tG_RM_AA_ZB_SUB_TERR2\tRM_AA_ZB_SUB_TERR(2)\n\n#define\tG_RM_RA_ZB_OPA_SURF\tRM_RA_ZB_OPA_SURF(1)\n#define\tG_RM_RA_ZB_OPA_SURF2\tRM_RA_ZB_OPA_SURF(2)\n#define\tG_RM_RA_ZB_OPA_DECAL\tRM_RA_ZB_OPA_DECAL(1)\n#define\tG_RM_RA_ZB_OPA_DECAL2\tRM_RA_ZB_OPA_DECAL(2)\n#define\tG_RM_RA_ZB_OPA_INTER\tRM_RA_ZB_OPA_INTER(1)\n#define\tG_RM_RA_ZB_OPA_INTER2\tRM_RA_ZB_OPA_INTER(2)\n\n#define\tG_RM_AA_OPA_SURF\tRM_AA_OPA_SURF(1)\n#define\tG_RM_AA_OPA_SURF2\tRM_AA_OPA_SURF(2)\n#define\tG_RM_AA_XLU_SURF\tRM_AA_XLU_SURF(1)\n#define\tG_RM_AA_XLU_SURF2\tRM_AA_XLU_SURF(2)\n#define\tG_RM_AA_XLU_LINE\tRM_AA_XLU_LINE(1)\n#define\tG_RM_AA_XLU_LINE2\tRM_AA_XLU_LINE(2)\n#define\tG_RM_AA_DEC_LINE\tRM_AA_DEC_LINE(1)\n#define\tG_RM_AA_DEC_LINE2\tRM_AA_DEC_LINE(2)\n#define\tG_RM_AA_TEX_EDGE\tRM_AA_TEX_EDGE(1)\n#define\tG_RM_AA_TEX_EDGE2\tRM_AA_TEX_EDGE(2)\n#define\tG_RM_AA_SUB_SURF\tRM_AA_SUB_SURF(1)\n#define\tG_RM_AA_SUB_SURF2\tRM_AA_SUB_SURF(2)\n#define\tG_RM_AA_PCL_SURF\tRM_AA_PCL_SURF(1)\n#define\tG_RM_AA_PCL_SURF2\tRM_AA_PCL_SURF(2)\n#define\tG_RM_AA_OPA_TERR\tRM_AA_OPA_TERR(1)\n#define\tG_RM_AA_OPA_TERR2\tRM_AA_OPA_TERR(2)\n#define\tG_RM_AA_TEX_TERR\tRM_AA_TEX_TERR(1)\n#define\tG_RM_AA_TEX_TERR2\tRM_AA_TEX_TERR(2)\n#define\tG_RM_AA_SUB_TERR\tRM_AA_SUB_TERR(1)\n#define\tG_RM_AA_SUB_TERR2\tRM_AA_SUB_TERR(2)\n\n#define\tG_RM_RA_OPA_SURF\tRM_RA_OPA_SURF(1)\n#define\tG_RM_RA_OPA_SURF2\tRM_RA_OPA_SURF(2)\n\n#define\tG_RM_ZB_OPA_SURF\tRM_ZB_OPA_SURF(1)\n#define\tG_RM_ZB_OPA_SURF2\tRM_ZB_OPA_SURF(2)\n#define\tG_RM_ZB_XLU_SURF\tRM_ZB_XLU_SURF(1)\n#define\tG_RM_ZB_XLU_SURF2\tRM_ZB_XLU_SURF(2)\n#define\tG_RM_ZB_OPA_DECAL\tRM_ZB_OPA_DECAL(1)\n#define\tG_RM_ZB_OPA_DECAL2\tRM_ZB_OPA_DECAL(2)\n#define\tG_RM_ZB_XLU_DECAL\tRM_ZB_XLU_DECAL(1)\n#define\tG_RM_ZB_XLU_DECAL2\tRM_ZB_XLU_DECAL(2)\n#define\tG_RM_ZB_CLD_SURF\tRM_ZB_CLD_SURF(1)\n#define\tG_RM_ZB_CLD_SURF2\tRM_ZB_CLD_SURF(2)\n#define\tG_RM_ZB_OVL_SURF\tRM_ZB_OVL_SURF(1)\n#define\tG_RM_ZB_OVL_SURF2\tRM_ZB_OVL_SURF(2)\n#define\tG_RM_ZB_PCL_SURF\tRM_ZB_PCL_SURF(1)\n#define\tG_RM_ZB_PCL_SURF2\tRM_ZB_PCL_SURF(2)\n\n#define\tG_RM_OPA_SURF\t\tRM_OPA_SURF(1)\n#define\tG_RM_OPA_SURF2\t\tRM_OPA_SURF(2)\n#define\tG_RM_XLU_SURF\t\tRM_XLU_SURF(1)\n#define\tG_RM_XLU_SURF2\t\tRM_XLU_SURF(2)\n#define\tG_RM_CLD_SURF\t\tRM_CLD_SURF(1)\n#define\tG_RM_CLD_SURF2\t\tRM_CLD_SURF(2)\n#define\tG_RM_TEX_EDGE\t\tRM_TEX_EDGE(1)\n#define\tG_RM_TEX_EDGE2\t\tRM_TEX_EDGE(2)\n#define\tG_RM_PCL_SURF\t\tRM_PCL_SURF(1)\n#define\tG_RM_PCL_SURF2\t\tRM_PCL_SURF(2)\n#define G_RM_ADD       \t\tRM_ADD(1)\n#define G_RM_ADD2      \t\tRM_ADD(2)\n#define G_RM_NOOP       \tRM_NOOP(1)\n#define G_RM_NOOP2      \tRM_NOOP(2)\n#define G_RM_VISCVG    \t\tRM_VISCVG(1)\n#define G_RM_VISCVG2    \tRM_VISCVG(2)\n#define G_RM_OPA_CI         RM_OPA_CI(1)\n#define G_RM_OPA_CI2        RM_OPA_CI(2)\n\n\n#define\tG_RM_FOG_SHADE_A\tGBL_c1(G_BL_CLR_FOG, G_BL_A_SHADE, G_BL_CLR_IN, G_BL_1MA)\n#define\tG_RM_FOG_PRIM_A\t\tGBL_c1(G_BL_CLR_FOG, G_BL_A_FOG, G_BL_CLR_IN, G_BL_1MA)\n#define\tG_RM_PASS\t\tGBL_c1(G_BL_CLR_IN, G_BL_0, G_BL_CLR_IN, G_BL_1)\n\n#define\tG_CV_K0\t\t175\n#define\tG_CV_K1\t\t-43\n#define\tG_CV_K2\t\t-89\n#define\tG_CV_K3\t\t222\n#define\tG_CV_K4\t\t114\n#define\tG_CV_K5\t\t42\n\n#define\tG_SC_NON_INTERLACE\t0\n#define\tG_SC_ODD_INTERLACE\t3\n#define\tG_SC_EVEN_INTERLACE\t2\n\n#define G_DL_PUSH\t\t0x00\n#define G_DL_NOPUSH\t\t0x01\n\n#if defined(_LANGUAGE_C)\n\ntypedef struct {\n\tshort\t\tob[3];\t/* x, y, z */\n\tunsigned short\tflag;\n\tshort\t\ttc[2];\t/* texture coord */\n\tunsigned char\tcn[4];\t/* color & alpha */\n} Vtx_t;\n\ntypedef struct {\n\tshort\t\tob[3];\t/* x, y, z */\n\tunsigned short\tflag;\n\tshort\t\ttc[2];\t/* texture coord */\n\tsigned char\tn[3];\t/* normal */\n\tunsigned char   a;      /* alpha  */\n} Vtx_tn;\n\ntypedef union {\n    Vtx_t\t\tv;  /* Use this one for colors  */\n    Vtx_tn              n;  /* Use this one for normals */\n    u64\tforce_structure_alignment;\n} Vtx;\n\ntypedef struct {\n  void *SourceImagePointer;\n  void *TlutPointer;\n  short Stride;\n  short SubImageWidth;\n  short SubImageHeight;\n  char  SourceImageType;\n  char  SourceImageBitSize;\n  short SourceImageOffsetS;\n  short SourceImageOffsetT;\n  /* 20 bytes for above */\n\n  /* padding to bring structure size to 64 bit allignment */\n  char dummy[4];\n\n} uSprite_t;\n\ntypedef union {\n  uSprite_t  s;\n\n  /* Need to make sure this is 64 bit aligned */\n  u64         force_structure_allignment[3];\n} uSprite;\n\ntypedef struct {\n\tunsigned char\tflag;\n\tunsigned char\tv[3];\n} Tri;\n\ntypedef long\tMtx_t[4][4];\n\ntypedef union {\n    Mtx_t\t\tm;\n    u64\tforce_structure_alignment;\n} Mtx;\n\n#define G_MAXZ\t\t0x03ff\t/* 10 bits of integer screen-Z precision */\n\ntypedef struct {\n\tshort\tvscale[4];  /* scale, 2 bits fraction */\n\tshort\tvtrans[4];  /* translate, 2 bits fraction */\n\t/* both the above arrays are padded to 64-bit boundary */\n} Vp_t;\n\ntypedef union {\n    Vp_t\t\tvp;\n    u64\tforce_structure_alignment;\n} Vp;\n\n#define G_MV_MMTX\t2\n#define G_MV_PMTX\t6\n#define G_MV_VIEWPORT\t8\n#define G_MV_LIGHT\t10\n#define G_MV_POINT\t12\n#define G_MV_MATRIX\t14\n#define G_MVO_LOOKATX\t(0*24)\n#define G_MVO_LOOKATY\t(1*24)\n#define G_MVO_L0\t(2*24)\n#define G_MVO_L1\t(3*24)\n#define G_MVO_L2\t(4*24)\n#define G_MVO_L3\t(5*24)\n#define G_MVO_L4\t(6*24)\n#define G_MVO_L5\t(7*24)\n#define G_MVO_L6\t(8*24)\n#define G_MVO_L7\t(9*24)\n\n#define G_MW_MATRIX\t\t0x00\n#define G_MW_NUMLIGHT\t\t0x02\n#define G_MW_CLIP\t\t0x04\n#define G_MW_SEGMENT\t\t0x06\n#define G_MW_FOG\t\t0x08\n#define G_MW_LIGHTCOL\t\t0x0a\n#ifdef\tF3DEX_GBI_2\n#define G_MW_FORCEMTX\t\t0x0c\n#else\t/* F3DEX_GBI_2 */\n#define G_MW_POINTS\t\t0x0c\n#endif\t/* F3DEX_GBI_2 */\n#define\tG_MW_PERSPNORM\t\t0x0e\n\n#define G_MWO_NUMLIGHT\t\t0x00\n#define G_MWO_CLIP_RNX\t\t0x04\n#define G_MWO_CLIP_RNY\t\t0x0c\n#define G_MWO_CLIP_RPX\t\t0x14\n#define G_MWO_CLIP_RPY\t\t0x1c\n#define G_MWO_SEGMENT_0\t\t0x00\n#define G_MWO_SEGMENT_1\t\t0x01\n#define G_MWO_SEGMENT_2\t\t0x02\n#define G_MWO_SEGMENT_3\t\t0x03\n#define G_MWO_SEGMENT_4\t\t0x04\n#define G_MWO_SEGMENT_5\t\t0x05\n#define G_MWO_SEGMENT_6\t\t0x06\n#define G_MWO_SEGMENT_7\t\t0x07\n#define G_MWO_SEGMENT_8\t\t0x08\n#define G_MWO_SEGMENT_9\t\t0x09\n#define G_MWO_SEGMENT_A\t\t0x0a\n#define G_MWO_SEGMENT_B\t\t0x0b\n#define G_MWO_SEGMENT_C\t\t0x0c\n#define G_MWO_SEGMENT_D\t\t0x0d\n#define G_MWO_SEGMENT_E\t\t0x0e\n#define G_MWO_SEGMENT_F\t\t0x0f\n#define G_MWO_FOG\t\t0x00\n#define G_MWO_aLIGHT_1\t\t0x00\n#define G_MWO_bLIGHT_1\t\t0x04\n#ifdef\tF3DEX_GBI_2\n#define G_MWO_aLIGHT_2\t\t0x18\n#define G_MWO_bLIGHT_2\t\t0x1c\n#define G_MWO_aLIGHT_3\t\t0x30\n#define G_MWO_bLIGHT_3\t\t0x34\n#define G_MWO_aLIGHT_4\t\t0x48\n#define G_MWO_bLIGHT_4\t\t0x4c\n#define G_MWO_aLIGHT_5\t\t0x60\n#define G_MWO_bLIGHT_5\t\t0x64\n#define G_MWO_aLIGHT_6\t\t0x78\n#define G_MWO_bLIGHT_6\t\t0x7c\n#define G_MWO_aLIGHT_7\t\t0x90\n#define G_MWO_bLIGHT_7\t\t0x94\n#define G_MWO_aLIGHT_8\t\t0xa8\n#define G_MWO_bLIGHT_8\t\t0xac\n#else\n#define G_MWO_aLIGHT_2\t\t0x20\n#define G_MWO_bLIGHT_2\t\t0x24\n#define G_MWO_aLIGHT_3\t\t0x40\n#define G_MWO_bLIGHT_3\t\t0x44\n#define G_MWO_aLIGHT_4\t\t0x60\n#define G_MWO_bLIGHT_4\t\t0x64\n#define G_MWO_aLIGHT_5\t\t0x80\n#define G_MWO_bLIGHT_5\t\t0x84\n#define G_MWO_aLIGHT_6\t\t0xa0\n#define G_MWO_bLIGHT_6\t\t0xa4\n#define G_MWO_aLIGHT_7\t\t0xc0\n#define G_MWO_bLIGHT_7\t\t0xc4\n#define G_MWO_aLIGHT_8\t\t0xe0\n#define G_MWO_bLIGHT_8\t\t0xe4\n#endif\n#define G_MWO_MATRIX_XX_XY_I\t0x00\n#define G_MWO_MATRIX_XZ_XW_I\t0x04\n#define G_MWO_MATRIX_YX_YY_I\t0x08\n#define G_MWO_MATRIX_YZ_YW_I\t0x0c\n#define G_MWO_MATRIX_ZX_ZY_I\t0x10\n#define G_MWO_MATRIX_ZZ_ZW_I\t0x14\n#define G_MWO_MATRIX_WX_WY_I\t0x18\n#define G_MWO_MATRIX_WZ_WW_I\t0x1c\n#define G_MWO_MATRIX_XX_XY_F\t0x20\n#define G_MWO_MATRIX_XZ_XW_F\t0x24\n#define G_MWO_MATRIX_YX_YY_F\t0x28\n#define G_MWO_MATRIX_YZ_YW_F\t0x2c\n#define G_MWO_MATRIX_ZX_ZY_F\t0x30\n#define G_MWO_MATRIX_ZZ_ZW_F\t0x34\n#define G_MWO_MATRIX_WX_WY_F\t0x38\n#define G_MWO_MATRIX_WZ_WW_F\t0x3c\n#define G_MWO_POINT_RGBA\t0x10\n#define G_MWO_POINT_ST\t\t0x14\n#define G_MWO_POINT_XYSCREEN\t0x18\n#define G_MWO_POINT_ZSCREEN\t0x1c\n\ntypedef struct {\n  unsigned char\tcol[3];\t\t/* diffuse light value (rgba) */\n  char \t\tpad1;\n  unsigned char\tcolc[3];\t/* copy of diffuse light value (rgba) */\n  char \t\tpad2;\n  signed char\tdir[3];\t\t/* direction of light (normalized) */\n  char \t\tpad3;\n} Light_t;\n\ntypedef struct {\n  unsigned char\tcol[3];\t\t/* ambient light value (rgba) */\n  char \t\tpad1;\n  unsigned char\tcolc[3];\t/* copy of ambient light value (rgba) */\n  char \t\tpad2;\n} Ambient_t;\n\ntypedef struct {\n  int\t\tx1,y1,x2,y2;\t/* texture offsets for highlight 1/2 */\n} Hilite_t;\n\ntypedef union {\n    Light_t\tl;\n    u64\tforce_structure_alignment[2];\n} Light;\n\ntypedef union {\n    Ambient_t\tl;\n    u64\tforce_structure_alignment[1];\n} Ambient;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[7];\n} Lightsn;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[1];\n} Lights0;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[1];\n} Lights1;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[2];\n} Lights2;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[3];\n} Lights3;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[4];\n} Lights4;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[5];\n} Lights5;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[6];\n} Lights6;\n\ntypedef struct {\n    Ambient\ta;\n    Light\tl[7];\n} Lights7;\n\ntypedef struct {\n    Light\tl[2];\n} LookAt;\n\ntypedef union {\n    Hilite_t\th;\n    long int\tforce_structure_alignment[4];\n} Hilite;\n\n#define gdSPDefLights0(ar,ag,ab)\t\t\t\t\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ { 0, 0, 0},0,{ 0, 0, 0},0,{ 0, 0, 0},0}}} }\n#define gdSPDefLights1(ar,ag,ab,r1,g1,b1,x1,y1,z1)\t\t\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ {r1,g1,b1},0,{r1,g1,b1},0,{x1,y1,z1},0}}} }\n#define gdSPDefLights2(ar,ag,ab,r1,g1,b1,x1,y1,z1,r2,g2,b2,x2,y2,z2)\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ {r1,g1,b1},0,{r1,g1,b1},0,{x1,y1,z1},0}},\t\t\t\t{{ {r2,g2,b2},0,{r2,g2,b2},0,{x2,y2,z2},0}}} }\n#define gdSPDefLights3(ar,ag,ab,r1,g1,b1,x1,y1,z1,r2,g2,b2,x2,y2,z2,r3,g3,b3,x3,y3,z3)\t\t\t\t\t\t\t\t\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ {r1,g1,b1},0,{r1,g1,b1},0,{x1,y1,z1},0}},\t\t\t\t{{ {r2,g2,b2},0,{r2,g2,b2},0,{x2,y2,z2},0}},\t\t\t\t{{ {r3,g3,b3},0,{r3,g3,b3},0,{x3,y3,z3},0}}} }\n#define gdSPDefLights4(ar,ag,ab,r1,g1,b1,x1,y1,z1,r2,g2,b2,x2,y2,z2,r3,g3,b3,x3,y3,z3,r4,g4,b4,x4,y4,z4)\t\t\t\t\t\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ {r1,g1,b1},0,{r1,g1,b1},0,{x1,y1,z1},0}},\t\t\t\t{{ {r2,g2,b2},0,{r2,g2,b2},0,{x2,y2,z2},0}},\t\t\t\t{{ {r3,g3,b3},0,{r3,g3,b3},0,{x3,y3,z3},0}},\t\t\t\t{{ {r4,g4,b4},0,{r4,g4,b4},0,{x4,y4,z4},0}}} }\n#define gdSPDefLights5(ar,ag,ab,r1,g1,b1,x1,y1,z1,r2,g2,b2,x2,y2,z2,r3,g3,b3,x3,y3,z3,r4,g4,b4,x4,y4,z4,r5,g5,b5,x5,y5,z5)\t\t\t\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ {r1,g1,b1},0,{r1,g1,b1},0,{x1,y1,z1},0}},\t\t\t\t{{ {r2,g2,b2},0,{r2,g2,b2},0,{x2,y2,z2},0}},\t\t\t\t{{ {r3,g3,b3},0,{r3,g3,b3},0,{x3,y3,z3},0}},\t\t\t\t{{ {r4,g4,b4},0,{r4,g4,b4},0,{x4,y4,z4},0}},\t\t\t\t{{ {r5,g5,b5},0,{r5,g5,b5},0,{x5,y5,z5},0}}} }\n\n\n#define gdSPDefLights6(ar,ag,ab,r1,g1,b1,x1,y1,z1,r2,g2,b2,x2,y2,z2,r3,g3,b3,x3,y3,z3,r4,g4,b4,x4,y4,z4,r5,g5,b5,x5,y5,z5,r6,g6,b6,x6,y6,z6)\t\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ {r1,g1,b1},0,{r1,g1,b1},0,{x1,y1,z1},0}},\t\t\t\t{{ {r2,g2,b2},0,{r2,g2,b2},0,{x2,y2,z2},0}},\t\t\t\t{{ {r3,g3,b3},0,{r3,g3,b3},0,{x3,y3,z3},0}},\t\t\t\t{{ {r4,g4,b4},0,{r4,g4,b4},0,{x4,y4,z4},0}},\t\t\t\t{{ {r5,g5,b5},0,{r5,g5,b5},0,{x5,y5,z5},0}},\t\t\t\t{{ {r6,g6,b6},0,{r6,g6,b6},0,{x6,y6,z6},0}}} }\n\n\n#define gdSPDefLights7(ar,ag,ab,r1,g1,b1,x1,y1,z1,r2,g2,b2,x2,y2,z2,r3,g3,b3,x3,y3,z3,r4,g4,b4,x4,y4,z4,r5,g5,b5,x5,y5,z5,r6,g6,b6,x6,y6,z6,r7,g7,b7,x7,y7,z7)\t\t\t{ \t{{ {ar,ag,ab},0,{ar,ag,ab},0}},\t\t\t\t\t       {{{ {r1,g1,b1},0,{r1,g1,b1},0,{x1,y1,z1},0}},\t\t\t\t{{ {r2,g2,b2},0,{r2,g2,b2},0,{x2,y2,z2},0}},\t\t\t\t{{ {r3,g3,b3},0,{r3,g3,b3},0,{x3,y3,z3},0}},\t\t\t\t{{ {r4,g4,b4},0,{r4,g4,b4},0,{x4,y4,z4},0}},\t\t\t\t{{ {r5,g5,b5},0,{r5,g5,b5},0,{x5,y5,z5},0}},\t\t\t\t{{ {r6,g6,b6},0,{r6,g6,b6},0,{x6,y6,z6},0}},\t\t\t\t{{ {r7,g7,b7},0,{r7,g7,b7},0,{x7,y7,z7},0}}} }\n\n\n#define gdSPDefLookAt(rightx,righty,rightz,upx,upy,upz)\t\t\t    \t\t{\t{{ {{0,0,0},0,{0,0,0},0,{rightx,righty,rightz},0}}, \t\t\t{ {{0,0x80,0},0,{0,0x80,0},0,{upx,upy,upz},0}}}   }\n\n// bit fields not supported in SmallerC.\ntypedef struct {\n\tint\t\tcmd;\n\t// unsigned int\tpar:8;\n\t// unsigned int\tlen:16;\n\tunsigned int\taddr;\n} Gdma;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tpad:24;\n\t\tTri\t\ttri;\n} Gtri;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tpad1:24;\n\t\t//int             pad2:24;\n\t\tunsigned char\tparam;\n} Gpopmtx;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tpad0:8;\n\t\t//int\t\tmw_index:8;\n\t\t//int\t\tnumber:8;\n\t\t//int\t\tpad1:8;\n\t\tint\t\tbase; //:24;\n} Gsegment;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tpad0:8;\n\t\t//int\t\tsft:8;\n\t\t//int\t\tlen:8;\n\t\tunsigned int\tdata; //:32;\n} GsetothermodeL;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tpad0:8;\n\t\t//int\t\tsft:8;\n\t\t//int\t\tlen:8;\n\t\tunsigned int\tdata; //:32;\n} GsetothermodeH;\n\ntypedef struct {\n\t\tunsigned char\tcmd;\n\t\tunsigned char\tlodscale;\n\t\tunsigned char\ttile;\n\t\tunsigned char\ton;\n\t\tunsigned short\ts;\n\t\tunsigned short\tt;\n} Gtexture;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tpad:24;\n\t\tTri\t\tline;\n} Gline3D;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tpad1:24;\n\t\tshort int\tpad2;\n\t\tshort int       scale;\n} Gperspnorm;\n\ntypedef struct {\n                int             cmd;\n                //unsigned int    fmt:3;\n                //unsigned int    siz:2;\n               // unsigned int    pad:7;\n                //unsigned int    wd:12;\n                unsigned int    dram;\n} Gsetimg;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//unsigned int\tmuxs0:24;\n\t\tunsigned int\tmuxs1; //:32;\n} Gsetcombine;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\tunsigned char\tpad;\n\t\tunsigned char\tprim_min_level;\n\t\tunsigned char\tprim_level;\n\t\tunsigned long\tcolor;\n} Gsetcolor;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t//int\t\tx0:10;\n\t\t//int\t\tx0frac:2;\n\t\t//int\t\ty0:10;\n\t\t//int\t\ty0frac:2;\n\t\t//unsigned int\tpad:8;\n\t\t//int\t\tx1:10;\n\t\t//int\t\tx1frac:2;\n\t\t//int\t\ty1:10;\n\t\t//int\t\ty1frac:2;\n} Gfillrect;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t// unsigned int\tfmt:3;\n\t\t// unsigned int\tsiz:2;\n\t\t// unsigned int\tpad0:1;\n\t\t// unsigned int\tline:9;\n\t\t// unsigned int\ttmem:9;\n\t\t// unsigned int\tpad1:5;\n\t\t// unsigned int\ttile:3;\n\t\t// unsigned int\tpalette:4;\n\t\t// unsigned int\tct:1;\n\t\t// unsigned int\tmt:1;\n\t\t// unsigned int\tmaskt:4;\n\t\t// unsigned int\tshiftt:4;\n\t\t// unsigned int\tcs:1;\n\t\t// unsigned int\tms:1;\n\t\t// unsigned int\tmasks:4;\n\t\t// unsigned int\tshifts:4;\n} Gsettile;\n\ntypedef struct {\n\t\tint\t\tcmd;\n\t\t// unsigned int\tsl:12;\n\t\t// unsigned int\ttl:12;\n\t\t// int\t\tpad:5;\n\t\t// unsigned int\ttile:3;\n\t\t// unsigned int\tsh:12;\n\t\t// unsigned int\tth:12;\n} Gloadtile;\n\ntypedef Gloadtile Gloadblock;\n\ntypedef Gloadtile Gsettilesize;\n\ntypedef Gloadtile Gloadtlut;\n\ntypedef struct {\n\t\tunsigned int\tcmd;\n\t\t// unsigned int\txl:12;\n\t\t// unsigned int\tyl:12;\n\t\t// unsigned int\tpad1:5;\n\t\t// unsigned int\ttile:3;\n\t\t// unsigned int\txh:12;\n\t\t// unsigned int\tyh:12;\n\t\t// unsigned int\ts:16;\n\t\t// unsigned int\tt:16;\n\t\t// unsigned int\tdsdx:16;\n\t\t// unsigned int\tdtdy:16;\n} Gtexrect;\n\n#define\tMakeTexRect(xh,yh,flip,tile,xl,yl,s,t,dsdx,dtdy)\t\t\tG_TEXRECT, xh, yh, 0, flip, 0, tile, xl, yl, s, t, dsdx, dtdy\n\ntypedef struct {\n    unsigned long w0;\n    unsigned long w1;\n    unsigned long w2;\n    unsigned long w3;\n} TexRect;\n\ntypedef struct {\n\tunsigned int w0;\n\tunsigned int w1;\n} Gwords;\n\ntypedef union {\n\tGwords\t\twords;\n\tGdma\t\tdma;\n\tGtri\t\ttri;\n\tGline3D\t\tline;\n\tGpopmtx\t\tpopmtx;\n\tGsegment\tsegment;\n\tGsetothermodeH\tsetothermodeH;\n\tGsetothermodeL\tsetothermodeL;\n\tGtexture\ttexture;\n\tGperspnorm\tperspnorm;\n\tGsetimg\t\tsetimg;\n\tGsetcombine\tsetcombine;\n\tGsetcolor\tsetcolor;\n\tGfillrect\tfillrect;\t/* use for setscissor also */\n\tGsettile\tsettile;\n\tGloadtile\tloadtile;\t/* use for loadblock also, th is dxt */\n\tGsettilesize\tsettilesize;\n\tGloadtlut\tloadtlut;\n       u64\tforce_structure_alignment;\n} Gfx;\n\n#define\tgDma0p(pkt, c, s, l)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL((c), 24, 8) | _SHIFTL((l), 0, 24);\t\t_g->words.w1 = (unsigned int)(s);\t\t\t\t}\n\n#define\tgsDma0p(c, s, l)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL((c), 24, 8) | _SHIFTL((l), 0, 24), (unsigned int)(s)\t}}\n\n#define\tgDma1p(pkt, c, s, l, p)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL((c), 24, 8) | _SHIFTL((p), 16, 8) |\t\t\t\t_SHIFTL((l), 0, 16));\t\t\t\t\t_g->words.w1 = (unsigned int)(s);\t\t\t\t}\n\n#define\tgsDma1p(c, s, l, p)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL((c), 24, 8) | _SHIFTL((p), 16, 8) | \t\t\t\t _SHIFTL((l), 0, 16)), \t\t\t\t\t\t        (unsigned int)(s)\t\t\t\t\t\t}}\n\n#define\tgDma2p(pkt, c, adrs, len, idx, ofs)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL((c),24,8)|_SHIFTL(((len)-1)/8,19,5)|\t\t\t\t_SHIFTL((ofs)/8,8,8)|_SHIFTL((idx),0,8));\t\t_g->words.w1 = (unsigned int)(adrs);\t\t\t\t}\n#define\tgsDma2p(c, adrs, len, idx, ofs)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL((c),24,8)|_SHIFTL(((len)-1)/8,19,5)|\t\t\t\t _SHIFTL((ofs)/8,8,8)|_SHIFTL((idx),0,8)),\t\t\t        (unsigned int)(adrs)\t\t\t\t\t\t}}\n\n#define\tgSPNoOp(pkt)\t\tgDma0p(pkt, G_SPNOOP, 0, 0)\n#define\tgsSPNoOp()\t\tgsDma0p(G_SPNOOP, 0, 0)\n\n#ifdef\tF3DEX_GBI_2\n#define\tgSPMatrix(pkt, m, p)\t\t\tgDma2p((pkt),G_MTX,(m),sizeof(Mtx),(p)^G_MTX_PUSH,0)\n#define\tgsSPMatrix(m, p)\t\t\tgsDma2p(     G_MTX,(m),sizeof(Mtx),(p)^G_MTX_PUSH,0)\n#else\t/* F3DEX_GBI_2 */\n#define\tgSPMatrix(pkt, m, p)\tgDma1p(pkt, G_MTX, m, sizeof(Mtx), p)\n#define\tgsSPMatrix(m, p)\tgsDma1p(G_MTX, m, sizeof(Mtx), p)\n#endif\t/* F3DEX_GBI_2 */\n\n#if\tdefined(F3DEX_GBI_2)\n\n#define\tgSPVertex(pkt, v, n, v0)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 =\t\t\t\t\t\t\t\t  _SHIFTL(G_VTX,24,8)|_SHIFTL((n),12,8)|_SHIFTL((v0)+(n),1,7);\t\t_g->words.w1 = (unsigned int)(v);\t\t\t\t}\n#define\tgsSPVertex(v, n, v0)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_VTX,24,8)|_SHIFTL((n),12,8)|_SHIFTL((v0)+(n),1,7)),\t        (unsigned int)(v)\t\t\t\t\t\t}}\n#elif\t(defined(F3DEX_GBI)||defined(F3DLP_GBI))\n\n#define\tgSPVertex(pkt, v, n, v0)                 gDma1p((pkt),G_VTX,(v),((n)<<10)|(sizeof(Vtx)*(n)-1),(v0)*2)\n#define\tgsSPVertex(v, n, v0)                 gsDma1p(G_VTX,(v),((n)<<10)|(sizeof(Vtx)*(n)-1),(v0)*2)\n#else\n#define\tgSPVertex(pkt, v, n, v0)                 gDma1p(pkt, G_VTX, v, sizeof(Vtx)*(n),((n)-1)<<4|(v0))\n#define\tgsSPVertex(v, n, v0)                 gsDma1p(G_VTX, v, sizeof(Vtx)*(n), ((n)-1)<<4|(v0))\n#endif\n\n#ifdef\tF3DEX_GBI_2\n#define gSPViewport(pkt, v)\t\t\tgDma2p((pkt), G_MOVEMEM, (v), sizeof(Vp), G_MV_VIEWPORT, 0)\n#define gsSPViewport(v)\t\t\tgsDma2p(      G_MOVEMEM, (v), sizeof(Vp), G_MV_VIEWPORT, 0)\n#else\t/* F3DEX_GBI_2 */\n#define gSPViewport(pkt,v)\t\t\tgDma1p((pkt), G_MOVEMEM, (v), sizeof(Vp), G_MV_VIEWPORT)\n#define gsSPViewport(v)\t\t\tgsDma1p(      G_MOVEMEM, (v), sizeof(Vp), G_MV_VIEWPORT)\n#endif\t/* F3DEX_GBI_2 */\n\n#define\tgSPDisplayList(pkt,dl)\tgDma1p(pkt,G_DL,dl,0,G_DL_PUSH)\n#define\tgsSPDisplayList(   dl)\tgsDma1p(   G_DL,dl,0,G_DL_PUSH)\n\n#define\tgSPBranchList(pkt,dl)\tgDma1p(pkt,G_DL,dl,0,G_DL_NOPUSH)\n#define\tgsSPBranchList(   dl)\tgsDma1p(   G_DL,dl,0,G_DL_NOPUSH)\n\n#define\tgSPSprite2DBase(pkt, s)\tgDma1p(pkt, G_SPRITE2D_BASE, s, sizeof(uSprite), 0)\n#define\tgsSPSprite2DBase(s)\tgsDma1p(G_SPRITE2D_BASE, s, sizeof(uSprite), 0)\n\n#define\tgImmp0(pkt, c)\t\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL((c), 24, 8);\t\t\t\t}\n\n#define\tgsImmp0(c)\t\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL((c), 24, 8)\t\t\t\t\t\t}}\n\n#define\tgImmp1(pkt, c, p0)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL((c), 24, 8);\t\t\t\t\t_g->words.w1 = (unsigned int)(p0);\t\t\t\t}\n\n#define\tgsImmp1(c, p0)\t\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL((c), 24, 8), (unsigned int)(p0)\t\t\t\t}}\n\n#define\tgImmp2(pkt, c, p0, p1)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL((c), 24, 8);\t\t\t\t\t_g->words.w1 = _SHIFTL((p0), 16, 16) | _SHIFTL((p1), 8, 8);\t}\n\n#define\tgsImmp2(c, p0, p1)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL((c), 24, 8),  _SHIFTL((p0), 16, 16) | _SHIFTL((p1), 8, 8)}}\n\n#define\tgImmp3(pkt, c, p0, p1, p2)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL((c), 24, 8);\t\t\t\t\t_g->words.w1 = (_SHIFTL((p0), 16, 16) | _SHIFTL((p1), 8, 8) |\t\t\t\t_SHIFTL((p2), 0, 8));\t\t\t\t}\n\n#define\tgsImmp3(c, p0, p1, p2)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL((c), 24, 8), (_SHIFTL((p0), 16, 16) | \t\t\t\t\t\t      _SHIFTL((p1), 8, 8) | _SHIFTL((p2), 0, 8))}}\n\n#define\tgImmp21(pkt, c, p0, p1, dat)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL((c), 24, 8)  | _SHIFTL((p0), 8, 16) |\t\t\t\t_SHIFTL((p1), 0, 8));\t\t\t\t\t_g->words.w1 = (unsigned int) (dat);\t\t\t\t}\n\n#define\tgsImmp21(c, p0, p1, dat)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL((c), 24, 8) | _SHIFTL((p0), 8, 16) | _SHIFTL((p1), 0, 8),        (unsigned int) (dat)\t\t\t\t\t\t}}\n\n#ifdef\tF3DEX_GBI_2\n#define gMoveWd(pkt, index, offset, data)\t\t\t\t\tgDma1p((pkt), G_MOVEWORD, data, offset, index)\n#define gsMoveWd(    index, offset, data)\t\t\t\t\tgsDma1p(      G_MOVEWORD, data, offset, index)\n#else\t/* F3DEX_GBI_2 */\n#define gMoveWd(pkt, index, offset, data)\t\t\t\t\tgImmp21((pkt), G_MOVEWORD, offset, index, data)\n#define gsMoveWd(    index, offset, data)\t\t\t\t\tgsImmp21(      G_MOVEWORD, offset, index, data)\n#endif\t/* F3DEX_GBI_2 */\n\n#define gSPSprite2DScaleFlip(pkt, sx, sy, fx, fy)                       {                                                                       \tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_SPRITE2D_SCALEFLIP, 24, 8) |          \t\t\t_SHIFTL((fx), 8, 8) |                           \t\t\t_SHIFTL((fy), 0, 8));\t                        \t_g->words.w1 = (_SHIFTL((sx), 16, 16) |                         \t\t\t_SHIFTL((sy),  0, 16));                         }\n\n#define gsSPSprite2DScaleFlip(sx, sy, fx, fy)                           {{                                                                                 (_SHIFTL(G_SPRITE2D_SCALEFLIP, 24, 8) |                       \t   _SHIFTL((fx), 8, 8) |                                        \t   _SHIFTL((fy), 0, 8)),\t                                \t  (_SHIFTL((sx), 16, 16) |                                      \t   _SHIFTL((sy),  0, 16))                                       }}\n\n#define gSPSprite2DDraw(pkt, px, py)                                    {                                                                       \tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_SPRITE2D_DRAW, 24, 8));               \t_g->words.w1 = (_SHIFTL((px), 16, 16) |                         \t\t\t_SHIFTL((py),  0, 16));                         }\n\n#define gsSPSprite2DDraw(px, py)                                        {{                                                                                 (_SHIFTL(G_SPRITE2D_DRAW, 24, 8)),                            \t  (_SHIFTL((px), 16, 16) |                                      \t   _SHIFTL((py),  0, 16))                                       }}\n\n#if\t(defined(F3DLP_GBI)||defined(F3DEX_GBI))\n#define __gsSP1Triangle_w1(v0, v1, v2)\t\t\t     (_SHIFTL((v0)*2,16,8)|_SHIFTL((v1)*2,8,8)|_SHIFTL((v2)*2,0,8))\n#define __gsSP1Triangle_w1f(v0, v1, v2, flag)\t\t\t     (((flag) == 0) ? __gsSP1Triangle_w1(v0, v1, v2):\t\t      ((flag) == 1) ? __gsSP1Triangle_w1(v1, v2, v0):\t\t\t              __gsSP1Triangle_w1(v2, v0, v1))\n#define __gsSPLine3D_w1(v0, v1, wd)\t\t\t\t     (_SHIFTL((v0)*2,16,8)|_SHIFT((v1)*2,8,8)|_SHIFT((wd),0,8))\n#define __gsSPLine3D_w1f(v0, v1, wd, flag)\t\t\t     (((flag) == 0) ? __gsSPLine3D_w1(v0, v1, wd):\t\t\t              __gsSPLine3D_w1(v1, v0, wd))\n#define __gsSP1Quadrangle_w1f(v0, v1, v2, v3, flag)\t  (((flag) == 0) ? __gsSP1Triangle_w1(v0, v1, v2):         ((flag) == 1) ? __gsSP1Triangle_w1(v1, v2, v3):         ((flag) == 2) ? __gsSP1Triangle_w1(v2, v3, v0):                         __gsSP1Triangle_w1(v3, v0, v1))\n#define __gsSP1Quadrangle_w2f(v0, v1, v2, v3, flag)\t  (((flag) == 0) ? __gsSP1Triangle_w1(v0, v2, v3):         ((flag) == 1) ? __gsSP1Triangle_w1(v1, v3, v0):         ((flag) == 2) ? __gsSP1Triangle_w1(v2, v0, v1):                         __gsSP1Triangle_w1(v3, v1, v2))\n#else\n#define __gsSP1Triangle_w1f(v0, v1, v2, flag)\t\t\t     (_SHIFTL((flag), 24,8)|_SHIFTL((v0)*10,16,8)|\t\t      _SHIFTL((v1)*10, 8,8)|_SHIFTL((v2)*10, 0,8))\n#define __gsSPLine3D_w1f(v0, v1, wd, flag)\t\t\t     (_SHIFTL((flag), 24,8)|_SHIFTL((v0)*10,16,8)| \t\t      _SHIFTL((v1)*10, 8,8)|_SHIFTL((wd),    0,8))\n#endif\n\n#ifdef\tF3DEX_GBI_2\n\n#define gSP1Triangle(pkt, v0, v1, v2, flag)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_TRI1, 24, 8)|\t\t\t\t\t\t\t__gsSP1Triangle_w1f(v0, v1, v2, flag);\t\t\t_g->words.w1 = 0;\t\t\t\t\t\t}\n#define gsSP1Triangle(v0, v1, v2, flag)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_TRI1, 24, 8)|__gsSP1Triangle_w1f(v0, v1, v2, flag),\t\t0\t\t\t\t\t\t\t\t}}\n\n#define gSPLine3D(pkt, v0, v1, flag)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_LINE3D, 24, 8)|\t\t\t\t\t\t__gsSPLine3D_w1f(v0, v1, 0, flag);\t\t\t_g->words.w1 = 0;\t\t\t\t\t\t}\n#define gsSPLine3D(v0, v1, flag)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_LINE3D, 24, 8)|__gsSPLine3D_w1f(v0, v1, 0, flag),\t\t0\t\t\t\t\t\t\t\t}}\n\n#define gSPLineW3D(pkt, v0, v1, wd, flag)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_LINE3D, 24, 8)|\t\t\t\t\t\t__gsSPLine3D_w1f(v0, v1, wd, flag);\t\t\t_g->words.w1 = 0;\t\t\t\t\t\t}\n#define gsSPLineW3D(v0, v1, wd, flag)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_LINE3D, 24, 8)|__gsSPLine3D_w1f(v0, v1, wd, flag),\t\t0\t\t\t\t\t\t\t\t}}\n\n#define gSP1Quadrangle(pkt, v0, v1, v2, v3, flag)                       {                                                                               Gfx *_g = (Gfx *)(pkt);                                                                                                                         _g->words.w0 = (_SHIFTL(G_QUAD, 24, 8)|\t                                                __gsSP1Quadrangle_w1f(v0, v1, v2, v3, flag));           _g->words.w1 =  __gsSP1Quadrangle_w2f(v0, v1, v2, v3, flag);    }\n\n#define gsSP1Quadrangle(v0, v1, v2, v3, flag)                           {{                                                                               (_SHIFTL(G_QUAD, 24, 8)|                                                 __gsSP1Quadrangle_w1f(v0, v1, v2, v3, flag)),                           __gsSP1Quadrangle_w2f(v0, v1, v2, v3, flag)                    }}\n#else\t/* F3DEX_GBI_2 */\n\n#define gSP1Triangle(pkt, v0, v1, v2, flag)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_TRI1, 24, 8);\t\t\t\t\t_g->words.w1 = __gsSP1Triangle_w1f(v0, v1, v2, flag);\t\t}\n#define gsSP1Triangle(v0, v1, v2, flag)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_TRI1, 24, 8),\t\t\t\t\t\t\t__gsSP1Triangle_w1f(v0, v1, v2, flag)\t\t\t\t}}\n\n#define gSPLine3D(pkt, v0, v1, flag)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_LINE3D, 24, 8);\t\t\t\t_g->words.w1 = __gsSPLine3D_w1f(v0, v1, 0, flag);\t\t}\n#define gsSPLine3D(v0, v1, flag)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_LINE3D, 24, 8),\t\t\t\t\t\t__gsSPLine3D_w1f(v0, v1, 0, flag)\t\t\t\t}}\n\n#define gSPLineW3D(pkt, v0, v1, wd, flag)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_LINE3D, 24, 8);\t\t\t\t_g->words.w1 = __gsSPLine3D_w1f(v0, v1, wd, flag);\t\t}\n#define gsSPLineW3D(v0, v1, wd, flag)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_LINE3D, 24, 8),\t\t\t\t\t\t__gsSPLine3D_w1f(v0, v1, wd, flag)\t\t\t\t}}\n\n#define gSP1Quadrangle(pkt, v0, v1, v2, v3, flag)                       {                                                                               Gfx *_g = (Gfx *)(pkt);                                                                                                                         _g->words.w0 = (_SHIFTL(G_TRI2, 24, 8)|\t                                                __gsSP1Quadrangle_w1f(v0, v1, v2, v3, flag));           _g->words.w1 =  __gsSP1Quadrangle_w2f(v0, v1, v2, v3, flag);    }\n\n#define gsSP1Quadrangle(v0, v1, v2, v3, flag)                           {{                                                                               (_SHIFTL(G_TRI2, 24, 8)|                                                 __gsSP1Quadrangle_w1f(v0, v1, v2, v3, flag)),                           __gsSP1Quadrangle_w2f(v0, v1, v2, v3, flag)                    }}\n#endif\t/* F3DEX_GBI_2 */\n\n#if\t(defined(F3DLP_GBI)||defined(F3DEX_GBI))\n\n#define gSP2Triangles(pkt, v00, v01, v02, flag0, v10, v11, v12, flag1)\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_TRI2, 24, 8)|\t\t\t\t\t\t\t__gsSP1Triangle_w1f(v00, v01, v02, flag0));\t        _g->words.w1 =  __gsSP1Triangle_w1f(v10, v11, v12, flag1); \t}\n\n#define gsSP2Triangles(v00, v01, v02, flag0, v10, v11, v12, flag1)\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_TRI2, 24, 8)|\t\t\t\t\t\t __gsSP1Triangle_w1f(v00, v01, v02, flag0)),\t\t\t\t __gsSP1Triangle_w1f(v10, v11, v12, flag1)\t\t\t}}\n\n#endif\t/* F3DEX_GBI/F3DLP_GBI */\n\n#if\t(defined(F3DEX_GBI)||defined(F3DLP_GBI))\n#define gSPCullDisplayList(pkt,vstart,vend)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_CULLDL, 24, 8) | \t\t\t\t\t\t_SHIFTL((vstart)*2, 0, 16);\t\t\t\t_g->words.w1 = _SHIFTL((vend)*2, 0, 16);\t\t\t}\n\n#define gsSPCullDisplayList(vstart,vend)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_CULLDL, 24, 8) | _SHIFTL((vstart)*2, 0, 16),\t\t\t_SHIFTL((vend)*2, 0, 16)\t\t\t\t\t}}\n\n#else\n#define gSPCullDisplayList(pkt,vstart,vend)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_CULLDL, 24, 8) |\t\t\t                       ((0x0f & (vstart))*40);\t\t\t\t\t_g->words.w1 = (unsigned int)((0x0f & ((vend)+1))*40);\t\t}\n\n#define gsSPCullDisplayList(vstart,vend)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_CULLDL, 24, 8) | ((0x0f & (vstart))*40), \t\t\t((0x0f & ((vend)+1))*40)\t\t\t\t\t}}\n#endif\n\n#define gSPSegment(pkt, segment, base)\t\t\t\t\t\tgMoveWd(pkt, G_MW_SEGMENT, (segment)*4, base)\n#define gsSPSegment(segment, base)\t\t\t\t\t\tgsMoveWd(    G_MW_SEGMENT, (segment)*4, base)\n\n\n#define FR_NEG_FRUSTRATIO_1\t0x00000001\n#define FR_POS_FRUSTRATIO_1\t0x0000ffff\n#define FR_NEG_FRUSTRATIO_2\t0x00000002\n#define FR_POS_FRUSTRATIO_2\t0x0000fffe\n#define FR_NEG_FRUSTRATIO_3\t0x00000003\n#define FR_POS_FRUSTRATIO_3\t0x0000fffd\n#define FR_NEG_FRUSTRATIO_4\t0x00000004\n#define FR_POS_FRUSTRATIO_4\t0x0000fffc\n#define FR_NEG_FRUSTRATIO_5\t0x00000005\n#define FR_POS_FRUSTRATIO_5\t0x0000fffb\n#define FR_NEG_FRUSTRATIO_6\t0x00000006\n#define FR_POS_FRUSTRATIO_6\t0x0000fffa\n\n#define gSPClipRatio(pkt, r)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgMoveWd(pkt, G_MW_CLIP, G_MWO_CLIP_RNX, FR_NEG_##r);\t\t\tgMoveWd(pkt, G_MW_CLIP, G_MWO_CLIP_RNY, FR_NEG_##r);\t\t\tgMoveWd(pkt, G_MW_CLIP, G_MWO_CLIP_RPX, FR_POS_##r);\t\t\tgMoveWd(pkt, G_MW_CLIP, G_MWO_CLIP_RPY, FR_POS_##r);\t\t}\n\n#define gsSPClipRatio(r)\t\t\t\t\t\t\tgsMoveWd(G_MW_CLIP, G_MWO_CLIP_RNX, FR_NEG_##r),\t\t\tgsMoveWd(G_MW_CLIP, G_MWO_CLIP_RNY, FR_NEG_##r),\t\t\tgsMoveWd(G_MW_CLIP, G_MWO_CLIP_RPX, FR_POS_##r),\t\t\tgsMoveWd(G_MW_CLIP, G_MWO_CLIP_RPY, FR_POS_##r)\n\n#ifdef\tF3DEX_GBI_2\n#define gSPInsertMatrix(pkt, where, num)\t\t\t\t\tERROR!! gSPInsertMatrix is no longer supported.\n#define gsSPInsertMatrix(where, num)\t\t\t\t\t\tERROR!! gsSPInsertMatrix is no longer supported.\n#else\n#define gSPInsertMatrix(pkt, where, num)\t\t\t\t\tgMoveWd(pkt, G_MW_MATRIX, where, num)\n#define gsSPInsertMatrix(where, num)\t\t\t\t\t\tgsMoveWd(G_MW_MATRIX, where, num)\n#endif\n\n#ifdef\tF3DEX_GBI_2\n#define\tgSPForceMatrix(pkt, mptr)\t\t\t\t\t{\tgDma2p((pkt),G_MOVEMEM,(mptr),sizeof(Mtx),G_MV_MATRIX,0);\t\tgMoveWd((pkt), G_MW_FORCEMTX,0,0x00010000);\t\t\t}\n#define\tgsSPForceMatrix(mptr)\t\t\t\t\t\t\tgsDma2p(G_MOVEMEM,(mptr),sizeof(Mtx),G_MV_MATRIX,0),\t\t\tgsMoveWd(G_MW_FORCEMTX,0,0x00010000)\n\n#else\t/* F3DEX_GBI_2 */\n#define\tgSPForceMatrix(pkt, mptr)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgDma1p(pkt, G_MOVEMEM, mptr,              16, G_MV_MATRIX_1);\t\tgDma1p(pkt, G_MOVEMEM, (char *)(mptr)+16, 16, G_MV_MATRIX_2);\t\tgDma1p(pkt, G_MOVEMEM, (char *)(mptr)+32, 16, G_MV_MATRIX_3);\t\tgDma1p(pkt, G_MOVEMEM, (char *)(mptr)+48, 16, G_MV_MATRIX_4);\t}\n#define\tgsSPForceMatrix(mptr)\t\t\t\t\t\t\tgsDma1p(    G_MOVEMEM, mptr,              16, G_MV_MATRIX_1),\t\tgsDma1p(    G_MOVEMEM, (char *)(mptr)+16, 16, G_MV_MATRIX_2),\t\tgsDma1p(    G_MOVEMEM, (char *)(mptr)+32, 16, G_MV_MATRIX_3),\t\tgsDma1p(    G_MOVEMEM, (char *)(mptr)+48, 16, G_MV_MATRIX_4)\n#endif\t/* F3DEX_GBI_2 */\n\n#if\t(defined(F3DEX_GBI)||defined(F3DLP_GBI))\n#define gSPModifyVertex(pkt, vtx, where, val)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_MODIFYVTX,24,8)|\t\t\t\t\t        _SHIFTL((where),16,8)|_SHIFTL((vtx)*2,0,16));\t\t_g->words.w1 = (unsigned int)(val);\t\t\t\t}\n#define gsSPModifyVertex(vtx, where, val)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_MODIFYVTX,24,8)|\t\t\t\t\t\t_SHIFTL((where),16,8)|_SHIFTL((vtx)*2,0,16),\t\t\t\t(unsigned int)(val)\t\t\t\t\t\t}}\n#else\n#define gSPModifyVertex(pkt, vtx, where, val)\t\t\t\t\t gMoveWd(pkt, G_MW_POINTS, (vtx)*40+(where), val)\n#define gsSPModifyVertex(vtx, where, val)\t\t\t\t\t gsMoveWd(G_MW_POINTS, (vtx)*40+(where), val)\n#endif\n\n#if\t(defined(F3DEX_GBI)||defined(F3DLP_GBI))\n\n#define\tG_BZ_PERSP\t0\n#define\tG_BZ_ORTHO\t1\n\n#define\tG_DEPTOZSrg(zval, near, far, flag, zmin, zmax)\t\t\t(((unsigned int)FTOFIX32(((flag) == G_BZ_PERSP ? \t\t\t\t\t\t  (1.0f-(float)(near)/(float)(zval)) / \t\t\t\t\t  (1.0f-(float)(near)/(float)(far )) :\t\t\t\t\t  ((float)(zval) - (float)(near)) /\t\t\t\t\t  ((float)(far ) - (float)(near))))) *\t\t (((int)((zmax) - (zmin)))&~1) + (int)FTOFIX32(zmin))\n\n#define\tG_DEPTOZS(zval, near, far, flag) \tG_DEPTOZSrg(zval, near, far, flag, 0, G_MAXZ)\n\n#define\tgSPBranchLessZrg(pkt, dl, vtx, zval, near, far, flag, zmin, zmax) {\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_RDPHALF_1,24,8);\t\t\t\t_g->words.w1 = (unsigned int)(dl);\t\t\t\t\t_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_BRANCH_Z,24,8)|\t\t\t\t\t        _SHIFTL((vtx)*5,12,12)|_SHIFTL((vtx)*2,0,12));\t\t_g->words.w1 = G_DEPTOZSrg(zval, near, far, flag, zmin, zmax);\t}\n\n#define\tgsSPBranchLessZrg(dl, vtx, zval, near, far, flag, zmin, zmax)\t      {{\t_SHIFTL(G_RDPHALF_1,24,8),\t\t\t\t\t      \t(unsigned int)(dl),\t\t\t\t\t\t}},    {{\t_SHIFTL(G_BRANCH_Z,24,8)|_SHIFTL((vtx)*5,12,12)|_SHIFTL((vtx)*2,0,12),\tG_DEPTOZSrg(zval, near, far, flag, zmin, zmax),\t\t\t}}\n\n#define\tgSPBranchLessZ(pkt, dl, vtx, zval, near, far, flag)\t\t\tgSPBranchLessZrg(pkt, dl, vtx, zval, near, far, flag, 0, G_MAXZ)\n#define\tgsSPBranchLessZ(dl, vtx, zval, near, far, flag)\t\t\t\tgsSPBranchLessZrg(dl, vtx, zval, near, far, flag, 0, G_MAXZ)\n\n#define\tgSPBranchLessZraw(pkt, dl, vtx, zval)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_RDPHALF_1,24,8);\t\t\t\t_g->words.w1 = (unsigned int)(dl);\t\t\t\t\t_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_BRANCH_Z,24,8)|\t\t\t\t\t        _SHIFTL((vtx)*5,12,12)|_SHIFTL((vtx)*2,0,12));\t\t_g->words.w1 = (unsigned int)(zval);\t\t\t\t}\n\n#define\tgsSPBranchLessZraw(dl, vtx, zval)\t\t\t\t{{\t_SHIFTL(G_RDPHALF_1,24,8),\t\t\t\t\t      \t(unsigned int)(dl),\t\t\t\t\t\t}},    {{\t_SHIFTL(G_BRANCH_Z,24,8)|_SHIFTL((vtx)*5,12,12)|_SHIFTL((vtx)*2,0,12),\t(unsigned int)(zval),\t\t\t\t\t\t}}\n\n#define\tgSPLoadUcodeEx(pkt, uc_start, uc_dstart, uc_dsize)\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_RDPHALF_1,24,8);\t\t\t\t_g->words.w1 = (unsigned int)(uc_dstart);\t\t\t\t_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_LOAD_UCODE,24,8)|\t\t\t\t\t\t_SHIFTL((int)(uc_dsize)-1,0,16));\t\t\t_g->words.w1 = (unsigned int)(uc_start);\t\t\t}\n\n#define\tgsSPLoadUcodeEx(uc_start, uc_dstart, uc_dsize)\t\t\t{{\t_SHIFTL(G_RDPHALF_1,24,8),\t\t\t\t\t\t(unsigned int)(uc_dstart),\t\t\t\t}},\t{{\t_SHIFTL(G_LOAD_UCODE,24,8)|\t\t\t\t\t\t  _SHIFTL((int)(uc_dsize)-1,0,16),\t\t\t\t\t(unsigned int)(uc_start),\t\t\t\t}}\n\n#define\tgSPLoadUcode(pkt, uc_start, uc_dstart)\t\t\t\t        gSPLoadUcodeEx((pkt), (uc_start), (uc_dstart), SP_UCODE_DATA_SIZE)\n#define\tgsSPLoadUcode(uc_start, uc_dstart)\t\t\t\t        gsSPLoadUcodeEx((uc_start), (uc_dstart), SP_UCODE_DATA_SIZE)\n\n#define\tgSPLoadUcodeL(pkt, ucode)\t\t\t\t\t        gSPLoadUcode((pkt), OS_K0_TO_PHYSICAL(&##ucode##TextStart),\t\t\t            OS_K0_TO_PHYSICAL(&##ucode##DataStart))\n#define\tgsSPLoadUcodeL(ucode)\t\t\t\t\t\t        gsSPLoadUcode(OS_K0_TO_PHYSICAL(&##ucode##TextStart),\t\t\t\t      OS_K0_TO_PHYSICAL(&##ucode##DataStart))\n#endif\n\n#ifdef\tF3DEX_GBI_2\n\n#define\tgSPDma_io(pkt, flag, dmem, dram, size)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_DMA_IO,24,8)|_SHIFTL((flag),23,1)|\t\t  _SHIFTL((dmem)/8,13,10)|_SHIFTL((size)-1,0,12);\t\t\t_g->words.w1 = (unsigned int)(dram);\t\t\t\t}\n\n#define\tgsSPDma_io(flag, dmem, dram, size)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_DMA_IO,24,8)|_SHIFTL((flag),23,1)|\t\t\t\t_SHIFTL((dmem)/8,13,10)|_SHIFTL((size)-1,0,12),\t\t\t\t(unsigned int)(dram)\t\t\t\t\t\t}}\n\n#define\tgSPDmaRead(pkt,dmem,dram,size)\tgSPDma_io((pkt),0,(dmem),(dram),(size))\n#define\tgsSPDmaRead(dmem,dram,size)\tgsSPDma_io(0,(dmem),(dram),(size))\n#define\tgSPDmaWrite(pkt,dmem,dram,size)\tgSPDma_io((pkt),1,(dmem),(dram),(size))\n#define\tgsSPDmaWrite(dmem,dram,size)\tgsSPDma_io(1,(dmem),(dram),(size))\n#endif\n\n#ifdef\tF3DEX_GBI_2\n#define NUML(n)\t((n)*24)\n#else\n#define NUML(n)\t(((n)+1)*32 + 0x80000000)\n#endif\n#define NUMLIGHTS_0\t1\n#define NUMLIGHTS_1\t1\n#define NUMLIGHTS_2\t2\n#define NUMLIGHTS_3\t3\n#define NUMLIGHTS_4\t4\n#define NUMLIGHTS_5\t5\n#define NUMLIGHTS_6\t6\n#define NUMLIGHTS_7\t7\n\n#define gSPNumLights(pkt, n)\t\t\t\t\t\t\tgMoveWd(pkt, G_MW_NUMLIGHT, G_MWO_NUMLIGHT, NUML(n))\n#define gsSPNumLights(n)\t\t\t\t\t\t\tgsMoveWd(    G_MW_NUMLIGHT, G_MWO_NUMLIGHT, NUML(n))\n\n#define LIGHT_1\t\t1\n#define LIGHT_2\t\t2\n#define LIGHT_3\t\t3\n#define LIGHT_4\t\t4\n#define LIGHT_5\t\t5\n#define LIGHT_6\t\t6\n#define LIGHT_7\t\t7\n#define LIGHT_8\t\t8\n\n#ifdef\tF3DEX_GBI_2\n#define gSPLight(pkt, l, n)\t\t  gDma2p((pkt),G_MOVEMEM,(l),sizeof(Light),G_MV_LIGHT,(n)*24+24)\n#define gsSPLight(l, n)\t\t gsDma2p(      G_MOVEMEM,(l),sizeof(Light),G_MV_LIGHT,(n)*24+24)\n#else\t/* F3DEX_GBI_2 */\n#define gSPLight(pkt, l, n)\t\t gDma1p(pkt, G_MOVEMEM, l, sizeof(Light),((n)-1)*2+G_MV_L0)\n#define gsSPLight(l, n)\t\t gsDma1p(    G_MOVEMEM, l, sizeof(Light),((n)-1)*2+G_MV_L0)\n#endif\t/* F3DEX_GBI_2 */\n\n#define gSPLightColor(pkt, n, col)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgMoveWd(pkt, G_MW_LIGHTCOL, G_MWO_a##n, col);\t\t\t\tgMoveWd(pkt, G_MW_LIGHTCOL, G_MWO_b##n, col);\t\t\t}\n#define gsSPLightColor(n, col)\t\t\t\t\t\t\tgsMoveWd(G_MW_LIGHTCOL, G_MWO_a##n, col),\t\t\t\tgsMoveWd(G_MW_LIGHTCOL, G_MWO_b##n, col)\n\n#define gSPSetLights0(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_0);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.a,2);\t\t\t\t\t}\n#define gsSPSetLights0(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_0),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.a,2)\n\n#define gSPSetLights1(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_1);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.a,2);\t\t\t\t\t}\n#define gsSPSetLights1(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_1),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.a,2)\n\n#define gSPSetLights2(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_2);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.l[1],2);\t\t\t\t\t\tgSPLight(pkt,&name.a,3);\t\t\t\t\t}\n#define gsSPSetLights2(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_2),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.l[1],2),\t\t\t\t\t\tgsSPLight(&name.a,3)\n\n#define gSPSetLights3(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_3);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.l[1],2);\t\t\t\t\t\tgSPLight(pkt,&name.l[2],3);\t\t\t\t\t\tgSPLight(pkt,&name.a,4);\t\t\t\t\t}\n#define gsSPSetLights3(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_3),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.l[1],2),\t\t\t\t\t\tgsSPLight(&name.l[2],3),\t\t\t\t\t\tgsSPLight(&name.a,4)\n\n#define gSPSetLights4(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_4);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.l[1],2);\t\t\t\t\t\tgSPLight(pkt,&name.l[2],3);\t\t\t\t\t\tgSPLight(pkt,&name.l[3],4);\t\t\t\t\t\tgSPLight(pkt,&name.a,5);\t\t\t\t\t}\n#define gsSPSetLights4(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_4),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.l[1],2),\t\t\t\t\t\tgsSPLight(&name.l[2],3),\t\t\t\t\t\tgsSPLight(&name.l[3],4),\t\t\t\t\t\tgsSPLight(&name.a,5)\n\n#define gSPSetLights5(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_5);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.l[1],2);\t\t\t\t\t\tgSPLight(pkt,&name.l[2],3);\t\t\t\t\t\tgSPLight(pkt,&name.l[3],4);\t\t\t\t\t\tgSPLight(pkt,&name.l[4],5);\t\t\t\t\t\tgSPLight(pkt,&name.a,6);\t\t\t\t\t}\n\n#define gsSPSetLights5(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_5),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.l[1],2),\t\t\t\t\t\tgsSPLight(&name.l[2],3),\t\t\t\t\t\tgsSPLight(&name.l[3],4),\t\t\t\t\t\tgsSPLight(&name.l[4],5),\t\t\t\t\t\tgsSPLight(&name.a,6)\n\n#define gSPSetLights6(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_6);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.l[1],2);\t\t\t\t\t\tgSPLight(pkt,&name.l[2],3);\t\t\t\t\t\tgSPLight(pkt,&name.l[3],4);\t\t\t\t\t\tgSPLight(pkt,&name.l[4],5);\t\t\t\t\t\tgSPLight(pkt,&name.l[5],6);\t\t\t\t\t\tgSPLight(pkt,&name.a,7);\t\t\t\t\t}\n\n#define gsSPSetLights6(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_6),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.l[1],2),\t\t\t\t\t\tgsSPLight(&name.l[2],3),\t\t\t\t\t\tgsSPLight(&name.l[3],4),\t\t\t\t\t\tgsSPLight(&name.l[4],5),\t\t\t\t\t\tgsSPLight(&name.l[5],6),\t\t\t\t\t\tgsSPLight(&name.a,7)\n\n#define gSPSetLights7(pkt,name)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPNumLights(pkt,NUMLIGHTS_7);\t\t\t\t\t\tgSPLight(pkt,&name.l[0],1);\t\t\t\t\t\tgSPLight(pkt,&name.l[1],2);\t\t\t\t\t\tgSPLight(pkt,&name.l[2],3);\t\t\t\t\t\tgSPLight(pkt,&name.l[3],4);\t\t\t\t\t\tgSPLight(pkt,&name.l[4],5);\t\t\t\t\t\tgSPLight(pkt,&name.l[5],6);\t\t\t\t\t\tgSPLight(pkt,&name.l[6],7);\t\t\t\t\t\tgSPLight(pkt,&name.a,8);\t\t\t\t\t}\n\n#define gsSPSetLights7(name)\t\t\t\t\t\t\tgsSPNumLights(NUMLIGHTS_7),\t\t\t\t\t\tgsSPLight(&name.l[0],1),\t\t\t\t\t\tgsSPLight(&name.l[1],2),\t\t\t\t\t\tgsSPLight(&name.l[2],3),\t\t\t\t\t\tgsSPLight(&name.l[3],4),\t\t\t\t\t\tgsSPLight(&name.l[4],5),\t\t\t\t\t\tgsSPLight(&name.l[5],6),\t\t\t\t\t\tgsSPLight(&name.l[6],7),\t\t\t\t\t\tgsSPLight(&name.a,8)\n\n#ifdef\tF3DEX_GBI_2\n#define gSPLookAtX(pkt, l)\t\t gDma2p((pkt),G_MOVEMEM,(l),sizeof(Light),G_MV_LIGHT,G_MVO_LOOKATX)\n#define gsSPLookAtX(l)\t\t\t gsDma2p(     G_MOVEMEM,(l),sizeof(Light),G_MV_LIGHT,G_MVO_LOOKATX)\n#define gSPLookAtY(pkt, l)\t\t gDma2p((pkt),G_MOVEMEM,(l),sizeof(Light),G_MV_LIGHT,G_MVO_LOOKATY)\n#define gsSPLookAtY(l)\t\t\t gsDma2p(     G_MOVEMEM,(l),sizeof(Light),G_MV_LIGHT,G_MVO_LOOKATY)\n#else\t/* F3DEX_GBI_2 */\n#define gSPLookAtX(pkt, l)\t\t gDma1p(pkt, G_MOVEMEM, l, sizeof(Light),G_MV_LOOKATX)\n#define gsSPLookAtX(l)\t\t\t gsDma1p(    G_MOVEMEM, l, sizeof(Light),G_MV_LOOKATX)\n#define gSPLookAtY(pkt, l)\t\t gDma1p(pkt, G_MOVEMEM, l, sizeof(Light),G_MV_LOOKATY)\n#define gsSPLookAtY(l)\t\t\t gsDma1p(    G_MOVEMEM, l, sizeof(Light),G_MV_LOOKATY)\n#endif\t/* F3DEX_GBI_2 */\n\n#define gSPLookAt(pkt, la)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgSPLookAtX(pkt,la)\t\t\t\t\t\t\tgSPLookAtY(pkt,(char *)(la)+16)\t\t\t\t\t}\n#define gsSPLookAt(la)\t\t\t\t\t\t\t\tgsSPLookAtX(la),\t\t\t\t\t\t\tgsSPLookAtY((char *)(la)+16)\n\n#define gDPSetHilite1Tile(pkt, tile, hilite, width, height)\t\t\tgDPSetTileSize(pkt, tile, (hilite)->h.x1 & 0xfff, (hilite)->h.y1 & 0xfff, \t\t\t((((width)-1)*4)+(hilite)->h.x1) & 0xfff, ((((height)-1)*4)+(hilite)->h.y1) & 0xfff)\n\n#define gDPSetHilite2Tile(pkt, tile, hilite, width, height)\t\t\tgDPSetTileSize(pkt, tile, (hilite)->h.x2 & 0xfff, (hilite)->h.y2 & 0xfff, \t\t\t((((width)-1)*4)+(hilite)->h.x2) & 0xfff, ((((height)-1)*4)+(hilite)->h.y2) & 0xfff)\n\n#define gSPFogFactor(pkt, fm, fo)\t\t\t\t        gMoveWd(pkt, G_MW_FOG, G_MWO_FOG, \t\t\t\t\t(_SHIFTL(fm,16,16) | _SHIFTL(fo,0,16)))\n\n#define gsSPFogFactor(fm, fo)\t\t\t\t\t        gsMoveWd(G_MW_FOG, G_MWO_FOG, \t\t\t\t\t\t(_SHIFTL(fm,16,16) | _SHIFTL(fo,0,16)))\n\n#define gSPFogPosition(pkt, min, max)\t\t\t\t\tgMoveWd(pkt, G_MW_FOG, G_MWO_FOG, \t\t\t\t\t(_SHIFTL((128000/((max)-(min))),16,16) |\t\t\t\t_SHIFTL(((500-(min))*256/((max)-(min))),0,16)))\n\n#define gsSPFogPosition(min, max)\t\t\t\t\tgsMoveWd(G_MW_FOG, G_MWO_FOG, \t\t\t\t\t\t(_SHIFTL((128000/((max)-(min))),16,16) |\t\t\t\t_SHIFTL(((500-(min))*256/((max)-(min))),0,16)))\n\n#ifdef\tF3DEX_GBI_2\n\n#define gSPTexture(pkt, s, t, level, tile, on)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_TEXTURE,24,8) | \t\t\t\t\t\t_SHIFTL(BOWTIE_VAL,16,8) |\t\t\t\t\t\t_SHIFTL((level),11,3) | _SHIFTL((tile),8,3) |\t\t\t\t_SHIFTL((on),1,7));\t\t\t\t\t_g->words.w1 = (_SHIFTL((s),16,16) | _SHIFTL((t),0,16));\t}\n#define gsSPTexture(s, t, level, tile, on)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_TEXTURE,24,8) | _SHIFTL(BOWTIE_VAL,16,8) |\t\t\t _SHIFTL((level),11,3) | _SHIFTL((tile),8,3) | _SHIFTL((on),1,7)),        (_SHIFTL((s),16,16) | _SHIFTL((t),0,16))\t\t\t}}\n\n#define gSPTextureL(pkt, s, t, level, xparam, tile, on)\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_TEXTURE,24,8) | \t\t\t\t\t\t_SHIFTL((xparam),16,8) | \t\t\t\t\t\t_SHIFTL((level),11,3) | _SHIFTL((tile),8,3) |\t\t\t\t_SHIFTL((on),1,7));\t\t\t\t\t_g->words.w1 = (_SHIFTL((s),16,16) | _SHIFTL((t),0,16));\t}\n#define gsSPTextureL(s, t, level, xparam, tile, on)\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_TEXTURE,24,8) | _SHIFTL((xparam),16,8) |\t\t\t _SHIFTL((level),11,3) | _SHIFTL((tile),8,3) | _SHIFTL((on),1,7)),        (_SHIFTL((s),16,16) | _SHIFTL((t),0,16))\t\t\t}}\n#else\n\n#define gSPTexture(pkt, s, t, level, tile, on)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_TEXTURE,24,8)|_SHIFTL(BOWTIE_VAL,16,8)|\t\t\t_SHIFTL((level),11,3)|_SHIFTL((tile),8,3)|\t\t\t\t_SHIFTL((on),0,8));\t\t\t\t\t_g->words.w1 = (_SHIFTL((s),16,16)|_SHIFTL((t),0,16));\t\t}\n#define gsSPTexture(s, t, level, tile, on)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_TEXTURE,24,8)|_SHIFTL(BOWTIE_VAL,16,8)|\t\t\t _SHIFTL((level),11,3)|_SHIFTL((tile),8,3)|_SHIFTL((on),0,8)),\t        (_SHIFTL((s),16,16)|_SHIFTL((t),0,16))\t\t\t\t}}\n\n#define gSPTextureL(pkt, s, t, level, xparam, tile, on)\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_TEXTURE,24,8)|_SHIFTL((xparam),16,8)|\t\t\t\t_SHIFTL((level),11,3)|_SHIFTL((tile),8,3)|\t\t\t\t_SHIFTL((on),0,8));\t\t\t\t\t_g->words.w1 = (_SHIFTL((s),16,16)|_SHIFTL((t),0,16));\t\t}\n#define gsSPTextureL(s, t, level, xparam, tile, on)\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_TEXTURE,24,8)|_SHIFTL((xparam),16,8)|\t\t\t _SHIFTL((level),11,3)|_SHIFTL((tile),8,3)|_SHIFTL((on),0,8)),\t        (_SHIFTL((s),16,16)|_SHIFTL((t),0,16))\t\t\t\t}}\n#endif\n\n#define gSPPerspNormalize(pkt, s)\tgMoveWd(pkt, G_MW_PERSPNORM, 0, (s))\n#define gsSPPerspNormalize(s)\t\tgsMoveWd(    G_MW_PERSPNORM, 0, (s))\n\n#ifdef\tF3DEX_GBI_2\n#define gSPPopMatrixN(pkt, n, num)\tgDma2p((pkt),G_POPMTX,(num)*64,64,2,0)\n#define gsSPPopMatrixN(n, num)\t\tgsDma2p(     G_POPMTX,(num)*64,64,2,0)\n#define gSPPopMatrix(pkt, n)\t\tgSPPopMatrixN((pkt), (n), 1)\n#define gsSPPopMatrix(n)\t\tgsSPPopMatrixN(      (n), 1)\n#else\t/* F3DEX_GBI_2 */\n#define gSPPopMatrix(pkt, n)\t\tgImmp1(pkt, G_POPMTX, n)\n#define gsSPPopMatrix(n)\t\tgsImmp1(    G_POPMTX, n)\n#endif\t/* F3DEX_GBI_2 */\n\n#define gSPEndDisplayList(pkt)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_ENDDL, 24, 8);\t\t\t\t\t_g->words.w1 = 0;\t\t\t\t\t\t}\n\n#define gsSPEndDisplayList()\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_ENDDL, 24, 8), 0\t\t\t\t\t}}\n\n#ifdef\tF3DEX_GBI_2\n\n#define\tgSPGeometryMode(pkt, c, s)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_GEOMETRYMODE,24,8)|_SHIFTL(~(u32)(c),0,24);\t_g->words.w1 = (u32)(s);\t\t\t\t\t}\n\n#define\tgsSPGeometryMode(c, s)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_GEOMETRYMODE,24,8)|_SHIFTL(~(u32)(c),0,24)),(u32)(s)\t}}\n#define\tgSPSetGeometryMode(pkt, word)\tgSPGeometryMode((pkt),0,(word))\n#define\tgsSPSetGeometryMode(word)\tgsSPGeometryMode(0,(word))\n#define\tgSPClearGeometryMode(pkt, word)\tgSPGeometryMode((pkt),(word),0)\n#define\tgsSPClearGeometryMode(word)\tgsSPGeometryMode((word),0)\n#define\tgSPLoadGeometryMode(pkt, word)\tgSPGeometryMode((pkt),-1,(word))\n#define\tgsSPLoadGeometryMode(word)\tgsSPGeometryMode(-1,(word))\n\n#else\t/* F3DEX_GBI_2 */\n#define\tgSPSetGeometryMode(pkt, word)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_SETGEOMETRYMODE, 24, 8);\t\t\t_g->words.w1 = (unsigned int)(word);\t\t\t\t}\n\n#define\tgsSPSetGeometryMode(word)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_SETGEOMETRYMODE, 24, 8), (unsigned int)(word)\t\t}}\n\n#define\tgSPClearGeometryMode(pkt, word)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_CLEARGEOMETRYMODE, 24, 8);\t\t\t_g->words.w1 = (unsigned int)(word);\t\t\t\t}\n\n#define\tgsSPClearGeometryMode(word)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_CLEARGEOMETRYMODE, 24, 8), (unsigned int)(word)\t}}\n#endif\t/* F3DEX_GBI_2 */\n\n#ifdef\tF3DEX_GBI_2\n#define\tgSPSetOtherMode(pkt, cmd, sft, len, data)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(cmd,24,8)|_SHIFTL(32-(sft)-(len),8,8)|\t\t\t\t_SHIFTL((len)-1,0,8));\t\t\t\t\t_g->words.w1 = (unsigned int)(data);\t\t\t\t}\n\n#define\tgsSPSetOtherMode(cmd, sft, len, data)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(cmd,24,8)|_SHIFTL(32-(sft)-(len),8,8)|_SHIFTL((len)-1,0,8), \t(unsigned int)(data)\t\t\t\t\t\t}}\n#else\n#define\tgSPSetOtherMode(pkt, cmd, sft, len, data)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(cmd, 24, 8) | _SHIFTL(sft, 8, 8) |\t\t\t\t_SHIFTL(len, 0, 8));\t\t\t\t\t_g->words.w1 = (unsigned int)(data);\t\t\t\t}\n\n#define\tgsSPSetOtherMode(cmd, sft, len, data)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(cmd, 24, 8) | _SHIFTL(sft, 8, 8) | _SHIFTL(len, 0, 8),\t\t(unsigned int)(data)\t\t\t\t\t\t}}\n#endif\n\n#define\tgDPPipelineMode(pkt, mode)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_PIPELINE, 1, mode)\n#define\tgsDPPipelineMode(mode)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_PIPELINE, 1, mode)\n\n#define\tgDPSetCycleType(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_CYCLETYPE, 2, type)\n#define\tgsDPSetCycleType(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_CYCLETYPE, 2, type)\n\n#define\tgDPSetTexturePersp(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_TEXTPERSP, 1, type)\n#define\tgsDPSetTexturePersp(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_TEXTPERSP, 1, type)\n\n#define\tgDPSetTextureDetail(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_TEXTDETAIL, 2, type)\n#define\tgsDPSetTextureDetail(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_TEXTDETAIL, 2, type)\n\n#define\tgDPSetTextureLOD(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_TEXTLOD, 1, type)\n#define\tgsDPSetTextureLOD(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_TEXTLOD, 1, type)\n\n#define\tgDPSetTextureLUT(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_TEXTLUT, 2, type)\n#define\tgsDPSetTextureLUT(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_TEXTLUT, 2, type)\n\n#define\tgDPSetTextureFilter(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_TEXTFILT, 2, type)\n#define\tgsDPSetTextureFilter(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_TEXTFILT, 2, type)\n\n#define\tgDPSetTextureConvert(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_TEXTCONV, 3, type)\n#define\tgsDPSetTextureConvert(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_TEXTCONV, 3, type)\n\n#define\tgDPSetCombineKey(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_COMBKEY, 1, type)\n#define\tgsDPSetCombineKey(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_COMBKEY, 1, type)\n\n#ifndef _HW_VERSION_1\n#define\tgDPSetColorDither(pkt, mode)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_RGBDITHER, 2, mode)\n#define\tgsDPSetColorDither(mode)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_RGBDITHER, 2, mode)\n#else\n#define gDPSetColorDither(pkt, mode)    \tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_COLORDITHER, 1, mode)\n#define gsDPSetColorDither(mode)                \tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_COLORDITHER, 1, mode)\n#endif\n\n#ifndef _HW_VERSION_1\n#define\tgDPSetAlphaDither(pkt, mode)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_ALPHADITHER, 2, mode)\n#define\tgsDPSetAlphaDither(mode)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_H, G_MDSFT_ALPHADITHER, 2, mode)\n#endif\n\n#define\tgDPSetBlendMask(pkt, mask)      gDPNoOp(pkt)\n#define\tgsDPSetBlendMask(mask)\t\tgsDPNoOp()\n\n#define\tgDPSetAlphaCompare(pkt, type)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_L, G_MDSFT_ALPHACOMPARE, 2, type)\n#define\tgsDPSetAlphaCompare(type)\t\t\tgsSPSetOtherMode(G_SETOTHERMODE_L, G_MDSFT_ALPHACOMPARE, 2, type)\n\n#define\tgDPSetDepthSource(pkt, src)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_L, G_MDSFT_ZSRCSEL, 1, src)\n#define\tgsDPSetDepthSource(src)\t\tgsSPSetOtherMode(G_SETOTHERMODE_L, G_MDSFT_ZSRCSEL, 1, src)\n\n#define\tgDPSetRenderMode(pkt, c0, c1)\t\tgSPSetOtherMode(pkt, G_SETOTHERMODE_L, G_MDSFT_RENDERMODE, 29, \t\t\t\t(c0) | (c1))\n#define\tgsDPSetRenderMode(c0, c1)\t\tgsSPSetOtherMode(G_SETOTHERMODE_L, G_MDSFT_RENDERMODE, 29, \t\t\t\t (c0) | (c1))\n\n#define\tgSetImage(pkt, cmd, fmt, siz, width, i)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(cmd, 24, 8) | _SHIFTL(fmt, 21, 3) |\t\t\t       _SHIFTL(siz, 19, 2) | _SHIFTL((width)-1, 0, 12);\t\t_g->words.w1 = (unsigned int)(i);\t\t\t\t}\n\n#define\tgsSetImage(cmd, fmt, siz, width, i)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(cmd, 24, 8) | _SHIFTL(fmt, 21, 3) |\t\t\t\t_SHIFTL(siz, 19, 2) | _SHIFTL((width)-1, 0, 12),\t\t\t(unsigned int)(i)\t\t\t\t\t\t}}\n\n#define\tgDPSetColorImage(pkt, f, s, w, i)\tgSetImage(pkt, G_SETCIMG, f, s, w, i)\n#define\tgsDPSetColorImage(f, s, w, i)\t\tgsSetImage(G_SETCIMG, f, s, w, i)\n\n#define\tgDPSetDepthImage(pkt, i)\tgSetImage(pkt, G_SETZIMG, 0, 0, 1, i)\n#define\tgsDPSetDepthImage(i)\t\tgsSetImage(G_SETZIMG, 0, 0, 1, i)\n/* kept for compatibility */\n#define\tgDPSetMaskImage(pkt, i)\t\tgDPSetDepthImage(pkt, i)\n#define\tgsDPSetMaskImage(i)\t\t\tgsDPSetDepthImage(i)\n\n#define\tgDPSetTextureImage(pkt, f, s, w, i)\tgSetImage(pkt, G_SETTIMG, f, s, w, i)\n#define\tgsDPSetTextureImage(f, s, w, i)\tgsSetImage(G_SETTIMG, f, s, w, i)\n\n#define\tgDPSetCombine(pkt, muxs0, muxs1)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_SETCOMBINE, 24, 8) | _SHIFTL(muxs0, 0, 24);\t_g->words.w1 = (unsigned int)(muxs1);\t\t\t\t}\n\n#define\tgsDPSetCombine(muxs0, muxs1)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_SETCOMBINE, 24, 8) | _SHIFTL(muxs0, 0, 24),\t\t\t(unsigned int)(muxs1)\t\t\t\t\t\t}}\n\n#define\tGCCc0w0(saRGB0, mRGB0, saA0, mA0)\t\t\t\t\t\t(_SHIFTL((saRGB0), 20, 4) | _SHIFTL((mRGB0), 15, 5) | \t\t\t _SHIFTL((saA0), 12, 3) | _SHIFTL((mA0), 9, 3))\n\n#define\tGCCc1w0(saRGB1, mRGB1)\t\t\t\t\t\t\t\t(_SHIFTL((saRGB1), 5, 4) | _SHIFTL((mRGB1), 0, 5))\n\n#define GCCc0w1(sbRGB0, aRGB0, sbA0, aA0)\t\t\t\t                (_SHIFTL((sbRGB0), 28, 4) | _SHIFTL((aRGB0), 15, 3) |\t\t\t _SHIFTL((sbA0), 12, 3) | _SHIFTL((aA0), 9, 3))\n\n#define\tGCCc1w1(sbRGB1, saA1, mA1, aRGB1, sbA1, aA1)\t\t\t\t\t(_SHIFTL((sbRGB1), 24, 4) | _SHIFTL((saA1), 21, 3) |\t\t\t _SHIFTL((mA1), 18, 3) | _SHIFTL((aRGB1), 6, 3) |\t\t\t _SHIFTL((sbA1), 3, 3) | _SHIFTL((aA1), 0, 3))\n\n#define\tgDPSetCombineLERP(pkt, a0, b0, c0, d0, Aa0, Ab0, Ac0, Ad0,\t\t\ta1, b1, c1, d1,\tAa1, Ab1, Ac1, Ad1)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 =\t_SHIFTL(G_SETCOMBINE, 24, 8) |\t\t\t\t\t\t_SHIFTL(GCCc0w0(G_CCMUX_##a0, G_CCMUX_##c0,\t\t\t\t\t       G_ACMUX_##Aa0, G_ACMUX_##Ac0) |\t\t\t\t       GCCc1w0(G_CCMUX_##a1, G_CCMUX_##c1), \t\t\t\t       0, 24);\t\t\t\t\t\t_g->words.w1 =\t(unsigned int)(GCCc0w1(G_CCMUX_##b0, \t\t\t\t\t\t\t       G_CCMUX_##d0,\t\t\t\t\t\t\t       G_ACMUX_##Ab0, \t\t\t\t\t\t\t       G_ACMUX_##Ad0) |\t\t\t\t\t\t       GCCc1w1(G_CCMUX_##b1, \t\t\t\t\t\t\t       G_ACMUX_##Aa1,\t\t\t\t\t\t\t       G_ACMUX_##Ac1, \t\t\t\t\t\t\t       G_CCMUX_##d1,\t\t\t\t\t\t\t       G_ACMUX_##Ab1, \t\t\t\t\t\t\t       G_ACMUX_##Ad1));\t\t}\n\n#define\tgsDPSetCombineLERP(a0, b0, c0, d0, Aa0, Ab0, Ac0, Ad0,\t\t\t\ta1, b1, c1, d1,\tAa1, Ab1, Ac1, Ad1)\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_SETCOMBINE, 24, 8) |\t\t\t\t\t\t_SHIFTL(GCCc0w0(G_CCMUX_##a0, G_CCMUX_##c0,\t\t\t\t\t       G_ACMUX_##Aa0, G_ACMUX_##Ac0) |\t\t\t\t       GCCc1w0(G_CCMUX_##a1, G_CCMUX_##c1), 0, 24),\t\t\t(unsigned int)(GCCc0w1(G_CCMUX_##b0, G_CCMUX_##d0,\t\t\t\t\t       G_ACMUX_##Ab0, G_ACMUX_##Ad0) |\t\t\t\t       GCCc1w1(G_CCMUX_##b1, G_ACMUX_##Aa1,\t\t\t\t\t       G_ACMUX_##Ac1, G_CCMUX_##d1,\t\t\t\t\t       G_ACMUX_##Ab1, G_ACMUX_##Ad1))\t\t}}\n\n#define gDPSetCombineMode(pkt, a, b)\tgDPSetCombineLERP(pkt, a, b)\n#define\tgsDPSetCombineMode(a, b)\tgsDPSetCombineLERP(a, b)\n\n#define\tgDPSetColor(pkt, c, d)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(c, 24, 8);\t\t\t\t\t_g->words.w1 = (unsigned int)(d);\t\t\t\t}\n\n#define\tgsDPSetColor(c, d)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(c, 24, 8), (unsigned int)(d)\t\t\t\t}}\n\n#define\tDPRGBColor(pkt, cmd, r, g, b, a)\t\t\t\t            gDPSetColor(pkt, cmd,\t\t\t\t\t\t\t\t(_SHIFTL(r, 24, 8) | _SHIFTL(g, 16, 8) | \t\t\t\t _SHIFTL(b, 8, 8) | _SHIFTL(a, 0, 8)))\n#define\tsDPRGBColor(cmd, r, g, b, a)\t\t\t\t\t\t    gsDPSetColor(cmd,\t\t\t\t\t\t\t\t\t (_SHIFTL(r, 24, 8) | _SHIFTL(g, 16, 8) | \t\t\t\t  _SHIFTL(b, 8, 8) | _SHIFTL(a, 0, 8)))\n\n#define\tgDPSetEnvColor(pkt, r, g, b, a)\t\t\t\t\t            DPRGBColor(pkt, G_SETENVCOLOR, r,g,b,a)\n#define\tgsDPSetEnvColor(r, g, b, a)\t\t\t\t\t            sDPRGBColor(G_SETENVCOLOR, r,g,b,a)\n#define\tgDPSetBlendColor(pkt, r, g, b, a)\t\t\t\t            DPRGBColor(pkt, G_SETBLENDCOLOR, r,g,b,a)\n#define\tgsDPSetBlendColor(r, g, b, a)\t\t\t\t\t            sDPRGBColor(G_SETBLENDCOLOR, r,g,b,a)\n#define\tgDPSetFogColor(pkt, r, g, b, a)\t\t\t\t\t            DPRGBColor(pkt, G_SETFOGCOLOR, r,g,b,a)\n#define\tgsDPSetFogColor(r, g, b, a)\t\t\t\t\t            sDPRGBColor(G_SETFOGCOLOR, r,g,b,a)\n#define\tgDPSetFillColor(pkt, d)\t\t\t\t\t\t            gDPSetColor(pkt, G_SETFILLCOLOR, (d))\n#define\tgsDPSetFillColor(d)\t\t\t\t\t\t            gsDPSetColor(G_SETFILLCOLOR, (d))\n\n#define\tgDPSetPrimDepth(pkt, z, dz)\t\t\t\t\t\t\tgDPSetColor(pkt, G_SETPRIMDEPTH, \t\t\t\t\t\t    _SHIFTL(z, 16, 16) | _SHIFTL(dz, 0, 16))\n#define\tgsDPSetPrimDepth(z, dz)\t\t\t\t\t\t\t\tgsDPSetColor(G_SETPRIMDEPTH, _SHIFTL(z, 16, 16) | \t\t\t\t     _SHIFTL(dz, 0, 16))\n\n#define\tgDPSetPrimColor(pkt, m, l, r, g, b, a)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 =\t(_SHIFTL(G_SETPRIMCOLOR, 24, 8) | \t\t\t\t\t _SHIFTL(m, 8, 8) | _SHIFTL(l, 0, 8));\t\t\t_g->words.w1 =  (_SHIFTL(r, 24, 8) | _SHIFTL(g, 16, 8) | \t\t\t\t _SHIFTL(b, 8, 8) | _SHIFTL(a, 0, 8));\t\t}\n\n#define\tgsDPSetPrimColor(m, l, r, g, b, a)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_SETPRIMCOLOR, 24, 8) | _SHIFTL(m, 8, 8) |\t\t\t _SHIFTL(l, 0, 8)),\t\t\t\t\t\t\t(_SHIFTL(r, 24, 8) | _SHIFTL(g, 16, 8) | _SHIFTL(b, 8, 8) |\t\t _SHIFTL(a, 0, 8))\t\t\t\t\t\t}}\n\n#define\tgDPSetOtherMode(pkt, mode0, mode1)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_RDPSETOTHERMODE,24,8)|_SHIFTL(mode0,0,24);\t_g->words.w1 = (unsigned int)(mode1);\t\t\t\t}\n\n#define\tgsDPSetOtherMode(mode0, mode1)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_RDPSETOTHERMODE,24,8)|_SHIFTL(mode0,0,24),\t\t\t(unsigned int)(mode1)\t\t\t\t\t\t}}\n\n#define\tG_TX_LOADTILE\t7\n#define\tG_TX_RENDERTILE\t0\n\n#define\tG_TX_NOMIRROR\t0\n#define\tG_TX_WRAP\t0\n#define\tG_TX_MIRROR\t0x1\n#define\tG_TX_CLAMP\t0x2\n#define\tG_TX_NOMASK\t0\n#define\tG_TX_NOLOD\t0\n\n\n#ifndef MAX\n#define MAX(a, b)\t\t\t\t((a) > (b) ? (a) : (b))\n#endif\n\n#ifndef MIN\n#define MIN(a, b)\t\t\t\t((a) < (b) ? (a) : (b))\n#endif\n\n#define\tG_TX_DXT_FRAC\t11\n\n#ifdef _HW_VERSION_1\n#define G_TX_LDBLK_MAX_TXL\t4095\n#else\n#define G_TX_LDBLK_MAX_TXL\t2047\n#endif /* _HW_VERSION_1 */\n\n#define TXL2WORDS(txls, b_txl)\tMAX(1, ((txls)*(b_txl)/8))\n#define CALC_DXT(width, b_txl)\t\t\t(((1 << G_TX_DXT_FRAC) + TXL2WORDS(width, b_txl) - 1) / \t\t\t\t\tTXL2WORDS(width, b_txl))\n\n#define TXL2WORDS_4b(txls)\tMAX(1, ((txls)/16))\n#define CALC_DXT_4b(width)\t\t\t(((1 << G_TX_DXT_FRAC) + TXL2WORDS_4b(width) - 1) / \t\t\t\t\tTXL2WORDS_4b(width))\n\n#define gDPLoadTileGeneric(pkt, c, tile, uls, ult, lrs, lrt)\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(c, 24, 8) | _SHIFTL(uls, 12, 12) |\t\t\t      _SHIFTL(ult, 0, 12);\t\t\t\t\t_g->words.w1 = _SHIFTL(tile, 24, 3) | _SHIFTL(lrs, 12, 12) |\t\t\t      _SHIFTL(lrt, 0, 12);\t\t\t\t}\n\n#define gsDPLoadTileGeneric(c, tile, uls, ult, lrs, lrt)\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(c, 24, 8) | _SHIFTL(uls, 12, 12) | _SHIFTL(ult, 0, 12),\t\t_SHIFTL(tile, 24, 3) | _SHIFTL(lrs, 12, 12) | _SHIFTL(lrt, 0, 12)}}\n\n#define\tgDPSetTileSize(pkt, t, uls, ult, lrs, lrt)\t\t\t\t\tgDPLoadTileGeneric(pkt, G_SETTILESIZE, t, uls, ult, lrs, lrt)\n#define\tgsDPSetTileSize(t, uls, ult, lrs, lrt)\t\t\t\t\t\tgsDPLoadTileGeneric(G_SETTILESIZE, t, uls, ult, lrs, lrt)\n#define\tgDPLoadTile(pkt, t, uls, ult, lrs, lrt)\t\t\t\t\t\tgDPLoadTileGeneric(pkt, G_LOADTILE, t, uls, ult, lrs, lrt)\n#define\tgsDPLoadTile(t, uls, ult, lrs, lrt)\t\t\t\t\t\tgsDPLoadTileGeneric(G_LOADTILE, t, uls, ult, lrs, lrt)\n\n#define\tgDPSetTile(pkt, fmt, siz, line, tmem, tile, palette, cmt,\t\t\tmaskt, shiftt, cms, masks, shifts)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_SETTILE, 24, 8) | _SHIFTL(fmt, 21, 3) |\t\t       _SHIFTL(siz, 19, 2) | _SHIFTL(line, 9, 9) |\t\t\t       _SHIFTL(tmem, 0, 9);\t\t\t\t\t_g->words.w1 = _SHIFTL(tile, 24, 3) | _SHIFTL(palette, 20, 4) |\t\t\t       _SHIFTL(cmt, 18, 2) | _SHIFTL(maskt, 14, 4) |\t\t\t       _SHIFTL(shiftt, 10, 4) |_SHIFTL(cms, 8, 2) |\t\t\t       _SHIFTL(masks, 4, 4) | _SHIFTL(shifts, 0, 4);\t}\n\n#define\tgsDPSetTile(fmt, siz, line, tmem, tile, palette, cmt,\t\t\t\tmaskt, shiftt, cms, masks, shifts)\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_SETTILE, 24, 8) | _SHIFTL(fmt, 21, 3) | \t\t\t _SHIFTL(siz, 19, 2) | _SHIFTL(line, 9, 9) | _SHIFTL(tmem, 0, 9)),        (_SHIFTL(tile, 24, 3) | _SHIFTL(palette, 20, 4) | \t\t\t _SHIFTL(cmt, 18, 2) | _SHIFTL(maskt, 14, 4) | \t\t\t\t _SHIFTL(shiftt, 10, 4) | _SHIFTL(cms, 8, 2) | \t\t\t\t _SHIFTL(masks, 4, 4) | _SHIFTL(shifts, 0, 4))\t\t\t}}\n\n#define gDPLoadBlock(pkt, tile, uls, ult, lrs, dxt)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_LOADBLOCK, 24, 8) | \t\t\t\t\t\t_SHIFTL(uls, 12, 12) | _SHIFTL(ult, 0, 12));\t\t_g->words.w1 = (_SHIFTL(tile, 24, 3) |\t\t\t\t\t\t\t_SHIFTL((MIN(lrs,G_TX_LDBLK_MAX_TXL)), 12, 12) |\t\t\t_SHIFTL(dxt, 0, 12));\t\t\t\t}\n\n#define gsDPLoadBlock(tile, uls, ult, lrs, dxt)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_LOADBLOCK, 24, 8) | _SHIFTL(uls, 12, 12) | \t\t\t _SHIFTL(ult, 0, 12)),\t\t\t\t\t\t\t(_SHIFTL(tile, 24, 3) | \t\t\t\t\t\t _SHIFTL((MIN(lrs,G_TX_LDBLK_MAX_TXL)), 12, 12) |\t\t\t _SHIFTL(dxt, 0, 12))\t\t\t\t\t\t}}\n\n#define\tgDPLoadTLUTCmd(pkt, tile, count)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)pkt;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_LOADTLUT, 24, 8);\t\t\t\t_g->words.w1 = _SHIFTL((tile), 24, 3) | _SHIFTL((count), 14, 10);}\n\n#define\tgsDPLoadTLUTCmd(tile, count)\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_LOADTLUT, 24, 8),\t\t\t\t\t\t_SHIFTL((tile), 24, 3) | _SHIFTL((count), 14, 10)\t\t}}\n\n#define\tgDPLoadTextureBlock(pkt, timg, fmt, siz, width, height,\t\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, 0, G_TX_LOADTILE, \t\t\t0 , cmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT) -1,\t\t\tCALC_DXT(width, siz##_BYTES)); \t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((width) * siz##_LINE_BYTES)+7)>>3, 0,\t\t\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadTextureBlockYuv(pkt, timg, fmt, siz, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, 0, G_TX_LOADTILE, \t\t\t0 , cmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT) -1,\t\t\tCALC_DXT(width, siz##_BYTES)); \t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((width) * 1)+7)>>3, 0,\t\t\t\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadTextureBlockS(pkt, timg, fmt, siz, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, 0, G_TX_LOADTILE, \t\t\t0 , cmt, maskt,\tshiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,0);\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((width) * siz##_LINE_BYTES)+7)>>3, 0,\t\t\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadMultiBlockS(pkt, timg, tmem, rtile, fmt, siz, width, \t\t\t   height, pal, cms, cmt, masks, maskt, shifts, shiftt)\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE, \t\t\t0 , cmt, maskt,\tshiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,0);\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((width) * siz##_LINE_BYTES)+7)>>3, tmem,\t\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, rtile, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n\n#define\tgDPLoadTextureBlockYuvS(pkt, timg, fmt, siz, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, 0, G_TX_LOADTILE, \t\t\t0 , cmt, maskt,\tshiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,0);\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((width) * 1)+7)>>3, 0,\t\t\t\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\t_gDPLoadTextureBlock(pkt, timg, tmem, fmt, siz, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE,  \t\t0, cmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,\t\t\tCALC_DXT(width, siz##_BYTES)); \t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz, (((width) * siz##_LINE_BYTES)+7)>>3,\t\t\ttmem, G_TX_RENDERTILE, pal, cmt,\t\t\t\t\tmaskt, shiftt, cms, masks, shifts);\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\t_gDPLoadTextureBlockTile(pkt, timg, tmem, rtile, fmt, siz, width,  \t\theight, pal, cms, cmt, masks, maskt, shifts, shiftt)\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE, 0,\t\tcmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,\t\t\tCALC_DXT(width, siz##_BYTES)); \t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz, (((width) * siz##_LINE_BYTES)+7)>>3,\t\t\ttmem, rtile, pal, cmt,\t\t\t\t\t\t\tmaskt, shiftt, cms, masks, shifts);\t\t\t\tgDPSetTileSize(pkt, rtile, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadMultiBlock(pkt, timg, tmem, rtile, fmt, siz, width,  \t\t\theight, pal, cms, cmt, masks, maskt, shifts, shiftt)\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);\t\tgDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE, 0,\t\tcmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,\t\t\tCALC_DXT(width, siz##_BYTES)); \t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz, (((width) * siz##_LINE_BYTES)+7)>>3,\t\t\ttmem, rtile, pal, cmt,\t\t\t\t\t\t\tmaskt, shiftt, cms, masks, shifts);\t\t\t\tgDPSetTileSize(pkt, rtile, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgsDPLoadTextureBlock(timg, fmt, siz, width, height,\t\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),\t\t\tgsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, 0, \t\t\t\t\tG_TX_LOADTILE, \t0 , cmt, maskt,\tshiftt, cms, \t\t\t\tmasks, shifts),\t\t\t\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,\t\t\tCALC_DXT(width, siz##_BYTES)), \t\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz, ((((width) * siz##_LINE_BYTES)+7)>>3), 0,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n\n#define\tgsDPLoadTextureBlockS(timg, fmt, siz, width, height,\t\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),\t\t\tgsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, 0, G_TX_LOADTILE, 0 , \t\t\tcmt, maskt,shiftt, cms, masks, shifts),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1, 0 ),\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz, ((((width) * siz##_LINE_BYTES)+7)>>3), 0,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n#define\t_gsDPLoadTextureBlock(timg, tmem, fmt, siz, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),\t\t\tgsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE, \t\t\t0 , cmt, maskt,\tshiftt, cms, masks, shifts),\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,\t\t\tCALC_DXT(width, siz##_BYTES)), \t\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz,\t\t\t\t\t\t\t\t((((width) * siz##_LINE_BYTES)+7)>>3), tmem,\t\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n\n#define\t_gsDPLoadTextureBlockTile(timg, tmem, rtile, fmt, siz, width,\t\t\theight, pal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),\t\t\tgsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE, \t\t\t0 , cmt, maskt,\tshiftt, cms, masks, shifts),\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,\t\t\tCALC_DXT(width, siz##_BYTES)), \t\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz,\t\t\t\t\t\t\t\t((((width) * siz##_LINE_BYTES)+7)>>3), tmem,\t\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(rtile, 0, 0,\t\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n\n#define\tgsDPLoadMultiBlock(timg, tmem, rtile, fmt, siz, width,\t\t\t\theight, pal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),\t\t\tgsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE, \t\t\t0 , cmt, maskt,\tshiftt, cms, masks, shifts),\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1,\t\t\tCALC_DXT(width, siz##_BYTES)), \t\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz,\t\t\t\t\t\t\t\t((((width) * siz##_LINE_BYTES)+7)>>3), tmem,\t\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(rtile, 0, 0,\t\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n#define\tgsDPLoadMultiBlockS(timg, tmem, rtile, fmt, siz, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),\t\t\tgsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, tmem, G_TX_LOADTILE, 0 , \t\t\tcmt, maskt,shiftt, cms, masks, shifts),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, \t\t\t\t\t\t(((width)*(height) + siz##_INCR) >> siz##_SHIFT)-1, 0 ),\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz, ((((width) * siz##_LINE_BYTES)+7)>>3), tmem,\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(rtile, 0, 0,\t\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n\n#define\tgDPLoadTextureBlock_4b(pkt, timg, fmt, width, height,\t\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, G_IM_SIZ_16b, 1, timg);\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_16b, 0, 0, G_TX_LOADTILE, 0,\t\t\tcmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0,\t\t\t\t\t\t(((width)*(height)+3)>>2)-1,\t\t\t\t\t\tCALC_DXT_4b(width)); \t\t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), 0,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadTextureBlock_4bS(pkt, timg, fmt, width, height,\t\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, G_IM_SIZ_16b, 1, timg);\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_16b, 0, 0, G_TX_LOADTILE, 0,\t\t\tcmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0,\t\t\t\t\t\t(((width)*(height)+3)>>2)-1, 0 );\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), 0,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadMultiBlock_4b(pkt, timg, tmem, rtile, fmt, width, height,\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, G_IM_SIZ_16b, 1, timg);\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_16b, 0, tmem, G_TX_LOADTILE, 0,\t\t\tcmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0,\t\t\t\t\t\t(((width)*(height)+3)>>2)-1,\t\t\t\t\t\tCALC_DXT_4b(width));\t\t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), tmem,\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, rtile, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadMultiBlock_4bS(pkt, timg, tmem, rtile, fmt, width, height,\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, G_IM_SIZ_16b, 1, timg);\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_16b, 0, tmem, G_TX_LOADTILE, 0,\t\t\tcmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0,\t\t\t\t\t\t(((width)*(height)+3)>>2)-1, 0 );\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), tmem,\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, rtile, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n\n#define\t_gDPLoadTextureBlock_4b(pkt, timg, tmem, fmt, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, G_IM_SIZ_16b, 1, timg);\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_16b, 0, tmem, G_TX_LOADTILE, 0,\t\t\tcmt, maskt, shiftt, cms, masks, shifts);\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadBlock(pkt, G_TX_LOADTILE, 0, 0,\t\t\t\t\t\t(((width)*(height)+3)>>2)-1,\t\t\t\t\t\tCALC_DXT_4b(width));\t\t\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), tmem,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE, 0, 0,\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgsDPLoadTextureBlock_4b(timg, fmt, width, height,\t\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, G_IM_SIZ_16b, 1, timg),\t\t\tgsDPSetTile(fmt, G_IM_SIZ_16b, 0, 0, G_TX_LOADTILE, 0 , cmt,\t\t\tmaskt, shiftt, cms, masks, shifts),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, (((width)*(height)+3)>>2)-1,\t\t\tCALC_DXT_4b(width)),\t\t\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), 0,\t\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n#define\tgsDPLoadTextureBlock_4bS(timg, fmt, width, height,\t\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, G_IM_SIZ_16b, 1, timg),\t\t\tgsDPSetTile(fmt, G_IM_SIZ_16b, 0, 0, G_TX_LOADTILE, 0 , cmt,\t\t\tmaskt, shiftt, cms, masks, shifts),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, (((width)*(height)+3)>>2)-1,0),\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), 0,\t\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n#define\tgsDPLoadMultiBlock_4b(timg, tmem, rtile, fmt, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, G_IM_SIZ_16b, 1, timg),\t\t\tgsDPSetTile(fmt, G_IM_SIZ_16b, 0, tmem, G_TX_LOADTILE, 0 , cmt,\t\t\tmaskt, shiftt, cms, masks, shifts),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, (((width)*(height)+3)>>2)-1,\t\t\tCALC_DXT_4b(width)), \t\t\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), tmem,\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(rtile, 0, 0,\t\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n\n#define\tgsDPLoadMultiBlock_4bS(timg, tmem, rtile, fmt, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, G_IM_SIZ_16b, 1, timg),\t\t\tgsDPSetTile(fmt, G_IM_SIZ_16b, 0, tmem, G_TX_LOADTILE, 0 , cmt,\t\t\tmaskt, shiftt, cms, masks, shifts),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, (((width)*(height)+3)>>2)-1,0),\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), tmem,\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(rtile, 0, 0,\t\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n\n#define\t_gsDPLoadTextureBlock_4b(timg, tmem, fmt, width, height,\t\t\tpal, cms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, G_IM_SIZ_16b, 1, timg),\t\t\tgsDPSetTile(fmt, G_IM_SIZ_16b, 0, tmem, G_TX_LOADTILE, 0 , cmt,\t\t\tmaskt, shiftt, cms, masks, shifts),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadBlock(G_TX_LOADTILE, 0, 0, (((width)*(height)+3)>>2)-1,\t\t\tCALC_DXT_4b(width)), \t\t\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, G_IM_SIZ_4b, ((((width)>>1)+7)>>3), tmem,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE, 0, 0,\t\t\t\t\t\t((width)-1) << G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t((height)-1) << G_TEXTURE_IMAGE_FRAC)\n\n#ifndef _HW_VERSION_1\n\n#define\tgDPLoadTextureTile(pkt, timg, fmt, siz, width, height,\t\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz, width, timg);\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((((lrs)-(uls)+1) * siz##_TILE_BYTES)+7)>>3), 0,\t\t\tG_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadTile(\tpkt, G_TX_LOADTILE,\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC);\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((((lrs)-(uls)+1) * siz##_LINE_BYTES)+7)>>3), 0,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE,\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#else /******** WORKAROUND hw 1 load tile bug ********/\n\n#define\tgDPLoadTextureTile(pkt, timg, fmt, siz, width, height,\t\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tint _loadtile_i, _loadtile_nw; Gfx *_loadtile_temp = pkt; \t\tguDPLoadTextureTile(_loadtile_temp, timg, fmt, siz, \t\t\t\twidth, height,        \t\t\t\t\t                uls, ult, lrs, lrt, pal,                                                cms, cmt, masks, maskt, shifts, shiftt);\t\t\t_loadtile_nw = guGetDPLoadTextureTileSz(ult, lrt) - 1;\t\t\tfor(_loadtile_i = 0; _loadtile_i < _loadtile_nw; _loadtile_i++)\t\t  pkt;\t\t\t\t\t\t\t\t}\n\n#endif /* HW_VERSION_1 */\n\n#define\tgDPLoadMultiTile(pkt, timg, tmem, rtile, fmt, siz, width, height,\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, siz, width, timg);\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((((lrs)-(uls)+1) * siz##_TILE_BYTES)+7)>>3), tmem,\t\t\tG_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, masks,\t\t\tshifts);\t\t\t\t\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadTile(\tpkt, G_TX_LOADTILE,\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC);\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, siz,\t\t\t\t\t\t\t(((((lrs)-(uls)+1) * siz##_LINE_BYTES)+7)>>3), tmem,\t\t\trtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\tshifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, rtile,\t\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n\n#define\tgsDPLoadTextureTile(timg, fmt, siz, width, height,\t\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz, width, timg),\t\t\t\tgsDPSetTile(fmt, siz, \t\t\t\t\t\t\t\t    (((((lrs)-(uls)+1) * siz##_TILE_BYTES)+7)>>3), 0,\t\t\t    G_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, masks,\t\t\t    shifts),\t\t\t\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadTile(\tG_TX_LOADTILE,\t\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC),\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz, \t\t\t\t\t\t\t\t    (((((lrs)-(uls)+1) * siz##_LINE_BYTES)+7)>>3), 0,\t\t\t    G_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t    shifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE,\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\n\n#define\tgsDPLoadMultiTile(timg, tmem, rtile, fmt, siz, width, height,\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, siz, width, timg),\t\t\t\tgsDPSetTile(fmt, siz, \t\t\t\t\t\t\t\t    (((((lrs)-(uls)+1) * siz##_TILE_BYTES)+7)>>3), \t\t\t    tmem, G_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, \t\t\t    masks, shifts),\t\t\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadTile(\tG_TX_LOADTILE,\t\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC),\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, siz, \t\t\t\t\t\t\t\t    (((((lrs)-(uls)+1) * siz##_LINE_BYTES)+7)>>3), \t\t\t    tmem, rtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t    shifts),\t\t\t\t\t\t\tgsDPSetTileSize(rtile,\t\t\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\n\n#define\tgDPLoadTextureTile_4b(pkt, timg, fmt, width, height,\t\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, G_IM_SIZ_8b, ((width)>>1), timg);\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_8b, \t\t\t\t\t\t   (((((lrs)-(uls)+1)>>1)+7)>>3), 0,\t\t\t\t\t   G_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, masks,\t\t\t   shifts);\t\t\t\t\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadTile(\tpkt, G_TX_LOADTILE,\t\t\t\t\t\t\t(uls)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(ult)<<(G_TEXTURE_IMAGE_FRAC),\t\t\t\t\t\t(lrs)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(lrt)<<(G_TEXTURE_IMAGE_FRAC));\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_4b, \t\t\t\t\t\t   (((((lrs)-(uls)+1)>>1)+7)>>3), 0,\t\t\t\t\t   G_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, \t\t\t   masks, shifts);\t\t\t\t\t\tgDPSetTileSize(pkt, G_TX_RENDERTILE,\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgDPLoadMultiTile_4b(pkt, timg, tmem, rtile, fmt, width, height,\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, fmt, G_IM_SIZ_8b, ((width)>>1), timg);\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_8b, \t\t\t        \t\t   (((((lrs)-(uls)+1)>>1)+7)>>3), tmem,\t\t\t\t\t   G_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, masks,\t\t\t   shifts);\t\t\t\t\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadTile(\tpkt, G_TX_LOADTILE,\t\t\t\t\t\t\t(uls)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(ult)<<(G_TEXTURE_IMAGE_FRAC),\t\t\t\t\t\t(lrs)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(lrt)<<(G_TEXTURE_IMAGE_FRAC));\t\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, fmt, G_IM_SIZ_4b, \t\t\t\t\t\t   (((((lrs)-(uls)+1)>>1)+7)>>3), tmem,\t\t\t\t\t   rtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t\t   shifts);\t\t\t\t\t\t\tgDPSetTileSize(pkt, rtile,\t\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\t\t\t}\n\n#define\tgsDPLoadTextureTile_4b(timg, fmt, width, height,\t\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, G_IM_SIZ_8b, ((width)>>1), timg),\t\tgsDPSetTile(fmt, G_IM_SIZ_8b, (((((lrs)-(uls)+1)>>1)+7)>>3), 0,\t\t\tG_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadTile(\tG_TX_LOADTILE,\t\t\t\t\t\t\t\t(uls)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(ult)<<(G_TEXTURE_IMAGE_FRAC),\t\t\t\t\t\t(lrs)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(lrt)<<(G_TEXTURE_IMAGE_FRAC)),\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, G_IM_SIZ_4b, (((((lrs)-(uls)+1)>>1)+7)>>3), 0,\t\t\tG_TX_RENDERTILE, pal, cmt, maskt, shiftt, cms, masks,\t\t\tshifts),\t\t\t\t\t\t\tgsDPSetTileSize(G_TX_RENDERTILE,\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\n\n#define\tgsDPLoadMultiTile_4b(timg, tmem, rtile, fmt, width, height,\t\t\tuls, ult, lrs, lrt, pal,\t\t\t\t\t\tcms, cmt, masks, maskt, shifts, shiftt)\t\t\t\t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(fmt, G_IM_SIZ_8b, ((width)>>1), timg),\t\tgsDPSetTile(fmt, G_IM_SIZ_8b, (((((lrs)-(uls)+1)>>1)+7)>>3), \t\t\t    tmem, G_TX_LOADTILE, 0 , cmt, maskt, shiftt, cms, \t\t\t    masks, shifts),\t\t\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadTile(\tG_TX_LOADTILE,\t\t\t\t\t\t\t\t(uls)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(ult)<<(G_TEXTURE_IMAGE_FRAC),\t\t\t\t\t\t(lrs)<<(G_TEXTURE_IMAGE_FRAC-1),\t\t\t\t\t(lrt)<<(G_TEXTURE_IMAGE_FRAC)),\t\t\t\tgsDPPipeSync(),\t\t\t\t\t\t\t\tgsDPSetTile(fmt, G_IM_SIZ_4b, (((((lrs)-(uls)+1)>>1)+7)>>3), \t\t\t    tmem, rtile, pal, cmt, maskt, shiftt, cms, masks,\t\t\t    shifts),\t\t\t\t\t\t\tgsDPSetTileSize(rtile,\t\t\t\t\t\t\t\t\t(uls)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(ult)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrs)<<G_TEXTURE_IMAGE_FRAC,\t\t\t\t\t\t(lrt)<<G_TEXTURE_IMAGE_FRAC)\n\n#ifndef _HW_VERSION_1\n\n#define gDPLoadTLUT_pal16(pkt, pal, dram)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram);\t\tgDPTileSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, 0, 0, 0, (256+(((pal)&0xf)*16)),\t\t\t\tG_TX_LOADTILE, 0 , 0, 0, 0, 0, 0, 0);\t\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadTLUTCmd(pkt, G_TX_LOADTILE, 15);\t\t\t\t\tgDPPipeSync(pkt)\t\t\t\t\t\t}\n\n#else /* **** WORKAROUND hardware 1 load_tlut bug ****** */\n\n#define gDPLoadTLUT_pal16(pkt, pal, dram)\t\t\t\t\t\t\t\t\t\t\t\t\t        _gDPLoadTextureBlock(pkt, dram, (256+(((pal)&0xf)*16)),\t\t\t\tG_IM_FMT_RGBA, G_IM_SIZ_16b, 4*16, 1,\t\t\t\t\tpal, 0, 0, 0, 0, 0, 0)\n\n#endif /* _HW_VERSION_1 */\n\n#ifndef _HW_VERSION_1\n\n#define gsDPLoadTLUT_pal16(pal, dram)\t\t\t\t\t \t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram),\t\tgsDPTileSync(),\t\t\t\t\t\t\t\tgsDPSetTile(0, 0, 0, (256+(((pal)&0xf)*16)),\t\t\t\t\tG_TX_LOADTILE, 0 , 0, 0, 0, 0, 0, 0),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadTLUTCmd(G_TX_LOADTILE, 15),\t\t\t\t\tgsDPPipeSync()\n\n#else /* **** WORKAROUND hardware 1 load_tlut bug ****** */\n\n#define gsDPLoadTLUT_pal16(pal, dram)                                   \t\t\t\t\t\t\t\t\t\t_gsDPLoadTextureBlock(dram, (256+(((pal)&0xf)*16)),           \t                G_IM_FMT_RGBA, G_IM_SIZ_16b, 4*16, 1,                                   pal, 0, 0, 0, 0, 0, 0)\n\n#endif /* _HW_VERSION_1 */ \n\n#ifndef _HW_VERSION_1\n\n#define gDPLoadTLUT_pal256(pkt, dram)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram);\t\tgDPTileSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, 0, 0, 0, 256,\t\t\t\t\t\t\tG_TX_LOADTILE, 0 , 0, 0, 0, 0, 0, 0);\t\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadTLUTCmd(pkt, G_TX_LOADTILE, 255);\t\t\t\tgDPPipeSync(pkt)\t\t\t\t\t\t}\n\n#else /* **** WORKAROUND hardware 1 load_tlut bug ****** */\n\n#define gDPLoadTLUT_pal256(pkt, dram)                                   \t                                                                \t_gDPLoadTextureBlock(pkt, dram, 256,           \t\t\t                G_IM_FMT_RGBA, G_IM_SIZ_16b, 4*256, 1,\t\t\t                0, 0, 0, 0, 0, 0, 0)\n\n\n#endif /* _HW_VERSION_1 */\n\n#ifndef _HW_VERSION_1\n\n#define gsDPLoadTLUT_pal256(dram)\t\t\t\t\t \t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram),\t\tgsDPTileSync(),\t\t\t\t\t\t\t\tgsDPSetTile(0, 0, 0, 256,\t\t\t\t\t\t\tG_TX_LOADTILE, 0 , 0, 0, 0, 0, 0, 0),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadTLUTCmd(G_TX_LOADTILE, 255),\t\t\t\t\tgsDPPipeSync()\n\n#else /* **** WORKAROUND hardware 1 load_tlut bug ****** */\n\n#define gsDPLoadTLUT_pal256(dram)                                                                                                               \t_gsDPLoadTextureBlock(dram, 256,                            \t                G_IM_FMT_RGBA, G_IM_SIZ_16b, 4*256, 1,                                  0, 0, 0, 0, 0, 0, 0)\n\n#endif /* _HW_VERSION_1 */\n\n\n#ifndef _HW_VERSION_1\n\n#define gDPLoadTLUT(pkt, count, tmemaddr, dram)\t\t\t\t{\t\t\t\t\t\t\t\t\t\tgDPSetTextureImage(pkt, G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram);\t\tgDPTileSync(pkt);\t\t\t\t\t\t\tgDPSetTile(pkt, 0, 0, 0, tmemaddr,\t\t\t\t\t\tG_TX_LOADTILE, 0 , 0, 0, 0, 0, 0, 0);\t\t\t\tgDPLoadSync(pkt);\t\t\t\t\t\t\tgDPLoadTLUTCmd(pkt, G_TX_LOADTILE, ((count)-1));\t\t\tgDPPipeSync(pkt);\t\t\t\t\t\t}\n\n#else /* **** WORKAROUND hardware 1 load_tlut bug ****** */\n\n#define gDPLoadTLUT(pkt, count, tmemaddr, dram)                         \t\t\t\t\t\t\t\t\t        _gDPLoadTextureBlock(pkt, dram, tmemaddr,                                       G_IM_FMT_RGBA, G_IM_SIZ_16b, 4, count,                                  0, 0, 0, 0, 0, 0, 0)\n\n#endif /* _HW_VERSION_1 */\n\n\n#ifndef _HW_VERSION_1\n\n#define gsDPLoadTLUT(count, tmemaddr, dram)\t\t\t\t \t\t\t\t\t\t\t\t\t\tgsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram),\t\tgsDPTileSync(),\t\t\t\t\t\t\t\tgsDPSetTile(0, 0, 0, tmemaddr,\t\t\t\t\t\t\tG_TX_LOADTILE, 0 , 0, 0, 0, 0, 0, 0),\t\t\t\tgsDPLoadSync(),\t\t\t\t\t\t\t\tgsDPLoadTLUTCmd(G_TX_LOADTILE, ((count)-1)),\t\t\t\tgsDPPipeSync()\n\n#else /* **** WORKAROUND hardware 1 load_tlut bug ****** */\n#define gsDPLoadTLUT(count, tmemaddr, dram)                                                                                                             _gsDPLoadTextureBlock(dram, tmemaddr,                       \t                G_IM_FMT_RGBA, G_IM_SIZ_16b, 4, count,                                  0, 0, 0, 0, 0, 0, 0)\n\n#endif /* _HW_VERSION_1 */\n\n#define gDPSetScissor(pkt, mode, ulx, uly, lrx, lry)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)pkt;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_SETSCISSOR, 24, 8) |\t\t\t\t\t       _SHIFTL((int)((float)(ulx)*4.0F), 12, 12) |\t                       _SHIFTL((int)((float)(uly)*4.0F), 0, 12);\t\t_g->words.w1 = _SHIFTL(mode, 24, 2) |\t\t\t\t\t\t       _SHIFTL((int)((float)(lrx)*4.0F), 12, 12) |\t                       _SHIFTL((int)((float)(lry)*4.0F), 0, 12);\t}\n\n#define gDPSetScissorFrac(pkt, mode, ulx, uly, lrx, lry)\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)pkt;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_SETSCISSOR, 24, 8) |\t\t\t\t\t       _SHIFTL((int)((ulx)), 12, 12) |\t\t\t                       _SHIFTL((int)((uly)), 0, 12);\t\t\t\t_g->words.w1 = _SHIFTL(mode, 24, 2) |\t\t\t\t\t\t       _SHIFTL((int)((lrx)), 12, 12) | \t\t\t                       _SHIFTL((int)((lry)), 0, 12);\t\t\t}\n\n#define gsDPSetScissor(mode, ulx, uly, lrx, lry)\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_SETSCISSOR, 24, 8) |\t\t\t\t\t\t_SHIFTL((int)((float)(ulx)*4.0F), 12, 12) |\t\t\t\t_SHIFTL((int)((float)(uly)*4.0F), 0, 12),\t\t\t\t_SHIFTL(mode, 24, 2) |\t\t\t\t\t\t\t_SHIFTL((int)((float)(lrx)*4.0F), 12, 12) |\t\t\t\t_SHIFTL((int)((float)(lry)*4.0F), 0, 12)\t\t\t}}\n\n#define gsDPSetScissorFrac(mode, ulx, uly, lrx, lry)\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_SETSCISSOR, 24, 8) |\t\t\t\t\t\t_SHIFTL((int)((ulx)), 12, 12) |\t\t\t\t\t\t_SHIFTL((int)((uly)), 0, 12),\t\t\t\t\t\t_SHIFTL(mode, 24, 2) |\t\t\t\t\t\t\t_SHIFTL((int)(lrx), 12, 12) |\t\t\t\t\t\t_SHIFTL((int)(lry), 0, 12)\t\t\t\t\t}}\n\n#define\tgDPFillRectangle(pkt, ulx, uly, lrx, lry)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_FILLRECT, 24, 8) | \t\t\t\t\t\t_SHIFTL((lrx), 14, 10) | _SHIFTL((lry), 2, 10));\t_g->words.w1 = (_SHIFTL((ulx), 14, 10) | _SHIFTL((uly), 2, 10));}\n\n#define\tgsDPFillRectangle(ulx, uly, lrx, lry)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_FILLRECT, 24, 8) | _SHIFTL((lrx), 14, 10) | \t\t\t _SHIFTL((lry), 2, 10)),\t\t\t\t\t\t(_SHIFTL((ulx), 14, 10) | _SHIFTL((uly), 2, 10))\t\t}}\n\n#define\tgDPScisFillRectangle(pkt, ulx, uly, lrx, lry)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_FILLRECT, 24, 8) | \t\t\t\t\t\t_SHIFTL(MAX((lrx),0), 14, 10) | \t\t\t\t\t_SHIFTL(MAX((lry),0), 2, 10));\t\t\t\t_g->words.w1 = (_SHIFTL(MAX((ulx),0), 14, 10) | \t\t\t\t\t_SHIFTL(MAX((uly),0), 2, 10));\t\t\t}\n\n#define\tgDPSetConvert(pkt, k0, k1, k2, k3, k4, k5)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_SETCONVERT, 24, 8) |\t\t\t\t\t\t_SHIFTL(k0, 13, 9) | _SHIFTL(k1, 4, 9) | \t\t\t\t_SHIFTR(k2, 5, 4));\t\t\t\t\t_g->words.w1 = (_SHIFTL(k2, 27, 5) | _SHIFTL(k3, 18, 9) |\t\t\t\t_SHIFTL(k4, 9, 9) | _SHIFTL(k5, 0, 9));\t\t}\n\n#define gsDPSetConvert(k0, k1, k2, k3, k4, k5)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_SETCONVERT, 24, 8) |\t\t\t\t\t\t _SHIFTL(k0, 13, 9) | _SHIFTL(k1, 4, 9) | _SHIFTR(k2, 5, 4)),\t\t(_SHIFTL(k2, 27, 5) | _SHIFTL(k3, 18, 9) | _SHIFTL(k4, 9, 9) | \t\t _SHIFTL(k5, 0, 9))\t\t\t\t\t\t}}\n\n#define\tgDPSetKeyR(pkt, cR, sR, wR)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(G_SETKEYR, 24, 8);\t\t\t\t_g->words.w1 = (_SHIFTL(wR, 16, 12) | _SHIFTL(cR, 8, 8) | \t\t\t\t_SHIFTL(sR, 0, 8));\t\t\t\t}\n\n#define\tgsDPSetKeyR(cR, sR, wR)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(G_SETKEYR, 24, 8),\t\t\t\t\t\t_SHIFTL(wR, 16, 12) | _SHIFTL(cR, 8, 8) | _SHIFTL(sR, 0, 8)\t}}\n\n#define\tgDPSetKeyGB(pkt, cG, sG, wG, cB, sB, wB)\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = (_SHIFTL(G_SETKEYGB, 24, 8) |\t\t\t\t\t\t_SHIFTL(wG, 12, 12) | _SHIFTL(wB, 0, 12));\t\t_g->words.w1 = (_SHIFTL(cG, 24, 8) | _SHIFTL(sG, 16, 8) |\t\t\t\t _SHIFTL(cB, 8, 8) | _SHIFTL(sB, 0, 8));\t}\n\n#define\tgsDPSetKeyGB(cG, sG, wG, cB, sB, wB)\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t(_SHIFTL(G_SETKEYGB, 24, 8) | _SHIFTL(wG, 12, 12) |\t\t\t _SHIFTL(wB, 0, 12)),\t\t\t\t\t\t\t(_SHIFTL(cG, 24, 8) | _SHIFTL(sG, 16, 8) | _SHIFTL(cB, 8, 8) |\t\t _SHIFTL(sB, 0, 8))\t\t\t\t\t\t}}\n\n#define gDPNoParam(pkt, cmd)\t\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(cmd, 24, 8);\t\t\t\t\t_g->words.w1 = 0;\t\t\t\t\t\t}\n\n#define gsDPNoParam(cmd)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(cmd, 24, 8), 0\t\t\t\t\t\t}}\n\n#define gDPParam(pkt, cmd, param)\t\t\t\t\t{\t\t\t\t\t\t\t\t\t\tGfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_g->words.w0 = _SHIFTL(cmd, 24, 8);\t\t\t\t\t_g->words.w1 = (param);\t\t\t\t\t\t}\n\n#define gsDPParam(cmd, param)\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t\t_SHIFTL(cmd, 24, 8), (param)\t\t\t\t\t}}\n\n#define gsDPTextureRectangle(xl, yl, xh, yh, tile, s, t, dsdx, dtdy)\t{{\t\t\t\t\t\t\t\t\t    (_SHIFTL(G_TEXRECT, 24, 8) | _SHIFTL(xh, 12, 12) | \t\t\t     _SHIFTL(yh, 0, 12)),\t\t\t\t\t\t    (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) | _SHIFTL(yl, 0, 12)),\t}},\t\t\t\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t    _SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16),\t\t\t\t    _SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16)\t\t\t}}\n\n#define gDPTextureRectangle(pkt, xl, yl, xh, yh, tile, s, t, dsdx, dtdy){\t\t\t\t\t\t\t\t\t    Gfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t    if (pkt);\t\t\t\t\t\t\t\t    _g->words.w0 = (_SHIFTL(G_TEXRECT, 24, 8) | _SHIFTL(xh, 12, 12) |\t\t\t    _SHIFTL(yh, 0, 12));    \t\t\t\t    _g->words.w1 = (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) |\t\t\t    _SHIFTL(yl, 0, 12));\t\t\t\t    _g ++;\t\t\t\t\t\t\t\t    _g->words.w0 = (_SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16));\t\t    _g->words.w1 = (_SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16));\t}\n\n#define gsDPTextureRectangleFlip(xl, yl, xh, yh, tile, s, t, dsdx, dtdy) {{\t\t\t\t\t\t\t\t\t    (_SHIFTL(G_TEXRECTFLIP, 24, 8) | _SHIFTL(xh, 12, 12) |\t\t     _SHIFTL(yh, 0, 12)),\t\t\t\t\t\t    (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) | _SHIFTL(yl, 0, 12)),\t}},\t\t\t\t\t\t\t\t\t{{\t\t\t\t\t\t\t\t\t    _SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16),\t\t\t\t    _SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16)\t\t\t}}\n\n#define gDPTextureRectangleFlip(pkt, xl, yl, xh, yh, tile, s, t, dsdx, dtdy){\t\t\t\t\t\t\t\t\t    Gfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t    if (pkt);\t\t\t\t\t\t\t\t    _g->words.w0 = (_SHIFTL(G_TEXRECTFLIP, 24, 8) | _SHIFTL(xh, 12, 12) | \t\t    _SHIFTL(yh, 0, 12));    \t\t\t\t    _g->words.w1 = (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) |\t\t\t    _SHIFTL(yl, 0, 12));\t\t\t\t    _g ++;\t\t\t\t\t\t\t\t    _g->words.w0 = (_SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16));\t\t    _g->words.w1 = (_SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16));\t}\n\n#define gsSPTextureRectangle(xl, yl, xh, yh, tile, s, t, dsdx, dtdy)\t    {{(_SHIFTL(G_TEXRECT, 24, 8) | _SHIFTL(xh, 12, 12) | _SHIFTL(yh, 0, 12)),    (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) | _SHIFTL(yl, 0, 12))}},\t    gsImmp1(G_RDPHALF_1, (_SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16))),\t    gsImmp1(G_RDPHALF_2, (_SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16)))\n\n#define gSPTextureRectangle(pkt, xl, yl, xh, yh, tile, s, t, dsdx, dtdy){\t\t\t\t\t\t\t\t\t    Gfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    _g->words.w0 = (_SHIFTL(G_TEXRECT, 24, 8) | _SHIFTL(xh, 12, 12) |\t\t\t    _SHIFTL(yh, 0, 12));    \t\t\t\t    _g->words.w1 = (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) |\t\t\t    _SHIFTL(yl, 0, 12));\t\t\t\t    gImmp1(pkt, G_RDPHALF_1, (_SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16)));\t    gImmp1(pkt, G_RDPHALF_2, (_SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16)));}\n\n#define gSPScisTextureRectangle(pkt, xl, yl, xh, yh, tile, s, t, dsdx, dtdy) {                                                                                Gfx *_g = (Gfx *)(pkt);                                                                                                                                   _g->words.w0 = (_SHIFTL(G_TEXRECT, 24, 8) |                                                  _SHIFTL(MAX((s16)(xh),0), 12, 12) |                                          _SHIFTL(MAX((s16)(yh),0), 0, 12));                           _g->words.w1 = (_SHIFTL((tile), 24, 3) |                                                     _SHIFTL(MAX((s16)(xl),0), 12, 12) |                                          _SHIFTL(MAX((s16)(yl),0), 0, 12));                           gImmp1(pkt, G_RDPHALF_1,                                                                 (_SHIFTL(((s) -                                                                        (((s16)(xl) < 0) ?                                                            (((s16)(dsdx) < 0) ?                                                          (MAX((((s16)(xl)*(s16)(dsdx))>>7),0)) :          \t\t\t    (MIN((((s16)(xl)*(s16)(dsdx))>>7),0))) : 0)),    \t\t\t 16, 16) |                                                            _SHIFTL(((t) -                                                                        (((yl) < 0) ?                                                                 (((s16)(dtdy) < 0) ?                                                          (MAX((((s16)(yl)*(s16)(dtdy))>>7),0)) :                                      (MIN((((s16)(yl)*(s16)(dtdy))>>7),0))) : 0)),    \t\t\t 0, 16)));                                               gImmp1(pkt, G_RDPHALF_2, (_SHIFTL((dsdx), 16, 16) |                                                    _SHIFTL((dtdy), 0, 16)));                      }\n\n#define gsSPTextureRectangleFlip(xl, yl, xh, yh, tile, s, t, dsdx, dtdy)     {{(_SHIFTL(G_TEXRECTFLIP, 24, 8) | _SHIFTL(xh, 12, 12) |\t\t     _SHIFTL(yh, 0, 12)),\t\t\t\t\t\t    (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) | _SHIFTL(yl, 0, 12))}},\t    gsImmp1(G_RDPHALF_1, (_SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16))),\t    gsImmp1(G_RDPHALF_2, (_SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16)))\n\n#define gSPTextureRectangleFlip(pkt, xl, yl, xh, yh, tile, s, t, dsdx, dtdy) {\t\t\t\t\t\t\t\t       \t    Gfx *_g = (Gfx *)(pkt);\t\t\t\t\t       \t\t\t\t\t\t\t\t\t\t     _g->words.w0 = (_SHIFTL(G_TEXRECTFLIP, 24, 8) | _SHIFTL(xh, 12, 12) |\t\t    _SHIFTL(yh, 0, 12)); \t\t\t\t    _g->words.w1 = (_SHIFTL(tile, 24, 3) | _SHIFTL(xl, 12, 12) |\t\t\t    _SHIFTL(yl, 0, 12));\t\t\t\t    gImmp1(pkt, G_RDPHALF_1, (_SHIFTL(s, 16, 16) | _SHIFTL(t, 0, 16)));\t    gImmp1(pkt, G_RDPHALF_2, (_SHIFTL(dsdx, 16, 16) | _SHIFTL(dtdy, 0, 16))); }\n\n#define gsDPWord(wordhi, wordlo)\t\t\t    gsImmp1(G_RDPHALF_1, (unsigned int)(wordhi)),\t    gsImmp1(G_RDPHALF_2, (unsigned int)(wordlo))\n\n#define gDPWord(pkt, wordhi, wordlo)      \t\t{\t\t\t\t\t\t\t    Gfx *_g = (Gfx *)(pkt);\t\t\t\t\t\t\t\t\t\t\t    gImmp1(pkt, G_RDPHALF_1, (unsigned int)(wordhi));\t    gImmp1(pkt, G_RDPHALF_2, (unsigned int)(wordlo));\t}\n\n#define\tgDPFullSync(pkt)\tgDPNoParam(pkt, G_RDPFULLSYNC)\n#define\tgsDPFullSync()\t\tgsDPNoParam(G_RDPFULLSYNC)\n#define\tgDPTileSync(pkt)\tgDPNoParam(pkt, G_RDPTILESYNC)\n#define\tgsDPTileSync()\t\tgsDPNoParam(G_RDPTILESYNC)\n#define\tgDPPipeSync(pkt)\tgDPNoParam(pkt, G_RDPPIPESYNC)\n#define\tgsDPPipeSync()\t\tgsDPNoParam(G_RDPPIPESYNC)\n#define\tgDPLoadSync(pkt)\tgDPNoParam(pkt, G_RDPLOADSYNC)\n#define\tgsDPLoadSync()\t\tgsDPNoParam(G_RDPLOADSYNC)\n#define\tgDPNoOp(pkt)\t\tgDPNoParam(pkt, G_NOOP)\n#define\tgsDPNoOp()\t\tgsDPNoParam(G_NOOP)\n#define\tgDPNoOpTag(pkt, tag)\tgDPParam(pkt, G_NOOP, tag)\n#define\tgsDPNoOpTag(tag)\tgsDPParam(G_NOOP, tag)\n\n#endif /* _LANGUAGE_C */\n\n#endif /* _GBI_H_ */\n";function Kt(e){return qt.apply(this,arguments)}function qt(){return qt=O(k().mark((function e(n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){Wt.create({include_func:function(e,n,t){"ultra64.h"!==e.toLowerCase()?t(null):t(Xt)},completion_func:function(n){e(n)},warn_func:function(e){console.warn(e)},error_func:function(e){console.error(e),t(e)}}).run(n)})));case 1:case"end":return e.stop()}}),e)}))),qt.apply(this,arguments)}function Yt(e){return Qt.apply(this,arguments)}function Qt(){return Qt=O(k().mark((function e(n){var t,r,a,i,o,s,l,u,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt(n);case 3:n=e.sent,e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(0),"string"!==typeof e.t0){e.next=10;break}throw new Error(e.t0);case 10:throw e.t0;case 11:return a=[],i=function(e){e=e.replace('in "/input.c"',""),a.push(e)},r=Ht()({noInitialRun:!0,locateFile:function(e,n){return"smlrc.wasm"===e?"./smlrc.wasm":n+e},print:i,printErr:i}),o=new Promise((function(e){r.then((function(n){t=n,e()}))})),e.next=17,o;case 17:t.FS.writeFile("/input.c",n,{flags:"w+"}),u=[(l=["./smallerc","/input.c",s="/output.s"]).length,Jt(t,l)],e.prev=21,t.ccall("main","number",["number","number"],u),e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(21),new Error("Error during event compile:\n"+a.join("\n"));case 28:return c=rr(c=$t(c=er(c=t.FS.readFile(s,{encoding:"utf8"})))),e.abrupt("return",c);case 33:case"end":return e.stop()}}),e,null,[[0,6],[21,25]])}))),Qt.apply(this,arguments)}function Jt(e,n){var t=e._malloc(n.length*Uint32Array.BYTES_PER_ELEMENT);if(!t)throw new Error("Null pointer returned in str2ptrs");return n.forEach((function(n,r){var a=function(e,n){var t=e._malloc((n.length+1)*Uint8Array.BYTES_PER_ELEMENT);if(!t)throw new Error("Null pointer returned in str2ptr");for(var r=0;r<n.length;r++)e.setValue(t+r,n.charCodeAt(r),"i8");return e.setValue(t+n.length,0,"i8"),t}(e,n);e.setValue(t+4*r,a,"i32")})),t}var Zt=[["r0","$0"],["at","$1"],["v0","$2"],["v1","$3"],["a0","$4"],["a1","$5"],["a2","$6"],["a3","$7"],["t0","$8"],["t1","$9"],["t2","$10"],["t3","$11"],["t4","$12"],["t5","$13"],["t6","$14"],["t7","$15"],["s0","$16"],["s1","$17"],["s2","$18"],["s3","$19"],["s4","$20"],["s5","$21"],["s6","$22"],["s7","$23"],["t8","$24"],["t9","$25"],["k0","$26"],["k1","$27"],["gp","$28"],["sp","$29"],["fp","$30"],["ra","$31"]];function $t(e){for(var n=Zt.length-1;n>=0;n--)e=e.replace(new RegExp("\\"+Zt[n][1],"g"),Zt[n][0]);return e}function er(e){var n={text:[],data:[],rdata:[],bss:[]},t="text";return e.split("\n").forEach((function(e){switch(e.trim()){case".text":t="text";break;case".data":t="data";break;case".rdata":t="rdata";break;case".bss":t="bss";break;default:n[t].push(e)}})),"; .text\n".concat(n.text.join("\n"),"\n; .data\n").concat(n.data.join("\n"),"\n; .rdata\n").concat(n.rdata.join("\n"),"\n; .bss\n").concat(n.bss.join("\n"))}var nr="__floatsisf:\n__floatunsisf:\n  mtc1 A0, F12\n  cvt.s.w F12, F12\n  mfc1 V0, F12\n  JR RA\n  NOP",tr="__fixsfsi:\n__fixunssfsi:\n  mtc1 A0, F12\n  cvt.w.s F12, F12\n  mfc1 V0, F12\n  JR RA\n  NOP";function rr(e){var n="";return e.indexOf("__floatsisf")>=0&&(n+="\n"+nr),e.indexOf("__floatunsisf")>=0&&(n+="\n"+nr),e.indexOf("__fixsfsi")>=0&&(n+="\n"+tr),e.indexOf("__fixunssfsi")>=0&&(n+="\n"+tr),e.indexOf("__addsf3")>=0&&(n+="\n__addsf3:\n  mtc1 A0, F12\n  mtc1 A1, F13\n  add.s F12, F12, F13\n  mfc1 V0, F12\n  JR RA\n  NOP"),e.indexOf("__subsf3")>=0&&(n+="\n__subsf3:\n  mtc1 A0, F12\n  mtc1 A1, F13\n  sub.s F12, F12, F13\n  mfc1 V0, F12\n  JR RA\n  NOP"),e.indexOf("__negsf2")>=0&&(n+="\n__negsf2:\n  mtc1 A0, F12\n  neg.s F12, F12\n  mfc1 V0, F12\n  JR RA\n  NOP"),e.indexOf("__mulsf3")>=0&&(n+="\n__mulsf3:\n  mtc1 A0, F12\n  mtc1 A1, F13\n  mul.s F12, F12, F13\n  mfc1 V0, F12\n  JR RA\n  NOP"),e.indexOf("__divsf3")>=0&&(n+="\n__divsf3:\n  mtc1 A0, F12\n  mtc1 A1, F13\n  div.s F12, F12, F13\n  mfc1 V0, F12\n  JR RA\n  NOP"),e.indexOf("__lesf2")>=0&&(n+="\n__lesf2:\n  mtc1 A0, F12\n  mtc1 A1, F13\n\n  c.eq.s F12, F13\n  bc1t __lesf2_ret ; a == b\n  li V0, 0\n\n  c.lt.s F12, F13\n  li V0, -1 ; a < b\n  bc1t __lesf2_ret\n  nop\n\n  li V0, 1 ; a > b\n\n  mfc1 V0, F12\n__lesf2_ret:\n  JR RA\n  NOP"),e.indexOf("__gesf2")>=0&&(n+="\n__gesf2:\n  mtc1 A0, F12\n  mtc1 A1, F13\n\n  c.eq.s F12, F13\n  bc1t __gesf2_ret ; a == b\n  li V0, 0\n\n  c.lt.s F12, F13\n  li V0, -1 ; a < b\n  bc1t __gesf2_ret\n  nop\n\n  li V0, 1 ; a > b\n\n  mfc1 V0, F12\n__gesf2_ret:\n  JR RA\n  NOP"),n&&(e+="\n; .text\n.align 4\n"+n.trim()),e}var ar,ir=__webpack_require__(4453);!function(e){e[e.firstPass=0]="firstPass",e[e.secondPass=1]="secondPass"}(ar||(ar={}));var or=new RegExp("^(@?@?[\\w\\?\\!]+)\\:");function sr(e){var n=e.line.match(or);if(null===n)return!1;var t=n[1];return lr(t)||ur(t)||(e.currentLabel=t),dr(e,t,function(e){return e.memPos+e.outIndex>>>0}(e)),t}function lr(e){return 0===e.indexOf("@@")}function ur(e){return 0===e.indexOf("@")&&"@"!==e[1]}function cr(e,n){throw new Error(e+"\nLine: "+n.line)}function dr(e,n,t){lr(n)?(e.currentLabel||cr("Local label "+n+" (starts with @@) cannot be used before a global label",e),function(e,n,t){var r=e.localSymbols[e.currentLabel];r||(r=e.localSymbols[e.currentLabel]=Object.create(null));r[n]=t}(e,n,t)):ur(n)?function(e,n,t){e.staticSymbols[e.staticSymbols.length-1][n]=t}(e,n,t):function(e,n,t){e.symbols[n]=t,e.symbolsByValue[t]=n,e.symbolOutputMap&&(e.symbolOutputMap[n]=e.outIndex)}(e,n,t)}function Ar(e,n){if(lr(n)){e.currentLabel||cr("Local label "+n+" cannot be referenced in the current scope",e);var t=e.localSymbols[e.currentLabel];return t&&Object.prototype.hasOwnProperty.call(t,n)?t[n]:null}if(ur(n)){var r=function(e){return e.currentPass===ar.firstPass?e.staticSymbols[e.staticSymbolIndices[e.staticSymbolIndices.length-1]]:e.staticSymbols[e.staticSymbolIndices[0]]}(e);return Object.prototype.hasOwnProperty.call(r,n)?r[n]:null}return Object.prototype.hasOwnProperty.call(e.symbols,n)?e.symbols[n]:null}function fr(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":return!0}return!1}function hr(e){switch(e.toUpperCase()){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return!0}return!1}function pr(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];for(var r=[],a=0,i=n;a<i.length;a++){var o=i[a],s=e.indexOf(o);s>=0&&r.push(s)}return 0===r.length?-1:Math.min.apply(Math,r)}function mr(e,n){return gr(e,n)}var Sr=new RegExp("^([-\\w]+)\\(([\\(\\),-\\w\\?\\!\\@]*)\\)$","i");function gr(e,n){var t=Sr.exec(e);if(null===t){if(null!==(i=Ar(n,e)))return i;var r=function(e){if("string"!==typeof e)return null;var n,t="-"===e[0];return t&&(e=e.substr(1)),n="b"===e[0]||"0"===e[0]&&"b"===e[1]?parseInt(e.substr(2),2):"o"===e[0]||"0"===e[0]&&"o"===e[1]?parseInt(e.substr(2),8):"x"===e[0]||"0"===e[0]&&"x"===e[1]?parseInt(e.substr(2),16):parseInt(e,10),isNaN(n)?null:(t&&(n=-n),n)}(e);if(null!==r)return r;var a=function(e){if(e.length<2)return null;var n=e[0];if(e[e.length-1]!==n)return null;if('"'!==n&&"'"!==n)return null;for(var t="",r=1;r<e.length-1;r++){var a=e[r];if("\\"===a){var i=e[r+1],o=e[r+2],s=e[r+3];switch(i){case"\\":case'"':case"'":case"?":t+=i,r++;continue;case"n":t+="\n",r++;continue;case"r":t+="\r",r++;continue;case"t":t+="\t",r++;continue;case"b":t+="\b",r++;continue;case"x":if(!hr(o))throw new Error("Hex escape sequence followed by non-hex character: "+i);hr(s)?(t+=String.fromCharCode(parseInt(o+s,16)),r+=3):(t+=String.fromCharCode(parseInt(o,16)),r+=2);continue;default:if(fr(i)){fr(o)?fr(s)?(t+=String.fromCharCode(parseInt(i+o+s,8)),r+=3):(t+=String.fromCharCode(parseInt(i+o,8)),r+=2):(t+=String.fromCharCode(parseInt(i,8)),r++);continue}}}t+=a}return t}(e);return"string"===typeof a?a:null}var i,o=t[1];if(!vr[o])return null!==(i=Ar(n,o))?i:null;var s="",l=0,u=void 0;for(u=o.length+1;u<e.length-1;u++){var c=e[u];if("("===c)l++;else if(")"===c&&--l<0){u++;break}s+=c}var d="";u<e.length-1&&(d=e.substring(u,e.length));var A=0;if(s&&(A=gr(s,n)),null===A)return cr("Could not evaluate "+s,n),null;var f=vr[o](n,A);return d&&(f+=d),f}var vr=Object.create(null);function xr(e){2!==e.lineExpressions.length&&cr(".definelabel must have two arguments, a label name and value",e);var n=e.lineExpressions[0],t=mr(e.lineExpressions[1],e);return"number"!==typeof t?(cr("The value in .definelabel must evaluate to a numeric value",e),!1):(dr(e,n,t),!0)}vr.abs=function(e,n){return"string"===typeof n&&cr('Assembler function abs cannot be called with string "'+n+'", value must be a number.',e),Math.abs(n)},vr.hi=function(e,n){"string"===typeof n&&cr('Assembler function hi cannot be called with string "'+n+'", value must be a number.',e);var t=n>>>16;return 32768&(65535&n)&&(t+=1),t},vr.lo=function(e,n){return"string"===typeof n&&cr('Assembler function lo cannot be called with string "'+n+'", value must be a number.',e),65535&n},vr.org=function(e,n){return e.memPos+e.outIndex};var _r=new RegExp("^\\.definelabel\\s+(@?@?[\\w\\?\\!]+)[\\s,]+([-\\w\\?\\!\\@]+)$","i");xr.matches=function(e){return null!==e.line.match(_r)};var yr=new RegExp("^\\s*(@?@?[\\w\\?\\!]+)\\s+equ(?:$|(?:\\s+(.+)$))","i");function wr(e){var n=e.line.match(yr);return n||cr("equ directive was not able to be parsed",e),dr(e,n[1],n[2]||""),!0}wr.matches=function(e){return null!==e.line.match(yr)};function br(e){var n=e.line,t=pr(n," ","\t");if(-1!==t){var r=[];Cr(n.substr(t+1),r,e),e.lineExpressions=r}else e.lineExpressions=[]}function Vr(e){var n=e.line,t=pr(n," ","\t");if(-1===t)return n;var r,a,i=n.substring(0,t),o=n.substr(t+1),s=[];if(Cr(o,s,e),e.lineExpressions=s,s.length>0){var l=[];s.forEach((function(n,t){var r=mr(n,e);"number"===typeof r&&t===s.length-1&&(r=function(e,n,t){if(function(e){if("b"!==(e=e.toLowerCase())[0])return!1;switch(e){case"bc1f":case"bc1fl":case"bc1t":case"bc1tl":case"beq":case"beql":case"bgez":case"bgezal":case"bgezall":case"bgezl":case"bgtz":case"bgtzl":case"blez":case"blezl":case"bltz":case"bltzal":case"bltzall":case"bltzl":case"bne":case"bnel":return!0}return!1}(e)){var r=n-(t.memPos+t.outIndex);return r%4!==0&&cr("Misaligned branch instruction detected",t),r/4-1}return n}(i,r,e)),l.push(r)})),e.evaluatedLineExpressions=l,n=i+" "+(r=l,a=s,r.map((function(e,n){return"number"===typeof e?function(e){var n=0===e,t=e<0,r=e.toString(16).toUpperCase();return t&&(r=r.substr(1)),(t?"-":"")+(n?"":"0x")+r}(e):null===e?a[n]:e}))).join(" ")}return n}function Cr(e,n,t){var r="",a="",i=0,o=!1,s="";function l(e){r+=e}function u(){for(;Er(r[r.length-1]);)r=r.slice(0,-1);if(r=r.trim()){var e=Ar(t,r);"string"===typeof e?Cr(e,n,t):n.push(r),r=""}}for(var c=0;c<e.length;c++){var d=e[c];switch(a||i||Er(s)&&u(),d){case"(":o||a||i++;break;case")":o||a||(i<=0&&cr("Imbalanced parenthesis in expression: "+e,t),i--);break;case'"':case"'":o||(a?a===d&&(a=""):a=d)}l(d),o=!o&&"\\"===d,s=d}return i>0&&cr("Imbalanced parenthesis in expression: "+e,t),a&&cr("Unterminated string: "+r,t),u(),n}function Er(e){return","===e||function(e){return" "===e||"\t"===e}(e)}function Dr(e,n){var t=function(e,n){return new RegExp("^\\."+e+(n?"":"\\s+"),"i")}(e,n);return function(e){return!!e.line.match(t)}}function Fr(e){1!==e.lineExpressions.length&&cr(".org directive requires one numeric argument",e);var n=mr(e.lineExpressions[0],e);return"number"!==typeof n?(cr("Could not parse .org immediate "+n,e),!1):(n<0&&cr(".org directive cannot be negative",e),e.memPos=n>>>0,!0)}function Tr(e){1!==e.lineExpressions.length&&cr(".orga directive requires one numeric argument",e);var n=mr(e.lineExpressions[0],e);return"number"!==typeof n?(cr("Could not parse .orga immediate "+n,e),!1):(n<0&&cr(".orga directive cannot be negative.",e),e.outIndex=n>>>0,!0)}function Pr(e){1!==e.lineExpressions.length&&cr(".align requires one power of two number argument",e);var n=mr(e.lineExpressions[0],e);if(null===n&&cr("Could not parse .align immediate "+e.lineExpressions,e),"number"!==typeof n)return cr(".align requires one power of two number argument",e),!1;for(n%2&&cr(".align directive requires a power of two.",e),n<0&&cr(".align directive cannot align by a negative value.",e);e.outIndex%n;)e.currentPass===ar.secondPass&&e.dataView.setUint8(e.outIndex,0),e.outIndex++;return!0}function Rr(e){1!==e.lineExpressions.length&&cr(".skip directive requires one numeric argument",e);var n=mr(e.lineExpressions[0],e);return"number"!==typeof n?(cr("Could not parse .skip immediate "+n,e),!1):(n<0&&cr(".skip directive cannot skip a negative length.",e),e.outIndex+=n,!0)}function Lr(e){var n,t;if((!e.lineExpressions.length||e.lineExpressions.length>2)&&cr(".fill directive takes a length and optional value",e),"number"!==typeof(n=mr(e.lineExpressions[0],e)))return cr("Could not parse .fill length "+e.lineExpressions[0],e),!1;if(n<0&&cr(".fill length must be positive.",e),e.lineExpressions.length>1){if("number"!==typeof(t=mr(e.lineExpressions[1],e)))return cr("Could not parse .fill value "+e.lineExpressions[1],e),!1}else t=0;if(e.currentPass===ar.secondPass)for(var r=0;r<n;r++)e.dataView.setInt8(e.outIndex+r,t);return e.outIndex+=n,!0}function Mr(e){return Br(e,!0)}function Br(e,n){var t=[];if(e.lineExpressions.forEach((function(n){var r=mr(n,e);if(null===r&&cr("Could not parse .ascii value "+n,e),"number"===typeof r)t.push(r);else if("string"===typeof r)for(var a=0;a<r.length;a++)t.push(r.charCodeAt(a))})),n&&t.push(0),e.currentPass===ar.secondPass)for(var r=0;r<t.length;r++)t[r]<0?e.dataView.setInt8(e.outIndex+r,t[r]):e.dataView.setUint8(e.outIndex+r,t[r]);return e.outIndex+=t.length,!0}function kr(e){if(e.currentPass===ar.secondPass){e.evaluatedLineExpressions.length||cr(".byte directive requires arguments",e);for(var n=e.evaluatedLineExpressions,t=0;t<n.length;t++){var r=n[t];"number"!==typeof r&&cr(".byte directive requires numeric arguments, saw: "+r,e),r<0?e.dataView.setInt8(e.outIndex+t,r):e.dataView.setUint8(e.outIndex+t,r)}}return e.outIndex+=e.lineExpressions.length,!0}Fr.matches=Dr("org"),Tr.matches=Dr("orga"),Pr.matches=Dr("align"),Rr.matches=Dr("skip"),Lr.matches=Dr("fill"),Mr.matches=Dr("asciiz"),Br.matches=Dr("ascii");var Ir=Dr("byte"),Or=Dr("db");function Nr(e){if(e.currentPass===ar.secondPass){e.evaluatedLineExpressions.length||cr(".halfword directive requires arguments",e);for(var n=e.evaluatedLineExpressions,t=0;t<n.length;t++){var r=n[t];"number"!==typeof r&&cr(".halfword directive requires numeric arguments, saw: "+r,e),r<0?e.dataView.setInt16(e.outIndex+2*t,r):e.dataView.setUint16(e.outIndex+2*t,r)}}return e.outIndex+=2*e.lineExpressions.length,!0}kr.matches=function(e){return Ir(e)||Or(e)};var jr=Dr("halfword"),Ur=Dr("dh");function Gr(e){if(e.currentPass===ar.secondPass){e.evaluatedLineExpressions.length||cr(".word directive requires arguments",e);for(var n=e.evaluatedLineExpressions,t=0;t<n.length;t++){var r=n[t];"number"!==typeof r&&cr(".word directive requires numeric arguments, saw: "+r,e),r<0?e.dataView.setInt32(e.outIndex+4*t,r):e.dataView.setUint32(e.outIndex+4*t,r)}}return e.outIndex+=4*e.lineExpressions.length,!0}Nr.matches=function(e){return jr(e)||Ur(e)};var zr,Hr=Dr("word"),Wr=Dr("dw");function Xr(e){if(e.currentPass===ar.secondPass){e.evaluatedLineExpressions.length||cr(".float directive requires arguments",e),e.evaluatedLineExpressions.some((function(e){return"number"!==typeof e}))&&cr(".float directive requires numeric arguments",e);for(var n=e.evaluatedLineExpressions,t=0;t<n.length;t++)e.dataView.setFloat32(e.outIndex+4*t,n[t])}return e.outIndex+=4*e.lineExpressions.length,!0}Gr.matches=function(e){return Hr(e)||Wr(e)},Xr.matches=Dr("float"),function(e){e[e.None=0]="None",e[e.AcceptingBlock=1]="AcceptingBlock",e[e.ExecutingBlock=2]="ExecutingBlock",e[e.NoLongerAcceptingBlock=4]="NoLongerAcceptingBlock",e[e.SawElse=8]="SawElse"}(zr||(zr={}));var Kr=zr.AcceptingBlock|zr.ExecutingBlock|zr.NoLongerAcceptingBlock;function qr(e,n){e.ifElseStack[e.ifElseStack.length-1]&=~Kr,e.ifElseStack[e.ifElseStack.length-1]|=n}function Yr(e){e.lineExpressions.length||cr("A condition must be passed to an if directive",e),e.lineExpressions.length>1&&cr("Only a single condition can be passed to an if directive",e);var n=mr(e.lineExpressions[0],e);return null===n&&cr("Could not parse .if condition",e),"number"!==typeof n&&cr("Condition of if directive must evaluate to a numeric value, saw: "+n,e),n?e.ifElseStack.push(zr.ExecutingBlock):e.ifElseStack.push(zr.AcceptingBlock),!0}function Qr(e){e.lineExpressions.length&&cr("The else directive cannot take a condition or parameters",e),e.ifElseStack.length||cr("An else directive was reached, but there was no previous if directive",e);var n=e.ifElseStack[e.ifElseStack.length-1];switch(n&zr.SawElse&&cr("Encountered another else directive, but an else directive was already passed",e),n&Kr){case zr.AcceptingBlock:qr(e,zr.ExecutingBlock);break;case zr.ExecutingBlock:qr(e,zr.NoLongerAcceptingBlock);break;case zr.NoLongerAcceptingBlock:break;default:cr("Unexpected conditional block state: "+n.toString(16),e)}return e.ifElseStack[e.ifElseStack.length-1]|=zr.SawElse,!0}function Jr(e){e.lineExpressions.length||cr("A condition must be passed to an elseif directive",e),e.lineExpressions.length>1&&cr("Only a single condition can be passed to an elseif directive",e),e.ifElseStack.length||cr("An elseif directive was reached, but there was no previous if directive",e);var n=e.ifElseStack[e.ifElseStack.length-1];n&zr.SawElse&&cr("Encountered an elseif after seeing an else directive",e);var t=mr(e.lineExpressions[0],e);switch(null===t&&cr("Could not parse .elseif condition",e),"number"!==typeof t&&cr("Condition of elseif directive must evaluate to a numeric value, saw: "+t,e),n&Kr){case zr.AcceptingBlock:t&&qr(e,zr.ExecutingBlock);break;case zr.ExecutingBlock:qr(e,zr.NoLongerAcceptingBlock);break;case zr.NoLongerAcceptingBlock:break;default:cr("Unexpected conditional block state: "+n.toString(16),e)}return!0}function Zr(e){return e.lineExpressions.length&&cr("The endif directive cannot take a condition or parameters",e),e.ifElseStack.length||cr("An endif directive was reached, but there was no previous if directive",e),e.ifElseStack.pop(),!0}function $r(e){e.lineExpressions.length||cr("A file name must be passed to an include directive",e),e.lineExpressions.length>1&&cr("Only a single file name can be passed to an include directive",e);var n=mr(e.lineExpressions[0],e);if(null===n&&cr("Could not parse .include file name",e),"string"===typeof n){var t=e.files[n];"string"!==typeof t&&cr("The "+n+" file was not a string",e),e.currentPass===ar.firstPass?(e.linesToInsert=".beginfile\n"+t+"\n.endfile",e.line=""):cr("The `include` directive shouldn't be present after the first assembly phase",e)}else cr("File name of include directive must evaluate to a string, saw: "+n,e)}function ea(e){return e.lineExpressions.length&&cr("The beginfile directive takes no arguments",e),function(e){if(e.currentPass===ar.firstPass){e.staticSymbols.push(Object.create(null));var n=e.staticSymbolIndices[e.staticSymbolIndices.length-1],t=e.staticSymbols.length-1;e.staticSymbolIndices.before[t]=n,e.staticSymbolIndices.push(t)}else e.staticSymbolIndices.shift()}(e),!0}function na(e){return e.lineExpressions.length&&cr("The endfile directive takes no arguments",e),function(e){if(e.currentPass===ar.firstPass){var n=e.staticSymbolIndices;n.push(n.before[n[n.length-1]])}else e.staticSymbolIndices.shift()}(e),!0}function ta(e){var n=function(e){return new RegExp("^"+e+"\\s+","i")}(e);return function(e){return!!e.line.match(n)}}function ra(e){e.currentPass===ar.firstPass?(2!==e.lineExpressions.length&&cr("The `beqz` macro must take a register and label",e),e.line="",e.linesToInsert="BEQ "+e.lineExpressions[0]+" R0 "+e.lineExpressions[1]):cr("The `beqz` macro shouldn't be present after the first assembly phase",e)}function aa(e){e.currentPass===ar.firstPass?(2!==e.lineExpressions.length&&cr("The `bnez` macro must take a register and label",e),e.line="",e.linesToInsert="BNE "+e.lineExpressions[0]+" R0 "+e.lineExpressions[1]):cr("The `bnez` macro shouldn't be present after the first assembly phase",e)}function ia(e){e.currentPass===ar.firstPass?(2!==e.lineExpressions.length&&cr("The `bnezl` macro must take a register and label",e),e.line="",e.linesToInsert="BNEL "+e.lineExpressions[0]+" R0 "+e.lineExpressions[1]):cr("The `bnezl` macro shouldn't be present after the first assembly phase",e)}function oa(e){if(e.currentPass===ar.firstPass){e.lineExpressions.length<=1&&cr("The `li` macro must take a register and immediate",e);var n=e.lineExpressions[0],t=mr(e.lineExpressions[1],e);if(null===t)return e.line="",void(e.linesToInsert="LUI "+n+", hi("+e.lineExpressions[1]+")\nADDIU "+n+", "+n+", lo("+e.lineExpressions[1]+")");if("number"===typeof t)if(e.line="",t>=-32768&&t<=32767)e.linesToInsert="ADDIU "+n+", R0, "+t;else if(t>0&&t<=65535)e.linesToInsert="ORI "+n+", R0, "+t;else if(0===(65535&t))e.linesToInsert="LUI "+n+", "+(t>>16);else if(t>=-4294967295&&t<=4294901759){var r=0!==(32768&t);e.linesToInsert="LUI "+n+", "+((t>>>16)+(r?1:0))+"\nADDIU "+n+", "+n+", "+(65535&t)}else cr("li immediate value "+t+" seems out of range",e);else cr("Immediate value of `li` macro must evaluate to a number, saw: "+t,e)}else cr("The `li` macro shouldn't be present after the first assembly phase",e)}function sa(e){e.currentPass===ar.firstPass?(2!==e.lineExpressions.length&&cr("The `move` macro must take two registers",e),e.line="",e.linesToInsert="ADDU "+e.lineExpressions[0]+" "+e.lineExpressions[1]+" R0"):cr("The `move` macro shouldn't be present after the first assembly phase",e)}Yr.matches=Dr("if"),Qr.matches=Dr("else",!0),Jr.matches=Dr("elseif"),Zr.matches=Dr("endif",!0),$r.matches=Dr("include"),ea.matches=Dr("beginfile",!0),na.matches=Dr("endfile",!0),ra.matches=ta("beqz"),aa.matches=ta("bnez"),ia.matches=ta("bnezl"),oa.matches=ta("li"),sa.matches=ta("move");var la=[xr,wr,Fr,Tr,Pr,Rr,Lr,Br,Mr,kr,Nr,Gr,Xr,Yr,Jr,Qr,Zr,$r,ea,na],ua=[ra,aa,ia,oa,sa];function ca(e){for(var n=0,t=la;n<t.length;n++){var r=t[n];if(r.matches(e))return r}for(var a=0,i=ua;a<i.length;a++){var o=i[a];if(o.matches(e))return o}return null}function da(e,n){n(e)}function Aa(e,n){return e.substr(0,n.length)===n}var fa=function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),a=0;for(n=0;n<t;n++)for(var i=arguments[n],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r};function ha(e,n){n=n||{};for(var t=Sa(e),r=function(e){var n=[0];return n.before=Object.create(null),{buffer:null,dataView:null,line:"",memPos:0,outIndex:0,symbols:Object.create(null),symbolsByValue:Object.create(null),symbolOutputMap:e.symbolOutputMap,currentLabel:null,localSymbols:Object.create(null),staticSymbols:[Object.create(null)],staticSymbolIndices:n,currentPass:ar.firstPass,lineExpressions:[],evaluatedLineExpressions:null,ifElseStack:[],files:e.files||Object.create(null),linesToInsert:null}}(n),a=[],i=[],o=0;o<t.length;o++){var s=t[o];if(r.line=s,pa(r))s&&i.push(s);else{s=ma(r);var l=ca(r);if(l?(br(r),da(r,l),s=r.line):s&&(r.outIndex+=4),s&&i.push(s),"linesToInsert"in r&&r.linesToInsert){var u=Sa(r.linesToInsert);t.splice.apply(t,fa([o+1,0],u)),r.linesToInsert=null}}}return t=i,r.buffer=n.buffer||new ArrayBuffer(r.outIndex),r.dataView=new DataView(r.buffer),r.memPos=0,r.outIndex=0,r.currentPass=ar.secondPass,t.forEach((function(e){if(r.line=e,r.lineExpressions=[],r.evaluatedLineExpressions=[],pa(r))return e;var t=ca(r);if(t)return Vr(r),void da(r,t);var i,o=function(e,n){return e.symbolsByValue[n]||null}(r,r.memPos+r.outIndex);null!==o&&(r.currentLabel=o),e=r.line=Vr(r),n.text&&a.push(e);try{i=(0,ir.Q)(e)}catch(s){return void cr(s,r)}r.dataView.setUint32(r.outIndex,i),r.outIndex+=4})),r.ifElseStack.length&&cr("An if directive was used without an endif directive",r),0!==r.staticSymbolIndices[0]&&cr("A beginfile directive was used without an endfile directive",r),n.text?a:r.buffer}function pa(e){return!!e.ifElseStack.length&&(!(e.ifElseStack[e.ifElseStack.length-1]&zr.ExecutingBlock)&&!function(e){var n=e.toLowerCase();return Aa(n,".if")||Aa(n,".else")||Aa(n,".endif")}(e.line))}function ma(e){for(var n;n=sr(e);)e.line=e.line.substr(n.length+1).trim();return e.line}function Sa(e){var n=function(e){if("string"===typeof e)return e.split(/\r?\n/);if(!Array.isArray(e))throw new Error("Input must be a string or array of strings");return e}(e);return n=n.filter((function(e){return"string"===typeof e})),n=function(e){var n=!1,t=e.map((function(e){n&&((r=e.indexOf("*/"))>=0&&(e=e.substr(r+2),n=!1));if(n)return"";for(var t=e.indexOf("/*");t>=0;){if(ga(e,t))t++;else{var r;if(!((r=e.indexOf("*/",t+2))>=0)){e=e.substr(0,t),n=!0;break}e=e.substr(0,t)+e.substr(r+2)}t=e.indexOf("/*",t)}for(var a=e.indexOf(";");a>=0;){if(!ga(e,a)){e=e.substr(0,a),n=!1;break}a=e.indexOf(";",a+1)}for(var i=e.indexOf("//");i>=0;){if(!ga(e,i)){e=e.substr(0,i),n=!1;break}i=e.indexOf("//",i+2)}return e}));if(n)throw new Error("Unclosed block comment detected.");return t}(n),n=n.map((function(e){return e.trim()})),n=n.filter(Boolean)}function ga(e,n){return va(e,n,'"')||va(e,n,"'")}function va(e,n,t){var r=e.indexOf(t);return-1!==r&&(!(r>n)&&-1!==e.indexOf(t,n))}var xa="; Customize the background used each turn!\n; This function runs at the start of each turn.\n; The default background is available as DEFAULT_BG.\n; Additional backgrounds are available as ADDITIONAL_BG_#,\n; e.g. ADDITIONAL_BG_1 for the first added background.\nADDIU SP SP -4\nSW RA 0(SP)\n\n; Return the background index in V0.\nLI V0 DEFAULT_BG\n\nLW RA 0(SP)\nJR RA\nADDIU SP SP 4";function _a(e){if(!e.additionalbg)return[];var n=0;return e.additionalbg.map((function(e){return++n}))}function ya(){return ya=O(k().mark((function e(n,t,r){var a,i,o,s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Va(r),i=[],o=L(a),e.prev=3,o.s();case 5:if((s=o.n()).done){e.next=14;break}return l=s.value,e.t0=i,e.next=10,wa(n,t,r,l);case 10:e.t1=e.sent,i=e.t0.concat.call(e.t0,e.t1);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(3),o.e(e.t2);case 19:return e.prev=19,o.f(),e.finish(19);case 22:return i.length===a.length?i.unshift("All possible target game versions failed to compile/assemble."):i=[],e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,null,[[3,16,19,22]])}))),ya.apply(this,arguments)}function wa(e,n,t,r){return ba.apply(this,arguments)}function ba(){return ba=O(k().mark((function e(n,t,r,a){var i,o,s,l,u,c,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],o=_a(r),t!==x.C){e.next=20;break}return s=Ta(n,0,o),e.prev=4,H(l=Ma(s,a)),e.next=9,Yt(l);case 9:H(u=e.sent),ha(qa(u,2147483648,a)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),i.push("Failed test compile/assemble for ".concat(V(a),":\n").concat(e.t0,"\n"));case 18:e.next=22;break;case 20:c=Da(n,0,o);try{H(d=qa(c,2147483648,a)),ha(d)}catch(A){i.push("Failed test assembly for ".concat(V(a),":\n").concat(A,"\n"))}case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,null,[[4,15]])}))),ba.apply(this,arguments)}function Va(e){switch(e.game){case 1:return[v.MP1_USA,v.MP1_PAL,v.MP1_JPN];case 2:return[v.MP2_USA,v.MP2_PAL,v.MP2_JPN];case 3:return[v.MP3_USA,v.MP3_PAL,v.MP3_JPN]}}function Ca(e,n,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=O(k().mark((function e(n,t,r){var a,i,o,s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=nw(n)){e.next=3;break}return e.abrupt("return",Da(xa,t,r));case 3:e.t0=a.language,e.next=e.t0===x.C?6:e.t0===x.MIPS?13:14;break;case 6:return i=Ta(a.code,t,r),o=Ry.getROMGame(),s=Ma(i,o),e.next=11,Yt(s);case 11:return l=e.sent,e.abrupt("return",ni("\n        .beginfile ; Scopes static labels\n        ".concat(l,"\n        .align 4\n        .endfile\n      "),!0));case 13:return e.abrupt("return",Da(a.code,t,r));case 14:throw new Error("Unrecognized event code language ".concat(a.language));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Da(e,n,t){return ni("\n    .beginfile ; Scopes static labels\n    __PP64_INTERNAL_ADDITIONAL_BG_CHOICE:\n    ".concat(Fa(n,t).join("\n"),"\n    ").concat(e,"\n    .align 4\n    .endfile\n  "),!0)}function Fa(e,n){var t=[".definelabel DEFAULT_BG,".concat(e)];return n&&n.forEach((function(e,n){t.push(".definelabel ADDITIONAL_BG_".concat(n+1,",").concat(e))})),t}function Ta(e,n,t){return"\n#define PickBackground __PP64_INTERNAL_ADDITIONAL_BG_CHOICE\n".concat(Pa(n,t).join("\n"),"\n").concat(e,"\n  ")}function Pa(e,n){var t=["#define DEFAULT_BG ".concat(e)];return n&&n.forEach((function(e,n){t.push("#define ADDITIONAL_BG_".concat(n+1," ").concat(e))})),t}function Ra(e){return null!==e&&void 0!==e&&e.additionalbg?e.additionalbg.map((function(e,n){return Ry.romIsLoaded()?gn.getDirectoryCount()+n:n})):null}function La(e,n,t,r){var a=function(e,n,t){var r=[],a=e.parameters,i=n.parameterValues;a&&a.length&&i&&a.forEach((function(e){var n=i[e.name];switch(e.type){case D.Boolean:r.push("#define ".concat(e.name," ").concat(n?1:0));break;case D.Number:case D.PositiveNumber:"number"===typeof n?r.push("#define ".concat(e.name," ").concat(n)):r.push("#define ".concat(e.name," 0"));break;case D.NumberArray:break;case D.Space:if(t.testCompile)r.push("#define ".concat(e.name," 0")),r.push("#define ".concat(e.name,"_chain_index 0")),r.push("#define ".concat(e.name,"_chain_space_index 0"));else if(r.push("#define ".concat(e.name," ").concat(n)),t.chains){var a=jt(t.chains,n);r.push("#define ".concat(e.name,"_chain_index ").concat(a[0])),r.push("#define ".concat(e.name,"_chain_space_index ").concat(a[1]))}break;case D.SpaceArray:if(t.testCompile)r.push("#define ".concat(e.name," 0")),r.push("#define ".concat(e.name,"_length 1")),r.push("#define ".concat(e.name,"_chain_indices 0")),r.push("#define ".concat(e.name,"_chain_space_indices 0"));else{var o=n||[];r.push("#define ".concat(e.name," ").concat(o.join(","))),r.push("#define ".concat(e.name,"_length ").concat(o.length));var s=o.map((function(e){return jt(t.chains,e)})),l=s.map((function(e){return e[0]})),u=s.map((function(e){return e[1]}));r.push("#define ".concat(e.name,"_chain_indices ").concat(l.join(","))),r.push("#define ".concat(e.name,"_chain_space_indices ").concat(u.join(",")))}break;default:"undefined"!==typeof n&&null!==n&&r.push("#define ".concat(e.name," ").concat(n))}}));return r}(n,t,r),i=Xa(r.audioIndices),o=Pa(r.boardInfo.bgDir,Ra(r.board));return Ma([].concat(a,Gt(i),Gt(o),[e]).join("\n"),r.game)}function Ma(e,n){return[e].join("\n")}var Ba="; Customize the background music used each turn!\n; This function runs whenever the board music starts playing.\n; Custom tracks you've added are available as MUSIC_TRACK_INDEX_#,\n; e.g. MUSIC_TRACK_INDEX_1 for the first added custom song.\n; (If you aren't using custom music, then only MUSIC_TRACK_INDEX_1\n; exists and it is set to the in-game music index you chose.)\nADDIU SP SP -4\nSW RA 0(SP)\n\n; Return the audio index in V0.\nLI V0 MUSIC_TRACK_INDEX_1\n\nLW RA 0(SP)\nJR RA\nADDIU SP SP 4";function ka(){return ka=O(k().mark((function e(n,t,r){var a,i,o,s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Na(r),i=[],o=L(a),e.prev=3,o.s();case 5:if((s=o.n()).done){e.next=14;break}return l=s.value,e.t0=i,e.next=10,Ia(n,t,r,l);case 10:e.t1=e.sent,i=e.t0.concat.call(e.t0,e.t1);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(3),o.e(e.t2);case 19:return e.prev=19,o.f(),e.finish(19);case 22:return i.length===a.length?i.unshift("All possible target game versions failed to compile/assemble."):i=[],e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,null,[[3,16,19,22]])}))),ka.apply(this,arguments)}function Ia(e,n,t,r){return Oa.apply(this,arguments)}function Oa(){return Oa=O(k().mark((function e(n,t,r,a){var i,o,s,l,u,c,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],o=za(r),t!==x.C){e.next=20;break}return s=Wa(n,o),e.prev=4,H(l=Ma(s)),e.next=9,Yt(l);case 9:H(u=e.sent),ha(qa(u,2147483648,a)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),i.push("Failed test compile/assemble for ".concat(V(a),":\n").concat(e.t0,"\n"));case 18:e.next=22;break;case 20:c=Ga(n,o);try{H(d=qa(c,2147483648,a)),ha(d)}catch(A){i.push("Failed test assembly for ".concat(V(a),":\n").concat(A,"\n"))}case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,null,[[4,15]])}))),Oa.apply(this,arguments)}function Na(e){switch(e.game){case 1:return[v.MP1_USA,v.MP1_PAL,v.MP1_JPN];case 2:return[v.MP2_USA,v.MP2_PAL,v.MP2_JPN];case 3:return[v.MP3_USA,v.MP3_PAL,v.MP3_JPN]}}function ja(e,n){return Ua.apply(this,arguments)}function Ua(){return(Ua=O(k().mark((function e(n,t){var r,a,i,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tw(n)){e.next=3;break}return e.abrupt("return",Ga(Ba,t));case 3:e.t0=r.language,e.next=e.t0===x.C?6:e.t0===x.MIPS?13:14;break;case 6:return a=Wa(r.code,t),Ry.getROMGame(),i=Ma(a),e.next=11,Yt(i);case 11:return o=e.sent,e.abrupt("return",ni("\n        .beginfile ; Scopes static labels\n        ".concat(o,"\n        .align 4\n        .endfile\n      "),!0));case 13:return e.abrupt("return",Ga(r.code,t));case 14:throw new Error("Unrecognized event code language ".concat(r.language));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ga(e,n){return ni("\n    .beginfile ; Scopes static labels\n    __PP64_INTERNAL_GET_BOARD_AUDIO_INDEX:\n    ".concat(Ha(n).join("\n"),"\n    ").concat(e,"\n    .align 4\n    .endfile\n  "),!0)}function za(e){if(!e.audioData||!e.audioData.length)return[1];var n=0;return e.audioData.map((function(e){return++n}))}function Ha(e){var n=e.map((function(e,n){return".definelabel MUSIC_TRACK_INDEX_".concat(n+1,",").concat(e)}));return n}function Wa(e,n){return"\n#define PickAudioIndex __PP64_INTERNAL_GET_BOARD_AUDIO_INDEX\n".concat(Xa(n).join("\n"),"\n").concat(e,"\n  ")}function Xa(e){if(!e)return[];var n=e.map((function(e,n){return"#define MUSIC_TRACK_INDEX_".concat(n+1," ").concat(e)}));return n}function Ka(e,n,t,r){var a=ei(n,t,r),i=Ha(r.audioIndices),o=Fa(r.boardInfo.bgDir,Ra(r.board));return qa([].concat(a,Gt(i),Gt(o),[e]).join("\n"),r.addr,r.game)}function qa(e,n,t){var r=".org ".concat(W(n)),a=$a(e),i=Qa(t,!0);return[r].concat(a,i,[e,".align 4"]).join("\n")}function Ya(e,n,t,r,a,i){var o=e.split("\n").find((function(e){return e.startsWith("main:")})),s=ri(r.curSpaceIndex,i),l=!o&&"".concat(s,":"),u=o&&".definelabel ".concat(s,",main");return ni("\n    .beginfile ; Scopes static labels\n    ".concat(l||"","\n    ").concat(ei(n,t,r).join("\n"),"\n    ").concat(e,"\n    ").concat(u||"","\n    .align 4\n    .endfile\n  "),a)}function Qa(e,n){var t=pe(e).map((function(e){return".definelabel ".concat(e.name,",0x").concat(e.addr.toString(16))}));switch(e){case v.MP1_USA:n?t.push(".definelabel GetBoardAudioIndex,0"):t.push(".definelabel GetBoardAudioIndex,__PP64_INTERNAL_GET_BOARD_AUDIO_INDEX");break;case v.MP2_USA:n?(t.push(".definelabel ViewBoardMap,0"),t.push(".definelabel GetBoardAudioIndex,0"),t.push(".definelabel GetRandPromptSelection,0")):(t.push(".definelabel ViewBoardMap,__PP64_INTERNAL_VIEW_MAP"),t.push(".definelabel GetBoardAudioIndex,__PP64_INTERNAL_GET_BOARD_AUDIO_INDEX"),t.push(".definelabel GetRandPromptSelection,__PP64_INTERNAL_RAND_MESSAGE_CHOICE"));break;case v.MP3_USA:n?(t.push(".definelabel GetBasicPromptSelection,0"),t.push(".definelabel ViewBoardMap,0"),t.push(".definelabel GetBoardAudioIndex,0")):(t.push(".definelabel GetBasicPromptSelection,__PP64_INTERNAL_BASIC_MESSAGE_CHOICE"),t.push(".definelabel ViewBoardMap,__PP64_INTERNAL_VIEW_MAP"),t.push(".definelabel GetBoardAudioIndex,__PP64_INTERNAL_GET_BOARD_AUDIO_INDEX"))}return t}var Ja=/func_(8[0-9A-Fa-f]{7})/g,Za=/D_(8[0-9A-Fa-f]{7})/g;function $a(e){var n=[],t=e.match(Ja);t&&t.forEach((function(t){if(!(e.indexOf(t+":")>=0)){var r=t.substr(5).toUpperCase();n.push(".definelabel ".concat(t,",0x").concat(r))}}));var r=e.match(Za);return r&&r.forEach((function(t){if(!(e.indexOf(t+":")>=0)){var r=t.substr(2).toUpperCase();n.push(".definelabel ".concat(t,",0x").concat(r))}})),n=n.filter((function(e,t){return n.indexOf(e)===t}))}function ei(e,n,t){var r=[],a=e.parameters,i=n.parameterValues;return a&&a.length&&i&&a.forEach((function(e){var n=i[e.name];switch(e.type){case D.Boolean:r.push(".definelabel ".concat(e.name,",").concat(n?1:0));break;case D.Number:"number"===typeof n&&r.push(".definelabel ".concat(e.name,",").concat(n));break;case D.NumberArray:break;case D.Space:if(r.push(".definelabel ".concat(e.name,",").concat(n)),t.chains){var a=jt(t.chains,n);r.push(".definelabel ".concat(e.name,"_chain_index,").concat(a[0])),r.push(".definelabel ".concat(e.name,"_chain_space_index,").concat(a[1]))}else r.push(".definelabel ".concat(e.name,"_chain_index,-1")),r.push(".definelabel ".concat(e.name,"_chain_space_index,-1"));break;case D.SpaceArray:if(t.testCompile)r.push("".concat(e.name," equ 0")),r.push("".concat(e.name,"_length equ 1")),r.push("".concat(e.name,"_chain_indices equ 0")),r.push("".concat(e.name,"_chain_space_indices equ 0"));else{var o=n||[];r.push("".concat(e.name," equ ").concat(o.join(","))),r.push("".concat(e.name,"_length equ ").concat(o.length));var s=o.map((function(e){return jt(t.chains,e)})),l=s.map((function(e){return e[0]})),u=s.map((function(e){return e[1]}));r.push("".concat(e.name,"_chain_indices equ ").concat(l.join(","))),r.push("".concat(e.name,"_chain_space_indices equ ").concat(u.join(",")))}break;default:"undefined"!==typeof n&&null!==n&&r.push(".definelabel ".concat(e.name,",").concat(n))}})),r}function ni(e,n){var t=e.split("\n").map((function(e){return e.trim()})),r=function(e,n){for(var t=!1,r=[],a=0;a<e.length;a++)if(".beginstatic"!==e[a])if(".endstatic"!==e[a])t||r.push(e[a]);else{if(!t)throw new Error("Saw .endstatic without .beginstatic");t=!1}else{if(t)throw new Error("Cannot repeat .beginstatic within a static section");t=!0,n||r.push("; omitted statics")}if(t)throw new Error("Saw .beginstatic without .endstatic");return r}(t,n),a=function(e){var n=/^\.definelabel\s+([^,]+)/i,t=/^([@\w!?]+):/i,r=/^\s*([@\w!?]+)\s+equ(?:$|\s+)/i,a=[];return e.forEach((function(e){var i=n.exec(e);if(i)a.push(i[1]);else if(i=r.exec(e))a.push(i[1]);else for(;i=t.exec(e);)a.push(i[1]),e=e.substr(i[0].length)})),a=a.filter(ti)}(r);e=n?function(e){for(var n=[],t=0;t<e.length;t++)".beginstatic"===e[t]?n.push("; .beginstatic"):".endstatic"===e[t]?n.push("; .endstatic"):n.push(e[t]);return n.join("\n")}(t):r.join("\n");var i=/[@\w!?]/;return a.forEach((function(n){var t=-1;do{if((t=e.indexOf(n,t))>=0){if(t>0){var r=e[t-1];if(i.test(r)){t+=n.length;continue}}if(t+n.length<e.length){var a=e[t+n.length];if(i.test(a)){t+=n.length;continue}}e=e.slice(0,t)+"@"+e.slice(t),t+=n.length+1}}while(t>=0)})),e}function ti(e){return!(e.indexOf("__PP64_INTERNAL")>=0)&&"@"!==e[0]}function ri(e,n){var t=e<0?"minus"+Math.abs(e):e;return"__PP64_INTERNAL_EVENT_".concat(t,"_").concat(n)}var ai=function(){function e(n){r(this,e),this._spaceIndex=void 0,this._entries=void 0,this._spaceIndex=n,this._entries=[]}return i(e,[{key:"parse",value:function(e,n){var t;t=e instanceof ArrayBuffer?new DataView(e,n):e;for(var r,a,i,o=0;0!==(r=t.getUint16(o));)a=t.getUint16(o+2),i=t.getUint32(o+4),this.add(r,a,i),o+=8}},{key:"write",value:function(e,n){var t=this,r=new DataView(e,n),a=0;return this.forEach((function(e){if("string"===typeof e.address)throw new Error("Cannot write event list with symbolic address");t._writeEntry(r,a,e.activationType,e.executionType,e.address),a+=8})),this._writeEntry(r,a,0,0),a+=8}},{key:"getAssembly",value:function(){var e=this,n="".concat(oi(this._spaceIndex),":\n");return this.forEach((function(t,r){n+=".halfword ".concat(t.activationType,", ").concat(t.executionType,"\n"),"string"===typeof t.address?n+=".word ".concat(t.address,"\n"):n+=".word ".concat(ri(e._spaceIndex,r),"\n")})),n+=".word 0, 0\n"}},{key:"_writeEntry",value:function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.setUint16(n,t),e.setUint16(n+2,r),!a&&(t||r))throw new Error("Tried to write null address from SpaceEventList.");e.setUint32(n+4,a)}},{key:"add",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._entries.push(new ii(e,n,t))}},{key:"setAddress",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._entries[e].address=n>>>0}},{key:"forEach",value:function(e){this._entries.forEach(e)}},{key:"count",value:function(){return this._entries.length}},{key:"byteLength",value:function(){return 8*this._entries.length+8}}],[{key:"byteLength",value:function(e){return 8*e+8}}]),e}(),ii=i((function e(n,t,a){r(this,e),this.activationType=void 0,this.executionType=void 0,this.address=void 0,this.activationType=n,this.executionType=t,this.address=a}));function oi(e){var n=e<0?"minus"+Math.abs(e):e;return"__PP64_INTERNAL_SPACE_LIST_".concat(n)}var si=function(){function e(){r(this,e),this._entries=void 0,this._entries={}}return i(e,[{key:"parse",value:function(e,n){var t;t=e instanceof ArrayBuffer?new DataView(e,n):e;for(var r,a,i=0;-1!==(r=t.getInt16(i));)a=t.getUint32(i+4),this.add(r,a),i+=8}},{key:"write",value:function(e,n){var t=new DataView(e,n),r=0;for(var a in this._entries)this._writeEntry(t,r,parseInt(a),this._entries[a]),r+=8;return this._writeEntry(t,r,65535,0),r+=8}},{key:"getAssembly",value:function(){var e="__PP64_INTERNAL_SPACE_TABLE:\n";for(var n in this._entries)e+=".halfword ".concat(parseInt(n),", 0\n       .word ").concat(oi(parseInt(n)),"\n");return e+=".halfword 0xFFFF, 0, 0, 0\n"}},{key:"_writeEntry",value:function(e,n,t,r){if(e.setUint16(n,t),e.setUint16(n+2,0),!r&&65535!==t)throw new Error("Tried to write null address from SpaceEventTable at space index ".concat(t,"."));e.setUint32(n+4,r)}},{key:"add",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._entries[e]=n}},{key:"forEach",value:function(e){for(var n in this._entries){e({spaceIndex:Number(n),address:this._entries[n]})}}},{key:"byteLength",value:function(){return 8*Object.keys(this._entries).length+8}}]),e}();function li(e){return String.fromCharCode((4278190080&e)>>>24)+String.fromCharCode((16711680&e)>>>16)+String.fromCharCode((65280&e)>>>8)+String.fromCharCode(255&e)}function ui(e){for(var n=new Array(e.length),t=0;t<e.length;++t)n[t]=e.charCodeAt(t);return n}function ci(e,n,t){for(;e.length<n;)e=t+e;return e}function di(e,n){return e<n?-1:e>n?1:0}function Ai(e){return e?e.replace(/\r\n|\r/g,"\n"):e}var fi=__webpack_require__(5249),hi=__webpack_require__.n(fi);function pi(e,n,t){var r=e.width,a=e.height,i=N(r,a);i.drawImage(e,0,0,r,a);var o=i.getImageData(0,0,r,a);return n===r&&t===a||(o=hi()(o,n,t)),o.data.buffer}function mi(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=l(e)););return e}function Si(){return Si="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var r=mi(e,n);if(r){var a=Object.getOwnPropertyDescriptor(r,n);return a.get?a.get.call(arguments.length<3?e:t):a.value}},Si.apply(this,arguments)}for(var gi="138",vi=0,xi=1,_i=2,yi=0,wi=1,bi=2,Vi=3,Ci=100,Ei=301,Di=302,Fi=303,Ti=304,Pi=306,Ri=307,Li=1e3,Mi=1001,Bi=1002,ki=1003,Ii=1004,Oi=1005,Ni=1006,ji=1007,Ui=1008,Gi=1009,zi=1012,Hi=1014,Wi=1015,Xi=1016,Ki=1020,qi=1023,Yi=1026,Qi=1027,Ji=33776,Zi=33777,$i=33778,eo=33779,no=35840,to=35841,ro=35842,ao=35843,io=37492,oo=37496,so=37808,lo=37809,uo=37810,co=37811,Ao=37812,fo=37813,ho=37814,po=37815,mo=37816,So=37817,go=37818,vo=37819,xo=37820,_o=37821,yo=36492,wo=2300,bo=2301,Vo=2302,Co=2400,Eo=2401,Do=2402,Fo=2500,To=2501,Po=3e3,Ro=3001,Lo=7680,Mo=35044,Bo=35048,ko="300 es",Io=1035,Oo=function(){function e(){r(this,e)}return i(e,[{key:"addEventListener",value:function(e,n){void 0===this._listeners&&(this._listeners={});var t=this._listeners;void 0===t[e]&&(t[e]=[]),-1===t[e].indexOf(n)&&t[e].push(n)}},{key:"hasEventListener",value:function(e,n){if(void 0===this._listeners)return!1;var t=this._listeners;return void 0!==t[e]&&-1!==t[e].indexOf(n)}},{key:"removeEventListener",value:function(e,n){if(void 0!==this._listeners){var t=this._listeners[e];if(void 0!==t){var r=t.indexOf(n);-1!==r&&t.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var n=this._listeners[e.type];if(void 0!==n){e.target=this;for(var t=n.slice(0),r=0,a=t.length;r<a;r++)t[r].call(this,e);e.target=null}}}}]),e}(),No=[],jo=0;jo<256;jo++)No[jo]=(jo<16?"0":"")+jo.toString(16);var Uo=1234567,Go=Math.PI/180,zo=180/Math.PI;function Ho(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(No[255&e]+No[e>>8&255]+No[e>>16&255]+No[e>>24&255]+"-"+No[255&n]+No[n>>8&255]+"-"+No[n>>16&15|64]+No[n>>24&255]+"-"+No[63&t|128]+No[t>>8&255]+"-"+No[t>>16&255]+No[t>>24&255]+No[255&r]+No[r>>8&255]+No[r>>16&255]+No[r>>24&255]).toUpperCase()}function Wo(e,n,t){return Math.max(n,Math.min(t,e))}function Xo(e,n){return(e%n+n)%n}function Ko(e,n,t){return(1-t)*e+t*n}function qo(e){return 0===(e&e-1)&&0!==e}function Yo(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Qo(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var Jo=Object.freeze({__proto__:null,DEG2RAD:Go,RAD2DEG:zo,generateUUID:Ho,clamp:Wo,euclideanModulo:Xo,mapLinear:function(e,n,t,r,a){return r+(e-n)*(a-r)/(t-n)},inverseLerp:function(e,n,t){return e!==n?(t-e)/(n-e):0},lerp:Ko,damp:function(e,n,t,r){return Ko(e,n,1-Math.exp(-t*r))},pingpong:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n-Math.abs(Xo(e,2*n)-n)},smoothstep:function(e,n,t){return e<=n?0:e>=t?1:(e=(e-n)/(t-n))*e*(3-2*e)},smootherstep:function(e,n,t){return e<=n?0:e>=t?1:(e=(e-n)/(t-n))*e*e*(e*(6*e-15)+10)},randInt:function(e,n){return e+Math.floor(Math.random()*(n-e+1))},randFloat:function(e,n){return e+Math.random()*(n-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Uo=e%2147483647),((Uo=16807*Uo%2147483647)-1)/2147483646},degToRad:function(e){return e*Go},radToDeg:function(e){return e*zo},isPowerOfTwo:qo,ceilPowerOfTwo:Yo,floorPowerOfTwo:Qo,setQuaternionFromProperEuler:function(e,n,t,r,a){var i=Math.cos,o=Math.sin,s=i(t/2),l=o(t/2),u=i((n+r)/2),c=o((n+r)/2),d=i((n-r)/2),A=o((n-r)/2),f=i((r-n)/2),h=o((r-n)/2);switch(a){case"XYX":e.set(s*c,l*d,l*A,s*u);break;case"YZY":e.set(l*A,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*A,s*c,s*u);break;case"XZX":e.set(s*c,l*h,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*h,s*u);break;case"ZYZ":e.set(l*h,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}}),Zo=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,n),this.x=e,this.y=t}return i(n,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,n){return this.x=e,this.y=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}},{key:"addScaledVector",value:function(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}},{key:"sub",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var n=this.x,t=this.y,r=e.elements;return this.x=r[0]*n+r[3]*t+r[6],this.y=r[1]*n+r[4]*t+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}},{key:"clampScalar",value:function(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}},{key:"clampLength",value:function(e,n){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(e,Math.min(n,t)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var n=this.x-e.x,t=this.y-e.y;return n*n+t*t}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}},{key:"lerpVectors",value:function(e,n,t){return this.x=e.x+(n.x-e.x)*t,this.y=e.y+(n.y-e.y)*t,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[n],this.y=e[n+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[n]=this.x,e[n+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,n,t){return void 0!==t&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}},{key:"rotateAround",value:function(e,n){var t=Math.cos(n),r=Math.sin(n),a=this.x-e.x,i=this.y-e.y;return this.x=a*t-i*r+e.x,this.y=a*r+i*t+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),n}();Zo.prototype.isVector2=!0;var $o=function(){function e(){r(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return i(e,[{key:"set",value:function(e,n,t,r,a,i,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=n,u[4]=a,u[5]=s,u[6]=t,u[7]=i,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var n=this.elements,t=e.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],this}},{key:"extractBasis",value:function(e,n,t){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),t.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,n){var t=e.elements,r=n.elements,a=this.elements,i=t[0],o=t[3],s=t[6],l=t[1],u=t[4],c=t[7],d=t[2],A=t[5],f=t[8],h=r[0],p=r[3],m=r[6],S=r[1],g=r[4],v=r[7],x=r[2],_=r[5],y=r[8];return a[0]=i*h+o*S+s*x,a[3]=i*p+o*g+s*_,a[6]=i*m+o*v+s*y,a[1]=l*h+u*S+c*x,a[4]=l*p+u*g+c*_,a[7]=l*m+u*v+c*y,a[2]=d*h+A*S+f*x,a[5]=d*p+A*g+f*_,a[8]=d*m+A*v+f*y,this}},{key:"multiplyScalar",value:function(e){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,n=e[0],t=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return n*i*u-n*o*l-t*a*u+t*o*s+r*a*l-r*i*s}},{key:"invert",value:function(){var e=this.elements,n=e[0],t=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*i-o*l,d=o*s-u*a,A=l*a-i*s,f=n*c+t*d+r*A;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var h=1/f;return e[0]=c*h,e[1]=(r*l-u*t)*h,e[2]=(o*t-r*i)*h,e[3]=d*h,e[4]=(u*n-r*s)*h,e[5]=(r*a-o*n)*h,e[6]=A*h,e[7]=(t*s-l*n)*h,e[8]=(i*n-t*a)*h,this}},{key:"transpose",value:function(){var e,n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}},{key:"setUvTransform",value:function(e,n,t,r,a,i,o){var s=Math.cos(a),l=Math.sin(a);return this.set(t*s,t*l,-t*(s*i+l*o)+i+e,-r*l,r*s,-r*(-l*i+s*o)+o+n,0,0,1),this}},{key:"scale",value:function(e,n){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=n,t[4]*=n,t[7]*=n,this}},{key:"rotate",value:function(e){var n=Math.cos(e),t=Math.sin(e),r=this.elements,a=r[0],i=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=n*a+t*s,r[3]=n*i+t*l,r[6]=n*o+t*u,r[1]=-t*a+n*s,r[4]=-t*i+n*l,r[7]=-t*o+n*u,this}},{key:"translate",value:function(e,n){var t=this.elements;return t[0]+=e*t[2],t[3]+=e*t[5],t[6]+=e*t[8],t[1]+=n*t[2],t[4]+=n*t[5],t[7]+=n*t[8],this}},{key:"equals",value:function(e){for(var n=this.elements,t=e.elements,r=0;r<9;r++)if(n[r]!==t[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=0;t<9;t++)this.elements[t]=e[t+n];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this.elements;return e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e[n+4]=t[4],e[n+5]=t[5],e[n+6]=t[6],e[n+7]=t[7],e[n+8]=t[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function es(e){for(var n=e.length-1;n>=0;--n)if(e[n]>65535)return!0;return!1}$o.prototype.isMatrix3=!0;Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function ns(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var ts={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rs={h:0,s:0,l:0},as={h:0,s:0,l:0};function is(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(n-e)*t:t<.5?n:t<2/3?e+6*(n-e)*(2/3-t):e}function os(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ss(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var ls,us=function(){function e(n,t,a){return r(this,e),void 0===t&&void 0===a?this.set(n):this.setRGB(n,t,a)}return i(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,n,t){return this.r=e,this.g=n,this.b=t,this}},{key:"setHSL",value:function(e,n,t){if(e=Xo(e,1),n=Wo(n,0,1),t=Wo(t,0,1),0===n)this.r=this.g=this.b=t;else{var r=t<=.5?t*(1+n):t+n-t*n,a=2*t-r;this.r=is(a,r,e+1/3),this.g=is(a,r,e),this.b=is(a,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function n(n){void 0!==n&&parseFloat(n)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var t;if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,a=t[1],i=t[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return n(r[4]),this.setHSL(o,s,l)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var u=t[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var n=ts[e.toLowerCase()];return void 0!==n?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=os(e.r),this.g=os(e.g),this.b=os(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=ss(e.r),this.g=ss(e.g),this.b=ss(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var n,t,r=this.r,a=this.g,i=this.b,o=Math.max(r,a,i),s=Math.min(r,a,i),l=(s+o)/2;if(s===o)n=0,t=0;else{var u=o-s;switch(t=l<=.5?u/(o+s):u/(2-o-s),o){case r:n=(a-i)/u+(a<i?6:0);break;case a:n=(i-r)/u+2;break;case i:n=(r-a)/u+4}n/=6}return e.h=n,e.s=t,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,n,t){return this.getHSL(rs),rs.h+=e,rs.s+=n,rs.l+=t,this.setHSL(rs.h,rs.s,rs.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}},{key:"lerpColors",value:function(e,n,t){return this.r=e.r+(n.r-e.r)*t,this.g=e.g+(n.g-e.g)*t,this.b=e.b+(n.b-e.b)*t,this}},{key:"lerpHSL",value:function(e,n){this.getHSL(rs),e.getHSL(as);var t=Ko(rs.h,as.h,n),r=Ko(rs.s,as.s,n),a=Ko(rs.l,as.l,n);return this.setHSL(t,r,a),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();us.NAMES=ts,us.prototype.isColor=!0,us.prototype.r=1,us.prototype.g=1,us.prototype.b=1;var cs=function(){function e(){r(this,e)}return i(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var n;if(e instanceof HTMLCanvasElement)n=e;else{void 0===ls&&(ls=ns("canvas")),ls.width=e.width,ls.height=e.height;var t=ls.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),n=ls}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var n=ns("canvas");n.width=e.width,n.height=e.height;var t=n.getContext("2d");t.drawImage(e,0,0,e.width,e.height);for(var r=t.getImageData(0,0,e.width,e.height),a=r.data,i=0;i<a.length;i++)a[i]=255*os(a[i]/255);return t.putImageData(r,0,0),n}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*os(o[s]/255)):o[s]=os(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),ds=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),this.uuid=Ho(),this.data=n,this.version=0}return i(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var n=void 0===e||"string"===typeof e;if(!n&&void 0!==e.images[this.uuid])return e.images[this.uuid];var t={uuid:this.uuid,url:""},r=this.data;if(null!==r){var a;if(Array.isArray(r)){a=[];for(var i=0,o=r.length;i<o;i++)r[i].isDataTexture?a.push(As(r[i].image)):a.push(As(r[i]))}else a=As(r);t.url=a}return n||(e.images[this.uuid]=t),t}}]),e}();function As(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?cs.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}ds.prototype.isSource=!0;var fs=0,hs=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_MAPPING,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mi,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mi,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ni,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ui,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qi,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Gi,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Po;return r(this,t),e=n.call(this),Object.defineProperty(c(e),"id",{value:fs++}),e.uuid=Ho(),e.name="",e.source=new ds(a),e.mipmaps=[],e.mapping=i,e.wrapS=o,e.wrapT=s,e.magFilter=l,e.minFilter=u,e.anisotropy=f,e.format=d,e.internalFormat=null,e.type=A,e.offset=new Zo(0,0),e.repeat=new Zo(1,1),e.center=new Zo(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new $o,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return i(t,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var n=void 0===e||"string"===typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var t={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(t.userData=this.userData),n||(e.textures[this.uuid]=t),t}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Li:e.x=e.x-Math.floor(e.x);break;case Mi:e.x=e.x<0?0:1;break;case Bi:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Li:e.y=e.y-Math.floor(e.y);break;case Mi:e.y=e.y<0?0:1;break;case Bi:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),t}(Oo);hs.DEFAULT_IMAGE=null,hs.DEFAULT_MAPPING=300,hs.prototype.isTexture=!0;var ps=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,n),this.x=e,this.y=t,this.z=a,this.w=i}return i(n,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,n,t,r){return this.x=e,this.y=n,this.z=t,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}},{key:"addScaledVector",value:function(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}},{key:"sub",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var n=this.x,t=this.y,r=this.z,a=this.w,i=e.elements;return this.x=i[0]*n+i[4]*t+i[8]*r+i[12]*a,this.y=i[1]*n+i[5]*t+i[9]*r+i[13]*a,this.z=i[2]*n+i[6]*t+i[10]*r+i[14]*a,this.w=i[3]*n+i[7]*t+i[11]*r+i[15]*a,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var n,t,r,a,i=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],A=s[5],f=s[9],h=s[2],p=s[6],m=s[10];if(Math.abs(u-d)<i&&Math.abs(c-h)<i&&Math.abs(f-p)<i){if(Math.abs(u+d)<o&&Math.abs(c+h)<o&&Math.abs(f+p)<o&&Math.abs(l+A+m-3)<o)return this.set(1,0,0,0),this;n=Math.PI;var S=(l+1)/2,g=(A+1)/2,v=(m+1)/2,x=(u+d)/4,_=(c+h)/4,y=(f+p)/4;return S>g&&S>v?S<i?(t=0,r=.707106781,a=.707106781):(r=x/(t=Math.sqrt(S)),a=_/t):g>v?g<i?(t=.707106781,r=0,a=.707106781):(t=x/(r=Math.sqrt(g)),a=y/r):v<i?(t=.707106781,r=.707106781,a=0):(t=_/(a=Math.sqrt(v)),r=y/a),this.set(t,r,a,n),this}var w=Math.sqrt((p-f)*(p-f)+(c-h)*(c-h)+(d-u)*(d-u));return Math.abs(w)<.001&&(w=1),this.x=(p-f)/w,this.y=(c-h)/w,this.z=(d-u)/w,this.w=Math.acos((l+A+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}},{key:"clampScalar",value:function(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}},{key:"clampLength",value:function(e,n){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(e,Math.min(n,t)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}},{key:"lerpVectors",value:function(e,n,t){return this.x=e.x+(n.x-e.x)*t,this.y=e.y+(n.y-e.y)*t,this.z=e.z+(n.z-e.z)*t,this.w=e.w+(n.w-e.w)*t,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,n,t){return void 0!==t&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),n}();ps.prototype.isVector4=!0;var ms=function(e){s(t,e);var n=A(t);function t(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t),(i=n.call(this)).width=e,i.height=a,i.depth=1,i.scissor=new ps(0,0,e,a),i.scissorTest=!1,i.viewport=new ps(0,0,e,a);var s={width:e,height:a,depth:1};return i.texture=new hs(s,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),i.texture.isRenderTargetTexture=!0,i.texture.generateMipmaps=void 0!==o.generateMipmaps&&o.generateMipmaps,i.texture.internalFormat=void 0!==o.internalFormat?o.internalFormat:null,i.texture.minFilter=void 0!==o.minFilter?o.minFilter:Ni,i.depthBuffer=void 0===o.depthBuffer||o.depthBuffer,i.stencilBuffer=void 0!==o.stencilBuffer&&o.stencilBuffer,i.depthTexture=void 0!==o.depthTexture?o.depthTexture:null,i.samples=void 0!==o.samples?o.samples:0,i}return i(t,[{key:"setSize",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===n&&this.depth===t||(this.width=e,this.height=n,this.depth=t,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=t,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(Oo);ms.prototype.isWebGLRenderTarget=!0;var Ss=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return r(this,t),(e=n.call(this,null)).image={data:a,width:i,height:o,depth:s},e.magFilter=ki,e.minFilter=ki,e.wrapR=Mi,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return i(t)}(hs);Ss.prototype.isDataArrayTexture=!0,function(e){s(t,e);var n=A(t);function t(e,a,i){var o;return r(this,t),(o=n.call(this,e,a)).depth=i,o.texture=new Ss(null,e,a,i),o.texture.isRenderTargetTexture=!0,o}return i(t)}(ms).prototype.isWebGLArrayRenderTarget=!0;var gs=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return r(this,t),(e=n.call(this,null)).image={data:a,width:i,height:o,depth:s},e.magFilter=ki,e.minFilter=ki,e.wrapR=Mi,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return i(t)}(hs);gs.prototype.isData3DTexture=!0,function(e){s(t,e);var n=A(t);function t(e,a,i){var o;return r(this,t),(o=n.call(this,e,a)).depth=i,o.texture=new gs(null,e,a,i),o.texture.isRenderTargetTexture=!0,o}return i(t)}(ms).prototype.isWebGL3DRenderTarget=!0;var vs=function(e){s(t,e);var n=A(t);function t(e,a,i){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r(this,t);var l=(o=n.call(this,e,a,s)).texture;o.texture=[];for(var u=0;u<i;u++)o.texture[u]=l.clone(),o.texture[u].isRenderTargetTexture=!0;return o}return i(t,[{key:"setSize",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==n||this.depth!==t){this.width=e,this.height=n,this.depth=t;for(var r=0,a=this.texture.length;r<a;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=t;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var n=0,t=e.texture.length;n<t;n++)this.texture[n]=e.texture[n].clone();return this}}]),t}(ms);vs.prototype.isWebGLMultipleRenderTargets=!0;var xs=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this._x=n,this._y=t,this._z=a,this._w=i}return i(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,n,t,r){return this._x=e,this._y=n,this._z=t,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,n){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var t=e._x,r=e._y,a=e._z,i=e._order,o=Math.cos,s=Math.sin,l=o(t/2),u=o(r/2),c=o(a/2),d=s(t/2),A=s(r/2),f=s(a/2);switch(i){case"XYZ":this._x=d*u*c+l*A*f,this._y=l*A*c-d*u*f,this._z=l*u*f+d*A*c,this._w=l*u*c-d*A*f;break;case"YXZ":this._x=d*u*c+l*A*f,this._y=l*A*c-d*u*f,this._z=l*u*f-d*A*c,this._w=l*u*c+d*A*f;break;case"ZXY":this._x=d*u*c-l*A*f,this._y=l*A*c+d*u*f,this._z=l*u*f+d*A*c,this._w=l*u*c-d*A*f;break;case"ZYX":this._x=d*u*c-l*A*f,this._y=l*A*c+d*u*f,this._z=l*u*f-d*A*c,this._w=l*u*c+d*A*f;break;case"YZX":this._x=d*u*c+l*A*f,this._y=l*A*c+d*u*f,this._z=l*u*f-d*A*c,this._w=l*u*c-d*A*f;break;case"XZY":this._x=d*u*c-l*A*f,this._y=l*A*c-d*u*f,this._z=l*u*f+d*A*c,this._w=l*u*c+d*A*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==n&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,n){var t=n/2,r=Math.sin(t);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(t),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var n=e.elements,t=n[0],r=n[4],a=n[8],i=n[1],o=n[5],s=n[9],l=n[2],u=n[6],c=n[10],d=t+o+c;if(d>0){var A=.5/Math.sqrt(d+1);this._w=.25/A,this._x=(u-s)*A,this._y=(a-l)*A,this._z=(i-r)*A}else if(t>o&&t>c){var f=2*Math.sqrt(1+t-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+i)/f,this._z=(a+l)/f}else if(o>c){var h=2*Math.sqrt(1+o-t-c);this._w=(a-l)/h,this._x=(r+i)/h,this._y=.25*h,this._z=(s+u)/h}else{var p=2*Math.sqrt(1+c-t-o);this._w=(i-r)/p,this._x=(a+l)/p,this._y=(s+u)/p,this._z=.25*p}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,n){var t=e.dot(n)+1;return t<Number.EPSILON?(t=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=t):(this._x=0,this._y=-e.z,this._z=e.y,this._w=t)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=t),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Wo(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,n){var t=this.angleTo(e);if(0===t)return this;var r=Math.min(1,n/t);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,n){return void 0!==n?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,n){var t=e._x,r=e._y,a=e._z,i=e._w,o=n._x,s=n._y,l=n._z,u=n._w;return this._x=t*u+i*o+r*l-a*s,this._y=r*u+i*s+a*o-t*l,this._z=a*u+i*l+t*s-r*o,this._w=i*u-t*o-r*s-a*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,n){if(0===n)return this;if(1===n)return this.copy(e);var t=this._x,r=this._y,a=this._z,i=this._w,o=i*e._w+t*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=t,this._y=r,this._z=a,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-n;return this._w=l*i+n*this._w,this._x=l*t+n*this._x,this._y=l*r+n*this._y,this._z=l*a+n*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-n)*c)/u,A=Math.sin(n*c)/u;return this._w=i*d+this._w*A,this._x=t*d+this._x*A,this._y=r*d+this._y*A,this._z=a*d+this._z*A,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,n,t){return this.copy(e).slerp(n,t)}},{key:"random",value:function(){var e=Math.random(),n=Math.sqrt(1-e),t=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(r),t*Math.sin(a),t*Math.cos(a),n*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,n,t,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),t.slerpQuaternions(e,n,r)}},{key:"slerpFlat",value:function(e,n,t,r,a,i,o){var s=t[r+0],l=t[r+1],u=t[r+2],c=t[r+3],d=a[i+0],A=a[i+1],f=a[i+2],h=a[i+3];if(0===o)return e[n+0]=s,e[n+1]=l,e[n+2]=u,void(e[n+3]=c);if(1===o)return e[n+0]=d,e[n+1]=A,e[n+2]=f,void(e[n+3]=h);if(c!==h||s!==d||l!==A||u!==f){var p=1-o,m=s*d+l*A+u*f+c*h,S=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var v=Math.sqrt(g),x=Math.atan2(v,m*S);p=Math.sin(p*x)/v,o=Math.sin(o*x)/v}var _=o*S;if(s=s*p+d*_,l=l*p+A*_,u=u*p+f*_,c=c*p+h*_,p===1-o){var y=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=y,l*=y,u*=y,c*=y}}e[n]=s,e[n+1]=l,e[n+2]=u,e[n+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,n,t,r,a,i){var o=t[r],s=t[r+1],l=t[r+2],u=t[r+3],c=a[i],d=a[i+1],A=a[i+2],f=a[i+3];return e[n]=o*f+u*c+s*A-l*d,e[n+1]=s*f+u*d+l*c-o*A,e[n+2]=l*f+u*A+o*d-s*c,e[n+3]=u*f-o*c-s*d-l*A,e}}]),e}();xs.prototype.isQuaternion=!0;var _s=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,n),this.x=e,this.y=t,this.z=a}return i(n,[{key:"set",value:function(e,n,t){return void 0===t&&(t=this.z),this.x=e,this.y=n,this.z=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}},{key:"addScaledVector",value:function(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}},{key:"sub",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}},{key:"multiply",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ws.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,n){return this.applyQuaternion(ws.setFromAxisAngle(e,n))}},{key:"applyMatrix3",value:function(e){var n=this.x,t=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*t+a[6]*r,this.y=a[1]*n+a[4]*t+a[7]*r,this.z=a[2]*n+a[5]*t+a[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var n=this.x,t=this.y,r=this.z,a=e.elements,i=1/(a[3]*n+a[7]*t+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*t+a[8]*r+a[12])*i,this.y=(a[1]*n+a[5]*t+a[9]*r+a[13])*i,this.z=(a[2]*n+a[6]*t+a[10]*r+a[14])*i,this}},{key:"applyQuaternion",value:function(e){var n=this.x,t=this.y,r=this.z,a=e.x,i=e.y,o=e.z,s=e.w,l=s*n+i*r-o*t,u=s*t+o*n-a*r,c=s*r+a*t-i*n,d=-a*n-i*t-o*r;return this.x=l*s+d*-a+u*-o-c*-i,this.y=u*s+d*-i+c*-a-l*-o,this.z=c*s+d*-o+l*-i-u*-a,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var n=this.x,t=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*t+a[8]*r,this.y=a[1]*n+a[5]*t+a[9]*r,this.z=a[2]*n+a[6]*t+a[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}},{key:"clampScalar",value:function(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}},{key:"clampLength",value:function(e,n){var t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(e,Math.min(n,t)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}},{key:"lerpVectors",value:function(e,n,t){return this.x=e.x+(n.x-e.x)*t,this.y=e.y+(n.y-e.y)*t,this.z=e.z+(n.z-e.z)*t,this}},{key:"cross",value:function(e,n){return void 0!==n?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,n){var t=e.x,r=e.y,a=e.z,i=n.x,o=n.y,s=n.z;return this.x=r*s-a*o,this.y=a*i-t*s,this.z=t*o-r*i,this}},{key:"projectOnVector",value:function(e){var n=e.lengthSq();if(0===n)return this.set(0,0,0);var t=e.dot(this)/n;return this.copy(e).multiplyScalar(t)}},{key:"projectOnPlane",value:function(e){return ys.copy(this).projectOnVector(e),this.sub(ys)}},{key:"reflect",value:function(e){return this.sub(ys.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var n=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===n)return Math.PI/2;var t=this.dot(e)/n;return Math.acos(Wo(t,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var n=this.x-e.x,t=this.y-e.y,r=this.z-e.z;return n*n+t*t+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,n,t){var r=Math.sin(n)*e;return this.x=r*Math.sin(t),this.y=Math.cos(n)*e,this.z=r*Math.cos(t),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,n,t){return this.x=e*Math.sin(n),this.y=t,this.z=e*Math.cos(n),this}},{key:"setFromMatrixPosition",value:function(e){var n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}},{key:"setFromMatrixScale",value:function(e){var n=this.setFromMatrixColumn(e,0).length(),t=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=t,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,n){return this.fromArray(e.elements,4*n)}},{key:"setFromMatrix3Column",value:function(e,n){return this.fromArray(e.elements,3*n)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,n,t){return void 0!==t&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),n=Math.random()*Math.PI*2,t=Math.sqrt(1-Math.pow(e,2));return this.x=t*Math.cos(n),this.y=t*Math.sin(n),this.z=e,this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),n}();_s.prototype.isVector3=!0;var ys=new _s,ws=new xs,bs=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s(-1/0,-1/0,-1/0);r(this,e),this.min=n,this.max=t}return i(e,[{key:"set",value:function(e,n){return this.min.copy(e),this.max.copy(n),this}},{key:"setFromArray",value:function(e){for(var n=1/0,t=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],d=e[s+2];u<n&&(n=u),c<t&&(t=c),d<r&&(r=d),u>a&&(a=u),c>i&&(i=c),d>o&&(o=d)}return this.min.set(n,t,r),this.max.set(a,i,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var n=1/0,t=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),d=e.getZ(s);u<n&&(n=u),c<t&&(t=c),d<r&&(r=d),u>a&&(a=u),c>i&&(i=c),d>o&&(o=d)}return this.min.set(n,t,r),this.max.set(a,i,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var n=0,t=e.length;n<t;n++)this.expandByPoint(e[n]);return this}},{key:"setFromCenterAndSize",value:function(e,n){var t=Cs.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}},{key:"setFromObject",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,n)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var t=e.geometry;if(void 0!==t)if(n&&void 0!=t.attributes&&void 0!==t.attributes.position)for(var r=t.attributes.position,a=0,i=r.count;a<i;a++)Cs.fromBufferAttribute(r,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Cs);else null===t.boundingBox&&t.computeBoundingBox(),Es.copy(t.boundingBox),Es.applyMatrix4(e.matrixWorld),this.union(Es);for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],n);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Cs),Cs.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var n,t;return e.normal.x>0?(n=e.normal.x*this.min.x,t=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,t=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,t+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,t+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,t+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,t+=e.normal.z*this.min.z),n<=-e.constant&&t>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Ms),Bs.subVectors(this.max,Ms),Ds.subVectors(e.a,Ms),Fs.subVectors(e.b,Ms),Ts.subVectors(e.c,Ms),Ps.subVectors(Fs,Ds),Rs.subVectors(Ts,Fs),Ls.subVectors(Ds,Ts);var n=[0,-Ps.z,Ps.y,0,-Rs.z,Rs.y,0,-Ls.z,Ls.y,Ps.z,0,-Ps.x,Rs.z,0,-Rs.x,Ls.z,0,-Ls.x,-Ps.y,Ps.x,0,-Rs.y,Rs.x,0,-Ls.y,Ls.x,0];return!!Os(n,Ds,Fs,Ts,Bs)&&(!!Os(n=[1,0,0,0,1,0,0,0,1],Ds,Fs,Ts,Bs)&&(ks.crossVectors(Ps,Rs),Os(n=[ks.x,ks.y,ks.z],Ds,Fs,Ts,Bs)))}},{key:"clampPoint",value:function(e,n){return n.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Cs.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Cs).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Vs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vs)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();bs.prototype.isBox3=!0;var Vs=[new _s,new _s,new _s,new _s,new _s,new _s,new _s,new _s],Cs=new _s,Es=new bs,Ds=new _s,Fs=new _s,Ts=new _s,Ps=new _s,Rs=new _s,Ls=new _s,Ms=new _s,Bs=new _s,ks=new _s,Is=new _s;function Os(e,n,t,r,a){for(var i=0,o=e.length-3;i<=o;i+=3){Is.fromArray(e,i);var s=a.x*Math.abs(Is.x)+a.y*Math.abs(Is.y)+a.z*Math.abs(Is.z),l=n.dot(Is),u=t.dot(Is),c=r.dot(Is);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Ns=new bs,js=new _s,Us=new _s,Gs=new _s,zs=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;r(this,e),this.center=n,this.radius=t}return i(e,[{key:"set",value:function(e,n){return this.center.copy(e),this.radius=n,this}},{key:"setFromPoints",value:function(e,n){var t=this.center;void 0!==n?t.copy(n):Ns.setFromPoints(e).getCenter(t);for(var r=0,a=0,i=e.length;a<i;a++)r=Math.max(r,t.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,n){var t=this.center.distanceToSquared(e);return n.copy(e),t>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Gs.subVectors(e,this.center);var n=Gs.lengthSq();if(n>this.radius*this.radius){var t=Math.sqrt(n),r=.5*(t-this.radius);this.center.add(Gs.multiplyScalar(r/t)),this.radius+=r}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?Us.set(0,0,1).multiplyScalar(e.radius):Us.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(js.copy(e.center).add(Us)),this.expandByPoint(js.copy(e.center).sub(Us)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Hs=new _s,Ws=new _s,Xs=new _s,Ks=new _s,qs=new _s,Ys=new _s,Qs=new _s,Js=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s(0,0,-1);r(this,e),this.origin=n,this.direction=t}return i(e,[{key:"set",value:function(e,n){return this.origin.copy(e),this.direction.copy(n),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Hs)),this}},{key:"closestPointToPoint",value:function(e,n){n.subVectors(e,this.origin);var t=n.dot(this.direction);return t<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var n=Hs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Hs.copy(this.direction).multiplyScalar(n).add(this.origin),Hs.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,n,t,r){Ws.copy(e).add(n).multiplyScalar(.5),Xs.copy(n).sub(e).normalize(),Ks.copy(this.origin).sub(Ws);var a,i,o,s,l=.5*e.distanceTo(n),u=-this.direction.dot(Xs),c=Ks.dot(this.direction),d=-Ks.dot(Xs),A=Ks.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(i=u*c-d,s=l*f,(a=u*d-c)>=0)if(i>=-s)if(i<=s){var h=1/f;o=(a*=h)*(a+u*(i*=h)+2*c)+i*(u*a+i+2*d)+A}else i=l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*d)+A;else i=-l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*d)+A;else i<=-s?o=-(a=Math.max(0,-(-u*l+c)))*a+(i=a>0?-l:Math.min(Math.max(-l,-d),l))*(i+2*d)+A:i<=s?(a=0,o=(i=Math.min(Math.max(-l,-d),l))*(i+2*d)+A):o=-(a=Math.max(0,-(u*l+c)))*a+(i=a>0?l:Math.min(Math.max(-l,-d),l))*(i+2*d)+A;else i=u>0?-l:l,o=-(a=Math.max(0,-(u*i+c)))*a+i*(i+2*d)+A;return t&&t.copy(this.direction).multiplyScalar(a).add(this.origin),r&&r.copy(Xs).multiplyScalar(i).add(Ws),o}},{key:"intersectSphere",value:function(e,n){Hs.subVectors(e.center,this.origin);var t=Hs.dot(this.direction),r=Hs.dot(Hs)-t*t,a=e.radius*e.radius;if(r>a)return null;var i=Math.sqrt(a-r),o=t-i,s=t+i;return o<0&&s<0?null:o<0?this.at(s,n):this.at(o,n)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var n=e.normal.dot(this.direction);if(0===n)return 0===e.distanceToPoint(this.origin)?0:null;var t=-(this.origin.dot(e.normal)+e.constant)/n;return t>=0?t:null}},{key:"intersectPlane",value:function(e,n){var t=this.distanceToPlane(e);return null===t?null:this.at(t,n)}},{key:"intersectsPlane",value:function(e){var n=e.distanceToPoint(this.origin);return 0===n||e.normal.dot(this.direction)*n<0}},{key:"intersectBox",value:function(e,n){var t,r,a,i,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(t=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(t=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(a=(e.min.y-d.y)*u,i=(e.max.y-d.y)*u):(a=(e.max.y-d.y)*u,i=(e.min.y-d.y)*u),t>i||a>r?null:((a>t||t!==t)&&(t=a),(i<r||r!==r)&&(r=i),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),t>s||o>r?null:((o>t||t!==t)&&(t=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(t>=0?t:r,n)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Hs)}},{key:"intersectTriangle",value:function(e,n,t,r,a){qs.subVectors(n,e),Ys.subVectors(t,e),Qs.crossVectors(qs,Ys);var i,o=this.direction.dot(Qs);if(o>0){if(r)return null;i=1}else{if(!(o<0))return null;i=-1,o=-o}Ks.subVectors(this.origin,e);var s=i*this.direction.dot(Ys.crossVectors(Ks,Ys));if(s<0)return null;var l=i*this.direction.dot(qs.cross(Ks));if(l<0)return null;if(s+l>o)return null;var u=-i*Ks.dot(Qs);return u<0?null:this.at(u/o,a)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Zs=function(){function e(){r(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return i(e,[{key:"set",value:function(e,n,t,r,a,i,o,s,l,u,c,d,A,f,h,p){var m=this.elements;return m[0]=e,m[4]=n,m[8]=t,m[12]=r,m[1]=a,m[5]=i,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=d,m[3]=A,m[7]=f,m[11]=h,m[15]=p,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var n=this.elements,t=e.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],this}},{key:"copyPosition",value:function(e){var n=this.elements,t=e.elements;return n[12]=t[12],n[13]=t[13],n[14]=t[14],this}},{key:"setFromMatrix3",value:function(e){var n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,n,t){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),t.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,n,t){return this.set(e.x,n.x,t.x,0,e.y,n.y,t.y,0,e.z,n.z,t.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var n=this.elements,t=e.elements,r=1/$s.setFromMatrixColumn(e,0).length(),a=1/$s.setFromMatrixColumn(e,1).length(),i=1/$s.setFromMatrixColumn(e,2).length();return n[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r,n[3]=0,n[4]=t[4]*a,n[5]=t[5]*a,n[6]=t[6]*a,n[7]=0,n[8]=t[8]*i,n[9]=t[9]*i,n[10]=t[10]*i,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=this.elements,t=e.x,r=e.y,a=e.z,i=Math.cos(t),o=Math.sin(t),s=Math.cos(r),l=Math.sin(r),u=Math.cos(a),c=Math.sin(a);if("XYZ"===e.order){var d=i*u,A=i*c,f=o*u,h=o*c;n[0]=s*u,n[4]=-s*c,n[8]=l,n[1]=A+f*l,n[5]=d-h*l,n[9]=-o*s,n[2]=h-d*l,n[6]=f+A*l,n[10]=i*s}else if("YXZ"===e.order){var p=s*u,m=s*c,S=l*u,g=l*c;n[0]=p+g*o,n[4]=S*o-m,n[8]=i*l,n[1]=i*c,n[5]=i*u,n[9]=-o,n[2]=m*o-S,n[6]=g+p*o,n[10]=i*s}else if("ZXY"===e.order){var v=s*u,x=s*c,_=l*u,y=l*c;n[0]=v-y*o,n[4]=-i*c,n[8]=_+x*o,n[1]=x+_*o,n[5]=i*u,n[9]=y-v*o,n[2]=-i*l,n[6]=o,n[10]=i*s}else if("ZYX"===e.order){var w=i*u,b=i*c,V=o*u,C=o*c;n[0]=s*u,n[4]=V*l-b,n[8]=w*l+C,n[1]=s*c,n[5]=C*l+w,n[9]=b*l-V,n[2]=-l,n[6]=o*s,n[10]=i*s}else if("YZX"===e.order){var E=i*s,D=i*l,F=o*s,T=o*l;n[0]=s*u,n[4]=T-E*c,n[8]=F*c+D,n[1]=c,n[5]=i*u,n[9]=-o*u,n[2]=-l*u,n[6]=D*c+F,n[10]=E-T*c}else if("XZY"===e.order){var P=i*s,R=i*l,L=o*s,M=o*l;n[0]=s*u,n[4]=-c,n[8]=l*u,n[1]=P*c+M,n[5]=i*u,n[9]=R*c-L,n[2]=L*c-R,n[6]=o*u,n[10]=M*c+P}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(nl,e,tl)}},{key:"lookAt",value:function(e,n,t){var r=this.elements;return il.subVectors(e,n),0===il.lengthSq()&&(il.z=1),il.normalize(),rl.crossVectors(t,il),0===rl.lengthSq()&&(1===Math.abs(t.z)?il.x+=1e-4:il.z+=1e-4,il.normalize(),rl.crossVectors(t,il)),rl.normalize(),al.crossVectors(il,rl),r[0]=rl.x,r[4]=al.x,r[8]=il.x,r[1]=rl.y,r[5]=al.y,r[9]=il.y,r[2]=rl.z,r[6]=al.z,r[10]=il.z,this}},{key:"multiply",value:function(e,n){return void 0!==n?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,n){var t=e.elements,r=n.elements,a=this.elements,i=t[0],o=t[4],s=t[8],l=t[12],u=t[1],c=t[5],d=t[9],A=t[13],f=t[2],h=t[6],p=t[10],m=t[14],S=t[3],g=t[7],v=t[11],x=t[15],_=r[0],y=r[4],w=r[8],b=r[12],V=r[1],C=r[5],E=r[9],D=r[13],F=r[2],T=r[6],P=r[10],R=r[14],L=r[3],M=r[7],B=r[11],k=r[15];return a[0]=i*_+o*V+s*F+l*L,a[4]=i*y+o*C+s*T+l*M,a[8]=i*w+o*E+s*P+l*B,a[12]=i*b+o*D+s*R+l*k,a[1]=u*_+c*V+d*F+A*L,a[5]=u*y+c*C+d*T+A*M,a[9]=u*w+c*E+d*P+A*B,a[13]=u*b+c*D+d*R+A*k,a[2]=f*_+h*V+p*F+m*L,a[6]=f*y+h*C+p*T+m*M,a[10]=f*w+h*E+p*P+m*B,a[14]=f*b+h*D+p*R+m*k,a[3]=S*_+g*V+v*F+x*L,a[7]=S*y+g*C+v*T+x*M,a[11]=S*w+g*E+v*P+x*B,a[15]=S*b+g*D+v*R+x*k,this}},{key:"multiplyScalar",value:function(e){var n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,n=e[0],t=e[4],r=e[8],a=e[12],i=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],A=e[14];return e[3]*(+a*s*c-r*l*c-a*o*d+t*l*d+r*o*A-t*s*A)+e[7]*(+n*s*A-n*l*d+a*i*d-r*i*A+r*l*u-a*s*u)+e[11]*(+n*l*c-n*o*A-a*i*c+t*i*A+a*o*u-t*l*u)+e[15]*(-r*o*u-n*s*c+n*o*d+r*i*c-t*i*d+t*s*u)}},{key:"transpose",value:function(){var e,n=this.elements;return e=n[1],n[1]=n[4],n[4]=e,e=n[2],n[2]=n[8],n[8]=e,e=n[6],n[6]=n[9],n[9]=e,e=n[3],n[3]=n[12],n[12]=e,e=n[7],n[7]=n[13],n[13]=e,e=n[11],n[11]=n[14],n[14]=e,this}},{key:"setPosition",value:function(e,n,t){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=t),this}},{key:"invert",value:function(){var e=this.elements,n=e[0],t=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],A=e[11],f=e[12],h=e[13],p=e[14],m=e[15],S=c*p*l-h*d*l+h*s*A-o*p*A-c*s*m+o*d*m,g=f*d*l-u*p*l-f*s*A+i*p*A+u*s*m-i*d*m,v=u*h*l-f*c*l+f*o*A-i*h*A-u*o*m+i*c*m,x=f*c*s-u*h*s-f*o*d+i*h*d+u*o*p-i*c*p,_=n*S+t*g+r*v+a*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var y=1/_;return e[0]=S*y,e[1]=(h*d*a-c*p*a-h*r*A+t*p*A+c*r*m-t*d*m)*y,e[2]=(o*p*a-h*s*a+h*r*l-t*p*l-o*r*m+t*s*m)*y,e[3]=(c*s*a-o*d*a-c*r*l+t*d*l+o*r*A-t*s*A)*y,e[4]=g*y,e[5]=(u*p*a-f*d*a+f*r*A-n*p*A-u*r*m+n*d*m)*y,e[6]=(f*s*a-i*p*a-f*r*l+n*p*l+i*r*m-n*s*m)*y,e[7]=(i*d*a-u*s*a+u*r*l-n*d*l-i*r*A+n*s*A)*y,e[8]=v*y,e[9]=(f*c*a-u*h*a-f*t*A+n*h*A+u*t*m-n*c*m)*y,e[10]=(i*h*a-f*o*a+f*t*l-n*h*l-i*t*m+n*o*m)*y,e[11]=(u*o*a-i*c*a-u*t*l+n*c*l+i*t*A-n*o*A)*y,e[12]=x*y,e[13]=(u*h*r-f*c*r+f*t*d-n*h*d-u*t*p+n*c*p)*y,e[14]=(f*o*r-i*h*r-f*t*s+n*h*s+i*t*p-n*o*p)*y,e[15]=(i*c*r-u*o*r+u*t*s-n*c*s-i*t*d+n*o*d)*y,this}},{key:"scale",value:function(e){var n=this.elements,t=e.x,r=e.y,a=e.z;return n[0]*=t,n[4]*=r,n[8]*=a,n[1]*=t,n[5]*=r,n[9]*=a,n[2]*=t,n[6]*=r,n[10]*=a,n[3]*=t,n[7]*=r,n[11]*=a,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],t=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,t,r))}},{key:"makeTranslation",value:function(e,n,t){return this.set(1,0,0,e,0,1,0,n,0,0,1,t,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var n=Math.cos(e),t=Math.sin(e);return this.set(1,0,0,0,0,n,-t,0,0,t,n,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var n=Math.cos(e),t=Math.sin(e);return this.set(n,0,t,0,0,1,0,0,-t,0,n,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var n=Math.cos(e),t=Math.sin(e);return this.set(n,-t,0,0,t,n,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,n){var t=Math.cos(n),r=Math.sin(n),a=1-t,i=e.x,o=e.y,s=e.z,l=a*i,u=a*o;return this.set(l*i+t,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+t,u*s-r*i,0,l*s-r*o,u*s+r*i,a*s*s+t,0,0,0,0,1),this}},{key:"makeScale",value:function(e,n,t){return this.set(e,0,0,0,0,n,0,0,0,0,t,0,0,0,0,1),this}},{key:"makeShear",value:function(e,n,t,r,a,i){return this.set(1,t,a,0,e,1,i,0,n,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,n,t){var r=this.elements,a=n._x,i=n._y,o=n._z,s=n._w,l=a+a,u=i+i,c=o+o,d=a*l,A=a*u,f=a*c,h=i*u,p=i*c,m=o*c,S=s*l,g=s*u,v=s*c,x=t.x,_=t.y,y=t.z;return r[0]=(1-(h+m))*x,r[1]=(A+v)*x,r[2]=(f-g)*x,r[3]=0,r[4]=(A-v)*_,r[5]=(1-(d+m))*_,r[6]=(p+S)*_,r[7]=0,r[8]=(f+g)*y,r[9]=(p-S)*y,r[10]=(1-(d+h))*y,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,n,t){var r=this.elements,a=$s.set(r[0],r[1],r[2]).length(),i=$s.set(r[4],r[5],r[6]).length(),o=$s.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],el.copy(this);var s=1/a,l=1/i,u=1/o;return el.elements[0]*=s,el.elements[1]*=s,el.elements[2]*=s,el.elements[4]*=l,el.elements[5]*=l,el.elements[6]*=l,el.elements[8]*=u,el.elements[9]*=u,el.elements[10]*=u,n.setFromRotationMatrix(el),t.x=a,t.y=i,t.z=o,this}},{key:"makePerspective",value:function(e,n,t,r,a,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*a/(n-e),l=2*a/(t-r),u=(n+e)/(n-e),c=(t+r)/(t-r),d=-(i+a)/(i-a),A=-2*i*a/(i-a);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=A,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,n,t,r,a,i){var o=this.elements,s=1/(n-e),l=1/(t-r),u=1/(i-a),c=(n+e)*s,d=(t+r)*l,A=(i+a)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-A,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var n=this.elements,t=e.elements,r=0;r<16;r++)if(n[r]!==t[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=0;t<16;t++)this.elements[t]=e[t+n];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this.elements;return e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=t[3],e[n+4]=t[4],e[n+5]=t[5],e[n+6]=t[6],e[n+7]=t[7],e[n+8]=t[8],e[n+9]=t[9],e[n+10]=t[10],e[n+11]=t[11],e[n+12]=t[12],e[n+13]=t[13],e[n+14]=t[14],e[n+15]=t[15],e}}]),e}();Zs.prototype.isMatrix4=!0;var $s=new _s,el=new Zs,nl=new _s(0,0,0),tl=new _s(1,1,1),rl=new _s,al=new _s,il=new _s,ol=new Zs,sl=new xs,ll=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;r(this,e),this._x=n,this._y=t,this._z=a,this._order=i}return i(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=n,this._z=t,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,a=r[0],i=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],d=r[6],A=r[10];switch(n){case"XYZ":this._y=Math.asin(Wo(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,A),this._z=Math.atan2(-i,a)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Wo(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,A),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,a),this._z=0);break;case"ZXY":this._x=Math.asin(Wo(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,A),this._z=Math.atan2(-i,l)):(this._y=0,this._z=Math.atan2(s,a));break;case"ZYX":this._y=Math.asin(-Wo(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,A),this._z=Math.atan2(s,a)):(this._x=0,this._z=Math.atan2(-i,l));break;case"YZX":this._z=Math.asin(Wo(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(o,A));break;case"XZY":this._z=Math.asin(-Wo(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===t&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,n,t){return ol.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ol,n,t)}},{key:"setFromVector3",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,n)}},{key:"reorder",value:function(e){return sl.setFromEuler(this),this.setFromQuaternion(sl,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();ll.prototype.isEuler=!0,ll.DefaultOrder="XYZ",ll.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var ul=function(){function e(){r(this,e),this.mask=1}return i(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),cl=0,dl=new _s,Al=new xs,fl=new Zs,hl=new _s,pl=new _s,ml=new _s,Sl=new xs,gl=new _s(1,0,0),vl=new _s(0,1,0),xl=new _s(0,0,1),_l={type:"added"},yl={type:"removed"},wl=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t),e=n.call(this),Object.defineProperty(c(e),"id",{value:cl++}),e.uuid=Ho(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=t.DefaultUp.clone();var a=new _s,i=new ll,o=new xs,s=new _s(1,1,1);return i._onChange((function(){o.setFromEuler(i,!1)})),o._onChange((function(){i.setFromQuaternion(o,void 0,!1)})),Object.defineProperties(c(e),{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Zs},normalMatrix:{value:new $o}}),e.matrix=new Zs,e.matrixWorld=new Zs,e.matrixAutoUpdate=t.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new ul,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return i(t,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,n){this.quaternion.setFromAxisAngle(e,n)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,n){return Al.setFromAxisAngle(e,n),this.quaternion.multiply(Al),this}},{key:"rotateOnWorldAxis",value:function(e,n){return Al.setFromAxisAngle(e,n),this.quaternion.premultiply(Al),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(gl,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(vl,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(xl,e)}},{key:"translateOnAxis",value:function(e,n){return dl.copy(e).applyQuaternion(this.quaternion),this.position.add(dl.multiplyScalar(n)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(gl,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(vl,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(xl,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(fl.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,n,t){e.isVector3?hl.copy(e):hl.set(e,n,t);var r=this.parent;this.updateWorldMatrix(!0,!1),pl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fl.lookAt(pl,hl,this.up):fl.lookAt(hl,pl,this.up),this.quaternion.setFromRotationMatrix(fl),r&&(fl.extractRotation(r.matrixWorld),Al.setFromRotationMatrix(fl),this.quaternion.premultiply(Al.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_l)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}var t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(yl)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var n=this.children[e];n.parent=null,n.dispatchEvent(yl)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),fl.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),fl.multiply(e.parent.matrixWorld)),e.applyMatrix4(fl),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,n){if(this[e]===n)return this;for(var t=0,r=this.children.length;t<r;t++){var a=this.children[t].getObjectByProperty(e,n);if(void 0!==a)return a}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pl,e,ml),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pl,Sl,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var n=this.children,t=0,r=n.length;t<r;t++)n[t].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var n=this.children,t=0,r=n.length;t<r;t++)n[t].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var n=this.parent;null!==n&&(e(n),n.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var n=this.children,t=0,r=n.length;t<r;t++)n[t].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,n){var t=this.parent;if(!0===e&&null!==t&&t.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n)for(var r=this.children,a=0,i=r.length;a<i;a++)r[a].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var n=void 0===e||"string"===typeof e,t={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},t.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function a(n,t){return void 0===n[t.uuid]&&(n[t.uuid]=t.toJSON(e)),t.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);var i=this.geometry.parameters;if(void 0!==i&&void 0!==i.shapes){var o=i.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];a(e.shapes,u)}else a(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,A=this.material.length;d<A;d++)c.push(a(e.materials,this.material[d]));r.material=c}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var h=0;h<this.animations.length;h++){var p=this.animations[h];r.animations.push(a(e.animations,p))}}if(n){var m=b(e.geometries),S=b(e.materials),g=b(e.textures),v=b(e.images),x=b(e.shapes),_=b(e.skeletons),y=b(e.animations),w=b(e.nodes);m.length>0&&(t.geometries=m),S.length>0&&(t.materials=S),g.length>0&&(t.textures=g),v.length>0&&(t.images=v),x.length>0&&(t.shapes=x),_.length>0&&(t.skeletons=_),y.length>0&&(t.animations=y),w.length>0&&(t.nodes=w)}return t.object=r,t;function b(e){var n=[];for(var t in e){var r=e[t];delete r.metadata,n.push(r)}return n}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===n)for(var t=0;t<e.children.length;t++){var r=e.children[t];this.add(r.clone())}return this}}]),t}(Oo);wl.DefaultUp=new _s(0,1,0),wl.DefaultMatrixAutoUpdate=!0,wl.prototype.isObject3D=!0;var bl=new _s,Vl=new _s,Cl=new _s,El=new _s,Dl=new _s,Fl=new _s,Tl=new _s,Pl=new _s,Rl=new _s,Ll=new _s,Ml=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _s;r(this,e),this.a=n,this.b=t,this.c=a}return i(e,[{key:"set",value:function(e,n,t){return this.a.copy(e),this.b.copy(n),this.c.copy(t),this}},{key:"setFromPointsAndIndices",value:function(e,n,t,r){return this.a.copy(e[n]),this.b.copy(e[t]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,n,t,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,t),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return bl.subVectors(this.c,this.b),Vl.subVectors(this.a,this.b),.5*bl.cross(Vl).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(n){return e.getNormal(this.a,this.b,this.c,n)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(n,t){return e.getBarycoord(n,this.a,this.b,this.c,t)}},{key:"getUV",value:function(n,t,r,a,i){return e.getUV(n,this.a,this.b,this.c,t,r,a,i)}},{key:"containsPoint",value:function(n){return e.containsPoint(n,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(n){return e.isFrontFacing(this.a,this.b,this.c,n)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,n){var t,r,a=this.a,i=this.b,o=this.c;Dl.subVectors(i,a),Fl.subVectors(o,a),Pl.subVectors(e,a);var s=Dl.dot(Pl),l=Fl.dot(Pl);if(s<=0&&l<=0)return n.copy(a);Rl.subVectors(e,i);var u=Dl.dot(Rl),c=Fl.dot(Rl);if(u>=0&&c<=u)return n.copy(i);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return t=s/(s-u),n.copy(a).addScaledVector(Dl,t);Ll.subVectors(e,o);var A=Dl.dot(Ll),f=Fl.dot(Ll);if(f>=0&&A<=f)return n.copy(o);var h=A*l-s*f;if(h<=0&&l>=0&&f<=0)return r=l/(l-f),n.copy(a).addScaledVector(Fl,r);var p=u*f-A*c;if(p<=0&&c-u>=0&&A-f>=0)return Tl.subVectors(o,i),r=(c-u)/(c-u+(A-f)),n.copy(i).addScaledVector(Tl,r);var m=1/(p+h+d);return t=h*m,r=d*m,n.copy(a).addScaledVector(Dl,t).addScaledVector(Fl,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,n,t,r){r.subVectors(t,n),bl.subVectors(e,n),r.cross(bl);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,n,t,r,a){bl.subVectors(r,n),Vl.subVectors(t,n),Cl.subVectors(e,n);var i=bl.dot(bl),o=bl.dot(Vl),s=bl.dot(Cl),l=Vl.dot(Vl),u=Vl.dot(Cl),c=i*l-o*o;if(0===c)return a.set(-2,-1,-1);var d=1/c,A=(l*s-o*u)*d,f=(i*u-o*s)*d;return a.set(1-A-f,f,A)}},{key:"containsPoint",value:function(e,n,t,r){return this.getBarycoord(e,n,t,r,El),El.x>=0&&El.y>=0&&El.x+El.y<=1}},{key:"getUV",value:function(e,n,t,r,a,i,o,s){return this.getBarycoord(e,n,t,r,El),s.set(0,0),s.addScaledVector(a,El.x),s.addScaledVector(i,El.y),s.addScaledVector(o,El.z),s}},{key:"isFrontFacing",value:function(e,n,t,r){return bl.subVectors(t,n),Vl.subVectors(e,n),bl.cross(Vl).dot(r)<0}}]),e}(),Bl=0,kl=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),e=n.call(this),Object.defineProperty(c(e),"id",{value:Bl++}),e.uuid=Ho(),e.name="",e.type="Material",e.fog=!0,e.blending=1,e.side=0,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=Ci,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Lo,e.stencilZFail=Lo,e.stencilZPass=Lo,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return i(t,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var n in e){var t=e[n];if(void 0!==t)if("shading"!==n){var r=this[n];void 0!==r?r&&r.isColor?r.set(t):r&&r.isVector3&&t&&t.isVector3?r.copy(t):this[n]=t:console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t;else console.warn("THREE.Material: '"+n+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var n=void 0===e||"string"===typeof e;n&&(e={textures:{},images:{}});var t={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var n=[];for(var t in e){var r=e[t];delete r.metadata,n.push(r)}return n}if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),this.color&&this.color.isColor&&(t.color=this.color.getHex()),void 0!==this.roughness&&(t.roughness=this.roughness),void 0!==this.metalness&&(t.metalness=this.metalness),void 0!==this.sheen&&(t.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(t.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(t.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(t.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(t.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(t.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(t.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(t.shininess=this.shininess),void 0!==this.clearcoat&&(t.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(t.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(t.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(t.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(t.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,t.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(t.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(t.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(t.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(t.lightMap=this.lightMap.toJSON(e).uuid,t.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(t.aoMap=this.aoMap.toJSON(e).uuid,t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(t.bumpMap=this.bumpMap.toJSON(e).uuid,t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(t.normalMap=this.normalMap.toJSON(e).uuid,t.normalMapType=this.normalMapType,t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(t.displacementMap=this.displacementMap.toJSON(e).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(t.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(t.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(t.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(t.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(t.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(t.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(t.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(t.combine=this.combine)),void 0!==this.envMapIntensity&&(t.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(t.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(t.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(t.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(t.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(t.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(t.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(t.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(t.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(t.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(t.size=this.size),null!==this.shadowSide&&(t.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(t.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(t.blending=this.blending),0!==this.side&&(t.side=this.side),this.vertexColors&&(t.vertexColors=!0),this.opacity<1&&(t.opacity=this.opacity),!0===this.transparent&&(t.transparent=this.transparent),t.depthFunc=this.depthFunc,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.colorWrite=this.colorWrite,t.stencilWrite=this.stencilWrite,t.stencilWriteMask=this.stencilWriteMask,t.stencilFunc=this.stencilFunc,t.stencilRef=this.stencilRef,t.stencilFuncMask=this.stencilFuncMask,t.stencilFail=this.stencilFail,t.stencilZFail=this.stencilZFail,t.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(t.rotation=this.rotation),!0===this.polygonOffset&&(t.polygonOffset=!0),0!==this.polygonOffsetFactor&&(t.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(t.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(t.linewidth=this.linewidth),void 0!==this.dashSize&&(t.dashSize=this.dashSize),void 0!==this.gapSize&&(t.gapSize=this.gapSize),void 0!==this.scale&&(t.scale=this.scale),!0===this.dithering&&(t.dithering=!0),this.alphaTest>0&&(t.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(t.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(t.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(t.wireframe=this.wireframe),this.wireframeLinewidth>1&&(t.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(t.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(t.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(t.flatShading=this.flatShading),!1===this.visible&&(t.visible=!1),!1===this.toneMapped&&(t.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(t.userData=this.userData),n){var a=r(e.textures),i=r(e.images);a.length>0&&(t.textures=a),i.length>0&&(t.images=i)}return t}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var n=e.clippingPlanes,t=null;if(null!==n){var r=n.length;t=new Array(r);for(var a=0;a!==r;++a)t[a]=n[a].clone()}return this.clippingPlanes=t,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),t}(Oo);kl.prototype.isMaterial=!0,kl.fromType=function(){return null};var Il=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="MeshBasicMaterial",a.color=new us(16777215),a.map=null,a.lightMap=null,a.lightMapIntensity=1,a.aoMap=null,a.aoMapIntensity=1,a.specularMap=null,a.alphaMap=null,a.envMap=null,a.combine=0,a.reflectivity=1,a.refractionRatio=.98,a.wireframe=!1,a.wireframeLinewidth=1,a.wireframeLinecap="round",a.wireframeLinejoin="round",a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),t}(kl);Il.prototype.isMeshBasicMaterial=!0;var Ol=new _s,Nl=new Zo,jl=function(){function e(n,t,a){if(r(this,e),Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=n,this.itemSize=t,this.count=void 0!==n?n.length/t:0,this.normalized=!0===a,this.usage=Mo,this.updateRange={offset:0,count:-1},this.version=0}return i(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,n,t){e*=this.itemSize,t*=n.itemSize;for(var r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[t+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var n=this.array,t=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new us),n[t++]=i.r,n[t++]=i.g,n[t++]=i.b}return this}},{key:"copyVector2sArray",value:function(e){for(var n=this.array,t=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new Zo),n[t++]=i.x,n[t++]=i.y}return this}},{key:"copyVector3sArray",value:function(e){for(var n=this.array,t=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new _s),n[t++]=i.x,n[t++]=i.y,n[t++]=i.z}return this}},{key:"copyVector4sArray",value:function(e){for(var n=this.array,t=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new ps),n[t++]=i.x,n[t++]=i.y,n[t++]=i.z,n[t++]=i.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var n=0,t=this.count;n<t;n++)Nl.fromBufferAttribute(this,n),Nl.applyMatrix3(e),this.setXY(n,Nl.x,Nl.y);else if(3===this.itemSize)for(var r=0,a=this.count;r<a;r++)Ol.fromBufferAttribute(this,r),Ol.applyMatrix3(e),this.setXYZ(r,Ol.x,Ol.y,Ol.z);return this}},{key:"applyMatrix4",value:function(e){for(var n=0,t=this.count;n<t;n++)Ol.x=this.getX(n),Ol.y=this.getY(n),Ol.z=this.getZ(n),Ol.applyMatrix4(e),this.setXYZ(n,Ol.x,Ol.y,Ol.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var n=0,t=this.count;n<t;n++)Ol.x=this.getX(n),Ol.y=this.getY(n),Ol.z=this.getZ(n),Ol.applyNormalMatrix(e),this.setXYZ(n,Ol.x,Ol.y,Ol.z);return this}},{key:"transformDirection",value:function(e){for(var n=0,t=this.count;n<t;n++)Ol.x=this.getX(n),Ol.y=this.getY(n),Ol.z=this.getZ(n),Ol.transformDirection(e),this.setXYZ(n,Ol.x,Ol.y,Ol.z);return this}},{key:"set",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,n),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,n){return this.array[e*this.itemSize]=n,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,n){return this.array[e*this.itemSize+1]=n,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,n){return this.array[e*this.itemSize+2]=n,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,n){return this.array[e*this.itemSize+3]=n,this}},{key:"setXY",value:function(e,n,t){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=t,this}},{key:"setXYZ",value:function(e,n,t,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=t,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,n,t,r,a){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=t,this.array[e+2]=r,this.array[e+3]=a,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Mo&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();jl.prototype.isBufferAttribute=!0;var Ul=function(e){s(t,e);var n=A(t);function t(e,a,i){return r(this,t),n.call(this,new Uint16Array(e),a,i)}return i(t)}(jl),Gl=function(e){s(t,e);var n=A(t);function t(e,a,i){return r(this,t),n.call(this,new Uint32Array(e),a,i)}return i(t)}(jl);(function(e){s(t,e);var n=A(t);function t(e,a,i){return r(this,t),n.call(this,new Uint16Array(e),a,i)}return i(t)})(jl).prototype.isFloat16BufferAttribute=!0;var zl=function(e){s(t,e);var n=A(t);function t(e,a,i){return r(this,t),n.call(this,new Float32Array(e),a,i)}return i(t)}(jl),Hl=0,Wl=new Zs,Xl=new wl,Kl=new _s,ql=new bs,Yl=new bs,Ql=new _s,Jl=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),e=n.call(this),Object.defineProperty(c(e),"id",{value:Hl++}),e.uuid=Ho(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return i(t,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(es(e)?Gl:Ul)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,n){return this.attributes[e]=n,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:n,materialIndex:t})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,n){this.drawRange.start=e,this.drawRange.count=n}},{key:"applyMatrix4",value:function(e){var n=this.attributes.position;void 0!==n&&(n.applyMatrix4(e),n.needsUpdate=!0);var t=this.attributes.normal;if(void 0!==t){var r=(new $o).getNormalMatrix(e);t.applyNormalMatrix(r),t.needsUpdate=!0}var a=this.attributes.tangent;return void 0!==a&&(a.transformDirection(e),a.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Wl.makeRotationFromQuaternion(e),this.applyMatrix4(Wl),this}},{key:"rotateX",value:function(e){return Wl.makeRotationX(e),this.applyMatrix4(Wl),this}},{key:"rotateY",value:function(e){return Wl.makeRotationY(e),this.applyMatrix4(Wl),this}},{key:"rotateZ",value:function(e){return Wl.makeRotationZ(e),this.applyMatrix4(Wl),this}},{key:"translate",value:function(e,n,t){return Wl.makeTranslation(e,n,t),this.applyMatrix4(Wl),this}},{key:"scale",value:function(e,n,t){return Wl.makeScale(e,n,t),this.applyMatrix4(Wl),this}},{key:"lookAt",value:function(e){return Xl.lookAt(e),Xl.updateMatrix(),this.applyMatrix4(Xl.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kl).negate(),this.translate(Kl.x,Kl.y,Kl.z),this}},{key:"setFromPoints",value:function(e){for(var n=[],t=0,r=e.length;t<r;t++){var a=e[t];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new zl(n,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new bs);var e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new _s(-1/0,-1/0,-1/0),new _s(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),n)for(var t=0,r=n.length;t<r;t++){var a=n[t];ql.setFromBufferAttribute(a),this.morphTargetsRelative?(Ql.addVectors(this.boundingBox.min,ql.min),this.boundingBox.expandByPoint(Ql),Ql.addVectors(this.boundingBox.max,ql.max),this.boundingBox.expandByPoint(Ql)):(this.boundingBox.expandByPoint(ql.min),this.boundingBox.expandByPoint(ql.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new zs);var e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new _s,1/0);if(e){var t=this.boundingSphere.center;if(ql.setFromBufferAttribute(e),n)for(var r=0,a=n.length;r<a;r++){var i=n[r];Yl.setFromBufferAttribute(i),this.morphTargetsRelative?(Ql.addVectors(ql.min,Yl.min),ql.expandByPoint(Ql),Ql.addVectors(ql.max,Yl.max),ql.expandByPoint(Ql)):(ql.expandByPoint(Yl.min),ql.expandByPoint(Yl.max))}ql.getCenter(t);for(var o=0,s=0,l=e.count;s<l;s++)Ql.fromBufferAttribute(e,s),o=Math.max(o,t.distanceToSquared(Ql));if(n)for(var u=0,c=n.length;u<c;u++)for(var d=n[u],A=this.morphTargetsRelative,f=0,h=d.count;f<h;f++)Ql.fromBufferAttribute(d,f),A&&(Kl.fromBufferAttribute(e,f),Ql.add(Kl)),o=Math.max(o,t.distanceToSquared(Ql));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,n=this.attributes;if(null!==e&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var t=e.array,r=n.position.array,a=n.normal.array,i=n.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new jl(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new _s,u[c]=new _s;var d=new _s,A=new _s,f=new _s,h=new Zo,p=new Zo,m=new Zo,S=new _s,g=new _s,v=this.groups;0===v.length&&(v=[{start:0,count:t.length}]);for(var x=0,_=v.length;x<_;++x)for(var y=v[x],w=y.start,b=w,V=w+y.count;b<V;b+=3)k(t[b+0],t[b+1],t[b+2]);for(var C=new _s,E=new _s,D=new _s,F=new _s,T=0,P=v.length;T<P;++T)for(var R=v[T],L=R.start,M=L,B=L+R.count;M<B;M+=3)I(t[M+0]),I(t[M+1]),I(t[M+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function k(e,n,t){d.fromArray(r,3*e),A.fromArray(r,3*n),f.fromArray(r,3*t),h.fromArray(i,2*e),p.fromArray(i,2*n),m.fromArray(i,2*t),A.sub(d),f.sub(d),p.sub(h),m.sub(h);var a=1/(p.x*m.y-m.x*p.y);isFinite(a)&&(S.copy(A).multiplyScalar(m.y).addScaledVector(f,-p.y).multiplyScalar(a),g.copy(f).multiplyScalar(p.x).addScaledVector(A,-m.x).multiplyScalar(a),l[e].add(S),l[n].add(S),l[t].add(S),u[e].add(g),u[n].add(g),u[t].add(g))}function I(e){D.fromArray(a,3*e),F.copy(D);var n=l[e];C.copy(n),C.sub(D.multiplyScalar(D.dot(n))).normalize(),E.crossVectors(F,n);var t=E.dot(u[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=t}}},{key:"computeVertexNormals",value:function(){var e=this.index,n=this.getAttribute("position");if(void 0!==n){var t=this.getAttribute("normal");if(void 0===t)t=new jl(new Float32Array(3*n.count),3),this.setAttribute("normal",t);else for(var r=0,a=t.count;r<a;r++)t.setXYZ(r,0,0,0);var i=new _s,o=new _s,s=new _s,l=new _s,u=new _s,c=new _s,d=new _s,A=new _s;if(e)for(var f=0,h=e.count;f<h;f+=3){var p=e.getX(f+0),m=e.getX(f+1),S=e.getX(f+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,S),d.subVectors(s,o),A.subVectors(i,o),d.cross(A),l.fromBufferAttribute(t,p),u.fromBufferAttribute(t,m),c.fromBufferAttribute(t,S),l.add(d),u.add(d),c.add(d),t.setXYZ(p,l.x,l.y,l.z),t.setXYZ(m,u.x,u.y,u.z),t.setXYZ(S,c.x,c.y,c.z)}else for(var g=0,v=n.count;g<v;g+=3)i.fromBufferAttribute(n,g+0),o.fromBufferAttribute(n,g+1),s.fromBufferAttribute(n,g+2),d.subVectors(s,o),A.subVectors(i,o),d.cross(A),t.setXYZ(g+0,d.x,d.y,d.z),t.setXYZ(g+1,d.x,d.y,d.z),t.setXYZ(g+2,d.x,d.y,d.z);this.normalizeNormals(),t.needsUpdate=!0}}},{key:"merge",value:function(e,n){if(e&&e.isBufferGeometry){void 0===n&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var t=this.attributes;for(var r in t)if(void 0!==e.attributes[r])for(var a=t[r].array,i=e.attributes[r],o=i.array,s=i.itemSize*n,l=Math.min(o.length,a.length-s),u=0,c=s;u<l;u++,c++)a[c]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,n=0,t=e.count;n<t;n++)Ql.fromBufferAttribute(e,n),Ql.normalize(),e.setXYZ(n,Ql.x,Ql.y,Ql.z)}},{key:"toNonIndexed",value:function(){function e(e,n){for(var t=e.array,r=e.itemSize,a=e.normalized,i=new t.constructor(n.length*r),o=0,s=0,l=0,u=n.length;l<u;l++){o=e.isInterleavedBufferAttribute?n[l]*e.data.stride+e.offset:n[l]*r;for(var c=0;c<r;c++)i[s++]=t[o++]}return new jl(i,r,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var n=new t,r=this.index.array,a=this.attributes;for(var i in a){var o=e(a[i],r);n.setAttribute(i,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],d=0,A=c.length;d<A;d++){var f=e(c[d],r);u.push(f)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,p=0,m=h.length;p<m;p++){var S=h[p];n.addGroup(S.start,S.count,S.materialIndex)}return n}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var n=this.parameters;for(var t in n)void 0!==n[t]&&(e[t]=n[t]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var a=this.attributes;for(var i in a){var o=a[i];e.data.attributes[i]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],d=[],A=0,f=c.length;A<f;A++){var h=c[A];d.push(h.toJSON(e.data))}d.length>0&&(s[u]=d,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var n={};this.name=e.name;var t=e.index;null!==t&&this.setIndex(t.clone(n));var r=e.attributes;for(var a in r){var i=r[a];this.setAttribute(a,i.clone(n))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,d=u.length;c<d;c++)l.push(u[c].clone(n));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var A=e.groups,f=0,h=A.length;f<h;f++){var p=A[f];this.addGroup(p.start,p.count,p.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(Oo);Jl.prototype.isBufferGeometry=!0;var Zl=new Zs,$l=new Js,eu=new zs,nu=new _s,tu=new _s,ru=new _s,au=new _s,iu=new _s,ou=new _s,su=new _s,lu=new _s,uu=new _s,cu=new Zo,du=new Zo,Au=new Zo,fu=new _s,hu=new _s,pu=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Jl,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Il;return r(this,t),(e=n.call(this)).type="Mesh",e.geometry=a,e.material=i,e.updateMorphTargets(),e}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var n=e.morphAttributes,t=Object.keys(n);if(t.length>0){var r=n[t[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,n){var t,r=this.geometry,a=this.material,i=this.matrixWorld;if(void 0!==a&&(null===r.boundingSphere&&r.computeBoundingSphere(),eu.copy(r.boundingSphere),eu.applyMatrix4(i),!1!==e.ray.intersectsSphere(eu)&&(Zl.copy(i).invert(),$l.copy(e.ray).applyMatrix4(Zl),null===r.boundingBox||!1!==$l.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,c=r.attributes.uv,d=r.attributes.uv2,A=r.groups,f=r.drawRange;if(null!==o)if(Array.isArray(a))for(var h=0,p=A.length;h<p;h++)for(var m=A[h],S=a[m.materialIndex],g=Math.max(m.start,f.start),v=Math.min(o.count,Math.min(m.start+m.count,f.start+f.count));g<v;g+=3){var x=o.getX(g),_=o.getX(g+1),y=o.getX(g+2);(t=mu(this,S,e,$l,s,l,u,c,d,x,_,y))&&(t.faceIndex=Math.floor(g/3),t.face.materialIndex=m.materialIndex,n.push(t))}else for(var w=Math.max(0,f.start),b=Math.min(o.count,f.start+f.count);w<b;w+=3){var V=o.getX(w),C=o.getX(w+1),E=o.getX(w+2);(t=mu(this,a,e,$l,s,l,u,c,d,V,C,E))&&(t.faceIndex=Math.floor(w/3),n.push(t))}else if(void 0!==s)if(Array.isArray(a))for(var D=0,F=A.length;D<F;D++)for(var T=A[D],P=a[T.materialIndex],R=Math.max(T.start,f.start),L=Math.min(s.count,Math.min(T.start+T.count,f.start+f.count));R<L;R+=3){(t=mu(this,P,e,$l,s,l,u,c,d,R,R+1,R+2))&&(t.faceIndex=Math.floor(R/3),t.face.materialIndex=T.materialIndex,n.push(t))}else for(var M=Math.max(0,f.start),B=Math.min(s.count,f.start+f.count);M<B;M+=3){(t=mu(this,a,e,$l,s,l,u,c,d,M,M+1,M+2))&&(t.faceIndex=Math.floor(M/3),n.push(t))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),t}(wl);function mu(e,n,t,r,a,i,o,s,l,u,c,d){nu.fromBufferAttribute(a,u),tu.fromBufferAttribute(a,c),ru.fromBufferAttribute(a,d);var A=e.morphTargetInfluences;if(i&&A){su.set(0,0,0),lu.set(0,0,0),uu.set(0,0,0);for(var f=0,h=i.length;f<h;f++){var p=A[f],m=i[f];0!==p&&(au.fromBufferAttribute(m,u),iu.fromBufferAttribute(m,c),ou.fromBufferAttribute(m,d),o?(su.addScaledVector(au,p),lu.addScaledVector(iu,p),uu.addScaledVector(ou,p)):(su.addScaledVector(au.sub(nu),p),lu.addScaledVector(iu.sub(tu),p),uu.addScaledVector(ou.sub(ru),p)))}nu.add(su),tu.add(lu),ru.add(uu)}e.isSkinnedMesh&&(e.boneTransform(u,nu),e.boneTransform(c,tu),e.boneTransform(d,ru));var S=function(e,n,t,r,a,i,o,s){if(null===(1===n.side?r.intersectTriangle(o,i,a,!0,s):r.intersectTriangle(a,i,o,2!==n.side,s)))return null;hu.copy(s),hu.applyMatrix4(e.matrixWorld);var l=t.ray.origin.distanceTo(hu);return l<t.near||l>t.far?null:{distance:l,point:hu.clone(),object:e}}(e,n,t,r,nu,tu,ru,fu);if(S){s&&(cu.fromBufferAttribute(s,u),du.fromBufferAttribute(s,c),Au.fromBufferAttribute(s,d),S.uv=Ml.getUV(fu,nu,tu,ru,cu,du,Au,new Zo)),l&&(cu.fromBufferAttribute(l,u),du.fromBufferAttribute(l,c),Au.fromBufferAttribute(l,d),S.uv2=Ml.getUV(fu,nu,tu,ru,cu,du,Au,new Zo));var g={a:u,b:c,c:d,normal:new _s,materialIndex:0};Ml.getNormal(nu,tu,ru,g.normal),S.face=g}return S}pu.prototype.isMesh=!0;var Su=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;r(this,t),(e=n.call(this)).type="BoxGeometry",e.parameters={width:a,height:i,depth:o,widthSegments:s,heightSegments:l,depthSegments:u};var d=c(e);s=Math.floor(s),l=Math.floor(l),u=Math.floor(u);var A=[],f=[],h=[],p=[],m=0,S=0;function g(e,n,t,r,a,i,o,s,l,u,c){for(var g=i/l,v=o/u,x=i/2,_=o/2,y=s/2,w=l+1,b=u+1,V=0,C=0,E=new _s,D=0;D<b;D++)for(var F=D*v-_,T=0;T<w;T++){var P=T*g-x;E[e]=P*r,E[n]=F*a,E[t]=y,f.push(E.x,E.y,E.z),E[e]=0,E[n]=0,E[t]=s>0?1:-1,h.push(E.x,E.y,E.z),p.push(T/l),p.push(1-D/u),V+=1}for(var R=0;R<u;R++)for(var L=0;L<l;L++){var M=m+L+w*R,B=m+L+w*(R+1),k=m+(L+1)+w*(R+1),I=m+(L+1)+w*R;A.push(M,B,I),A.push(B,k,I),C+=6}d.addGroup(S,C,c),S+=C,m+=V}return g("z","y","x",-1,-1,o,i,a,u,l,0),g("z","y","x",1,-1,o,i,-a,u,l,1),g("x","z","y",1,1,a,o,i,s,u,2),g("x","z","y",1,-1,a,o,-i,s,u,3),g("x","y","z",1,-1,a,i,o,s,l,4),g("x","y","z",-1,-1,a,i,-o,s,l,5),e.setIndex(A),e.setAttribute("position",new zl(f,3)),e.setAttribute("normal",new zl(h,3)),e.setAttribute("uv",new zl(p,2)),e}return i(t,null,[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),t}(Jl);function gu(e){var n={};for(var t in e)for(var r in n[t]={},e[t]){var a=e[t][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?n[t][r]=a.clone():Array.isArray(a)?n[t][r]=a.slice():n[t][r]=a}return n}function vu(e){for(var n={},t=0;t<e.length;t++){var r=gu(e[t]);for(var a in r)n[a]=r[a]}return n}var xu={clone:gu,merge:vu},_u=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="ShaderMaterial",a.defines={},a.uniforms={},a.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",a.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",a.linewidth=1,a.wireframe=!1,a.wireframeLinewidth=1,a.fog=!1,a.lights=!1,a.clipping=!1,a.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},a.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},a.index0AttributeName=void 0,a.uniformsNeedUpdate=!1,a.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),a.setValues(e)),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gu(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);for(var r in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){var a=this.uniforms[r].value;a&&a.isTexture?n.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[r]={type:"m4",value:a.toArray()}:n.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}]),t}(kl);_u.prototype.isShaderMaterial=!0;var yu=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this)).type="Camera",e.matrixWorldInverse=new Zs,e.projectionMatrix=new Zs,e.projectionMatrixInverse=new Zs,e}return i(t,[{key:"copy",value:function(e,n){return Si(l(t.prototype),"copy",this).call(this,e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Si(l(t.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,n){Si(l(t.prototype),"updateWorldMatrix",this).call(this,e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(wl);yu.prototype.isCamera=!0;var wu=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return r(this,t),(e=n.call(this)).type="PerspectiveCamera",e.fov=a,e.zoom=1,e.near=o,e.far=s,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return i(t,[{key:"copy",value:function(e,n){return Si(l(t.prototype),"copy",this).call(this,e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var n=.5*this.getFilmHeight()/e;this.fov=2*zo*Math.atan(n),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Go*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*zo*Math.atan(Math.tan(.5*Go*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,n,t,r,a,i){this.aspect=e/n,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=t,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,n=e*Math.tan(.5*Go*this.fov)/this.zoom,t=2*n,r=this.aspect*t,a=-.5*r,i=this.view;if(null!==this.view&&this.view.enabled){var o=i.fullWidth,s=i.fullHeight;a+=i.offsetX*r/o,n-=i.offsetY*t/s,r*=i.width/o,t*=i.height/s}var l=this.filmOffset;0!==l&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-t,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}]),t}(yu);wu.prototype.isPerspectiveCamera=!0;var bu=90,Vu=function(e){s(t,e);var n=A(t);function t(e,a,i){var o;if(r(this,t),(o=n.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),d(o);o.renderTarget=i;var s=new wu(bu,1,e,a);s.layers=o.layers,s.up.set(0,-1,0),s.lookAt(new _s(1,0,0)),o.add(s);var l=new wu(bu,1,e,a);l.layers=o.layers,l.up.set(0,-1,0),l.lookAt(new _s(-1,0,0)),o.add(l);var u=new wu(bu,1,e,a);u.layers=o.layers,u.up.set(0,0,1),u.lookAt(new _s(0,1,0)),o.add(u);var c=new wu(bu,1,e,a);c.layers=o.layers,c.up.set(0,0,-1),c.lookAt(new _s(0,-1,0)),o.add(c);var A=new wu(bu,1,e,a);A.layers=o.layers,A.up.set(0,-1,0),A.lookAt(new _s(0,0,1)),o.add(A);var f=new wu(bu,1,e,a);return f.layers=o.layers,f.up.set(0,-1,0),f.lookAt(new _s(0,0,-1)),o.add(f),o}return i(t,[{key:"update",value:function(e,n){null===this.parent&&this.updateMatrixWorld();var t=this.renderTarget,r=(0,xe.Z)(this.children,6),a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;var A=t.texture.generateMipmaps;t.texture.generateMipmaps=!1,e.setRenderTarget(t,0),e.render(n,a),e.setRenderTarget(t,1),e.render(n,i),e.setRenderTarget(t,2),e.render(n,o),e.setRenderTarget(t,3),e.render(n,s),e.setRenderTarget(t,4),e.render(n,l),t.texture.generateMipmaps=A,e.setRenderTarget(t,5),e.render(n,u),e.setRenderTarget(d),e.xr.enabled=c,t.texture.needsPMREMUpdate=!0}}]),t}(wl),Cu=function(e){s(t,e);var n=A(t);function t(e,a,i,o,s,l,u,c,d,A){var f;return r(this,t),e=void 0!==e?e:[],a=void 0!==a?a:Ei,(f=n.call(this,e,a,i,o,s,l,u,c,d,A)).flipY=!1,f}return i(t,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),t}(hs);Cu.prototype.isCubeTexture=!0;var Eu=function(e){s(t,e);var n=A(t);function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o={width:e,height:e,depth:1},s=[o,o,o,o,o,o];return(a=n.call(this,e,e,i)).texture=new Cu(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),a.texture.isRenderTargetTexture=!0,a.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,a.texture.minFilter=void 0!==i.minFilter?i.minFilter:Ni,a}return i(t,[{key:"fromEquirectangularTexture",value:function(e,n){this.texture.type=n.type,this.texture.format=qi,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;var t={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",a="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new Su(5,5,5),o=new _u({name:"CubemapFromEquirect",uniforms:gu(t),vertexShader:r,fragmentShader:a,side:1,blending:0});o.uniforms.tEquirect.value=n;var s=new pu(i,o),l=n.minFilter;return n.minFilter===Ui&&(n.minFilter=Ni),new Vu(1,10,this).update(e,s),n.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,n,t,r){for(var a=e.getRenderTarget(),i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(n,t,r);e.setRenderTarget(a)}}]),t}(ms);Eu.prototype.isWebGLCubeRenderTarget=!0;var Du=new _s,Fu=new _s,Tu=new $o,Pu=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.normal=n,this.constant=t}return i(e,[{key:"set",value:function(e,n){return this.normal.copy(e),this.constant=n,this}},{key:"setComponents",value:function(e,n,t,r){return this.normal.set(e,n,t),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,n,t){var r=Du.subVectors(t,n).cross(Fu.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,n){var t=e.delta(Du),r=this.normal.dot(t);if(0===r)return 0===this.distanceToPoint(e.start)?n.copy(e.start):null;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(t).multiplyScalar(a).add(e.start)}},{key:"intersectsLine",value:function(e){var n=this.distanceToPoint(e.start),t=this.distanceToPoint(e.end);return n<0&&t>0||t<0&&n>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,n){var t=n||Tu.getNormalMatrix(e),r=this.coplanarPoint(Du).applyMatrix4(e),a=this.normal.applyMatrix3(t).normalize();return this.constant=-r.dot(a),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();Pu.prototype.isPlane=!0;var Ru=new zs,Lu=new _s,Mu=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pu,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pu,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Pu,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Pu,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Pu,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Pu;r(this,e),this.planes=[n,t,a,i,o,s]}return i(e,[{key:"set",value:function(e,n,t,r,a,i){var o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(t),o[3].copy(r),o[4].copy(a),o[5].copy(i),this}},{key:"copy",value:function(e){for(var n=this.planes,t=0;t<6;t++)n[t].copy(e.planes[t]);return this}},{key:"setFromProjectionMatrix",value:function(e){var n=this.planes,t=e.elements,r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],A=t[9],f=t[10],h=t[11],p=t[12],m=t[13],S=t[14],g=t[15];return n[0].setComponents(o-r,c-s,h-d,g-p).normalize(),n[1].setComponents(o+r,c+s,h+d,g+p).normalize(),n[2].setComponents(o+a,c+l,h+A,g+m).normalize(),n[3].setComponents(o-a,c-l,h-A,g-m).normalize(),n[4].setComponents(o-i,c-u,h-f,g-S).normalize(),n[5].setComponents(o+i,c+u,h+f,g+S).normalize(),this}},{key:"intersectsObject",value:function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),Ru.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ru)}},{key:"intersectsSprite",value:function(e){return Ru.center.set(0,0,0),Ru.radius=.7071067811865476,Ru.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ru)}},{key:"intersectsSphere",value:function(e){for(var n=this.planes,t=e.center,r=-e.radius,a=0;a<6;a++){if(n[a].distanceToPoint(t)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var n=this.planes,t=0;t<6;t++){var r=n[t];if(Lu.x=r.normal.x>0?e.max.x:e.min.x,Lu.y=r.normal.y>0?e.max.y:e.min.y,Lu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Lu)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var n=this.planes,t=0;t<6;t++)if(n[t].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Bu(){var e=null,n=!1,t=null,r=null;function a(n,i){t(n,i),r=e.requestAnimationFrame(a)}return{start:function(){!0!==n&&null!==t&&(r=e.requestAnimationFrame(a),n=!0)},stop:function(){e.cancelAnimationFrame(r),n=!1},setAnimationLoop:function(e){t=e},setContext:function(n){e=n}}}function ku(e,n){var t=n.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var t=r.get(n);t&&(e.deleteBuffer(t.buffer),r.delete(n))},update:function(n,a){if(n.isGLBufferAttribute){var i=r.get(n);(!i||i.version<n.version)&&r.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version})}else{n.isInterleavedBufferAttribute&&(n=n.data);var o=r.get(n);void 0===o?r.set(n,function(n,r){var a,i=n.array,o=n.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,i,o),n.onUploadCallback(),i instanceof Float32Array)a=5126;else if(i instanceof Uint16Array)if(n.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");a=5131}else a=5123;else if(i instanceof Int16Array)a=5122;else if(i instanceof Uint32Array)a=5125;else if(i instanceof Int32Array)a=5124;else if(i instanceof Int8Array)a=5120;else if(i instanceof Uint8Array)a=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);a=5121}return{buffer:s,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:n.version}}(n,a)):o.version<n.version&&(!function(n,r,a){var i=r.array,o=r.updateRange;e.bindBuffer(a,n),-1===o.count?e.bufferSubData(a,0,i):(t?e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count):e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,n,a),o.version=n.version)}}}}var Iu=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,t),(e=n.call(this)).type="PlaneGeometry",e.parameters={width:a,height:i,widthSegments:o,heightSegments:s};for(var l=a/2,u=i/2,c=Math.floor(o),d=Math.floor(s),A=c+1,f=d+1,h=a/c,p=i/d,m=[],S=[],g=[],v=[],x=0;x<f;x++)for(var _=x*p-u,y=0;y<A;y++){var w=y*h-l;S.push(w,-_,0),g.push(0,0,1),v.push(y/c),v.push(1-x/d)}for(var b=0;b<d;b++)for(var V=0;V<c;V++){var C=V+A*b,E=V+A*(b+1),D=V+1+A*(b+1),F=V+1+A*b;m.push(C,E,F),m.push(E,D,F)}return e.setIndex(m),e.setAttribute("position",new zl(S,3)),e.setAttribute("normal",new zl(g,3)),e.setAttribute("uv",new zl(v,2)),e}return i(t,null,[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.widthSegments,e.heightSegments)}}]),t}(Jl),Ou={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ]\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tfloat texelIndex = float( vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Nu={common:{diffuse:{value:new us(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $o},uv2Transform:{value:new $o},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Zo(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new us(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new us(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $o}},sprite:{diffuse:{value:new us(16777215)},opacity:{value:1},center:{value:new Zo(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $o}}},ju={basic:{uniforms:vu([Nu.common,Nu.specularmap,Nu.envmap,Nu.aomap,Nu.lightmap,Nu.fog]),vertexShader:Ou.meshbasic_vert,fragmentShader:Ou.meshbasic_frag},lambert:{uniforms:vu([Nu.common,Nu.specularmap,Nu.envmap,Nu.aomap,Nu.lightmap,Nu.emissivemap,Nu.fog,Nu.lights,{emissive:{value:new us(0)}}]),vertexShader:Ou.meshlambert_vert,fragmentShader:Ou.meshlambert_frag},phong:{uniforms:vu([Nu.common,Nu.specularmap,Nu.envmap,Nu.aomap,Nu.lightmap,Nu.emissivemap,Nu.bumpmap,Nu.normalmap,Nu.displacementmap,Nu.fog,Nu.lights,{emissive:{value:new us(0)},specular:{value:new us(1118481)},shininess:{value:30}}]),vertexShader:Ou.meshphong_vert,fragmentShader:Ou.meshphong_frag},standard:{uniforms:vu([Nu.common,Nu.envmap,Nu.aomap,Nu.lightmap,Nu.emissivemap,Nu.bumpmap,Nu.normalmap,Nu.displacementmap,Nu.roughnessmap,Nu.metalnessmap,Nu.fog,Nu.lights,{emissive:{value:new us(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ou.meshphysical_vert,fragmentShader:Ou.meshphysical_frag},toon:{uniforms:vu([Nu.common,Nu.aomap,Nu.lightmap,Nu.emissivemap,Nu.bumpmap,Nu.normalmap,Nu.displacementmap,Nu.gradientmap,Nu.fog,Nu.lights,{emissive:{value:new us(0)}}]),vertexShader:Ou.meshtoon_vert,fragmentShader:Ou.meshtoon_frag},matcap:{uniforms:vu([Nu.common,Nu.bumpmap,Nu.normalmap,Nu.displacementmap,Nu.fog,{matcap:{value:null}}]),vertexShader:Ou.meshmatcap_vert,fragmentShader:Ou.meshmatcap_frag},points:{uniforms:vu([Nu.points,Nu.fog]),vertexShader:Ou.points_vert,fragmentShader:Ou.points_frag},dashed:{uniforms:vu([Nu.common,Nu.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ou.linedashed_vert,fragmentShader:Ou.linedashed_frag},depth:{uniforms:vu([Nu.common,Nu.displacementmap]),vertexShader:Ou.depth_vert,fragmentShader:Ou.depth_frag},normal:{uniforms:vu([Nu.common,Nu.bumpmap,Nu.normalmap,Nu.displacementmap,{opacity:{value:1}}]),vertexShader:Ou.meshnormal_vert,fragmentShader:Ou.meshnormal_frag},sprite:{uniforms:vu([Nu.sprite,Nu.fog]),vertexShader:Ou.sprite_vert,fragmentShader:Ou.sprite_frag},background:{uniforms:{uvTransform:{value:new $o},t2D:{value:null}},vertexShader:Ou.background_vert,fragmentShader:Ou.background_frag},cube:{uniforms:vu([Nu.envmap,{opacity:{value:1}}]),vertexShader:Ou.cube_vert,fragmentShader:Ou.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ou.equirect_vert,fragmentShader:Ou.equirect_frag},distanceRGBA:{uniforms:vu([Nu.common,Nu.displacementmap,{referencePosition:{value:new _s},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ou.distanceRGBA_vert,fragmentShader:Ou.distanceRGBA_frag},shadow:{uniforms:vu([Nu.lights,Nu.fog,{color:{value:new us(0)},opacity:{value:1}}]),vertexShader:Ou.shadow_vert,fragmentShader:Ou.shadow_frag}};function Uu(e,n,t,r,a,i){var o,s,l=new us(0),u=!0===a?0:1,c=null,d=0,A=null;function f(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}return{getClearColor:function(){return l},setClearColor:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),f(l,u=n)},getClearAlpha:function(){return u},setClearAlpha:function(e){f(l,u=e)},render:function(t,a){var i=!1,h=!0===a.isScene?a.background:null;h&&h.isTexture&&(h=n.get(h));var p=e.xr,m=p.getSession&&p.getSession();m&&"additive"===m.environmentBlendMode&&(h=null),null===h?f(l,u):h&&h.isColor&&(f(h,1),i=!0),(e.autoClear||i)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),h&&(h.isCubeTexture||h.mapping===Pi)?(void 0===s&&((s=new pu(new Su(1,1,1),new _u({name:"BackgroundCubeMaterial",uniforms:gu(ju.cube.uniforms),vertexShader:ju.cube.vertexShader,fragmentShader:ju.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,n,t){this.matrixWorld.copyPosition(t.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),s.material.uniforms.envMap.value=h,s.material.uniforms.flipEnvMap.value=h.isCubeTexture&&!1===h.isRenderTargetTexture?-1:1,c===h&&d===h.version&&A===e.toneMapping||(s.material.needsUpdate=!0,c=h,d=h.version,A=e.toneMapping),t.unshift(s,s.geometry,s.material,0,0,null)):h&&h.isTexture&&(void 0===o&&((o=new pu(new Iu(2,2),new _u({name:"BackgroundMaterial",uniforms:gu(ju.background.uniforms),vertexShader:ju.background.vertexShader,fragmentShader:ju.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=h,!0===h.matrixAutoUpdate&&h.updateMatrix(),o.material.uniforms.uvTransform.value.copy(h.matrix),c===h&&d===h.version&&A===e.toneMapping||(o.material.needsUpdate=!0,c=h,d=h.version,A=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null))}}}function Gu(e,n,t,r){var a=e.getParameter(34921),i=r.isWebGL2?null:n.get("OES_vertex_array_object"),o=r.isWebGL2||null!==i,s={},l=A(null),u=l;function c(n){return r.isWebGL2?e.bindVertexArray(n):i.bindVertexArrayOES(n)}function d(n){return r.isWebGL2?e.deleteVertexArray(n):i.deleteVertexArrayOES(n)}function A(e){for(var n=[],t=[],r=[],i=0;i<a;i++)n[i]=0,t[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:n,enabledAttributes:t,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){for(var e=u.newAttributes,n=0,t=e.length;n<t;n++)e[n]=0}function h(e){p(e,0)}function p(t,a){var i=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(i[t]=1,0===o[t]&&(e.enableVertexAttribArray(t),o[t]=1),s[t]!==a)&&((r.isWebGL2?e:n.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](t,a),s[t]=a)}function m(){for(var n=u.newAttributes,t=u.enabledAttributes,r=0,a=t.length;r<a;r++)t[r]!==n[r]&&(e.disableVertexAttribArray(r),t[r]=0)}function S(n,t,a,i,o,s){!0!==r.isWebGL2||5124!==a&&5125!==a?e.vertexAttribPointer(n,t,a,i,o,s):e.vertexAttribIPointer(n,t,a,o,s)}function g(){v(),u!==l&&c((u=l).object)}function v(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(a,l,d,g,v){var x=!1;if(o){var _=function(n,t,a){var o=!0===a.wireframe,l=s[n.id];void 0===l&&(l={},s[n.id]=l);var u=l[t.id];void 0===u&&(u={},l[t.id]=u);var c=u[o];void 0===c&&(c=A(r.isWebGL2?e.createVertexArray():i.createVertexArrayOES()),u[o]=c);return c}(g,d,l);u!==_&&c((u=_).object),x=function(e,n){var t=u.attributes,r=e.attributes,a=0;for(var i in r){var o=t[i],s=r[i];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;a++}return u.attributesNum!==a||u.index!==n}(g,v),x&&function(e,n){var t={},r=e.attributes,a=0;for(var i in r){var o=r[i],s={};s.attribute=o,o.data&&(s.data=o.data),t[i]=s,a++}u.attributes=t,u.attributesNum=a,u.index=n}(g,v)}else{var y=!0===l.wireframe;u.geometry===g.id&&u.program===d.id&&u.wireframe===y||(u.geometry=g.id,u.program=d.id,u.wireframe=y,x=!0)}!0===a.isInstancedMesh&&(x=!0),null!==v&&t.update(v,34963),x&&(!function(a,i,o,s){if(!1===r.isWebGL2&&(a.isInstancedMesh||s.isInstancedBufferGeometry)&&null===n.get("ANGLE_instanced_arrays"))return;f();var l=s.attributes,u=o.getAttributes(),c=i.defaultAttributeValues;for(var d in u){var A=u[d];if(A.location>=0){var g=l[d];if(void 0===g&&("instanceMatrix"===d&&a.instanceMatrix&&(g=a.instanceMatrix),"instanceColor"===d&&a.instanceColor&&(g=a.instanceColor)),void 0!==g){var v=g.normalized,x=g.itemSize,_=t.get(g);if(void 0===_)continue;var y=_.buffer,w=_.type,b=_.bytesPerElement;if(g.isInterleavedBufferAttribute){var V=g.data,C=V.stride,E=g.offset;if(V.isInstancedInterleavedBuffer){for(var D=0;D<A.locationSize;D++)p(A.location+D,V.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=V.meshPerAttribute*V.count)}else for(var F=0;F<A.locationSize;F++)h(A.location+F);e.bindBuffer(34962,y);for(var T=0;T<A.locationSize;T++)S(A.location+T,x/A.locationSize,w,v,C*b,(E+x/A.locationSize*T)*b)}else{if(g.isInstancedBufferAttribute){for(var P=0;P<A.locationSize;P++)p(A.location+P,g.meshPerAttribute);!0!==a.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=g.meshPerAttribute*g.count)}else for(var R=0;R<A.locationSize;R++)h(A.location+R);e.bindBuffer(34962,y);for(var L=0;L<A.locationSize;L++)S(A.location+L,x/A.locationSize,w,v,x*b,x/A.locationSize*L*b)}}else if(void 0!==c){var M=c[d];if(void 0!==M)switch(M.length){case 2:e.vertexAttrib2fv(A.location,M);break;case 3:e.vertexAttrib3fv(A.location,M);break;case 4:e.vertexAttrib4fv(A.location,M);break;default:e.vertexAttrib1fv(A.location,M)}}}}m()}(a,l,d,g),null!==v&&e.bindBuffer(34963,t.get(v).buffer))},reset:g,resetDefaultState:v,dispose:function(){for(var e in g(),s){var n=s[e];for(var t in n){var r=n[t];for(var a in r)d(r[a].object),delete r[a];delete n[t]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var n=s[e.id];for(var t in n){var r=n[t];for(var a in r)d(r[a].object),delete r[a];delete n[t]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var n in s){var t=s[n];if(void 0!==t[e.id]){var r=t[e.id];for(var a in r)d(r[a].object),delete r[a];delete t[e.id]}}},initAttributes:f,enableAttribute:h,disableUnusedAttributes:m}}function zu(e,n,t,r){var a,i=r.isWebGL2;this.setMode=function(e){a=e},this.render=function(n,r){e.drawArrays(a,n,r),t.update(r,a,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(i)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=n.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](a,r,o,s),t.update(o,a,s)}}}function Hu(e,n,t){var r;function a(n){if("highp"===n){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";n="mediump"}return"mediump"===n&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var i="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==t.precision?t.precision:"highp",s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=i||n.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,c=e.getParameter(34930),d=e.getParameter(35660),A=e.getParameter(3379),f=e.getParameter(34076),h=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),S=e.getParameter(36349),g=d>0,v=i||n.has("OES_texture_float");return{isWebGL2:i,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===n.has("EXT_texture_filter_anisotropic")){var t=n.get("EXT_texture_filter_anisotropic");r=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:d,maxTextureSize:A,maxCubemapSize:f,maxAttributes:h,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:S,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v,maxSamples:i?e.getParameter(36183):0}}function Wu(e){var n=this,t=null,r=0,a=!1,i=!1,o=new Pu,s=new $o,l={value:null,needsUpdate:!1};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function c(e,t,r,a){var i=null!==e?e.length:0,u=null;if(0!==i){if(u=l.value,!0!==a||null===u){var c=r+4*i,d=t.matrixWorldInverse;s.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var A=0,f=r;A!==i;++A,f+=4)o.copy(e[A]).applyMatrix4(d,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return n.numPlanes=i,n.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,i){var o=0!==e.length||n||0!==r||a;return a=n,t=c(e,i,0),r=e.length,o},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(n,o,s){var d=n.clippingPlanes,A=n.clipIntersection,f=n.clipShadows,h=e.get(n);if(!a||null===d||0===d.length||i&&!f)i?c(null):u();else{var p=i?0:r,m=4*p,S=h.clippingState||null;l.value=S,S=c(d,o,m,s);for(var g=0;g!==m;++g)S[g]=t[g];h.clippingState=S,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=p}}}function Xu(e){var n=new WeakMap;function t(e,n){return n===Fi?e.mapping=Ei:n===Ti&&(e.mapping=Di),e}function r(e){var t=e.target;t.removeEventListener("dispose",r);var a=n.get(t);void 0!==a&&(n.delete(t),a.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){var i=a.mapping;if(i===Fi||i===Ti){if(n.has(a))return t(n.get(a).texture,a.mapping);var o=a.image;if(o&&o.height>0){var s=new Eu(o.height/2);return s.fromEquirectangularTexture(e,a),n.set(a,s),a.addEventListener("dispose",r),t(s.texture,a.mapping)}return null}}return a},dispose:function(){n=new WeakMap}}}ju.physical={uniforms:vu([ju.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Zo(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new us(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Zo},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new us(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new us(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ou.meshphysical_vert,fragmentShader:Ou.meshphysical_frag};var Ku=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return r(this,t),(e=n.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=a,e.right=i,e.top=o,e.bottom=s,e.near=l,e.far=u,e.updateProjectionMatrix(),e}return i(t,[{key:"copy",value:function(e,n){return Si(l(t.prototype),"copy",this).call(this,e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,n,t,r,a,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=t,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),t=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=t-e,i=t+e,o=r+n,s=r-n;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i=(a+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(a,i,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}}]),t}(yu);Ku.prototype.isOrthographicCamera=!0;var qu=[.125,.215,.35,.446,.526,.582],Yu=20,Qu=new Ku,Ju=new us,Zu=null,$u=(1+Math.sqrt(5))/2,ec=1/$u,nc=[new _s(1,1,1),new _s(-1,1,1),new _s(1,1,-1),new _s(-1,1,-1),new _s(0,$u,ec),new _s(0,$u,-ec),new _s(ec,0,$u),new _s(-ec,0,$u),new _s($u,ec,0),new _s(-$u,ec,0)],tc=function(){function e(n){r(this,e),this._renderer=n,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return i(e,[{key:"fromScene",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Zu=this._renderer.getRenderTarget(),this._setSize(256);var a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,t,r,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}},{key:"fromEquirectangular",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,n)}},{key:"fromCubemap",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,n)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=oc(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=ic(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Zu),e.scissorTest=!1,ac(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,n){e.mapping===Ei||e.mapping===Di?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Zu=this._renderer.getRenderTarget();var t=n||this._allocateTargets();return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize-32,t={magFilter:Ni,minFilter:Ni,generateMipmaps:!1,type:Xi,format:qi,encoding:Po,depthBuffer:!1},r=rc(e,n,t);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=rc(e,n,t);var a=this._lodMax,i=function(e){for(var n=[],t=[],r=[],a=e,i=e-4+1+qu.length,o=0;o<i;o++){var s=Math.pow(2,a);t.push(s);var l=1/s;o>e-4?l=qu[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-1),c=-u/2,d=1+u/2,A=[c,c,d,c,d,d,c,c,d,d,c,d],f=6,h=6,p=3,m=2,S=1,g=new Float32Array(p*h*f),v=new Float32Array(m*h*f),x=new Float32Array(S*h*f),_=0;_<f;_++){var y=_%3*2/3-1,w=_>2?0:-1,b=[y,w,0,y+2/3,w,0,y+2/3,w+1,0,y,w,0,y+2/3,w+1,0,y,w+1,0];g.set(b,p*h*_),v.set(A,m*h*_);var V=[_,_,_,_,_,_];x.set(V,S*h*_)}var C=new Jl;C.setAttribute("position",new jl(g,p)),C.setAttribute("uv",new jl(v,m)),C.setAttribute("faceIndex",new jl(x,S)),n.push(C),a>4&&a--}return{lodPlanes:n,sizeLods:t,sigmas:r}}(a);this._sizeLods=i.sizeLods,this._lodPlanes=i.lodPlanes,this._sigmas=i.sigmas,this._blurMaterial=function(e,n,t){var r=new Float32Array(Yu),a=new _s(0,1,0);return new _u({name:"SphericalGaussianBlur",defines:{n:Yu,CUBEUV_TEXEL_WIDTH:1/n,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(a,e,n)}return r}},{key:"_compileMaterial",value:function(e){var n=new pu(this._lodPlanes[0],e);this._renderer.compile(n,Qu)}},{key:"_sceneToCubeUV",value:function(e,n,t,r){var a=new wu(90,1,n,t),i=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(Ju),s.toneMapping=0,s.autoClear=!1;var c=new Il({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new pu(new Su,c),A=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,A=!0):(c.color.copy(Ju),A=!0);for(var h=0;h<6;h++){var p=h%3;0===p?(a.up.set(0,i[h],0),a.lookAt(o[h],0,0)):1===p?(a.up.set(0,0,i[h]),a.lookAt(0,o[h],0)):(a.up.set(0,i[h],0),a.lookAt(0,0,o[h]));var m=this._cubeSize;ac(r,p*m,h>2?m:0,m,m),s.setRenderTarget(r),A&&s.render(d,a),s.render(e,a)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}},{key:"_textureToCubeUV",value:function(e,n){var t=this._renderer,r=e.mapping===Ei||e.mapping===Di;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=oc()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=ic());var a=r?this._cubemapMaterial:this._equirectMaterial,i=new pu(this._lodPlanes[0],a);a.uniforms.envMap.value=e;var o=this._cubeSize;ac(n,0,0,3*o,2*o),t.setRenderTarget(n),t.render(i,Qu)}},{key:"_applyPMREM",value:function(e){var n=this._renderer,t=n.autoClear;n.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),i=nc[(r-1)%nc.length];this._blur(e,r-1,r,a,i)}n.autoClear=t}},{key:"_blur",value:function(e,n,t,r,a){var i=this._pingPongRenderTarget;this._halfBlur(e,i,n,t,r,"latitudinal",a),this._halfBlur(i,e,t,t,r,"longitudinal",a)}},{key:"_halfBlur",value:function(e,n,t,r,a,i,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==i&&"longitudinal"!==i&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new pu(this._lodPlanes[r],l),c=l.uniforms,d=this._sizeLods[t]-1,A=isFinite(a)?Math.PI/(2*d):2*Math.PI/39,f=a/A,h=isFinite(a)?1+Math.floor(3*f):Yu;h>Yu&&console.warn("sigmaRadians, ".concat(a,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(Yu));for(var p=[],m=0,S=0;S<Yu;++S){var g=S/f,v=Math.exp(-g*g/2);p.push(v),0===S?m+=v:S<h&&(m+=2*v)}for(var x=0;x<p.length;x++)p[x]=p[x]/m;c.envMap.value=e.texture,c.samples.value=h,c.weights.value=p,c.latitudinal.value="latitudinal"===i,o&&(c.poleAxis.value=o);var _=this._lodMax;c.dTheta.value=A,c.mipInt.value=_-t;var y=this._sizeLods[r];ac(n,3*y*(r>_-4?r-_+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(n),s.render(u,Qu)}}]),e}();function rc(e,n,t){var r=new ms(e,n,t);return r.texture.mapping=Pi,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ac(e,n,t,r,a){e.viewport.set(n,t,r,a),e.scissor.set(n,t,r,a)}function ic(){return new _u({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function oc(){return new _u({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function sc(e){var n=new WeakMap,t=null;function r(e){var t=e.target;t.removeEventListener("dispose",r);var a=n.get(t);void 0!==a&&(n.delete(t),a.dispose())}return{get:function(a){if(a&&a.isTexture){var i=a.mapping,o=i===Fi||i===Ti,s=i===Ei||i===Di;if(o||s){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;var l=n.get(a);return null===t&&(t=new tc(e)),l=o?t.fromEquirectangular(a,l):t.fromCubemap(a,l),n.set(a,l),l.texture}if(n.has(a))return n.get(a).texture;var u=a.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var n=0,t=6,r=0;r<t;r++)void 0!==e[r]&&n++;return n===t}(u)){null===t&&(t=new tc(e));var c=o?t.fromEquirectangular(a):t.fromCubemap(a);return n.set(a,c),a.addEventListener("dispose",r),c.texture}return null}}return a},dispose:function(){n=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function lc(e){var n={};function t(t){if(void 0!==n[t])return n[t];var r;switch(t){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(t)}return n[t]=r,r}return{has:function(e){return null!==t(e)},init:function(e){e.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(e){var n=t(e);return null===n&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),n}}}function uc(e,n,t,r){var a={},i=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&n.remove(s.index),s.attributes)n.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete a[s.id];var u=i.get(s);u&&(n.remove(u),i.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,t.memory.geometries--}function s(e){var t=[],r=e.index,a=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],A=s[l+2];t.push(c,d,d,A,A,c)}}else{var f=a.array;o=a.version;for(var h=0,p=f.length/3-1;h<p;h+=3){var m=h+0,S=h+1,g=h+2;t.push(m,S,S,g,g,m)}}var v=new(es(t)?Gl:Ul)(t,1);v.version=o;var x=i.get(e);x&&n.remove(x),i.set(e,v)}return{get:function(e,n){return!0===a[n.id]||(n.addEventListener("dispose",o),a[n.id]=!0,t.memory.geometries++),n},update:function(e){var t=e.attributes;for(var r in t)n.update(t[r],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,l=o.length;s<l;s++)n.update(o[s],34962)},getWireframeAttribute:function(e){var n=i.get(e);if(n){var t=e.index;null!==t&&n.version<t.version&&s(e)}else s(e);return i.get(e)}}}function cc(e,n,t,r){var a,i,o,s=r.isWebGL2;this.setMode=function(e){a=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(n,r){e.drawElements(a,r,i,n*o),t.update(r,a,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=n.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](a,l,i,r*o,u),t.update(l,a,u)}}}function dc(e){var n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function(e,t,r){switch(n.calls++,t){case 4:n.triangles+=r*(e/3);break;case 1:n.lines+=r*(e/2);break;case 3:n.lines+=r*(e-1);break;case 2:n.lines+=r*e;break;case 0:n.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t)}}}}function Ac(e,n){return e[0]-n[0]}function fc(e,n){return Math.abs(n[1])-Math.abs(e[1])}function hc(e,n){var t=1,r=n.isInterleavedBufferAttribute?n.data.array:n.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(t)}function pc(e,n,t){for(var r={},a=new Float32Array(8),i=new WeakMap,o=new ps,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,d){var A=l.morphTargetInfluences;if(!0===n.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,h=void 0!==f?f.length:0,p=i.get(u);if(void 0===p||p.count!==h){void 0!==p&&p.texture.dispose();var m=void 0!==u.morphAttributes.position,S=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,v=u.morphAttributes.position||[],x=u.morphAttributes.normal||[],_=u.morphAttributes.color||[],y=0;!0===m&&(y=1),!0===S&&(y=2),!0===g&&(y=3);var w=u.attributes.position.count*y,b=1;w>n.maxTextureSize&&(b=Math.ceil(w/n.maxTextureSize),w=n.maxTextureSize);var V=new Float32Array(w*b*4*h),C=new Ss(V,w,b,h);C.format=qi,C.type=Wi,C.needsUpdate=!0;for(var E=4*y,D=0;D<h;D++)for(var F=v[D],T=x[D],P=_[D],R=w*b*4*D,L=0;L<F.count;L++){var M=L*E;!0===m&&(o.fromBufferAttribute(F,L),!0===F.normalized&&hc(o,F),V[R+M+0]=o.x,V[R+M+1]=o.y,V[R+M+2]=o.z,V[R+M+3]=0),!0===S&&(o.fromBufferAttribute(T,L),!0===T.normalized&&hc(o,T),V[R+M+4]=o.x,V[R+M+5]=o.y,V[R+M+6]=o.z,V[R+M+7]=0),!0===g&&(o.fromBufferAttribute(P,L),!0===P.normalized&&hc(o,T),V[R+M+8]=o.x,V[R+M+9]=o.y,V[R+M+10]=o.z,V[R+M+11]=4===P.itemSize?o.w:1)}p={count:h,texture:C,size:new Zo(w,b)},i.set(u,p),u.addEventListener("dispose",(function e(){C.dispose(),i.delete(u),u.removeEventListener("dispose",e)}))}for(var B=0,k=0;k<A.length;k++)B+=A[k];var I=u.morphTargetsRelative?1:1-B;d.getUniforms().setValue(e,"morphTargetBaseInfluence",I),d.getUniforms().setValue(e,"morphTargetInfluences",A),d.getUniforms().setValue(e,"morphTargetsTexture",p.texture,t),d.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var O=void 0===A?0:A.length,N=r[u.id];if(void 0===N||N.length!==O){N=[];for(var j=0;j<O;j++)N[j]=[j,0];r[u.id]=N}for(var U=0;U<O;U++){var G=N[U];G[0]=U,G[1]=A[U]}N.sort(fc);for(var z=0;z<8;z++)z<O&&N[z][1]?(s[z][0]=N[z][0],s[z][1]=N[z][1]):(s[z][0]=Number.MAX_SAFE_INTEGER,s[z][1]=0);s.sort(Ac);for(var H=u.morphAttributes.position,W=u.morphAttributes.normal,X=0,K=0;K<8;K++){var q=s[K],Y=q[0],Q=q[1];Y!==Number.MAX_SAFE_INTEGER&&Q?(H&&u.getAttribute("morphTarget"+K)!==H[Y]&&u.setAttribute("morphTarget"+K,H[Y]),W&&u.getAttribute("morphNormal"+K)!==W[Y]&&u.setAttribute("morphNormal"+K,W[Y]),a[K]=Q,X+=Q):(H&&!0===u.hasAttribute("morphTarget"+K)&&u.deleteAttribute("morphTarget"+K),W&&!0===u.hasAttribute("morphNormal"+K)&&u.deleteAttribute("morphNormal"+K),a[K]=0)}var J=u.morphTargetsRelative?1:1-X;d.getUniforms().setValue(e,"morphTargetBaseInfluence",J),d.getUniforms().setValue(e,"morphTargetInfluences",a)}}}}function mc(e,n,t,r){var a=new WeakMap;function i(e){var n=e.target;n.removeEventListener("dispose",i),t.remove(n.instanceMatrix),null!==n.instanceColor&&t.remove(n.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,l=n.get(e,s);return a.get(l)!==o&&(n.update(l),a.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",i)&&e.addEventListener("dispose",i),t.update(e.instanceMatrix,34962),null!==e.instanceColor&&t.update(e.instanceColor,34962)),l},dispose:function(){a=new WeakMap}}}var Sc=new hs,gc=new Ss,vc=new gs,xc=new Cu,_c=[],yc=[],wc=new Float32Array(16),bc=new Float32Array(9),Vc=new Float32Array(4);function Cc(e,n,t){var r=e[0];if(r<=0||r>0)return e;var a=n*t,i=_c[a];if(void 0===i&&(i=new Float32Array(a),_c[a]=i),0!==n){r.toArray(i,0);for(var o=1,s=0;o!==n;++o)s+=t,e[o].toArray(i,s)}return i}function Ec(e,n){if(e.length!==n.length)return!1;for(var t=0,r=e.length;t<r;t++)if(e[t]!==n[t])return!1;return!0}function Dc(e,n){for(var t=0,r=n.length;t<r;t++)e[t]=n[t]}function Fc(e,n){var t=yc[n];void 0===t&&(t=new Int32Array(n),yc[n]=t);for(var r=0;r!==n;++r)t[r]=e.allocateTextureUnit();return t}function Tc(e,n){var t=this.cache;t[0]!==n&&(e.uniform1f(this.addr,n),t[0]=n)}function Pc(e,n){var t=this.cache;if(void 0!==n.x)t[0]===n.x&&t[1]===n.y||(e.uniform2f(this.addr,n.x,n.y),t[0]=n.x,t[1]=n.y);else{if(Ec(t,n))return;e.uniform2fv(this.addr,n),Dc(t,n)}}function Rc(e,n){var t=this.cache;if(void 0!==n.x)t[0]===n.x&&t[1]===n.y&&t[2]===n.z||(e.uniform3f(this.addr,n.x,n.y,n.z),t[0]=n.x,t[1]=n.y,t[2]=n.z);else if(void 0!==n.r)t[0]===n.r&&t[1]===n.g&&t[2]===n.b||(e.uniform3f(this.addr,n.r,n.g,n.b),t[0]=n.r,t[1]=n.g,t[2]=n.b);else{if(Ec(t,n))return;e.uniform3fv(this.addr,n),Dc(t,n)}}function Lc(e,n){var t=this.cache;if(void 0!==n.x)t[0]===n.x&&t[1]===n.y&&t[2]===n.z&&t[3]===n.w||(e.uniform4f(this.addr,n.x,n.y,n.z,n.w),t[0]=n.x,t[1]=n.y,t[2]=n.z,t[3]=n.w);else{if(Ec(t,n))return;e.uniform4fv(this.addr,n),Dc(t,n)}}function Mc(e,n){var t=this.cache,r=n.elements;if(void 0===r){if(Ec(t,n))return;e.uniformMatrix2fv(this.addr,!1,n),Dc(t,n)}else{if(Ec(t,r))return;Vc.set(r),e.uniformMatrix2fv(this.addr,!1,Vc),Dc(t,r)}}function Bc(e,n){var t=this.cache,r=n.elements;if(void 0===r){if(Ec(t,n))return;e.uniformMatrix3fv(this.addr,!1,n),Dc(t,n)}else{if(Ec(t,r))return;bc.set(r),e.uniformMatrix3fv(this.addr,!1,bc),Dc(t,r)}}function kc(e,n){var t=this.cache,r=n.elements;if(void 0===r){if(Ec(t,n))return;e.uniformMatrix4fv(this.addr,!1,n),Dc(t,n)}else{if(Ec(t,r))return;wc.set(r),e.uniformMatrix4fv(this.addr,!1,wc),Dc(t,r)}}function Ic(e,n){var t=this.cache;t[0]!==n&&(e.uniform1i(this.addr,n),t[0]=n)}function Oc(e,n){var t=this.cache;Ec(t,n)||(e.uniform2iv(this.addr,n),Dc(t,n))}function Nc(e,n){var t=this.cache;Ec(t,n)||(e.uniform3iv(this.addr,n),Dc(t,n))}function jc(e,n){var t=this.cache;Ec(t,n)||(e.uniform4iv(this.addr,n),Dc(t,n))}function Uc(e,n){var t=this.cache;t[0]!==n&&(e.uniform1ui(this.addr,n),t[0]=n)}function Gc(e,n){var t=this.cache;Ec(t,n)||(e.uniform2uiv(this.addr,n),Dc(t,n))}function zc(e,n){var t=this.cache;Ec(t,n)||(e.uniform3uiv(this.addr,n),Dc(t,n))}function Hc(e,n){var t=this.cache;Ec(t,n)||(e.uniform4uiv(this.addr,n),Dc(t,n))}function Wc(e,n,t){var r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),t.setTexture2D(n||Sc,a)}function Xc(e,n,t){var r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),t.setTexture3D(n||vc,a)}function Kc(e,n,t){var r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),t.setTextureCube(n||xc,a)}function qc(e,n,t){var r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),t.setTexture2DArray(n||gc,a)}function Yc(e,n){e.uniform1fv(this.addr,n)}function Qc(e,n){var t=Cc(n,this.size,2);e.uniform2fv(this.addr,t)}function Jc(e,n){var t=Cc(n,this.size,3);e.uniform3fv(this.addr,t)}function Zc(e,n){var t=Cc(n,this.size,4);e.uniform4fv(this.addr,t)}function $c(e,n){var t=Cc(n,this.size,4);e.uniformMatrix2fv(this.addr,!1,t)}function ed(e,n){var t=Cc(n,this.size,9);e.uniformMatrix3fv(this.addr,!1,t)}function nd(e,n){var t=Cc(n,this.size,16);e.uniformMatrix4fv(this.addr,!1,t)}function td(e,n){e.uniform1iv(this.addr,n)}function rd(e,n){e.uniform2iv(this.addr,n)}function ad(e,n){e.uniform3iv(this.addr,n)}function id(e,n){e.uniform4iv(this.addr,n)}function od(e,n){e.uniform1uiv(this.addr,n)}function sd(e,n){e.uniform2uiv(this.addr,n)}function ld(e,n){e.uniform3uiv(this.addr,n)}function ud(e,n){e.uniform4uiv(this.addr,n)}function cd(e,n,t){var r=n.length,a=Fc(t,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)t.setTexture2D(n[i]||Sc,a[i])}function dd(e,n,t){var r=n.length,a=Fc(t,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)t.setTexture3D(n[i]||vc,a[i])}function Ad(e,n,t){var r=n.length,a=Fc(t,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)t.setTextureCube(n[i]||xc,a[i])}function fd(e,n,t){var r=n.length,a=Fc(t,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)t.setTexture2DArray(n[i]||gc,a[i])}function hd(e,n,t){this.id=e,this.addr=t,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Tc;case 35664:return Pc;case 35665:return Rc;case 35666:return Lc;case 35674:return Mc;case 35675:return Bc;case 35676:return kc;case 5124:case 35670:return Ic;case 35667:case 35671:return Oc;case 35668:case 35672:return Nc;case 35669:case 35673:return jc;case 5125:return Uc;case 36294:return Gc;case 36295:return zc;case 36296:return Hc;case 35678:case 36198:case 36298:case 36306:case 35682:return Wc;case 35679:case 36299:case 36307:return Xc;case 35680:case 36300:case 36308:case 36293:return Kc;case 36289:case 36303:case 36311:case 36292:return qc}}(n.type)}function pd(e,n,t){this.id=e,this.addr=t,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return Yc;case 35664:return Qc;case 35665:return Jc;case 35666:return Zc;case 35674:return $c;case 35675:return ed;case 35676:return nd;case 5124:case 35670:return td;case 35667:case 35671:return rd;case 35668:case 35672:return ad;case 35669:case 35673:return id;case 5125:return od;case 36294:return sd;case 36295:return ld;case 36296:return ud;case 35678:case 36198:case 36298:case 36306:case 35682:return cd;case 35679:case 36299:case 36307:return dd;case 35680:case 36300:case 36308:case 36293:return Ad;case 36289:case 36303:case 36311:case 36292:return fd}}(n.type)}function md(e){this.id=e,this.seq=[],this.map={}}pd.prototype.updateCache=function(e){var n=this.cache;e instanceof Float32Array&&n.length!==e.length&&(this.cache=new Float32Array(e.length)),Dc(n,e)},md.prototype.setValue=function(e,n,t){for(var r=this.seq,a=0,i=r.length;a!==i;++a){var o=r[a];o.setValue(e,n[o.id],t)}};var Sd=/(\w+)(\])?(\[|\.)?/g;function gd(e,n){e.seq.push(n),e.map[n.id]=n}function vd(e,n,t){var r=e.name,a=r.length;for(Sd.lastIndex=0;;){var i=Sd.exec(r),o=Sd.lastIndex,s=i[1],l="]"===i[2],u=i[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===a){gd(t,void 0===u?new hd(s,e,n):new pd(s,e,n));break}var c=t.map[s];void 0===c&&gd(t,c=new md(s)),t=c}}function xd(e,n){this.seq=[],this.map={};for(var t=e.getProgramParameter(n,35718),r=0;r<t;++r){var a=e.getActiveUniform(n,r);vd(a,e.getUniformLocation(n,a.name),this)}}function _d(e,n,t){var r=e.createShader(n);return e.shaderSource(r,t),e.compileShader(r),r}xd.prototype.setValue=function(e,n,t,r){var a=this.map[n];void 0!==a&&a.setValue(e,t,r)},xd.prototype.setOptional=function(e,n,t){var r=n[t];void 0!==r&&this.setValue(e,t,r)},xd.upload=function(e,n,t,r){for(var a=0,i=n.length;a!==i;++a){var o=n[a],s=t[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},xd.seqWithValue=function(e,n){for(var t=[],r=0,a=e.length;r!==a;++r){var i=e[r];i.id in n&&t.push(i)}return t};var yd=0;function wd(e,n,t){var r=e.getShaderParameter(n,35713),a=e.getShaderInfoLog(n).trim();return r&&""===a?"":t.toUpperCase()+"\n\n"+a+"\n\n"+function(e){for(var n=e.split("\n"),t=0;t<n.length;t++)n[t]=t+1+": "+n[t];return n.join("\n")}(e.getShaderSource(n))}function bd(e,n){var t=function(e){switch(e){case Po:return["Linear","( value )"];case Ro:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(n);return"vec4 "+e+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Vd(e,n){var t;switch(n){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),t="Linear"}return"vec3 "+e+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Cd(e){return""!==e}function Ed(e,n){return e.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function Dd(e,n){return e.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}var Fd=/^[ \t]*#include +<([\w\d./]+)>/gm;function Td(e){return e.replace(Fd,Pd)}function Pd(e,n){var t=Ou[n];if(void 0===t)throw new Error("Can not resolve #include <"+n+">");return Td(t)}var Rd=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ld=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Md(e){return e.replace(Ld,kd).replace(Rd,Bd)}function Bd(e,n,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),kd(e,n,t,r)}function kd(e,n,t,r){for(var a="",i=parseInt(n);i<parseInt(t);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function Id(e){var n="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?n+="\n#define HIGH_PRECISION":"mediump"===e.precision?n+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(n+="\n#define LOW_PRECISION"),n}function Od(e,n,t,r){var a,i,o=e.getContext(),s=t.defines,l=t.vertexShader,u=t.fragmentShader,c=function(e){var n="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?n="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?n="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(n="SHADOWMAP_TYPE_VSM"),n}(t),d=function(e){var n="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Ei:case Di:n="ENVMAP_TYPE_CUBE";break;case Pi:case Ri:n="ENVMAP_TYPE_CUBE_UV"}return n}(t),A=function(e){var n="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Di:case Ri:n="ENVMAP_MODE_REFRACTION"}return n}(t),f=function(e){var n="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:n="ENVMAP_BLENDING_MULTIPLY";break;case 1:n="ENVMAP_BLENDING_MIX";break;case 2:n="ENVMAP_BLENDING_ADD"}return n}(t),h=function(e){var n=e.envMapCubeUVHeight;if(null===n)return null;var t=Math.log2(n/32+1)+3,r=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),p=t.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Cd).join("\n")}(t),m=function(e){var n=[];for(var t in e){var r=e[t];!1!==r&&n.push("#define "+t+" "+r)}return n.join("\n")}(s),S=o.createProgram(),g=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?((a=[m].filter(Cd).join("\n")).length>0&&(a+="\n"),(i=[p,m].filter(Cd).join("\n")).length>0&&(i+="\n")):(a=[Id(t),"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+A:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Cd).join("\n"),i=[p,Id(t),"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+A:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?Ou.tonemapping_pars_fragment:"",0!==t.toneMapping?Vd("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ou.encodings_pars_fragment,bd("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Cd).join("\n")),l=Dd(l=Ed(l=Td(l),t),t),u=Dd(u=Ed(u=Td(u),t),t),l=Md(l),u=Md(u),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(g="#version 300 es\n",a=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,i=["#define varying in",t.glslVersion===ko?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ko?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+i);var v,x,_=g+i+u,y=_d(o,35633,g+a+l),w=_d(o,35632,_);if(o.attachShader(S,y),o.attachShader(S,w),void 0!==t.index0AttributeName?o.bindAttribLocation(S,0,t.index0AttributeName):!0===t.morphTargets&&o.bindAttribLocation(S,0,"position"),o.linkProgram(S),e.debug.checkShaderErrors){var b=o.getProgramInfoLog(S).trim(),V=o.getShaderInfoLog(y).trim(),C=o.getShaderInfoLog(w).trim(),E=!0,D=!0;if(!1===o.getProgramParameter(S,35714)){E=!1;var F=wd(o,y,"vertex"),T=wd(o,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(S,35715)+"\n\nProgram Info Log: "+b+"\n"+F+"\n"+T)}else""!==b?console.warn("THREE.WebGLProgram: Program Info Log:",b):""!==V&&""!==C||(D=!1);D&&(this.diagnostics={runnable:E,programLog:b,vertexShader:{log:V,prefix:a},fragmentShader:{log:C,prefix:i}})}return o.deleteShader(y),o.deleteShader(w),this.getUniforms=function(){return void 0===v&&(v=new xd(o,S)),v},this.getAttributes=function(){return void 0===x&&(x=function(e,n){for(var t={},r=e.getProgramParameter(n,35721),a=0;a<r;a++){var i=e.getActiveAttrib(n,a),o=i.name,s=1;35674===i.type&&(s=2),35675===i.type&&(s=3),35676===i.type&&(s=4),t[o]={type:i.type,location:e.getAttribLocation(n,o),locationSize:s}}return t}(o,S)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=yd++,this.cacheKey=n,this.usedTimes=1,this.program=S,this.vertexShader=y,this.fragmentShader=w,this}var Nd=0,jd=function(){function e(){r(this,e),this.shaderCache=new Map,this.materialCache=new Map}return i(e,[{key:"update",value:function(e){var n=e.vertexShader,t=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(t),i=this._getShaderCacheForMaterial(e);return!1===i.has(r)&&(i.add(r),r.usedTimes++),!1===i.has(a)&&(i.add(a),a.usedTimes++),this}},{key:"remove",value:function(e){var n,t=L(this.materialCache.get(e));try{for(t.s();!(n=t.n()).done;){var r=n.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r)}}catch(a){t.e(a)}finally{t.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var n=this.materialCache;return!1===n.has(e)&&n.set(e,new Set),n.get(e)}},{key:"_getShaderStage",value:function(e){var n=this.shaderCache;if(!1===n.has(e)){var t=new Ud;n.set(e,t)}return n.get(e)}}]),e}(),Ud=i((function e(){r(this,e),this.id=Nd++,this.usedTimes=0}));function Gd(e,n,t,r,a,i,o){var s=new ul,l=new jd,u=[],c=a.isWebGL2,d=a.logarithmicDepthBuffer,A=a.floatVertexTextures,f=a.maxVertexUniforms,h=a.vertexTextures,p=a.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(i,s,u,S,g){var v=S.fog,x=g.geometry,_=i.isMeshStandardMaterial?S.environment:null,y=(i.isMeshStandardMaterial?t:n).get(i.envMap||_),w=!y||y.mapping!==Pi&&y.mapping!==Ri?null:y.image.height,b=m[i.type],V=g.isSkinnedMesh?function(e){var n=e.skeleton.bones;if(A)return 1024;var t=f,r=Math.floor((t-20)/4),a=Math.min(r,n.length);return a<n.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+n.length+" bones. This GPU supports "+a+"."),0):a}(g):0;null!==i.precision&&(p=a.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",p,"instead.");var C,E,D,F,T=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,P=void 0!==T?T.length:0,R=0;if(void 0!==x.morphAttributes.position&&(R=1),void 0!==x.morphAttributes.normal&&(R=2),void 0!==x.morphAttributes.color&&(R=3),b){var L=ju[b];C=L.vertexShader,E=L.fragmentShader}else C=i.vertexShader,E=i.fragmentShader,l.update(i),D=l.getVertexShaderID(i),F=l.getFragmentShaderID(i);var M=e.getRenderTarget(),B=i.alphaTest>0,k=i.clearcoat>0;return{isWebGL2:c,shaderID:b,shaderName:i.type,vertexShader:C,fragmentShader:E,defines:i.defines,customVertexShaderID:D,customFragmentShaderID:F,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:p,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:h,outputEncoding:null===M?e.outputEncoding:!0===M.isXRRenderTarget?M.texture.encoding:Po,map:!!i.map,matcap:!!i.matcap,envMap:!!y,envMapMode:y&&y.mapping,envMapCubeUVHeight:w,lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,decodeVideoTexture:!!i.map&&!0===i.map.isVideoTexture&&i.map.encoding===Ro,clearcoat:k,clearcoatMap:k&&!!i.clearcoatMap,clearcoatRoughnessMap:k&&!!i.clearcoatRoughnessMap,clearcoatNormalMap:k&&!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,specularIntensityMap:!!i.specularIntensityMap,specularColorMap:!!i.specularColorMap,opaque:!1===i.transparent&&1===i.blending,alphaMap:!!i.alphaMap,alphaTest:B,gradientMap:!!i.gradientMap,sheen:i.sheen>0,sheenColorMap:!!i.sheenColorMap,sheenRoughnessMap:!!i.sheenRoughnessMap,transmission:i.transmission>0,transmissionMap:!!i.transmissionMap,thicknessMap:!!i.thicknessMap,combine:i.combine,vertexTangents:!!i.normalMap&&!!x.attributes.tangent,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmissionMap||!!i.thicknessMap||!!i.specularIntensityMap||!!i.specularColorMap||!!i.sheenColorMap||!!i.sheenRoughnessMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmission>0||i.transmissionMap||i.thicknessMap||i.specularIntensityMap||i.specularColorMap||i.sheen>0||i.sheenColorMap||i.sheenRoughnessMap)&&!!i.displacementMap,fog:!!v,useFog:i.fog,fogExp2:v&&v.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===g.isSkinnedMesh&&V>0,maxBones:V,useVertexTexture:A,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:P,morphTextureStride:R,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(n){var t=[];if(n.shaderID?t.push(n.shaderID):(t.push(n.customVertexShaderID),t.push(n.customFragmentShaderID)),void 0!==n.defines)for(var r in n.defines)t.push(r),t.push(n.defines[r]);return!1===n.isRawShaderMaterial&&(!function(e,n){e.push(n.precision),e.push(n.outputEncoding),e.push(n.envMapMode),e.push(n.envMapCubeUVHeight),e.push(n.combine),e.push(n.vertexUvs),e.push(n.fogExp2),e.push(n.sizeAttenuation),e.push(n.maxBones),e.push(n.morphTargetsCount),e.push(n.morphAttributeCount),e.push(n.numDirLights),e.push(n.numPointLights),e.push(n.numSpotLights),e.push(n.numHemiLights),e.push(n.numRectAreaLights),e.push(n.numDirLightShadows),e.push(n.numPointLightShadows),e.push(n.numSpotLightShadows),e.push(n.shadowMapType),e.push(n.toneMapping),e.push(n.numClippingPlanes),e.push(n.numClipIntersection)}(t,n),function(e,n){s.disableAll(),n.isWebGL2&&s.enable(0);n.supportsVertexTextures&&s.enable(1);n.instancing&&s.enable(2);n.instancingColor&&s.enable(3);n.map&&s.enable(4);n.matcap&&s.enable(5);n.envMap&&s.enable(6);n.lightMap&&s.enable(7);n.aoMap&&s.enable(8);n.emissiveMap&&s.enable(9);n.bumpMap&&s.enable(10);n.normalMap&&s.enable(11);n.objectSpaceNormalMap&&s.enable(12);n.tangentSpaceNormalMap&&s.enable(13);n.clearcoat&&s.enable(14);n.clearcoatMap&&s.enable(15);n.clearcoatRoughnessMap&&s.enable(16);n.clearcoatNormalMap&&s.enable(17);n.displacementMap&&s.enable(18);n.specularMap&&s.enable(19);n.roughnessMap&&s.enable(20);n.metalnessMap&&s.enable(21);n.gradientMap&&s.enable(22);n.alphaMap&&s.enable(23);n.alphaTest&&s.enable(24);n.vertexColors&&s.enable(25);n.vertexAlphas&&s.enable(26);n.vertexUvs&&s.enable(27);n.vertexTangents&&s.enable(28);n.uvsVertexOnly&&s.enable(29);n.fog&&s.enable(30);e.push(s.mask),s.disableAll(),n.useFog&&s.enable(0);n.flatShading&&s.enable(1);n.logarithmicDepthBuffer&&s.enable(2);n.skinning&&s.enable(3);n.useVertexTexture&&s.enable(4);n.morphTargets&&s.enable(5);n.morphNormals&&s.enable(6);n.morphColors&&s.enable(7);n.premultipliedAlpha&&s.enable(8);n.shadowMapEnabled&&s.enable(9);n.physicallyCorrectLights&&s.enable(10);n.doubleSided&&s.enable(11);n.flipSided&&s.enable(12);n.depthPacking&&s.enable(13);n.dithering&&s.enable(14);n.specularIntensityMap&&s.enable(15);n.specularColorMap&&s.enable(16);n.transmission&&s.enable(17);n.transmissionMap&&s.enable(18);n.thicknessMap&&s.enable(19);n.sheen&&s.enable(20);n.sheenColorMap&&s.enable(21);n.sheenRoughnessMap&&s.enable(22);n.decodeVideoTexture&&s.enable(23);n.opaque&&s.enable(24);e.push(s.mask)}(t,n),t.push(e.outputEncoding)),t.push(n.customProgramCacheKey),t.join()},getUniforms:function(e){var n,t=m[e.type];if(t){var r=ju[t];n=xu.clone(r.uniforms)}else n=e.uniforms;return n},acquireProgram:function(n,t){for(var r,a=0,o=u.length;a<o;a++){var s=u[a];if(s.cacheKey===t){++(r=s).usedTimes;break}}return void 0===r&&(r=new Od(e,t,n,i),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var n=u.indexOf(e);u[n]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function zd(){var e=new WeakMap;return{get:function(n){var t=e.get(n);return void 0===t&&(t={},e.set(n,t)),t},remove:function(n){e.delete(n)},update:function(n,t,r){e.get(n)[t]=r},dispose:function(){e=new WeakMap}}}function Hd(e,n){return e.groupOrder!==n.groupOrder?e.groupOrder-n.groupOrder:e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.material.id!==n.material.id?e.material.id-n.material.id:e.z!==n.z?e.z-n.z:e.id-n.id}function Wd(e,n){return e.groupOrder!==n.groupOrder?e.groupOrder-n.groupOrder:e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.z!==n.z?n.z-e.z:e.id-n.id}function Xd(){var e=[],n=0,t=[],r=[],a=[];function i(t,r,a,i,o,s){var l=e[n];return void 0===l?(l={id:t.id,object:t,geometry:r,material:a,groupOrder:i,renderOrder:t.renderOrder,z:o,group:s},e[n]=l):(l.id=t.id,l.object=t,l.geometry=r,l.material=a,l.groupOrder=i,l.renderOrder=t.renderOrder,l.z=o,l.group=s),n++,l}return{opaque:t,transmissive:r,transparent:a,init:function(){n=0,t.length=0,r.length=0,a.length=0},push:function(e,n,o,s,l,u){var c=i(e,n,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?a.push(c):t.push(c)},unshift:function(e,n,o,s,l,u){var c=i(e,n,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?a.unshift(c):t.unshift(c)},finish:function(){for(var t=n,r=e.length;t<r;t++){var a=e[t];if(null===a.id)break;a.id=null,a.object=null,a.geometry=null,a.material=null,a.group=null}},sort:function(e,n){t.length>1&&t.sort(e||Hd),r.length>1&&r.sort(n||Wd),a.length>1&&a.sort(n||Wd)}}}function Kd(){var e=new WeakMap;return{get:function(n,t){var r;return!1===e.has(n)?(r=new Xd,e.set(n,[r])):t>=e.get(n).length?(r=new Xd,e.get(n).push(r)):r=e.get(n)[t],r},dispose:function(){e=new WeakMap}}}function qd(){var e={};return{get:function(n){if(void 0!==e[n.id])return e[n.id];var t;switch(n.type){case"DirectionalLight":t={direction:new _s,color:new us};break;case"SpotLight":t={position:new _s,direction:new _s,color:new us,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new _s,color:new us,distance:0,decay:0};break;case"HemisphereLight":t={direction:new _s,skyColor:new us,groundColor:new us};break;case"RectAreaLight":t={color:new us,position:new _s,halfWidth:new _s,halfHeight:new _s}}return e[n.id]=t,t}}}var Yd=0;function Qd(e,n){return(n.castShadow?1:0)-(e.castShadow?1:0)}function Jd(e,n){for(var t=new qd,r=function(){var e={};return{get:function(n){if(void 0!==e[n.id])return e[n.id];var t;switch(n.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zo};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zo,shadowCameraNear:1,shadowCameraFar:1e3}}return e[n.id]=t,t}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)a.probe.push(new _s);var o=new _s,s=new Zs,l=new Zs;return{setup:function(i,o){for(var s=0,l=0,u=0,c=0;c<9;c++)a.probe[c].set(0,0,0);var d=0,A=0,f=0,h=0,p=0,m=0,S=0,g=0;i.sort(Qd);for(var v=!0!==o?Math.PI:1,x=0,_=i.length;x<_;x++){var y=i[x],w=y.color,b=y.intensity,V=y.distance,C=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)s+=w.r*b*v,l+=w.g*b*v,u+=w.b*b*v;else if(y.isLightProbe)for(var E=0;E<9;E++)a.probe[E].addScaledVector(y.sh.coefficients[E],b);else if(y.isDirectionalLight){var D=t.get(y);if(D.color.copy(y.color).multiplyScalar(y.intensity*v),y.castShadow){var F=y.shadow,T=r.get(y);T.shadowBias=F.bias,T.shadowNormalBias=F.normalBias,T.shadowRadius=F.radius,T.shadowMapSize=F.mapSize,a.directionalShadow[d]=T,a.directionalShadowMap[d]=C,a.directionalShadowMatrix[d]=y.shadow.matrix,m++}a.directional[d]=D,d++}else if(y.isSpotLight){var P=t.get(y);if(P.position.setFromMatrixPosition(y.matrixWorld),P.color.copy(w).multiplyScalar(b*v),P.distance=V,P.coneCos=Math.cos(y.angle),P.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),P.decay=y.decay,y.castShadow){var R=y.shadow,L=r.get(y);L.shadowBias=R.bias,L.shadowNormalBias=R.normalBias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,a.spotShadow[f]=L,a.spotShadowMap[f]=C,a.spotShadowMatrix[f]=y.shadow.matrix,g++}a.spot[f]=P,f++}else if(y.isRectAreaLight){var M=t.get(y);M.color.copy(w).multiplyScalar(b),M.halfWidth.set(.5*y.width,0,0),M.halfHeight.set(0,.5*y.height,0),a.rectArea[h]=M,h++}else if(y.isPointLight){var B=t.get(y);if(B.color.copy(y.color).multiplyScalar(y.intensity*v),B.distance=y.distance,B.decay=y.decay,y.castShadow){var k=y.shadow,I=r.get(y);I.shadowBias=k.bias,I.shadowNormalBias=k.normalBias,I.shadowRadius=k.radius,I.shadowMapSize=k.mapSize,I.shadowCameraNear=k.camera.near,I.shadowCameraFar=k.camera.far,a.pointShadow[A]=I,a.pointShadowMap[A]=C,a.pointShadowMatrix[A]=y.shadow.matrix,S++}a.point[A]=B,A++}else if(y.isHemisphereLight){var O=t.get(y);O.skyColor.copy(y.color).multiplyScalar(b*v),O.groundColor.copy(y.groundColor).multiplyScalar(b*v),a.hemi[p]=O,p++}}h>0&&(n.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=Nu.LTC_FLOAT_1,a.rectAreaLTC2=Nu.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=Nu.LTC_HALF_1,a.rectAreaLTC2=Nu.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=s,a.ambient[1]=l,a.ambient[2]=u;var N=a.hash;N.directionalLength===d&&N.pointLength===A&&N.spotLength===f&&N.rectAreaLength===h&&N.hemiLength===p&&N.numDirectionalShadows===m&&N.numPointShadows===S&&N.numSpotShadows===g||(a.directional.length=d,a.spot.length=f,a.rectArea.length=h,a.point.length=A,a.hemi.length=p,a.directionalShadow.length=m,a.directionalShadowMap.length=m,a.pointShadow.length=S,a.pointShadowMap.length=S,a.spotShadow.length=g,a.spotShadowMap.length=g,a.directionalShadowMatrix.length=m,a.pointShadowMatrix.length=S,a.spotShadowMatrix.length=g,N.directionalLength=d,N.pointLength=A,N.spotLength=f,N.rectAreaLength=h,N.hemiLength=p,N.numDirectionalShadows=m,N.numPointShadows=S,N.numSpotShadows=g,a.version=Yd++)},setupView:function(e,n){for(var t=0,r=0,i=0,u=0,c=0,d=n.matrixWorldInverse,A=0,f=e.length;A<f;A++){var h=e[A];if(h.isDirectionalLight){var p=a.directional[t];p.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),p.direction.sub(o),p.direction.transformDirection(d),t++}else if(h.isSpotLight){var m=a.spot[i];m.position.setFromMatrixPosition(h.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(d),i++}else if(h.isRectAreaLight){var S=a.rectArea[u];S.position.setFromMatrixPosition(h.matrixWorld),S.position.applyMatrix4(d),l.identity(),s.copy(h.matrixWorld),s.premultiply(d),l.extractRotation(s),S.halfWidth.set(.5*h.width,0,0),S.halfHeight.set(0,.5*h.height,0),S.halfWidth.applyMatrix4(l),S.halfHeight.applyMatrix4(l),u++}else if(h.isPointLight){var g=a.point[r];g.position.setFromMatrixPosition(h.matrixWorld),g.position.applyMatrix4(d),r++}else if(h.isHemisphereLight){var v=a.hemi[c];v.direction.setFromMatrixPosition(h.matrixWorld),v.direction.transformDirection(d),v.direction.normalize(),c++}}},state:a}}function Zd(e,n){var t=new Jd(e,n),r=[],a=[];return{init:function(){r.length=0,a.length=0},state:{lightsArray:r,shadowsArray:a,lights:t},setupLights:function(e){t.setup(r,e)},setupLightsView:function(e){t.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){a.push(e)}}}function $d(e,n){var t=new WeakMap;return{get:function(r){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===t.has(r)?(a=new Zd(e,n),t.set(r,[a])):i>=t.get(r).length?(a=new Zd(e,n),t.get(r).push(a)):a=t.get(r)[i],a},dispose:function(){t=new WeakMap}}}var eA=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="MeshDepthMaterial",a.depthPacking=3200,a.map=null,a.alphaMap=null,a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.wireframe=!1,a.wireframeLinewidth=1,a.fog=!1,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),t}(kl);eA.prototype.isMeshDepthMaterial=!0;var nA=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="MeshDistanceMaterial",a.referencePosition=new _s,a.nearDistance=1,a.farDistance=1e3,a.map=null,a.alphaMap=null,a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.fog=!1,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),t}(kl);nA.prototype.isMeshDistanceMaterial=!0;function tA(e,n,t){var r=new Mu,a=new Zo,i=new Zo,o=new ps,s=new eA({depthPacking:3201}),l=new nA,u={},c=t.maxTextureSize,d={0:1,1:0,2:2},A=new _u({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Zo},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=A.clone();f.defines.HORIZONTAL_PASS=1;var h=new Jl;h.setAttribute("position",new jl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new pu(h,A),m=this;function S(t,r){var a=n.update(p);A.defines.VSM_SAMPLES!==t.blurSamples&&(A.defines.VSM_SAMPLES=t.blurSamples,f.defines.VSM_SAMPLES=t.blurSamples,A.needsUpdate=!0,f.needsUpdate=!0),A.uniforms.shadow_pass.value=t.map.texture,A.uniforms.resolution.value=t.mapSize,A.uniforms.radius.value=t.radius,e.setRenderTarget(t.mapPass),e.clear(),e.renderBufferDirect(r,null,a,A,p,null),f.uniforms.shadow_pass.value=t.mapPass.texture,f.uniforms.resolution.value=t.mapSize,f.uniforms.radius.value=t.radius,e.setRenderTarget(t.map),e.clear(),e.renderBufferDirect(r,null,a,f,p,null)}function g(n,t,r,a,i,o){var c=null,A=!0===r.isPointLight?n.customDistanceMaterial:n.customDepthMaterial;if(c=void 0!==A?A:!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===t.clipShadows&&0!==t.clippingPlanes.length||t.displacementMap&&0!==t.displacementScale||t.alphaMap&&t.alphaTest>0){var f=c.uuid,h=t.uuid,p=u[f];void 0===p&&(p={},u[f]=p);var m=p[h];void 0===m&&(m=c.clone(),p[h]=m),c=m}return c.visible=t.visible,c.wireframe=t.wireframe,c.side=3===o?null!==t.shadowSide?t.shadowSide:t.side:null!==t.shadowSide?t.shadowSide:d[t.side],c.alphaMap=t.alphaMap,c.alphaTest=t.alphaTest,c.clipShadows=t.clipShadows,c.clippingPlanes=t.clippingPlanes,c.clipIntersection=t.clipIntersection,c.displacementMap=t.displacementMap,c.displacementScale=t.displacementScale,c.displacementBias=t.displacementBias,c.wireframeLinewidth=t.wireframeLinewidth,c.linewidth=t.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=a,c.farDistance=i),c}function v(t,a,i,o,s){if(!1!==t.visible){if(t.layers.test(a.layers)&&(t.isMesh||t.isLine||t.isPoints)&&(t.castShadow||t.receiveShadow&&3===s)&&(!t.frustumCulled||r.intersectsObject(t))){t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld);var l=n.update(t),u=t.material;if(Array.isArray(u))for(var c=l.groups,d=0,A=c.length;d<A;d++){var f=c[d],h=u[f.materialIndex];if(h&&h.visible){var p=g(t,h,o,i.near,i.far,s);e.renderBufferDirect(i,null,l,p,t,f)}}else if(u.visible){var m=g(t,u,o,i.near,i.far,s);e.renderBufferDirect(i,null,l,m,t,null)}}for(var S=t.children,x=0,_=S.length;x<_;x++)v(S[x],a,i,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(n,t,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==n.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),A=e.state;A.setBlending(0),A.buffers.color.setClear(1,1,1,1),A.buffers.depth.setTest(!0),A.setScissorTest(!1);for(var f=0,h=n.length;f<h;f++){var p=n[f],g=p.shadow;if(void 0!==g){if(!1!==g.autoUpdate||!1!==g.needsUpdate){a.copy(g.mapSize);var x=g.getFrameExtents();if(a.multiply(x),i.copy(g.mapSize),(a.x>c||a.y>c)&&(a.x>c&&(i.x=Math.floor(c/x.x),a.x=i.x*x.x,g.mapSize.x=i.x),a.y>c&&(i.y=Math.floor(c/x.y),a.y=i.y*x.y,g.mapSize.y=i.y)),null===g.map&&!g.isPointLightShadow&&3===this.type){var _={minFilter:Ni,magFilter:Ni,format:qi};g.map=new ms(a.x,a.y,_),g.map.texture.name=p.name+".shadowMap",g.mapPass=new ms(a.x,a.y,_),g.camera.updateProjectionMatrix()}if(null===g.map){var y={minFilter:ki,magFilter:ki,format:qi};g.map=new ms(a.x,a.y,y),g.map.texture.name=p.name+".shadowMap",g.camera.updateProjectionMatrix()}e.setRenderTarget(g.map),e.clear();for(var w=g.getViewportCount(),b=0;b<w;b++){var V=g.getViewport(b);o.set(i.x*V.x,i.y*V.y,i.x*V.z,i.y*V.w),A.viewport(o),g.updateMatrices(p,b),r=g.getFrustum(),v(t,s,g.camera,p,this.type)}g.isPointLightShadow||3!==this.type||S(g,s),g.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",p,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(l,u,d)}}}function rA(n,t,r){var a,i,o=r.isWebGL2;var s=new function(){var e=!1,t=new ps,r=null,a=new ps(0,0,0,0);return{setMask:function(t){r===t||e||(n.colorMask(t,t,t,t),r=t)},setLocked:function(n){e=n},setClear:function(e,r,i,o,s){!0===s&&(e*=o,r*=o,i*=o),t.set(e,r,i,o),!1===a.equals(t)&&(n.clearColor(e,r,i,o),a.copy(t))},reset:function(){e=!1,r=null,a.set(-1,0,0,0)}}},l=new function(){var e=!1,t=null,r=null,a=null;return{setTest:function(e){e?U(2929):G(2929)},setMask:function(r){t===r||e||(n.depthMask(r),t=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}else n.depthFunc(515);r=e}},setLocked:function(n){e=n},setClear:function(e){a!==e&&(n.clearDepth(e),a=e)},reset:function(){e=!1,t=null,r=null,a=null}}},u=new function(){var e=!1,t=null,r=null,a=null,i=null,o=null,s=null,l=null,u=null;return{setTest:function(n){e||(n?U(2960):G(2960))},setMask:function(r){t===r||e||(n.stencilMask(r),t=r)},setFunc:function(e,t,o){r===e&&a===t&&i===o||(n.stencilFunc(e,t,o),r=e,a=t,i=o)},setOp:function(e,t,r){o===e&&s===t&&l===r||(n.stencilOp(e,t,r),o=e,s=t,l=r)},setLocked:function(n){e=n},setClear:function(e){u!==e&&(n.clearStencil(e),u=e)},reset:function(){e=!1,t=null,r=null,a=null,i=null,o=null,s=null,l=null,u=null}}},c={},d={},A=new WeakMap,f=[],h=null,p=!1,m=null,S=null,g=null,v=null,x=null,_=null,y=null,w=!1,b=null,V=null,C=null,E=null,D=null,F=n.getParameter(35661),T=!1,P=0,R=n.getParameter(7938);-1!==R.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(R)[1]),T=P>=1):-1!==R.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),T=P>=2);var L=null,M={},B=n.getParameter(3088),k=n.getParameter(2978),I=(new ps).fromArray(B),O=(new ps).fromArray(k);function N(e,t,r){var a=new Uint8Array(4),i=n.createTexture();n.bindTexture(e,i),n.texParameteri(e,10241,9728),n.texParameteri(e,10240,9728);for(var o=0;o<r;o++)n.texImage2D(t+o,0,6408,1,1,0,6408,5121,a);return i}var j={};function U(e){!0!==c[e]&&(n.enable(e),c[e]=!0)}function G(e){!1!==c[e]&&(n.disable(e),c[e]=!1)}j[3553]=N(3553,3553,1),j[34067]=N(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),U(2929),l.setFunc(3),K(!1),q(1),U(2884),X(0);var z=(e(a={},Ci,32774),e(a,101,32778),e(a,102,32779),a);if(o)z[103]=32775,z[104]=32776;else{var H=t.get("EXT_blend_minmax");null!==H&&(z[103]=H.MIN_EXT,z[104]=H.MAX_EXT)}var W=(e(i={},200,0),e(i,201,1),e(i,202,768),e(i,204,770),e(i,210,776),e(i,208,774),e(i,206,772),e(i,203,769),e(i,205,771),e(i,209,775),e(i,207,773),i);function X(e,t,r,a,i,o,s,l){if(0!==e){if(!1===p&&(U(3042),p=!0),5===e)i=i||t,o=o||r,s=s||a,t===S&&i===x||(n.blendEquationSeparate(z[t],z[i]),S=t,x=i),r===g&&a===v&&o===_&&s===y||(n.blendFuncSeparate(W[r],W[a],W[o],W[s]),g=r,v=a,_=o,y=s),m=e,w=null;else if(e!==m||l!==w){if(S===Ci&&x===Ci||(n.blendEquation(32774),S=Ci,x=Ci),l)switch(e){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}g=null,v=null,_=null,y=null,m=e,w=l}}else!0===p&&(G(3042),p=!1)}function K(e){b!==e&&(e?n.frontFace(2304):n.frontFace(2305),b=e)}function q(e){0!==e?(U(2884),e!==V&&(1===e?n.cullFace(1029):2===e?n.cullFace(1028):n.cullFace(1032))):G(2884),V=e}function Y(e,t,r){e?(U(32823),E===t&&D===r||(n.polygonOffset(t,r),E=t,D=r)):G(32823)}function Q(e){void 0===e&&(e=33984+F-1),L!==e&&(n.activeTexture(e),L=e)}return{buffers:{color:s,depth:l,stencil:u},enable:U,disable:G,bindFramebuffer:function(e,t){return d[e]!==t&&(n.bindFramebuffer(e,t),d[e]=t,o&&(36009===e&&(d[36160]=t),36160===e&&(d[36009]=t)),!0)},drawBuffers:function(e,a){var i=f,o=!1;if(e)if(void 0===(i=A.get(a))&&(i=[],A.set(a,i)),e.isWebGLMultipleRenderTargets){var s=e.texture;if(i.length!==s.length||36064!==i[0]){for(var l=0,u=s.length;l<u;l++)i[l]=36064+l;i.length=s.length,o=!0}}else 36064!==i[0]&&(i[0]=36064,o=!0);else 1029!==i[0]&&(i[0]=1029,o=!0);o&&(r.isWebGL2?n.drawBuffers(i):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(i))},useProgram:function(e){return h!==e&&(n.useProgram(e),h=e,!0)},setBlending:X,setMaterial:function(e,n){2===e.side?G(2884):U(2884);var t=1===e.side;n&&(t=!t),K(t),1===e.blending&&!1===e.transparent?X(0):X(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),l.setFunc(e.depthFunc),l.setTest(e.depthTest),l.setMask(e.depthWrite),s.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Y(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?U(32926):G(32926)},setFlipSided:K,setCullFace:q,setLineWidth:function(e){e!==C&&(T&&n.lineWidth(e),C=e)},setPolygonOffset:Y,setScissorTest:function(e){e?U(3089):G(3089)},activeTexture:Q,bindTexture:function(e,t){null===L&&Q();var r=M[L];void 0===r&&(r={type:void 0,texture:void 0},M[L]=r),r.type===e&&r.texture===t||(n.bindTexture(e,t||j[e]),r.type=e,r.texture=t)},unbindTexture:function(){var e=M[L];void 0!==e&&void 0!==e.type&&(n.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{n.texImage2D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{n.texImage3D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage2D:function(){try{n.texStorage2D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{n.texStorage3D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{n.texSubImage2D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{n.texSubImage3D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===I.equals(e)&&(n.scissor(e.x,e.y,e.z,e.w),I.copy(e))},viewport:function(e){!1===O.equals(e)&&(n.viewport(e.x,e.y,e.z,e.w),O.copy(e))},reset:function(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===o&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},L=null,M={},d={},A=new WeakMap,f=[],h=null,p=!1,m=null,S=null,g=null,v=null,x=null,_=null,y=null,w=!1,b=null,V=null,C=null,E=null,D=null,I.set(0,0,n.canvas.width,n.canvas.height),O.set(0,0,n.canvas.width,n.canvas.height),s.reset(),l.reset(),u.reset()}}}function aA(n,t,r,a,i,o,s){var l,u,c,d=i.isWebGL2,A=i.maxTextures,f=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,m=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,S=new WeakMap,g=new WeakMap,v=!1;try{v="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function x(e,n){return v?new OffscreenCanvas(e,n):ns("canvas")}function _(e,n,t,r){var a=1;if((e.width>r||e.height>r)&&(a=r/Math.max(e.width,e.height)),a<1||!0===n){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var i=n?Qo:Math.floor,o=i(a*e.width),s=i(a*e.height);void 0===c&&(c=x(o,s));var l=t?x(o,s):c;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function y(e){return qo(e.width)&&qo(e.height)}function w(e,n){return e.generateMipmaps&&n&&e.minFilter!==ki&&e.minFilter!==Ni}function b(e){n.generateMipmap(e)}function V(e,r,a,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===d)return r;if(null!==e){if(void 0!==n[e])return n[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}var s=r;return 6403===r&&(5126===a&&(s=33326),5131===a&&(s=33325),5121===a&&(s=33321)),33319===r&&(5126===a&&(s=33328),5131===a&&(s=33327),5121===a&&(s=33323)),6408===r&&(5126===a&&(s=34836),5131===a&&(s=34842),5121===a&&(s=i===Ro&&!1===o?35907:32856),32819===a&&(s=32854),32820===a&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function C(e,n,t){return!0===w(e,t)||e.isFramebufferTexture&&e.minFilter!==ki&&e.minFilter!==Ni?Math.log2(Math.max(n.width,n.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?n.mipmaps.length:1}function E(e){return e===ki||e===Ii||e===Oi?9728:9729}function D(e){var n=e.target;n.removeEventListener("dispose",D),function(e){var n=a.get(e);if(void 0===n.__webglInit)return;var t=e.source,r=g.get(t);if(r){var i=r[n.__cacheKey];i.usedTimes--,0===i.usedTimes&&T(e),0===Object.keys(r).length&&g.delete(t)}a.remove(e)}(n),n.isVideoTexture&&S.delete(n)}function F(e){var t=e.target;t.removeEventListener("dispose",F),function(e){var t=e.texture,r=a.get(e),i=a.get(t);void 0!==i.__webglTexture&&(n.deleteTexture(i.__webglTexture),s.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)n.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&n.deleteRenderbuffer(r.__webglDepthbuffer[o]);else n.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&n.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&n.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&n.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&n.deleteRenderbuffer(r.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(var l=0,u=t.length;l<u;l++){var c=a.get(t[l]);c.__webglTexture&&(n.deleteTexture(c.__webglTexture),s.memory.textures--),a.remove(t[l])}a.remove(t),a.remove(e)}(t)}function T(e){var t=a.get(e);n.deleteTexture(t.__webglTexture);var r=e.source;delete g.get(r)[t.__cacheKey],s.memory.textures--}var P=0;function R(e,n){var t=a.get(e);if(e.isVideoTexture&&function(e){var n=s.render.frame;S.get(e)!==n&&(S.set(e,n),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&t.__version!==e.version){var i=e.image;if(null===i)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==i.complete)return void I(t,e,n);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+n),r.bindTexture(3553,t.__webglTexture)}var L=(e(l={},Li,10497),e(l,Mi,33071),e(l,Bi,33648),l),M=(e(u={},ki,9728),e(u,Ii,9984),e(u,Oi,9986),e(u,Ni,9729),e(u,ji,9985),e(u,Ui,9987),u);function B(e,r,o){if(o?(n.texParameteri(e,10242,L[r.wrapS]),n.texParameteri(e,10243,L[r.wrapT]),32879!==e&&35866!==e||n.texParameteri(e,32882,L[r.wrapR]),n.texParameteri(e,10240,M[r.magFilter]),n.texParameteri(e,10241,M[r.minFilter])):(n.texParameteri(e,10242,33071),n.texParameteri(e,10243,33071),32879!==e&&35866!==e||n.texParameteri(e,32882,33071),r.wrapS===Mi&&r.wrapT===Mi||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(e,10240,E(r.magFilter)),n.texParameteri(e,10241,E(r.minFilter)),r.minFilter!==ki&&r.minFilter!==Ni&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(r.type===Wi&&!1===t.has("OES_texture_float_linear"))return;if(!1===d&&r.type===Xi&&!1===t.has("OES_texture_half_float_linear"))return;(r.anisotropy>1||a.get(r).__currentAnisotropy)&&(n.texParameterf(e,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(r.anisotropy,i.getMaxAnisotropy())),a.get(r).__currentAnisotropy=r.anisotropy)}}function k(e,t){var r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",D));var a=t.source,i=g.get(a);void 0===i&&(i={},g.set(a,i));var o=function(e){var n=[];return n.push(e.wrapS),n.push(e.wrapT),n.push(e.magFilter),n.push(e.minFilter),n.push(e.anisotropy),n.push(e.internalFormat),n.push(e.format),n.push(e.type),n.push(e.generateMipmaps),n.push(e.premultiplyAlpha),n.push(e.flipY),n.push(e.unpackAlignment),n.push(e.encoding),n.join()}(t);if(o!==e.__cacheKey){void 0===i[o]&&(i[o]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,r=!0),i[o].usedTimes++;var l=i[e.__cacheKey];void 0!==l&&(i[e.__cacheKey].usedTimes--,0===l.usedTimes&&T(t)),e.__cacheKey=o,e.__webglTexture=i[o].texture}return r}function I(e,t,a){var i=3553;t.isDataArrayTexture&&(i=35866),t.isData3DTexture&&(i=32879);var s=k(e,t),l=t.source;if(r.activeTexture(33984+a),r.bindTexture(i,e.__webglTexture),l.version!==l.__currentVersion||!0===s){n.pixelStorei(37440,t.flipY),n.pixelStorei(37441,t.premultiplyAlpha),n.pixelStorei(3317,t.unpackAlignment),n.pixelStorei(37443,0);var u,c=function(e){return!d&&(e.wrapS!==Mi||e.wrapT!==Mi||e.minFilter!==ki&&e.minFilter!==Ni)}(t)&&!1===y(t.image),A=_(t.image,c,!1,h),f=y(A=z(t,A))||d,p=o.convert(t.format,t.encoding),m=o.convert(t.type),S=V(t.internalFormat,p,m,t.encoding,t.isVideoTexture);B(i,t,f);var g=t.mipmaps,v=d&&!0!==t.isVideoTexture,x=void 0===e.__version,E=C(t,A,f);if(t.isDepthTexture)S=6402,d?S=t.type===Wi?36012:t.type===Hi?33190:t.type===Ki?35056:33189:t.type===Wi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),t.format===Yi&&6402===S&&t.type!==zi&&t.type!==Hi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),t.type=zi,m=o.convert(t.type)),t.format===Qi&&6402===S&&(S=34041,t.type!==Ki&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),t.type=Ki,m=o.convert(t.type))),v&&x?r.texStorage2D(3553,1,S,A.width,A.height):r.texImage2D(3553,0,S,A.width,A.height,0,p,m,null);else if(t.isDataTexture)if(g.length>0&&f){v&&x&&r.texStorage2D(3553,E,S,g[0].width,g[0].height);for(var D=0,F=g.length;D<F;D++)u=g[D],v?r.texSubImage2D(3553,D,0,0,u.width,u.height,p,m,u.data):r.texImage2D(3553,D,S,u.width,u.height,0,p,m,u.data);t.generateMipmaps=!1}else v?(x&&r.texStorage2D(3553,E,S,A.width,A.height),r.texSubImage2D(3553,0,0,0,A.width,A.height,p,m,A.data)):r.texImage2D(3553,0,S,A.width,A.height,0,p,m,A.data);else if(t.isCompressedTexture){v&&x&&r.texStorage2D(3553,E,S,g[0].width,g[0].height);for(var T=0,P=g.length;T<P;T++)u=g[T],t.format!==qi?null!==p?v?r.compressedTexSubImage2D(3553,T,0,0,u.width,u.height,p,u.data):r.compressedTexImage2D(3553,T,S,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):v?r.texSubImage2D(3553,T,0,0,u.width,u.height,p,m,u.data):r.texImage2D(3553,T,S,u.width,u.height,0,p,m,u.data)}else if(t.isDataArrayTexture)v?(x&&r.texStorage3D(35866,E,S,A.width,A.height,A.depth),r.texSubImage3D(35866,0,0,0,0,A.width,A.height,A.depth,p,m,A.data)):r.texImage3D(35866,0,S,A.width,A.height,A.depth,0,p,m,A.data);else if(t.isData3DTexture)v?(x&&r.texStorage3D(32879,E,S,A.width,A.height,A.depth),r.texSubImage3D(32879,0,0,0,0,A.width,A.height,A.depth,p,m,A.data)):r.texImage3D(32879,0,S,A.width,A.height,A.depth,0,p,m,A.data);else if(t.isFramebufferTexture)v&&x?r.texStorage2D(3553,E,S,A.width,A.height):r.texImage2D(3553,0,S,A.width,A.height,0,p,m,null);else if(g.length>0&&f){v&&x&&r.texStorage2D(3553,E,S,g[0].width,g[0].height);for(var R=0,L=g.length;R<L;R++)u=g[R],v?r.texSubImage2D(3553,R,0,0,p,m,u):r.texImage2D(3553,R,S,p,m,u);t.generateMipmaps=!1}else v?(x&&r.texStorage2D(3553,E,S,A.width,A.height),r.texSubImage2D(3553,0,0,0,p,m,A)):r.texImage2D(3553,0,S,p,m,A);w(t,f)&&b(i),l.__currentVersion=l.version,t.onUpdate&&t.onUpdate(t)}e.__version=t.version}function O(e,t,i,s,l){var u=o.convert(i.format,i.encoding),c=o.convert(i.type),d=V(i.internalFormat,u,c,i.encoding);a.get(t).__hasExternalTextures||(32879===l||35866===l?r.texImage3D(l,0,d,t.width,t.height,t.depth,0,u,c,null):r.texImage2D(l,0,d,t.width,t.height,0,u,c,null)),r.bindFramebuffer(36160,e),G(t)?m.framebufferTexture2DMultisampleEXT(36160,s,l,a.get(i).__webglTexture,0,U(t)):n.framebufferTexture2D(36160,s,l,a.get(i).__webglTexture,0),r.bindFramebuffer(36160,null)}function N(e,t,r){if(n.bindRenderbuffer(36161,e),t.depthBuffer&&!t.stencilBuffer){var a=33189;if(r||G(t)){var i=t.depthTexture;i&&i.isDepthTexture&&(i.type===Wi?a=36012:i.type===Hi&&(a=33190));var s=U(t);G(t)?m.renderbufferStorageMultisampleEXT(36161,s,a,t.width,t.height):n.renderbufferStorageMultisample(36161,s,a,t.width,t.height)}else n.renderbufferStorage(36161,a,t.width,t.height);n.framebufferRenderbuffer(36160,36096,36161,e)}else if(t.depthBuffer&&t.stencilBuffer){var l=U(t);r&&!1===G(t)?n.renderbufferStorageMultisample(36161,l,35056,t.width,t.height):G(t)?m.renderbufferStorageMultisampleEXT(36161,l,35056,t.width,t.height):n.renderbufferStorage(36161,34041,t.width,t.height),n.framebufferRenderbuffer(36160,33306,36161,e)}else{var u=!0===t.isWebGLMultipleRenderTargets?t.texture[0]:t.texture,c=o.convert(u.format,u.encoding),d=o.convert(u.type),A=V(u.internalFormat,c,d,u.encoding),f=U(t);r&&!1===G(t)?n.renderbufferStorageMultisample(36161,f,A,t.width,t.height):G(t)?m.renderbufferStorageMultisampleEXT(36161,f,A,t.width,t.height):n.renderbufferStorage(36161,A,t.width,t.height)}n.bindRenderbuffer(36161,null)}function j(e){var t=a.get(e),i=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!t.__autoAllocateDepthBuffer){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,t){if(t&&t.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,e),!t.depthTexture||!t.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");a.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),R(t.depthTexture,0);var i=a.get(t.depthTexture).__webglTexture,o=U(t);if(t.depthTexture.format===Yi)G(t)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,i,0,o):n.framebufferTexture2D(36160,36096,3553,i,0);else{if(t.depthTexture.format!==Qi)throw new Error("Unknown depthTexture format");G(t)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,i,0,o):n.framebufferTexture2D(36160,33306,3553,i,0)}}(t.__webglFramebuffer,e)}else if(i){t.__webglDepthbuffer=[];for(var o=0;o<6;o++)r.bindFramebuffer(36160,t.__webglFramebuffer[o]),t.__webglDepthbuffer[o]=n.createRenderbuffer(),N(t.__webglDepthbuffer[o],e,!1)}else r.bindFramebuffer(36160,t.__webglFramebuffer),t.__webglDepthbuffer=n.createRenderbuffer(),N(t.__webglDepthbuffer,e,!1);r.bindFramebuffer(36160,null)}function U(e){return Math.min(p,e.samples)}function G(e){var n=a.get(e);return d&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function z(e,n){var r=e.encoding,a=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Io||r!==Po&&(r===Ro?!1===d?!0===t.has("EXT_sRGB")&&a===qi?(e.format=Io,e.minFilter=Ni,e.generateMipmaps=!1):n=cs.sRGBToLinear(n):a===qi&&i===Gi||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=P;return e>=A&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+A),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=R,this.setTexture2DArray=function(e,n){var t=a.get(e);e.version>0&&t.__version!==e.version?I(t,e,n):(r.activeTexture(33984+n),r.bindTexture(35866,t.__webglTexture))},this.setTexture3D=function(e,n){var t=a.get(e);e.version>0&&t.__version!==e.version?I(t,e,n):(r.activeTexture(33984+n),r.bindTexture(32879,t.__webglTexture))},this.setTextureCube=function(e,t){var i=a.get(e);e.version>0&&i.__version!==e.version?function(e,t,a){if(6!==t.image.length)return;var i=k(e,t),s=t.source;if(r.activeTexture(33984+a),r.bindTexture(34067,e.__webglTexture),s.version!==s.__currentVersion||!0===i){n.pixelStorei(37440,t.flipY),n.pixelStorei(37441,t.premultiplyAlpha),n.pixelStorei(3317,t.unpackAlignment),n.pixelStorei(37443,0);for(var l=t.isCompressedTexture||t.image[0].isCompressedTexture,u=t.image[0]&&t.image[0].isDataTexture,c=[],A=0;A<6;A++)c[A]=l||u?u?t.image[A].image:t.image[A]:_(t.image[A],!1,!0,f),c[A]=z(t,c[A]);var h,p=c[0],m=y(p)||d,S=o.convert(t.format,t.encoding),g=o.convert(t.type),v=V(t.internalFormat,S,g,t.encoding),x=d&&!0!==t.isVideoTexture,E=void 0===e.__version,D=C(t,p,m);if(B(34067,t,m),l){x&&E&&r.texStorage2D(34067,D,v,p.width,p.height);for(var F=0;F<6;F++){h=c[F].mipmaps;for(var T=0;T<h.length;T++){var P=h[T];t.format!==qi?null!==S?x?r.compressedTexSubImage2D(34069+F,T,0,0,P.width,P.height,S,P.data):r.compressedTexImage2D(34069+F,T,v,P.width,P.height,0,P.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):x?r.texSubImage2D(34069+F,T,0,0,P.width,P.height,S,g,P.data):r.texImage2D(34069+F,T,v,P.width,P.height,0,S,g,P.data)}}}else{h=t.mipmaps,x&&E&&(h.length>0&&D++,r.texStorage2D(34067,D,v,c[0].width,c[0].height));for(var R=0;R<6;R++)if(u){x?r.texSubImage2D(34069+R,0,0,0,c[R].width,c[R].height,S,g,c[R].data):r.texImage2D(34069+R,0,v,c[R].width,c[R].height,0,S,g,c[R].data);for(var L=0;L<h.length;L++){var M=h[L].image[R].image;x?r.texSubImage2D(34069+R,L+1,0,0,M.width,M.height,S,g,M.data):r.texImage2D(34069+R,L+1,v,M.width,M.height,0,S,g,M.data)}}else{x?r.texSubImage2D(34069+R,0,0,0,S,g,c[R]):r.texImage2D(34069+R,0,v,S,g,c[R]);for(var I=0;I<h.length;I++){var O=h[I];x?r.texSubImage2D(34069+R,I+1,0,0,S,g,O.image[R]):r.texImage2D(34069+R,I+1,v,S,g,O.image[R])}}}w(t,m)&&b(34067),s.__currentVersion=s.version,t.onUpdate&&t.onUpdate(t)}e.__version=t.version}(i,e,t):(r.activeTexture(33984+t),r.bindTexture(34067,i.__webglTexture))},this.rebindTextures=function(e,n,t){var r=a.get(e);void 0!==n&&O(r.__webglFramebuffer,e,e.texture,36064,3553),void 0!==t&&j(e)},this.setupRenderTarget=function(e){var t=e.texture,l=a.get(e),u=a.get(t);e.addEventListener("dispose",F),!0!==e.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=n.createTexture()),u.__version=t.version,s.memory.textures++);var c=!0===e.isWebGLCubeRenderTarget,A=!0===e.isWebGLMultipleRenderTargets,f=y(e)||d;if(c){l.__webglFramebuffer=[];for(var h=0;h<6;h++)l.__webglFramebuffer[h]=n.createFramebuffer()}else if(l.__webglFramebuffer=n.createFramebuffer(),A)if(i.drawBuffers)for(var p=e.texture,m=0,S=p.length;m<S;m++){var g=a.get(p[m]);void 0===g.__webglTexture&&(g.__webglTexture=n.createTexture(),s.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(d&&e.samples>0&&!1===G(e)){l.__webglMultisampledFramebuffer=n.createFramebuffer(),l.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,l.__webglColorRenderbuffer);var v=o.convert(t.format,t.encoding),x=o.convert(t.type),_=V(t.internalFormat,v,x,t.encoding),C=U(e);n.renderbufferStorageMultisample(36161,C,_,e.width,e.height),r.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),e.depthBuffer&&(l.__webglDepthRenderbuffer=n.createRenderbuffer(),N(l.__webglDepthRenderbuffer,e,!0)),r.bindFramebuffer(36160,null)}if(c){r.bindTexture(34067,u.__webglTexture),B(34067,t,f);for(var E=0;E<6;E++)O(l.__webglFramebuffer[E],e,t,36064,34069+E);w(t,f)&&b(34067),r.unbindTexture()}else if(A){for(var D=e.texture,T=0,P=D.length;T<P;T++){var R=D[T],L=a.get(R);r.bindTexture(3553,L.__webglTexture),B(3553,R,f),O(l.__webglFramebuffer,e,R,36064+T,3553),w(R,f)&&b(3553)}r.unbindTexture()}else{var M=3553;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(d?M=e.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(M,u.__webglTexture),B(M,t,f),O(l.__webglFramebuffer,e,t,36064,M),w(t,f)&&b(M),r.unbindTexture()}e.depthBuffer&&j(e)},this.updateRenderTargetMipmap=function(e){for(var n=y(e)||d,t=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],i=0,o=t.length;i<o;i++){var s=t[i];if(w(s,n)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=a.get(s).__webglTexture;r.bindTexture(l,u),b(l),r.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(d&&e.samples>0&&!1===G(e)){var t=e.width,i=e.height,o=16384,s=[36064],l=e.stencilBuffer?33306:36096;e.depthBuffer&&s.push(l);var u=a.get(e),c=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;!1===c&&(e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024)),r.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,u.__webglFramebuffer),!0===c&&(n.invalidateFramebuffer(36008,[l]),n.invalidateFramebuffer(36009,[l])),n.blitFramebuffer(0,0,t,i,0,0,t,i,o,9728),n.invalidateFramebuffer(36008,s),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=O,this.useMultisampledRTT=G}function iA(e,n,t){var r=t.isWebGL2;return{convert:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e===Gi)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1010===e)return 5120;if(1011===e)return 5122;if(e===zi)return 5123;if(1013===e)return 5124;if(e===Hi)return 5125;if(e===Wi)return 5126;if(e===Xi)return r?5131:null!==(t=n.get("OES_texture_half_float"))?t.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===qi)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===Yi)return 6402;if(e===Qi)return 34041;if(1028===e)return 6403;if(1022===e)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(e===Io)return null!==(t=n.get("EXT_sRGB"))?t.SRGB_ALPHA_EXT:null;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1033===e)return 36249;if(e===Ji||e===Zi||e===$i||e===eo)if(a===Ro){if(null===(t=n.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(e===Ji)return t.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Zi)return t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===$i)return t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===eo)return t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(t=n.get("WEBGL_compressed_texture_s3tc")))return null;if(e===Ji)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Zi)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===$i)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===eo)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===no||e===to||e===ro||e===ao){if(null===(t=n.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===no)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===to)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ro)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ao)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(t=n.get("WEBGL_compressed_texture_etc1"))?t.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===io||e===oo){if(null===(t=n.get("WEBGL_compressed_texture_etc")))return null;if(e===io)return a===Ro?t.COMPRESSED_SRGB8_ETC2:t.COMPRESSED_RGB8_ETC2;if(e===oo)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:t.COMPRESSED_RGBA8_ETC2_EAC}if(e===so||e===lo||e===uo||e===co||e===Ao||e===fo||e===ho||e===po||e===mo||e===So||e===go||e===vo||e===xo||e===_o){if(null===(t=n.get("WEBGL_compressed_texture_astc")))return null;if(e===so)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:t.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===lo)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:t.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===uo)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:t.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===co)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:t.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Ao)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:t.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===fo)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:t.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===ho)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:t.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===po)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:t.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===mo)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:t.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===So)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:t.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===go)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:t.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===vo)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:t.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===xo)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:t.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===_o)return a===Ro?t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:t.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===yo){if(null===(t=n.get("EXT_texture_compression_bptc")))return null;if(e===yo)return a===Ro?t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:t.COMPRESSED_RGBA_BPTC_UNORM_EXT}return e===Ki?r?34042:null!==(t=n.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var oA=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r(this,t),(e=n.call(this)).cameras=a,e}return i(t)}(wu);oA.prototype.isArrayCamera=!0;var sA=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this)).type="Group",e}return i(t)}(wl);sA.prototype.isGroup=!0;var lA={type:"move"},uA=function(){function e(){r(this,e),this._targetRay=null,this._grip=null,this._hand=null}return i(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new sA,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new sA,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new _s,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new _s),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new sA,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new _s,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new _s),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,n,t){var r=null,a=null,i=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==n.session.visibilityState)if(null!==o&&null!==(r=n.getPose(e.targetRaySpace,t))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(lA)),l&&e.hand){i=!0;var u,c=L(e.hand.values());try{for(c.s();!(u=c.n()).done;){var d=u.value,A=n.getJointPose(d,t);if(void 0===l.joints[d.jointName]){var f=new sA;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[d.jointName]=f,l.add(f)}var h=l.joints[d.jointName];null!==A&&(h.matrix.fromArray(A.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=A.radius),h.visible=null!==A}}catch(g){c.e(g)}finally{c.f()}var p=l.joints["index-finger-tip"],m=l.joints["thumb-tip"],S=p.position.distanceTo(m.position);l.inputState.pinching&&S>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&S<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(a=n.getPose(e.gripSpace,t))&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1);return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==a),null!==l&&(l.visible=null!==i),this}}]),e}(),cA=function(e){s(t,e);var n=A(t);function t(e,a,i,o,s,l,u,c,d,A){var f;if(r(this,t),(A=void 0!==A?A:Yi)!==Yi&&A!==Qi)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&A===Yi&&(i=zi),void 0===i&&A===Qi&&(i=Ki),(f=n.call(this,null,o,s,l,u,c,A,i,d)).image={width:e,height:a},f.magFilter=void 0!==u?u:ki,f.minFilter=void 0!==c?c:ki,f.flipY=!1,f.generateMipmaps=!1,f}return i(t)}(hs);cA.prototype.isDepthTexture=!0;var dA=function(e){s(t,e);var n=A(t);function t(e,a){var i;r(this,t);var o=c(i=n.call(this)),s=null,l=1,u=null,d="local-floor",A=null,f=null,h=null,p=null,m=null,S=a.getContextAttributes(),g=null,v=null,x=[],_=new Map,y=new wu;y.layers.enable(1),y.viewport=new ps;var w=new wu;w.layers.enable(2),w.viewport=new ps;var b=[y,w],V=new oA;V.layers.enable(1),V.layers.enable(2);var C=null,E=null;function D(e){var n=_.get(e.inputSource);n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function F(){_.forEach((function(e,n){e.disconnect(n)})),_.clear(),C=null,E=null,e.setRenderTarget(g),p=null,h=null,f=null,s=null,v=null,B.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function T(e){for(var n=s.inputSources,t=0;t<x.length;t++)_.set(n[t],x[t]);for(var r=0;r<e.removed.length;r++){var a=e.removed[r],i=_.get(a);i&&(i.dispatchEvent({type:"disconnected",data:a}),_.delete(a))}for(var o=0;o<e.added.length;o++){var l=e.added[o],u=_.get(l);u&&u.dispatchEvent({type:"connected",data:l})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var n=x[e];return void 0===n&&(n=new uA,x[e]=n),n.getTargetRaySpace()},i.getControllerGrip=function(e){var n=x[e];return void 0===n&&(n=new uA,x[e]=n),n.getGripSpace()},i.getHand=function(e){var n=x[e];return void 0===n&&(n=new uA,x[e]=n),n.getHandSpace()},i.setFramebufferScaleFactor=function(e){l=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){d=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return u},i.getBaseLayer=function(){return null!==h?h:p},i.getBinding=function(){return f},i.getFrame=function(){return m},i.getSession=function(){return s},i.setSession=function(){var n=O(k().mark((function n(t){var r,i,c,A,m;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(s=t)){n.next=24;break}if(g=e.getRenderTarget(),s.addEventListener("select",D),s.addEventListener("selectstart",D),s.addEventListener("selectend",D),s.addEventListener("squeeze",D),s.addEventListener("squeezestart",D),s.addEventListener("squeezeend",D),s.addEventListener("end",F),s.addEventListener("inputsourceschange",T),!0===S.xrCompatible){n.next=14;break}return n.next=14,a.makeXRCompatible();case 14:return void 0===s.renderState.layers||!1===e.capabilities.isWebGL2?(r={antialias:void 0!==s.renderState.layers||S.antialias,alpha:S.alpha,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:l},p=new XRWebGLLayer(s,a,r),s.updateRenderState({baseLayer:p}),v=new ms(p.framebufferWidth,p.framebufferHeight,{format:qi,type:Gi,encoding:e.outputEncoding})):(i=null,c=null,A=null,S.depth&&(A=S.stencil?35056:33190,i=S.stencil?Qi:Yi,c=S.stencil?Ki:zi),m={colorFormat:e.outputEncoding===Ro?35907:32856,depthFormat:A,scaleFactor:l},f=new XRWebGLBinding(s,a),h=f.createProjectionLayer(m),s.updateRenderState({layers:[h]}),v=new ms(h.textureWidth,h.textureHeight,{format:qi,type:Gi,depthTexture:new cA(h.textureWidth,h.textureHeight,c,void 0,void 0,void 0,void 0,void 0,void 0,i),stencilBuffer:S.stencil,encoding:e.outputEncoding,samples:S.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=h.ignoreDepthValues),v.isXRRenderTarget=!0,this.setFoveation(1),n.next=19,s.requestReferenceSpace(d);case 19:u=n.sent,B.setContext(s),B.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 24:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}();var P=new _s,R=new _s;function L(e,n){null===n?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(n.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==s){V.near=w.near=y.near=e.near,V.far=w.far=y.far=e.far,C===V.near&&E===V.far||(s.updateRenderState({depthNear:V.near,depthFar:V.far}),C=V.near,E=V.far);var n=e.parent,t=V.cameras;L(V,n);for(var r=0;r<t.length;r++)L(t[r],n);V.matrixWorld.decompose(V.position,V.quaternion,V.scale),e.position.copy(V.position),e.quaternion.copy(V.quaternion),e.scale.copy(V.scale),e.matrix.copy(V.matrix),e.matrixWorld.copy(V.matrixWorld);for(var a=e.children,i=0,o=a.length;i<o;i++)a[i].updateMatrixWorld(!0);2===t.length?function(e,n,t){P.setFromMatrixPosition(n.matrixWorld),R.setFromMatrixPosition(t.matrixWorld);var r=P.distanceTo(R),a=n.projectionMatrix.elements,i=t.projectionMatrix.elements,o=a[14]/(a[10]-1),s=a[14]/(a[10]+1),l=(a[9]+1)/a[5],u=(a[9]-1)/a[5],c=(a[8]-1)/a[0],d=(i[8]+1)/i[0],A=o*c,f=o*d,h=r/(-c+d),p=h*-c;n.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(h),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+h,S=s+h,g=A-p,v=f+(r-p),x=l*s/S*m,_=u*s/S*m;e.projectionMatrix.makePerspective(g,v,x,_,m,S)}(V,y,w):V.projectionMatrix.copy(y.projectionMatrix)}},i.getCamera=function(){return V},i.getFoveation=function(){return null!==h?h.fixedFoveation:null!==p?p.fixedFoveation:void 0},i.setFoveation=function(e){null!==h&&(h.fixedFoveation=e),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=e)};var M=null;var B=new Bu;return B.setAnimationLoop((function(n,t){if(A=t.getViewerPose(u),m=t,null!==A){var r=A.views;null!==p&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));var a=!1;r.length!==V.cameras.length&&(V.cameras.length=0,a=!0);for(var i=0;i<r.length;i++){var o=r[i],l=null;if(null!==p)l=p.getViewport(o);else{var c=f.getViewSubImage(h,o);l=c.viewport,0===i&&(e.setRenderTargetTextures(v,c.colorTexture,h.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(v))}var d=b[i];d.matrix.fromArray(o.transform.matrix),d.projectionMatrix.fromArray(o.projectionMatrix),d.viewport.set(l.x,l.y,l.width,l.height),0===i&&V.matrix.copy(d.matrix),!0===a&&V.cameras.push(d)}}for(var S=s.inputSources,g=0;g<x.length;g++){var _=x[g],y=S[g];_.update(y,t,u)}M&&M(n,t),m=null})),i.setAnimationLoop=function(e){M=e},i.dispose=function(){},i}return i(t)}(Oo);function AA(e){function n(n,t){n.opacity.value=t.opacity,t.color&&n.diffuse.value.copy(t.color),t.emissive&&n.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(n.map.value=t.map),t.alphaMap&&(n.alphaMap.value=t.alphaMap),t.specularMap&&(n.specularMap.value=t.specularMap),t.alphaTest>0&&(n.alphaTest.value=t.alphaTest);var r,a,i=e.get(t).envMap;i&&(n.envMap.value=i,n.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,n.reflectivity.value=t.reflectivity,n.ior.value=t.ior,n.refractionRatio.value=t.refractionRatio),t.lightMap&&(n.lightMap.value=t.lightMap,n.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(n.aoMap.value=t.aoMap,n.aoMapIntensity.value=t.aoMapIntensity),t.map?r=t.map:t.specularMap?r=t.specularMap:t.displacementMap?r=t.displacementMap:t.normalMap?r=t.normalMap:t.bumpMap?r=t.bumpMap:t.roughnessMap?r=t.roughnessMap:t.metalnessMap?r=t.metalnessMap:t.alphaMap?r=t.alphaMap:t.emissiveMap?r=t.emissiveMap:t.clearcoatMap?r=t.clearcoatMap:t.clearcoatNormalMap?r=t.clearcoatNormalMap:t.clearcoatRoughnessMap?r=t.clearcoatRoughnessMap:t.specularIntensityMap?r=t.specularIntensityMap:t.specularColorMap?r=t.specularColorMap:t.transmissionMap?r=t.transmissionMap:t.thicknessMap?r=t.thicknessMap:t.sheenColorMap?r=t.sheenColorMap:t.sheenRoughnessMap&&(r=t.sheenRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),n.uvTransform.value.copy(r.matrix)),t.aoMap?a=t.aoMap:t.lightMap&&(a=t.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}function t(n,t){n.roughness.value=t.roughness,n.metalness.value=t.metalness,t.roughnessMap&&(n.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(n.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(n.emissiveMap.value=t.emissiveMap),t.bumpMap&&(n.bumpMap.value=t.bumpMap,n.bumpScale.value=t.bumpScale,1===t.side&&(n.bumpScale.value*=-1)),t.normalMap&&(n.normalMap.value=t.normalMap,n.normalScale.value.copy(t.normalScale),1===t.side&&n.normalScale.value.negate()),t.displacementMap&&(n.displacementMap.value=t.displacementMap,n.displacementScale.value=t.displacementScale,n.displacementBias.value=t.displacementBias),e.get(t).envMap&&(n.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,n){e.fogColor.value.copy(n.color),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,a,i,o){r.isMeshBasicMaterial?n(e,r):r.isMeshLambertMaterial?(n(e,r),function(e,n){n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap)}(e,r)):r.isMeshToonMaterial?(n(e,r),function(e,n){n.gradientMap&&(e.gradientMap.value=n.gradientMap);n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap);n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1));n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate());n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,n){e.specular.value.copy(n.specular),e.shininess.value=Math.max(n.shininess,1e-4),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap);n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1));n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate());n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias)}(e,r)):r.isMeshStandardMaterial?(n(e,r),r.isMeshPhysicalMaterial?function(e,n,r){t(e,n),e.ior.value=n.ior,n.sheen>0&&(e.sheenColor.value.copy(n.sheenColor).multiplyScalar(n.sheen),e.sheenRoughness.value=n.sheenRoughness,n.sheenColorMap&&(e.sheenColorMap.value=n.sheenColorMap),n.sheenRoughnessMap&&(e.sheenRoughnessMap.value=n.sheenRoughnessMap));n.clearcoat>0&&(e.clearcoat.value=n.clearcoat,e.clearcoatRoughness.value=n.clearcoatRoughness,n.clearcoatMap&&(e.clearcoatMap.value=n.clearcoatMap),n.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=n.clearcoatRoughnessMap),n.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(n.clearcoatNormalScale),e.clearcoatNormalMap.value=n.clearcoatNormalMap,1===n.side&&e.clearcoatNormalScale.value.negate()));n.transmission>0&&(e.transmission.value=n.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),n.transmissionMap&&(e.transmissionMap.value=n.transmissionMap),e.thickness.value=n.thickness,n.thicknessMap&&(e.thicknessMap.value=n.thicknessMap),e.attenuationDistance.value=n.attenuationDistance,e.attenuationColor.value.copy(n.attenuationColor));e.specularIntensity.value=n.specularIntensity,e.specularColor.value.copy(n.specularColor),n.specularIntensityMap&&(e.specularIntensityMap.value=n.specularIntensityMap);n.specularColorMap&&(e.specularColorMap.value=n.specularColorMap)}(e,r,o):t(e,r)):r.isMeshMatcapMaterial?(n(e,r),function(e,n){n.matcap&&(e.matcap.value=n.matcap);n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1));n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate());n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias)}(e,r)):r.isMeshDepthMaterial?(n(e,r),function(e,n){n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(n(e,r),function(e,n){n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias);e.referencePosition.value.copy(n.referencePosition),e.nearDistance.value=n.nearDistance,e.farDistance.value=n.farDistance}(e,r)):r.isMeshNormalMaterial?(n(e,r),function(e,n){n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1));n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate());n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,n){e.diffuse.value.copy(n.color),e.opacity.value=n.opacity}(e,r),r.isLineDashedMaterial&&function(e,n){e.dashSize.value=n.dashSize,e.totalSize.value=n.dashSize+n.gapSize,e.scale.value=n.scale}(e,r)):r.isPointsMaterial?function(e,n,t,r){e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,e.size.value=n.size*t,e.scale.value=.5*r,n.map&&(e.map.value=n.map);n.alphaMap&&(e.alphaMap.value=n.alphaMap);n.alphaTest>0&&(e.alphaTest.value=n.alphaTest);var a;n.map?a=n.map:n.alphaMap&&(a=n.alphaMap);void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}(e,r,a,i):r.isSpriteMaterial?function(e,n){e.diffuse.value.copy(n.color),e.opacity.value=n.opacity,e.rotation.value=n.rotation,n.map&&(e.map.value=n.map);n.alphaMap&&(e.alphaMap.value=n.alphaMap);n.alphaTest>0&&(e.alphaTest.value=n.alphaTest);var t;n.map?t=n.map:n.alphaMap&&(t=n.alphaMap);void 0!==t&&(!0===t.matrixAutoUpdate&&t.updateMatrix(),e.uvTransform.value.copy(t.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function fA(){var e=ns("canvas");return e.style.display="block",e}function hA(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0!==n.canvas?n.canvas:fA(),r=void 0!==n.context?n.context:null,a=void 0===n.depth||n.depth,i=void 0===n.stencil||n.stencil,o=void 0!==n.antialias&&n.antialias,s=void 0===n.premultipliedAlpha||n.premultipliedAlpha,l=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,u=void 0!==n.powerPreference?n.powerPreference:"default",c=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;e=void 0!==n.context?r.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;var d=null,A=null,f=[],h=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Po,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;var p=this,m=!1,S=0,g=0,v=null,x=-1,_=null,y=new ps,w=new ps,b=null,V=t.width,C=t.height,E=1,D=null,F=null,T=new ps(0,0,V,C),P=new ps(0,0,V,C),R=!1,L=new Mu,M=!1,B=!1,k=null,I=new Zs,O=new Zo,N=new _s,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===v?E:1}var G,z,H,W,X,K,q,Y,Q,J,Z,$,ee,ne,te,re,ae,ie,oe,se,le,ue,ce,de=r;function Ae(e,n){for(var r=0;r<e.length;r++){var a=e[r],i=t.getContext(a,n);if(null!==i)return i}return null}try{var fe={alpha:!0,depth:a,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(gi)),t.addEventListener("webglcontextlost",Se,!1),t.addEventListener("webglcontextrestored",ge,!1),null===de){var he=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&he.shift(),null===(de=Ae(he,fe)))throw Ae(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===de.getShaderPrecisionFormat&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}function pe(){G=new lc(de),z=new Hu(de,G,n),G.init(z),ue=new iA(de,G,z),H=new rA(de,G,z),W=new dc(de),X=new zd,K=new aA(de,G,H,X,z,ue,W),q=new Xu(p),Y=new sc(p),Q=new ku(de,z),ce=new Gu(de,G,Q,z),J=new uc(de,Q,W,ce),Z=new mc(de,J,Q,W),oe=new pc(de,z,K),re=new Wu(X),$=new Gd(p,q,Y,G,z,ce,re),ee=new AA(X),ne=new Kd,te=new $d(G,z),ie=new Uu(p,q,H,Z,e,s),ae=new tA(p,Z,z),se=new zu(de,G,W,z),le=new cc(de,G,W,z),W.programs=$.programs,p.capabilities=z,p.extensions=G,p.properties=X,p.renderLists=ne,p.shadowMap=ae,p.state=H,p.info=W}pe();var me=new dA(p,de);function Se(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function ge(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=W.autoReset,n=ae.enabled,t=ae.autoUpdate,r=ae.needsUpdate,a=ae.type;pe(),W.autoReset=e,ae.enabled=n,ae.autoUpdate=t,ae.needsUpdate=r,ae.type=a}function ve(e){var n=e.target;n.removeEventListener("dispose",ve),xe(n)}function xe(e){_e(e),X.remove(e)}function _e(e){var n=X.get(e).programs;void 0!==n&&(n.forEach((function(e){$.releaseProgram(e)})),e.isShaderMaterial&&$.releaseShaderCache(e))}this.xr=me,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){var e=G.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=G.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(e){void 0!==e&&(E=e,this.setSize(V,C,!1))},this.getSize=function(e){return e.set(V,C)},this.setSize=function(e,n,r){me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(V=e,C=n,t.width=Math.floor(e*E),t.height=Math.floor(n*E),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(V*E,C*E).floor()},this.setDrawingBufferSize=function(e,n,r){V=e,C=n,E=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(y)},this.getViewport=function(e){return e.copy(T)},this.setViewport=function(e,n,t,r){e.isVector4?T.set(e.x,e.y,e.z,e.w):T.set(e,n,t,r),H.viewport(y.copy(T).multiplyScalar(E).floor())},this.getScissor=function(e){return e.copy(P)},this.setScissor=function(e,n,t,r){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,n,t,r),H.scissor(w.copy(P).multiplyScalar(E).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){H.setScissorTest(R=e)},this.setOpaqueSort=function(e){D=e},this.setTransparentSort=function(e){F=e},this.getClearColor=function(e){return e.copy(ie.getClearColor())},this.setClearColor=function(){ie.setClearColor.apply(ie,arguments)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(){ie.setClearAlpha.apply(ie,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;e&&(r|=16384),n&&(r|=256),t&&(r|=1024),de.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Se,!1),t.removeEventListener("webglcontextrestored",ge,!1),ne.dispose(),te.dispose(),X.dispose(),q.dispose(),Y.dispose(),Z.dispose(),ce.dispose(),$.dispose(),me.dispose(),me.removeEventListener("sessionstart",be),me.removeEventListener("sessionend",Ve),k&&(k.dispose(),k=null),Ce.stop()},this.renderBufferDirect=function(e,n,t,r,a,i){null===n&&(n=j);var o=a.isMesh&&a.matrixWorld.determinant()<0,s=Me(e,n,t,r,a);H.setMaterial(r,o);var l=t.index,u=t.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,d=1;!0===r.wireframe&&(l=J.getWireframeAttribute(t),d=2),ce.setup(a,r,s,t,l);var A=se;null!==l&&(c=Q.get(l),(A=le).setIndex(c));var f=null!==l?l.count:u.count,h=t.drawRange.start*d,p=t.drawRange.count*d,m=null!==i?i.start*d:0,S=null!==i?i.count*d:1/0,g=Math.max(h,m),v=Math.min(f,h+p,m+S)-1,x=Math.max(0,v-g+1);if(0!==x){if(a.isMesh)!0===r.wireframe?(H.setLineWidth(r.wireframeLinewidth*U()),A.setMode(1)):A.setMode(4);else if(a.isLine){var _=r.linewidth;void 0===_&&(_=1),H.setLineWidth(_*U()),a.isLineSegments?A.setMode(1):a.isLineLoop?A.setMode(2):A.setMode(3)}else a.isPoints?A.setMode(0):a.isSprite&&A.setMode(4);if(a.isInstancedMesh)A.renderInstances(g,x,a.count);else if(t.isInstancedBufferGeometry){var y=Math.min(t.instanceCount,t._maxInstanceCount);A.renderInstances(g,x,y)}else A.render(g,x)}},this.compile=function(e,n){(A=te.get(e)).init(),h.push(A),e.traverseVisible((function(e){e.isLight&&e.layers.test(n.layers)&&(A.pushLight(e),e.castShadow&&A.pushShadow(e))})),A.setupLights(p.physicallyCorrectLights),e.traverse((function(n){var t=n.material;if(t)if(Array.isArray(t))for(var r=0;r<t.length;r++){Re(t[r],e,n)}else Re(t,e,n)})),h.pop(),A=null};var ye=null;function we(e){ye&&ye(e)}function be(){Ce.stop()}function Ve(){Ce.start()}var Ce=new Bu;function Ee(e,n,t,r){if(!1!==e.visible){if(e.layers.test(n.layers))if(e.isGroup)t=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(n);else if(e.isLight)A.pushLight(e),e.castShadow&&A.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||L.intersectsSprite(e)){r&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);var a=Z.update(e),i=e.material;i.visible&&d.push(e,a,i,t,N.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==W.render.frame&&(e.skeleton.update(),e.skeleton.frame=W.render.frame),!e.frustumCulled||L.intersectsObject(e))){r&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);var o=Z.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],h=s[f.materialIndex];h&&h.visible&&d.push(e,o,h,t,N.z,f)}else s.visible&&d.push(e,o,s,t,N.z,null)}for(var p=e.children,m=0,S=p.length;m<S;m++)Ee(p[m],n,t,r)}}function De(e,n,t,r){var a=e.opaque,i=e.transmissive,o=e.transparent;A.setupLightsView(t),i.length>0&&Fe(a,n,t),r&&H.viewport(y.copy(r)),a.length>0&&Te(a,n,t),i.length>0&&Te(i,n,t),o.length>0&&Te(o,n,t),H.buffers.depth.setTest(!0),H.buffers.depth.setMask(!0),H.buffers.color.setMask(!0),H.setPolygonOffset(!1)}function Fe(e,n,t){var r=z.isWebGL2;null===k&&(k=new ms(1,1,{generateMipmaps:!0,type:null!==ue.convert(Xi)?Xi:Gi,minFilter:Ui,samples:r&&!0===o?4:0})),p.getDrawingBufferSize(O),r?k.setSize(O.x,O.y):k.setSize(Qo(O.x),Qo(O.y));var a=p.getRenderTarget();p.setRenderTarget(k),p.clear();var i=p.toneMapping;p.toneMapping=0,Te(e,n,t),p.toneMapping=i,K.updateMultisampleRenderTarget(k),K.updateRenderTargetMipmap(k),p.setRenderTarget(a)}function Te(e,n,t){for(var r=!0===n.isScene?n.overrideMaterial:null,a=0,i=e.length;a<i;a++){var o=e[a],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(t.layers)&&Pe(s,n,t,l,u,c)}}function Pe(e,n,t,r,a,i){e.onBeforeRender(p,n,t,r,a,i),e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),a.onBeforeRender(p,n,t,r,e,i),!0===a.transparent&&2===a.side?(a.side=1,a.needsUpdate=!0,p.renderBufferDirect(t,n,r,a,e,i),a.side=0,a.needsUpdate=!0,p.renderBufferDirect(t,n,r,a,e,i),a.side=2):p.renderBufferDirect(t,n,r,a,e,i),e.onAfterRender(p,n,t,r,a,i)}function Re(e,n,t){!0!==n.isScene&&(n=j);var r=X.get(e),a=A.state.lights,i=A.state.shadowsArray,o=a.state.version,s=$.getParameters(e,a.state,i,n,t),l=$.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?n.environment:null,r.fog=n.fog,r.envMap=(e.isMeshStandardMaterial?Y:q).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",ve),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Le(e,s),c}else s.uniforms=$.getUniforms(e),e.onBuild(t,s,p),e.onBeforeCompile(s,p),c=$.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=re.uniform),Le(e,s),r.needsLights=ke(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=a.state.ambient,d.lightProbe.value=a.state.probe,d.directionalLights.value=a.state.directional,d.directionalLightShadows.value=a.state.directionalShadow,d.spotLights.value=a.state.spot,d.spotLightShadows.value=a.state.spotShadow,d.rectAreaLights.value=a.state.rectArea,d.ltc_1.value=a.state.rectAreaLTC1,d.ltc_2.value=a.state.rectAreaLTC2,d.pointLights.value=a.state.point,d.pointLightShadows.value=a.state.pointShadow,d.hemisphereLights.value=a.state.hemi,d.directionalShadowMap.value=a.state.directionalShadowMap,d.directionalShadowMatrix.value=a.state.directionalShadowMatrix,d.spotShadowMap.value=a.state.spotShadowMap,d.spotShadowMatrix.value=a.state.spotShadowMatrix,d.pointShadowMap.value=a.state.pointShadowMap,d.pointShadowMatrix.value=a.state.pointShadowMatrix);var f=c.getUniforms(),h=xd.seqWithValue(f.seq,d);return r.currentProgram=c,r.uniformsList=h,c}function Le(e,n){var t=X.get(e);t.outputEncoding=n.outputEncoding,t.instancing=n.instancing,t.skinning=n.skinning,t.morphTargets=n.morphTargets,t.morphNormals=n.morphNormals,t.morphColors=n.morphColors,t.morphTargetsCount=n.morphTargetsCount,t.numClippingPlanes=n.numClippingPlanes,t.numIntersection=n.numClipIntersection,t.vertexAlphas=n.vertexAlphas,t.vertexTangents=n.vertexTangents,t.toneMapping=n.toneMapping}function Me(e,n,t,r,a){!0!==n.isScene&&(n=j),K.resetTextureUnits();var i=n.fog,o=r.isMeshStandardMaterial?n.environment:null,s=null===v?p.outputEncoding:!0===v.isXRRenderTarget?v.texture.encoding:Po,l=(r.isMeshStandardMaterial?Y:q).get(r.envMap||o),u=!0===r.vertexColors&&!!t.attributes.color&&4===t.attributes.color.itemSize,c=!!r.normalMap&&!!t.attributes.tangent,d=!!t.morphAttributes.position,f=!!t.morphAttributes.normal,h=!!t.morphAttributes.color,m=r.toneMapped?p.toneMapping:0,S=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,g=void 0!==S?S.length:0,y=X.get(r),w=A.state.lights;if(!0===M&&(!0===B||e!==_)){var b=e===_&&r.id===x;re.setState(r,e,b)}var V=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==w.state.version||y.outputEncoding!==s||a.isInstancedMesh&&!1===y.instancing?V=!0:a.isInstancedMesh||!0!==y.instancing?a.isSkinnedMesh&&!1===y.skinning?V=!0:a.isSkinnedMesh||!0!==y.skinning?y.envMap!==l||r.fog&&y.fog!==i?V=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===re.numPlanes&&y.numIntersection===re.numIntersection?(y.vertexAlphas!==u||y.vertexTangents!==c||y.morphTargets!==d||y.morphNormals!==f||y.morphColors!==h||y.toneMapping!==m||!0===z.isWebGL2&&y.morphTargetsCount!==g)&&(V=!0):V=!0:V=!0:V=!0:(V=!0,y.__version=r.version);var D=y.currentProgram;!0===V&&(D=Re(r,n,a));var F=!1,T=!1,P=!1,R=D.getUniforms(),L=y.uniforms;if(H.useProgram(D.program)&&(F=!0,T=!0,P=!0),r.id!==x&&(x=r.id,T=!0),F||_!==e){if(R.setValue(de,"projectionMatrix",e.projectionMatrix),z.logarithmicDepthBuffer&&R.setValue(de,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),_!==e&&(_=e,T=!0,P=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var I=R.map.cameraPosition;void 0!==I&&I.setValue(de,N.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(de,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||a.isSkinnedMesh)&&R.setValue(de,"viewMatrix",e.matrixWorldInverse)}if(a.isSkinnedMesh){R.setOptional(de,a,"bindMatrix"),R.setOptional(de,a,"bindMatrixInverse");var O=a.skeleton;O&&(z.floatVertexTextures?(null===O.boneTexture&&O.computeBoneTexture(),R.setValue(de,"boneTexture",O.boneTexture,K),R.setValue(de,"boneTextureSize",O.boneTextureSize)):R.setOptional(de,O,"boneMatrices"))}var U=t.morphAttributes;return(void 0!==U.position||void 0!==U.normal||void 0!==U.color&&!0===z.isWebGL2)&&oe.update(a,t,r,D),(T||y.receiveShadow!==a.receiveShadow)&&(y.receiveShadow=a.receiveShadow,R.setValue(de,"receiveShadow",a.receiveShadow)),T&&(R.setValue(de,"toneMappingExposure",p.toneMappingExposure),y.needsLights&&Be(L,P),i&&r.fog&&ee.refreshFogUniforms(L,i),ee.refreshMaterialUniforms(L,r,E,C,k),xd.upload(de,y.uniformsList,L,K)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(xd.upload(de,y.uniformsList,L,K),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&R.setValue(de,"center",a.center),R.setValue(de,"modelViewMatrix",a.modelViewMatrix),R.setValue(de,"normalMatrix",a.normalMatrix),R.setValue(de,"modelMatrix",a.matrixWorld),D}function Be(e,n){e.ambientLightColor.needsUpdate=n,e.lightProbe.needsUpdate=n,e.directionalLights.needsUpdate=n,e.directionalLightShadows.needsUpdate=n,e.pointLights.needsUpdate=n,e.pointLightShadows.needsUpdate=n,e.spotLights.needsUpdate=n,e.spotLightShadows.needsUpdate=n,e.rectAreaLights.needsUpdate=n,e.hemisphereLights.needsUpdate=n}function ke(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ce.setAnimationLoop(we),"undefined"!==typeof window&&Ce.setContext(window),this.setAnimationLoop=function(e){ye=e,me.setAnimationLoop(e),null===e?Ce.stop():Ce.start()},me.addEventListener("sessionstart",be),me.addEventListener("sessionend",Ve),this.render=function(e,n){if(void 0===n||!0===n.isCamera){if(!0!==m){!0===e.autoUpdate&&e.updateMatrixWorld(),null===n.parent&&n.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(!0===me.cameraAutoUpdate&&me.updateCamera(n),n=me.getCamera()),!0===e.isScene&&e.onBeforeRender(p,e,n,v),(A=te.get(e,h.length)).init(),h.push(A),I.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),L.setFromProjectionMatrix(I),B=this.localClippingEnabled,M=re.init(this.clippingPlanes,B,n),(d=ne.get(e,f.length)).init(),f.push(d),Ee(e,n,0,p.sortObjects),d.finish(),!0===p.sortObjects&&d.sort(D,F),!0===M&&re.beginShadows();var t=A.state.shadowsArray;if(ae.render(t,e,n),!0===M&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),ie.render(d,e),A.setupLights(p.physicallyCorrectLights),n.isArrayCamera)for(var r=n.cameras,a=0,i=r.length;a<i;a++){var o=r[a];De(d,e,o,o.viewport)}else De(d,e,n);null!==v&&(K.updateMultisampleRenderTarget(v),K.updateRenderTargetMipmap(v)),!0===e.isScene&&e.onAfterRender(p,e,n),ce.resetDefaultState(),x=-1,_=null,h.pop(),A=h.length>0?h[h.length-1]:null,f.pop(),d=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return v},this.setRenderTargetTextures=function(e,n,t){X.get(e.texture).__webglTexture=n,X.get(e.depthTexture).__webglTexture=t;var r=X.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===t,r.__autoAllocateDepthBuffer||!0===G.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,n){var t=X.get(e);t.__webglFramebuffer=n,t.__useDefaultFramebuffer=void 0===n},this.setRenderTarget=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;v=e,S=n,g=t;var r=!0;if(e){var a=X.get(e);void 0!==a.__useDefaultFramebuffer?(H.bindFramebuffer(36160,null),r=!1):void 0===a.__webglFramebuffer?K.setupRenderTarget(e):a.__hasExternalTextures&&K.rebindTextures(e,X.get(e.texture).__webglTexture,X.get(e.depthTexture).__webglTexture)}var i=null,o=!1,s=!1;if(e){var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture)&&(s=!0);var u=X.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=u[n],o=!0):i=z.isWebGL2&&e.samples>0&&!1===K.useMultisampledRTT(e)?X.get(e).__webglMultisampledFramebuffer:u,y.copy(e.viewport),w.copy(e.scissor),b=e.scissorTest}else y.copy(T).multiplyScalar(E).floor(),w.copy(P).multiplyScalar(E).floor(),b=R;var c=H.bindFramebuffer(36160,i);if(c&&z.drawBuffers&&r&&H.drawBuffers(e,i),H.viewport(y),H.scissor(w),H.setScissorTest(b),o){var d=X.get(e.texture);de.framebufferTexture2D(36160,36064,34069+n,d.__webglTexture,t)}else if(s){var A=X.get(e.texture),f=n||0;de.framebufferTextureLayer(36160,36064,A.__webglTexture,t||0,f)}x=-1},this.readRenderTargetPixels=function(e,n,t,r,a,i,o){if(e&&e.isWebGLRenderTarget){var s=X.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){H.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==qi&&ue.convert(u)!==de.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=c===Xi&&(G.has("EXT_color_buffer_half_float")||z.isWebGL2&&G.has("EXT_color_buffer_float"));if(c!==Gi&&ue.convert(c)!==de.getParameter(35738)&&(c!==Wi||!(z.isWebGL2||G.has("OES_texture_float")||G.has("WEBGL_color_buffer_float")))&&!d)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===de.checkFramebufferStatus(36160)?n>=0&&n<=e.width-r&&t>=0&&t<=e.height-a&&de.readPixels(n,t,r,a,ue.convert(u),ue.convert(c),i):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var A=null!==v?X.get(v).__webglFramebuffer:null;H.bindFramebuffer(36160,A)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!0===n.isFramebufferTexture){var r=Math.pow(2,-t),a=Math.floor(n.image.width*r),i=Math.floor(n.image.height*r);K.setTexture2D(n,0),de.copyTexSubImage2D(3553,t,0,0,e.x,e.y,a,i),H.unbindTexture()}else console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.")},this.copyTextureToTexture=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=n.image.width,i=n.image.height,o=ue.convert(t.format),s=ue.convert(t.type);K.setTexture2D(t,0),de.pixelStorei(37440,t.flipY),de.pixelStorei(37441,t.premultiplyAlpha),de.pixelStorei(3317,t.unpackAlignment),n.isDataTexture?de.texSubImage2D(3553,r,e.x,e.y,a,i,o,s,n.image.data):n.isCompressedTexture?de.compressedTexSubImage2D(3553,r,e.x,e.y,n.mipmaps[0].width,n.mipmaps[0].height,o,n.mipmaps[0].data):de.texSubImage2D(3553,r,e.x,e.y,o,s,n.image),0===r&&t.generateMipmaps&&de.generateMipmap(3553),H.unbindTexture()},this.copyTextureToTexture3D=function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(p.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var i,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ue.convert(r.format),c=ue.convert(r.type);if(r.isData3DTexture)K.setTexture3D(r,0),i=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");K.setTexture2DArray(r,0),i=35866}de.pixelStorei(37440,r.flipY),de.pixelStorei(37441,r.premultiplyAlpha),de.pixelStorei(3317,r.unpackAlignment);var d=de.getParameter(3314),A=de.getParameter(32878),f=de.getParameter(3316),h=de.getParameter(3315),m=de.getParameter(32877),S=t.isCompressedTexture?t.mipmaps[0]:t.image;de.pixelStorei(3314,S.width),de.pixelStorei(32878,S.height),de.pixelStorei(3316,e.min.x),de.pixelStorei(3315,e.min.y),de.pixelStorei(32877,e.min.z),t.isDataTexture||t.isData3DTexture?de.texSubImage3D(i,a,n.x,n.y,n.z,o,s,l,u,c,S.data):t.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(i,a,n.x,n.y,n.z,o,s,l,u,S.data)):de.texSubImage3D(i,a,n.x,n.y,n.z,o,s,l,u,c,S),de.pixelStorei(3314,d),de.pixelStorei(32878,A),de.pixelStorei(3316,f),de.pixelStorei(3315,h),de.pixelStorei(32877,m),0===a&&r.generateMipmaps&&de.generateMipmap(i),H.unbindTexture()}},this.initTexture=function(e){K.setTexture2D(e,0),H.unbindTexture()},this.resetState=function(){S=0,g=0,v=null,H.reset(),ce.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}hA.prototype.isWebGLRenderer=!0;var pA=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t)}(hA);pA.prototype.isWebGL1Renderer=!0;var mA=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;r(this,e),this.name="",this.color=new us(n),this.density=t}return i(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();mA.prototype.isFogExp2=!0;var SA=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;r(this,e),this.name="",this.color=new us(n),this.near=t,this.far=a}return i(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();SA.prototype.isFog=!0;var gA=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:c(e)})),e}return i(t,[{key:"copy",value:function(e,n){return Si(l(t.prototype),"copy",this).call(this,e,n),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(n.object.fog=this.fog.toJSON()),n}}]),t}(wl);gA.prototype.isScene=!0;var vA=function(){function e(n,t){r(this,e),this.array=n,this.stride=t,this.count=void 0!==n?n.length/t:0,this.usage=Mo,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ho()}return i(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,n,t){e*=this.stride,t*=n.stride;for(var r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[t+r];return this}},{key:"set",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,n),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ho()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),t=new this.constructor(n,this.stride);return t.setUsage(this.usage),t}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ho()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();vA.prototype.isInterleavedBuffer=!0;var xA=new _s,_A=function(){function e(n,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,e),this.name="",this.data=n,this.itemSize=t,this.offset=a,this.normalized=!0===i}return i(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var n=0,t=this.data.count;n<t;n++)xA.x=this.getX(n),xA.y=this.getY(n),xA.z=this.getZ(n),xA.applyMatrix4(e),this.setXYZ(n,xA.x,xA.y,xA.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var n=0,t=this.count;n<t;n++)xA.x=this.getX(n),xA.y=this.getY(n),xA.z=this.getZ(n),xA.applyNormalMatrix(e),this.setXYZ(n,xA.x,xA.y,xA.z);return this}},{key:"transformDirection",value:function(e){for(var n=0,t=this.count;n<t;n++)xA.x=this.getX(n),xA.y=this.getY(n),xA.z=this.getZ(n),xA.transformDirection(e),this.setXYZ(n,xA.x,xA.y,xA.z);return this}},{key:"setX",value:function(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}},{key:"setY",value:function(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}},{key:"setZ",value:function(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}},{key:"setW",value:function(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,n,t){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=t,this}},{key:"setXYZ",value:function(e,n,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=t,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,n,t,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=t,this.data.array[e+2]=r,this.data.array[e+3]=a,this}},{key:"clone",value:function(n){if(void 0===n){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],r=0;r<this.count;r++)for(var a=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[a+i]);return new jl(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===n.interleavedBuffers&&(n.interleavedBuffers={}),void 0===n.interleavedBuffers[this.data.uuid]&&(n.interleavedBuffers[this.data.uuid]=this.data.clone(n)),new e(n.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],t=0;t<this.count;t++)for(var r=t*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[r+a]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();_A.prototype.isInterleavedBufferAttribute=!0;var yA,wA=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="SpriteMaterial",a.color=new us(16777215),a.map=null,a.alphaMap=null,a.rotation=0,a.sizeAttenuation=!0,a.transparent=!0,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),t}(kl);wA.prototype.isSpriteMaterial=!0;var bA=new _s,VA=new _s,CA=new _s,EA=new Zo,DA=new Zo,FA=new Zs,TA=new _s,PA=new _s,RA=new _s,LA=new Zo,MA=new Zo,BA=new Zo,kA=function(e){s(t,e);var n=A(t);function t(e){var a;if(r(this,t),(a=n.call(this)).type="Sprite",void 0===yA){yA=new Jl;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new vA(i,5);yA.setIndex([0,1,2,0,2,3]),yA.setAttribute("position",new _A(o,3,0,!1)),yA.setAttribute("uv",new _A(o,2,3,!1))}return a.geometry=yA,a.material=void 0!==e?e:new wA,a.center=new Zo(.5,.5),a}return i(t,[{key:"raycast",value:function(e,n){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),VA.setFromMatrixScale(this.matrixWorld),FA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),CA.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&VA.multiplyScalar(-CA.z);var t,r,a=this.material.rotation;0!==a&&(r=Math.cos(a),t=Math.sin(a));var i=this.center;IA(TA.set(-.5,-.5,0),CA,i,VA,t,r),IA(PA.set(.5,-.5,0),CA,i,VA,t,r),IA(RA.set(.5,.5,0),CA,i,VA,t,r),LA.set(0,0),MA.set(1,0),BA.set(1,1);var o=e.ray.intersectTriangle(TA,PA,RA,!1,bA);if(null!==o||(IA(PA.set(-.5,.5,0),CA,i,VA,t,r),MA.set(0,1),null!==(o=e.ray.intersectTriangle(TA,RA,PA,!1,bA)))){var s=e.ray.origin.distanceTo(bA);s<e.near||s>e.far||n.push({distance:s,point:bA.clone(),uv:Ml.getUV(bA,TA,PA,RA,LA,MA,BA,new Zo),face:null,object:this})}}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),t}(wl);function IA(e,n,t,r,a,i){EA.subVectors(e,t).addScalar(.5).multiply(r),void 0!==a?(DA.x=i*EA.x-a*EA.y,DA.y=a*EA.x+i*EA.y):DA.copy(EA),e.copy(n),e.x+=DA.x,e.y+=DA.y,e.applyMatrix4(FA)}kA.prototype.isSprite=!0;var OA=new _s,NA=new ps,jA=new ps,UA=new _s,GA=new Zs,zA=function(e){s(t,e);var n=A(t);function t(e,a){var i;return r(this,t),(i=n.call(this,e,a)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Zs,i.bindMatrixInverse=new Zs,i}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,n){this.skeleton=e,void 0===n&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new ps,n=this.geometry.attributes.skinWeight,t=0,r=n.count;t<r;t++){e.x=n.getX(t),e.y=n.getY(t),e.z=n.getZ(t),e.w=n.getW(t);var a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(t,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Si(l(t.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,n){var t=this.skeleton,r=this.geometry;NA.fromBufferAttribute(r.attributes.skinIndex,e),jA.fromBufferAttribute(r.attributes.skinWeight,e),OA.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(var a=0;a<4;a++){var i=jA.getComponent(a);if(0!==i){var o=NA.getComponent(a);GA.multiplyMatrices(t.bones[o].matrixWorld,t.boneInverses[o]),n.addScaledVector(UA.copy(OA).applyMatrix4(GA),i)}}return n.applyMatrix4(this.bindMatrixInverse)}}]),t}(pu);zA.prototype.isSkinnedMesh=!0;var HA=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this)).type="Bone",e}return i(t)}(wl);HA.prototype.isBone=!0;var WA=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:ki,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:ki,h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return r(this,t),(e=n.call(this,null,u,c,d,A,f,s,l,h,p)).image={data:a,width:i,height:o},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return i(t)}(hs);WA.prototype.isDataTexture=!0;var XA=function(e){s(t,e);var n=A(t);function t(e,a,i){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return r(this,t),"number"===typeof i&&(s=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(o=n.call(this,e,a,i)).meshPerAttribute=s,o}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),t}(jl);XA.prototype.isInstancedBufferAttribute=!0;var KA=new Zs,qA=new Zs,YA=[],QA=new pu,JA=function(e){s(t,e);var n=A(t);function t(e,a,i){var o;return r(this,t),(o=n.call(this,e,a)).instanceMatrix=new XA(new Float32Array(16*i),16),o.instanceColor=null,o.count=i,o.frustumCulled=!1,o}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,n){n.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,n){n.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,n){var t=this.matrixWorld,r=this.count;if(QA.geometry=this.geometry,QA.material=this.material,void 0!==QA.material)for(var a=0;a<r;a++){this.getMatrixAt(a,KA),qA.multiplyMatrices(t,KA),QA.matrixWorld=qA,QA.raycast(e,YA);for(var i=0,o=YA.length;i<o;i++){var s=YA[i];s.instanceId=a,s.object=this,n.push(s)}YA.length=0}}},{key:"setColorAt",value:function(e,n){null===this.instanceColor&&(this.instanceColor=new XA(new Float32Array(3*this.instanceMatrix.count),3)),n.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,n){n.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),t}(pu);JA.prototype.isInstancedMesh=!0;var ZA=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="LineBasicMaterial",a.color=new us(16777215),a.linewidth=1,a.linecap="round",a.linejoin="round",a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),t}(kl);ZA.prototype.isLineBasicMaterial=!0;var $A=new _s,ef=new _s,nf=new Zs,tf=new Js,rf=new zs,af=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Jl,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ZA;return r(this,t),(e=n.call(this)).type="Line",e.geometry=a,e.material=i,e.updateMorphTargets(),e}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var n=e.attributes.position,t=[0],r=1,a=n.count;r<a;r++)$A.fromBufferAttribute(n,r-1),ef.fromBufferAttribute(n,r),t[r]=t[r-1],t[r]+=$A.distanceTo(ef);e.setAttribute("lineDistance",new zl(t,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,n){var t=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,i=t.drawRange;if(null===t.boundingSphere&&t.computeBoundingSphere(),rf.copy(t.boundingSphere),rf.applyMatrix4(r),rf.radius+=a,!1!==e.ray.intersectsSphere(rf)){nf.copy(r).invert(),tf.copy(e.ray).applyMatrix4(nf);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new _s,u=new _s,c=new _s,d=new _s,A=this.isLineSegments?2:1;if(t.isBufferGeometry){var f=t.index,h=t.attributes.position;if(null!==f)for(var p=Math.max(0,i.start),m=Math.min(f.count,i.start+i.count)-1;p<m;p+=A){var S=f.getX(p),g=f.getX(p+1);if(l.fromBufferAttribute(h,S),u.fromBufferAttribute(h,g),!(tf.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var v=e.ray.origin.distanceTo(d);v<e.near||v>e.far||n.push({distance:v,point:c.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,i.start),_=Math.min(h.count,i.start+i.count)-1;x<_;x+=A){if(l.fromBufferAttribute(h,x),u.fromBufferAttribute(h,x+1),!(tf.distanceSqToSegment(l,u,d,c)>s)){d.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(d);y<e.near||y>e.far||n.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else t.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var n=e.morphAttributes,t=Object.keys(n);if(t.length>0){var r=n[t[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),t}(wl);af.prototype.isLine=!0;var of=new _s,sf=new _s,lf=function(e){s(t,e);var n=A(t);function t(e,a){var i;return r(this,t),(i=n.call(this,e,a)).type="LineSegments",i}return i(t,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var n=e.attributes.position,t=[],r=0,a=n.count;r<a;r+=2)of.fromBufferAttribute(n,r),sf.fromBufferAttribute(n,r+1),t[r]=0===r?0:t[r-1],t[r+1]=t[r]+of.distanceTo(sf);e.setAttribute("lineDistance",new zl(t,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),t}(af);lf.prototype.isLineSegments=!0;var uf=function(e){s(t,e);var n=A(t);function t(e,a){var i;return r(this,t),(i=n.call(this,e,a)).type="LineLoop",i}return i(t)}(af);uf.prototype.isLineLoop=!0;var cf=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="PointsMaterial",a.color=new us(16777215),a.map=null,a.alphaMap=null,a.size=1,a.sizeAttenuation=!0,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),t}(kl);cf.prototype.isPointsMaterial=!0;var df=new Zs,Af=new Js,ff=new zs,hf=new _s,pf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Jl,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new cf;return r(this,t),(e=n.call(this)).type="Points",e.geometry=a,e.material=i,e.updateMorphTargets(),e}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,n){var t=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,i=t.drawRange;if(null===t.boundingSphere&&t.computeBoundingSphere(),ff.copy(t.boundingSphere),ff.applyMatrix4(r),ff.radius+=a,!1!==e.ray.intersectsSphere(ff)){df.copy(r).invert(),Af.copy(e.ray).applyMatrix4(df);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(t.isBufferGeometry){var l=t.index,u=t.attributes.position;if(null!==l)for(var c=Math.max(0,i.start),d=Math.min(l.count,i.start+i.count);c<d;c++){var A=l.getX(c);hf.fromBufferAttribute(u,A),mf(hf,A,s,r,e,n,this)}else for(var f=Math.max(0,i.start),h=Math.min(u.count,i.start+i.count);f<h;f++)hf.fromBufferAttribute(u,f),mf(hf,f,s,r,e,n,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var n=e.morphAttributes,t=Object.keys(n);if(t.length>0){var r=n[t[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),t}(wl);function mf(e,n,t,r,a,i,o){var s=Af.distanceSqToPoint(e);if(s<t){var l=new _s;Af.closestPointToPoint(e,l),l.applyMatrix4(r);var u=a.ray.origin.distanceTo(l);if(u<a.near||u>a.far)return;i.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:n,face:null,object:o})}}pf.prototype.isPoints=!0,function(e){s(t,e);var n=A(t);function t(e,a,i,o,s,l,u,d,A){var f;r(this,t),(f=n.call(this,e,a,i,o,s,l,u,d,A)).minFilter=void 0!==l?l:Ni,f.magFilter=void 0!==s?s:Ni,f.generateMipmaps=!1;var h=c(f);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function n(){h.needsUpdate=!0,e.requestVideoFrameCallback(n)})),f}return i(t,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),t}(hs).prototype.isVideoTexture=!0,function(e){s(t,e);var n=A(t);function t(e,a,i){var o;return r(this,t),(o=n.call(this,{width:e,height:a})).format=i,o.magFilter=ki,o.minFilter=ki,o.generateMipmaps=!1,o.needsUpdate=!0,o}return i(t)}(hs).prototype.isFramebufferTexture=!0;var Sf=function(e){s(t,e);var n=A(t);function t(e,a,i,o,s,l,u,c,d,A,f,h){var p;return r(this,t),(p=n.call(this,null,l,u,c,d,A,o,s,f,h)).image={width:a,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return i(t)}(hs);Sf.prototype.isCompressedTexture=!0,function(e){s(t,e);var n=A(t);function t(e,a,i,o,s,l,u,c,d){var A;return r(this,t),(A=n.call(this,e,a,i,o,s,l,u,c,d)).needsUpdate=!0,A}return i(t)}(hs).prototype.isCanvasTexture=!0;var gf=new _s,vf=new _s,xf=new _s,_f=new Ml,yf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(r(this,t),(e=n.call(this)).type="EdgesGeometry",e.parameters={geometry:a,thresholdAngle:i},null!==a){for(var o=4,s=Math.pow(10,o),l=Math.cos(Go*i),u=a.getIndex(),c=a.getAttribute("position"),d=u?u.count:c.count,A=[0,0,0],f=["a","b","c"],h=new Array(3),p={},m=[],S=0;S<d;S+=3){u?(A[0]=u.getX(S),A[1]=u.getX(S+1),A[2]=u.getX(S+2)):(A[0]=S,A[1]=S+1,A[2]=S+2);var g=_f.a,v=_f.b,x=_f.c;if(g.fromBufferAttribute(c,A[0]),v.fromBufferAttribute(c,A[1]),x.fromBufferAttribute(c,A[2]),_f.getNormal(xf),h[0]="".concat(Math.round(g.x*s),",").concat(Math.round(g.y*s),",").concat(Math.round(g.z*s)),h[1]="".concat(Math.round(v.x*s),",").concat(Math.round(v.y*s),",").concat(Math.round(v.z*s)),h[2]="".concat(Math.round(x.x*s),",").concat(Math.round(x.y*s),",").concat(Math.round(x.z*s)),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(var _=0;_<3;_++){var y=(_+1)%3,w=h[_],b=h[y],V=_f[f[_]],C=_f[f[y]],E="".concat(w,"_").concat(b),D="".concat(b,"_").concat(w);D in p&&p[D]?(xf.dot(p[D].normal)<=l&&(m.push(V.x,V.y,V.z),m.push(C.x,C.y,C.z)),p[D]=null):E in p||(p[E]={index0:A[_],index1:A[y],normal:xf.clone()})}}for(var F in p)if(p[F]){var T=p[F],P=T.index0,R=T.index1;gf.fromBufferAttribute(c,P),vf.fromBufferAttribute(c,R),m.push(gf.x,gf.y,gf.z),m.push(vf.x,vf.y,vf.z)}e.setAttribute("position",new zl(m,3))}return e}return i(t)}(Jl),wf=function(){function e(){r(this,e),this.type="Curve",this.arcLengthDivisions=200}return i(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,n){var t=this.getUtoTmapping(e);return this.getPoint(t,n)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=[],t=0;t<=e;t++)n.push(this.getPoint(t/e));return n}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=[],t=0;t<=e;t++)n.push(this.getPointAt(t/e));return n}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var n,t=[],r=this.getPoint(0),a=0;t.push(0);for(var i=1;i<=e;i++)a+=(n=this.getPoint(i/e)).distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,n){var t,r=this.getLengths(),a=0,i=r.length;t=n||e*r[i-1];for(var o,s=0,l=i-1;s<=l;)if((o=r[a=Math.floor(s+(l-s)/2)]-t)<0)s=a+1;else{if(!(o>0)){l=a;break}l=a-1}if(r[a=l]===t)return a/(i-1);var u=r[a];return(a+(t-u)/(r[a+1]-u))/(i-1)}},{key:"getTangent",value:function(e,n){var t=1e-4,r=e-t,a=e+t;r<0&&(r=0),a>1&&(a=1);var i=this.getPoint(r),o=this.getPoint(a),s=n||(i.isVector2?new Zo:new _s);return s.copy(o).sub(i).normalize(),s}},{key:"getTangentAt",value:function(e,n){var t=this.getUtoTmapping(e);return this.getTangent(t,n)}},{key:"computeFrenetFrames",value:function(e,n){for(var t=new _s,r=[],a=[],i=[],o=new _s,s=new Zs,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new _s)}a[0]=new _s,i[0]=new _s;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),A=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=c&&(c=d,t.set(1,0,0)),A<=c&&(c=A,t.set(0,1,0)),f<=c&&t.set(0,0,1),o.crossVectors(r[0],t).normalize(),a[0].crossVectors(r[0],o),i[0].crossVectors(r[0],a[0]);for(var h=1;h<=e;h++){if(a[h]=a[h-1].clone(),i[h]=i[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();var p=Math.acos(Wo(r[h-1].dot(r[h]),-1,1));a[h].applyMatrix4(s.makeRotationAxis(o,p))}i[h].crossVectors(r[h],a[h])}if(!0===n){var m=Math.acos(Wo(a[0].dot(a[e]),-1,1));m/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(m=-m);for(var S=1;S<=e;S++)a[S].applyMatrix4(s.makeRotationAxis(r[S],m*S)),i[S].crossVectors(r[S],a[S])}return{tangents:r,normals:a,binormals:i}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),bf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return r(this,t),(e=n.call(this)).type="EllipseCurve",e.aX=a,e.aY=i,e.xRadius=o,e.yRadius=s,e.aStartAngle=l,e.aEndAngle=u,e.aClockwise=c,e.aRotation=d,e}return i(t,[{key:"getPoint",value:function(e,n){for(var t=n||new Zo,r=2*Math.PI,a=this.aEndAngle-this.aStartAngle,i=Math.abs(a)<Number.EPSILON;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(a=i?0:r),!0!==this.aClockwise||i||(a===r?a=-r:a-=r);var o=this.aStartAngle+e*a,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,A=l-this.aY;s=d*u-A*c+this.aX,l=d*c+A*u+this.aY}return t.set(s,l)}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),t}(wf);bf.prototype.isEllipseCurve=!0;var Vf=function(e){s(t,e);var n=A(t);function t(e,a,i,o,s,l){var u;return r(this,t),(u=n.call(this,e,a,i,i,o,s,l)).type="ArcCurve",u}return i(t)}(bf);function Cf(){var e=0,n=0,t=0,r=0;function a(a,i,o,s){e=a,n=o,t=-3*a+3*i-2*o-s,r=2*a-2*i+o+s}return{initCatmullRom:function(e,n,t,r,i){a(n,t,i*(t-e),i*(r-n))},initNonuniformCatmullRom:function(e,n,t,r,i,o,s){var l=(n-e)/i-(t-e)/(i+o)+(t-n)/o,u=(t-n)/o-(r-n)/(o+s)+(r-t)/s;a(n,t,l*=o,u*=o)},calc:function(a){var i=a*a;return e+n*a+t*i+r*(i*a)}}}Vf.prototype.isArcCurve=!0;var Ef=new _s,Df=new Cf,Ff=new Cf,Tf=new Cf,Pf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return r(this,t),(e=n.call(this)).type="CatmullRomCurve3",e.points=a,e.closed=i,e.curveType=o,e.tension=s,e}return i(t,[{key:"getPoint",value:function(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s,a=r,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?n=i[(l-1)%o]:(Ef.subVectors(i[0],i[1]).add(i[0]),n=Ef);var c=i[l%o],d=i[(l+1)%o];if(this.closed||l+2<o?t=i[(l+2)%o]:(Ef.subVectors(i[o-1],i[o-2]).add(i[o-1]),t=Ef),"centripetal"===this.curveType||"chordal"===this.curveType){var A="chordal"===this.curveType?.5:.25,f=Math.pow(n.distanceToSquared(c),A),h=Math.pow(c.distanceToSquared(d),A),p=Math.pow(d.distanceToSquared(t),A);h<1e-4&&(h=1),f<1e-4&&(f=h),p<1e-4&&(p=h),Df.initNonuniformCatmullRom(n.x,c.x,d.x,t.x,f,h,p),Ff.initNonuniformCatmullRom(n.y,c.y,d.y,t.y,f,h,p),Tf.initNonuniformCatmullRom(n.z,c.z,d.z,t.z,f,h,p)}else"catmullrom"===this.curveType&&(Df.initCatmullRom(n.x,c.x,d.x,t.x,this.tension),Ff.initCatmullRom(n.y,c.y,d.y,t.y,this.tension),Tf.initCatmullRom(n.z,c.z,d.z,t.z,this.tension));return a.set(Df.calc(u),Ff.calc(u),Tf.calc(u)),a}},{key:"copy",value:function(e){Si(l(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var a=e.points[n];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,r=this.points.length;n<r;n++){var a=this.points[n];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Si(l(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var a=e.points[n];this.points.push((new _s).fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),t}(wf);function Rf(e,n,t,r,a){var i=.5*(r-n),o=.5*(a-t),s=e*e;return(2*t-2*r+i+o)*(e*s)+(-3*t+3*r-2*i-o)*s+i*e+t}function Lf(e,n,t,r){return function(e,n){var t=1-e;return t*t*n}(e,n)+function(e,n){return 2*(1-e)*e*n}(e,t)+function(e,n){return e*e*n}(e,r)}function Mf(e,n,t,r,a){return function(e,n){var t=1-e;return t*t*t*n}(e,n)+function(e,n){var t=1-e;return 3*t*t*e*n}(e,t)+function(e,n){return 3*(1-e)*e*e*n}(e,r)+function(e,n){return e*e*e*n}(e,a)}Pf.prototype.isCatmullRomCurve3=!0;var Bf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zo,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Zo;return r(this,t),(e=n.call(this)).type="CubicBezierCurve",e.v0=a,e.v1=i,e.v2=o,e.v3=s,e}return i(t,[{key:"getPoint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo,t=n,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return t.set(Mf(e,r.x,a.x,i.x,o.x),Mf(e,r.y,a.y,i.y,o.y)),t}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),t}(wf);Bf.prototype.isCubicBezierCurve=!0;var kf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _s,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new _s;return r(this,t),(e=n.call(this)).type="CubicBezierCurve3",e.v0=a,e.v1=i,e.v2=o,e.v3=s,e}return i(t,[{key:"getPoint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s,t=n,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return t.set(Mf(e,r.x,a.x,i.x,o.x),Mf(e,r.y,a.y,i.y,o.y),Mf(e,r.z,a.z,i.z,o.z)),t}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),t}(wf);kf.prototype.isCubicBezierCurve3=!0;var If=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo;return r(this,t),(e=n.call(this)).type="LineCurve",e.v1=a,e.v2=i,e}return i(t,[{key:"getPoint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo,t=n;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,n){return this.getPoint(e,n)}},{key:"getTangent",value:function(e,n){var t=n||new Zo;return t.copy(this.v2).sub(this.v1).normalize(),t}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(wf);If.prototype.isLineCurve=!0;var Of=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s;return r(this,t),(e=n.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=a,e.v2=i,e}return i(t,[{key:"getPoint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s,t=n;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,n){return this.getPoint(e,n)}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(wf),Nf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zo,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zo;return r(this,t),(e=n.call(this)).type="QuadraticBezierCurve",e.v0=a,e.v1=i,e.v2=o,e}return i(t,[{key:"getPoint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo,t=n,r=this.v0,a=this.v1,i=this.v2;return t.set(Lf(e,r.x,a.x,i.x),Lf(e,r.y,a.y,i.y)),t}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(wf);Nf.prototype.isQuadraticBezierCurve=!0;var jf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _s;return r(this,t),(e=n.call(this)).type="QuadraticBezierCurve3",e.v0=a,e.v1=i,e.v2=o,e}return i(t,[{key:"getPoint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s,t=n,r=this.v0,a=this.v1,i=this.v2;return t.set(Lf(e,r.x,a.x,i.x),Lf(e,r.y,a.y,i.y),Lf(e,r.z,a.z,i.z)),t}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),t}(wf);jf.prototype.isQuadraticBezierCurve3=!0;var Uf=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r(this,t),(e=n.call(this)).type="SplineCurve",e.points=a,e}return i(t,[{key:"getPoint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo,t=n,r=this.points,a=(r.length-1)*e,i=Math.floor(a),o=a-i,s=r[0===i?i:i-1],l=r[i],u=r[i>r.length-2?r.length-1:i+1],c=r[i>r.length-3?r.length-1:i+2];return t.set(Rf(o,s.x,l.x,u.x,c.x),Rf(o,s.y,l.y,u.y,c.y)),t}},{key:"copy",value:function(e){Si(l(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var a=e.points[n];this.points.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,r=this.points.length;n<r;n++){var a=this.points[n];e.points.push(a.toArray())}return e}},{key:"fromJSON",value:function(e){Si(l(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var a=e.points[n];this.points.push((new Zo).fromArray(a))}return this}}]),t}(wf);Uf.prototype.isSplineCurve=!0;var Gf=Object.freeze({__proto__:null,ArcCurve:Vf,CatmullRomCurve3:Pf,CubicBezierCurve:Bf,CubicBezierCurve3:kf,EllipseCurve:bf,LineCurve:If,LineCurve3:Of,QuadraticBezierCurve:Nf,QuadraticBezierCurve3:jf,SplineCurve:Uf}),zf=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return i(t,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new If(n,e))}},{key:"getPoint",value:function(e,n){for(var t=e*this.getLength(),r=this.getCurveLengths(),a=0;a<r.length;){if(r[a]>=t){var i=r[a]-t,o=this.curves[a],s=o.getLength(),l=0===s?0:1-i/s;return o.getPointAt(l,n)}a++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],n=0,t=0,r=this.curves.length;t<r;t++)n+=this.curves[t].getLength(),e.push(n);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,n=[],t=0;t<=e;t++)n.push(this.getPoint(t/e));return this.autoClose&&n.push(n[0]),n}},{key:"getPoints",value:function(){for(var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=[],r=0,a=this.curves;r<a.length;r++)for(var i=a[r],o=i.isEllipseCurve?2*n:i.isLineCurve||i.isLineCurve3?1:i.isSplineCurve?n*i.points.length:n,s=i.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(t.push(u),e=u)}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},{key:"copy",value:function(e){Si(l(t.prototype),"copy",this).call(this,e),this.curves=[];for(var n=0,r=e.curves.length;n<r;n++){var a=e.curves[n];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var n=0,r=this.curves.length;n<r;n++){var a=this.curves[n];e.curves.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){Si(l(t.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var n=0,r=e.curves.length;n<r;n++){var a=e.curves[n];this.curves.push((new Gf[a.type]).fromJSON(a))}return this}}]),t}(wf),Hf=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="Path",a.currentPoint=new Zo,e&&a.setFromPoints(e),a}return i(t,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var n=1,t=e.length;n<t;n++)this.lineTo(e[n].x,e[n].y);return this}},{key:"moveTo",value:function(e,n){return this.currentPoint.set(e,n),this}},{key:"lineTo",value:function(e,n){var t=new If(this.currentPoint.clone(),new Zo(e,n));return this.curves.push(t),this.currentPoint.set(e,n),this}},{key:"quadraticCurveTo",value:function(e,n,t,r){var a=new Nf(this.currentPoint.clone(),new Zo(e,n),new Zo(t,r));return this.curves.push(a),this.currentPoint.set(t,r),this}},{key:"bezierCurveTo",value:function(e,n,t,r,a,i){var o=new Bf(this.currentPoint.clone(),new Zo(e,n),new Zo(t,r),new Zo(a,i));return this.curves.push(o),this.currentPoint.set(a,i),this}},{key:"splineThru",value:function(e){var n=[this.currentPoint.clone()].concat(e),t=new Uf(n);return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,n,t,r,a,i){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,n+s,t,r,a,i),this}},{key:"absarc",value:function(e,n,t,r,a,i){return this.absellipse(e,n,t,t,r,a,i),this}},{key:"ellipse",value:function(e,n,t,r,a,i,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,n+u,t,r,a,i,o,s),this}},{key:"absellipse",value:function(e,n,t,r,a,i,o,s){var l=new bf(e,n,t,r,a,i,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Si(l(t.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),t}(zf),Wf=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this,e)).uuid=Ho(),a.type="Shape",a.holes=[],a}return i(t,[{key:"getPointsHoles",value:function(e){for(var n=[],t=0,r=this.holes.length;t<r;t++)n[t]=this.holes[t].getPoints(e);return n}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Si(l(t.prototype),"copy",this).call(this,e),this.holes=[];for(var n=0,r=e.holes.length;n<r;n++){var a=e.holes[n];this.holes.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var n=0,r=this.holes.length;n<r;n++){var a=this.holes[n];e.holes.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){Si(l(t.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var n=0,r=e.holes.length;n<r;n++){var a=e.holes[n];this.holes.push((new Hf).fromJSON(a))}return this}}]),t}(Hf),Xf=function(e,n){var t,r,a,i,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=n&&n.length,d=c?n[0]*u:e.length,A=Kf(e,0,d,u,!0),f=[];if(!A||A.next===A.prev)return f;if(c&&(A=eh(e,n,A,u)),e.length>80*u){t=a=e[0],r=i=e[1];for(var h=u;h<d;h+=u)(o=e[h])<t&&(t=o),(s=e[h+1])<r&&(r=s),o>a&&(a=o),s>i&&(i=s);l=0!==(l=Math.max(a-t,i-r))?1/l:0}return Yf(A,f,u,t,r,l),f};function Kf(e,n,t,r,a){var i,o;if(a===function(e,n,t,r){for(var a=0,i=n,o=t-r;i<t;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}(e,n,t,r)>0)for(i=n;i<t;i+=r)o=ph(i,e[i],e[i+1],o);else for(i=t-r;i>=n;i-=r)o=ph(i,e[i],e[i+1],o);return o&&uh(o,o.next)&&(mh(o),o=o.next),o}function qf(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!uh(r,r.next)&&0!==lh(r.prev,r,r.next))r=r.next;else{if(mh(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function Yf(e,n,t,r,a,i,o){if(e){!o&&i&&function(e,n,t,r){var a=e;do{null===a.z&&(a.z=ah(a.x,a.y,n,t,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var n,t,r,a,i,o,s,l,u=1;do{for(t=e,e=null,i=null,o=0;t;){for(o++,r=t,s=0,n=0;n<u&&(s++,r=r.nextZ);n++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||t.z<=r.z)?(a=t,t=t.nextZ,s--):(a=r,r=r.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;t=r}i.nextZ=null,u*=2}while(o>1)}(a)}(e,r,a,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?Jf(e,r,a,i):Qf(e))n.push(s.i/t),n.push(e.i/t),n.push(l.i/t),mh(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Yf(e=Zf(qf(e),n,t),n,t,r,a,i,2):2===o&&$f(e,n,t,r,a,i):Yf(qf(e),n,t,r,a,i,1);break}}}function Qf(e){var n=e.prev,t=e,r=e.next;if(lh(n,t,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(oh(n.x,n.y,t.x,t.y,r.x,r.y,a.x,a.y)&&lh(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function Jf(e,n,t,r){var a=e.prev,i=e,o=e.next;if(lh(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,l=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,u=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,c=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,d=ah(s,l,n,t,r),A=ah(u,c,n,t,r),f=e.prevZ,h=e.nextZ;f&&f.z>=d&&h&&h.z<=A;){if(f!==e.prev&&f!==e.next&&oh(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&lh(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,h!==e.prev&&h!==e.next&&oh(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&lh(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&oh(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&lh(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;h&&h.z<=A;){if(h!==e.prev&&h!==e.next&&oh(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&lh(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function Zf(e,n,t){var r=e;do{var a=r.prev,i=r.next.next;!uh(a,i)&&ch(a,r,r.next,i)&&fh(a,i)&&fh(i,a)&&(n.push(a.i/t),n.push(r.i/t),n.push(i.i/t),mh(r),mh(r.next),r=e=i),r=r.next}while(r!==e);return qf(r)}function $f(e,n,t,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&sh(o,s)){var l=hh(o,s);return o=qf(o,o.next),l=qf(l,l.next),Yf(o,n,t,r,a,i),void Yf(l,n,t,r,a,i)}s=s.next}o=o.next}while(o!==e)}function eh(e,n,t,r){var a,i,o,s=[];for(a=0,i=n.length;a<i;a++)(o=Kf(e,n[a]*r,a<i-1?n[a+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(ih(o));for(s.sort(nh),a=0;a<s.length;a++)th(s[a],t),t=qf(t,t.next);return t}function nh(e,n){return e.x-n.x}function th(e,n){if(n=function(e,n){var t,r=n,a=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>o){if(o=s,s===a){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(a===o)return t;var l,u=t,c=t.x,d=t.y,A=1/0;r=t;do{a>=r.x&&r.x>=c&&a!==r.x&&oh(i<d?a:o,i,c,d,i<d?o:a,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(a-r.x),fh(r,e)&&(l<A||l===A&&(r.x>t.x||r.x===t.x&&rh(t,r)))&&(t=r,A=l)),r=r.next}while(r!==u);return t}(e,n),n){var t=hh(n,e);qf(n,n.next),qf(t,t.next)}}function rh(e,n){return lh(e.prev,e,n.prev)<0&&lh(n.next,e,e.next)<0}function ah(e,n,t,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*a)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function ih(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function oh(e,n,t,r,a,i,o,s){return(a-o)*(n-s)-(e-o)*(i-s)>=0&&(e-o)*(r-s)-(t-o)*(n-s)>=0&&(t-o)*(i-s)-(a-o)*(r-s)>=0}function sh(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!function(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&ch(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}(e,n)&&(fh(e,n)&&fh(n,e)&&function(e,n){var t=e,r=!1,a=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!==t.next.y>i&&t.next.y!==t.y&&a<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}(e,n)&&(lh(e.prev,e,n.prev)||lh(e,n.prev,n))||uh(e,n)&&lh(e.prev,e,e.next)>0&&lh(n.prev,n,n.next)>0)}function lh(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function uh(e,n){return e.x===n.x&&e.y===n.y}function ch(e,n,t,r){var a=Ah(lh(e,n,t)),i=Ah(lh(e,n,r)),o=Ah(lh(t,r,e)),s=Ah(lh(t,r,n));return a!==i&&o!==s||(!(0!==a||!dh(e,t,n))||(!(0!==i||!dh(e,r,n))||(!(0!==o||!dh(t,e,r))||!(0!==s||!dh(t,n,r)))))}function dh(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function Ah(e){return e>0?1:e<0?-1:0}function fh(e,n){return lh(e.prev,e,e.next)<0?lh(e,n,e.next)>=0&&lh(e,e.prev,n)>=0:lh(e,n,e.prev)<0||lh(e,e.next,n)<0}function hh(e,n){var t=new Sh(e.i,e.x,e.y),r=new Sh(n.i,n.x,n.y),a=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=a,a.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function ph(e,n,t,r){var a=new Sh(e,n,t);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function mh(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Sh(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var gh=function(){function e(){r(this,e)}return i(e,null,[{key:"area",value:function(e){for(var n=e.length,t=0,r=n-1,a=0;a<n;r=a++)t+=e[r].x*e[a].y-e[a].x*e[r].y;return.5*t}},{key:"isClockWise",value:function(n){return e.area(n)<0}},{key:"triangulateShape",value:function(e,n){var t=[],r=[],a=[];vh(e),xh(t,e);var i=e.length;n.forEach(vh);for(var o=0;o<n.length;o++)r.push(i),i+=n[o].length,xh(t,n[o]);for(var s=Xf(t,r),l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}]),e}();function vh(e){var n=e.length;n>2&&e[n-1].equals(e[0])&&e.pop()}function xh(e,n){for(var t=0;t<n.length;t++)e.push(n[t].x),e.push(n[t].y)}var _h=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wf([new Zo(.5,.5),new Zo(-.5,.5),new Zo(-.5,-.5),new Zo(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),(e=n.call(this)).type="ExtrudeGeometry",e.parameters={shapes:a,options:i},a=Array.isArray(a)?a:[a];for(var o=c(e),s=[],l=[],u=0,d=a.length;u<d;u++){var A=a[u];f(A)}function f(e){var n=[],t=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,a=void 0!==i.depth?i.depth:1,u=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:.2,d=void 0!==i.bevelSize?i.bevelSize:c-.1,A=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,h=i.extrudePath,p=void 0!==i.UVGenerator?i.UVGenerator:yh;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),a=i.amount);var m,S,g,v,x,_=!1;h&&(m=h.getSpacedPoints(r),_=!0,u=!1,S=h.computeFrenetFrames(r,!1),g=new _s,v=new _s,x=new _s),u||(f=0,c=0,d=0,A=0);var y=e.extractPoints(t),w=y.shape,b=y.holes;if(!gh.isClockWise(w)){w=w.reverse();for(var V=0,C=b.length;V<C;V++){var E=b[V];gh.isClockWise(E)&&(b[V]=E.reverse())}}for(var D=gh.triangulateShape(w,b),F=w,T=0,P=b.length;T<P;T++){var R=b[T];w=w.concat(R)}function L(e,n,t){return n||console.error("THREE.ExtrudeGeometry: vec does not exist"),n.clone().multiplyScalar(t).add(e)}var M=w.length,B=D.length;function k(e,n,t){var r,a,i,o=e.x-n.x,s=e.y-n.y,l=t.x-e.x,u=t.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var A=Math.sqrt(c),f=Math.sqrt(l*l+u*u),h=n.x-s/A,p=n.y+o/A,m=((t.x-u/f-h)*u-(t.y+l/f-p)*l)/(o*u-s*l),S=(r=h+o*m-e.x)*r+(a=p+s*m-e.y)*a;if(S<=2)return new Zo(r,a);i=Math.sqrt(S/2)}else{var g=!1;o>Number.EPSILON?l>Number.EPSILON&&(g=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(u)&&(g=!0),g?(r=-s,a=o,i=Math.sqrt(c)):(r=o,a=s,i=Math.sqrt(c/2))}return new Zo(r/i,a/i)}for(var I=[],O=0,N=F.length,j=N-1,U=O+1;O<N;O++,j++,U++)j===N&&(j=0),U===N&&(U=0),I[O]=k(F[O],F[j],F[U]);for(var G,z=[],H=I.concat(),W=0,X=b.length;W<X;W++){var K=b[W];G=[];for(var q=0,Y=K.length,Q=Y-1,J=q+1;q<Y;q++,Q++,J++)Q===Y&&(Q=0),J===Y&&(J=0),G[q]=k(K[q],K[Q],K[J]);z.push(G),H=H.concat(G)}for(var Z=0;Z<f;Z++){for(var $=Z/f,ee=c*Math.cos($*Math.PI/2),ne=d*Math.sin($*Math.PI/2)+A,te=0,re=F.length;te<re;te++){var ae=L(F[te],I[te],ne);Pe(ae.x,ae.y,-ee)}for(var ie=0,oe=b.length;ie<oe;ie++){var se=b[ie];G=z[ie];for(var le=0,ue=se.length;le<ue;le++){var ce=L(se[le],G[le],ne);Pe(ce.x,ce.y,-ee)}}}for(var de=d+A,Ae=0;Ae<M;Ae++){var fe=u?L(w[Ae],H[Ae],de):w[Ae];_?(v.copy(S.normals[0]).multiplyScalar(fe.x),g.copy(S.binormals[0]).multiplyScalar(fe.y),x.copy(m[0]).add(v).add(g),Pe(x.x,x.y,x.z)):Pe(fe.x,fe.y,0)}for(var he=1;he<=r;he++)for(var pe=0;pe<M;pe++){var me=u?L(w[pe],H[pe],de):w[pe];_?(v.copy(S.normals[he]).multiplyScalar(me.x),g.copy(S.binormals[he]).multiplyScalar(me.y),x.copy(m[he]).add(v).add(g),Pe(x.x,x.y,x.z)):Pe(me.x,me.y,a/r*he)}for(var Se=f-1;Se>=0;Se--){for(var ge=Se/f,ve=c*Math.cos(ge*Math.PI/2),xe=d*Math.sin(ge*Math.PI/2)+A,_e=0,ye=F.length;_e<ye;_e++){var we=L(F[_e],I[_e],xe);Pe(we.x,we.y,a+ve)}for(var be=0,Ve=b.length;be<Ve;be++){var Ce=b[be];G=z[be];for(var Ee=0,De=Ce.length;Ee<De;Ee++){var Fe=L(Ce[Ee],G[Ee],xe);_?Pe(Fe.x,Fe.y+m[r-1].y,m[r-1].x+ve):Pe(Fe.x,Fe.y,a+ve)}}}function Te(e,n){for(var t=e.length;--t>=0;){var a=t,i=t-1;i<0&&(i=e.length-1);for(var o=0,s=r+2*f;o<s;o++){var l=M*o,u=M*(o+1);Le(n+a+l,n+i+l,n+i+u,n+a+u)}}}function Pe(e,t,r){n.push(e),n.push(t),n.push(r)}function Re(e,n,t){Me(e),Me(n),Me(t);var r=s.length/3,a=p.generateTopUV(o,s,r-3,r-2,r-1);Be(a[0]),Be(a[1]),Be(a[2])}function Le(e,n,t,r){Me(e),Me(n),Me(r),Me(n),Me(t),Me(r);var a=s.length/3,i=p.generateSideWallUV(o,s,a-6,a-3,a-2,a-1);Be(i[0]),Be(i[1]),Be(i[3]),Be(i[1]),Be(i[2]),Be(i[3])}function Me(e){s.push(n[3*e+0]),s.push(n[3*e+1]),s.push(n[3*e+2])}function Be(e){l.push(e.x),l.push(e.y)}!function(){var e=s.length/3;if(u){for(var n=0,t=M*n,a=0;a<B;a++){var i=D[a];Re(i[2]+t,i[1]+t,i[0]+t)}t=M*(n=r+2*f);for(var l=0;l<B;l++){var c=D[l];Re(c[0]+t,c[1]+t,c[2]+t)}}else{for(var d=0;d<B;d++){var A=D[d];Re(A[2],A[1],A[0])}for(var h=0;h<B;h++){var p=D[h];Re(p[0]+M*r,p[1]+M*r,p[2]+M*r)}}o.addGroup(e,s.length/3-e,0)}(),function(){var e=s.length/3,n=0;Te(F,n),n+=F.length;for(var t=0,r=b.length;t<r;t++){var a=b[t];Te(a,n),n+=a.length}o.addGroup(e,s.length/3-e,1)}()}return e.setAttribute("position",new zl(s,3)),e.setAttribute("uv",new zl(l,2)),e.computeVertexNormals(),e}return i(t,[{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return function(e,n,t){if(t.shapes=[],Array.isArray(e))for(var r=0,a=e.length;r<a;r++){var i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);void 0!==n.extrudePath&&(t.options.extrudePath=n.extrudePath.toJSON());return t}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,n){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=n[e.shapes[a]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new Gf[s.type]).fromJSON(s)),new t(r,e.options)}}]),t}(Jl),yh={generateTopUV:function(e,n,t,r,a){var i=n[3*t],o=n[3*t+1],s=n[3*r],l=n[3*r+1],u=n[3*a],c=n[3*a+1];return[new Zo(i,o),new Zo(s,l),new Zo(u,c)]},generateSideWallUV:function(e,n,t,r,a,i){var o=n[3*t],s=n[3*t+1],l=n[3*t+2],u=n[3*r],c=n[3*r+1],d=n[3*r+2],A=n[3*a],f=n[3*a+1],h=n[3*a+2],p=n[3*i],m=n[3*i+1],S=n[3*i+2];return Math.abs(s-c)<Math.abs(o-u)?[new Zo(o,1-l),new Zo(u,1-d),new Zo(A,1-h),new Zo(p,1-S)]:[new Zo(s,1-l),new Zo(c,1-d),new Zo(f,1-h),new Zo(m,1-S)]}};var wh=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wf([new Zo(0,.5),new Zo(-.5,-.5),new Zo(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;r(this,t),(e=n.call(this)).type="ShapeGeometry",e.parameters={shapes:a,curveSegments:i};var o=[],s=[],l=[],u=[],c=0,d=0;if(!1===Array.isArray(a))f(a);else for(var A=0;A<a.length;A++)f(a[A]),e.addGroup(c,d,A),c+=d,d=0;function f(e){var n=s.length/3,t=e.extractPoints(i),r=t.shape,a=t.holes;!1===gh.isClockWise(r)&&(r=r.reverse());for(var c=0,A=a.length;c<A;c++){var f=a[c];!0===gh.isClockWise(f)&&(a[c]=f.reverse())}for(var h=gh.triangulateShape(r,a),p=0,m=a.length;p<m;p++){var S=a[p];r=r.concat(S)}for(var g=0,v=r.length;g<v;g++){var x=r[g];s.push(x.x,x.y,0),l.push(0,0,1),u.push(x.x,x.y)}for(var _=0,y=h.length;_<y;_++){var w=h[_],b=w[0]+n,V=w[1]+n,C=w[2]+n;o.push(b,V,C),d+=3}}return e.setIndex(o),e.setAttribute("position",new zl(s,3)),e.setAttribute("normal",new zl(l,3)),e.setAttribute("uv",new zl(u,2)),e}return i(t,[{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this);return function(e,n){if(n.shapes=[],Array.isArray(e))for(var t=0,r=e.length;t<r;t++){var a=e[t];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return n}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,n){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=n[e.shapes[a]];r.push(o)}return new t(r,e.curveSegments)}}]),t}(Jl);var bh=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="ShadowMaterial",a.color=new us(0),a.transparent=!0,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),t}(kl);bh.prototype.isShadowMaterial=!0;var Vh=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this,e)).type="RawShaderMaterial",a}return i(t)}(_u);Vh.prototype.isRawShaderMaterial=!0;var Ch=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).defines={STANDARD:""},a.type="MeshStandardMaterial",a.color=new us(16777215),a.roughness=1,a.metalness=0,a.map=null,a.lightMap=null,a.lightMapIntensity=1,a.aoMap=null,a.aoMapIntensity=1,a.emissive=new us(0),a.emissiveIntensity=1,a.emissiveMap=null,a.bumpMap=null,a.bumpScale=1,a.normalMap=null,a.normalMapType=0,a.normalScale=new Zo(1,1),a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.roughnessMap=null,a.metalnessMap=null,a.alphaMap=null,a.envMap=null,a.envMapIntensity=1,a.refractionRatio=.98,a.wireframe=!1,a.wireframeLinewidth=1,a.wireframeLinecap="round",a.wireframeLinejoin="round",a.flatShading=!1,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),t}(kl);Ch.prototype.isMeshStandardMaterial=!0;var Eh=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).defines={STANDARD:"",PHYSICAL:""},a.type="MeshPhysicalMaterial",a.clearcoatMap=null,a.clearcoatRoughness=0,a.clearcoatRoughnessMap=null,a.clearcoatNormalScale=new Zo(1,1),a.clearcoatNormalMap=null,a.ior=1.5,Object.defineProperty(c(a),"reflectivity",{get:function(){return Wo(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),a.sheenColor=new us(0),a.sheenColorMap=null,a.sheenRoughness=1,a.sheenRoughnessMap=null,a.transmissionMap=null,a.thickness=0,a.thicknessMap=null,a.attenuationDistance=0,a.attenuationColor=new us(1,1,1),a.specularIntensity=1,a.specularIntensityMap=null,a.specularColor=new us(1,1,1),a.specularColorMap=null,a._sheen=0,a._clearcoat=0,a._transmission=0,a.setValues(e),a}return i(t,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),t}(Ch);Eh.prototype.isMeshPhysicalMaterial=!0;var Dh=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="MeshPhongMaterial",a.color=new us(16777215),a.specular=new us(1118481),a.shininess=30,a.map=null,a.lightMap=null,a.lightMapIntensity=1,a.aoMap=null,a.aoMapIntensity=1,a.emissive=new us(0),a.emissiveIntensity=1,a.emissiveMap=null,a.bumpMap=null,a.bumpScale=1,a.normalMap=null,a.normalMapType=0,a.normalScale=new Zo(1,1),a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.specularMap=null,a.alphaMap=null,a.envMap=null,a.combine=0,a.reflectivity=1,a.refractionRatio=.98,a.wireframe=!1,a.wireframeLinewidth=1,a.wireframeLinecap="round",a.wireframeLinejoin="round",a.flatShading=!1,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),t}(kl);Dh.prototype.isMeshPhongMaterial=!0;var Fh=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).defines={TOON:""},a.type="MeshToonMaterial",a.color=new us(16777215),a.map=null,a.gradientMap=null,a.lightMap=null,a.lightMapIntensity=1,a.aoMap=null,a.aoMapIntensity=1,a.emissive=new us(0),a.emissiveIntensity=1,a.emissiveMap=null,a.bumpMap=null,a.bumpScale=1,a.normalMap=null,a.normalMapType=0,a.normalScale=new Zo(1,1),a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.alphaMap=null,a.wireframe=!1,a.wireframeLinewidth=1,a.wireframeLinecap="round",a.wireframeLinejoin="round",a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),t}(kl);Fh.prototype.isMeshToonMaterial=!0;var Th=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="MeshNormalMaterial",a.bumpMap=null,a.bumpScale=1,a.normalMap=null,a.normalMapType=0,a.normalScale=new Zo(1,1),a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.wireframe=!1,a.wireframeLinewidth=1,a.fog=!1,a.flatShading=!1,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),t}(kl);Th.prototype.isMeshNormalMaterial=!0;var Ph=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="MeshLambertMaterial",a.color=new us(16777215),a.map=null,a.lightMap=null,a.lightMapIntensity=1,a.aoMap=null,a.aoMapIntensity=1,a.emissive=new us(0),a.emissiveIntensity=1,a.emissiveMap=null,a.specularMap=null,a.alphaMap=null,a.envMap=null,a.combine=0,a.reflectivity=1,a.refractionRatio=.98,a.wireframe=!1,a.wireframeLinewidth=1,a.wireframeLinecap="round",a.wireframeLinejoin="round",a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),t}(kl);Ph.prototype.isMeshLambertMaterial=!0;var Rh=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).defines={MATCAP:""},a.type="MeshMatcapMaterial",a.color=new us(16777215),a.matcap=null,a.map=null,a.bumpMap=null,a.bumpScale=1,a.normalMap=null,a.normalMapType=0,a.normalScale=new Zo(1,1),a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.alphaMap=null,a.flatShading=!1,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),t}(kl);Rh.prototype.isMeshMatcapMaterial=!0;var Lh=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="LineDashedMaterial",a.scale=1,a.dashSize=3,a.gapSize=1,a.setValues(e),a}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),t}(ZA);Lh.prototype.isLineDashedMaterial=!0;var Mh={ShadowMaterial:bh,SpriteMaterial:wA,RawShaderMaterial:Vh,ShaderMaterial:_u,PointsMaterial:cf,MeshPhysicalMaterial:Eh,MeshStandardMaterial:Ch,MeshPhongMaterial:Dh,MeshToonMaterial:Fh,MeshNormalMaterial:Th,MeshLambertMaterial:Ph,MeshDepthMaterial:eA,MeshDistanceMaterial:nA,MeshBasicMaterial:Il,MeshMatcapMaterial:Rh,LineDashedMaterial:Lh,LineBasicMaterial:ZA,Material:kl};kl.fromType=function(e){return new Mh[e]};var Bh={arraySlice:function(e,n,t){return Bh.isTypedArray(e)?new e.constructor(e.subarray(n,void 0!==t?t:e.length)):e.slice(n,t)},convertArray:function(e,n,t){return!e||!t&&e.constructor===n?e:"number"===typeof n.BYTES_PER_ELEMENT?new n(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var n=e.length,t=new Array(n),r=0;r!==n;++r)t[r]=r;return t.sort((function(n,t){return e[n]-e[t]})),t},sortedArray:function(e,n,t){for(var r=e.length,a=new e.constructor(r),i=0,o=0;o!==r;++i)for(var s=t[i]*n,l=0;l!==n;++l)a[o++]=e[s+l];return a},flattenJSON:function(e,n,t,r){for(var a=1,i=e[0];void 0!==i&&void 0===i[r];)i=e[a++];if(void 0!==i){var o=i[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=i[r])&&(n.push(i.time),t.push.apply(t,o)),i=e[a++]}while(void 0!==i);else if(void 0!==o.toArray)do{void 0!==(o=i[r])&&(n.push(i.time),o.toArray(t,t.length)),i=e[a++]}while(void 0!==i);else do{void 0!==(o=i[r])&&(n.push(i.time),t.push(o)),i=e[a++]}while(void 0!==i)}},subclip:function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=e.clone();i.name=n;for(var o=[],s=0;s<i.tracks.length;++s){for(var l=i.tracks[s],u=l.getValueSize(),c=[],d=[],A=0;A<l.times.length;++A){var f=l.times[A]*a;if(!(f<t||f>=r)){c.push(l.times[A]);for(var h=0;h<u;++h)d.push(l.values[A*u+h])}}0!==c.length&&(l.times=Bh.convertArray(c,l.times.constructor),l.values=Bh.convertArray(d,l.values.constructor),o.push(l))}i.tracks=o;for(var p=1/0,m=0;m<i.tracks.length;++m)p>i.tracks[m].times[0]&&(p=i.tracks[m].times[0]);for(var S=0;S<i.tracks.length;++S)i.tracks[S].shift(-1*p);return i.resetDuration(),i},makeClipAdditive:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var a=t.tracks.length,i=n/r,o=function(n){var r=t.tracks[n],a=r.ValueTypeName;if("bool"===a||"string"===a)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===a}));if(void 0===o)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var d=r.times.length-1,A=void 0;if(i<=r.times[0]){var f=s,h=l-s;A=Bh.arraySlice(r.values,f,h)}else if(i>=r.times[d]){var p=d*l+s,m=p+l-s;A=Bh.arraySlice(r.values,p,m)}else{var S=r.createInterpolant(),g=s,v=l-s;S.evaluate(i),A=Bh.arraySlice(S.resultBuffer,g,v)}"quaternion"===a&&(new xs).fromArray(A).normalize().conjugate().toArray(A);for(var x=o.times.length,_=0;_<x;++_){var y=_*c+u;if("quaternion"===a)xs.multiplyQuaternionsFlat(o.values,y,A,0,o.values,y);else for(var w=c-2*u,b=0;b<w;++b)o.values[y+b]-=A[b]}},s=0;s<a;++s)o(s);return e.blendMode=To,e}},kh=function(){function e(n,t,a,i){r(this,e),this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(a),this.sampleValues=t,this.valueSize=a,this.settings=null,this.DefaultSettings_={}}return i(e,[{key:"evaluate",value:function(e){var n=this.parameterPositions,t=this._cachedIndex,r=n[t],a=n[t-1];e:{n:{var i;t:{r:if(!(e<r)){for(var o=t+2;;){if(void 0===r){if(e<a)break r;return t=n.length,this._cachedIndex=t,this.afterEnd_(t-1,e,a)}if(t===o)break;if(a=r,e<(r=n[++t]))break n}i=n.length;break t}if(e>=a)break e;var s=n[1];e<s&&(t=2,a=s);for(var l=t-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(t===l)break;if(r=a,e>=(a=n[--t-1]))break n}i=t,t=0}for(;t<i;){var u=t+i>>>1;e<n[u]?i=u:t=u+1}if(r=n[t],void 0===(a=n[t-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return t=n.length,this._cachedIndex=t,this.afterEnd_(t-1,a,e)}this._cachedIndex=t,this.intervalChanged_(t,a,r)}return this.interpolate_(t,a,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var n=this.resultBuffer,t=this.sampleValues,r=this.valueSize,a=e*r,i=0;i!==r;++i)n[i]=t[a+i];return n}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();kh.prototype.beforeStart_=kh.prototype.copySampleValue_,kh.prototype.afterEnd_=kh.prototype.copySampleValue_;var Ih=function(e){s(t,e);var n=A(t);function t(e,a,i,o){var s;return r(this,t),(s=n.call(this,e,a,i,o))._weightPrev=-0,s._offsetPrev=-0,s._weightNext=-0,s._offsetNext=-0,s.DefaultSettings_={endingStart:Co,endingEnd:Co},s}return i(t,[{key:"intervalChanged_",value:function(e,n,t){var r=this.parameterPositions,a=e-2,i=e+1,o=r[a],s=r[i];if(void 0===o)switch(this.getSettings_().endingStart){case Eo:a=e,o=2*n-t;break;case Do:o=n+r[a=r.length-2]-r[a+1];break;default:a=e,o=t}if(void 0===s)switch(this.getSettings_().endingEnd){case Eo:i=e,s=2*t-n;break;case Do:i=1,s=t+r[1]-r[0];break;default:i=e-1,s=n}var l=.5*(t-n),u=this.valueSize;this._weightPrev=l/(n-o),this._weightNext=l/(s-t),this._offsetPrev=a*u,this._offsetNext=i*u}},{key:"interpolate_",value:function(e,n,t,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,A=this._weightNext,f=(t-n)/(r-n),h=f*f,p=h*f,m=-d*p+2*d*h-d*f,S=(1+d)*p+(-1.5-2*d)*h+(-.5+d)*f+1,g=(-1-A)*p+(1.5+A)*h+.5*f,v=A*p-A*h,x=0;x!==o;++x)a[x]=m*i[u+x]+S*i[l+x]+g*i[s+x]+v*i[c+x];return a}}]),t}(kh),Oh=function(e){s(t,e);var n=A(t);function t(e,a,i,o){return r(this,t),n.call(this,e,a,i,o)}return i(t,[{key:"interpolate_",value:function(e,n,t,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(t-n)/(r-n),c=1-u,d=0;d!==o;++d)a[d]=i[l+d]*c+i[s+d]*u;return a}}]),t}(kh),Nh=function(e){s(t,e);var n=A(t);function t(e,a,i,o){return r(this,t),n.call(this,e,a,i,o)}return i(t,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),t}(kh),jh=function(){function e(n,t,a,i){if(r(this,e),void 0===n)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=Bh.convertArray(t,this.TimeBufferType),this.values=Bh.convertArray(a,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return i(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Nh(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Oh(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Ih(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var n;switch(e){case wo:n=this.InterpolantFactoryMethodDiscrete;break;case bo:n=this.InterpolantFactoryMethodLinear;break;case Vo:n=this.InterpolantFactoryMethodSmooth}if(void 0===n){var t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=n,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return wo;case this.InterpolantFactoryMethodLinear:return bo;case this.InterpolantFactoryMethodSmooth:return Vo}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var n=this.times,t=0,r=n.length;t!==r;++t)n[t]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var n=this.times,t=0,r=n.length;t!==r;++t)n[t]*=e;return this}},{key:"trim",value:function(e,n){for(var t=this.times,r=t.length,a=0,i=r-1;a!==r&&t[a]<e;)++a;for(;-1!==i&&t[i]>n;)--i;if(++i,0!==a||i!==r){a>=i&&(a=(i=Math.max(i,1))-1);var o=this.getValueSize();this.times=Bh.arraySlice(t,a,i),this.values=Bh.arraySlice(this.values,a*o,i*o)}return this}},{key:"validate",value:function(){var e=!0,n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var t=this.times,r=this.values,a=t.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==a;o++){var s=t[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==i&&i>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,i),e=!1;break}i=s}if(void 0!==r&&Bh.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Bh.arraySlice(this.times),n=Bh.arraySlice(this.values),t=this.getValueSize(),r=this.getInterpolation()===Vo,a=e.length-1,i=1,o=1;o<a;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*t,c=u-t,d=u+t,A=0;A!==t;++A){var f=n[u+A];if(f!==n[c+A]||f!==n[d+A]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];for(var h=o*t,p=i*t,m=0;m!==t;++m)n[p+m]=n[h+m]}++i}}if(a>0){e[i]=e[a];for(var S=a*t,g=i*t,v=0;v!==t;++v)n[g+v]=n[S+v];++i}return i!==e.length?(this.times=Bh.arraySlice(e,0,i),this.values=Bh.arraySlice(n,0,i*t)):(this.times=e,this.values=n),this}},{key:"clone",value:function(){var e=Bh.arraySlice(this.times,0),n=Bh.arraySlice(this.values,0),t=new(0,this.constructor)(this.name,e,n);return t.createInterpolant=this.createInterpolant,t}}],[{key:"toJSON",value:function(e){var n,t=e.constructor;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Bh.convertArray(e.times,Array),values:Bh.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}}]),e}();jh.prototype.TimeBufferType=Float32Array,jh.prototype.ValueBufferType=Float32Array,jh.prototype.DefaultInterpolation=bo;var Uh=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t)}(jh);Uh.prototype.ValueTypeName="bool",Uh.prototype.ValueBufferType=Array,Uh.prototype.DefaultInterpolation=wo,Uh.prototype.InterpolantFactoryMethodLinear=void 0,Uh.prototype.InterpolantFactoryMethodSmooth=void 0;var Gh=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t)}(jh);Gh.prototype.ValueTypeName="color";var zh=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t)}(jh);zh.prototype.ValueTypeName="number";var Hh=function(e){s(t,e);var n=A(t);function t(e,a,i,o){return r(this,t),n.call(this,e,a,i,o)}return i(t,[{key:"interpolate_",value:function(e,n,t,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=(t-n)/(r-n),l=e*o,u=l+o;l!==u;l+=4)xs.slerpFlat(a,0,i,l-o,i,l,s);return a}}]),t}(kh),Wh=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Hh(this.times,this.values,this.getValueSize(),e)}}]),t}(jh);Wh.prototype.ValueTypeName="quaternion",Wh.prototype.DefaultInterpolation=bo,Wh.prototype.InterpolantFactoryMethodSmooth=void 0;var Xh=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t)}(jh);Xh.prototype.ValueTypeName="string",Xh.prototype.ValueBufferType=Array,Xh.prototype.DefaultInterpolation=wo,Xh.prototype.InterpolantFactoryMethodLinear=void 0,Xh.prototype.InterpolantFactoryMethodSmooth=void 0;var Kh=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t)}(jh);Kh.prototype.ValueTypeName="vector";var qh=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fo;r(this,e),this.name=n,this.tracks=a,this.duration=t,this.blendMode=i,this.uuid=Ho(),this.duration<0&&this.resetDuration()}return i(e,[{key:"resetDuration",value:function(){for(var e=0,n=0,t=this.tracks.length;n!==t;++n){var r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var n=[],t=e.tracks,r=1/(e.fps||1),a=0,i=t.length;a!==i;++a)n.push(Yh(t[a]).scale(r));var o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var n=[],t=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode},a=0,i=t.length;a!==i;++a)n.push(jh.toJSON(t[a]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,n,t,r){for(var a=n.length,i=[],o=0;o<a;o++){var s=[],l=[];s.push((o+a-1)%a,o,(o+1)%a),l.push(0,1,0);var u=Bh.getKeyframeOrder(s);s=Bh.sortedArray(s,1,u),l=Bh.sortedArray(l,1,u),r||0!==s[0]||(s.push(a),l.push(l[0])),i.push(new zh(".morphTargetInfluences["+n[o].name+"]",s,l).scale(1/t))}return new this(e,-1,i)}},{key:"findByName",value:function(e,n){var t=e;if(!Array.isArray(e)){var r=e;t=r.geometry&&r.geometry.animations||r.animations}for(var a=0;a<t.length;a++)if(t[a].name===n)return t[a];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,n,t){for(var r={},a=/^([\w-]*?)([\d]+)$/,i=0,o=e.length;i<o;i++){var s=e[i],l=s.name.match(a);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var d=[];for(var A in r)d.push(this.CreateFromMorphTargetSequence(A,r[A],n,t));return d}},{key:"parseAnimation",value:function(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var t=function(e,n,t,r,a){if(0!==t.length){var i=[],o=[];Bh.flattenJSON(t,i,o,r),0!==i.length&&a.push(new e(n,i,o))}},r=[],a=e.name||"default",i=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},A=void 0;for(A=0;A<c.length;A++)if(c[A].morphTargets)for(var f=0;f<c[A].morphTargets.length;f++)d[c[A].morphTargets[f]]=-1;for(var h in d){for(var p=[],m=[],S=0;S!==c[A].morphTargets.length;++S){var g=c[A];p.push(g.time),m.push(g.morphTarget===h?1:0)}r.push(new zh(".morphTargetInfluence["+h+"]",p,m))}s=d.length*i}else{var v=".bones["+n[u].name+"]";t(Kh,v+".position",c,"pos",r),t(Wh,v+".quaternion",c,"rot",r),t(Kh,v+".scale",c,"scl",r)}}return 0===r.length?null:new this(a,s,r,o)}}]),e}();function Yh(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var n=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zh;case"vector":case"vector2":case"vector3":case"vector4":return Kh;case"color":return Gh;case"quaternion":return Wh;case"bool":case"boolean":return Uh;case"string":return Xh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var t=[],r=[];Bh.flattenJSON(e.keys,t,r,"value"),e.times=t,e.values=r}return void 0!==n.parse?n.parse(e):new n(e.name,e.times,e.values,e.interpolation)}var Qh={enabled:!1,files:{},add:function(e,n){!1!==this.enabled&&(this.files[e]=n)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Jh=i((function e(n,t,a){r(this,e);var i=this,o=!1,s=0,l=0,u=void 0,c=[];this.onStart=void 0,this.onLoad=n,this.onProgress=t,this.onError=a,this.itemStart=function(e){l++,!1===o&&void 0!==i.onStart&&i.onStart(e,s,l),o=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,l),s===l&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,n){return c.push(e,n),this},this.removeHandler=function(e){var n=c.indexOf(e);return-1!==n&&c.splice(n,2),this},this.getHandler=function(e){for(var n=0,t=c.length;n<t;n+=2){var r=c[n],a=c[n+1];if(r.global&&(r.lastIndex=0),r.test(e))return a}return null}})),Zh=new Jh,$h=function(){function e(n){r(this,e),this.manager=void 0!==n?n:Zh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return i(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,n){var t=this;return new Promise((function(r,a){t.load(e,r,n,a)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),ep={},np=function(e){s(t,e);var n=A(t);function t(e){return r(this,t),n.call(this,e)}return i(t,[{key:"load",value:function(e,n,t,r){var a=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=Qh.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((function(){n&&n(i),a.manager.itemEnd(e)}),0),i;if(void 0===ep[e]){ep[e]=[],ep[e].push({onLoad:n,onProgress:t,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(n){if(200===n.status||0===n.status){if(0===n.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===n.body||void 0===n.body.getReader)return n;var t=ep[e],r=n.body.getReader(),a=n.headers.get("Content-Length"),i=a?parseInt(a):0,o=0!==i,s=0,l=new ReadableStream({start:function(e){!function n(){r.read().then((function(r){var a=r.done,l=r.value;if(a)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:i}),c=0,d=t.length;c<d;c++){var A=t[c];A.onProgress&&A.onProgress(u)}e.enqueue(l),n()}}))}()}});return new Response(l)}throw Error('fetch for "'.concat(n.url,'" responded with ').concat(n.status,": ").concat(n.statusText))})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var n=/charset="?([^;"\s]*)"?/i.exec(s),t=n&&n[1]?n[1].toLowerCase():void 0,r=new TextDecoder(t);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(n){Qh.add(e,n);var t=ep[e];delete ep[e];for(var r=0,a=t.length;r<a;r++){var i=t[r];i.onLoad&&i.onLoad(n)}})).catch((function(n){var t=ep[e];if(void 0===t)throw a.manager.itemError(e),n;delete ep[e];for(var r=0,i=t.length;r<i;r++){var o=t[r];o.onError&&o.onError(n)}a.manager.itemError(e)})).finally((function(){a.manager.itemEnd(e)})),this.manager.itemStart(e)}else ep[e].push({onLoad:n,onProgress:t,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),t}($h),tp=function(e){s(t,e);var n=A(t);function t(e){return r(this,t),n.call(this,e)}return i(t,[{key:"load",value:function(e,n,t,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=Qh.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){n&&n(i),a.manager.itemEnd(e)}),0),i;var o=ns("img");function s(){u(),Qh.add(e,this),n&&n(this),a.manager.itemEnd(e)}function l(n){u(),r&&r(n),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}]),t}($h),rp=function(e){s(t,e);var n=A(t);function t(e){return r(this,t),n.call(this,e)}return i(t,[{key:"load",value:function(e,n,t,r){var a=new Cu,i=new tp(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=0;function s(t){i.load(e[t],(function(e){a.images[t]=e,6===++o&&(a.needsUpdate=!0,n&&n(a))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return a}}]),t}($h),ap=function(e){s(t,e);var n=A(t);function t(e){return r(this,t),n.call(this,e)}return i(t,[{key:"load",value:function(e,n,t,r){var a=new hs,i=new tp(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,(function(e){a.image=e,a.needsUpdate=!0,void 0!==n&&n(a)}),t,r),a}}]),t}($h),ip=function(e){s(t,e);var n=A(t);function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r(this,t),(a=n.call(this)).type="Light",a.color=new us(e),a.intensity=i,a}return i(t,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,void 0!==this.groundColor&&(n.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(n.object.distance=this.distance),void 0!==this.angle&&(n.object.angle=this.angle),void 0!==this.decay&&(n.object.decay=this.decay),void 0!==this.penumbra&&(n.object.penumbra=this.penumbra),void 0!==this.shadow&&(n.object.shadow=this.shadow.toJSON()),n}}]),t}(wl);ip.prototype.isLight=!0;var op=function(e){s(t,e);var n=A(t);function t(e,a,i){var o;return r(this,t),(o=n.call(this,e,i)).type="HemisphereLight",o.position.copy(wl.DefaultUp),o.updateMatrix(),o.groundColor=new us(a),o}return i(t,[{key:"copy",value:function(e){return ip.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),t}(ip);op.prototype.isHemisphereLight=!0;var sp=new Zs,lp=new _s,up=new _s,cp=function(){function e(n){r(this,e),this.camera=n,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Zo(512,512),this.map=null,this.mapPass=null,this.matrix=new Zs,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Mu,this._frameExtents=new Zo(1,1),this._viewportCount=1,this._viewports=[new ps(0,0,1,1)]}return i(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var n=this.camera,t=this.matrix;lp.setFromMatrixPosition(e.matrixWorld),n.position.copy(lp),up.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(up),n.updateMatrixWorld(),sp.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sp),t.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),t.multiply(n.projectionMatrix),t.multiply(n.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),dp=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this,new wu(50,1,.5,500))).focus=1,e}return i(t,[{key:"updateMatrices",value:function(e){var n=this.camera,r=2*zo*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,i=e.distance||n.far;r===n.fov&&a===n.aspect&&i===n.far||(n.fov=r,n.aspect=a,n.far=i,n.updateProjectionMatrix()),Si(l(t.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),t}(cp);dp.prototype.isSpotLightShadow=!0;var Ap=function(e){s(t,e);var n=A(t);function t(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return r(this,t),(i=n.call(this,e,a)).type="SpotLight",i.position.copy(wl.DefaultUp),i.updateMatrix(),i.target=new wl,i.distance=o,i.angle=s,i.penumbra=l,i.decay=u,i.shadow=new dp,i}return i(t,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),t}(ip);Ap.prototype.isSpotLight=!0;var fp=new Zs,hp=new _s,pp=new _s,mp=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this,new wu(90,1,.5,500)))._frameExtents=new Zo(4,2),e._viewportCount=6,e._viewports=[new ps(2,1,1,1),new ps(0,1,1,1),new ps(3,1,1,1),new ps(1,1,1,1),new ps(3,0,1,1),new ps(1,0,1,1)],e._cubeDirections=[new _s(1,0,0),new _s(-1,0,0),new _s(0,0,1),new _s(0,0,-1),new _s(0,1,0),new _s(0,-1,0)],e._cubeUps=[new _s(0,1,0),new _s(0,1,0),new _s(0,1,0),new _s(0,1,0),new _s(0,0,1),new _s(0,0,-1)],e}return i(t,[{key:"updateMatrices",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this.camera,r=this.matrix,a=e.distance||t.far;a!==t.far&&(t.far=a,t.updateProjectionMatrix()),hp.setFromMatrixPosition(e.matrixWorld),t.position.copy(hp),pp.copy(t.position),pp.add(this._cubeDirections[n]),t.up.copy(this._cubeUps[n]),t.lookAt(pp),t.updateMatrixWorld(),r.makeTranslation(-hp.x,-hp.y,-hp.z),fp.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fp)}}]),t}(cp);mp.prototype.isPointLightShadow=!0;var Sp=function(e){s(t,e);var n=A(t);function t(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return r(this,t),(i=n.call(this,e,a)).type="PointLight",i.distance=o,i.decay=s,i.shadow=new mp,i}return i(t,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),t}(ip);Sp.prototype.isPointLight=!0;var gp=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.call(this,new Ku(-5,5,5,-5,.5,500))}return i(t)}(cp);gp.prototype.isDirectionalLightShadow=!0;var vp=function(e){s(t,e);var n=A(t);function t(e,a){var i;return r(this,t),(i=n.call(this,e,a)).type="DirectionalLight",i.position.copy(wl.DefaultUp),i.updateMatrix(),i.target=new wl,i.shadow=new gp,i}return i(t,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),t}(ip);vp.prototype.isDirectionalLight=!0;var xp=function(e){s(t,e);var n=A(t);function t(e,a){var i;return r(this,t),(i=n.call(this,e,a)).type="AmbientLight",i}return i(t)}(ip);xp.prototype.isAmbientLight=!0;var _p=function(e){s(t,e);var n=A(t);function t(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return r(this,t),(i=n.call(this,e,a)).type="RectAreaLight",i.width=o,i.height=s,i}return i(t,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);return n.object.width=this.width,n.object.height=this.height,n}}]),t}(ip);_p.prototype.isRectAreaLight=!0;var yp=function(){function e(){r(this,e),this.coefficients=[];for(var n=0;n<9;n++)this.coefficients.push(new _s)}return i(e,[{key:"set",value:function(e){for(var n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,n){var t=e.x,r=e.y,a=e.z,i=this.coefficients;return n.copy(i[0]).multiplyScalar(.282095),n.addScaledVector(i[1],.488603*r),n.addScaledVector(i[2],.488603*a),n.addScaledVector(i[3],.488603*t),n.addScaledVector(i[4],t*r*1.092548),n.addScaledVector(i[5],r*a*1.092548),n.addScaledVector(i[6],.315392*(3*a*a-1)),n.addScaledVector(i[7],t*a*1.092548),n.addScaledVector(i[8],.546274*(t*t-r*r)),n}},{key:"getIrradianceAt",value:function(e,n){var t=e.x,r=e.y,a=e.z,i=this.coefficients;return n.copy(i[0]).multiplyScalar(.886227),n.addScaledVector(i[1],1.023328*r),n.addScaledVector(i[2],1.023328*a),n.addScaledVector(i[3],1.023328*t),n.addScaledVector(i[4],.858086*t*r),n.addScaledVector(i[5],.858086*r*a),n.addScaledVector(i[6],.743125*a*a-.247708),n.addScaledVector(i[7],.858086*t*a),n.addScaledVector(i[8],.429043*(t*t-r*r)),n}},{key:"add",value:function(e){for(var n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}},{key:"addScaledSH",value:function(e,n){for(var t=0;t<9;t++)this.coefficients[t].addScaledVector(e.coefficients[t],n);return this}},{key:"scale",value:function(e){for(var n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}},{key:"lerp",value:function(e,n){for(var t=0;t<9;t++)this.coefficients[t].lerp(e.coefficients[t],n);return this}},{key:"equals",value:function(e){for(var n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this.coefficients,r=0;r<9;r++)t[r].fromArray(e,n+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this.coefficients,r=0;r<9;r++)t[r].toArray(e,n+3*r);return e}}],[{key:"getBasisAt",value:function(e,n){var t=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*t,n[4]=1.092548*t*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*t*a,n[8]=.546274*(t*t-r*r)}}]),e}();yp.prototype.isSphericalHarmonics3=!0;var wp=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yp,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r(this,t),(e=n.call(this,void 0,i)).sh=a,e}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);return n.object.sh=this.sh.toArray(),n}}]),t}(ip);wp.prototype.isLightProbe=!0;var bp=function(){function e(){r(this,e)}return i(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var n="",t=0,r=e.length;t<r;t++)n+=String.fromCharCode(e[t]);try{return decodeURIComponent(escape(n))}catch(a){return n}}},{key:"extractUrlBase",value:function(e){var n=e.lastIndexOf("/");return-1===n?"./":e.slice(0,n+1)}},{key:"resolveURL",value:function(e,n){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}]),e}(),Vp=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=Si(l(t.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),t}(Jl);Vp.prototype.isInstancedBufferGeometry=!0;var Cp,Ep=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),a=n.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),a.options={premultiplyAlpha:"none"},a}return i(t,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,n,t,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=Qh.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){n&&n(i),a.manager.itemEnd(e)}),0),i;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(a.options,{colorSpaceConversion:"none"}))})).then((function(t){Qh.add(e,t),n&&n(t),a.manager.itemEnd(e)})).catch((function(n){r&&r(n),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}]),t}($h);Ep.prototype.isImageBitmapLoader=!0;var Dp=function(){return void 0===Cp&&(Cp=new(window.AudioContext||window.webkitAudioContext)),Cp},Fp=function(e){s(t,e);var n=A(t);function t(e){return r(this,t),n.call(this,e)}return i(t,[{key:"load",value:function(e,n,t,r){var a=this,i=new np(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(t){try{var i=t.slice(0);Dp().decodeAudioData(i,(function(e){n(e)}))}catch(o){r?r(o):console.error(o),a.manager.itemError(e)}}),t,r)}}]),t}($h),Tp=function(e){s(t,e);var n=A(t);function t(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;r(this,t),i=n.call(this,void 0,o);var s=(new us).set(e),l=(new us).set(a),u=new _s(s.r,s.g,s.b),c=new _s(l.r,l.g,l.b),d=Math.sqrt(Math.PI),A=d*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(c).multiplyScalar(d),i.sh.coefficients[1].copy(u).sub(c).multiplyScalar(A),i}return i(t)}(wp);Tp.prototype.isHemisphereLightProbe=!0;var Pp=function(e){s(t,e);var n=A(t);function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r(this,t),a=n.call(this,void 0,i);var o=(new us).set(e);return a.sh.coefficients[0].set(o.r,o.g,o.b).multiplyScalar(2*Math.sqrt(Math.PI)),a}return i(t)}(wp);Pp.prototype.isAmbientLightProbe=!0;var Rp=function(){function e(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r(this,e),this.autoStart=n,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return i(e,[{key:"start",value:function(){this.startTime=Lp(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var n=Lp();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}]),e}();function Lp(){return("undefined"===typeof performance?Date:performance).now()}var Mp=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this)).type="Audio",a.listener=e,a.context=e.context,a.gain=a.context.createGain(),a.gain.connect(e.getInput()),a.autoplay=!1,a.buffer=null,a.detune=0,a.loop=!1,a.loopStart=0,a.loopEnd=0,a.offset=0,a.duration=void 0,a.playbackRate=1,a.isPlaying=!1,a.hasPlaybackControl=!0,a.source=null,a.sourceType="empty",a._startedAt=0,a._progress=0,a._connected=!1,a.filters=[],a}return i(t,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),t}(wl),Bp=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;r(this,e),this.analyser=n.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}return i(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,n=this.getFrequencyData(),t=0;t<n.length;t++)e+=n[t];return e/n.length}}]),e}(),kp=function(){function e(n,t,a){var i,o,s;switch(r(this,e),this.binding=n,this.valueSize=a,t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*a),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*a);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*a)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return i(e,[{key:"accumulate",value:function(e,n){var t=this.buffer,r=this.valueSize,a=e*r+r,i=this.cumulativeWeight;if(0===i){for(var o=0;o!==r;++o)t[a+o]=t[o];i=n}else{var s=n/(i+=n);this._mixBufferRegion(t,a,0,s,r)}this.cumulativeWeight=i}},{key:"accumulateAdditive",value:function(e){var n=this.buffer,t=this.valueSize,r=t*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,t),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var n=this.valueSize,t=this.buffer,r=e*n+n,a=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){var s=n*this._origIndex;this._mixBufferRegion(t,r,s,1-a,n)}i>0&&this._mixBufferRegionAdditive(t,r,this._addIndex*n,1,n);for(var l=n,u=n+n;l!==u;++l)if(t[l]!==t[l+n]){o.setValue(t,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,n=this.buffer,t=this.valueSize,r=t*this._origIndex;e.getValue(n,r);for(var a=t,i=r;a!==i;++a)n[a]=n[r+a%t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,n=e+this.valueSize,t=e;t<n;t++)this.buffer[t]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize,t=0;t<this.valueSize;t++)this.buffer[n+t]=this.buffer[e+t]}},{key:"_select",value:function(e,n,t,r,a){if(r>=.5)for(var i=0;i!==a;++i)e[n+i]=e[t+i]}},{key:"_slerp",value:function(e,n,t,r){xs.slerpFlat(e,n,e,n,e,t,r)}},{key:"_slerpAdditive",value:function(e,n,t,r,a){var i=this._workIndex*a;xs.multiplyQuaternionsFlat(e,i,e,n,e,t),xs.slerpFlat(e,n,e,n,e,i,r)}},{key:"_lerp",value:function(e,n,t,r,a){for(var i=1-r,o=0;o!==a;++o){var s=n+o;e[s]=e[s]*i+e[t+o]*r}}},{key:"_lerpAdditive",value:function(e,n,t,r,a){for(var i=0;i!==a;++i){var o=n+i;e[o]=e[o]+e[t+i]*r}}}]),e}(),Ip="\\[\\]\\.:\\/",Op=new RegExp("[\\[\\]\\.:\\/]","g"),Np="[^\\[\\]\\.:\\/]",jp="[^"+Ip.replace("\\.","")+"]",Up=/((?:WC+[\/:])*)/.source.replace("WC",Np),Gp=/(WCOD+)?/.source.replace("WCOD",jp),zp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Np),Hp=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Np),Wp=new RegExp("^"+Up+Gp+zp+Hp+"$"),Xp=["material","materials","bones"],Kp=function(){function e(n,t,a){r(this,e);var i=a||qp.parseTrackName(t);this._targetGroup=n,this._bindings=n.subscribe_(t,i)}return i(e,[{key:"getValue",value:function(e,n){this.bind();var t=this._targetGroup.nCachedObjects_,r=this._bindings[t];void 0!==r&&r.getValue(e,n)}},{key:"setValue",value:function(e,n){for(var t=this._bindings,r=this._targetGroup.nCachedObjects_,a=t.length;r!==a;++r)t[r].setValue(e,n)}},{key:"bind",value:function(){for(var e=this._bindings,n=this._targetGroup.nCachedObjects_,t=e.length;n!==t;++n)e[n].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,n=this._targetGroup.nCachedObjects_,t=e.length;n!==t;++n)e[n].unbind()}}]),e}(),qp=function(){function e(n,t,a){r(this,e),this.path=t,this.parsedPath=a||e.parseTrackName(t),this.node=e.findNode(n,this.parsedPath.nodeName)||n,this.rootNode=n,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return i(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,n){e[n]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,n){for(var t=this.resolvedProperty,r=0,a=t.length;r!==a;++r)e[n++]=t[r]}},{key:"_getValue_arrayElement",value:function(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,n){this.resolvedProperty.toArray(e,n)}},{key:"_setValue_direct",value:function(e,n){this.targetObject[this.propertyName]=e[n]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,n){for(var t=this.resolvedProperty,r=0,a=t.length;r!==a;++r)t[r]=e[n++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,n){for(var t=this.resolvedProperty,r=0,a=t.length;r!==a;++r)t[r]=e[n++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,n){for(var t=this.resolvedProperty,r=0,a=t.length;r!==a;++r)t[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,n){this.resolvedProperty.fromArray(e,n)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,n){this.bind(),this.getValue(e,n)}},{key:"_setValue_unbound",value:function(e,n){this.bind(),this.setValue(e,n)}},{key:"bind",value:function(){var n=this.node,t=this.parsedPath,r=t.objectName,a=t.propertyName,i=t.propertyIndex;if(n||(n=e.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,n){if(r){var o=t.objectIndex;switch(r){case"materials":if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);n=n.material.materials;break;case"bones":if(!n.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);n=n.skeleton.bones;for(var s=0;s<n.length;s++)if(n[s].name===o){o=s;break}break;default:if(void 0===n[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);n=n[r]}if(void 0!==o){if(void 0===n[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);n=n[o]}}var l=n[a];if(void 0!==l){var u=this.Versioning.None;this.targetObject=n,void 0!==n.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==n.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===a){if(!n.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!n.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!n.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==n.morphTargetDictionary[i]&&(i=n.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=i}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",n)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(n,t,r){return n&&n.isAnimationObjectGroup?new e.Composite(n,t,r):new e(n,t,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Op,"")}},{key:"parseTrackName",value:function(e){var n=Wp.exec(e);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var t={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=t.nodeName.substring(r+1);-1!==Xp.indexOf(a)&&(t.nodeName=t.nodeName.substring(0,r),t.objectName=a)}if(null===t.propertyName||0===t.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t}},{key:"findNode",value:function(e,n){if(void 0===n||""===n||"."===n||-1===n||n===e.name||n===e.uuid)return e;if(e.skeleton){var t=e.skeleton.getBoneByName(n);if(void 0!==t)return t}if(e.children){var r=function e(t){for(var r=0;r<t.length;r++){var a=t[r];if(a.name===n||a.uuid===n)return a;var i=e(a.children);if(i)return i}return null}(e.children);if(r)return r}return null}}]),e}();qp.Composite=Kp,qp.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},qp.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},qp.prototype.GetterByBindingType=[qp.prototype._getValue_direct,qp.prototype._getValue_array,qp.prototype._getValue_arrayElement,qp.prototype._getValue_toArray],qp.prototype.SetterByBindingTypeAndVersioning=[[qp.prototype._setValue_direct,qp.prototype._setValue_direct_setNeedsUpdate,qp.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qp.prototype._setValue_array,qp.prototype._setValue_array_setNeedsUpdate,qp.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qp.prototype._setValue_arrayElement,qp.prototype._setValue_arrayElement_setNeedsUpdate,qp.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qp.prototype._setValue_fromArray,qp.prototype._setValue_fromArray_setNeedsUpdate,qp.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Yp=function(){function e(){r(this,e),this.uuid=Ho(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var n={};this._indicesByUUID=n;for(var t=0,a=arguments.length;t!==a;++t)n[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return i(e,[{key:"add",value:function(){for(var e=this._objects,n=this._indicesByUUID,t=this._paths,r=this._parsedPaths,a=this._bindings,i=a.length,o=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var d=arguments[u],A=d.uuid,f=n[A];if(void 0===f){f=s++,n[A]=f,e.push(d);for(var h=0,p=i;h!==p;++h)a[h].push(new qp(d,t[h],r[h]))}else if(f<l){o=e[f];var m=--l,S=e[m];n[S.uuid]=f,e[f]=S,n[A]=m,e[m]=d;for(var g=0,v=i;g!==v;++g){var x=a[g],_=x[m],y=x[f];x[f]=_,void 0===y&&(y=new qp(d,t[g],r[g])),x[m]=y}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,n=this._indicesByUUID,t=this._bindings,r=t.length,a=this.nCachedObjects_,i=0,o=arguments.length;i!==o;++i){var s=arguments[i],l=s.uuid,u=n[l];if(void 0!==u&&u>=a){var c=a++,d=e[c];n[d.uuid]=u,e[u]=d,n[l]=c,e[c]=s;for(var A=0,f=r;A!==f;++A){var h=t[A],p=h[c],m=h[u];h[u]=p,h[c]=m}}}this.nCachedObjects_=a}},{key:"uncache",value:function(){for(var e=this._objects,n=this._indicesByUUID,t=this._bindings,r=t.length,a=this.nCachedObjects_,i=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=n[u];if(void 0!==c)if(delete n[u],c<a){var d=--a,A=e[d],f=--i,h=e[f];n[A.uuid]=c,e[c]=A,n[h.uuid]=d,e[d]=h,e.pop();for(var p=0,m=r;p!==m;++p){var S=t[p],g=S[d],v=S[f];S[c]=g,S[d]=v,S.pop()}}else{var x=--i,_=e[x];x>0&&(n[_.uuid]=c),e[c]=_,e.pop();for(var y=0,w=r;y!==w;++y){var b=t[y];b[c]=b[x],b.pop()}}}this.nCachedObjects_=a}},{key:"subscribe_",value:function(e,n){var t=this._bindingsIndicesByPath,r=t[e],a=this._bindings;if(void 0!==r)return a[r];var i=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=a.length,t[e]=r,i.push(e),o.push(n),a.push(c);for(var d=u,A=s.length;d!==A;++d){var f=s[d];c[d]=new qp(f,e,n)}return c}},{key:"unsubscribe_",value:function(e){var n=this._bindingsIndicesByPath,t=n[e];if(void 0!==t){var r=this._paths,a=this._parsedPaths,i=this._bindings,o=i.length-1,s=i[o];n[e[o]]=t,i[t]=s,i.pop(),a[t]=a[o],a.pop(),r[t]=r[o],r.pop()}}}]),e}();Yp.prototype.isAnimationObjectGroup=!0;var Qp=function(){function e(n,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;r(this,e),this._mixer=n,this._clip=t,this._localRoot=a,this.blendMode=i;for(var o=t.tracks,s=o.length,l=new Array(s),u={endingStart:Co,endingEnd:Co},c=0;c!==s;++c){var d=o[c].createInterpolant(null);l[c]=d,d.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return i(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,n){return this.loop=e,this.repetitions=n,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,n,t){if(e.fadeOut(n),this.fadeIn(n),t){var r=this._clip.duration,a=e._clip.duration,i=a/r,o=r/a;e.warp(1,i,n),this.warp(o,1,n)}return this}},{key:"crossFadeTo",value:function(e,n,t){return e.crossFadeFrom(this,n,t)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,n,t){var r=this._mixer,a=r.time,i=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=a,s[1]=a+t,l[0]=e/i,l[1]=n/i,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,n,t,r){if(this.enabled){var a=this._startTime;if(null!==a){var i=(e-a)*t;if(i<0||0===t)return;this._startTime=null,n=t*i}n*=this._updateTimeScale(e);var o=this._updateTime(n),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===To)for(var c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var A=0,f=l.length;A!==f;++A)l[A].evaluate(o),u[A].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var n=0;if(this.enabled){n=this.weight;var t=this._weightInterpolant;if(null!==t){var r=t.evaluate(e)[0];n*=r,e>t.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=n,n}},{key:"_updateTimeScale",value:function(e){var n=0;if(!this.paused){n=this.timeScale;var t=this._timeScaleInterpolant;if(null!==t)n*=t.evaluate(e)[0],e>t.parameterPositions[1]&&(this.stopWarping(),0===n?this.paused=!0:this.timeScale=n)}return this._effectiveTimeScale=n,n}},{key:"_updateTime",value:function(e){var n=this._clip.duration,t=this.loop,r=this.time+e,a=this._loopCount,i=2202===t;if(0===e)return-1===a?r:i&&1===(1&a)?n-r:r;if(2200===t){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),r>=n||r<0){var o=Math.floor(r/n);r-=n*o,a+=Math.abs(o);var s=this.repetitions-a;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,i)}else this._setEndings(!1,!1,i);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(i&&1===(1&a))return n-r}return r}},{key:"_setEndings",value:function(e,n,t){var r=this._interpolantSettings;t?(r.endingStart=Eo,r.endingEnd=Eo):(r.endingStart=e?this.zeroSlopeAtStart?Eo:Co:Do,r.endingEnd=n?this.zeroSlopeAtEnd?Eo:Co:Do)}},{key:"_scheduleFading",value:function(e,n,t){var r=this._mixer,a=r.time,i=this._weightInterpolant;null===i&&(i=r._lendControlInterpolant(),this._weightInterpolant=i);var o=i.parameterPositions,s=i.sampleValues;return o[0]=a,s[0]=n,o[1]=a+e,s[1]=t,this}}]),e}(),Jp=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this))._root=e,a._initMemoryManager(),a._accuIndex=0,a.time=0,a.timeScale=1,a}return i(t,[{key:"_bindAction",value:function(e,n){var t=e._localRoot||this._root,r=e._clip.tracks,a=r.length,i=e._propertyBindings,o=e._interpolants,s=t.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==a;++c){var d=r[c],A=d.name,f=u[A];if(void 0!==f)++f.referenceCount,i[c]=f;else{if(void 0!==(f=i[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,A));continue}var h=n&&n._propertyBindings[c].binding.parsedPath;++(f=new kp(qp.create(t,A,h),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(f,s,A),i[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var n=(e._localRoot||this._root).uuid,t=e._clip.uuid,r=this._actionsByClip[t];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,t,n)}for(var a=e._propertyBindings,i=0,o=a.length;i!==o;++i){var s=a[i];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var n=e._propertyBindings,t=0,r=n.length;t!==r;++t){var a=n[t];0===--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var n=e._cacheIndex;return null!==n&&n<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,n,t){var r=this._actions,a=this._actionsByClip,i=a[n];if(void 0===i)i={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=i;else{var o=i.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),i.actionByRoot[t]=e}},{key:"_removeInactiveAction",value:function(e){var n=this._actions,t=n[n.length-1],r=e._cacheIndex;t._cacheIndex=r,n[r]=t,n.pop(),e._cacheIndex=null;var a=e._clip.uuid,i=this._actionsByClip,o=i[a],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete i[a],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var n=e._propertyBindings,t=0,r=n.length;t!==r;++t){var a=n[t];0===--a.referenceCount&&this._removeInactiveBinding(a)}}},{key:"_lendAction",value:function(e){var n=this._actions,t=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=t,n[t]=a}},{key:"_takeBackAction",value:function(e){var n=this._actions,t=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=t,n[t]=a}},{key:"_addInactiveBinding",value:function(e,n,t){var r=this._bindingsByRootAndName,a=this._bindings,i=r[n];void 0===i&&(i={},r[n]=i),i[t]=e,e._cacheIndex=a.length,a.push(e)}},{key:"_removeInactiveBinding",value:function(e){var n=this._bindings,t=e.binding,r=t.rootNode.uuid,a=t.path,i=this._bindingsByRootAndName,o=i[r],s=n[n.length-1],l=e._cacheIndex;s._cacheIndex=l,n[l]=s,n.pop(),delete o[a],0===Object.keys(o).length&&delete i[r]}},{key:"_lendBinding",value:function(e){var n=this._bindings,t=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=t,n[t]=a}},{key:"_takeBackBinding",value:function(e){var n=this._bindings,t=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=t,n[t]=a}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,n=this._nActiveControlInterpolants++,t=e[n];return void 0===t&&((t=new Oh(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=n,e[n]=t),t}},{key:"_takeBackControlInterpolant",value:function(e){var n=this._controlInterpolants,t=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=t,n[t]=a}},{key:"clipAction",value:function(e,n,t){var r=n||this._root,a=r.uuid,i="string"===typeof e?qh.findByName(r,e):e,o=null!==i?i.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===t&&(t=null!==i?i.blendMode:Fo),void 0!==s){var u=s.actionByRoot[a];if(void 0!==u&&u.blendMode===t)return u;l=s.knownActions[0],null===i&&(i=l._clip)}if(null===i)return null;var c=new Qp(this,i,n,t);return this._bindAction(c,l),this._addInactiveAction(c,o,a),c}},{key:"existingAction",value:function(e,n){var t=n||this._root,r=t.uuid,a="string"===typeof e?qh.findByName(t,e):e,i=a?a.uuid:e,o=this._actionsByClip[i];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,n=this._nActiveActions-1;n>=0;--n)e[n].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var n=this._actions,t=this._nActiveActions,r=this.time+=e,a=Math.sign(e),i=this._accuIndex^=1,o=0;o!==t;++o){n[o]._update(r,e,a,i)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(i);return this}},{key:"setTime",value:function(e){this.time=0;for(var n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var n=this._actions,t=e.uuid,r=this._actionsByClip,a=r[t];if(void 0!==a){for(var i=a.knownActions,o=0,s=i.length;o!==s;++o){var l=i[o];this._deactivateAction(l);var u=l._cacheIndex,c=n[n.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,n[u]=c,n.pop(),this._removeInactiveBindingsForAction(l)}delete r[t]}}},{key:"uncacheRoot",value:function(e){var n=e.uuid,t=this._actionsByClip;for(var r in t){var a=t[r].actionByRoot[n];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var i=this._bindingsByRootAndName[n];if(void 0!==i)for(var o in i){var s=i[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,n){var t=this.existingAction(e,n);null!==t&&(this._deactivateAction(t),this._removeInactiveAction(t))}}]),t}(Oo);Jp.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Zp=function(){function e(n){r(this,e),"string"===typeof n&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=arguments[1]),this.value=n}return i(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),$p=function(e){s(t,e);var n=A(t);function t(e,a){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r(this,t),(i=n.call(this,e,a)).meshPerAttribute=o,i}return i(t,[{key:"copy",value:function(e){return Si(l(t.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var n=Si(l(t.prototype),"clone",this).call(this,e);return n.meshPerAttribute=this.meshPerAttribute,n}},{key:"toJSON",value:function(e){var n=Si(l(t.prototype),"toJSON",this).call(this,e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}]),t}(vA);$p.prototype.isInstancedInterleavedBuffer=!0;var em=function(){function e(n,t,a,i,o){r(this,e),this.buffer=n,this.type=t,this.itemSize=a,this.elementSize=i,this.count=o,this.version=0}return i(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,n){return this.type=e,this.elementSize=n,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}();em.prototype.isGLBufferAttribute=!0;var nm=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r(this,e),this.radius=n,this.phi=t,this.theta=a,this}return i(e,[{key:"set",value:function(e,n,t){return this.radius=e,this.phi=n,this.theta=t,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,n,t){return this.radius=Math.sqrt(e*e+n*n+t*t),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,t),this.phi=Math.acos(Wo(n/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),tm=new Zo,rm=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zo(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zo(-1/0,-1/0);r(this,e),this.min=n,this.max=t}return i(e,[{key:"set",value:function(e,n){return this.min.copy(e),this.max.copy(n),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var n=0,t=e.length;n<t;n++)this.expandByPoint(e[n]);return this}},{key:"setFromCenterAndSize",value:function(e,n){var t=tm.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,n){return n.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return tm.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();rm.prototype.isBox2=!0;var am=new _s,im=new _s,om=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _s;r(this,e),this.start=n,this.end=t}return i(e,[{key:"set",value:function(e,n){return this.start.copy(e),this.end.copy(n),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,n){am.subVectors(e,this.start),im.subVectors(this.end,this.start);var t=im.dot(im),r=im.dot(am)/t;return n&&(r=Wo(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,n,t){var r=this.closestPointToPointParameter(e,n);return this.delta(t).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),sm=new _s,lm=new Zs,um=new Zs,cm=function(e){s(t,e);var n=A(t);function t(e){var a;r(this,t);for(var i=dm(e),o=new Jl,s=[],l=[],u=new us(0,0,1),c=new us(0,1,0),d=0;d<i.length;d++){var A=i[d];A.parent&&A.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),l.push(u.r,u.g,u.b),l.push(c.r,c.g,c.b))}o.setAttribute("position",new zl(s,3)),o.setAttribute("color",new zl(l,3));var f=new ZA({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(a=n.call(this,o,f)).type="SkeletonHelper",a.isSkeletonHelper=!0,a.root=e,a.bones=i,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a}return i(t,[{key:"updateMatrixWorld",value:function(e){var n=this.bones,r=this.geometry,a=r.getAttribute("position");um.copy(this.root.matrixWorld).invert();for(var i=0,o=0;i<n.length;i++){var s=n[i];s.parent&&s.parent.isBone&&(lm.multiplyMatrices(um,s.matrixWorld),sm.setFromMatrixPosition(lm),a.setXYZ(o,sm.x,sm.y,sm.z),lm.multiplyMatrices(um,s.parent.matrixWorld),sm.setFromMatrixPosition(lm),a.setXYZ(o+1,sm.x,sm.y,sm.z),o+=2)}r.getAttribute("position").needsUpdate=!0,Si(l(t.prototype),"updateMatrixWorld",this).call(this,e)}}]),t}(lf);function dm(e){var n=[];!0===e.isBone&&n.push(e);for(var t=0;t<e.children.length;t++)n.push.apply(n,dm(e.children[t]));return n}var Am=function(e){s(t,e);var n=A(t);function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;r(this,t),o=new us(o),s=new us(s);for(var l=i/2,u=a/i,c=a/2,d=[],A=[],f=0,h=0,p=-c;f<=i;f++,p+=u){d.push(-c,0,p,c,0,p),d.push(p,0,-c,p,0,c);var m=f===l?o:s;m.toArray(A,h),h+=3,m.toArray(A,h),h+=3,m.toArray(A,h),h+=3,m.toArray(A,h),h+=3}var S=new Jl;S.setAttribute("position",new zl(d,3)),S.setAttribute("color",new zl(A,3));var g=new ZA({vertexColors:!0,toneMapped:!1});return(e=n.call(this,S,g)).type="GridHelper",e}return i(t)}(lf);var fm=new Float32Array(1);new Int32Array(fm.buffer);wf.create=function(e,n){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(wf.prototype),e.prototype.constructor=e,e.prototype.getPoint=n,e},Hf.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},Am.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},cm.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},$h.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),bp.extractUrlBase(e)},$h.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},rm.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},rm.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},rm.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},rm.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},bs.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},bs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},bs.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},bs.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},bs.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},ll.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},zs.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Mu.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},om.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},$o.prototype.flattenToArrayOffset=function(e,n){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,n)},$o.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},$o.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},$o.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},$o.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},$o.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Zs.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Zs.prototype.flattenToArrayOffset=function(e,n){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,n)},Zs.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new _s).setFromMatrixColumn(this,3)},Zs.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Zs.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Zs.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Zs.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Zs.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Zs.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Zs.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Zs.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Zs.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Zs.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Zs.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Zs.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Zs.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Zs.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Zs.prototype.makeFrustum=function(e,n,t,r,a,i){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,n,r,t,a,i)},Zs.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Pu.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},xs.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},xs.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Js.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Js.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Js.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Ml.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Ml.prototype.barycoordFromPoint=function(e,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,n)},Ml.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},Ml.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},Ml.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},Ml.barycoordFromPoint=function(e,n,t,r,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ml.getBarycoord(e,n,t,r,a)},Ml.normal=function(e,n,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ml.getNormal(e,n,t,r)},Wf.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Wf.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new _h(this,e)},Wf.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new wh(this,e)},Zo.prototype.fromAttribute=function(e,n,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,n,t)},Zo.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Zo.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},_s.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},_s.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},_s.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},_s.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},_s.prototype.getColumnFromMatrix=function(e,n){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(n,e)},_s.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},_s.prototype.fromAttribute=function(e,n,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,n,t)},_s.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},_s.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ps.prototype.fromAttribute=function(e,n,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,n,t)},ps.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},wl.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},wl.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},wl.prototype.translate=function(e,n){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(n,e)},wl.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},wl.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(wl.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),pu.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(pu.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),zA.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},wu.prototype.setLens=function(e,n){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==n&&(this.filmGauge=n),this.setFocalLength(e)},Object.defineProperties(ip.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(jl.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Bo},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Bo)}}}),jl.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Bo:Mo),this},jl.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},jl.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Jl.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Jl.prototype.addAttribute=function(e,n){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),n&&n.isBufferAttribute||n&&n.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(n),this):this.setAttribute(e,n):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new jl(arguments[1],arguments[2])))},Jl.prototype.addDrawCall=function(e,n,t){void 0!==t&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,n)},Jl.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Jl.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Jl.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Jl.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Jl.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),vA.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Bo:Mo),this},vA.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},_h.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},_h.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},_h.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},gA.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Zp.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(kl.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new us}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(_u.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),hA.prototype.clearTarget=function(e,n,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(n,t,r)},hA.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},hA.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},hA.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},hA.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},hA.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},hA.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},hA.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},hA.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},hA.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},hA.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},hA.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},hA.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},hA.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},hA.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},hA.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},hA.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},hA.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},hA.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},hA.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},hA.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},hA.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},hA.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},hA.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},hA.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(hA.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Ro:Po}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(tA.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ms.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Mp.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var n=this;return(new Fp).load(e,(function(e){n.setBuffer(e)})),this},Bp.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Vu.prototype.updateCubeMap=function(e,n){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,n)},Vu.prototype.clear=function(e,n,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,n,t,r)},cs.crossOrigin=void 0,cs.loadTexture=function(e,n,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var a=new ap;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,t,void 0,r);return n&&(i.mapping=n),i},cs.loadTextureCube=function(e,n,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var a=new rp;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,t,void 0,r);return n&&(i.mapping=n),i},cs.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},cs.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function hm(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pm(e){return!!e&&!!e[aS]}function mm(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===iS}(e)||Array.isArray(e)||!!e[rS]||!!e.constructor[rS]||wm(e)||bm(e))}function Sm(e,n,t){void 0===t&&(t=!1),0===gm(e)?(t?Object.keys:oS)(e).forEach((function(r){t&&"symbol"==typeof r||n(r,e[r],e)})):e.forEach((function(t,r){return n(r,t,e)}))}function gm(e){var n=e[aS];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:wm(e)?2:bm(e)?3:0}function vm(e,n){return 2===gm(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function xm(e,n){return 2===gm(e)?e.get(n):e[n]}function _m(e,n,t){var r=gm(e);2===r?e.set(n,t):3===r?(e.delete(n),e.add(t)):e[n]=t}function ym(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}function wm(e){return $m&&e instanceof Map}function bm(e){return eS&&e instanceof Set}function Vm(e){return e.o||e.t}function Cm(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=sS(e);delete n[aS];for(var t=oS(n),r=0;r<t.length;r++){var a=t[r],i=n[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),n)}function Em(e,n){return void 0===n&&(n=!1),Fm(e)||pm(e)||!mm(e)||(gm(e)>1&&(e.set=e.add=e.clear=e.delete=Dm),Object.freeze(e),n&&Sm(e,(function(e,n){return Em(n,!0)}),!0)),e}function Dm(){hm(2)}function Fm(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Tm(e){var n=lS[e];return n||hm(18,e),n}function Pm(e,n){lS[e]||(lS[e]=n)}function Rm(){return Jm}function Lm(e,n){n&&(Tm("Patches"),e.u=[],e.s=[],e.v=n)}function Mm(e){Bm(e),e.p.forEach(Im),e.p=null}function Bm(e){e===Jm&&(Jm=e.l)}function km(e){return Jm={p:[],l:Jm,h:e,m:!0,_:0}}function Im(e){var n=e[aS];0===n.i||1===n.i?n.j():n.O=!0}function Om(e,n){n._=n.p.length;var t=n.p[0],r=void 0!==e&&e!==t;return n.h.g||Tm("ES5").S(n,e,r),r?(t[aS].P&&(Mm(n),hm(4)),mm(e)&&(e=Nm(n,e),n.l||Um(n,e)),n.u&&Tm("Patches").M(t[aS].t,e,n.u,n.s)):e=Nm(n,t,[]),Mm(n),n.u&&n.v(n.u,n.s),e!==tS?e:void 0}function Nm(e,n,t){if(Fm(n))return n;var r=n[aS];if(!r)return Sm(n,(function(a,i){return jm(e,r,n,a,i,t)}),!0),n;if(r.A!==e)return n;if(!r.P)return Um(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=Cm(r.k):r.o;Sm(3===r.i?new Set(a):a,(function(n,i){return jm(e,r,a,n,i,t)})),Um(e,a,!1),t&&e.u&&Tm("Patches").R(r,t,e.u,e.s)}return r.o}function jm(e,n,t,r,a,i){if(pm(a)){var o=Nm(e,a,i&&n&&3!==n.i&&!vm(n.D,r)?i.concat(r):void 0);if(_m(t,r,o),!pm(o))return;e.m=!1}if(mm(a)&&!Fm(a)){if(!e.h.F&&e._<1)return;Nm(e,a),n&&n.A.l||Um(e,a)}}function Um(e,n,t){void 0===t&&(t=!1),e.h.F&&e.m&&Em(n,t)}function Gm(e,n){var t=e[aS];return(t?Vm(t):e)[n]}function zm(e,n){if(n in e)for(var t=Object.getPrototypeOf(e);t;){var r=Object.getOwnPropertyDescriptor(t,n);if(r)return r;t=Object.getPrototypeOf(t)}}function Hm(e){e.P||(e.P=!0,e.l&&Hm(e.l))}function Wm(e){e.o||(e.o=Cm(e.t))}function Xm(e,n,t){var r=wm(n)?Tm("MapSet").N(n,t):bm(n)?Tm("MapSet").T(n,t):e.g?function(e,n){var t=Array.isArray(e),r={i:t?1:0,A:n?n.A:Rm(),P:!1,I:!1,D:{},l:n,t:e,k:null,o:null,j:null,C:!1},a=r,i=uS;t&&(a=[r],i=cS);var o=Proxy.revocable(a,i),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(n,t):Tm("ES5").J(n,t);return(t?t.A:Rm()).p.push(r),r}function Km(e){return pm(e)||hm(22,e),function e(n){if(!mm(n))return n;var t,r=n[aS],a=gm(n);if(r){if(!r.P&&(r.i<4||!Tm("ES5").K(r)))return r.t;r.I=!0,t=qm(n,a),r.I=!1}else t=qm(n,a);return Sm(t,(function(n,a){r&&xm(r.t,n)===a||_m(t,n,e(a))})),3===a?new Set(t):t}(e)}function qm(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return Cm(e)}function Ym(){function e(e,n){var t=a[e];return t?t.enumerable=n:a[e]=t={configurable:!0,enumerable:n,get:function(){var n=this[aS];return uS.get(n,e)},set:function(n){var t=this[aS];uS.set(t,e,n)}},t}function n(e){for(var n=e.length-1;n>=0;n--){var a=e[n][aS];if(!a.P)switch(a.i){case 5:r(a)&&Hm(a);break;case 4:t(a)&&Hm(a)}}}function t(e){for(var n=e.t,t=e.k,r=oS(t),a=r.length-1;a>=0;a--){var i=r[a];if(i!==aS){var o=n[i];if(void 0===o&&!vm(n,i))return!0;var s=t[i],l=s&&s[aS];if(l?l.t!==o:!ym(s,o))return!0}}var u=!!n[aS];return r.length!==oS(n).length+(u?0:1)}function r(e){var n=e.k;if(n.length!==e.t.length)return!0;var t=Object.getOwnPropertyDescriptor(n,n.length-1);if(t&&!t.get)return!0;for(var r=0;r<n.length;r++)if(!n.hasOwnProperty(r))return!0;return!1}var a={};Pm("ES5",{J:function(n,t){var r=Array.isArray(n),a=function(n,t){if(n){for(var r=Array(t.length),a=0;a<t.length;a++)Object.defineProperty(r,""+a,e(a,!0));return r}var i=sS(t);delete i[aS];for(var o=oS(i),s=0;s<o.length;s++){var l=o[s];i[l]=e(l,n||!!i[l].enumerable)}return Object.create(Object.getPrototypeOf(t),i)}(r,n),i={i:r?5:4,A:t?t.A:Rm(),P:!1,I:!1,D:{},l:t,t:n,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,aS,{value:i,writable:!0}),a},S:function(e,t,a){a?pm(t)&&t[aS].A===e&&n(e.p):(e.u&&function e(n){if(n&&"object"==typeof n){var t=n[aS];if(t){var a=t.t,i=t.k,o=t.D,s=t.i;if(4===s)Sm(i,(function(n){n!==aS&&(void 0!==a[n]||vm(a,n)?o[n]||e(i[n]):(o[n]=!0,Hm(t)))})),Sm(a,(function(e){void 0!==i[e]||vm(i,e)||(o[e]=!1,Hm(t))}));else if(5===s){if(r(t)&&(Hm(t),o.length=!0),i.length<a.length)for(var l=i.length;l<a.length;l++)o[l]=!1;else for(var u=a.length;u<i.length;u++)o[u]=!0;for(var c=Math.min(i.length,a.length),d=0;d<c;d++)i.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(i[d])}}}}(e.p[0]),n(e.p))},K:function(e){return 4===e.i?t(e):r(e)}})}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:gi}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=gi);var Qm,Jm,Zm="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),$m="undefined"!=typeof Map,eS="undefined"!=typeof Set,nS="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,tS=Zm?Symbol.for("immer-nothing"):((Qm={})["immer-nothing"]=!0,Qm),rS=Zm?Symbol.for("immer-draftable"):"__$immer_draftable",aS=Zm?Symbol.for("immer-state"):"__$immer_state",iS=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),oS="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,sS=Object.getOwnPropertyDescriptors||function(e){var n={};return oS(e).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)})),n},lS={},uS={get:function(e,n){if(n===aS)return e;var t=Vm(e);if(!vm(t,n))return function(e,n,t){var r,a=zm(n,t);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,t,n);var r=t[n];return e.I||!mm(r)?r:r===Gm(e.t,n)?(Wm(e),e.o[n]=Xm(e.A.h,r,e)):r},has:function(e,n){return n in Vm(e)},ownKeys:function(e){return Reflect.ownKeys(Vm(e))},set:function(e,n,t){var r=zm(Vm(e),n);if(null==r?void 0:r.set)return r.set.call(e.k,t),!0;if(!e.P){var a=Gm(Vm(e),n),i=null==a?void 0:a[aS];if(i&&i.t===t)return e.o[n]=t,e.D[n]=!1,!0;if(ym(t,a)&&(void 0!==t||vm(e.t,n)))return!0;Wm(e),Hm(e)}return e.o[n]===t&&"number"!=typeof t&&(void 0!==t||n in e.o)||(e.o[n]=t,e.D[n]=!0,!0)},deleteProperty:function(e,n){return void 0!==Gm(e.t,n)||n in e.t?(e.D[n]=!1,Wm(e),Hm(e)):delete e.D[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var t=Vm(e),r=Reflect.getOwnPropertyDescriptor(t,n);return r?{writable:!0,configurable:1!==e.i||"length"!==n,enumerable:r.enumerable,value:t[n]}:r},defineProperty:function(){hm(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){hm(12)}},cS={};Sm(uS,(function(e,n){cS[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),cS.deleteProperty=function(e,n){return cS.set.call(this,e,n,void 0)},cS.set=function(e,n,t){return uS.set.call(this,e[0],n,t,e[0])};var dS=function(){function e(e){var n=this;this.g=nS,this.F=!0,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var i=n;return function(e){var n=this;void 0===e&&(e=a);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(o))}))}}var o;if("function"!=typeof t&&hm(6),void 0!==r&&"function"!=typeof r&&hm(7),mm(e)){var s=km(n),l=Xm(n,e,void 0),u=!0;try{o=t(l),u=!1}finally{u?Mm(s):Bm(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Lm(s,r),Om(e,s)}),(function(e){throw Mm(s),e})):(Lm(s,r),Om(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=t(e))&&(o=e),o===tS&&(o=void 0),n.F&&Em(o,!0),r){var c=[],d=[];Tm("Patches").M(e,o,c,d),r(c,d)}return o}hm(21,e)},this.produceWithPatches=function(e,t){if("function"==typeof e)return function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return n.produceWithPatches(t,(function(n){return e.apply(void 0,[n].concat(a))}))};var r,a,i=n.produce(e,t,(function(e,n){r=e,a=n}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,a]})):[i,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var n=e.prototype;return n.createDraft=function(e){mm(e)||hm(8),pm(e)&&(e=Km(e));var n=km(this),t=Xm(this,e,void 0);return t[aS].C=!0,Bm(n),t},n.finishDraft=function(e,n){var t=(e&&e[aS]).A;return Lm(t,n),Om(void 0,t)},n.setAutoFreeze=function(e){this.F=e},n.setUseProxies=function(e){e&&!nS&&hm(20),this.g=e},n.applyPatches=function(e,n){var t;for(t=n.length-1;t>=0;t--){var r=n[t];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}t>-1&&(n=n.slice(t+1));var a=Tm("Patches").$;return pm(e)?a(e,n):this.produce(e,(function(e){return a(e,n)}))},e}(),AS=new dS,fS=AS.produce,hS=(AS.produceWithPatches.bind(AS),AS.setAutoFreeze.bind(AS),AS.setUseProxies.bind(AS),AS.applyPatches.bind(AS),AS.createDraft.bind(AS),AS.finishDraft.bind(AS),fS);function pS(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var mS="function"===typeof Symbol&&Symbol.observable||"@@observable",SS=function(){return Math.random().toString(36).substring(7).split("").join(".")},gS={INIT:"@@redux/INIT"+SS(),REPLACE:"@@redux/REPLACE"+SS(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+SS()}};function vS(e){if("object"!==typeof e||null===e)return!1;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function xS(e,n,t){var r;if("function"===typeof n&&"function"===typeof t||"function"===typeof t&&"function"===typeof arguments[3])throw new Error(pS(0));if("function"===typeof n&&"undefined"===typeof t&&(t=n,n=void 0),"undefined"!==typeof t){if("function"!==typeof t)throw new Error(pS(1));return t(xS)(e,n)}if("function"!==typeof e)throw new Error(pS(2));var a=e,i=n,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(pS(3));return i}function d(e){if("function"!==typeof e)throw new Error(pS(4));if(l)throw new Error(pS(5));var n=!0;return u(),s.push(e),function(){if(n){if(l)throw new Error(pS(6));n=!1,u();var t=s.indexOf(e);s.splice(t,1),o=null}}}function A(e){if(!vS(e))throw new Error(pS(7));if("undefined"===typeof e.type)throw new Error(pS(8));if(l)throw new Error(pS(9));try{l=!0,i=a(i,e)}finally{l=!1}for(var n=o=s,t=0;t<n.length;t++){(0,n[t])()}return e}function f(e){if("function"!==typeof e)throw new Error(pS(10));a=e,A({type:gS.REPLACE})}function h(){var e,n=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(pS(11));function t(){e.next&&e.next(c())}return t(),{unsubscribe:n(t)}}})[mS]=function(){return this},e}return A({type:gS.INIT}),(r={dispatch:A,subscribe:d,getState:c,replaceReducer:f})[mS]=h,r}function _S(e){for(var n=Object.keys(e),t={},r=0;r<n.length;r++){var a=n[r];0,"function"===typeof e[a]&&(t[a]=e[a])}var i,o=Object.keys(t);try{!function(e){Object.keys(e).forEach((function(n){var t=e[n];if("undefined"===typeof t(void 0,{type:gS.INIT}))throw new Error(pS(12));if("undefined"===typeof t(void 0,{type:gS.PROBE_UNKNOWN_ACTION()}))throw new Error(pS(13))}))}(t)}catch(s){i=s}return function(e,n){if(void 0===e&&(e={}),i)throw i;for(var r=!1,a={},s=0;s<o.length;s++){var l=o[s],u=t[l],c=e[l],d=u(c,n);if("undefined"===typeof d){n&&n.type;throw new Error(pS(14))}a[l]=d,r=r||d!==c}return(r=r||o.length!==Object.keys(e).length)?a:e}}function yS(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return 0===n.length?function(e){return e}:1===n.length?n[0]:n.reduce((function(e,n){return function(){return e(n.apply(void 0,arguments))}}))}function wS(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),a=function(){throw new Error(pS(15))},i={getState:r.getState,dispatch:function(){return a.apply(void 0,arguments)}},o=n.map((function(e){return e(i)}));return a=yS.apply(void 0,o)(r.dispatch),t(t({},r),{},{dispatch:a})}}}function bS(e){return function(n){var t=n.dispatch,r=n.getState;return function(n){return function(a){return"function"===typeof a?a(t,r,e):n(a)}}}}var VS=bS();VS.withExtraArgument=bS;var CS=VS,ES=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),DS=function(e,n){for(var t=0,r=n.length,a=e.length;t<r;t++,a++)e[a]=n[t];return e},FS=Object.defineProperty,TS=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),PS=Object.prototype.hasOwnProperty,RS=Object.prototype.propertyIsEnumerable,LS=function(e,n,t){return n in e?FS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t},MS=function(e,n){for(var t in n||(n={}))PS.call(n,t)&&LS(e,t,n[t]);if(TS)for(var r=0,a=TS(n);r<a.length;r++){t=a[r];RS.call(n,t)&&LS(e,t,n[t])}return e},BS="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?yS:yS.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function kS(e){if("object"!==typeof e||null===e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return n===t}var IS=function(e){function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=e.apply(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return ES(n,e),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Array.isArray(e[0])?new(n.bind.apply(n,DS([void 0],e[0].concat(this)))):new(n.bind.apply(n,DS([void 0],e.concat(this))))},n}(Array);function OS(e){return mm(e)?hS(e,(function(){})):e}function NS(){return function(e){return function(e){void 0===e&&(e={});var n=e.thunk,t=void 0===n||n,r=(e.immutableCheck,e.serializableCheck,new IS);t&&(!function(e){return"boolean"===typeof e}(t)?r.push(CS.withExtraArgument(t.extraArgument)):r.push(CS));0;return r}(e)}}function jS(e,n){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(n){var a=n.apply(void 0,t);if(!a)throw new Error("prepareAction did not return an object");return MS(MS({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:t[0]}}return t.toString=function(){return""+e},t.type=e,t.match=function(n){return n.type===e},t}function US(e){var n,t={},r=[],a={addCase:function(e,n){var r="string"===typeof e?e:e.type;if(r in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[r]=n,a},addMatcher:function(e,n){return r.push({matcher:e,reducer:n}),a},addDefaultCase:function(e){return n=e,a}};return e(a),[t,r,n]}function GS(e){var n=e.name;if(!n)throw new Error("`name` is a required option for createSlice");var t,r="function"==typeof e.initialState?e.initialState:OS(e.initialState),a=e.reducers||{},i=Object.keys(a),o={},s={},l={};function u(){var n="function"===typeof e.extraReducers?US(e.extraReducers):[e.extraReducers],t=n[0],a=void 0===t?{}:t,i=n[1],o=void 0===i?[]:i,l=n[2],u=void 0===l?void 0:l,c=MS(MS({},a),s);return function(e,n,t,r){void 0===t&&(t=[]);var a,i="function"===typeof n?US(n):[n,t,r],o=i[0],s=i[1],l=i[2];if(function(e){return"function"===typeof e}(e))a=function(){return OS(e())};else{var u=OS(e);a=function(){return u}}function c(e,n){void 0===e&&(e=a());var t=DS([o[n.type]],s.filter((function(e){return(0,e.matcher)(n)})).map((function(e){return e.reducer})));return 0===t.filter((function(e){return!!e})).length&&(t=[l]),t.reduce((function(e,t){if(t){var r;if(pm(e))return"undefined"===typeof(r=t(e,n))?e:r;if(mm(e))return hS(e,(function(e){return t(e,n)}));if("undefined"===typeof(r=t(e,n))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=a,c}(r,c,o,u)}return i.forEach((function(e){var t,r,i=a[e],u=n+"/"+e;"reducer"in i?(t=i.reducer,r=i.prepare):t=i,o[e]=t,s[u]=t,l[e]=r?jS(u,r):jS(u)})),{name:n,reducer:function(e,n){return t||(t=u()),t(e,n)},actions:l,caseReducers:o,getInitialState:function(){return t||(t=u()),t.getInitialState()}}}Object.assign;var zS="listenerMiddleware";jS(zS+"/add"),jS(zS+"/removeAll"),jS(zS+"/remove");Ym();var HS,WS={readDiscreteProperty:function(e,n){var t=new RegExp("^\\s*[;\\/]+\\s*"+n+":(.+)$","gim").exec(e);return t?t[1]:null},readDiscretePropertySet:function(e,n){var t=new RegExp("^\\s*[;\\/]+\\s*"+n+":(.+)$","gim"),r=null,a=[];do{(r=t.exec(e))&&a.push(r[1].trim())}while(r);return a},clearDiscreteProperties:function(e,n){return n.forEach((function(n){var t=new RegExp("^\\s*[;\\/]+\\s*"+n+":.*[\r\n]*","gim");e=e.replace(t,"")})),e},writeDiscreteProperty:function(e,n,t,r){return"".concat(r," ").concat(n,": ").concat(t,"\n")+e},writeDiscretePropertyArray:function(e,n,t,r){for(var a=t.length-1;a>=0;a--)e="".concat(r," ").concat(n,": ").concat(t[a],"\n")+e;return e},readSupportedGames:function(e){var n=WS.readDiscreteProperty(e,"GAMES");if(null!==n){for(var t=n.trim().split(","),r=[],a=0;a<t.length;a++){var i=t[a];v[i]&&r.push(v[i])}return r}return null},readExecutionType:function(e){var n=WS.readDiscreteProperty(e,"EXECUTION");if(n)return function(e){switch(e){case"Direct":return 1;case"Process":return 2}return null}(n.trim())},readParameters:function(e){var n=WS.readDiscretePropertySet(e,"PARAM"),t=[];return n.forEach((function(e){var n=e.split("|");if(2===n.length){var r={name:n[1],type:n[0]};try{WS.validateParameters([r]),t.push(r)}catch(a){}}})),t},validParameterNameRegex:/^[\w?!]*$/,validateParameters:function(e){e&&e.forEach((function(e){if(!e.name)throw new Error("An event parameter didn't have a name");if(!e.type)throw new Error("An event parameter didn't have a type");if(!e.name.match(WS.validParameterNameRegex))throw new Error("Event parameter name '".concat(e.name,"' is not valid"));if(-1===T.indexOf(e.type))throw new Error("Event parameter type ".concat(e.type," is not recognized"))}))},testCustomEvent:function(){var e=O(k().mark((function e(n,t,r){var a,i=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.length>3&&void 0!==i[3]?i[3]:{},e.t0=n,e.next=e.t0===x.MIPS?4:e.t0===x.C?5:6;break;case 4:return e.abrupt("return",WS.testAssemble(t,r,a));case 5:return e.abrupt("return",WS.testCompile(t,r,a));case 6:throw new Error("Unrecognized event code language: ".concat(n));case 7:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),testAssemble:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=XS(n),a=KS(x.MIPS,e),i=Ka(e,a,{parameterValues:r},Object.assign({addr:0,audioIndices:oe(1,50),boardInfo:ln,board:{additionalbg:oe("",50)},testCompile:!0},t)),o=ha(i);return o},testCompile:function(){var e=O(k().mark((function e(n,r){var a,i,o,s,l,u=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:{},i=XS(r),o=KS(x.C,n),H(s=La(n,o,{parameterValues:i},t({testCompile:!0,audioIndices:oe(1,50),boardInfo:ln,board:{additionalbg:oe("",50)}},a))),e.next=7,Yt(s);case 7:return H(l=e.sent),ha(Ka(l,o,{},Object.assign({addr:0,audioIndices:oe(1,50),boardInfo:ln,board:{additionalbg:oe("",50)}},a))),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()};function XS(e){var n={};return e&&e.length&&e.forEach((function(e){n[e.name]=0})),n}function KS(e,n){var t=WS.readDiscreteProperty(n,"NAME");if(!t||!t.trim())throw new Error("Custom event must have a name");var r=t=t.trim(),a=WS.readExecutionType(n);if(!a)throw new Error("Custom event must have execution type");var i=WS.readSupportedGames(n);if(!i)throw new Error("Custom event must have supported games list");var o=WS.readParameters(n);return{id:r,name:t,custom:!0,language:e,asm:n,activationType:y.LANDON,executionType:a,supportedGames:i,parameters:o}}function qS(e){return YS.apply(this,arguments)}function YS(){return YS=O(k().mark((function e(n){var t,r,a,i,o,s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.language,r=n.parameters,a=n.supportedGames,r&&WS.validateParameters(r),i=n.asm,o=0;case 4:if(!(o<a.length)){e.next=19;break}return s=a[o],e.prev=6,e.next=9,WS.testCustomEvent(t,i,r,{game:s});case 9:e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(6),l="Failed a test compile/assembly for "+V(s)+". The event code may need adjustments before it can be used.\n\n"+e.t0,console.error(l+"\n\n"+i),new Error(l);case 16:o++,e.next=4;break;case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[6,11]])}))),YS.apply(this,arguments)}function QS(e,n,t,r,a,i){return JS.apply(this,arguments)}function JS(){return JS=O(k().mark((function e(n,t,r,a,i,o){var s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H("Writing custom event",t,r),s=KS(a,i),a!==x.C){e.next=7;break}return l=La(i,s,t,r),e.next=6,Yt(l);case 6:i=e.sent;case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}!function(e){e[e.None=0]="None",e[e.Library=1]="Library",e[e.Board=2]="Board"}(HS||(HS={}));var ZS=GS({name:"boardState",initialState:{boards:[],romBoards:[],currentBoardIndex:0,currentBoardIsROM:!1,selectedSpaceIndices:{},selectionBoxCoords:null,highlightedSpaceIndices:null,temporaryConnections:null,eventLibrary:{},currentEventId:null,currentEventType:HS.None,hoveredBoardEventIndex:-1},reducers:{setBoardsAction:function(e,n){var t=n.payload.boards;e.boards=t},addBoardAction:function(e,n){var t=n.payload,r=t.board;(t.rom?e.romBoards:e.boards).push(r)},deleteBoardAction:function(e,n){var t=n.payload.boardIndex;if(!(isNaN(t)||t<0||t>=e.boards.length)){1===e.boards.length&&e.boards.push(Uy()),e.boards.splice(t,1);var r=-1;e.currentBoardIndex>t?r=e.currentBoardIndex-1:1===e.boards.length?r=0:e.currentBoardIndex===t&&e.currentBoardIndex===e.boards.length&&(r=e.currentBoardIndex-1),r>=0&&(e.currentBoardIndex=r,e.currentBoardIsROM=!1)}},setCurrentBoardAction:function(e,n){var t=n.payload,r=t.index,a=t.rom,i=e.currentBoardIndex!==r||e.currentBoardIsROM!==a;e.currentBoardIndex=r,e.currentBoardIsROM=a,i&&(e.selectedSpaceIndices={},e.selectionBoxCoords=null,e.hoveredBoardEventIndex=-1,e.temporaryConnections=null,e.highlightedSpaceIndices=null)},clearBoardsFromROMAction:function(e){e.romBoards=[],e.boards.length||e.boards.push(Uy())},copyCurrentBoardAction:function(e,n){var t,r=M(sv(e));delete r._rom,r.name="Copy of "+r.name,e.currentBoardIsROM?(t=e.boards.length,e.boards.push(r)):(t=e.currentBoardIndex+1,e.boards.splice(t,0,r)),n.payload.makeCurrent&&(e.currentBoardIndex=t,e.currentBoardIsROM=!1)},setBoardNameAction:function(e,n){sv(e).name=n.payload.name},setBoardDescriptionAction:function(e,n){sv(e).description=n.payload.description},setBoardDifficultyAction:function(e,n){sv(e).difficulty=n.payload.difficulty},setBoardCostumeTypeIndexAction:function(e,n){sv(e).costumeTypeIndex=n.payload.costumeType},setBackgroundAction:function(e,n){var t=n.payload.bg;sv(e).bg.src=t},setBoardOtherBgAction:function(e,n){var t=n.payload,r=t.name,a=t.value;sv(e).otherbg[r]=a},addAnimationBackgroundAction:function(e,n){var t=n.payload.bg,r=sv(e);r.animbg=r.animbg||[],r.animbg.push(t)},removeAnimationBackgroundAction:function(e,n){var t=n.payload.index,r=sv(e);!r.animbg||r.animbg.length<=t||t<0||r.animbg.splice(t,1)},addAdditionalBackgroundAction:function(e,n){var t=n.payload.bg,r=sv(e);r.additionalbg=r.additionalbg||[],r.additionalbg.push(t)},removeAdditionalBackgroundAction:function(e,n){var t=n.payload.index,r=sv(e);!r.additionalbg||r.additionalbg.length<=t||t<0||r.additionalbg.splice(t,1)},setAdditionalBackgroundCodeAction:function(e,n){var t=n.payload,r=t.code,a=t.language,i=sv(e);r?i.additionalbgcode={code:r,language:a}:delete i.additionalbgcode},setAudioSelectCodeAction:function(e,n){var t=n.payload,r=t.code,a=t.language,i=sv(e);r?i.audioSelectCode={code:r,language:a}:delete i.audioSelectCode},setBoardAudioAction:function(e,n){var t=n.payload.audioChanges,r=sv(e);if("audioType"in t&&(r.audioType=t.audioType,t.audioType===Ny.Custom))r.audioData||(r.audioData=[]);"number"===typeof t.gameAudioIndex&&(r.audioIndex=t.gameAudioIndex);var a=t.customAudioIndex;"number"===typeof a&&(X(Array.isArray(r.audioData)),X(a<=r.audioData.length),a===r.audioData.length&&r.audioData.push({name:"(select a midi file)",data:"",soundbankIndex:0}),t.delete?(X(a<r.audioData.length),r.audioData.splice(a,1)):(t.midiName&&(r.audioData[a].name=t.midiName),t.midiData&&(r.audioData[a].data=t.midiData),"number"===typeof t.soundbankIndex&&(r.audioData[a].soundbankIndex=t.soundbankIndex)))},addSpaceAction:function(e,n){var t=n.payload;Sw(t.x,t.y,t.type,t.subtype,sv(e),e.eventLibrary)},removeSpaceAction:function(e,n){var t=n.payload.index;iv(e,sv(e),t)},removeSpacesAction:function(e,n){for(var t=n.payload.spaceIndices,r=sv(e),a=0;a<t.length;a++){var i=t[a];if(iv(e,r,i))for(var o=a+1;o<t.length;o++)t[o]>i&&t[o]--}},addConnectionAction:function(e,n){var t=n.payload;Cw(t.startSpaceIndex,t.endSpaceIndex,sv(e)),e.temporaryConnections=null},eraseConnectionsAction:function(e,n){var t=n.payload,r=t.x,a=t.y;!function(e,n,t){var r=e.spaces,a=e.links,i=!1;for(var o in a){var s=r[o],l=a[o];if(Array.isArray(l)){for(var u=0;u<l.length;)ov(s,r[l[u]],n,t)?(l.splice(u,1),i=!0):u++;1===l.length?a[o]=l=l[0]:l.length||delete a[o]}else ov(s,r[l],n,t)&&(delete a[o],i=!0)}}(sv(e),r,a)},setTemporaryUIConnections:function(e,n){var t=n.payload.connections;e.temporaryConnections=t},setSpacePositionsAction:function(e,n){for(var t=n.payload,r=t.spaceIndices,a=t.coords,i=sv(e),o=0;o<r.length;o++){var s=i.spaces[r[o]],l=a[o];"number"===typeof l.x&&(s.x=l.x),"number"===typeof l.y&&(s.y=l.y),"number"===typeof l.z&&(s.z=l.z)}},setSpaceTypeAction:function(e,n){for(var t=n.payload,r=t.spaceIndices,a=t.type,i=t.subtype,o=sv(e),s=0;s<r.length;s++){var l=o.spaces[r[s]];void 0!==a&&(l.type=a,l.rotation&&delete l.rotation),void 0!==i?l.subtype=i:delete l.subtype}},setSpaceSubtypeAction:function(e,n){for(var t=n.payload,r=t.spaceIndices,a=t.subtype,i=sv(e),o=0;o<r.length;o++){var s=i.spaces[r[o]];"undefined"===typeof a?delete s.subtype:s.subtype=a}},setSpaceHostsStarAction:function(e,n){for(var t=n.payload,r=t.spaceIndices,a=t.hostsStar,i=sv(e),o=0;o<r.length;o++){var s=i.spaces[r[o]];a?s.star=!0:delete s.star}},setSpaceRotationAction:function(e,n){var t=n.payload,r=t.spaceIndex,a=t.angleYAxisDeg;!function(e){if(e.currentBoardIsROM)throw new Error("Current board must not be a ROM board.")}(e);var i=sv(e).spaces[r];if(!i)throw new Error("setSpaceRotation: Invalid space index "+r);i.rotation=Math.round(a)},addSelectedSpaceAction:function(e,n){var t=n.payload;e.selectedSpaceIndices[t]=!0},setSelectedSpaceAction:function(n,t){var r=t.payload;n.selectedSpaceIndices=e({},r,!0)},setSelectedSpacesAction:function(e,n){var t,r={},a=L(n.payload);try{for(a.s();!(t=a.n()).done;){r[t.value]=!0}}catch(i){a.e(i)}finally{a.f()}e.selectedSpaceIndices=r},clearSelectedSpacesAction:function(e,n){e.selectedSpaceIndices={}},setHighlightedSpacesAction:function(e,n){var t=n.payload.spaceIndices;e.highlightedSpaceIndices=t},setSelectionBoxCoordsAction:function(e,n){var t=n.payload.selectionCoords;e.selectionBoxCoords=t},changeCurrentEventAction:function(e,n){var t=n.payload,r=t.id,a=t.type;e.currentEventId=r,e.currentEventType=a},addEventToLibraryAction:function(e,n){var t=n.payload.event;e.eventLibrary[t.id]=t},removeEventFromLibraryAction:function(e,n){var t=n.payload.eventId;if(!e.eventLibrary[t])throw new Error("Cannot remove event ".concat(t,", as it isn't in the event library"));if(!e.eventLibrary[t].custom)throw new Error("Cannot remove event ".concat(t,", as it is a built-in event"));delete e.eventLibrary[t]},addEventToBoardAction:function(e,n){var t=n.payload.event,r=sv(e);if(r.boardevents||(r.boardevents=[]),r.boardevents.push(t),t.custom){var a=function(e,n,t){if(t&&t.events&&Zy(t,n)){var r=Zy(t,n);return KS(r.language,r.code)}return e.eventLibrary[n]}(e,t.id,r);ew(r,a)}},removeEventFromBoardAction:function(e,n){var t=n.payload.eventIndex;uv(sv(e),t)},includeEventInBoardAction:function(e,n){var t=n.payload.event;ew(sv(e),t)},excludeEventFromBoardAction:function(e,n){var t=n.payload.eventId;!function(e,n){e.events&&delete e.events[n];Yy(e,(function(t,r,a){t.id===n&&(a?cv(a,r):uv(e,r))}))}(sv(e),t)},setHoveredBoardEventIndexAction:function(e,n){var t=n.payload.eventIndex;e.hoveredBoardEventIndex=t},setBoardEventActivationTypeAction:function(e,n){var t=n.payload,r=t.eventIndex,a=t.activationType;sv(e).boardevents[r].activationType=a},setBoardEventEventParameterAction:function(e,n){var t=n.payload,r=t.eventIndex,a=t.name,i=t.value,o=sv(e).boardevents[r];o.parameterValues||(o.parameterValues={}),o.parameterValues[a]=i},addEventToSpaceAction:function(e,n){var t=n.payload,r=t.event,a=t.toStart;Jy(sv(e),lv(e),r,a||!1,e.eventLibrary)},removeEventFromSpaceAction:function(e,n){var t=n.payload.eventIndex;cv(lv(e),t)},setSpaceEventActivationTypeAction:function(e,n){var t=n.payload,r=t.eventIndex,a=t.activationType;lv(e).events[r].activationType=a},setSpaceEventEventParameterAction:function(e,n){var t=n.payload,r=t.eventIndex,a=t.name,i=t.value,o=lv(e).events[r];o.parameterValues||(o.parameterValues={}),o.parameterValues[a]=i}}}),$S=ZS.actions,eg=$S.setBoardsAction,ng=$S.addBoardAction,tg=$S.deleteBoardAction,rg=$S.setCurrentBoardAction,ag=$S.clearBoardsFromROMAction,ig=$S.copyCurrentBoardAction,og=$S.setBoardNameAction,sg=$S.setBoardDescriptionAction,lg=$S.setBoardDifficultyAction,ug=$S.setBoardCostumeTypeIndexAction,cg=$S.setBackgroundAction,dg=$S.setBoardOtherBgAction,Ag=$S.addAnimationBackgroundAction,fg=$S.removeAnimationBackgroundAction,hg=$S.addAdditionalBackgroundAction,pg=$S.removeAdditionalBackgroundAction,mg=$S.setAdditionalBackgroundCodeAction,Sg=$S.setAudioSelectCodeAction,gg=$S.setBoardAudioAction,vg=$S.addConnectionAction,xg=$S.eraseConnectionsAction,_g=$S.setTemporaryUIConnections,yg=$S.addSpaceAction,wg=$S.removeSpaceAction,bg=$S.removeSpacesAction,Vg=$S.setSpacePositionsAction,Cg=$S.setSpaceTypeAction,Eg=$S.setSpaceSubtypeAction,Dg=$S.setSpaceHostsStarAction,Fg=$S.setSpaceRotationAction,Tg=$S.addSelectedSpaceAction,Pg=$S.setSelectedSpaceAction,Rg=$S.setSelectedSpacesAction,Lg=$S.clearSelectedSpacesAction,Mg=$S.setHighlightedSpacesAction,Bg=$S.setSelectionBoxCoordsAction,kg=$S.changeCurrentEventAction,Ig=$S.addEventToLibraryAction,Og=$S.removeEventFromLibraryAction,Ng=$S.addEventToBoardAction,jg=$S.removeEventFromBoardAction,Ug=$S.includeEventInBoardAction,Gg=$S.excludeEventFromBoardAction,zg=$S.setHoveredBoardEventIndexAction,Hg=$S.setBoardEventActivationTypeAction,Wg=$S.setBoardEventEventParameterAction,Xg=$S.addEventToSpaceAction,Kg=$S.removeEventFromSpaceAction,qg=$S.setSpaceEventActivationTypeAction,Yg=$S.setSpaceEventEventParameterAction,Qg=function(e){return e.data.present},Jg=function(e){return e.data.present.boards},Zg=function(e){return e.data.present.currentBoardIsROM?e.data.present.romBoards[e.data.present.currentBoardIndex]:e.data.present.boards[e.data.present.currentBoardIndex]},$g=function(e){return e.data.present.selectionBoxCoords},ev=function(e){return e.data.present.hoveredBoardEventIndex},nv=function(e){var n,t;return null===(n=e.data)||void 0===n||null===(t=n.present)||void 0===t?void 0:t.highlightedSpaceIndices},tv=function(e){return e.data.present.temporaryConnections},rv=function(e){return e.data.present.selectedSpaceIndices},av=function(e){return e.data.present.eventLibrary};function iv(e,n,t){if(t<0||t>=n.spaces.length)return!1;!function(e,n){if(!n.links)return;for(var t in delete n.links[e],n.links){var r=n.links[t];if(Array.isArray(r)){var a=r.indexOf(e);-1!==a&&r.splice(a,1),1===r.length?n.links[t]=r[0]:r.length||delete n.links[t]}else r===e&&delete n.links[t]}}(t,n),function(e,n,t){Qy(n,t,(function(n,t){var r;switch(n.type){case D.Space:t.parameterValues&&t.parameterValues.hasOwnProperty(n.name)&&t.parameterValues[n.name]===e&&delete t.parameterValues[n.name];break;case D.SpaceArray:var a=null===(r=t.parameterValues)||void 0===r?void 0:r[n.name];t.parameterValues&&Array.isArray(a)&&(t.parameterValues[n.name]=a.filter((function(n){return n!==e})))}}))}(t,n,e.eventLibrary);var r,a,i=n.spaces.length;function o(e){return parseInt(e)>parseInt(t)?e-1:e}n.spaces.splice(t,1);for(var s=0;s<i;s++)n.links.hasOwnProperty(s)&&(r=o(s),a=n.links[s],r!==s&&delete n.links[s],Array.isArray(a)?n.links[r]=a.map(o):n.links[r]=o(a));return Qy(n,e.eventLibrary,(function(e,n){var t;switch(e.type){case D.Space:n.parameterValues&&n.parameterValues.hasOwnProperty(e.name)&&(n.parameterValues[e.name]=o(n.parameterValues[e.name]));break;case D.SpaceArray:var r=null===(t=n.parameterValues)||void 0===t?void 0:t[e.name];n.parameterValues&&Array.isArray(r)&&(n.parameterValues[e.name]=r.map(o))}})),!0}function ov(e,n,t,r){return!(t>e.x&&t>n.x)&&(!(t<e.x&&t<n.x)&&(!(r>e.y&&r>n.y)&&(!(r<e.y&&r<n.y)&&(a=t,i=r,o=e.x,s=e.y,l=n.x,u=n.y,Math.abs((u-s)*a-(l-o)*i+l*s-u*o)/Math.sqrt(Math.pow(u-s,2)+Math.pow(l-o,2))<=4))));var a,i,o,s,l,u}function sv(e){return e.currentBoardIsROM?e.romBoards[e.currentBoardIndex]:e.boards[e.currentBoardIndex]}function lv(e){var n=Object.keys(e.selectedSpaceIndices).map((function(e){return parseInt(e,10)}));X(1===n.length);var t=sv(e).spaces[n[0]];return X(!!t),t}function uv(e,n){var t;null!==(t=e.boardevents)&&void 0!==t&&t.length&&n>=0&&e.boardevents.splice(n,1)}function cv(e,n){e&&e.events&&n>=0&&e.events.splice(n,1)}var dv=ZS.reducer,Av=__webpack_require__(1239),fv=__webpack_require__(7058),hv=__webpack_require__(1168);var pv=function(e){e()},mv=function(){return pv},Sv=Le.createContext(null);function gv(){return(0,Le.useContext)(Sv)}var vv=function(){throw new Error("uSES not initialized!")},xv=vv,_v=function(e,n){return e===n};function yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sv,n=e===Sv?gv:function(){return(0,Le.useContext)(e)};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_v;var r=n(),a=r.store,i=r.subscription,o=r.getServerState,s=xv(i.addNestedSub,a.getState,o||a.getState,e,t);return(0,Le.useDebugValue)(s),s}}var wv=yv();__webpack_require__(7861),__webpack_require__(6440);var bv={notify:function(){},get:function(){return[]}};function Vv(e,n){var t,r=bv;function a(){o.onStateChange&&o.onStateChange()}function i(){t||(t=n?n.addNestedSub(a):e.subscribe(a),r=function(){var e=mv(),n=null,t=null;return{clear:function(){n=null,t=null},notify:function(){e((function(){for(var e=n;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=n;t;)e.push(t),t=t.next;return e},subscribe:function(e){var r=!0,a=t={callback:e,next:null,prev:t};return a.prev?a.prev.next=a:n=a,function(){r&&null!==n&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}())}var o={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(t)},trySubscribe:i,tryUnsubscribe:function(){t&&(t(),t=void 0,r.clear(),r=bv)},getListeners:function(){return r}};return o}var Cv=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?Le.useLayoutEffect:Le.useEffect;var Ev=function(e){var n=e.store,t=e.context,r=e.children,a=e.serverState,i=(0,Le.useMemo)((function(){var e=Vv(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),o=(0,Le.useMemo)((function(){return n.getState()}),[n]);Cv((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[i,o]);var s=t||Sv;return Le.createElement(s.Provider,{value:i},r)};function Dv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sv,n=e===Sv?gv:function(){return(0,Le.useContext)(e)};return function(){return n().store}}var Fv=Dv();function Tv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sv,n=e===Sv?Fv:Dv(e);return function(){return n().dispatch}}var Pv,Rv=Tv();!function(e){xv=e}(fv.useSyncExternalStoreWithSelector),function(e){e}(Av.useSyncExternalStore),Pv=hv.unstable_batchedUpdates,pv=Pv;var Lv=wv;function Mv(){return Lv(Zg)}function Bv(){return Lv(rv)}function kv(e){(0,Le.useEffect)((function(){!function(e){var n;e=e||Hy().name,e=(n=e)?n.replace(/<\w+>/g,"").replace("\u3000","\u24b6").replace("\u3001","\u24b7").replace("\u3002","\u25b2").replace("\u3003","\u25ba").replace("\u3004","\u25c4").replace("\u3005","\u25bc").replace("\u3006","\u24cf").replace("\u3007","\ud83d\udd79\ufe0f").replace("\u3008","\u272a").replace("\u3009","\u2605").replace("\u3010","\u24c8").replace("\u3011","\u24c7"):"",document.title=e?"PartyPlanner64 - ".concat(e):"PartyPlanner64"}(e)}),[e])}function Iv(){var e=(0,Le.useState)(Ze(Oe.uiTheme)||F.Classic),n=(0,xe.Z)(e,2),t=n[0],r=n[1],a=(0,Le.useCallback)((function(e){e===Oe.uiTheme&&r(Ze(Oe.uiTheme)||F.Classic)}),[]);return(0,Le.useEffect)((function(){var e;return e=a,We.listeners.add(e),function(){return function(e){We.listeners.delete(e)}(a)}}),[a]),t}var Ov,Nv=__webpack_require__(9412),jv=GS({name:"appState",initialState:{currentView:f.EDITOR,currentAction:g.MOVE,updateHideNotification:!1,notifications:[],overrideBg:null,romLoaded:!1,updateExists:!1,imagesLoaded:!1},reducers:{changeViewAction:function(e,n){e.currentView=n.payload},changeCurrentActionAction:function(e,n){e.currentAction=n.payload},setHideUpdateNotification:function(e,n){e.updateHideNotification=n.payload},addNotificationAction:function(e,n){var t=n.payload.notification;e.notifications.find((function(e){return e.key===t.key}))||e.notifications.push(t)},removeNotificationAction:function(e,n){var t=n.payload.notificationKey;e.notifications=e.notifications.filter((function(e){return e.key!==t}))},setOverrideBgAction:function(e,n){e.overrideBg=n.payload},setRomLoadedAction:function(e,n){e.romLoaded=n.payload},setUpdateExistsAction:function(e,n){e.updateExists=n.payload},setImagesLoadedAction:function(e,n){e.imagesLoaded=n.payload}}}),Uv=jv.actions,Gv=Uv.changeViewAction,zv=Uv.changeCurrentActionAction,Hv=Uv.setHideUpdateNotification,Wv=Uv.addNotificationAction,Xv=Uv.removeNotificationAction,Kv=Uv.setOverrideBgAction,qv=Uv.setRomLoadedAction,Yv=Uv.setUpdateExistsAction,Qv=Uv.setImagesLoadedAction,Jv=function(e){return e.app.currentView},Zv=function(e){return e.app.currentAction},$v=function(e){return e.app.romLoaded},ex=function(e){return e.app.updateExists},nx=function(e){return e.app.notifications},tx=jv.reducer,rx=GS({name:"blocker",initialState:{blocked:!1,prompt:!1,confirm:!1,message:"",messageHTML:"",onBlockerFinished:void 0},reducers:{blockUIAction:function(e,n){e.blocked=n.payload},showMessageAction:function(e,n){var t=n.payload;e.blocked=!!t,e.prompt=!1,e.confirm=!1,e.message=t||"",e.messageHTML="",e.onBlockerFinished=void 0},showMessageHTMLAction:function(e,n){var t=n.payload;e.blocked=!!t,e.prompt=!1,e.confirm=!1,e.message="",e.messageHTML=t||"",e.onBlockerFinished=void 0},confirmFromUserAction:function(e,n){var t=n.payload,r=t.message,a=t.onConfirmed;e.blocked=!0,e.prompt=!1,e.confirm=!0,e.message=r||"",e.messageHTML="",e.onBlockerFinished=a},promptUserAction:function(e,n){var t=n.payload,r=t.message,a=t.onSubmit;e.blocked=!0,e.prompt=!0,e.confirm=!1,e.message=r||"",e.messageHTML="",e.onBlockerFinished=a}}}),ax=rx.actions,ix=ax.blockUIAction,ox=ax.showMessageAction,sx=(ax.showMessageHTMLAction,ax.confirmFromUserAction),lx=ax.promptUserAction,ux=function(e){return e.blocker.blocked},cx=function(e){return e.blocker.message},dx=function(e){return e.blocker.messageHTML},Ax=function(e){return e.blocker.prompt},fx=function(e){return e.blocker.confirm},hx=function(e){return e.blocker.onBlockerFinished},px=rx.reducer,mx=function(e){return function(n){return function(t){var r=n(t);return t.type!==Mg.type&&nv(e.getState())&&e.dispatch(Mg({spaceIndices:null})),r}}},Sx=function(e){var n,t=NS(),r=e||{},a=r.reducer,i=void 0===a?void 0:a,o=r.middleware,s=void 0===o?t():o,l=r.devTools,u=void 0===l||l,c=r.preloadedState,d=void 0===c?void 0:c,A=r.enhancers,f=void 0===A?void 0:A;if("function"===typeof i)n=i;else{if(!kS(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');n=_S(i)}var h=s;"function"===typeof h&&(h=h(t));var p=wS.apply(void 0,h),m=yS;u&&(m=BS(MS({trace:!1},"object"===typeof u&&u)));var S=[p];return Array.isArray(f)?S=DS([p],f):"function"===typeof f&&(S=f(S)),xS(n,d,m.apply(void 0,S))}({reducer:{app:tx,blocker:px,data:(0,Nv.ZP)(dv,{ignoreInitialState:!1,debug:!1,groupBy:(0,Nv.ul)([Vg.type,Fg.type]),filter:(0,Nv.kw)([Ig.type,Lg.type,Pg.type,Rg.type,Bg.type,Mg.type,zg.type,_g.type])})},middleware:function(e){return e({serializableCheck:{ignoredActionPaths:["payload.event.parse","payload.event.write","payload.onConfirmed","payload.onSubmit","payload.notification"],ignoredPaths:["app.notifications","blocker.onBlockerFinished","data.present.eventLibrary","data.past","data.future","data._latestUnfiltered"]}}).concat(mx)}});function gx(e){Sx.dispatch(Ig({event:e}))}function vx(e){return av(Sx.getState())[e]}function xx(){return av(Sx.getState())}function _x(e,n,t,r){var a,i=[];do{a=e.getUint8(n);var o=e.getUint32(n+4),s=e.getUint32(n+8);2147483648&s?i.push({type:a,data:o,decision:_x(e,(2147483647&s)-t,t,r)}):i.push({type:a,data:o,decision:yx(s,r)}),n+=12}while(a!==Ov.leaf);return i}function yx(e,n){return 3===n?{value:(4026531840&e)>>>28,probability:[127&e,(16256&e)>>>7,(2080768&e)>>>14,(266338304&e)>>>21]}:{value:(4294901760&e)>>>16,probability:[255&e,(65280&e)>>>8]}}window._pp64Store=Sx,function(e){e[e.leaf=0]="leaf",e[e.hasCoins=1]="hasCoins",e[e.star=2]="star",e[e.remainingSpaces=3]="remainingSpaces",e[e.stateComparison=4]="stateComparison",e[e.winningHeuristic=5]="winningHeuristic",e[e.customCode=6]="customCode",e[e.turnsElapsed=7]="turnsElapsed",e[e.hasItem=8]="hasItem"}(Ov||(Ov={}));var wx={id:"CHAINSPLIT1",name:"",activationType:y.WALKOVER,executionType:w.PROCESS,parameters:[{name:"left_space",type:D.Space},{name:"right_space",type:D.Space},{name:"chains",type:D.NumberArray}],fakeEvent:!0,supportedGames:[v.MP1_USA],parse:function(e,n){var t="597324F65BC9A4D0BCA9527477258625",r="24FBEBD7FA3B256016D536690EF70AD8",a="F153076BBD19ECBB4967EFC92CD738DF";if(J([e.buffer,n.offset,44],t)&&J([e.buffer,n.offset+76,28],r)&&J([e.buffer,n.offset+224,40],a)){var i=e.getUint16(n.offset+218),o=e.getUint16(n.offset+222),s=n.chains[i][0],l=n.chains[o][0];Ew(n.curSpace,s,n.board),Ew(n.curSpace,l,n.board);var u=me(n.game,"RunDecisionTree"),c=(0,en.zQ)(e,n.offset,u);if(c.length){var d=c[0],A=e.getUint16(d-6),f=e.getUint16(d-2),h=(0,en.NC)(A,f),p=2147483647&n.addr,m=h-p;_x(e,n.offset+m,p-n.offset,n.gameVersion);n.board,n.curSpaceIndex}return!0}return!1},write:function(e,n,t,r){var a=n.parameterValues.chains;return"\n        ADDIU SP SP 0xFFD8\n        SW RA 0x24(SP)\n        SW S2 0x20(SP)\n        SW S1 0x1C(SP)\n        SW S0 0x18(SP)\n\n        ; Change player to standing animation?\n        ADDIU A0 R0 -1\n        ADDIU A1 R0 -1\n        JAL 0x80052BE8\n        ADDIU A2 R0 2\n\n        JAL SleepVProcess\n        NOP\n        JAL chainsplit_1_setup_arrows\n        NOP\n        LUI S0 0x800F\n        ADDIU S0 S0 0xD5DC ; 0x800ED5DC\n        LH A0 0(S0)\n        LUI A1 hi(indices)\n        JAL 0x8003C218\n        ADDIU A1 A1 lo(indices)\n        ADDU S2 V0 R0\n        ADDU A0 S2 R0\n        LH A1 0(S0)\n        JAL 0x8003C060\n        ADDU A2 R0 R0\n        JAL PlayerIsCPU\n        ADDIU A0 R0 -1\n        BEQ V0 R0 do_direction_prompt\n        NOP\n        LUI A0 hi(ai_logic)\n        ADDIU A0 A0 lo(ai_logic)\n        JAL 0x8003E9B0\n        ADDU S0 R0 R0\n        SLL V0 V0 0x10\n        SRA S1 V0 0x10\n        BLEZ S1 choice_neg\n        ADDU A0 S2 R0\n      choice_pos:\n        JAL 0x8003BE84\n        ADDIU A1 R0 0xFFFE\n        ADDIU S0 S0 1\n        SLT V0 S0 S1\n        BNE V0 R0 choice_pos\n        ADDU A0 S2 R0\n      choice_neg:\n        JAL 0x8003BE84\n        ADDIU A1 R0 0xFFFC\n      do_direction_prompt:\n        JAL 0x8003C14C ; DirectionPrompt\n        ADDU A0 S2 R0\n        ADDU S0 V0 R0\n        JAL 0x8003B908\n        ADDU A0 S2 R0\n        JAL chainsplit_1_hide_arrows\n        NOP\n        BNE S0 R0 set_chain_right\n        ADDIU A0 R0 -1\n        J set_chain\n        ADDIU A1 R0 ".concat(a[0],"\n      set_chain_right:\n        ADDIU A1 R0 ").concat(a[1],"\n      set_chain:\n        JAL SetNextChainAndSpace\n        ADDU A2 R0 R0 ; 0th space of the chain\n        JAL 0x8005DD90\n        ADDU A0 R0 R0\n        LW RA 0x24(SP)\n        LW S2 0x20(SP)\n        LW S1 0x1C(SP)\n        LW S0 0x18(SP)\n        JR RA\n        ADDIU SP SP 0x28\n\n      ; Choose randomly\n      ai_logic:\n        .word 0x00000000, 0x00000000, 0x00003232\n\n      indices:\n        .halfword left_space\n        .halfword right_space\n        .halfword 0xFFFF\n        .align 4\n\n    .beginstatic\n      .definelabel CORE_800EE320,0x800EE320\n\n      chainsplit_1_setup_arrows:\n        addiu SP, SP, -0x18\n        sw    RA, 0x10(SP)\n      @@setup_arrows_loop1:\n        jal 0x8004B850 ; waiting for this to signal\n        NOP\n        beq V0, R0, @@setup_arrows_loop1_exit\n        NOP\n        jal SleepVProcess\n        NOP\n        j @@setup_arrows_loop1\n        NOP\n      @@setup_arrows_loop1_exit:\n        jal SleepVProcess\n        NOP\n        addu  A0, R0, R0\n        addiu A1, R0, 146\n        jal   0x80045D84\n        addiu A2, R0, 1\n        lui   AT, hi(chainsplit_1_memval1)\n        sw    V0, lo(chainsplit_1_memval1)(AT)\n        addiu A0, R0, 1\n        addiu A1, R0, 160\n        jal   0x80045D84\n        addiu A2, R0, 1\n        lui   AT, hi(chainsplit_1_memval2)\n        sw    V0, lo(chainsplit_1_memval2)(AT)\n        addiu A0, R0, 3\n        addiu A1, R0, 174\n        jal   0x80045D84\n        addiu A2, R0, 1\n        lui   AT, hi(chainsplit_1_memval3)\n        sw    V0, lo(chainsplit_1_memval3)(AT)\n        addiu A0, R0, 11\n        addiu A1, R0, 188\n        jal   0x80045D84\n        addiu A2, R0, 1\n        lui   AT, hi(chainsplit_1_memval4)\n        sw    V0, lo(chainsplit_1_memval4)(AT)\n        jal   SleepProcess\n        addiu A0, R0, 3\n        addiu V0, R0, 1\n        lui   AT, hi(CORE_800EE320)\n        sh    V0, lo(CORE_800EE320)(AT)\n        lw    RA, 0x10(SP)\n        jr    RA\n        addiu SP, SP, 0x18\n\n      chainsplit_1_hide_arrows:\n        addiu SP, SP, -0x18\n        sw    RA, 0x10(SP)\n        lui   AT, hi(CORE_800EE320)\n        sh    R0, lo(CORE_800EE320)(AT)\n        lui   A0, hi(chainsplit_1_memval1)\n        jal   0x80045E6C\n        lw    A0, lo(chainsplit_1_memval1)(A0)\n        lui   A0, hi(chainsplit_1_memval2)\n        jal   0x80045E6C\n        lw    A0, lo(chainsplit_1_memval2)(A0)\n        lui   A0, hi(chainsplit_1_memval3)\n        jal   0x80045E6C\n        lw    A0, lo(chainsplit_1_memval3)(A0)\n        lui   A0, hi(chainsplit_1_memval4)\n        jal   0x80045E6C\n        lw    A0, lo(chainsplit_1_memval4)(A0)\n        lw    RA, 0x10(SP)\n        jr    RA\n        addiu SP, SP, 0x18\n\n      chainsplit_1_memval1:\n        .word 0\n      chainsplit_1_memval2:\n        .word 0\n      chainsplit_1_memval3:\n        .word 0\n      chainsplit_1_memval4:\n        .word 0\n    .endstatic\n    ")}};gx(wx);var bx={id:"CHAINMERGE",name:"",activationType:y.WALKOVER,executionType:w.DIRECT,parameters:[{name:"prevSpace",type:D.Number},{name:"chain",type:D.Number},{name:"spaceIndex",type:D.Number}],fakeEvent:!0,supportedGames:[v.MP1_USA,v.MP2_USA],parse:function(e,n){var t,r,a="d218c758ea3247b6e5ec2ae0c3568a92",i="560c69d6e851f4a22984b74c660e8536",o="BABAF76D201027AE882BEB58BB38B4EB";return J([e.buffer,n.offset,12],a)&&J([e.buffer,n.offset+24,12],i)?(t=(t=e.getUint16(n.offset+14))>1e3?0:t,r=0===e.getUint16(n.offset+20)?n.chains[t][0]:n.chains[t][e.getUint16(n.offset+22)],isNaN(r)||Ew(n.curSpace,r,n.board),!0):!(!J([e.buffer,n.offset,24],o)||!J([e.buffer,n.offset+36,12],i))&&(t=(t=e.getUint16(n.offset+26))>1e3?0:t,"number"===typeof(r=0===e.getUint16(n.offset+32)?n.chains[t][0]:n.chains[t][e.getUint16(n.offset+34)])&&Ew(n.curSpace,r,n.board),!0)},write:function(e,n,t,r){return"\n      ADDIU SP, SP, -0x18\n      SW    RA, 0x10(SP)\n      ADDIU A0, R0, -1\n      ADDIU A1, R0, ".concat(n.parameterValues.chain,"\n      JAL   SetNextChainAndSpace\n      ADDIU A2, R0, ").concat(n.parameterValues.spaceIndex||0,"\n      LW    RA, 0x10(SP)\n      JR    RA\n      ADDIU SP, SP, 0x18\n    ")}};gx(bx);y.WALKOVER,w.DIRECT,v.MP1_USA;var Vx=function(e,n){var t="14A3FD0F13B034F8C90659FF589A17DB",r="B48ABB1B1FDBF7B5EF9765FD61C3940E",a="5FEE3364FDCA8B0E9247BFB37A391358";return!!(J([e.buffer,n.offset,20],t)&&J([e.buffer,n.offset+24,16],r)&&J([e.buffer,n.offset+48,52],a))},Cx=function(e,n,t,r){return"\n      addiu SP, SP, -0x18\n      sw    RA, 0x10(SP)\n      jal   GetCurrentSpaceIndex\n      NOP\n      sll   V0, V0, 0x10\n      jal   __PP64_INTERNAL_STAR_SPACE\n      sra   A0, V0, 0x10\n      sll   V0, V0, 0x10\n      sra   V0, V0, 0x10\n      addiu V1, R0, 1\n      bne   V0, V1, L800F9700 ; test if player bought star?\n      addiu A0, R0, 68\n      addu  A1, R0, R0\n      jal   0x800587EC\n      addiu A2, R0, 2\n      jal   __PP64_INTERNAL_GET_NEXT_TOAD_INDEX\n      NOP\n      sll   V0, V0, 0x10\n      addiu A0, R0, -1\n      addiu A1, R0, 8\n      jal   0x8004D2A4\n      sra   A2, V0, 0x10\n    L800F9700:\n      lw    RA, 0x10(SP)\n      jr    RA\n      addiu SP, SP, 0x18\n    "},Ex=function(e,n){var t="DAD5E635FE90ED982D02B3F1D5C0CE21",r="FF104A680C0ECE615B5A24AD95A908CC",a="94A87B51D2478E81AAC34F7D3C5C37F2";return J([e.buffer,n.offset+28,24],r)&&J([e.buffer,n.offset,20],t)?101===e.getUint16(n.offset+26):!(!J([e.buffer,n.offset+84,24],r)||!J([e.buffer,n.offset,40],a))},Dx=function(e,n,t,r){return"\n      addiu SP, SP, -0x18\n      sw    RA, 0x10(SP)\n\n      ; TODO: Face player towards Boo\n      ;jal   GetCurrentSpaceIndex\n      ;NOP\n      ;sll   V0, V0, 0x10\n      ;sra   V1, V0, 0x10\n      ;addiu    V0, R0, 10 ; bottom left boo invisible space index\n      ;beq   V1, V0, boo_space_event_passing_bottom_boo\n      ;addiu    V0, R0, 129 ; upper middle boo invisible space index\n      ;bne   V1, V0, boo_space_event_goto_boo_scene\n      ;addiu    A0, R0, 101 ; Boo overlay index\n      ;addiu    A0, R0, -1\n      ;addiu    A1, R0, 8\n      ;j     L800F97E0\n      ;addiu    A2, R0, 111 ; upper middle boo standing space index\n    ;boo_space_event_passing_bottom_boo:\n      ;addiu    A0, R0, -1\n      ;addiu    A1, R0, 8\n      ;addiu    A2, R0, 98 ; bottom left boo standing space index\n    ;L800F97E0:\n      ;jal   0x8004D2A4\n      ;NOP\n\n      addiu A0, R0, 101 ; Boo overlay index\n    boo_space_event_goto_boo_scene:\n      addu  A1, R0, R0\n      jal   0x800587EC  ; 0x800587BC wrapper, A3 = 0 default\n      addiu A2, R0, 1\n      lw    RA, 0x10(SP)\n      jr    RA\n      addiu SP, SP, 0x18\n    "},Fx=(y.WALKOVER,w.DIRECT,D.Number,v.MP3_USA,function(e,n){if(28!==(0,en.FN)(e,n.offset))return!1;return e.getUint32(n.offset+8)===[201597626][n.boardIndex]}),Tx=function(e,n,t,r){var a=n.parameterValues.gateIndex;return"\n      addiu SP, SP, -0x18\n      sw    RA, 0x10(SP)\n      jal   __PP64_INTERNAL_GATE_CLOSE_EVENT\n       li    A0, ".concat(a,"\n      lw    RA, 0x10(SP)\n      jr    RA\n       addiu SP, SP, 0x18\n    ")},Px=(y.WALKOVER,w.PROCESS,D.Number,D.Number,D.Number,D.NumberArray,D.NumberArray,v.MP3_USA,function(e,n){if(0===n.boardIndex){if(3274312!==n.offset)return!1;if(e.getUint16(n.offset+98)===n.curSpaceIndex)return n.board.spaces[e.getUint16(n.offset+262)].subtype=p.GATE,!0;if(e.getUint16(n.offset+106)===n.curSpaceIndex)return n.board.spaces[e.getUint16(n.offset+270)].subtype=p.GATE,!0}return!1}),Rx=function(e,n,t,r){return"\n      J __PP64_INTERNAL_GATE_EVENT\n      NOP\n    "},Lx=function(e,n){var t=!1;if(0===n.boardIndex){if(2755864!==n.offset)return!1;t=!0}return!!t},Mx=function(e,n,t,r){return"\n      J __PP64_INTERNAL_BOO_SPACE_EVENT\n      NOP\n    "},Bx=function(e,n){var t=!1;if(0===n.boardIndex){if(3291628!==n.offset)return!1;if(201568050!==e.getUint32(n.offset+76))return!1;t=4564===(0,en.FN)(e,n.offset)}return!!t},kx=function(e,n,t,r){return"\n      J __PP64_INTERNAL_BOO_SPACE_EVENT\n      NOP\n    "},Ix=function(e,n){return!!J([e.buffer,n.offset,2112],"D52AD53C2FED642C3001C3579B4299C3")},Ox=function(e,n,t,r){return"\n      J __PP64_INTERNAL_STAR_SPACE_EVENT ; star_space_event\n      NOP\n    "},Nx=function(e,n,t,r){return"\n      J __PP64_INTERNAL_STAR_SPACE_EVENT ; star_space_event\n      NOP\n    "},jx=function(e,n){var t=!1;if(0===n.boardIndex){if(2746652!==n.offset)return!1;t=!0}return!!t},Ux=function(e,n,t,r){return"\n      J __PP64_INTERNAL_BANK_SPACE_EVENT\n      NOP\n    "},Gx=function(e,n){return!!J([e.buffer,n.offset,180],"FCA0025616E8B2BE4CD60F47EE60DC30")},zx=function(e,n,t,r){return"\n      J __PP64_INTERNAL_BANK_SPACE_EVENT\n      NOP\n    "},Hx=function(e,n){var t=!1;if(0===n.boardIndex){if(2747904!==n.offset)return!1;t=!0}return!!t},Wx=function(e,n,t,r){return"\n      J __PP64_INTERNAL_ITEM_SHOP_EVENT\n      NOP\n    "},Xx=function(e,n){var t=!1;if(0===n.boardIndex){if(3281356!==n.offset)return!1;if(201574479!==e.getUint32(n.offset+68))return!1;t=!0}return!!t},Kx=function(e,n,t,r){return"\n      J __PP64_INTERNAL_ITEM_SHOP_EVENT\n      NOP\n    "},qx={id:"BOO",name:"Visit Boo",activationType:y.WALKOVER,executionType:w.DIRECT,supportedGames:[v.MP1_USA,v.MP2_USA,v.MP3_USA],parse:function(e,n){switch(n.gameVersion){case 1:return Ex(e,n);case 2:return Lx(e,n);case 3:return Bx(e,n)}},write:function(e,n,t,r){switch(t.gameVersion){case 1:return Dx(e,n,t,r);case 2:return Mx(e,n,t,r);case 3:return kx(e,n,t,r)}}};gx(qx);var Yx={id:"STAR",name:"Buy star",activationType:y.WALKOVER,executionType:w.DIRECT,fakeEvent:!0,supportedGames:[v.MP1_USA,v.MP2_USA,v.MP3_USA],parse:function(e,n){switch(n.gameVersion){case 1:return Vx(e,n);case 2:return Ix(e,n)}return!1},write:function(e,n,t,r){switch(t.gameVersion){case 1:return Cx(e,n,t,r);case 2:return Ox(e,n,t,r);case 3:return Nx(e,n,t,r)}return!1}};gx(Yx);var Qx={id:"BANK",name:"Visit Bank",activationType:y.WALKOVER,executionType:w.DIRECT,supportedGames:[v.MP2_USA,v.MP3_USA],parse:function(e,n){switch(n.gameVersion){case 1:return!1;case 2:return jx(e,n);case 3:return Gx(e,n)}return!1},write:function(e,n,t,r){switch(t.gameVersion){case 1:return!1;case 2:return Ux(e,n,t,r);case 3:return zx(e,n,t,r)}return!1}};gx(Qx);var Jx={id:"ITEMSHOP",name:"Visit Item Shop",activationType:y.WALKOVER,executionType:w.DIRECT,supportedGames:[v.MP2_USA,v.MP3_USA],parse:function(e,n){switch(n.gameVersion){case 1:return!1;case 2:return Hx(e,n);case 3:return Xx(e,n)}return!1},write:function(e,n,t,r){switch(t.gameVersion){case 1:return!1;case 2:return Wx(e,n,t,r);case 3:return Kx(e,n,t,r)}return!1}};gx(Jx);var Zx={id:"GATE",name:"Skeleton Key Gate",activationType:y.WALKOVER,executionType:w.PROCESS,fakeEvent:!0,supportedGames:[v.MP3_USA],parse:function(e,n){switch(n.gameVersion){case 1:case 2:return!1;case 3:return Px(e,n)}return!1},write:function(e,n,t,r){switch(t.gameVersion){case 1:case 2:return!1;case 3:return Rx(e,n,t,r)}return!1}};gx(Zx);var $x={id:"GATECLOSE",name:"Skeleton Key Gate Close",activationType:y.WALKOVER,executionType:w.DIRECT,parameters:[{name:"gateIndex",type:D.Number}],fakeEvent:!0,supportedGames:[v.MP3_USA],parse:function(e,n){switch(n.gameVersion){case 1:case 2:return!1;case 3:return Fx(e,n)}return!1},write:function(e,n,t,r){switch(t.gameVersion){case 1:case 2:return!1;case 3:return Tx(e,n,t,r)}return!1}};gx($x);var e_={id:"CHAINSPLIT2",name:"",activationType:y.WALKOVER,executionType:w.PROCESS,parameters:[{name:"left_space",type:D.Space},{name:"right_space",type:D.Space},{name:"chains",type:D.NumberArray}],fakeEvent:!0,supportedGames:[v.MP2_USA],parse:function(e,n){var t="0C01A009C54E209652DA667F464FB7C0",r="FC606B8F8BD2C8D39BB9581B0E4D8398",a="2F3A0045D0AC927FF23ACD73B5B62E1C";if(J([e.buffer,n.offset,44],t)&&J([e.buffer,n.offset+76,28],r)&&J([e.buffer,n.offset+240,40],a)){var i=e.getUint16(n.offset+234),o=e.getUint16(n.offset+238),s=n.chains[i][0],l=n.chains[o][0];return Ew(n.curSpace,s,n.board),Ew(n.curSpace,l,n.board),!0}return!1},write:function(e,n,t,r){var a=n.parameterValues.chains;return"\n  addiu SP, SP, -0x28\n  sw    RA, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n\n  ; Change player to standing animation?\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n\n  jal   func_8007DA44\n   nop\n  jal   chainsplit_setup_arrows\n   nop\n  lui   S0, hi(D_800F93C6)\n  addiu S0, S0, lo(D_800F93C6)\n  lh    A0, 0(S0)\n  lui   A1, hi(indices)\n  jal   func_80041A74\n   addiu A1, A1, lo(indices)\n  move  S2, V0\n  move  A0, S2\n  lh    A1, 0(S0)\n  jal   func_800417EC\n   move  A2, R0\n  jal   func_8005DCA0\n   li    A0, -1\n  beqz  V0, L80107D14\n   li    V0, 4\n  lui   A0, hi(ai_random_choice)\n  addiu A0, A0, lo(ai_random_choice)\n  jal   func_80044800\n   move  S0, R0\n  sll   V0, V0, 0x10\n  sra   S1, V0, 0x10\n  blez  S1, L80107D0C\n   move  A0, S2\nL80107CF4:\n  jal   func_80041610\n   li    A1, -2\n  addiu S0, S0, 1\n  slt   V0, S0, S1\n  bnez  V0, L80107CF4\n   move  A0, S2\nL80107D0C:\n  jal   func_80041610\n   li    A1, -4\nL80107D14:\n  jal   func_800418D8\n   move  A0, S2\n  move  S0, V0\n  jal   func_8004108C\n   move  A0, S2\n  jal   chainsplit_hide_arrows\n   nop\n  bnez  S0, L80107D40\n   li    A0, -1\n  j     L80107D44\n   li    A1, ".concat(a[0],"\nL80107D40:\n  li    A1, ").concat(a[1],"\nL80107D44:\n  jal   SetNextChainAndSpace\n   move  A2, R0\n  jal   func_80076FCC\n   move  A0, R0\n  lw    RA, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nai_random_choice:\n  .word 0x00000000, 0x00000000, 0x00003232\n\nindices:\n  .halfword left_space\n  .halfword right_space\n  .halfword 0xFFFF\n  .align 4\n\n.beginstatic\n\nchainsplit_setup_arrows:\n/* 298E94 80103BC4 27BDFFE8 */  addiu SP, SP, -0x18\n/* 298E98 80103BC8 AFBF0010 */  sw    RA, 0x10(SP)\nL80103BCC:\n/* 298E9C 80103BCC 0C014E66 */  jal   func_80053998\n/* 298EA0 80103BD0 00000000 */   nop\n/* 298EA4 80103BD4 10400005 */  beqz  V0, L80103BEC\n/* 298EA8 80103BD8 00000000 */   nop\n/* 298EAC 80103BDC 0C01F691 */  jal   func_8007DA44\n/* 298EB0 80103BE0 00000000 */   nop\n/* 298EB4 80103BE4 08040EF3 */  j     L80103BCC\n/* 298EB8 80103BE8 00000000 */   nop\nL80103BEC:\n/* 298EBC 80103BEC 0C01F691 */  jal   func_8007DA44\n/* 298EC0 80103BF0 00000000 */   nop\n/* 298EC4 80103BF4 00002021 */  move  A0, R0\n/* 298EC8 80103BF8 24050092 */  li    A1, 146\n/* 298ECC 80103BFC 0C01331F */  jal   func_8004CC7C\n/* 298ED0 80103C00 24060001 */   li    A2, 1\n/* 298ED4 80103C04 3C018011 */  lui   AT, hi(chainsplit_arrow_memval1)\n/* 298ED8 80103C08 AC2236D8 */  sw    V0, lo(chainsplit_arrow_memval1)(AT)\n/* 298EDC 80103C0C 24040001 */  li    A0, 1\n/* 298EE0 80103C10 240500A0 */  li    A1, 160\n/* 298EE4 80103C14 0C01331F */  jal   func_8004CC7C\n/* 298EE8 80103C18 24060001 */   li    A2, 1\n/* 298EEC 80103C1C 3C018011 */  lui   AT, hi(chainsplit_arrow_memval2)\n/* 298EF0 80103C20 AC2236DC */  sw    V0, lo(chainsplit_arrow_memval2)(AT)\n/* 298EF4 80103C24 2404000D */  li    A0, 13\n/* 298EF8 80103C28 240500AE */  li    A1, 174\n/* 298EFC 80103C2C 0C01331F */  jal   func_8004CC7C\n/* 298F00 80103C30 24060001 */   li    A2, 1\n/* 298F04 80103C34 3C018011 */  lui   AT, hi(chainsplit_arrow_memval3)\n/* 298F08 80103C38 AC2236E8 */  sw    V0, lo(chainsplit_arrow_memval3)(AT)\n/* 298F0C 80103C3C 24040003 */  li    A0, 3\n/* 298F10 80103C40 240500BC */  li    A1, 188\n/* 298F14 80103C44 0C01331F */  jal   func_8004CC7C\n/* 298F18 80103C48 24060001 */   li    A2, 1\n/* 298F1C 80103C4C 3C018011 */  lui   AT, hi(chainsplit_arrow_memval4)\n/* 298F20 80103C50 AC2236E0 */  sw    V0, lo(chainsplit_arrow_memval4)(AT)\n/* 298F24 80103C54 2404000B */  li    A0, 11\n/* 298F28 80103C58 240500CA */  li    A1, 202\n/* 298F2C 80103C5C 0C01331F */  jal   func_8004CC7C\n/* 298F30 80103C60 24060001 */   li    A2, 1\n/* 298F34 80103C64 3C018011 */  lui   AT, hi(chainsplit_arrow_memval5)\n/* 298F38 80103C68 AC2236E4 */  sw    V0, lo(chainsplit_arrow_memval5)(AT)\n/* 298F3C 80103C6C 0C01F678 */  jal   func_8007D9E0\n/* 298F40 80103C70 24040003 */   li    A0, 3\n/* 298F44 80103C74 24020001 */  li    V0, 1\n/* 298F48 80103C78 3C018010 */  lui   AT, hi(D_800FA198)\n/* 298F4C 80103C7C A422A198 */  sh    V0, lo(D_800FA198)(AT)\n/* 298F50 80103C80 3C018010 */  lui   AT, hi(D_80101058)\n/* 298F54 80103C84 A4221058 */  sh    V0, lo(D_80101058)(AT)\n/* 298F58 80103C88 8FBF0010 */  lw    RA, 0x10(SP)\n/* 298F5C 80103C8C 03E00008 */  jr    RA\n/* 298F60 80103C90 27BD0018 */   addiu SP, SP, 0x18\n\nchainsplit_hide_arrows:\n/* 298F64 80103C94 27BDFFE8 */  addiu SP, SP, -0x18\n/* 298F68 80103C98 AFBF0010 */  sw    RA, 0x10(SP)\n/* 298F6C 80103C9C 3C018010 */  lui   AT, hi(D_800FA198)\n/* 298F70 80103CA0 A420A198 */  sh    R0, lo(D_800FA198)(AT)\n/* 298F74 80103CA4 3C018010 */  lui   AT, hi(D_80101058)\n/* 298F78 80103CA8 A4201058 */  sh    R0, lo(D_80101058)(AT)\n/* 298F7C 80103CAC 3C048011 */  lui   A0, hi(chainsplit_arrow_memval1)\n/* 298F80 80103CB0 0C01335C */  jal   func_8004CD70\n/* 298F84 80103CB4 8C8436D8 */   lw    A0, lo(chainsplit_arrow_memval1)(A0)\n/* 298F88 80103CB8 3C048011 */  lui   A0, hi(chainsplit_arrow_memval2)\n/* 298F8C 80103CBC 0C01335C */  jal   func_8004CD70\n/* 298F90 80103CC0 8C8436DC */   lw    A0, lo(chainsplit_arrow_memval2)(A0)\n/* 298F94 80103CC4 3C048011 */  lui   A0, hi(chainsplit_arrow_memval3)\n/* 298F98 80103CC8 0C01335C */  jal   func_8004CD70\n/* 298F9C 80103CCC 8C8436E8 */   lw    A0, lo(chainsplit_arrow_memval3)(A0)\n/* 298FA0 80103CD0 3C048011 */  lui   A0, hi(chainsplit_arrow_memval4)\n/* 298FA4 80103CD4 0C01335C */  jal   func_8004CD70\n/* 298FA8 80103CD8 8C8436E0 */   lw    A0, lo(chainsplit_arrow_memval4)(A0)\n/* 298FAC 80103CDC 3C048011 */  lui   A0, hi(chainsplit_arrow_memval5)\n/* 298FB0 80103CE0 0C01335C */  jal   func_8004CD70\n/* 298FB4 80103CE4 8C8436E4 */   lw    A0, lo(chainsplit_arrow_memval5)(A0)\n/* 298FB8 80103CE8 8FBF0010 */  lw    RA, 0x10(SP)\n/* 298FBC 80103CEC 03E00008 */  jr    RA\n/* 298FC0 80103CF0 27BD0018 */   addiu SP, SP, 0x18\n\n.align 4\n  chainsplit_arrow_memval1:\n    .word 0\n  chainsplit_arrow_memval2:\n    .word 0\n  chainsplit_arrow_memval3:\n    .word 0\n  chainsplit_arrow_memval4:\n    .word 0\n  chainsplit_arrow_memval5:\n    .word 0\n\n.endstatic\n")}};gx(e_);function n_(e,n,t){return new Promise((function(r,a){var i=new Image,o=setTimeout((function(){return a("Failed to write image!")}),45e3);i.onload=function(){var e=i.height,a=i.width,s=N(a,e);s.drawImage(i,0,0,a,e);var l=s.getImageData(0,0,a,e);n===a&&t===e||(l=hi()(l,n,t)),clearTimeout(o),r(l)},i.src=e}))}var t_=1297379947;function r_(e,n){var t=!1,r=new ArrayBuffer(1e5),a=new DataView(r),i=function(e){for(var n=0,t=0;t<64;t+=4){0!==e.getUint32(t)&&n++}return n}(e);!function(e,n,t){e.setUint32(0,1297377380),e.setUint32(4,6),e.setUint16(8,1),e.setUint16(10,n),e.setUint16(12,t)}(a,i,e.getUint32(64));for(var o=14,s=0,l=0,u=0;u<64;u+=4){var c=0,d=e.getUint32(u);if(0!==d)for(var A=0,f=new Map,h={altPattern:null,altOffset:0,altLength:0,position:d,original:-1},p=!1;h.position<n&&!p;){h.position;h.original=-1,(c+=i_(e,h,!0))>l&&(l=c);var m=o_(e,h,!0),S=m<128;if(255===m||S&&255===A){var g=void 0;if(81==(g=S?m:o_(e,h,!0)))o_(e,h,!0),o_(e,h,!0),o_(e,h,!0);else if(45==g){var v=o_(e,h,!0),x=(o_(e,h,!0),((o_(e,h,!1)<<8|o_(e,h,!1))<<8|o_(e,h,!1))<<8|o_(e,h,!1));if(255==v||0==v)break;var _=f.get(h.position);if(f.has(h.position)){var y=_;0===y?f.delete(h.position):f.set(h.position,y-1)}else f.set(h.position,v-1);null===h.altPattern?h.position=h.position-x:f.delete(h.position)}else if(46==g)o_(e,h,!0),o_(e,h,!0);else 47==g&&(p=!0);S||(A=m)}else if(m>=144&&m<160||S&&A>=144&&A<160){S?(m,A):(o_(e,h,!0),m);o_(e,h,!0),i_(e,h,!0);S||(A=m)}else if(m>=176&&m<192||S&&A>=176&&A<192){S?m:o_(e,h,!0);o_(e,h,!0);S||(A=m)}else if(m>=192&&m<208||S&&A>=192&&A<208){S?m:o_(e,h,!0),S||(A=m)}else if(m>=208&&m<224||S&&A>=208&&A<224){S?m:o_(e,h,!0),S||(A=m)}else if(m>=224&&m<240||S&&A>=224&&A<240){S?m:o_(e,h,!0);o_(e,h,!0);S||(A=m)}}}for(var w=0;w<64;w+=4){for(var b=0,V=0,C=new Array(196608),E=0;E<196608;E++)C[E]=new u_;var D=e.getUint32(w);if(0!=D){a.setUint32(o,1297379947),o+=4;var F=0,T=new Map,P=[],R={altPattern:null,altOffset:0,altLength:0,position:D,original:-1},L=!1;for(false;R.position<n&&!L;){if(V>=196608){for(var M=0;M<V;M++)null!=C[M].contents&&(C[M].contents=null);return console.error("Overflow? trackEventCountSub >= 0x30000"),r}R.position;R.original=-1;var B=i_(e,R,!0);t,C[V].deltaTime+=B,b+=B,C[V].absoluteTime=b;var k=o_(e,R,!0),I=k<128;if(255==k||I&&255==F){var O=void 0;if(81==(O=I?k:o_(e,R,!0))){var N=(o_(e,R,!0)<<8|o_(e,R,!0))<<8|o_(e,R,!0);C[V].type=255,C[V].contentSize=5,C[V].contents=new Array(5),C[V].contents[0]=81,C[V].contents[1]=3,C[V].contents[2]=N>>16&255,C[V].contents[3]=N>>8&255,C[V].contents[4]=N>>0&255,V++}else if(45==O){var j=0;P.length>0&&(j=P.pop()),C[V].type=176|w/4&15,C[V].contentSize=2,C[V].contents=new Array(2),C[V].contents[0]=103,C[V].contents[1]=j,V++;var U=o_(e,R,!0),G=(o_(e,R,!0),((o_(e,R,!1)<<8|o_(e,R,!1))<<8|o_(e,R,!1))<<8|o_(e,R,!1));if(255==U||0==U)!0,b;else{var z=T.get(R.position);if(T.has(R.position)){var H=z;0==H?T.delete(R.position):T.set(R.position,H-1)}else T.set(R.position,U-1);null===R.altPattern?R.position=R.position-G:T.delete(R.position)}}else if(46==O){var W=o_(e,R,!0);o_(e,R,!0);!0,b,C[V].type=176|w/4&15,C[V].contentSize=2,C[V].contents=new Array(2),C[V].contents[0]=102,C[V].contents[1]=W,V++,P.push(W)}else 47==O&&(C[V].type=255,C[V].contentSize=2,C[V].contents=new Array(2),C[V].contents[0]=47,C[V].contents[1]=0,V++,L=!0);I||(F=k)}else if(k>=144&&k<160||I&&F>=144&&F<160){var X=void 0;I?(C[V].type=F,X=k,F):(C[V].type=k,X=o_(e,R,!0),k);var K=o_(e,R,!0),q=i_(e,R,!0);C[V].durationTime=q,C[V].contentSize=2,C[V].contents=new Array(2),C[V].contents[0]=X,C[V].contents[1]=K,V++,I||(F=k)}else if(k>=176&&k<192||I&&F>=176&&F<192){var Y=void 0;I?(Y=k,C[V].type=F):(Y=o_(e,R,!0),C[V].type=k);var Q=o_(e,R,!0);C[V].contentSize=2,C[V].contents=new Array(2),C[V].contents[0]=Y,C[V].contents[1]=Q,V++,I||(F=k)}else if(k>=192&&k<208||I&&F>=192&&F<208){var J=void 0;I?(J=k,C[V].type=F):(J=o_(e,R,!0),C[V].type=k),C[V].contentSize=1,C[V].contents=[J],J>=s&&(s=J+1),V++,I||(F=k)}else if(k>=208&&k<224||I&&F>=208&&F<224){var Z=void 0;I?(Z=k,C[V].type=F):(Z=o_(e,R,!0),C[V].type=k),C[V].contentSize=1,C[V].contents=[Z],V++,I||(F=k)}else if(k>=224&&k<240||I&&F>=224&&F<240){var $=void 0;I?($=k,C[V].type=F):($=o_(e,R,!0),C[V].type=k);var ee=o_(e,R,!0);C[V].contentSize=2,C[V].contents=[$,ee],V++,I||(F=k)}else 254==k||console.error("".concat(k," ERROR MISSING PARSE OF TYPE"))}for(var ne=0;ne<V;ne++){if(V>=196608){for(var te=0;te<V;te++)null!==C[te].contents&&(C[te].contents=null);return console.error("Overflow 2? trackEventCountSub >= 0x30000"),r}var re=C[ne];if(re.type>=144&&re.type<160&&re.durationTime>0){var ae=re.absoluteTime+re.durationTime;if(ne!=V-1)for(var ie=ne+1;ie<V;ie++){if(C[ie].absoluteTime>=ae&&ie!=V-1){for(var oe=V-1;oe>=ie;oe--){C[oe+1].absoluteTime=C[oe].absoluteTime,C[oe+1].contentSize=C[oe].contentSize,null!==C[oe+1].contents&&(C[oe+1].contents=null),C[oe+1].contents=new Array(C[oe].contentSize);for(var se=0;se<C[oe].contentSize;se++)C[oe+1].contents[se]=C[oe].contents[se];C[oe+1].deltaTime=C[oe].deltaTime,C[oe+1].durationTime=C[oe].durationTime,C[oe+1].obsoleteEvent=C[oe].obsoleteEvent,C[oe+1].type=C[oe].type}if(C[ie].type=C[ne].type,C[ie].absoluteTime=ae,C[ie].deltaTime=C[ie].absoluteTime-C[ie-1].absoluteTime,C[ie].contentSize=C[ne].contentSize,C[ie].durationTime=0,C[ie].contents=new Array(C[ie].contentSize),C[ie].contents[0]=C[ne].contents[0],C[ie].contents[1]=0,C[ie+1].deltaTime=C[ie+1].absoluteTime-C[ie].absoluteTime,C[ie].deltaTime>4278190080);V++;break}if(ie==V-1){C[ie+1].absoluteTime=ae,C[ie+1].contentSize=C[ie].contentSize,null!==C[ie+1].contents&&(C[ie+1].contents=null),C[ie+1].contents=new Array(C[ie].contentSize);for(var le=0;le<C[ie].contentSize;le++)C[ie+1].contents[le]=C[ie].contents[le];C[ie+1].deltaTime=C[ie].deltaTime,C[ie+1].durationTime=C[ie].durationTime,C[ie+1].obsoleteEvent=C[ie].obsoleteEvent,C[ie+1].type=C[ie].type,C[ie].type=C[ne].type,C[ie].absoluteTime=ae,C[ie].deltaTime=C[ie].absoluteTime-C[ie-1].absoluteTime,C[ie].contentSize=C[ne].contentSize,C[ie].durationTime=0,C[ie].contents=new Array(C[ie].contentSize),C[ie].contents[0]=C[ne].contents[0],C[ie].contents[1]=0,C[ie+1].deltaTime=C[ie+1].absoluteTime-C[ie].absoluteTime,V++;break}}else{C[ne+1].absoluteTime=ae,C[ne+1].contentSize=C[ne].contentSize,null!==C[ne+1].contents&&(C[ne+1].contents=null),C[ne+1].contents=new Array(C[ne].contentSize);for(var ue=0;ue<C[ne].contentSize;ue++)C[ne+1].contents[ue]=C[ne].contents[ue];if(C[ne+1].deltaTime=C[ne].deltaTime,C[ne+1].durationTime=C[ne].durationTime,C[ne+1].obsoleteEvent=C[ne].obsoleteEvent,C[ne+1].type=C[ne].type,C[ne].type=C[ne].type,C[ne].absoluteTime=ae,C[ne].absoluteTime-C[ne-1].absoluteTime>4278190080);if(C[ne].deltaTime=C[ne].absoluteTime-C[ne-1].absoluteTime,C[ne].contentSize=C[ne].contentSize,C[ne].durationTime=0,C[ne].contents=new Array(C[ne].contentSize),C[ne].contents[0]=C[ne].contents[0],C[ne].contents[1]=0,C[ne+1].deltaTime=C[ne+1].absoluteTime-C[ne].absoluteTime,C[ne].deltaTime>4278190080);V++}}}for(var ce=0,de=0,Ae=0,fe=0;fe<V;fe++){var he=C[fe];if(he.obsoleteEvent)ce+=he.deltaTime;else{var pe=l_(he.deltaTime+ce),me=(0,xe.Z)(pe,2);me[0];ce=0,de+=me[1],he.type===Ae&&255!==he.type||(de+=1),de+=he.contentSize,Ae=he.type}}a.setUint32(o,de),o+=4,ce=0,Ae=0;for(var Se=0;Se<V;Se++){var ge=C[Se];if(ge.obsoleteEvent)ce+=ge.deltaTime;else{var ve=l_(ge.deltaTime+ce),_e=(0,xe.Z)(ve,2);ce=0,o=s_(a,o,_e[0],_e[1],!0),ge.type==Ae&&255!=ge.type||(a.setUint8(o,ge.type),o++);for(var ye=0;ye<ge.contentSize;ye++)a.setUint8(o,ge.contents[ye]),o++;Ae=ge.type}}}for(var we=0;we<V;we++)null!==C[we].contents&&(C[we].contents=null);0}return r.slice(0,o)}function a_(e,n){for(var t=(null===n||void 0===n?void 0:n.loop)||!1,r=[],a=[],i=0;i<32;i++)a.push([]),r.push(0);var o=new DataView(e);if(1297377380!==o.getUint32(0))return null;o.getUint32(4);var s=o.getUint16(8),l=o.getUint16(10),u=o.getUint16(12);if(l>16&&(console.log("Too many tracks, truncating to 16."),l=16),0!==s&&1!==s)return console.log("Invalid midi type"),null;for(var c={altPattern:null,altOffset:0,altLength:0,position:14,original:0},d=!1,A=0,f=[],h=0;h<16;h++)f[h]=0;for(var p=0;p<l;p++){var m=0;if(o.getUint32(c.position)!==t_)return console.log("Invalid track midi header"),null;o.getUint32(c.position+4);c.position+=8;for(var S=255,g=!1;!g&&c.position<e.byteLength;){c.original=0;var v=i_(o,c,!1);m+=v;var x=o_(o,c,!1),_=x<=127;if(255===x){var y=o_(o,c,!1);if(47===y){m-=v,g=!0;o_(o,c,!1)}else if(81===y){o_(o,c,!1);o_(o,c,!1),o_(o,c,!1),o_(o,c,!1)}else if(y<127&&81!==y&&47!==y)for(var w=i_(o,c,!1),b=0;b<w;b++)o_(o,c,!1);else if(127===y)for(var V=i_(o,c,!1),C=0;C<V;C++)o_(o,c,!1);S=x}else if(x>=128&&x<144||_&&S>=128&&S<144){_?(x,S):(o_(o,c,!1),x);o_(o,c,!1);_||(S=x)}else if(x>=144&&x<160||_&&S>=144&&S<160){_?(x,S):(o_(o,c,!1),x);o_(o,c,!1);_||(S=x)}else if(x>=176&&x<192||_&&S>=176&&S<192){_?x:o_(o,c,!1);o_(o,c,!1);_||(S=x)}else if(x>=192&&x<208||_&&S>=192&&S<208){_?x:o_(o,c,!1),_||(S=x)}else if(x>=208&&x<224||_&&S>=208&&S<224){_?x:o_(o,c,!1),_||(S=x)}else if(x>=224&&x<240||_&&S>=224&&S<240){_?x:o_(o,c,!1);o_(o,c,!1);_||(S=x)}else if(240==x||247==x)for(var E=i_(o,c,!1),D=0;D<E;D++)o_(o,c,!1);else d||(console.warn("Invalid midi character found"),d=!0)}m>A&&(A=m),m>f[p]&&(f[p]=m)}c={altPattern:null,altOffset:0,altLength:0,position:14,original:0};for(var F=0;F<l;F++){var T=0;if(o.getUint32(c.position)!==t_)return console.log("Invalid track midi header"),null;o.getUint32(c.position+4);c.position+=8;var P=255,R=!1,L=!1;if(t&&f[F]>0){var M=a[F][r[F]]=new u_;M.type=255,M.absoluteTime=0,M.contentSize=3,M.contents=[46,0,255],M.deltaTime=0,M.obsoleteEvent=!1,r[F]++,L=!0}for(;!R&&c.position<e.byteLength;){c.original=0;var B=i_(o,c,!1);T+=B;var k=a[F][r[F]]=new u_;k.deltaTime=B,k.obsoleteEvent=!1,k.contents=null,k.absoluteTime=T,t&&!L&&f[F]>0&&(0==T?(k.type=255,k.absoluteTime=T,k.contentSize=3,k.contents=[46,0,255],k.deltaTime=B,k.obsoleteEvent=!1,r[F]++,(k=a[F][r[F]]=new u_).deltaTime=B,k.obsoleteEvent=!1,k.contents=null,k.absoluteTime=T,L=!0):T>0&&(k.type=255,k.absoluteTime=0,k.contentSize=3,k.contents=[46,0,255],r[F]>0?k.deltaTime=0-a[F][r[F]-1].absoluteTime:k.deltaTime=0,k.obsoleteEvent=!1,r[F]++,(k=a[F][r[F]]=new u_).deltaTime=T-0,k.obsoleteEvent=!1,k.contents=null,k.absoluteTime=T,L=!0));var I=o_(o,c,!1),O=I<=127;if(255===I){var N=o_(o,c,!1);if(47===N){if(R=!0,t&&f[F]>0){var j=a[F][r[F]-1];if(255===j.type&&j.contentSize>0&&46===j.contents[0])(k=j).type=255,k.contentSize=1,k.contents=[47];else{var U=a[F][r[F]+1]=new u_;U.absoluteTime=A,U.deltaTime=0,U.durationTime=k.durationTime,U.obsoleteEvent=k.obsoleteEvent,U.type=255,U.contentSize=1,U.contents=[47],k.type=255,A>j.absoluteTime+j.durationTime?(k.deltaTime=A-(j.absoluteTime+j.durationTime),k.absoluteTime=A):(k.deltaTime=0,k.absoluteTime=j.absoluteTime),k.contentSize=7,k.contents=[45,255,255,0,0,0,0],k.obsoleteEvent=!1,r[F]++}}else k.type=255,k.contentSize=1,k.contents=[47];o_(o,c,!1)}else if(81===N){o_(o,c,!1);k.type=255,k.contentSize=4,k.contents=[81,o_(o,c,!1),o_(o,c,!1),o_(o,c,!1)]}else if(N<127&&81!=N&&47!=N){k.type=255;for(var G=i_(o,c,!1),z=0;z<G;z++)o_(o,c,!1);k.obsoleteEvent=!0}else if(127===N){k.type=255;for(var H=i_(o,c,!1),W=0;W<H;W++)o_(o,c,!1);k.obsoleteEvent=!0}P=I}else if(I>=128&&I<144||O&&P>=128&&P<144){var K=void 0,Y=void 0;O?(k.type=P,Y=I,K=P):(k.type=I,Y=o_(o,c,!1),K=I);for(var Q=o_(o,c,!1),J=r[F]-1;J>=0;J--)if(a[F][J].type==(144|15&K)&&!a[F][J].obsoleteEvent&&a[F][J].contents[0]==Y){a[F][J].durationTime=T-a[F][J].absoluteTime;break}k.durationTime=0,k.contentSize=2,k.contents=[Y,Q],k.obsoleteEvent=!0,O||(P=I)}else if(I>=144&&I<160||O&&P>=144&&P<160){var Z=void 0,$=void 0;O?(k.type=P,$=I,Z=P):(k.type=I,$=o_(o,c,!1),Z=I);var ee=o_(o,c,!1);if(0===ee){for(var ne=r[F]-1;ne>=0;ne--)if(a[F][ne].type==Z&&!a[F][ne].obsoleteEvent&&a[F][ne].contents[0]==$){a[F][ne].durationTime=T-a[F][ne].absoluteTime;break}k.durationTime=0,k.contentSize=2,k.contents=[$,ee],k.obsoleteEvent=!0}else{for(var te=r[F]-1;te>=0;te--)if(a[F][te].type==Z&&!a[F][te].obsoleteEvent&&a[F][te].contents[0]==$){0==a[F][te].durationTime&&(a[F][te].durationTime=T-a[F][te].absoluteTime);break}k.durationTime=0,k.contentSize=2,k.contents=[$,ee]}O||(P=I)}else if(I>=176&&I<192||O&&P>=176&&P<192){var re=void 0;O?(re=I,k.type=P):(re=o_(o,c,!1),k.type=I);var ae=o_(o,c,!1);k.contentSize=2,k.contents=[re,ae],O||(P=I)}else if(I>=192&&I<208||O&&P>=192&&P<208){var ie=void 0;O?(ie=I,k.type=P):(ie=o_(o,c,!1),k.type=I),k.contentSize=1,k.contents=[ie],O||(P=I)}else if(I>=208&&I<224||O&&P>=208&&P<224){k.type=I;var oe=void 0;O?(oe=I,k.type=P):(oe=o_(o,c,!1),k.type=I),k.contentSize=1,k.contents=[oe],O||(P=I)}else if(I>=224&&I<240||O&&P>=224&&P<240){k.type=I;var se=void 0;O?(se=I,k.type=P):(se=o_(o,c,!1),k.type=I);var le=o_(o,c,!1);k.contentSize=2,k.contents=[se,le],O||(P=I)}else if(240==I||247==I){k.type=I;for(var ue=i_(o,c,!1),ce=0;ce<ue;ce++)o_(o,c,!1);k.obsoleteEvent=!0}else d||(console.error("Invalid midi character found"),d=!0);r[F]++}}for(var de=new ArrayBuffer(1048576),Ae=new DataView(de),fe=0,he=0,pe=68,me=0;me<l;me++){var Se=0,ge=0,ve=0;if(r[me]>0){Ae.setUint32(fe,pe),fe+=4;for(var _e=0;_e<r[me];_e++){var ye=a[me][_e],we=l_(ye.deltaTime+he),be=(0,xe.Z)(we,2),Ve=(be[0],be[1]);if(ye.obsoleteEvent)he+=ye.deltaTime;else{if(255===ye.type&&46===ye.contents[0]&&(!0,ge=pe+Se+1+ye.contentSize+Ve),he=0,Se+=Ve,255===ye.type&&45===ye.contents[0]){var Ce=pe+Se-ge+8;ye.contents[3]=Ce>>24&255,ye.contents[4]=Ce>>16&255,ye.contents[5]=Ce>>8&255,ye.contents[6]=Ce>>0&255}if(ye.type===ve&&255!==ye.type||(Se+=1),Se+=ye.contentSize,ye.type>=144&&ye.type<160){var Ee=l_(ye.durationTime),De=(0,xe.Z)(Ee,2);De[0];Se+=De[1]}ve=ye.type}}pe+=Se}else Ae.setUint32(fe,0),fe+=4}for(var Fe=l;Fe<16;Fe++)Ae.setUint32(fe,0),fe+=4;Ae.setUint32(fe,u),fe+=4;for(var Te=0;Te<l;Te++)if(r[Te]>0)for(var Pe=0,Re=0;Re<r[Te];Re++){var Le=a[Te][Re];if(Le.obsoleteEvent)he+=Le.deltaTime;else{var Me=l_(Le.deltaTime+he),Be=(0,xe.Z)(Me,2);if(he=0,fe=s_(Ae,fe,Be[0],Be[1],!1),Le.type===Pe&&255!==Le.type||(Ae.setUint8(fe,Le.type),fe++),q(Ae,Le.contents,fe,0,Le.contentSize),fe+=Le.contentSize,Le.type>=144&&Le.type<160){var ke=l_(Le.durationTime),Ie=(0,xe.Z)(ke,2);fe=s_(Ae,fe,Ie[0],Ie[1],!1)}Pe=Le.type}}for(var Oe=de.slice(0,fe),Ne=new DataView(Oe),je=[],Ue=[],Ge=0;Ge<64;Ge+=4)je[Ge/4]=((Ne.getUint8(Ge)<<8|Ne.getUint8(Ge+1))<<8|Ne.getUint8(Ge+2))<<8|Ne.getUint8(Ge+3),Ue[Ge/4]=0;for(var ze=0;ze<fe;ze++)if(ze>68&&254===Ne.getUint8(ze))for(var He=0;He<l;He++)je[He]>ze&&Ue[He]++;for(var We=0;We<16;We++)Ne.setUint32(4*We,je[We]+Ue[We]);for(var Xe=0,Ke=0;Ke<fe;Ke++)Ae.setUint8(Xe,Ne.getUint8(Ke)),Xe++,Ke>68&&254===Ne.getUint8(Ke)&&(Ae.setUint8(Xe,Ne.getUint8(Ke)),Xe++);return X(Xe>=fe),de.slice(0,Xe)}function i_(e,n,t){for(var r=0,a=0;;){if(null!==n.altPattern)a=n.altPattern[n.altOffset],n.altOffset++,n.altOffset===n.altLength&&(n.altPattern=null,n.altOffset=0,n.altLength=0);else{a=e.getUint8(n.position),n.position++;var i=e.getUint8(n.position);if(t&&254===a){if(254!==i){var o=i;n.position++;var s=o<<8|e.getUint8(n.position);n.position++;var l=e.getUint8(n.position);n.position++,n.altPattern=new Array(l);for(var u=n.position-4-s,c=u+l,d=u;d<c;d++)n.altPattern[d-u]=e.getUint8(d);n.altOffset=0,n.altLength=l,a=n.altPattern[n.altOffset],n.altOffset++}else n.position++;n.altOffset===n.altLength&&null!==n.altPattern&&(n.altPattern=null,n.altOffset=0,n.altLength=0)}}if(a>>7!==1){r+=a;break}r+=a,r<<=8}n.original=r;for(var A=0,f=0,h=0;A+=(r>>f&127)<<h,24!=f;f+=8,h+=7);return A}function o_(e,n,t){var r;if(null!==n.altPattern)r=n.altPattern[n.altOffset],n.altOffset++;else if(r=e.getUint8(n.position),n.position++,t&&254===r){var a=e.getUint8(n.position);if(254!==a){var i=a;n.position++;var o=i<<8|e.getUint8(n.position);n.position++;var s=e.getUint8(n.position);n.position++,n.altPattern=new Array(s);for(var l=n.position-4-o,u=l+s,c=l;c<u;c++)n.altPattern[c-l]=e.getUint8(c);n.altOffset=0,n.altLength=s,r=n.altPattern[n.altOffset],n.altOffset++}else n.position++}return n.altOffset===n.altLength&&null!==n.altPattern&&(n.altPattern=null,n.altOffset=0,n.altLength=0),r}function s_(e,n,t,r,a){var i;return 1===r?(i=255&t,e.setUint8(n,i),n+=1):2===r?(i=t>>8&255,e.setUint8(n,i),n+=1,i=255&t,e.setUint8(n,i),n+=1):3===r?(i=t>>16&255,e.setUint8(n,i),n+=1,i=t>>8&255,e.setUint8(n,i),n+=1,i=255&t,e.setUint8(n,i),n+=1):(i=t>>24&255,e.setUint8(n,i),n+=1,i=t>>8&255,e.setUint8(n,i),n+=1,i=255&t,e.setUint8(n,i),n+=1),n}function l_(e){var n=e>>21&127,t=e>>14&127,r=e>>7&127,a=e>>0&127;if(n>0){var i=2155905024;i|=n<<24,i|=t<<16,i|=r<<8;return[i|=a,4]}if(t>0){var o=8421376;o|=t<<16,o|=r<<8;return[o|=a,3]}if(r>0){var s=32768;s|=r<<8;return[s|=a,2]}return[e,1]}var u_=i((function e(){r(this,e),this.obsoleteEvent=!1,this.deltaTime=0,this.durationTime=0,this.absoluteTime=0,this.type=0,this.contents=null,this.contentSize=0})),c_=function(){function e(){r(this,e),this.EVENT_MEM_SIZE=327680,this.EVENT_RAM_LOC=(2147483648|8388608-this.EVENT_MEM_SIZE)>>>0,this.EVENT_HEADER_SIZE=16,this.gameVersion=void 0,this.boardDefDirectory=void 0,this.nintendoLogoFSEntry=void 0,this.hudsonLogoFSEntry=void 0,this.MAINFS_READ_ADDR=void 0,this.TABLE_HYDRATE_ADDR=void 0,this.HEAP_FREE_ADDR=void 0}return i(e,[{key:"loadBoards",value:function(){var e=[],n=Ry.getROMGame(),t=tt(n);if(!t)return H("Game ".concat(n," has no board infos defined in PP64")),[];for(var r=0;r<t.length;r++){G()&&console.group("Board ".concat(r));var a=t[r],i=a.bgDir,o=gn.readBackground(i),s=void 0,l=this._pullBoardFromRom(a);if(l)(s=l).bg=o,s.otherbg={};else{var u={game:this.gameVersion,type:a.type||m.NORMAL,bg:o,otherbg:{},events:{}},c=(s=Tt(rn.get(this.boardDefDirectory,a.boardDefFile),u))._chains;delete s._chains,H("Board ".concat(r," chains: "),c),this.onChangeBoardSpaceTypesFromGameSpaceTypes(s,c),this._applyPerspective(s),this._cleanLoadedBoard(s),this._parseAudio(s,a),this._findEventTableLocations(a),this._extractEvents(a,s,r,c),this._extractStarGuardians(s,a),this._extractBoos(s,a)}this.onParseStrings(s,a),s.name||(s.name=a.name||""),this.onParseBoardSelectImg(s,a),this.onParseBoardLogoImg(s,a),a.onLoad&&a.onLoad(s),this.onLoad&&this.onLoad(s,a,!!l),e.push(s),G()&&console.groupEnd()}if(G())for(var d=Ft.getPatchInfo().length,A=0;A<d;A++)Ft.getROMOffset(A);return e}},{key:"overwriteBoard",value:function(){var e=O(k().mark((function e(n,t){var r,a,i,o,s,l,u;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M(t),c=Ry.getROMGame(),d=n,a=tt(c)[d],i=Ot(r),Nt(r,i),bw(r),this.onChangeGameSpaceTypesFromBoardSpaceTypes(r),this._reversePerspective(r),o=Rt(r,i),rn.write(this.boardDefDirectory,a.boardDefFile,o),this._createGateEvents(r,a,i),s=this.onWriteAudio(r,a,n),e.next=13,this._writeNewBoardOverlay(r,a,n,s);case 13:return l=e.sent,this.onWriteStrings(r,a),this.onCreateChainEvents(r,i),this._createStarEvents(r),a.onWriteEvents&&a.onWriteEvents(r),this.onWriteEvents&&this.onWriteEvents(r),e.next=21,this._writeEvents(r,a,n,i,l,s);case 21:return this._clearOtherBoardNames(n),this._stashBoardIntoRom(t,a),gn.updateMetadata(a.bgDir,r.bg),a.onAfterOverwrite&&a.onAfterOverwrite(r),u=Ry.getDataView(),this.onAfterOverwrite&&this.onAfterOverwrite(u,r,a,n),e.next=29,this.onOverwritePromises(t,a,n);case 29:case"end":return e.stop()}var c,d}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"_writeNewBoardOverlay",value:function(){var e=O(k().mark((function e(n,t,r,a){var i,o,s,l,u,c,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.onCreateBoardOverlay(n,t,r,a);case 2:return i=e.sent,o=Ry.getROMGame(),H(s="\n        ".concat(Qa(o,!0).join("\n"),"\n        ").concat($a(i).join("\n"),"\n\n        ").concat(i,"\n      ")),l=Object.create(null),u=ha(s,{symbolOutputMap:l}),c=ve.getInfo(t.sceneIndex),d=this._makeSymbolsForEventAssembly(l,c),ve.replace(t.sceneIndex,u.slice(0,l.bss),{code_end:c.code_start+l.rodata,rodata_start:c.code_start+l.rodata,rodata_end:c.code_start+l.bss,bss_start:c.code_start+l.bss,bss_end:c.code_start+u.byteLength}),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"onCreateBoardOverlay",value:function(){var e=O(k().mark((function e(n,t,r,a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Adapter does not implement onCreateBoardOverlay");case 1:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"onAfterSave",value:function(e){}},{key:"onOverwritePromises",value:function(e,n,t){throw new Error("Adapter does not implement onOverwritePromises")}},{key:"hydrateSpace",value:function(e,n,t){throw new Error("hydrateSpace not implemented")}},{key:"onParseStrings",value:function(e,n){H("Adapter does not implement onParseStrings")}},{key:"onWriteStrings",value:function(e,n){H("Adapter does not implement onWriteStrings")}},{key:"_applyPerspective",value:function(e){var n=e.bg,t=[n.width,n.height],r=t[0],a=t[1],i=new wu(n.fov,r/a,1,1e4);1===e.game?i.position.set(n.cameraEyePosX,n.cameraEyePosY,n.cameraEyePosZ):i.position.set(n.cameraEyePosX/1.2,n.cameraEyePosY/1.2,n.cameraEyePosZ/1.2),i.lookAt(new _s(n.lookatPointX,n.lookatPointY,n.lookatPointZ)),i.scale.y=-1,i.updateMatrix(),i.updateMatrixWorld(!0),i.updateProjectionMatrix();for(var o=0;o<e.spaces.length;o++){var s=e.spaces[o],l=new _s(s.x,s.y,s.z||0);2!==e.game&&3!==e.game||(l.x*=n.scaleFactor/1.2,l.y*=n.scaleFactor/1.2,l.z*=n.scaleFactor/1.2);var u=l.project(i),c=r/2,d=a/2;s.x=Math.round(u.x*c+c),s.y=Math.round(-u.y*d+d),s.z=0}}},{key:"_reversePerspective",value:function(e){var n=e.bg,t=[n.width,n.height],r=t[0],a=t[1],i=new wu(n.fov,r/a,1,1e4);1===e.game?i.position.set(n.cameraEyePosX,n.cameraEyePosY,n.cameraEyePosZ):i.position.set(n.cameraEyePosX/1.2,n.cameraEyePosY/1.2,n.cameraEyePosZ/1.2),i.lookAt(new _s(n.lookatPointX,n.lookatPointY,n.lookatPointZ)),i.scale.y=-1,i.updateMatrix(),i.updateMatrixWorld(!0),i.updateProjectionMatrix();for(var o=0;o<e.spaces.length;o++){var s=e.spaces[o],l=new _s(s.x/r*2-1,-s.y/a*2+1,.5);l.unproject(i),l.sub(i.position).normalize();var u=-i.position.z/l.z,c=new _s;c.copy(i.position).add(l.multiplyScalar(u)),2!==e.game&&3!==e.game||(c.x/=n.scaleFactor/1.2,c.y/=n.scaleFactor/1.2,c.z/=n.scaleFactor/1.2),s.x=c.x,s.y=c.y,s.z=c.z}}},{key:"onGetGameCoordsFromBoardCoords",value:function(e,n,t,r){return H("Adapter does not implement onGetGameCoordsFromBoardCoords"),[e,n,t]}},{key:"onChangeBoardSpaceTypesFromGameSpaceTypes",value:function(e,n){H("Adapter does not implement onChangeBoardSpaceTypesFromGameSpaceTypes")}},{key:"onChangeGameSpaceTypesFromBoardSpaceTypes",value:function(e){H("Adapter does not implement onChangeGameSpaceTypesFromBoardSpaceTypes")}},{key:"_offsetToAddr",value:function(e,n){if("number"===typeof n.sceneIndex&&n.sceneIndex>=0){var t=ve.getInfo(n.sceneIndex);return e<t.rom_start?(2147483647&t.ram_start)+e:(2147483647&t.ram_start)-(t.rom_start-e)}throw new Error("How do I _offsetToAddr?")}},{key:"_offsetToAddrBase",value:function(e,n){return n+e>>>0}},{key:"_addrToOffsetBase",value:function(e,n){return(2147483647&e)-(2147483647&n)>>>0}},{key:"_stashBoardIntoRom",value:function(e,n){if(n.mainfsBoardFile){var t=M(e);delete t.bg,delete t.otherbg,delete t.animbg;var r=function(e){if("TextEncoder"in window)return(new TextEncoder).encode(e).buffer;for(var n=new ArrayBuffer(2*e.length),t=new Uint16Array(n),r=0,a=e.length;r<a;r++)t[r]=e.charCodeAt(r);return n}(JSON.stringify(t)),a=(0,xe.Z)(n.mainfsBoardFile,2),i=a[0],o=a[1];rn.write(i,o,r)}}},{key:"_pullBoardFromRom",value:function(e){if(!e.mainfsBoardFile)return null;var n=(0,xe.Z)(e.mainfsBoardFile,2),t=n[0],r=n[1];if(!rn.has(t,r))return null;var a,i=rn.get(t,r);return JSON.parse((a=i,"TextDecoder"in window?(new TextDecoder).decode(a):String.fromCharCode.apply(null,new Uint16Array(a))))}},{key:"_cleanLoadedBoard",value:function(e){var n=e.spaces.length-1,t=e.spaces[e.spaces.length-1];t&&t.x>e.bg.width+50&&t.y>e.bg.height+50&&(H("Pruning dead space",t),e.spaces.splice(n,1))}},{key:"_findEventTableLocations",value:function(e){if(!("number"!==typeof e.sceneIndex||e.sceneIndex<0)){var n=me(Ry.getROMGame(),"EventTableHydrate"),t=ve.getInfo(e.sceneIndex),r=ve.getCodeDataView(e.sceneIndex),a=(0,en.Z_)(r,n),i=[];e.spaceEventTables||(e.spaceEventTables=i);for(var o=0;o<a.length;o++){var s=a[o],l=r.getUint32(s-4),u=r.getUint32(s+4),c=(0,en.NC)(l,u),d=this._addrToOffsetBase(c,t.ram_start);H("Found event table ".concat(W(c)," (ROM ").concat(W(d),")")),i.push({tableOffset:d})}}}},{key:"_extractEvents",value:function(e,n,t,r){var a=this;if(e.spaceEventTables&&e.sceneIndex){var i,o,s=new si;if(e.mainfsEventFile){var l=(0,xe.Z)(e.mainfsEventFile,2),u=l[0],c=l[1];rn.has(u,c)&&(i=rn.get(u,c),o=new DataView(i),s.parse(i,16))}var d=ve.getInfo(e.sceneIndex);i||(o=ve.getDataView(e.sceneIndex),i=o.buffer,e.spaceEventTables.forEach((function(e){var n;if(e.tableOffset)n=e.tableOffset;else{var t=o.getUint32(e.upper),r=o.getUint32(e.lower);if(!t&&!r)return;var l=(0,en.NC)(t,r);n=a._addrToOffsetBase(l,d.ram_start)}s.parse(i,n)}))),s.forEach((function(s){var l=s.spaceIndex;l<0&&H("Space event on negative space ".concat(l));var u,c=2147483647&s.address;u=c>(2147483647&a.EVENT_RAM_LOC)?a._addrToOffsetBase(c,a.EVENT_RAM_LOC):a._addrToOffsetBase(c,d.ram_start);var A=new ai;A.parse(i,u),A.forEach((function(i){var s,u,c=2147483647&i.address;c>(2147483647&a.EVENT_RAM_LOC)?(s=a._addrToOffsetBase(c,a.EVENT_RAM_LOC),u=o):(s=a._addrToOffsetBase(c,d.ram_start),u=ve.getDataView(e.sceneIndex));var A=function(e,n){var t=Ry.getROMGame(),r=xx();for(var a in r){var i=r[a];if(i.parse&&-1!==i.supportedGames.indexOf(t)){var o=i.parse(e,n);if(o){if(i.fakeEvent)return!0;var s={id:a};return!0!==o&&(s.args=o),s}}}return!1}(u,{addr:c,offset:s,board:n,boardIndex:t,curSpace:l,curSpaceIndex:l,chains:r,game:Ry.getROMGame(),gameVersion:a.gameVersion});A&&!0!==A&&(A.activationType=i.activationType,A.executionType=i.executionType,Dw(n,l,A,!1,xx())),G()&&Object.values&&-1===Object.values(_).indexOf(i.activationType)&&H("Unknown event activation type ".concat(W(i.activationType),", boardIndex: ").concat(t,", spaceIndex: ").concat(W(l)))}))}))}}},{key:"onCreateChainEvents",value:function(e,n){for(var t=this,r=0;r<n.length;r++){var a=n[r],i=a[a.length-1],o=Vw(i,e),s=void 0;o.length>1?function(){var e=[];if(o.forEach((function(n){e.push(l(n))})),o.length>2)throw new Error("Encountered branch with ".concat(o.length," directions, only 2 are supported currently"));s=By(1===t.gameVersion?wx:e_,{parameterValues:{left_space:o[0],right_space:o[1],chains:e}})}():o.length>0&&(s=By(bx,{parameterValues:{chain:l(o[0])}})),s&&Dw(e,i,s,!0,xx())}function l(e){for(var t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t}}},{key:"_createStarEvents",value:function(e){for(var n=0;n<e.spaces.length;n++){var t=e.spaces[n];if(t&&t.star){var r=(t.events||[]).some((function(e){return"STAR"===e.id}));r||Jy(e,t,By(Yx),!1,xx())}}}},{key:"_createGateEvents",value:function(e,n,t){for(var r=0,a=0;a<e.spaces.length;a++){var i=e.spaces[a];if(i&&i.subtype===p.GATE){var o=g(a),s=e.spaces[o];if(!s)throw new Error("Gate did not have entry space");var l=g(o);if(!e.spaces[l])throw new Error("Gate did not have previous space");var u=x(l),c=t[u].indexOf(l),d=v(a),A=e.spaces[d];if(!A)throw new Error("Gate did not have exit space");var f=v(d);if(!e.spaces[f])throw new Error("Gate did not have next space");var h=x(f),m=t[h].indexOf(f),S=By(Zx,{parameterValues:{gatePrevChain:[u,c],gateEntryIndex:o,gateSpaceIndex:a,gateExitIndex:d,gateNextChain:[h,m]}});Jy(e,s,S,!1,xx()),Jy(e,A,S,!1,xx()),Jy(e,i,By($x,{parameterValues:{gateIndex:r}}),!1,xx()),r++}}function g(n){for(var t in e.links)for(var r=Vw(parseInt(t),e),a=0;a<r.length;a++)if(r[a]===n)return Number(t);return-1}function v(n){return Vw(n,e)[0]}function x(e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n}}},{key:"_writeEvents",value:function(){var e=O(k().mark((function e(n,t,r,a,i,o){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.mainfsEventFile){e.next=3;break}return e.next=3,this._writeEventsNew2(n,t,r,a,i,o);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t,r,a,i,o){return e.apply(this,arguments)}}()},{key:"_writeEventsNew2",value:function(){var e=O(k().mark((function e(n,t,r,a,i,o){var s,l,u,c,d,A,f,h,p,m,S,g,v,x,_,w,b,V,E,D,F,T,P,R,L,M,B,I,O,N,j,U,G,z,K,q,Y,Q,J,Z,$,ee,ne,te,re;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mainfsEventFile){e.next=2;break}throw new Error("No MainFS file specified to place board ASM for board ".concat(r,"."));case 2:s=Ry.getROMGame(),l=new si,u=[],c=[],d={},A={},f=0;case 9:if(!(f<n.spaces.length)){e.next=39;break}if((h=n.spaces[f]).events&&h.events.length){e.next=13;break}return e.abrupt("continue",36);case 13:l.add(f,0),p=new ai(f),m=0;case 16:if(!(m<h.events.length)){e.next=35;break}return S=h.events[m],g=C(S.activationType),p.add(g,S.executionType||S.mystery,0),v=d[S.id]||{},x={boardIndex:r,board:n,boardInfo:t,audioIndices:o,curSpaceIndex:f,curSpace:h,chains:a,game:s,gameVersion:this.gameVersion},e.next=24,Iy(new ArrayBuffer(0),S,x,v);case 24:if(_=e.sent,d[S.id]=v,"string"===typeof _){e.next=28;break}throw new Error("Event ".concat(S.id," did not return a string to assemble"));case 28:X(!!(w=My(S.id,n,xx()))),c.push(Ya(_,w,S,x,!A[S.id],m)),A[S.id]=!0;case 32:m++,e.next=16;break;case 35:u.push(p);case 36:f++,e.next=9;break;case 39:b=new ai(-5),V=new ai(-4),E=new ai(-3),D=new ai(-2),F=[{index:-5,list:b,type:y.BEFORE_DICE_ROLL},{index:-4,list:V,type:y.BEFORE_PLAYER_TURN},{index:-3,list:E,type:y.AFTER_TURN},{index:-2,list:D,type:y.BEFORE_TURN}],T=0,P=F;case 45:if(!(T<P.length)){e.next=73;break}R=P[T],L=R.index,M=R.list,B=R.type,I=d_(n.boardevents||[],B),O=C(B),N=0;case 50:if(!(N<I.length)){e.next=68;break}return j=I[N],M.add(O,j.executionType,0),U=d[j.id]||{},G={boardIndex:r,board:n,boardInfo:t,audioIndices:o,curSpaceIndex:L,curSpace:null,chains:a,game:s,gameVersion:this.gameVersion},e.next=57,Iy(new ArrayBuffer(0),j,G,U);case 57:if(z=e.sent,d[j.id]=U,"string"===typeof z){e.next=61;break}throw new Error("Event ".concat(j.id," did not return a string to assemble"));case 61:X(!!(K=My(j.id,n,xx()))),c.push(Ya(z,K,j,G,!A[j.id],N)),A[j.id]=!0;case 65:N++,e.next=50;break;case 68:this.onAddDefaultBoardEvents(B,M),M.count()>0&&(l.add(L,0),u.push(M));case 70:T++,e.next=45;break;case 73:q=c.join("\n"),Y=$a(q),Q="\n.org ".concat(W(this.EVENT_RAM_LOC),'\n.ascii "PP64"\n.word ').concat(W(this.EVENT_RAM_LOC),"\n.word 0 // Populated with buffer size later\n.align 16\n\n").concat(i,"\n\n").concat(Qa(s,!1).join("\n"),"\n").concat(Fa(t.bgDir,Ra(n)).join("\n"),"\n").concat(Ha(o).join("\n"),"\n").concat(Y.join("\n"),"\n\n").concat(l.getAssembly(),"\n").concat(u.map((function(e){return e.getAssembly()})).join("\n"),"\n").concat(q,"\n"),H(Q),Z=Object.create(null),e.prev=78,J=ha(Q,{symbolOutputMap:Z}),e.next=86;break;case 82:throw e.prev=82,e.t0=e.catch(78),$="Error during board assembly: ".concat(e.t0,"\nContext: ").concat(Q),new Error($);case 86:if(H("Overlay symbols: ",Z),ee=new DataView(J),!(J.byteLength>this.EVENT_MEM_SIZE)){e.next=90;break}throw new Error("Event code exceeded available memory space (".concat(J.byteLength,"/").concat(this.EVENT_MEM_SIZE,")"));case 90:ee.setUint32(8,J.byteLength),ne=(0,xe.Z)(t.mainfsEventFile,2),te=ne[0],re=ne[1],rn.write(te,re,J);case 93:case"end":return e.stop()}}),e,this,[[78,82]])})));return function(n,t,r,a,i,o){return e.apply(this,arguments)}}()},{key:"_makeSymbolsForEventAssembly",value:function(e,n){var t="";for(var r in e)0===r.indexOf("__PP64_INTERNAL_VAL_")?t+=".definelabel ".concat(r,",").concat(W(e[r]),"\n"):0===r.indexOf("__PP64_INTERNAL")&&(t+=".definelabel ".concat(r,",").concat(W(n.ram_start+e[r]),"\n"));return t}},{key:"onWriteEventAsmHook",value:function(e,n,t){throw new Error("Adapter does not implement onWriteEventAsmHook")}},{key:"onAddDefaultBoardEvents",value:function(e,n){}},{key:"_extractStarGuardians",value:function(e,n){if(n.sceneIndex){var t=ve.getDataView(n.sceneIndex);if(n.toadSpaceInst){var r=t.getUint16(n.toadSpaceInst+2);e.spaces[r]&&(e.spaces[r].subtype=p.TOAD)}if(n.starSpaceCount){var a=n.starSpaceArrOffset;Array.isArray(a)&&(a=a[0]);for(var i=0;i<n.starSpaceCount;i++){var o=t.getUint16(a+2*i);e.spaces[o]&&(e.spaces[o].star=!0)}for(var s=0;s<n.starSpaceCount;s++){var l=n.toadSpaceArrOffset;Array.isArray(l)&&(l=l[0]);var u=t.getUint16(l+2*s);e.spaces[u]&&(e.spaces[u].subtype=p.TOAD)}}}}},{key:"_writeStarInfo",value:function(e,n){var t=n.starSpaceCount;if(t){for(var r=ve.getDataView(n.sceneIndex),a=[],i=0;i<e.spaces.length;i++)e.spaces[i].star&&a.push(i);var o=n.starSpaceArrOffset;Array.isArray(o)||(o=[o]);for(var s=0;s<o.length;s++)for(var l=o[s],u=0;u<t;u++){var c=u<a.length?u:a.length-1;r.setUint16(l+2*u,a[c])}var d=_w(p.TOAD,e),A=n.toadSpaceArrOffset;Array.isArray(A)||(A=[A]);for(var f=0;f<A.length;f++)for(var h=A[f],m=0;m<t;m++){for(var S=m<a.length?m:a.length-1,g=e.spaces[a[S]],v=Number.MAX_VALUE,x=a[S],_=0;_<d.length;_++){var y=d[_],w=e.spaces[y],b=Ee(g.x,g.y,w.x,w.y);b<v&&(v=b,x=y)}r.setUint16(h+2*m,x)}}}},{key:"_extractBoos",value:function(e,n){if(n.sceneIndex){var t,r=ve.getDataView(n.sceneIndex);if(n.boosLoopFnOffset){var a=n.boosLoopFnOffset,i=r.getUint16(a+42);if(436273148===r.getUint32(a+40)&&(i=1),0===i)return;a=n.boosReadbackFnOffset;var o=r.getInt16(a+210);o=1048576+o;for(var s=ve.getInfo(n.sceneIndex),l=this._addrToOffsetBase(o,s.ram_start),u=0;u<i;u++)t=r.getUint16(l+2*u),e.spaces[t]&&(e.spaces[t].subtype=p.BOO)}else if(n.booSpaceInst)t=r.getUint16(n.booSpaceInst+2),e.spaces[t]&&(e.spaces[t].subtype=p.BOO);else if(n.booCount)for(var c=n.booArrOffset,d=0;d<c.length;d++)for(var A=c[d],f=0;f<n.booCount;f++){var h=r.getUint16(A);e.spaces[h]&&(e.spaces[h].subtype=p.BOO),A+=2}}}},{key:"_writeBoos",value:function(e,n){if(n.sceneIndex){var t=_w(p.BOO,e),r=ve.getDataView(n.sceneIndex);if(n.boosLoopFnOffset){var a=n.boosLoopFnOffset,i=r.getUint16(a+42);if(436273148===r.getUint32(a+40)?i=1:t.length&&i>t.length&&r.setUint16(a+42,t.length),0===i)return;a=n.boosReadbackFnOffset;var o=r.getInt16(a+210);o=1048576+o;for(var s=ve.getInfo(n.sceneIndex),l=this._addrToOffsetBase(o,s.ram_start),u=0;u<i;u++){var c=void 0===t[u]?ww(e):t[u];r.setUint16(l+2*u,c)}}else if(n.booSpaceInst){var d=void 0===t[0]?ww(e):t[0];r.setUint16(n.booSpaceInst+2,d)}else if(n.booCount)for(var A=n.booArrOffset,f=0;f<A.length;f++)for(var h=A[f],m=0;m<n.booCount;m++){var S=void 0===t[m]?ww(e):t[m];r.setUint16(h,S),h+=2}}}},{key:"_extractBanks",value:function(e,n){if(n.bankCount&&n.sceneIndex){for(var t=ve.getDataView(n.sceneIndex),r=n.bankArrOffset,a=0;a<r.length;a++)for(var i=r[a],o=0;o<n.bankCount;o++){var s=t.getUint16(i);e.spaces[s]&&(e.spaces[s].subtype=p.BANK),i+=2}for(var l=0;l<n.bankCoinArrOffset.length;l++)for(var u=n.bankCoinArrOffset[l],c=0;c<n.bankCount;c++){var d=t.getUint16(u);e.spaces[d]&&(e.spaces[d].subtype=p.BANKCOIN),u+=2}}}},{key:"_writeBanks",value:function(e,n){if(n.bankCount&&n.sceneIndex){for(var t=ve.getDataView(n.sceneIndex),r=_w(p.BANK,e),a=n.bankArrOffset,i=0;i<a.length;i++)for(var o=a[i],s=0;s<n.bankCount;s++){var l=void 0===r[s]?ww(e):r[s];t.setUint16(o,l),o+=2}for(var u=_w(p.BANKCOIN,e),c=0;c<n.bankCoinArrOffset.length;c++)for(var d=n.bankCoinArrOffset[c],A=0;A<n.bankCount;A++){var f=void 0===u[A]?ww(e):u[A];t.setUint16(d,f),d+=2}}}},{key:"_extractItemShops",value:function(e,n){if(n.itemShopCount&&n.sceneIndex)for(var t=ve.getDataView(n.sceneIndex),r=0;r<n.itemShopArrOffset.length;r++)for(var a=n.itemShopArrOffset[r],i=0;i<n.itemShopCount;i++){var o=t.getUint16(a);e.spaces[o]&&(e.spaces[o].subtype=p.ITEMSHOP),a+=2}}},{key:"_writeItemShops",value:function(e,n){if(n.itemShopCount&&n.sceneIndex)for(var t=ve.getDataView(n.sceneIndex),r=_w(p.ITEMSHOP,e),a=0;a<n.itemShopArrOffset.length;a++)for(var i=n.itemShopArrOffset[a],o=0;o<n.itemShopCount;o++){var s=void 0===r[o]?ww(e):r[o];t.setUint16(i,s),i+=2}}},{key:"_writeGates",value:function(e,n){if(n.gateCount&&n.sceneIndex){for(var t=ve.getDataView(n.sceneIndex),r=[],a=0;a<e.spaces.length;a++)e.spaces[a].subtype===p.GATE&&r.push(a);for(var i=n.gateArrOffset,o=0;o<i.length;o++)for(var s=i[o],l=0;l<n.gateCount;l++){var u=void 0===r[l]?ww(e):r[l];t.setUint16(s,u),s+=2}}}},{key:"_writeBackground",value:function(){var e=O(k().mark((function e(n,t,r,a){var i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n_(t,r,a);case 2:i=e.sent,gn.writeBackground(n,i,r,a);case 4:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}()},{key:"_writeAdditionalBackgrounds",value:function(){var e=O(k().mark((function e(n){var t,r,a,i,o,s,l,u,c,d,A;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.additionalbg)&&t.length){e.next=3;break}return e.abrupt("return");case 3:for(r=n.bg,a=r.width,i=r.height,o=new Array(t.length),s=[],l=function(e){var n=new Promise((function(n){var r=e;n_(t[e],a,i).then((function(e){o[r]=e,n()}))}));s.push(n)},u=0;u<t.length;u++)l(u);return e.next=10,Promise.all(s);case 10:for(c=0,d=o;c<d.length;c++)A=d[c],gn.writeBackground(gn.getDirectoryCount(),A,a,i,n.bg);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"onParseBoardSelectImg",value:function(e,n){H("Adapter does not implement onParseBoardSelectImg")}},{key:"onWriteBoardSelectImg",value:function(e,n){return H("Adapter does not implement onWriteBoardSelectImg"),new Promise((function(e,n){e()}))}},{key:"onParseBoardLogoImg",value:function(e,n){H("Adapter does not implement onParseBoardLogoImg")}},{key:"onWriteBoardLogoImg",value:function(e,n){return H("Adapter does not implement onWriteBoardLogoImgs"),new Promise((function(e,n){e()}))}},{key:"_brandBootSplashscreen",value:function(){var e=this;return new Promise((function(n,t){if(Ze(Oe.writeBranding)){if(!e.nintendoLogoFSEntry||!e.hudsonLogoFSEntry)return H("Adapter cannot write branding"),void n();var r=new Image,a=setTimeout((function(){return t("Failed to overwrite boot logo")}),45e3);r.onload=function(){e._combineSplashcreenLogos();var t=bn([{src:hn(pi(r,320,240),320,240),width:320,height:240,bpp:16}],16,8);rn.write(e.hudsonLogoFSEntry[0],e.hudsonLogoFSEntry[1],t),clearTimeout(a),n()},r.src="data:image/png;base64,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"}else n()}))}},{key:"_combineSplashcreenLogos",value:function(){var e=rn.get(this.nintendoLogoFSEntry[0],this.nintendoLogoFSEntry[1]);if(32===new Uint8Array(e)[26]){var n=rn.get(this.hudsonLogoFSEntry[0],this.hudsonLogoFSEntry[1]),t=wn(e)[0],r=wn(n)[0],a=new Uint8Array(t.src),i=new Uint8Array(r.src),o=N(320,240);o.fillStyle="black",o.fillRect(0,0,320,240);for(var s=o.getImageData(0,0,320,240),l=112640;l<197120;l++)s.data[l-51200]=a[l];for(var u=112640;u<197120;u++)s.data[u+64e3]=i[u];var c=bn([{src:hn(s.data.buffer,320,240),width:320,height:240,bpp:16}],16,8);rn.write(this.nintendoLogoFSEntry[0],this.nintendoLogoFSEntry[1],c)}}},{key:"_clearOtherBoardNames",value:function(e){H("Adapter does not implement _clearOtherBoardNames")}},{key:"_readPackedFromMainFS",value:function(e,n){var t=wn(rn.get(e,n));if(t&&t.length)return t.map((function(e){return new DataView(e.src)}))}},{key:"_readImgsFromMainFS",value:function(e,n){var t=wn(rn.get(e,n));if(t&&t.length)return t}},{key:"_readImgInfoFromMainFS",value:function(e,n,t){return this._readImgsFromMainFS(e,n)[t||0]}},{key:"_readImgFromMainFS",value:function(e,n,t){var r=this._readImgInfoFromMainFS(e,n,t);return ne(r.src,r.width,r.height)}},{key:"_parseAudio",value:function(e,n){if(n.audioIndexOffset&&n.sceneIndex){var t=ve.getDataView(n.sceneIndex);e.audioIndex=t.getUint16(n.audioIndexOffset)}}},{key:"onWriteAudio",value:function(e,n,t){var r=[];switch(e.audioType){case Ny.Custom:var a=Ft.getSequenceTable(0);X(!!a);var i,o=L(e.audioData);try{for(o.s();!(i=o.n()).done;){var s=i.value;r.push(a.midis.length),a.midis.push({buffer:a_(te(s.data),{loop:!0}),soundbankIndex:s.soundbankIndex})}}catch(l){o.e(l)}finally{o.f()}break;case Ny.InGame:default:r=[e.audioIndex||0]}return r}},{key:"getAudioMap",value:function(e){return H("Adapter does not implement getAudioMap"),[]}},{key:"getSoundEffectMap",value:function(e){return H("Adapter does not implement getSoundEffectMap"),[]}},{key:"getCharacterMap",value:function(){return H("Adapter does not implement getCharacterMap"),{}}}]),e}();function d_(e,n){return e.filter((function(e){return e.activationType===n}))}var A_=function(){function e(){r(this,e)}return i(e,null,[{key:"unpack",value:function(n){if(n instanceof DataView||(n=new DataView(n)),!e.isForm(n))return null;var t=Object.create(null);t.entries=[];for(var r=8;r<n.byteLength-2;){var a=n.getUint32(r);"HBIN"===(a=li(a))&&(r+=4,a+=li(n.getUint32(r))),t.entries.push(a),r+=4;var i=n.getUint32(r);r+=4;var o={raw:n.buffer.slice(r,r+i)},s=e.parseType(a,o.raw);s&&(o.parsed=s),t[a]=t[a]||[],t[a].push(o),r+=i+i%2}if(t.BMP1)for(var l=0;l<t.BMP1.length;l++){var u=t.BMP1[l];u.parsed=e.parseBMP(u.raw,t.PAL1)}return t}},{key:"pack",value:function(n){var t=new ArrayBuffer(e.getByteLength(n)),r=new DataView(t);r.setUint32(0,1179603533),r.setUint32(4,t.byteLength-8);for(var a={},i=8,o=0;o<n.entries.length;o++){var s=n.entries[o],l=a[s]||0;a[s]=l+1;for(var u=ui(s),c=0;c<u.length;c++)r.setUint8(i,u[c]),i++;var d=n[s][l],A=d.raw.byteLength;r.setUint32(i,A),i+=4,q(r,d.raw,i,0,A),i+=A+A%2}return t}},{key:"isForm",value:function(e){return!!e&&(e instanceof DataView||(e=new DataView(e)),1179603533===e.getUint32(0))}},{key:"getByteLength",value:function(e){var n=0;for(var t in e)if("entries"!==t)for(var r=0;r<e[t].length;r++){var a=e[t][r].raw.byteLength;n+=a+a%2+t.length+4}return n+8}},{key:"parseType",value:function(n,t){switch(n){case"HBINMODE":return e.parseHBINMODE(t);case"OBJ1":return e.parseOBJ1(t);case"COL1":return e.parseCOL1(t);case"MAT1":return e.parseMAT1(t);case"ATR1":return e.parseATR1(t);case"VTX1":return e.parseVTX1(t);case"FAC1":return e.parseFAC1(t);case"PAL1":return e.parsePAL1(t);case"SKL1":return e.parseSKL1(t);case"STRG":return e.parseSTRG(t)}return null}},{key:"parseHBINMODE",value:function(e){var n=new DataView(e),t={E:n.getUint8(20),F:n.getUint8(21),G:n.getUint8(22)};return 69===t.E&&70===t.F&&71===t.G||console.warn("HBINMODE unexpected EFG => ",t),t}},{key:"parseOBJ1",value:function(n){for(var t=new DataView(n),r={objects:[],mystery1:t.getUint16(2)},a=t.getUint16(0),i=4,o=0;o<a;o++){var s=t.getUint16(i),l=t.getUint8(i+2),u=t.getUint16(i+3);i+=5;var c=void 0;switch(l){case 61:c={children:[]};for(var d=t.getUint16(i),A=0;A<d;A++)c.children.push(t.getUint16(i+2+2*A));Object.assign(c,e._parseOBJ1Transforms(t,i+2+2*d));break;case 58:c={mystery1:t.getUint8(i),faceIndex:t.getUint16(i+1),faceCount:t.getUint16(i+3)},Object.assign(c,e._parseOBJ1Transforms(t,i+5));break;case 16:c={skeletonGlobalIndex:t.getUint16(i)},Object.assign(c,e._parseOBJ1Transforms(t,i+2));break;case 59:c={},console.warn("Object type 0x3B");break;case 62:c={};break;case 97:c={},Object.assign(c,e._parseOBJ1Transforms(t,i));break;case 93:c={},console.warn("Object type 0x5D");break;default:console.warn("Unrecognized object type ".concat(W(l))),c={}}c.objType=l,c.globalIndex=u,r.objects.push(c),i+=s-3}return r}},{key:"_parseOBJ1Transforms",value:function(e,n){return{posX:e.getFloat32(n),posY:e.getFloat32(n+4),posZ:e.getFloat32(n+8),rotX:e.getFloat32(n+12),rotY:e.getFloat32(n+16),rotZ:e.getFloat32(n+20),scaleX:e.getFloat32(n+24),scaleY:e.getFloat32(n+28),scaleZ:e.getFloat32(n+32)}}},{key:"parseCOL1",value:function(e){for(var n=new DataView(e),t=[],r=n.getUint16(0),a=2,i=0;i<r;i++)t.push(n.getUint32(a)),a+=4;return t}},{key:"parseMAT1",value:function(e){for(var n=new DataView(e),t={materials:[]},r=n.getUint16(0),a=2,i=0;i<r;i++){var o={mystery1:n.getUint16(a),colorIndex:n.getUint16(a+2),mystery3:n.getUint16(a+4),mystery4:n.getFloat32(a+6),mystery5:n.getUint16(a+10)};t.materials.push(o),a+=12}return t}},{key:"parseATR1",value:function(e){for(var n=new DataView(e),t={atrs:[]},r=n.getUint16(0),a=2,i=0;i<r;i++){var o={size:n.getUint16(a),xBehavior:n.getUint8(a+5),yBehavior:n.getUint8(a+6),bmpGlobalIndex:n.getUint16(a+10)};t.atrs.push(o),a+=o.size+2}return t}},{key:"parseVTX1",value:function(e){for(var n=new DataView(e),t={vertices:[],scale:n.getFloat32(4)},r=n.getUint16(0),a=8,i=0;i<r;i++){var o={x:n.getInt16(a),y:n.getInt16(a+2),z:n.getInt16(a+4),normalX:n.getInt8(a+6),normalY:n.getInt8(a+7),normalZ:n.getInt8(a+8)};t.vertices.push(o),a+=9}return t}},{key:"parseFAC1",value:function(e){for(var n=new DataView(e),t={faces:[]},r=n.getUint16(0),a=8,i=0;i<r;i++){var o=n.getUint8(a);if(53!==o&&22!==o&&48!==o)throw new Error("Unrecognized faceType in FAC1: ".concat(W(o)));var s={vtxEntries:[]};if(t.faces.push(s),a+=1,48===o)console.warn("Unsupported face type 0x30"),a+=6;else for(var l=53===o?4:3,u=0;u<l;u++)s.vtxEntries[u]={vertexIndex:n.getUint16(a),materialIndex:n.getInt16(a+2),u:n.getFloat32(a+4),v:n.getFloat32(a+8)},a+=12;s.materialIndex=n.getInt16(a),s.atrIndex=n.getInt16(a+2),s.mystery3=n.getUint8(a+4),54!==s.mystery3&&console.warn("Unsupported FAC1 mystery3 ",W(s.mystery3)),a+=5}return t}},{key:"parsePAL1",value:function(e){var n=new DataView(e),t={colors:[],bpp:0,globalIndex:n.getUint16(0)},r=n.getUint16(2);t.bpp=8*Math.floor((e.byteLength-4)/r);for(var a=4,i=0;i<r;i++){if(32===t.bpp)t.colors.push(n.getUint32(a));else if(16===t.bpp)t.colors.push(n.getUint16(a));else{if(8!==t.bpp)throw new Error("FORM.parseType(PAL1): bpp: ".concat(t.bpp));t.colors.push(n.getUint8(a))}a+=t.bpp/8}return t}},{key:"parseSKL1",value:function(n){for(var t=new DataView(n),r=t.getUint8(2),a={globalIndex:t.getUint16(0),skls:[]},i=3,o=0;o<r;o++){var s={mystery1:t.getUint8(i),objGlobalIndex:t.getUint16(i+1),nextSiblingRelativeIndex:t.getUint16(i+51),isParentNode:t.getUint16(i+53),mystery2:t.getUint8(i+54)};Object.assign(s,e._parseOBJ1Transforms(t,i+3)),a.skls.push(s),i+=56}return a}},{key:"parseSTRG",value:function(e){for(var n=new DataView(e),t=[],r=n.getUint16(0),a=2+r,i=0;i<r;i++){for(var o="",s=n.getUint8(2+i),l=0;l<s;l++)o+=String.fromCharCode(n.getUint8(a+l));a+=s,t.push(o)}return t}},{key:"parseBMP",value:function(e,n){var t=new DataView(e),r=t.getUint16(2),a=t.getUint16(5),i=t.getUint16(7);if(296===r||552===r){if(!n)throw new Error("Palette needed for BMP format ".concat(W(r)));for(var o,s=t.getUint16(9),l=t.getUint16(15),u=0;u<n.length;u++)if(n[u].parsed.globalIndex===s){o=n[u].parsed;break}if(!o)throw new Error("Could not locate palette at global index ".concat(s));var c=8/(a*i/l),d=o.bpp,A=new DataView(e,17,l);return{globalIndex:t.getUint16(0),origFormat:r,paletteGlobalIndex:s,width:a,height:i,src:vn(A,o.colors,c,d)}}if(295===r){var f=t.getUint8(4),h=t.getUint16(11);switch(f){case 16:return{globalIndex:t.getUint16(0),origFormat:r,width:a,height:i,src:fn(e.slice(13,13+h),a,i)};case 32:return{globalIndex:t.getUint16(0),origFormat:r,width:a,height:i,src:e.slice(13,13+h)};default:console.warn("BMP1 0x127 had unsupported bpp ".concat(f))}}else{if(294===r){for(var p=t.getUint16(11),m=new ArrayBuffer(a*i*4),S=new DataView(m),g=0;g<p/3;g++){var v=t.getUint8(13+g)<<24|t.getUint8(13+g+1)<<16|t.getUint8(13+g+2)<<8|255,x=4*g;S.setUint32(x,v)}return{globalIndex:t.getUint16(0),origFormat:r,width:a,height:i,src:m}}if(293===r){for(var _=t.getUint16(11),y=new ArrayBuffer(4*_),w=new DataView(y),b=0;b<_;b++){var V=t.getUint8(13+b),C=240&V|(240&V)>>>4,E=C<<24|C<<16|C<<8|(15&V|(15&V)<<4),D=4*b;w.setUint32(D,E)}return{globalIndex:t.getUint16(0),origFormat:r,width:a,height:i,src:y}}if(292===r){for(var F=t.getUint16(11),T=new ArrayBuffer(8*F),P=new DataView(T),R=0,L=0;L<F;L++){var M=t.getUint8(13+L),B=(240&M)>>>4;B|=240&M,P.setUint32(R,B<<24|B<<16|B<<8|255),R+=4;var k=15&M;k|=k<<4,P.setUint32(R,k<<24|k<<16|k<<8|255),R+=4}return{globalIndex:t.getUint16(0),origFormat:r,width:a,height:i,src:T}}}return console.warn("Could not parse BMP format ".concat(W(r))),{globalIndex:t.getUint16(0),origFormat:r,width:a,height:i,src:new ArrayBuffer(a*i*4)}}},{key:"replaceBMP",value:function(e,n,t,r){q(e.BMP1[n].raw,t,17,0,t.byteLength),e.PAL1[n].parsed=r;var a=new DataView(e.PAL1[n].raw).getUint16(0),i=e.PAL1[n].raw=new ArrayBuffer(4+4*r.colors.length),o=new DataView(i);o.setUint16(0,a),o.setUint16(2,r.colors.length);for(var s=4,l=0;l<r.colors.length;l++)o.setUint32(s,r.colors[l]),s+=4}},{key:"getByGlobalIndex",value:function(e,n,t){if(!e[n])return null;for(var r=[],a=0;a<e[n].length;a++){var i=e[n][a].parsed;if(!i)throw new Error("No parsed value for ".concat(n));if(i.hasOwnProperty("globalIndex"))i.globalIndex===t&&r.push(i);else{var o=i;if("OBJ1"===n)o=i.objects;for(var s=0;s<o.length;s++){var l=o[s];if(!l.hasOwnProperty("globalIndex"))throw new Error("globalIndex is not a property of the searched ".concat(n," array in getByGlobalIndex"));l.globalIndex===t&&r.push(l)}}}return r.length?1===r.length?r[0]:r:null}},{key:"getObjectsByType",value:function(e,n){for(var t=e.OBJ1[0].parsed.objects,r=[],a=0;a<t.length;a++)t[a].objType===n&&r.push(t[a]);return r}}]),e}();function f_(e){switch(e){case 8:return{order:[1,2,3,0,4,5,6,7],bias:[0,0,0,1,1,1,1,2]};case 7:return{order:[3,5,6,0,1,2,4],bias:[0,0,0,1,1,1,3]};case 6:return{order:[0,1,2,3,4,5],bias:[0,0,0,1,1,1]};case 5:return{order:[0,1,2,3,4],bias:[0,0,0,1,1]};case 4:return{order:[0,1,2,3],bias:[0,0,0,1]};case 3:return{order:[0,1,2],bias:[0,0,1]};case 2:return{order:[0,1],bias:[0,0]};case 0:return{order:[0],bias:[0]}}return{order:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],bias:[0,0,0,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,4,5,6,6,6]}}function h_(){return h_=O(k().mark((function e(n,t,r,a){var i,o,s,l,u,c,d,A,f,h,m,S,g,x,_,y,w,b,V,C,E,D,F,T,P,R;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.mainfsEventFile,o=(0,xe.Z)(i,2),s=o[0],l=o[1],u=_w(p.BOO,n),c=_w(p.KOOPA,n),d=c.length?c[0]:ww(n),A=_w(p.BOWSER,n),f=A.length?A[0]:ww(n),h=[],m=0;m<n.spaces.length;m++)n.spaces[m].star&&h.push(m);for(S=h.length?"show_next_star_spot":"show_next_star_no_op",g=f_(h.length),x=_w(p.TOAD,n),_=[],y=0;y<h.length;y++){for(w=n.spaces[h[y]],b=Number.MAX_VALUE,V=h[y],C=0;C<x.length;C++)E=x[C],D=n.spaces[E],(F=Ee(w.x,w.y,D.x,D.y))<b&&(b=F,V=E);_.push(V)}return T=Ra(n),e.next=16,Ca(n,t.bgDir,T);case 16:return P=e.sent,e.next=19,ja(n,a);case 19:return R=e.sent,e.abrupt("return","\n.org 0x800F65E0\n\n.definelabel CORE_800C597A,0x800C597A\n.definelabel CORE_800ED154,0x800ED154\n.definelabel CORE_800ED156,0x800ED156\n.definelabel CORE_800ED158,0x800ED158\n.definelabel CORE_800ED172,0x800ED172\n.definelabel CORE_800ED192,0x800ED192\n.definelabel CORE_800ED5C0,0x800ED5C0\n.definelabel CORE_800ED5C2,0x800ED5C2\n.definelabel CORE_800ED5CA,0x800ED5CA\n.definelabel CORE_800ED5CC,0x800ED5CC\n.definelabel CORE_800ED5D8,0x800ED5D8\n.definelabel CORE_800EE320,0x800EE320\n.definelabel CORE_800F2B7C,0x800F2B7C\n\n.definelabel STAR_COUNT,".concat(h.length,"\n.definelabel BOO_COUNT,").concat(u.length,'\n\nmain:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   A0, hi(overlaycalls)\n  addiu A0, A0, lo(overlaycalls)\n  lui   A1, hi(CORE_800C597A)\n  jal   ExecBoardScene\n   lh    A1, lo(CORE_800C597A)(A1)\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n  NOP\n  NOP\n\n__PP64_INTERNAL_GET_NEXT_TOAD_INDEX:\n  lui   V0, hi(CORE_800ED5CA)\n  addiu V0, V0, lo(CORE_800ED5CA)\n  lh    V1, 0(V0)\n  sll   V1, V1, 1\n  addu  V0, V0, V1\n  lh    V0, 2(V0) ; get next toad index?\n  sll   V0, V0, 1\n  lui   AT, hi(toad_space_indices)\n  addu  AT, AT, V0\n  jr    RA\n   lh    V0, lo(toad_space_indices)(AT)\n\nfunc_800F663C:\n  addiu SP, SP, -0x30\n  sw    RA, 0x28(SP)\n  sw    S5, 0x24(SP)\n  sw    S4, 0x20(SP)\n  sw    S3, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   S5, hi(CORE_800ED5C0)\n  addiu S5, S5, lo(CORE_800ED5C0)\n  addu  S1, R0, R0\n  lui   S3, hi(shuffle_bias)\n  addiu S3, S3, lo(shuffle_bias)\n  lui   S2, hi(shuffle_order)\n  addiu S2, S2, lo(shuffle_order)\n\nL800F6680:\n  ; rand1 = GetRandomByte() % STAR_COUNT;\n  jal\tGetRandomByte\n  nop\n  li   S4, STAR_COUNT\n  div  V0, S4\n  nop\n  mfhi S0\n  nop\n  andi  S0, S0, 0xff\n  nop\n\n  ; rand2 = GetRandomByte() % STAR_COUNT;\n  jal\tGetRandomByte\n  nop\n  li   S4, STAR_COUNT\n  div  V0, S4\n  nop\n  mfhi A0\n  nop\n  andi  A0, A0, 0xff\n  nop\n\n  beq   S0, A0, L800F6740\n   sll   V1, A0, 1\n  addu  A3, V1, S3\n  lh    V0, 0(A3)\n  slt   V0, S0, V0\n  bnel V0, R0, L800F6744\n   addiu S1, S1, 1\n  sll   A1, S0, 1\n  addu  A2, A1, S3\n  lh    V0, 0(A2)\n  slt   V0, A0, V0\n  bnel V0, R0, L800F6744\n   addiu S1, S1, 1\n  addu  A0, A1, S2\n  lh    A1, 0(A0)\n  addu  V1, V1, S2\n  lhu   V0, 0(V1)\n  sh    V0, 0(A0)\n  sh    A1, 0(V1)\n  lh    A1, 0(A2)\n  lhu   V0, 0(A3)\n  sh    V0, 0(A2)\n  sh    A1, 0(A3)\nL800F6740:\n  addiu S1, S1, 1\nL800F6744:\n  slti  V0, S1, 0x1e\n  bne  V0, R0, L800F6680\n   NOP\n  addu  S1, R0, R0\n  lui   A0, hi(shuffle_order)\n  addiu A0, A0, lo(shuffle_order)\n  sll   V0, S1, 1\nL800F6760:\n  addu  V1, V0, S5\n  addu  V0, V0, A0\n  lhu   V0, 0(V0)\n  sh    V0, 0xc(V1)\n  addiu S1, S1, 1\n  slti  V0, S1, STAR_COUNT\n  bne  V0, R0, L800F6760\n   sll   V0, S1, 1\n  lw    RA, 0x28(SP)\n  lw    S5, 0x24(SP)\n  lw    S4, 0x20(SP)\n  lw    S3, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x30\n\nfunc_800F67A4:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   V0, hi(CORE_800ED5CA)\n  lhu   V0, lo(CORE_800ED5CA)(V0)\n  addiu V0, V0, 1\n  lui   AT, hi(CORE_800ED5CA)\n  sh    V0, lo(CORE_800ED5CA)(AT)\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  slti  V0, V0, STAR_COUNT\n  bne  V0, R0, L800F6820\n   NOP\n  lui   S0, hi(CORE_800ED5D8)\n  lh    S0, lo(CORE_800ED5D8)(S0)\n  lui   AT, hi(CORE_800ED5CA)\n  sh    R0, lo(CORE_800ED5CA)(AT)\n  jal   SetBoardFeatureFlag\n   addiu    A0, R0, 68\n  jal   func_800F663C\n   NOP\n  lui   V1, hi(CORE_800ED5CC)\n  lh    V1, lo(CORE_800ED5CC)(V1)\n  bne   S0, V1, L800F6820\n   NOP\n  lui   V0, hi(CORE_800ED5D8)\n  lhu   V0, lo(CORE_800ED5D8)(V0)\n  lui   AT, hi(CORE_800ED5CC)\n  sh    V0, lo(CORE_800ED5CC)(AT)\n  lui   AT, hi(CORE_800ED5D8)\n  sh    V1, lo(CORE_800ED5D8)(AT)\nL800F6820:\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\n; Ensures star space shows a star, past stars are chance time\ndraw_star_space_state:\n  addiu SP, SP, -0x30\n  sw    RA, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S2, hi(CORE_800ED5C0)\n  addiu S2, S2, lo(CORE_800ED5C0)\n  addu  S1, R0, R0\n  lui   S4, hi(star_space_indices)\n  addiu S4, S4, lo(star_space_indices)\n  lui   S3, hi(data_mystery_40s_list)\n  addiu S3, S3, lo(data_mystery_40s_list)\n  sll   S0, S1, 1\nL800F686C:\n  addu  V0, S0, S4\n  lh    A0, 0(V0)\n  jal   SetSpaceType\n   addiu    A1, R0, 1\n  addu  S0, S0, S3\n  lh    A0, 0(S0)\n  jal   SetBoardFeatureFlag\n   addiu S1, S1, 1\n  slti  V0, S1, STAR_COUNT\n  bnel V0, R0, L800F686C\n   sll   S0, S1, 1\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 68\n  bne  V0, R0, L800F68AC\n   addiu    S0, R0, STAR_COUNT\n  lh    S0, 0xa(S2)\nL800F68AC:\n  blez  S0, L800F68EC\n   addu  S1, R0, R0\n  lui   S3, hi(star_space_indices)\n  addiu S3, S3, lo(star_space_indices)\n  sll   V0, S1, 1\nL800F68C0:\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  lh    A0, 0(V0)\n  jal   SetSpaceType\n   addiu    A1, R0, 6 ; Chance\n  addiu S1, S1, 1\n  slt   V0, S1, S0\n  bne  V0, R0, L800F68C0\n   sll   V0, S1, 1\nL800F68EC:\n  lh    V0, 0xa(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\n  lui   A0, hi(star_space_indices)\n  addu  A0, A0, V0\n  lh    A0, lo(star_space_indices)(A0)\n  jal   SetSpaceType\n   addiu    A1, R0, 5 ; Star\n  lh    V0, 0xa(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\n  lui   A0, hi(data_mystery_40s_list)\n  addu  A0, A0, V0\n  jal   ClearBoardFeatureFlag\n   lh    A0, lo(data_mystery_40s_list)(A0)\n  lw    RA, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x30\n\n__PP64_INTERNAL_STAR_SPACE:\n  addiu SP, SP, -0x28\n  sw    RA, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S1, hi(CORE_800ED5C0)\n  addiu S1, S1, lo(CORE_800ED5C0)\n  addu  S0, R0, R0\n  lui   A1, hi(star_space_indices)\n  addiu A1, A1, lo(star_space_indices)\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0x10\n  lui   A2, hi(data_mystery_40s_list)\n  addiu A2, A2, lo(data_mystery_40s_list)\n  sll   V1, S0, 1\nL800F6990:\n  addu  V0, V1, A1\n  lh    V0, 0(V0)\n  bnel  A0, V0, L800F6A14\n   addiu S0, S0, 1\n  lh    V0, 0xa(S1)\n  sll   V0, V0, 1\n  addu  V0, V0, S1\n  lh    V0, 0xc(V0)\n  bne   S0, V0, L800F69C8\n   addu  V0, V1, A2\n  lhu   V0, 0(V0)\n  sh    V0, 0x1a(S1)\n  j     L800F6A24\n   addiu    V0, R0, 1\nL800F69C8:\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 68\n  bne  V0, R0, L800F69DC\n   addiu    A0, R0, STAR_COUNT\n  lh    A0, 0xa(S1)\nL800F69DC:\n  blez  A0, L800F6A20\n   addu  V1, R0, R0\n  sll   V0, V1, 1\nL800F69E8:\n  addu  V0, V0, S1\n  lh    V0, 0xc(V0)\n  bne   S0, V0, L800F6A00\n   addiu V1, V1, 1\n  j     L800F6A24\n   addiu    V0, R0, 2\nL800F6A00:\n  slt   V0, V1, A0\n  bne  V0, R0, L800F69E8\n   sll   V0, V1, 1\n  j     L800F6A24\n   addu  V0, R0, R0\nL800F6A14:\n  slti  V0, S0, STAR_COUNT\n  bne  V0, R0, L800F6990\n   sll   V1, S0, 1\nL800F6A20:\n  addu  V0, R0, R0\nL800F6A24:\n  lw    RA, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nshow_next_star_spot_process:\n  addiu SP, SP, -0x50\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  sdc1  F30, 0x48(SP)\n  sdc1  F28, 0x40(SP)\n  sdc1  F26, 0x38(SP)\n  sdc1  F24, 0x30(SP)\n  sdc1  F22, 0x28(SP)\n  jal   0x800633A8\n   sdc1  F20, 0x20(SP)\n  lw    S0, 0x8c(V0)\n  jal   PlaySound\n   addiu    A0, R0, 109\n  addiu    A0, R0, 64\n  jal   0x8003DBE0\n   addu  A1, R0, R0\n  addu  S1, V0, R0\n  lhu   V0, 0xa(S1)\n  ori   V0, V0, 4\n  sh    V0, 0xa(S1)\n  jal   0x8004CDCC\n   addu  A0, S1, R0\n  addiu A0, S1, 0xc\n  jal   0x800A0D50 ; posmodel\n   addiu A1, S0, 4\n  lui    AT, 0x43FA ; 500.000000\n  mtc1  AT, F0\n  NOP\n  swc1  F0, 0x30(S1)\n  addu  A0, S1, R0\n  jal   0x80042728\n   addu  A1, R0, R0\n  addu  S2, V0, R0\n  mtc1  R0, F20\n  addu  S0, R0, R0\n  lui   AT, 0x3ECC\n  ori   AT, AT, 0xCCCD\n  mtc1  AT, F22\nL800F6AD8:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  NOP\n  jal   0x800A0D00\n   addiu A0, S1, 0x24\n  jal   SleepVProcess\n   ADD.S F20, F20, F22\n  addiu S0, S0, 1\n  slti  V0, S0, 6\n  bne  V0, R0, L800F6AD8\n   NOP\n  addu  S0, R0, R0\n  lui   AT, 0x3ECC\n  ori   AT, AT, 0xCCCD\n  mtc1  AT, F22\nL800F6B18:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  NOP\n  jal   0x800A0D00\n   addiu A0, S1, 0x24\n  jal   SleepVProcess\n   SUB.S F20, F20, F22\n  addiu S0, S0, 1\n  slti  V0, S0, 3\n  bne  V0, R0, L800F6B18\n   NOP\n  jal   SleepProcess\n   addiu    A0, R0, 30\n  jal   PlaySound\n   addiu    A0, R0, 68\n  mtc1  R0, F22\n  lui   AT, 0x41A0 ; 20.000000\n  mtc1  AT, F30\n  lui   AT, 0x3CA3\n  ori AT, AT, 0xd70a\n  mtc1  AT, F28\n  mtc1  R0, F26\n  lui   AT, 0x40C0 ; 6.000000\n  mtc1  AT, F24\nL800F6B7C:\n  lw    V0, 0x3c(S1)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(CORE_800F2B7C)\n  lw    V0, lo(CORE_800F2B7C)(V0)  ; gets a pointer\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  NOP\n  jal   0x800A40D0\n   addiu A0, A0, 0x7c\n  SUB.S F20, F20, F28\n  C.LT.S F20, F26\n  NOP\n  NOP\n  bc1t  L800F6BF8\n   ADD.S F22, F22, F30\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  NOP\n  jal   0x800A0D00\n   addiu A0, S1, 0x24\n  lwc1  F0, 0x30(S1)\n  SUB.S F0, F0, F24\n  jal   SleepVProcess\n   swc1  F0, 0x30(S1)\n  j     L800F6B7C\n   NOP\nL800F6BF8:\n  jal   0x800427D4\n   addu  A0, S2, R0\n  jal   SleepProcess\n   addiu    A0, R0, 30\n  jal   0x8003E694\n   addu  A0, S1, R0\n  jal   EndProcess\n   addu  A0, R0, R0\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  ldc1  F30, 0x48(SP)\n  ldc1  F28, 0x40(SP)\n  ldc1  F26, 0x38(SP)\n  ldc1  F24, 0x30(SP)\n  ldc1  F22, 0x28(SP)\n  ldc1  F20, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x50\n\nshow_next_star_spot_inner:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  addu  S0, A0, R0\n  lw    V0, 0(S0)\n  lui   AT, 0x41A0 ; 20.000000\n  mtc1  AT, F0\n  NOP\n  swc1  F0, 0x34(V0)\n  lui   AT, 0xC040 ; -3.000000\n  mtc1  AT, F0\n  NOP\n  swc1  F0, 0x38(V0)\n  lw    A0, 0(S0)\n  addu  A1, R0, R0\n  jal   0x8003E81C\n   addu  A2, R0, R0\n  jal   SleepProcess\n   addiu    A0, R0, 3\nL800F6C94:\n  lw    A0, 0(S0)\n  jal   0x8003E940\n   NOP\n  andi  V0, V0, 0xffff\n  bne  V0, R0, L800F6CBC\n   addiu    A1, R0, -1\n  jal   SleepVProcess\n   NOP\n  j     L800F6C94\n   NOP\nL800F6CBC:\n  lw    A0, 0(S0)\n  jal   0x8003E81C\n   addiu    A2, R0, 2\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nshow_next_star_spot:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   S2, hi(CORE_800ED5C0)\n  addiu S2, S2, lo(CORE_800ED5C0)\n  jal   0x80060128\n   addiu    A0, R0, 43\n  lui   A0, hi(data_star_related_800F9920)\n  jal   0x80048224\n   addiu A0, A0, lo(data_star_related_800F9920)\n  addu  S0, V0, R0\n  addiu    A0, R0, 2\n  jal   0x80072644\n   addiu    A1, R0, 16\nL800F6D18:\n  jal   0x80072718\n   NOP\n  beq  V0, R0, L800F6D38\n   NOP\n  jal   SleepVProcess\n   NOP\n  j     L800F6D18\n   NOP\nL800F6D38:\n  jal   0x8004A520\n   NOP\n  lui   AT, 0x4040  ; 3.000000\n  mtc1  AT, F12\n  jal   0x8004B5C4\n   NOP\n  jal   show_next_star_spot_inner\n   addu  A0, S0, R0\n  lh    V0, 0xa(S2)\n  bne  V0, R0, L800F6D78\n   addiu    A1, R0, 1258\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 68\n  bnel V0, R0, L800F6D78\n   addiu    A1, R0, 1258 ; "Let me show you where to find the next Star."\n  addiu    A1, R0, 1256 ; "Let me show you where to find the first Star."\nL800F6D78:\n  lh    A0, 8(S0)\n  addiu    A2, R0, -1\n  jal   LoadStringIntoWindow\n   addiu    A3, R0, -1\n  lh    A0, 8(S0)\n  jal   0x80071C8C\n   addiu    A1, R0, 1\n  jal   PlaySound\n   addiu    A0, R0, 1125\n  lh    A0, 8(S0)\n  jal   WaitForTextConfirmation\n   NOP\n  lh    A0, 8(S0)\n  jal   0x80071E80\n   addiu    A1, R0, 1\n  lh    A0, 8(S0)\n  jal   0x8006EB40\n   NOP\n  lh    V0, 0xa(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\n  lui   A0, hi(toad_space_indices)\n  addu  A0, A0, V0\n  jal   GetSpaceData\n   lh    A0, lo(toad_space_indices)(A0)\n  addu  S1, V0, R0\n  jal   0x8004B5DC\n   addiu A0, S1, 4\n  lui    AT, 0x40A0 ; 5.000000\n  mtc1  AT, F12\n  jal   0x8004B838\n   NOP\n  jal   SleepProcess\n   addiu    A0, R0, 5\nL800F6E08:\n  jal   0x8004B850\n   NOP\n  beq  V0, R0, L800F6E28\n   NOP\n  jal   SleepVProcess\n   NOP\n  j     L800F6E08\n   NOP\nL800F6E28:\n  jal   SleepProcess\n   addiu    A0, R0, 5\n  lui   A0, hi(show_next_star_spot_process)\n  addiu A0, A0, lo(show_next_star_spot_process)\n  addiu    A1, R0, 18432\n  addu  A2, R0, R0\n  jal   InitProcess\n   addu  A3, R0, R0\n  sw    S1, 0x8c(V0)\n  jal   SleepProcess\n   addiu    A0, R0, 30\n  lh    V0, 0xa(S2)\n  bne  V0, R0, L800F6E74\n   addiu    A1, R0, 1259\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 68\n  bnel V0, R0, L800F6E74\n   addiu    A1, R0, 1259 ; "This is the star spot. Get the star by giving Toad 20 coins"\n  addiu    A1, R0, 1257 ; same?: "This is the star spot. Get the star by giving Toad 20 coins"\nL800F6E74:\n  lh    A0, 8(S0)\n  addiu    A2, R0, -1\n  jal   LoadStringIntoWindow\n   addiu    A3, R0, -1\n  lh    A0, 8(S0)\n  jal   0x80071C8C\n   addiu    A1, R0, 1\n  lh    A0, 8(S0)\n  jal   WaitForTextConfirmation\n   NOP\n  lh    A0, 8(S0)\n  jal   0x80071E80\n   addiu    A1, R0, 1\n  jal   0x800601D4\n   addiu    A0, R0, 90\n  jal   SleepProcess\n   addiu    A0, R0, 30\n  addiu    A0, R0, 2\n  jal   0x800726AC\n   addiu    A1, R0, 16\n  jal   SleepProcess\n   addiu    A0, R0, 17\n  jal   0x8004847C\n   addu  A0, S0, R0\n  jal   0x80056AF4\n   NOP\n  jal   0x8005DFB8\n   addiu    A0, R0, 1\n  jal   0x8005E3A8\n   NOP\n  jal   SleepVProcess\n   NOP\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\n; This custom alternative is the minimum necessary to skip Toad\'s star showing.\nshow_next_star_no_op:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n\n  ; Causes fade back in (star shaped fade in)\n  addiu    A0, R0, 2\n  jal   0x80072644\n  addiu    A1, R0, 16\n\n  ; One or more of these may be unnecessary...\n  jal   0x800601D4\n  addiu    A0, R0, 90\n  jal   0x80056AF4\n  NOP\n  jal   0x8005DFB8\n  addiu    A0, R0, 1\n  jal   0x8005E3A8\n  NOP\n\n  jal SleepVProcess\n  nop\n\n  lw    RA, 0x10(SP)\n  jr    RA\n  addiu SP, SP, 0x18\n\noverlaycall0:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   AT, hi(CORE_800ED5C2)\n  sh    R0, lo(CORE_800ED5C2)(AT)\n  addiu    A0, R0, 10 ; max_objects\n  jal   InitObjectSystem\n   addu  A1, R0, R0 ; max_processes\n  addiu    A0, R0, 53\n  addu  A1, R0, R0\n  jal   0x8005E044\n   addiu    A2, R0, 146\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\noverlaycall1:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  addiu    A0, R0, 10\n  jal   InitObjectSystem\n   addu  A1, R0, R0\n; Set players at starting chain\n  addu  A0, R0, R0\n  addu  A1, R0, R0\n  jal   SetPlayerOntoChain\n   addu  A2, R0, R0\n  addiu    A0, R0, 1\n  addu  A1, R0, R0\n  jal   SetPlayerOntoChain\n   addu  A2, R0, R0\n  addiu    A0, R0, 2\n  addu  A1, R0, R0\n  jal   SetPlayerOntoChain\n   addu  A2, R0, R0\n  addiu    A0, R0, 3\n  addu  A1, R0, R0\n  jal   SetPlayerOntoChain\n   addu  A2, R0, R0\n  lui   V1, hi(CORE_800ED5C0)\n  lh    V1, lo(CORE_800ED5C0)(V1)\n  beq  V1, R0, L800F6FB8\n   addiu    V0, R0, 1\n  beq   V1, V0, L800F6FD8\n   NOP\n  j     L800F6FEC\n   NOP\nL800F6FB8:\n  jal   SetBoardFeatureFlag\n   addiu    A0, R0, 0x46\n  jal   SetBoardFeatureFlag\n   addiu    A0, R0, 0x47\n  jal   SetBoardFeatureFlag\n   addiu    A0, R0, 0x49\n  j     L800F6FE4\n   addiu    A0, R0, 0x4B\nL800F6FD8:\n  jal   SetBoardFeatureFlag\n   addiu    A0, R0, 0x47\n  addiu    A0, R0, 0x49\nL800F6FE4:\n  jal   SetBoardFeatureFlag\n   NOP\nL800F6FEC:\n  jal   SetBoardFeatureFlag\n   addiu    A0, R0, 0x43\n  jal   func_800F663C\n   NOP\n  ; Clear board-specific persistent state values\n  lui   V0, hi(CORE_800ED154)\n  addiu V0, V0, lo(CORE_800ED154)\n  sh    R0, 0(V0)\n  sh    R0, 2(V0)\n  sh    R0, 4(V0)\n  jal   0x8005DFB8\n   addiu    A0, R0, 1\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\n; called from multiple places\nsetup_routine:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  addiu    A0, R0, 80\n  jal   InitObjectSystem\n   addiu    A1, R0, 40\n  jal   0x80060088\n   addu  S1, R0, R0\n  jal   0x80023448\n   addiu    A0, R0, 1\n  addu  A0, R0, R0\n  addiu    A1, R0, 120\n  addiu    A2, R0, 120\n  jal   0x800234B8\n   addiu    A3, R0, 120\n  addiu    A0, R0, 1\n  addiu    A1, R0, 64\n  addiu    A2, R0, 64\n  jal   0x800234B8\n   addiu    A3, R0, 96\n  lui   A1, 0xc2c8 ; -100.0\n  lui   A2, 0x42c8 ; 100.0\n  lui   A3, 0x4396 ; 300.0\n  jal   0x80023504\n   addiu    A0, R0, 1\n\n  JAL   __PP64_INTERNAL_ADDITIONAL_BG_CHOICE\n   NOP\n  move  A0, V0 ; Determined by user-customizable hook\n  addiu  A1, R0, ').concat(t.boardDefFile,"\n  addiu  A2, R0, ").concat(t.pauseBgDir,"\n  jal   0x80056A08 ; setup board?\n   addu  A3, R0, R0\n\n  jal   0x80052E84 ; reset animations for characters?\n   addu  A0, R0, R0\n  jal   0x80052E84\n   addiu    A0, R0, 1\n  jal   0x80052E84\n   addiu    A0, R0, 2\n  jal   0x80052E84\n   addiu    A0, R0, 3\nL800F70C0:\n  jal   GetPlayerStruct\n   addu  A0, S1, R0\n  addu  S0, V0, R0\n  lw    A0, 0x20(S0)\n  jal   0x8003E174\n   addiu S1, S1, 1\n  lw    V1, 0x20(S0)\n  lhu   V0, 0xa(V1)\n  ori   V0, V0, 2\n  sh    V0, 0xa(V1)\n  slti  V0, S1, 4\n  bne  V0, R0, L800F70C0\n   NOP\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 78\n  beq  V0, R0, L800F7114\n   NOP\n  jal   ClearBoardFeatureFlag\n   addiu    A0, R0, 78\n  jal   func_800F67A4\n   NOP\nL800F7114:\n.if STAR_COUNT\n  jal   draw_star_space_state\n   NOP\n  jal   draw_toads_outer\n   NOP\n.endif\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 14\n  bne  V0, R0, L800F714C\n   NOP\n  jal   koopa_draw_outer\n   NOP\nL800F714C:\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 15\n  bne  V0, R0, L800F7164\n   NOP\n.if BOO_COUNT\n  jal   boo_draw_outer\n.endif\n   NOP\nL800F7164:\n  jal   IsBoardFeatureFlagSet\n   addiu    A0, R0, 13\n  bne  V0, R0, L800F717C\n   NOP\n  jal   bowser_draw_outer\n   NOP\nL800F717C:\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\n").concat(P,"\n\n; A function that returns the audio index, to let custom events call to get the value.\n").concat(R,"\n\noverlaycall2:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n\n  jal __PP64_INTERNAL_GET_BOARD_AUDIO_INDEX\n   nop\n\n  ; Start playing board audio.\n  jal   0x80060128\n   move A0, V0\n\n  jal   0x8001D240\n   addiu A0, R0, 2\n  jal   setup_routine\n   NOP\n  JAL hydrate_events\n   NOP\n\n; TODO: Support the disabled koopa, boo, bowser setting with split event tables\n;  jal   IsBoardFeatureFlagSet\n;   addiu A0, R0, 14\n;  bne  V0, R0, L800F71D8\n;   NOP\n;  lui   A0, hi(koopa_event_table)\n;  jal   EventTableHydrate\n;   addiu A0, A0, lo(koopa_event_table)\n;L800F71D8:\n;  jal   IsBoardFeatureFlagSet\n;   addiu A0, R0, 15\n;  bne  V0, R0, L800F71F4\n;   NOP\n;  lui   A0, hi(boo_event_table)\n;  jal   EventTableHydrate\n;   addiu A0, A0, lo(boo_event_table)\n;L800F71F4:\n;  jal   IsBoardFeatureFlagSet\n;   addiu A0, R0, 13\n;  bne  V0, R0, L800F7210\n;   NOP\n;  lui   A0, hi(bowser_event_table)\n;  jal   EventTableHydrate\n;   addiu A0, A0, lo(bowser_event_table)\nL800F7210:\n  jal   0x800584F0\n   addu  A0, R0, R0\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\noverlaycall3:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   0x8001D240\n   addiu A0, R0, 1\n  jal   setup_routine\n   NOP\n  jal   0x800584F0\n   addiu A0, R0, 1\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nbowser_draw_inner:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   V0, hi(bss_bowser_model)\n  lw    V0, lo(bss_bowser_model)(V0)\n  bne  V0, R0, L800F72BC\n   addiu A0, R0, 59 ; bowser model model_info index\n  jal   0x8003DBE0\n   addu  A1, R0, R0\n  addu  S0, V0, R0\n  jal   0x8003E174\n   addu  A0, S0, R0\n  lui   AT, hi(bss_bowser_model)\n  sw    S0, lo(bss_bowser_model)(AT)\n  lhu   V0, 0xa(S0)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S0)\n  jal   GetSpaceData\n   addiu A0, R0, ").concat(f,"\n  addiu A0, S0, 0xc\n  jal   0x800A0D50 ; posmodel\n   addiu A1, V0, 4\n  addiu    A0, R0, 7\n  addu  A1, S0, R0\n  addiu    A2, R0, -2\n  jal   0x8003C314\n   addu  A3, R0, R0\nL800F72BC:\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nbowser_draw_outer:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   AT, hi(bss_bowser_model)\n  jal   bowser_draw_inner\n   sw    R0, lo(bss_bowser_model)(AT)\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nkoopa_draw_inner:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   V0, hi(bss_koopa_model)\n  lw    V0, lo(bss_koopa_model)(V0)\n  bne   V0, R0, L800F7358\n   addiu A0, R0, 57 ; koopa model model_info index\n  jal   0x8003DBE0 ; loads model\n   addu  A1, R0, R0\n  addu  S0, V0, R0\n  jal   0x8003E174\n   addu  A0, S0, R0\n  lui   AT, hi(bss_koopa_model)\n  sw    S0, lo(bss_koopa_model)(AT)\n  lhu   V0, 0xa(S0)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S0)\n  jal   GetSpaceData\n   addiu A0, R0, ").concat(d,"\n  addiu A0, S0, 0xc\n  jal   0x800A0D50 ; posmodel\n   addiu A1, V0, 4\n  addiu A0, R0, 9\n  addu  A1, S0, R0\n  addiu A2, R0, -1\n  jal   0x8003C314\n   addiu A3, R0, -3\nL800F7358:\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nkoopa_draw_outer:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   AT, hi(bss_koopa_model)\n  jal   koopa_draw_inner\n   sw    R0, lo(bss_koopa_model)(AT)\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\ndraw_toads_inner:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  addu  S0, A0, R0\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0xe\n  lui   V0, hi(bss_toad_instances)\n  addu  V0, V0, A0\n  lw    V0, lo(bss_toad_instances)(V0)\n  bne  V0, R0, L800F7474\n   NOP\n  lui   V0, hi(bss_toad_model)\n  lw    V0, lo(bss_toad_model)(V0)\n  bne  V0, R0, L800F73F4\n   NOP\n  addiu    A0, R0, 58 ; Toads model_info index\n  jal   0x8003DBE0\n   addu  A1, R0, R0\n  addu  S2, V0, R0\n  jal   0x8003E174\n   addu  A0, S2, R0\n  lui   AT, hi(bss_toad_model)\n  sw    S2, lo(bss_toad_model)(AT)\n  j     L800F7408\n   sll   S0, S0, 0x10\nL800F73F4:\n  lui   A0, hi(bss_toad_model)\n  lw    A0, lo(bss_toad_model)(A0)\n  jal   0x8003E320\n   sll   S0, S0, 0x10\n  addu  S2, V0, R0\nL800F7408:\n  sra   S0, S0, 0x10\n  sll   S1, S0, 2\n  lui   AT, hi(bss_toad_instances)\n  addu  AT, AT, S1\n  sw    S2, lo(bss_toad_instances)(AT)\n  lhu   V0, 0xa(S2)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S2)\n  jal   0x8004CDCC\n   addu  A0, S2, R0\n  sll   S0, S0, 1\n  lui   A0, hi(toad_space_indices_repeat)\n  addu  A0, A0, S0\n  jal   GetSpaceData\n   lh    A0, lo(toad_space_indices_repeat)(A0)\n  addiu A0, S2, 0xc\n  jal   0x800A0D50 ; posmodel\n   addiu A1, V0, 4\n  addiu    A0, R0, 6\n  lui   A2, hi(RO_800F9948)\n  addu  A2, A2, S1\n  lh    A2, lo(RO_800F9948)(A2)\n  lui   A3, hi(RO_800F994A)\n  addu  A3, A3, S1\n  lh    A3, lo(RO_800F994A)(A3)\n  jal   0x8003C314\n   addu  A1, S2, R0\nL800F7474:\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\ndraw_toads_outer:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   AT, hi(bss_toad_model)\n  sw    R0, lo(bss_toad_model)(AT)\n  addu  S0, R0, R0\n  lui   S2, hi(bss_toad_instances)\n  addiu S2, S2, lo(bss_toad_instances)\n  lui   S1, hi(data_mystery_40s_list_2)\n  addiu S1, S1, lo(data_mystery_40s_list_2)\n  sll   V0, S0, 2\nL800F74C0:\n  addu  V0, V0, S2\n  sw    R0, 0(V0)\n  sll   V0, S0, 1\n  addu  V0, V0, S1\n  jal   IsBoardFeatureFlagSet\n   lh    A0, 0(V0)\n  bnel V0, R0, L800F74F0\n   addiu S0, S0, 1\n  sll   A0, S0, 0x10\n  jal   draw_toads_inner\n   sra   A0, A0, 0x10\n  addiu S0, S0, 1\nL800F74F0:\n  slti  V0, S0, STAR_COUNT\n  bne  V0, R0, L800F74C0\n   sll   V0, S0, 2\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\n.if BOO_COUNT\nboo_draw_inner:\n  ; A0 = index of boo to draw\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  addu  S0, A0, R0\n  ; V0 = bss_boo_instances[A0]\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0xe\n  lui   V0, hi(bss_boo_instances)\n  addu  V0, V0, A0\n  lw    V0, lo(bss_boo_instances)(V0)\n  ; If we have a non-zero in bss_boo_instances[A0], exit.\n  bne  V0, R0, boo_draw_inner_exit\n   NOP\n  ; V0 = bss_boo_model\n  lui   V0, hi(bss_boo_model)\n  lw    V0, lo(bss_boo_model)(V0)\n  ; If we have already loaded the boo model, jump ahead\n  bne  V0, R0, L800F7714\n   addiu    A0, R0, 106 ; Boo model_info index\n  jal   0x8003DBE0\n   addu  A1, R0, R0\n  addu  S1, V0, R0\n  jal   0x8003E174\n   addu  A0, S1, R0\n  lui   AT, hi(bss_boo_model)\n  sw    S1, lo(bss_boo_model)(AT)\n  j     L800F7728\n   sll   S0, S0, 0x10\nL800F7714:\n  ; A0 = bss_boo_model\n  lui   A0, hi(bss_boo_model)\n  lw    A0, lo(bss_boo_model)(A0)\n  jal   0x8003E320\n   sll   S0, S0, 0x10\n  addu  S1, V0, R0\nL800F7728:\n  sra   S0, S0, 0x10\n  sll   V0, S0, 2\n  ; bss_boo_instances[original index] = S1\n  lui   AT, hi(bss_boo_instances)\n  addu  AT, AT, V0\n  sw    S1, lo(bss_boo_instances)(AT)\n  lhu   V0, 0xa(S1)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S1)\n  addiu A0, S1, 0x24\n  lui A1, 0x3f19\n  ori A1, A1, 0x999a ; 0.6\n  addu  A2, A1, R0 ; 0.6\n  jal   0x800A0D00\n   addu  A3, A1, R0 ; 0.6\n  lui   AT, 0x42C8 ; 100.000000\n  mtc1  AT, F0\n  NOP\n  swc1  F0, 0x30(S1)\n  ; Get the space data for boo_space_indices[original index]\n  sll   S0, S0, 1\n  lui   A0, hi(boo_space_indices)\n  addu  A0, A0, S0\n  jal   GetSpaceData\n   lh    A0, lo(boo_space_indices)(A0)\n  addiu A0, S1, 0xc\n  jal   0x800A0D50 ; posmodel\n   addiu A1, V0, 4\n  addiu    A0, R0, 8\n  addu  A1, S1, R0\n  addu  A2, R0, R0\n  jal   0x8003C314\n   addu  A3, R0, R0\nboo_draw_inner_exit:\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nboo_draw_outer:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  ; bss_boo_model = 0\n  lui   AT, hi(bss_boo_model)\n  sw    R0, lo(bss_boo_model)(AT)\n  addu  S0, R0, R0\n  sll   A0, S0, 0x10\nboo_draw_outer_loop:\n  jal   boo_draw_inner\n   sra   A0, A0, 0x10\n  addiu S0, S0, 1\n  slti  V0, S0, BOO_COUNT\n  bne  V0, R0, boo_draw_outer_loop\n   sll   A0, S0, 0x10\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n.endif ; BOO_COUNT\n\noverlaycall4:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   InitCameras\n   addiu    A0, R0, 2 ; camera count\n  lui   A1, hi(data_screen_dimensions)\n  addiu A1, A1, lo(data_screen_dimensions)\n  jal   0x8001D4D4\n   addiu    A0, R0, 1\n  jal   setup_routine\n   NOP\n  jal   0x800584F0\n   addiu    A0, R0, 2\n  lui   A0, hi(").concat(S,")\n  addiu A0, A0, lo(").concat(S,")\n  addiu    A1, R0, 4101\n  addu  A2, R0, R0\n  jal   InitProcess\n   addu  A3, R0, R0\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nhydrate_events:\n  ADDIU SP SP 0xFFE8\n  SW RA, 0x0010(SP)\n\n  // Call for the MainFS to read in the ASM blob.\n  LUI A0 ").concat(s,"\n  JAL ").concat(me(v.MP1_USA,"ReadMainFS"),"\n  ADDIU A0 A0 ").concat(l,"\n\n  // Now, V0 has the location that the MainFSRead put the blob... it isn't\n  // where we want it, it is in the heap somewhere, so we will move it.\n\n  // This is a pretty simple copy loop\n  // T4 = Copy of V0, Current source RAM location\n  // T0 = Current dest RAM location\n  // T1 = Size of buffer remaining to copy\n  // T2 = Temp word register to do the copy\n  ADDU T4 V0 R0 // Copy V0 -> T4\n  LW T0 0x4(T4) // LW T0, 0x4(T4) [RAM dest]\n  LW T1 0x8(T4) // LW T1, 0x8(T4) [Buffer size]\nhydrate_events_loop_start:\n  LW T2 0(T4)\n  SW T2 0(T0)\n  ADDIU T4 T4 4\n  ADDIU T0 T0 4\n  ADDIU T1 T1 -4\n  BGTZ T1 hydrate_events_loop_start\n  NOP\n\n  // Now we can hydrate the table.\n  // T9 = V0 copy\n  // T4 = Dest buffer addr + 0x10, where the table really starts\n  ADDU T9 V0 R0 // Copy V0 -> T9\n  LW T4 4(T9) // LW T4, 0x4(T9) [RAM dest]\n  JAL ").concat(me(v.MP1_USA,"EventTableHydrate"),'\n  ADDIU A0 T4 16 // ADDIU A0, T4, 16\n\n  // Well, we copied the buffer... now we should "free" it with this magic JAL...\n  // Free our T9 reference, which theoretically could be corrupted, but in practice not.\n  JAL ').concat(me(v.MP1_USA,"FreeMainFS"),"\n  ADDU A0 T9 R0\n\n  LW RA 0x10(SP)\n  JR RA\n  ADDIU SP SP 0x18\n.align 16\n\n; 800F9890\nrodata:\noverlaycalls:\n.word 0x00000000, overlaycall0\n.word 0x00010000, overlaycall1\n.word 0x00020000, overlaycall2\n.word 0x00030000, overlaycall3\n.word 0x00040000, overlaycall4\n.word 0xFFFF0000, 0\n\ndata_screen_dimensions:\n.word 0x00000000\n.word 0x00000000\n.word 0x43A00000 ; 320\n.word 0x43700000 ; 240\n\nshuffle_order:\n.halfword ").concat(g.order.join(","),"\n\n.align 4\nshuffle_bias:\n.halfword ").concat(g.bias.join(","),"\n\n.align 4\ndata_mystery_40s_list:\n.halfword 0x46, 0x47, 0x48, 0x49, 0x4A, 0x4B, 0x4C\n\n.align 4\nstar_space_indices:\n.halfword ").concat(h.join(",")||0,"\n\n.align 4\ntoad_space_indices:\n.halfword ").concat(_.join(",")||0,"\n\n.align 4\ndata_star_related_800F9920:\n.word 0x00000001, 0x00070003\n\n.align 4\ntoad_space_indices_repeat:\n.halfword ").concat(_.join(",")||0,"\n\n.align 4\ndata_mystery_40s_list_2:\n.halfword 0x46, 0x47, 0x48, 0x49, 0x4A, 0x4B, 0x4C, 0\n\nRO_800F9948:\n.halfword 6\nRO_800F994A:\n.halfword 0\n.word 0x0000FFFD, 0x0000FFF8, 0xFFFD0000, 0xFFFE0000, 0xFFFE0000, 0xFFFD0000\n\n.if BOO_COUNT\nboo_space_indices:\n.halfword ").concat(u.join(","),"\n.endif\n\n.align 16\n\nbss:\nbss_bowser_model: .word 0\n\nbss_koopa_model: .word 0\n\nbss_toad_model: .word 0\nbss_toad_instances: .word ").concat(_.map((function(){return 0})).join(",")||0,"\n\n.if BOO_COUNT\nbss_boo_model: .word 0\nbss_boo_instances: .word ").concat(u.map((function(){return 0})).join(","),"\n.endif\n\n.align 16\n\n"));case 21:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}var p_={id:"CHANCETIME",name:"Chance Time",activationType:y.LANDON,executionType:w.DIRECT,supportedGames:[v.MP1_USA],parse:function(e,n){return!!J([e.buffer,n.offset,108],"18F44B4AA1F4AAAA839C100E3B0FD863")},write:function(e,n,t,r){return"\n      ADDIU SP SP 0xFFE0\n      SW RA 0x18(SP)\n      SW S1 0x14(SP)\n      SW S0 0x10(SP)\n      ADDU S1 R0 R0\n    loop:\n      JAL GetPlayerStruct\n      ADDU A0 S1 R0\n      JAL GetCurrentPlayerIndex\n      ADDU S0 V0 R0\n      SLL V0 V0 0x10\n      SRA V0 V0 0x10\n      XOR V0 S1 V0\n      SLTU V0 R0 V0\n      SB V0 0(S0)\n      ADDIU S1 S1 1\n      SLTI V0 S1 4\n      BNE V0 R0 loop\n      ADDIU A0 R0 1\n      ADDU A1 R0 R0\n      ADDIU A2 R0 5\n      JAL 0x800587BC\n      ADDIU A3 R0 1\n      LW RA 0x18(SP)\n      LW S1 0x14(SP)\n      LW S0 0x10(SP)\n      JR RA\n      ADDIU SP SP 0x20\n    "}};gx(p_);var m_={id:"STARCHANCE",name:"Chance Time from old star space",activationType:y.LANDON,executionType:w.DIRECT,fakeEvent:!0,supportedGames:[v.MP1_USA],parse:function(e,n){return!!J([e.buffer,n.offset,140],"7E32BF9C855085A03CF3A8D208A6AB94")},write:function(e,n,t,r){return"\n      addiu SP, SP, -0x20\n      sw    RA, 0x18(SP)\n      sw    S1, 0x14(SP)\n      jal   GetCurrentSpaceIndex\n      sw    S0, 0x10(SP)\n      sll   V0, V0, 0x10\n      jal   __PP64_INTERNAL_STAR_SPACE\n      sra   A0, V0, 0x10\n      sll   V0, V0, 0x10\n      sra   V0, V0, 0x10\n      addiu  V1, R0, 2\n      bne   V0, V1, L800F9784\n      addu  S1, R0, R0\n    L800F9740:\n      jal   GetPlayerStruct\n      addu  A0, S1, R0\n      jal   GetCurrentPlayerIndex\n      addu  S0, V0, R0\n      sll   V0, V0, 0x10\n      sra   V0, V0, 0x10\n      xor   V0, S1, V0\n      sltu  V0, R0, V0\n      sb    V0, 0(S0)\n      addiu S1, S1, 1\n      slti  V0, S1, 4 ; total players\n      bne  V0, R0, L800F9740\n      addiu    A0, R0, 1\n      addu  A1, R0, R0\n      addiu    A2, R0, 5\n      jal   0x800587BC\n      addiu    A3, R0, 1\n    L800F9784:\n      lw    RA, 0x18(SP)\n      lw    S1, 0x14(SP)\n      lw    S0, 0x10(SP)\n      jr    RA\n      addiu SP, SP, 0x20\n    "}};gx(m_);var S_=[];var g_=["","","Peaceful Mushroom Village","Traveling the Warp Pipe","Mushroom Bank","Option House Theme","Mushroom Shop Theme","Mini-Game House Theme","DK's Jungle Adventure Theme","Peach's Birthday Cake Theme","Yoshi's Tropical Island Theme","Wario's Battle Canyon Theme","Luigi's Engine Room Theme","Mario's Rainbow Castle Theme","Magma Mountain Theme","Eternal Star Theme","Outcome of Adventure","Adventure Begins","Bowser Meeting","Last 5 Turns","","Play A Mini-Game","Results","","Move to the Mambo","Wide, Wide Ocean","Mushroom Forest","Ducking and Dodging","Full of Danger","Coins of the World","Taking Coins","The Room Underground","Slowly, Slowly","Dodging Danger","Let's Limbo!","Let's Go Lightly","Chance Time","Can It Be Done","Faster Than All","Saving Courage","","","Playing the Game","Where Have The Stars Gone?","","","","The Stolen Star","Bowser's Chance Game","Mini-Game Stadium","","","","","","","","","","","","","","","After the Victory","Mini-Game Island","Mini-Game Island","Mini-Game Island","Mini-Game Island","Mini-Game Island","Mini-Game Island (Bowser)","Mini-Game Island","Mini-Game Island (Aquatic)","","","","","","","",""],v_=["","Mario Party Theme","Power of the Stars","After the Victory","","Everyone's a Superstar! (Credits)","Opening"];var x_,__=new(function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).gameVersion=1,e.nintendoLogoFSEntry=[9,110],e.hudsonLogoFSEntry=[9,111],e.boardDefDirectory=10,e.MAINFS_READ_ADDR=83376,e.HEAP_FREE_ADDR=83760,e.TABLE_HYDRATE_ADDR=313600,e}return i(t,[{key:"hydrateSpace",value:function(e,n,t){e.type===h.STAR?e.star=!0:e.type===h.CHANCE&&Jy(n,e,By(p_),!1,t)}},{key:"onLoad",value:function(e,n,t){t||(this._extractKoopa(e,n),this._extractBowser(e,n),this._extractGoomba(e,n))}},{key:"onCreateBoardOverlay",value:function(e,n,t,r){return function(e,n,t,r){return h_.apply(this,arguments)}(e,n,t,r)}},{key:"onAfterOverwrite",value:function(e,n,t,r){e.setUint16(245602,32832),e.setUint16(245610,4194304-this.EVENT_MEM_SIZE>>>16),e.setUint16(245622,32),e.setUint16(390134,32);var a=832464;e.setUint32(307156,(0,ir.Q)("J ".concat(a))),ha("\n      .orga ".concat(835536,'\n      LW S5, 0x0(A0)\n      LUI S6, 0x4856 // "HV"\n      ADDIU S6, S6, 0x5120 // "Q "\n      BEQ S5, S6, call_hvq_decode\n      NOP\n      ADDU S5, R0, A1\n      ADDIU S6, S5, 0x1800 // (64 x 48 tile)\n      ADDU S7, R0, A0\n      LW GP, 0(S7)\n      SW GP, 0(S5)\n      ADDIU S5, S5, 4\n      ADDIU S7, S7, 4\n      BEQ S5, S6, ret_to_hook\n      NOP\n      J ').concat(832496," // J back to LW\n      NOP\n    call_hvq_decode:\n      ADDU S5, R0, R0\n      ADDU S6, R0, R0\n      ADDU S7, R0, R0\n      ADDU GP, R0, R0\n      JAL 0x7F54C // JAL HVQDecode\n      NOP\n    ret_to_hook:\n      ADDU S5, R0, R0\n      ADDU S6, R0, R0\n      ADDU S7, R0, R0\n      ADDU GP, R0, R0\n      J 0x4A3DC // J back into original function, skipping HVQDecode\n      NOP\n    "),{buffer:e.buffer})}},{key:"onOverwritePromises",value:function(e,n,t){var r=n.bgDir,a=[this.onWriteBoardSelectImg(e,n),this.onWriteBoardLogoImg(e,n),this._brandBootSplashscreen(),this._writeBackground(r,e.bg.src,e.bg.width,e.bg.height),this._writeBackground(n.pauseBgDir,e.bg.src,320,240),this._writeAdditionalBackgrounds(e)];switch(t){case 0:a=a.concat([this._writeBackground(r+1,e.otherbg.largescene,320,240),this._writeBackground(r+2,e.otherbg.conversation,320,240),this._writeBackground(r+3,e.otherbg.conversation,320,240),this._writeBackground(r+5,e.bg.src,320,240),this._writeBackground(r+6,e.otherbg.splashscreen,320,240)]);break;case 1:a=a.concat([this._writeBackground(r+1,e.otherbg.largescene,320,240),this._writeBackground(r+2,e.otherbg.conversation,320,240),this._writeBackground(r+3,e.otherbg.conversation,320,240),this._writeBackground(r+4,e.otherbg.conversation,320,240),this._writeBackground(r+5,e.otherbg.conversation,320,240),this._writeBackground(r+6,e.otherbg.largescene,320,240),this._writeBackground(r+8,e.bg.src,320,240),this._writeBackground(r+9,e.bg.src,320,240),this._writeBackground(r+10,e.otherbg.splashscreen,320,240)]);break;case 2:a=a.concat([this._writeBackground(r+1,e.otherbg.largescene,320,240),this._writeBackground(r+2,e.otherbg.conversation,320,240),this._writeBackground(r+3,e.otherbg.conversation,320,240),this._writeBackground(r+4,e.otherbg.conversation,320,240),this._writeBackground(r+5,e.otherbg.conversation,320,240),this._writeBackground(r+6,e.bg.src,320,240),this._writeBackground(r+8,e.otherbg.splashscreen,320,240)]);break;case 3:a=a.concat([this._writeBackground(r+1,e.otherbg.largescene,320,240),this._writeBackground(r+2,e.otherbg.conversation,320,240),this._writeBackground(r+3,e.otherbg.conversation,320,240),this._writeBackground(r+4,e.otherbg.conversation,320,240),this._writeBackground(r+5,e.otherbg.conversation,320,240),this._writeBackground(r+6,e.bg.src,320,240),this._writeBackground(r+7,e.otherbg.conversation,320,240),this._writeBackground(r+8,e.otherbg.conversation,320,240),this._writeBackground(r+10,e.otherbg.conversation,320,240),this._writeBackground(r+11,e.otherbg.splashscreen,320,240)])}return Promise.all(a)}},{key:"onWriteEvents",value:function(e){for(var n=e.spaces,t=0;t<n.length;t++){var r=e.spaces[t];if(r&&r.star){var a=(r.events||[]).some((function(e){return"STARCHANCE"===e.id}));a||Jy(e,r,By(m_),!1,xx())}}}},{key:"onWriteEventAsmHook",value:function(e,n,t){}},{key:"onParseStrings",value:function(e,n){var t=n.str||{};if(t.boardSelect){var r=t.boardSelect;Array.isArray(r)&&(r=r[0]);var a=j_.read(r),i=a.split("\n"),o=i[0].indexOf(">")+1,s=i[0].indexOf("<",o);e.name=i[0].substring(o,s),e.description=[i[1],i[2]].join("\n");for(var l=0,u=a.indexOf(this.getCharacterMap()[42],0);-1!==u;)l++,u=a.indexOf(this.getCharacterMap()[42],u+1);e.difficulty=l}}},{key:"onWriteStrings",value:function(e,n){var t=n.str||{};if(t.boardSelect){var r=[];r.push(11),r.push(5),(r=r.concat(j_._strToBytes(e.name||""))).push(2),r.push(10),(r=r.concat(j_._strToBytes(e.description||""))).push(10),(r=r.concat([16,16,16,16,16,16])).push(6),r=r.concat(j_._strToBytes("Map Difficulty  "));if(e.difficulty>5||e.difficulty<1)r.push(42),(r=r.concat(j_._strToBytes(" "))).push(62),r=r.concat(j_._strToBytes(" "+e.difficulty.toString()));else for(var a=0;a<e.difficulty;a++)r.push(42);r.push(2),r.push(0);var i=Y(r),o=t.boardSelect;if(Array.isArray(o))for(var s=0;s<o.length;s++)j_.write(o[s],i);else j_.write(o,i)}if(t.koopaIntro){var l=[];(l=l.concat(j_._strToBytes("Welcome, everybody!\nI am your guide,\nKoopa Troopa."))).push(255),l.push(11),(l=l.concat(j_._strToBytes("Now then,\nlet's decide turn order."))).push(255),l.push(0);var u=Y(l);j_.write(t.koopaIntro,u)}if(t.starComments){var c=[];(c=c.concat(j_._strToBytes("Good luck!\nWith enough stars, you\ncould be the superstar!"))).push(255),c.push(0);for(var d=Y(c),A=0;A<t.starComments.length;A++)j_.write(t.starComments[A],d)}}},{key:"onChangeBoardSpaceTypesFromGameSpaceTypes",value:function(e,n){}},{key:"onChangeGameSpaceTypesFromBoardSpaceTypes",value:function(e){}},{key:"_extractKoopa",value:function(e,n){if(n.koopaSpaceInst&&n.sceneIndex){var t=ve.getDataView(n.sceneIndex).getUint16(n.koopaSpaceInst+2);e.spaces[t]&&(e.spaces[t].subtype=p.KOOPA)}}},{key:"_writeKoopa",value:function(e,n){if(n.koopaSpaceInst&&n.sceneIndex){for(var t,r=0;r<e.spaces.length;r++)if(e.spaces[r].subtype===p.KOOPA){t=r;break}t=void 0===t?ww(e):t,ve.getDataView(n.sceneIndex).setUint16(n.koopaSpaceInst+2,t)}}},{key:"_extractBowser",value:function(e,n){if(n.bowserSpaceInst&&n.sceneIndex){var t=ve.getDataView(n.sceneIndex).getUint16(n.bowserSpaceInst+2);e.spaces[t]&&(e.spaces[t].subtype=p.BOWSER)}}},{key:"_writeBowser",value:function(e,n){if(n.bowserSpaceInst&&n.sceneIndex){for(var t,r=0;r<e.spaces.length;r++)if(e.spaces[r].subtype===p.BOWSER){t=r;break}t=void 0===t?ww(e):t,ve.getDataView(n.sceneIndex).setUint16(n.bowserSpaceInst+2,t)}}},{key:"_extractGoomba",value:function(e,n){if(n.goombaSpaceInst&&n.sceneIndex){var t=ve.getDataView(n.sceneIndex).getUint16(n.goombaSpaceInst+2);e.spaces[t]&&(e.spaces[t].subtype=p.GOOMBA)}}},{key:"onParseBoardSelectImg",value:function(e,n){if(n.img.boardSelectImg){var t=rn.get(9,n.img.boardSelectImg),r=A_.unpack(t),a=dn([new DataView(r.BMP1[0].parsed.src),new DataView(r.BMP1[1].parsed.src),new DataView(r.BMP1[2].parsed.src),new DataView(r.BMP1[3].parsed.src)],2,2,256,32);e.otherbg.boardselect=ne(a,128,64)}}},{key:"onWriteBoardSelectImg",value:function(){var e=O(k().mark((function e(n,t){var r,a,i,o,s,l,u,c,d,A,f;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.img.boardSelectImg){e.next=3;break}return e.abrupt("return");case 3:return a=128,i=64,e.next=6,n_(n.otherbg.boardselect,a,i);case 6:for(o=e.sent,s=An(o.data,2,2,a/2*4,i/2),l=s.map((function(e){return xn(e,32,8)})),u=rn.get(9,r),c=A_.unpack(u),d=0;d<4;d++){for(A=l[d][1];A.colors.length<17;)A.colors.push(0);A_.replaceBMP(c,d,l[d][0],A)}f=A_.pack(c),rn.write(9,r,f);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"onParseBoardLogoImg",value:function(e,n){n.img.pauseLogoImg&&(e.otherbg.boardlogo=this._readImgFromMainFS(10,n.img.pauseLogoImg,0))}},{key:"onWriteBoardLogoImg",value:function(e,n){return new Promise((function(t,r){var a=n.img.introLogoImg,i=n.img.pauseLogoImg;if(a||i){var o=n.img.introLogoImgDimens,s=(0,xe.Z)(o,2),l=s[0],u=s[1],c=new Image,d=setTimeout((function(){return r("Failed to write logos for ".concat(n.name))}),45e3);c.onload=function(){if(a){var e=pi(c,l,u);Array.isArray(a)||(a=[a]);for(var n=0;n<a.length;n++){var r=a[n],o=rn.get(10,r),s=bn([{src:e,width:l,height:u,bpp:32}],16,0,o);rn.write(10,r,s)}}if(i){var A=bn([{src:pi(c,200,82),width:200,height:82,bpp:32}],16,0,rn.get(10,i));rn.write(10,i,A)}clearTimeout(d),t()},c.src=e.otherbg.boardlogo}else t()}))}},{key:"_clearOtherBoardNames",value:function(e){var n=rn.get(10,406+e);new Uint8Array(n).fill(0,44),rn.write(10,406+e,n)}},{key:"getAudioMap",value:function(e){return 1===e?v_:g_}},{key:"getSoundEffectMap",value:function(e){return S_}},{key:"getCharacterMap",value:function(){return{0:"",1:"<BLACK>",2:"<DEFAULT>",3:"<RED>",4:"<PURPLE>",5:"<GREEN>",6:"<BLUE>",7:"<YELLOW>",8:"<WHITE>",9:"<SEIZURE>",10:"\n",11:"\u3014",12:"\u25cb",13:"\t",14:"\t",16:" ",17:"{0}",18:"{1}",19:"{2}",20:"{3}",21:"{4}",22:"{5}",33:"\u3000",34:"\u3001",35:"\u3002",36:"\u3003",37:"\u3004",38:"\u3005",39:"\u3006",40:"\u3007",41:"\u3008",42:"\u3009",43:"\u3010",44:"\u3011",58:"\u3012",59:"\u3013",60:"+",61:"-",62:"x",63:"->",91:'"',92:"'",93:"(",94:")",95:"/",123:":",128:'"',129:"\xb0",130:",",131:"\xb0",133:".",192:"\u201c",193:"\u201d",194:"!",195:"?",255:"\u3015"}}}]),t}(c_)),y_={};y_[v.MP2_USA]=[{upper:345798,lower:345802}];var w_={getROMOffset:function(){var e=Ry.getDataView(),n=w_.getPatchOffsets();if(!n)return null;var t=n[0],r=e.getUint16(t.upper)<<16,a=e.getUint16(t.lower),i=r|a;return 32768&a&&(i-=65536),H("AnimationFS.getROMOffset -> ".concat(W(i))),i},setROMOffset:function(e,n){var t=new DataView(n),r=w_.getPatchOffsets();if(r){var a=(4294901760&e)>>>16,i=65535&e;32768&i&&(a+=1);for(var o=0;o<r.length;o++)t.setUint16(r[o].upper,a),t.setUint16(r[o].lower,i);H("AnimationFS.setROMOffset -> ".concat(W(a<<16|i)))}},getPatchOffsets:function(){return y_[Ry.getROMGame()]},get:function(e,n,t){return x_[e][n][t].decompressed},write:function(e,n,t,r){var a=Ce(3,new DataView(t));x_[e]||(x_[e]=[]),x_[e][n]||(x_[e][n]={}),x_[e][n][r]={compressionType:3,decompressed:t,compressed:a}},_createOrderedTiles:function(e,n,t){for(var r=n/64,a=t/48,i=An(e.data,r,a,256,48).map((function(e){return hn(e,64,48)})),o=[],s=a-1;s>=0;s--)for(var l=0;l<r;l++)o.push(i[s*r+l]);return o},writeAnimationBackground:function(e,n,t,r,a,i){H("AnimationFS.writeAnimationBackground, set: ".concat(e,", entry: ").concat(n,", img is ").concat(a,"x").concat(i));var o=w_._createOrderedTiles(t,a,i),s=w_._createOrderedTiles(r,a,i);w_.clearSetEntry(e,n);for(var l=0;l<s.length;l++)re(o[l],s[l])||w_.write(e,n,s[l],l+1)},_unorderTiles:function(e,n,t){for(var r=[],a=t-1;a>=0;a--)for(var i=0;i<n;i++)r.push(e[a*n+i]);return r},_readAnimationBackground:function(e,n,t,r,a){for(var i=[],o=0;o<t.length;o++)x_[e][n].hasOwnProperty(o+1)?i.push(new DataView(x_[e][n][o+1].decompressed)):i.push(new DataView(t[o]));for(var s=r/64,l=a/48,u=fn(dn(i=w_._unorderTiles(i,s,l),s,l,128,48),r,a),c=new Uint8Array(u),d=N(r,a),A=d.createImageData(r,a),f=0;f<c.byteLength;f++)A.data[f]=c[f];return d.putImageData(A,0,0),d.canvas.toDataURL()},readAnimationBackgrounds:function(e,n,t,r){for(var a=w_.getSetEntryCount(e),i=w_._createOrderedTiles(n,t,r),o=[],s=0;s<a;s++)o.push(w_._readAnimationBackground(e,s,i,t,r));return o},clearCache:function(){x_=null},extract:function(){var e=w_.getROMOffset();if(null===e)return null;var n=Ry.getDataView();return x_=w_._extractSets(n,e)},extractAsync:function(){return new Promise((function(e,n){w_.extract(),e()}))},_extractSets:function(e,n){for(var t=[],r=e.getUint32(n)-1,a=0;a<r;a++){var i=e.getUint32(n+4+4*a);t.push(w_._extractSetEntries(e,n+i))}return t},_extractSetEntries:function(e,n){for(var t=[],r=e.getUint32(n),a=0;a<r;a++){var i=e.getUint32(n+4+4*a);t.push(w_._extractTiles(e,n+i))}return t},_extractTiles:function(e,n){for(var t={},r=e.getUint32(n)-1,a=0;a<r;a++){var i=e.getUint32(n+4+4*a),o=w_._readTile(e,n+i);t[o.index]={compressionType:o.compressionType,compressed:o.compressed,decompressed:o.decompressed}}return t},_readTile:function(e,n){var t=e.getUint32(n),r=e.getUint32(n+4),a=e.getUint32(n+8),i=e.buffer,o=n+12,s=new DataView(i,o),l=function(e,n,t){var r=new ArrayBuffer(t),a=new DataView(r);switch(e){case 1:return ye(n,a,t);case 2:case 3:case 4:return we(n,a,t);case 5:return be(n,a,t);case 0:return t;default:H("getCompressedSize ".concat(e," not implemented."))}}(r,s,a);return{index:t,compressionType:r,compressed:i.slice(o,o+l),decompressed:Ve(r,s,a)}},pack:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=new DataView(e,n),r=w_.getSetCount();t.setUint32(0,r+1);for(var a=4,i=4+4*(r+1),o=0;o<r;o++)t.setUint32(a,i),a+=4,i=Te(i=w_._writeSet(o,t,i),4);return t.setUint32(a,i),i},_writeSet:function(e,n,t){var r=w_.getSetEntryCount(e);n.setUint32(t,r);for(var a=t+4,i=t+4+4*r,o=0;o<r;o++)n.setUint32(a,i-t),a+=4,i=Te(i=w_._writeTiles(e,o,n,i),4);return i},_writeTiles:function(e,n,t,r){var a=w_.getSetEntryTileCount(e,n);t.setUint32(r,a+1);var i=r+4,o=r+4+4*(a+1);for(var s in x_[e][n])x_[e][n].hasOwnProperty(s)&&(t.setUint32(i,o-r),i+=4,o=Te(o=w_._writeTile(e,n,s,t,o),4));return t.setUint32(i,o-r),o},_writeTile:function(e,n,t,r,a){var i=x_[e][n][t];return r.setUint32(a,parseInt(t)),r.setUint32(a+4,3),r.setUint32(a+8,i.decompressed.byteLength),q(r,i.compressed,a+12,0,i.compressed.byteLength),a+12+i.compressed.byteLength},getSetCount:function(){return x_.length},getSetEntryCount:function(e){return x_[e].length},setSetEntryCount:function(e,n){return x_[e].length=n},clearSetEntry:function(e,n){return x_[e][n]={}},getSetEntryTileCount:function(e,n){return Object.keys(x_[e][n]).length},getByteLength:function(){var e=0,n=w_.getSetCount();e+=4,e+=4*(n+1);for(var t=0;t<n;t++){var r=w_.getSetEntryCount(t);e+=4,e+=4*r;for(var a=0;a<r;a++){var i=w_.getSetEntryTileCount(t,a);for(var o in e+=4,e+=4*(i+1),x_[t][a]){if(x_[t][a].hasOwnProperty(o))e+=4,e+=4,e+=4,e=Te(e+=x_[t][a][o].compressed.byteLength,4)}}}return e}};function b_(){return b_=O(k().mark((function e(n,t,r,a){var i,o,s,l,u,c,d,A,f,m,S,g,x,_,y,w,b,V,C,E,D,F,T,P,R,L,M,B,I,O,N,j,U,G,z,H,X,K,q,Y,Q,J,Z;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.mainfsEventFile,o=(0,xe.Z)(i,2),s=o[0],l=o[1],u=[],c=0;c<n.spaces.length;c++)n.spaces[c].star&&u.push(c);for(d=f_(u.length),A=_w(p.TOAD,n),f=[],m=0;m<u.length;m++){for(S=n.spaces[u[m]],g=Number.MAX_VALUE,x=u[m],_=0;_<A.length;_++)y=A[_],w=n.spaces[y],(b=Ee(S.x,S.y,w.x,w.y))<g&&(g=b,x=y);f.push(x)}for(V=_w(p.BANKCOIN,n),C=0;C<2;C++)V.length<2&&V.push(ww(n));for(E=_w(p.BANK,n),D=yw(Qx.id,n),F=[],D.forEach((function(e){for(var t=n.spaces[e],r=Number.MAX_VALUE,a=ww(n),i=0;i<E.length;i++){var o=E[i],s=n.spaces[o],l=Ee(t.x,t.y,s.x,s.y);l<r&&(r=l,a=o)}F.push(a)})),E.length||E.push(ww(n)),T=0;T<2;T++)D.length<2&&D.push(ww(n));for(P=0;P<2;P++)F.length<2&&F.push(ww(n));for(R=_w(p.ITEMSHOP,n),L=yw(Jx.id,n),M=[],L.forEach((function(e){for(var t=n.spaces[e],r=Number.MAX_VALUE,a=ww(n),i=0;i<R.length;i++){var o=R[i],s=n.spaces[o],l=Ee(t.x,t.y,s.x,s.y);l<r&&(r=l,a=o)}M.push(a)})),R.length||R.push(ww(n)),B=0;B<2;B++)L.length<2&&L.push(ww(n));for(I=0;I<2;I++)M.length<2&&M.push(ww(n));for(O=_w(p.BOO,n),N=yw(qx.id,n),j=[],N.forEach((function(e){for(var t=n.spaces[e],r=Number.MAX_VALUE,a=ww(n),i=0;i<O.length;i++){var o=O[i],s=n.spaces[o],l=Ee(t.x,t.y,s.x,s.y);l<r&&(r=l,a=o)}j.push(a)})),O.length||O.push(ww(n)),U=0;U<2;U++)N.length<2&&N.push(ww(n));for(G=0;G<2;G++)j.length<2&&j.push(ww(n));for(z=[],H=0;H<n.spaces.length;H++)n.spaces[H].type===h.ARROW&&z.push(n.spaces[H].rotation||0);for(X=me(v.MP2_USA,"AddArrowAngle"),8,K=[],q=Math.min(8,z.length),Y=0;Y<q;Y++)K.push("LUI A0 hi(".concat(W(Re(z[Y])),")")),K.push("JAL ".concat(X)),K.push("MTC1 A0 F12");return Q=Ra(n),e.next=40,Ca(n,t.bgDir,Q);case 40:return J=e.sent,e.next=43,ja(n,a);case 43:return Z=e.sent,e.abrupt("return","\n.org 0x80102800\n\n.definelabel D_800C9B80,0x800C9B80\n.definelabel D_800CAFD8,0x800CAFD8\n.definelabel D_800CAFD9,0x800CAFD9\n.definelabel D_800CC000,0x800CC000\n.definelabel D_800CC001,0x800CC001\n.definelabel D_800CC007,0x800CC007\n.definelabel D_800CC1F0,0x800CC1F0\n.definelabel D_800CC6A8,0x800CC6A8\n.definelabel D_800CC6C4,0x800CC6C4\n.definelabel D_800CCBDC,0x800CCBDC\n.definelabel D_800CCC16,0x800CCC16\n.definelabel D_800CCC18,0x800CCC18\n.definelabel D_800CCD5C,0x800CCD5C\n.definelabel D_800CD414,0x800CD414\n.definelabel D_800D0032,0x800D0032\n.definelabel D_800F6098,0x800F6098\n.definelabel D_800F64B0,0x800F64B0\n.definelabel D_800F64C8,0x800F64C8\n.definelabel D_800F851A,0x800F851A\n.definelabel D_800F8CE4,0x800F8CE4\n.definelabel D_800F8D12,0x800F8D12\n.definelabel D_800F8D16,0x800F8D16\n.definelabel D_800F8D18,0x800F8D18\n.definelabel D_800F8D1E,0x800F8D1E\n.definelabel D_800F9052,0x800F9052\n.definelabel D_800F920C,0x800F920C\n.definelabel D_800F93A8,0x800F93A8\n.definelabel D_800F93AA,0x800F93AA ; s16 board index to load\n.definelabel D_800F93AE,0x800F93AE\n.definelabel D_800F93B0,0x800F93B0\n.definelabel D_800F93B2,0x800F93B2\n.definelabel D_800F93B4,0x800F93B4\n.definelabel D_800F93C0,0x800F93C0\n.definelabel D_800F93C4,0x800F93C4\n.definelabel D_800F93C6,0x800F93C6\n.definelabel D_800FA188,0x800FA188\n.definelabel D_800FA198,0x800FA198\n.definelabel D_800FC734,0x800FC734\n.definelabel D_800FC834,0x800FC834\n.definelabel D_800FD2C0,0x800FD2C0\n.definelabel D_800FD2C2,0x800FD2C2\n.definelabel D_800FD2C6,0x800FD2C6\n.definelabel D_800FD2D0,0x800FD2D0\n.definelabel D_800FD2D2,0x800FD2D2\n.definelabel D_800FD2E4,0x800FD2E4\n.definelabel D_80100001,0x80100001\n.definelabel D_80100009,0x80100009\n.definelabel D_80100010,0x80100010\n.definelabel D_80100012,0x80100012\n.definelabel D_8010008C,0x8010008C\n.definelabel D_80101058,0x80101058\n.definelabel func_800114E8,0x800114E8\n.definelabel func_800115B4,0x800115B4\n.definelabel func_80017680,0x80017680\n.definelabel func_80017800,0x80017800\n.definelabel func_80020070,0x80020070\n.definelabel func_80020324,0x80020324\n.definelabel func_80026DAC,0x80026DAC\n.definelabel func_80027154,0x80027154\n.definelabel func_800297E8,0x800297E8\n.definelabel func_80029E80,0x80029E80\n.definelabel func_80029FE4,0x80029FE4\n.definelabel func_8002D0A0,0x8002D0A0\n.definelabel func_8002D124,0x8002D124\n.definelabel func_8002D4A0,0x8002D4A0\n.definelabel func_8004108C,0x8004108C\n.definelabel func_80041610,0x80041610\n.definelabel func_800417EC,0x800417EC\n.definelabel func_800418D8,0x800418D8\n.definelabel func_80041A74,0x80041A74\n.definelabel func_80041AEC,0x80041AEC\n.definelabel func_80041B40,0x80041B40\n.definelabel func_80041B60,0x80041B60\n.definelabel func_80042BE0,0x80042BE0\n.definelabel func_80042D38,0x80042D38\n.definelabel func_80043510,0x80043510\n.definelabel func_800437F8,0x800437F8\n.definelabel func_80043DAC,0x80043DAC\n.definelabel func_80043F7C,0x80043F7C\n.definelabel func_80044258,0x80044258\n.definelabel func_800442DC,0x800442DC\n.definelabel func_8004430C,0x8004430C\n.definelabel func_80044494,0x80044494\n.definelabel func_80044530,0x80044530\n.definelabel func_800446B4,0x800446B4\n.definelabel func_80044800,0x80044800\n.definelabel func_80044D98,0x80044D98\n.definelabel func_80045650,0x80045650\n.definelabel func_8004655C,0x8004655C\n.definelabel func_80046D2C,0x80046D2C\n.definelabel func_80046EDC,0x80046EDC\n.definelabel func_80046F98,0x80046F98\n.definelabel func_80047A50,0x80047A50\n.definelabel func_80047BB8,0x80047BB8\n.definelabel func_80047D78,0x80047D78\n.definelabel func_80047DE8,0x80047DE8\n.definelabel func_80047E70,0x80047E70\n.definelabel func_80048A48,0x80048A48\n.definelabel func_800495A8,0x800495A8\n.definelabel func_800495D8,0x800495D8\n.definelabel func_80049ED4,0x80049ED4\n.definelabel func_80049F90,0x80049F90\n.definelabel func_8004B224,0x8004B224\n.definelabel func_8004CA14,0x8004CA14\n.definelabel func_8004CA34,0x8004CA34\n.definelabel func_8004CC7C,0x8004CC7C\n.definelabel func_8004CD70,0x8004CD70\n.definelabel func_8004CDE0,0x8004CDE0\n.definelabel func_8004CE80,0x8004CE80\n.definelabel func_8004D5B0,0x8004D5B0\n.definelabel func_8004D60C,0x8004D60C\n.definelabel func_8004E484,0x8004E484\n.definelabel func_80050304,0x80050304\n.definelabel func_8005057C,0x8005057C\n.definelabel func_8005070C,0x8005070C\n.definelabel func_80050860,0x80050860\n.definelabel func_800508E4,0x800508E4\n.definelabel func_800509C4,0x800509C4\n.definelabel func_800509FC,0x800509FC\n.definelabel func_80051500,0x80051500\n.definelabel func_80052F70,0x80052F70\n.definelabel func_80053608,0x80053608\n.definelabel func_80053620,0x80053620\n.definelabel func_80053980,0x80053980\n.definelabel func_80053998,0x80053998\n.definelabel func_80053AA0,0x80053AA0\n.definelabel func_80053F54,0x80053F54\n.definelabel func_80053F7C,0x80053F7C\n.definelabel func_800542B8,0x800542B8\n.definelabel func_800542E8,0x800542E8\n.definelabel func_80054B8C,0x80054B8C\n.definelabel func_80054BB0,0x80054BB0\n.definelabel func_80054BDC,0x80054BDC\n.definelabel func_80054C78,0x80054C78\n.definelabel func_80054D3C,0x80054D3C\n.definelabel func_8005521C,0x8005521C\n.definelabel func_800556F4,0x800556F4\n.definelabel func_800558E8,0x800558E8\n.definelabel func_800558F4,0x800558F4\n.definelabel func_80055928,0x80055928\n.definelabel func_80055980,0x80055980\n.definelabel func_80055C88,0x80055C88\n.definelabel func_80055E3C,0x80055E3C\n.definelabel func_80055E60,0x80055E60\n.definelabel func_80055E90,0x80055E90\n.definelabel func_8005600C,0x8005600C\n.definelabel func_800560A4,0x800560A4\n.definelabel func_80056124,0x80056124\n.definelabel func_80056144,0x80056144\n.definelabel func_80056168,0x80056168\n.definelabel func_80056368,0x80056368\n.definelabel func_80056458,0x80056458\n.definelabel func_80056524,0x80056524\n.definelabel func_80056658,0x80056658\n.definelabel func_8005670C,0x8005670C\n.definelabel func_80056728,0x80056728\n.definelabel func_80056754,0x80056754\n.definelabel func_8005694C,0x8005694C\n.definelabel func_80056B78,0x80056B78\n.definelabel func_80056C30,0x80056C30\n.definelabel func_80056D80,0x80056D80\n.definelabel func_80056FD4,0x80056FD4\n.definelabel func_80057150,0x80057150\n.definelabel func_8005734C,0x8005734C\n.definelabel func_800573AC,0x800573AC\n.definelabel func_80057718,0x80057718\n.definelabel func_80057DC0,0x80057DC0\n.definelabel func_80059120,0x80059120\n.definelabel func_80059158,0x80059158\n.definelabel func_80059FD0,0x80059FD0\n.definelabel func_8005A358,0x8005A358\n.definelabel func_8005AB50,0x8005AB50\n.definelabel func_8005AC6C,0x8005AC6C\n.definelabel func_8005B338,0x8005B338\n.definelabel func_8005DC30,0x8005DC30\n.definelabel func_8005DC3C,0x8005DC3C\n.definelabel func_8005DCA0,0x8005DCA0\n.definelabel func_8005DD68,0x8005DD68\n.definelabel func_8005DDEC,0x8005DDEC\n.definelabel func_80060210,0x80060210\n.definelabel func_800609D8,0x800609D8\n.definelabel func_8006135C,0x8006135C\n.definelabel func_800614B4,0x800614B4\n.definelabel func_80061518,0x80061518\n.definelabel func_80061584,0x80061584\n.definelabel func_80062588,0x80062588\n.definelabel func_80062824,0x80062824\n.definelabel func_8006286C,0x8006286C\n.definelabel func_800628C0,0x800628C0\n.definelabel func_8006296C,0x8006296C\n.definelabel func_800629AC,0x800629AC\n.definelabel func_800629F0,0x800629F0\n.definelabel func_80062A28,0x80062A28\n.definelabel func_80062E10,0x80062E10\n.definelabel func_80063178,0x80063178\n.definelabel func_800632F0,0x800632F0\n.definelabel func_800632FC,0x800632FC\n.definelabel func_800636F8,0x800636F8\n.definelabel func_80063710,0x80063710\n.definelabel func_80063734,0x80063734\n.definelabel func_80063C40,0x80063C40\n.definelabel func_80064FF8,0x80064FF8\n.definelabel func_800650BC,0x800650BC\n.definelabel func_80066C34,0x80066C34\n.definelabel func_80066F6C,0x80066F6C\n.definelabel func_8006706C,0x8006706C\n.definelabel func_800670B0,0x800670B0\n.definelabel func_80067170,0x80067170\n.definelabel func_800672BC,0x800672BC\n.definelabel func_8006735C,0x8006735C\n.definelabel func_80067558,0x80067558\n.definelabel func_80067720,0x80067720\n.definelabel func_80067C6C,0x80067C6C\n.definelabel func_80068328,0x80068328\n.definelabel func_8006836C,0x8006836C\n.definelabel func_800683BC,0x800683BC\n.definelabel func_80068480,0x80068480\n.definelabel func_80076598,0x80076598\n.definelabel func_8007695C,0x8007695C\n.definelabel func_80076AFC,0x80076AFC\n.definelabel func_80076B44,0x80076B44\n.definelabel func_80076B70,0x80076B70\n.definelabel func_80076FCC,0x80076FCC\n.definelabel func_80077160,0x80077160\n.definelabel func_800771EC,0x800771EC\n.definelabel func_80077574,0x80077574\n.definelabel func_80078EC8,0x80078EC8\n.definelabel func_80078FF8,0x80078FF8\n.definelabel func_80079390,0x80079390\n.definelabel func_80079428,0x80079428\n.definelabel func_80079464,0x80079464\n.definelabel func_800794A8,0x800794A8\n.definelabel func_8007959C,0x8007959C\n.definelabel func_80079718,0x80079718\n.definelabel func_80079798,0x80079798\n.definelabel func_800797DC,0x800797DC\n.definelabel func_80079848,0x80079848\n.definelabel func_8007D700,0x8007D700\n.definelabel func_8007D7E8,0x8007D7E8\n.definelabel func_8007D838,0x8007D838\n.definelabel func_8007D9E0,0x8007D9E0\n.definelabel func_8007DA44,0x8007DA44\n.definelabel func_8007F8B0,0x8007F8B0\n.definelabel func_8007FA6C,0x8007FA6C\n.definelabel func_80081AD0,0x80081AD0\n.definelabel func_8008218C,0x8008218C\n.definelabel func_8008225C,0x8008225C\n.definelabel func_800822A8,0x800822A8\n.definelabel func_80082384,0x80082384\n.definelabel func_80082418,0x80082418\n.definelabel func_80082488,0x80082488\n.definelabel func_80082660,0x80082660\n.definelabel func_80082800,0x80082800\n.definelabel func_800890CC,0x800890CC\n.definelabel func_80089284,0x80089284\n.definelabel func_8008BB48,0x8008BB48\n.definelabel func_8008CFD0,0x8008CFD0\n.definelabel func_8008D07C,0x8008D07C\n.definelabel func_8008D59C,0x8008D59C\n.definelabel func_8008D854,0x8008D854\n.definelabel func_8008DAC0,0x8008DAC0\n.definelabel func_8008E2DC,0x8008E2DC\n.definelabel func_8008E4D0,0x8008E4D0\n.definelabel func_8008F544,0x8008F544\n.definelabel func_8008F5AC,0x8008F5AC\n.definelabel func_8008F618,0x8008F618\n.definelabel func_8008F624,0x8008F624\n.definelabel func_800A4FA0,0x800A4FA0\n.definelabel func_800A5660,0x800A5660\n.definelabel func_800B1870,0x800B1870\n.definelabel func_800B3160,0x800B3160\n.definelabel func_800B3170,0x800B3170\n.definelabel func_800B31C0,0x800B31C0\n.definelabel func_800B3200,0x800B3200\n.definelabel func_800B3240,0x800B3240\n.definelabel func_800B34B0,0x800B34B0\n.definelabel func_800B39F0,0x800B39F0\n.definelabel func_800B3B80,0x800B3B80\n.definelabel func_800B7890,0x800B7890\n.definelabel func_800B83C0,0x800B83C0\n\n.definelabel BOARD_COUNT,6\n.definelabel BANK_COUNT,".concat(E.length,"\n.definelabel SHOP_COUNT,").concat(R.length,"\n.definelabel STAR_COUNT,").concat(u.length,"\n.definelabel BOO_COUNT,").concat(O.length,"\n\nfunc_80102800:\n/*  */  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   A0, hi(D_80111920)\n  addiu A0, A0, lo(D_80111920)\n  lui   A1, hi(D_800CD414)\n  jal   func_80066F6C\n   lh    A1, lo(D_800CD414)(A1)\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n  nop\n  nop\n\nfunc_80102830:\n  lui   V0, hi(D_800F93B2)\n  addiu V0, V0, lo(D_800F93B2)\n  lh    V1, 0(V0)\n  sll   V1, V1, 1\n  addu  V0, V0, V1\n  lh    V0, 2(V0)\n  sll   V0, V0, 1\n  lui   AT, hi(D_80111994)\n  addu  AT, AT, V0\n  jr    RA\n   lh    V0, lo(D_80111994)(AT)\n\nfunc_8010285C:\n  addiu SP, SP, -0x30\n  sw    RA, 0x28(SP)\n  sw    S5, 0x24(SP)\n  sw    S4, 0x20(SP)\n  sw    S3, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   S5, hi(D_800F93A8)\n  addiu S5, S5, lo(D_800F93A8)\n  move  S1, R0\n  lui S4, 0x2492\n  ori S4, S4, 0x4925\n  lui   S3, hi(shuffle_bias)\n  addiu S3, S3, lo(shuffle_bias)\n  lui   S2, hi(shuffle_order)\n  addiu S2, S2, lo(shuffle_order)\nL801028A0:\n  jal   GetRandomByte\n   nop\n  andi  V0, V0, 0xff\n  multu V0, S4\n  mfhi  A0\n  subu  V1, V0, A0\n  srl   V1, V1, 1\n  addu  A0, A0, V1\n  srl   A0, A0, 2\n  sll   V1, A0, 3\n  subu  V1, V1, A0\n  subu  V0, V0, V1\n  jal   GetRandomByte\n   andi  S0, V0, 0xff\n  andi  V0, V0, 0xff\n  multu V0, S4\n  mfhi  A0\n  subu  V1, V0, A0\n  srl   V1, V1, 1\n  addu  A0, A0, V1\n  srl   A0, A0, 2\n  sll   V1, A0, 3\n  subu  V1, V1, A0\n  subu  V0, V0, V1\n  andi  A0, V0, 0xff\n  beq   S0, A0, L80102960\n   sll   V1, A0, 1\n  addu  A3, V1, S3\n  lh    V0, 0(A3)\n  slt   V0, S0, V0\n  bnel  V0, R0, L80102964\n   addiu S1, S1, 1\n  sll   A1, S0, 1\n  addu  A2, A1, S3\n  lh    V0, 0(A2)\n  slt   V0, A0, V0\n  bnel  V0, R0, L80102964\n   addiu S1, S1, 1\n  addu  A0, A1, S2\n  lh    A1, 0(A0)\n  addu  V1, V1, S2\n  lhu   V0, 0(V1)\n  sh    V0, 0(A0)\n  sh    A1, 0(V1)\n  lh    A1, 0(A2)\n  lhu   V0, 0(A3)\n  sh    V0, 0(A2)\n  sh    A1, 0(A3)\nL80102960:\n  addiu S1, S1, 1\nL80102964:\n  slti  V0, S1, 0x3c\n  bnez  V0, L801028A0\n   nop\n  move  S1, R0\n  lui   A0, hi(shuffle_order)\n  addiu A0, A0, lo(shuffle_order)\n  sll   V0, S1, 1\nL80102980:\n  addu  V1, V0, S5\n  addu  V0, V0, A0\n  lhu   V0, 0(V0)\n  sh    V0, 0xc(V1)\n  addiu S1, S1, 1\n  slti  V0, S1, STAR_COUNT\n  bnez  V0, L80102980\n   sll   V0, S1, 1\n  lh    V1, 0x1c(S5)\n  li    V0, -1\n  bne   V1, V0, L80102A20\n   move  A1, R0\nL801029B0:\n  li    V0, 6\n  subu  V0, V0, A1\n  sll   V0, V0, 1\n  addu  V0, V0, S5\n  lhu   V0, 0xc(V0)\n  sh    V0, 0x1c(S5)\n  lui   V1, hi(D_80111970)\n  lh    V1, lo(D_80111970)(V1)\n  li    V0, -1\n  beq   V1, V0, L80102A20\n   move  S1, R0\n  lui   A2, hi(D_80111970)\n  addiu A2, A2, lo(D_80111970)\n  lh    V1, 0x1c(S5)\n  li    A0, -1\n  sll   V0, S1, 1\nL801029F0:\n  addu  V0, V0, A2\n  lh    V0, 0(V0)\n  bnel  V1, V0, L80102A08\n   addiu S1, S1, 1\n  j     L801029B0\n   addiu A1, A1, 1\nL80102A08:\n  sll   V0, S1, 1\n  lui   AT, hi(D_80111970)\n  addu  AT, AT, V0\n  lh    V0, lo(D_80111970)(AT)\n  bne   V0, A0, L801029F0\n   sll   V0, S1, 1\nL80102A20:\n  lw    RA, 0x28(SP)\n  lw    S5, 0x24(SP)\n  lw    S4, 0x20(SP)\n  lw    S3, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x30\n\nfunc_80102A44:\n  addiu SP, SP, -0x28\n  sw    RA, 0x24(SP)\n  sw    S0, 0x20(SP)\n  lui   S0, hi(D_800F93A8)\n  addiu S0, S0, lo(D_800F93A8)\n  addiu A0, SP, 0x10\n  jal   func_8004B224\n   li    A1, 6\n  lui   AT, hi(D_800F93B2)\n  sh    R0, lo(D_800F93B2)(AT)\n  move  A0, R0\n  addiu A1, SP, 0x10\n  sll   V1, A0, 1\nL80102A78:\n  addu  V1, V1, S0\n  addu  V0, A1, A0\n  lbu   V0, 0(V0)\n  sh    V0, 0xc(V1)\n  addiu A0, A0, 1\n  slti  V0, A0, 7\n  bnel  V0, R0, L80102A78\n   sll   V1, A0, 1\n  lhu   V0, 0x18(S0)\n  sh    V0, 0x1c(S0)\n  lw    RA, 0x24(SP)\n  lw    S0, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_80102AB0:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   V0, hi(D_800F93B2)\n  lh    V0, lo(D_800F93B2)(V0)\n  sll   V1, V0, 1\n  lui   AT, hi(D_800F93B4)\n  addu  AT, AT, V1\n  lhu   V1, lo(D_800F93B4)(AT)\n  lui   AT, hi(D_800F93C4)\n  sh    V1, lo(D_800F93C4)(AT)\n  addiu V0, V0, 0x0001\n  lui   AT, hi(D_800F93B2)\n  sh    V0, lo(D_800F93B2)(AT)\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  slti  V0, V0, 7\n  bnez  V0, L80102B44\n   nop\n  lui   S0, hi(D_800F93C0)\n  lh    S0, lo(D_800F93C0)(S0)\n  lui   AT, hi(D_800F93B2)\n  sh    R0, lo(D_800F93B2)(AT)\n  jal   func_8006836C\n   li    A0, 68\n  jal   func_8010285C\n   nop\n  lui   V1, hi(D_800F93B4)\n  lh    V1, lo(D_800F93B4)(V1)\n  bne   S0, V1, L80102B44\n   nop\n  lui   V0, hi(D_800F93C0)\n  lhu   V0, lo(D_800F93C0)(V0)\n  lui   AT, hi(D_800F93B4)\n  sh    V0, lo(D_800F93B4)(AT)\n  lui   AT, hi(D_800F93C0)\n  sh    V1, lo(D_800F93C0)(AT)\nL80102B44:\n  lw    RA, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_80102B54:\n  addiu SP, SP, -0x28\n  sw    RA, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S2, hi(D_800F93A8)\n  addiu S2, S2, lo(D_800F93A8)\n  move  S0, R0\n  lui   S1, hi(D_80111974)\n  addiu S1, S1, lo(D_80111974)\n  sll   V0, S0, 1\nL80102B80:\n  addu  V0, V0, S1\n  lh    A0, 0(V0)\n  jal   func_8006836C\n   addiu S0, S0, 1\n  slti  V0, S0, 7\n  bnez  V0, L80102B80\n   sll   V0, S0, 1\n  lh    V0, 0xa(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\n  lui   S0, hi(D_80111984)\n  addiu S0, S0, lo(D_80111984)\n  lui   A0, hi(D_80111984)\n  addu  A0, A0, V0\n  lh    A0, lo(D_80111984)(A0)\n  jal   func_8005521C\n   li    A1, 14\n  lh    V0, 0xa(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111974)\n  addu  A0, A0, V0\n  jal   func_800683BC\n   lh    A0, lo(D_80111974)(A0)\n  lh    V1, 0x1c(S2)\n  li    V0, -1\n  beq   V1, V0, L80102C24\n   sll   V0, V1, 1\n  addu  V0, V0, S0\n  lh    A0, 0(V0)\n  jal   func_8005521C\n   li    A1, 15\n  lh    V0, 0x1c(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S0\n  jal   func_800509C4\n   lh    A0, 0(V0)\nL80102C24:\n  lw    RA, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_80102C3C:\n  addiu SP, SP, -0x28\n  sw    RA, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S1, hi(D_800F93A8)\n  addiu S1, S1, lo(D_800F93A8)\n  move  S0, R0\n  lui   A1, hi(D_80111984)\n  addiu A1, A1, lo(D_80111984)\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0x10\n  sll   V1, S0, 1\nL80102C6C:\n  addu  V0, V1, A1\n  lh    V0, 0(V0)\n  bnel  A0, V0, L80102D04\n   addiu S0, S0, 1\n  lh    V0, 0xa(S1)\n  sll   V0, V0, 1\n  addu  V0, V0, S1\n  lh    V0, 0xc(V0)\n  bne   S0, V0, L80102CAC\n   nop\n  lui   V0, hi(D_80111974)\n  addu  V0, V0, V1\n  lhu   V0, lo(D_80111974)(V0)\n  sh    V0, 0x1a(S1)\n  j     L80102D14\n   li    V0, 1\nL80102CAC:\n  lh    V0, 0x1c(S1)\n  beq   S0, V0, L80102D14\n   li    V0, 2\n  jal   func_80068328\n   li    A0, 68\n  bnez  V0, L80102CCC\n   li    A0, 7\n  lh    A0, 0xa(S1)\nL80102CCC:\n  blez  A0, L80102D10\n   move  V1, R0\n  sll   V0, V1, 1\nL80102CD8:\n  addu  V0, V0, S1\n  lh    V0, 0xc(V0)\n  bne   S0, V0, L80102CF0\n   addiu V1, V1, 1\n  j     L80102D14\n   li    V0, 3\nL80102CF0:\n  slt   V0, V1, A0\n  bnez  V0, L80102CD8\n   sll   V0, V1, 1\n  j     L80102D14\n   move  V0, R0\nL80102D04:\n  slti  V0, S0, 7\n  bnez  V0, L80102C6C\n   sll   V1, S0, 1\nL80102D10:\n  move  V0, R0\nL80102D14:\n  lw    RA, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_80102D28:\n  addiu SP, SP, -0x50\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  sdc1  F30, 0x48(SP)\n  sdc1  F28, 0x40(SP)\n  sdc1  F26, 0x38(SP)\n  sdc1  F24, 0x30(SP)\n  sdc1  F22, 0x28(SP)\n  jal   func_8007D838\n   sdc1  F20, 0x20(SP)\n  lw    S0, 0x8c(V0)\n  jal   func_8007959C\n   li    A0, 846\n  li    A0, 25\n  jal   func_80043510\n   move  A1, R0\n  move  S1, V0\n  lhu   V0, 0xa(S1)\n  ori   V0, V0, 4\n  sh    V0, 0xa(S1)\n  jal   func_80056754\n   move  A0, S1\n  addiu A0, S1, 0xc\n  jal   func_800B3170\n   addiu A1, S0, 8\n  li    AT, 0x42480000 ;50.0\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x30(S1)\n  move  A0, S1\n  jal   func_80049ED4\n   move  A1, R0\n  move  S2, V0\n  li    AT, 0x3DCC0000 ;0.099609\n  ori   AT, AT, 0xcccd\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x18(S2)\n  mtc1  R0, F20\n  move  S0, R0\n  li    AT, 0x3F000000 ;0.500000\n  mtc1  AT, F22\nL80102DD8:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S1, 0x24\n  jal   func_8007DA44\n   add.s F20, F20, F22\n  addiu S0, S0, 1\n  slti  V0, S0, 6\n  bnez  V0, L80102DD8\n   nop\n  move  S0, R0\n  li    AT, 0x3ECC0000\n  ori   AT, AT, 0xcccd\n  mtc1  AT, F22\nL80102E18:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S1, 0x24\n  jal   func_8007DA44\n   sub.s F20, F20, F22\n  addiu S0, S0, 1\n  slti  V0, S0, 3\n  bnez  V0, L80102E18\n   nop\n  jal   func_8007D9E0\n   li    A0, 30\n  jal   func_8007959C\n   li    A0, 812\n  mtc1  R0, F22\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F30\n  li    AT, 0x3D230000 ;0.039795\n  ori   AT, AT, 0xd70a\n  mtc1  AT, F28\n  mtc1  R0, F26\n  li    AT, 0x3F990000 ;1.195312\n  ori   AT, AT, 0x999a\n  mtc1  AT, F24\nL80102E80:\n  lw    V0, 0x3c(S1)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B39F0\n   addiu A0, A0, 0x74\n  sub.s F20, F20, F28\n  c.lt.s F20, F26\n  nop\n  nop\n  bc1t  L80102EFC\n   add.s F22, F22, F30\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S1, 0x24\n  lwc1  F0, 0x30(S1)\n  sub.s F0, F0, F24\n  jal   func_8007DA44\n   swc1  F0, 0x30(S1)\n  j     L80102E80\n   nop\nL80102EFC:\n  jal   func_80049F90\n   move  A0, S2\n  jal   func_8004430C\n   move  A0, S1\n  lui   AT, hi(D_801136D0)\n  sw    R0, lo(D_801136D0)(AT)\n  jal   func_80076FCC\n   move  A0, R0\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  ldc1  F30, 0x48(SP)\n  ldc1  F28, 0x40(SP)\n  ldc1  F26, 0x38(SP)\n  ldc1  F24, 0x30(SP)\n  ldc1  F22, 0x28(SP)\n  ldc1  F20, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x50\n\nfunc_80102F4C:\n  addiu SP, SP, -0x28\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  sdc1  F20, 0x20(SP)\n  move  S1, A0\n  lw    S0, 0(S1)\n  li    AT, 0x40800000 ;4.000000\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x34(S0)\n  li    AT, 0xBF190000 ;-0.597656\n  ori   AT, AT, 0x999a\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x38(S0)\n  jal   func_8007D9E0\n   li    A0, 3\n  mtc1  R0, F2\n  lwc1  F0, 0x38(S0)\n  c.eq.s F0, F2\n  nop\n  bc1t  L80102FCC\n   nop\n  mtc1  R0, F20\nL80102FB0:\n  jal   func_8007DA44\n   nop\n  lwc1  F0, 0x38(S0)\n  c.eq.s F0, F20\n  nop\n  bc1f  L80102FB0\n   nop\nL80102FCC:\n  lw    A0, 0(S1)\n  move  A1, R0\n  jal   func_80044494\n   li    A2, 2\n  jal   func_8005B338\n   move  A0, S1\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  ldc1  F20, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\n; show_next_star_fn?\nfunc_80102FFC:\n  addiu SP, SP, -0x38\n  sw    RA, 0x30(SP)\n  sw    S3, 0x2c(SP)\n  sw    S2, 0x28(SP)\n  sw    S1, 0x24(SP)\n  sw    S0, 0x20(SP)\n  lui   S2, hi(D_800F93A8)\n  addiu S2, S2, lo(D_800F93A8)\n  move  S3, R0\n  lui   AT, hi(D_800CCC18)\n  sw    R0, lo(D_800CCC18)(AT)\n  lui   V0, hi(D_800F93AA)\n  lh    V0, lo(D_800F93AA)(V0)\n  sll   V0, V0, 2\n  lui   A0, hi(D_800CC6A8)\n  addu  A0, A0, V0\n  lw    A0, lo(D_800CC6A8)(A0)\n  jal   func_80050304\n   move  A1, R0\n  move  S1, V0\n  lui   V0, hi(D_800F93AA)\n  lh    V0, lo(D_800F93AA)(V0)\n  sll   V0, V0, 2\n  lui   AT, hi(D_800CC6C4)\n  addu  AT, AT, V0\n  jal   func_800B83C0\n   lwc1  F12, lo(D_800CC6C4)(AT)\n  lw    V0, 0(S1)\n  swc1  F0, 0x18(V0)\n  lui   V0, hi(D_800F93AA)\n  lh    V0, lo(D_800F93AA)(V0)\n  sll   V0, V0, 2\n  lui   AT, hi(D_800CC6C4)\n  addu  AT, AT, V0\n  jal   func_800B7890\n   lwc1  F12, lo(D_800CC6C4)(AT)\n  lw    V0, 0(S1)\n  swc1  F0, 0x20(V0)\n  jal   func_8005B338\n   move  A0, S1\n  jal   func_80079390\n   li    A0, 17\n  lw    A0, 0(S1)\n  li    A1, 2\n  lui   A3, hi(D_801119A4)\n  lw    A3, lo(D_801119A4)(A3)\n  jal   func_8005AB50\n   li    A2, 8\n  jal   func_80067558\n   nop\n  li    A0, 2\n  jal   func_8008F544\n   li    A1, 16\nL801030D0:\n  jal   func_8008F618\n   nop\n  beqz  V0, L801030F0\n   nop\n  jal   func_8007DA44\n   nop\n  j     L801030D0\n   nop\nL801030F0:\n  jal   func_80051500\n   nop\n  li    AT, 0x40400000 ;3.000000\n  mtc1  AT, F12\n  jal   func_80053608\n   nop\n  jal   func_80102F4C\n   move  A0, S1\n  lh    V0, 0xa(S2)\n  bnez  V0, L80103144\n   nop\n  jal   func_80068328\n   li    A0, 68\n  bnez  V0, L80103144\n   nop\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  beqz  V0, L8010315C\n   li    A1, 1711\n  j     L8010315C\n   li    A1, 1713\nL80103144:\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  sltu  V0, R0, V0\n  subu V0, R0, V0\n  andi  V0, V0, 0x6b1\n  ori   A1, V0, 0x6b0\nL8010315C:\n  lh    A0, 8(S1)\n  li    A2, -1\n  jal   func_800890CC\n   li    A3, -1\n  lh    A0, 8(S1)\n  jal   func_8008E2DC\n   li    A1, 1\n  jal   func_8007959C\n   li    A0, 286\n  lh    A0, 8(S1)\n  jal   func_80057DC0\n   nop\n  li    V0, 2\n  sw    V0, 0x10(SP)\n  lw    A0, 0(S1)\n  li    A1, -1\n  move  A2, R0\n  jal   func_80044530\n   li    A3, 6\n  jal   func_8005B338\n   move  A0, S1\n  lh    A0, 8(S1)\n  jal   func_8008E4D0\n   li    A1, 1\n  lw    V0, 0(S1)\n  lw    V0, 0x3c(V0)\n  lw    V0, 0x40(V0)\n  jal   func_8002D4A0\n   lh    A0, 0(V0)\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  beqz  V0, L80103204\n   nop\n  jal   GetRandomByte\n   nop\n  andi  S3, V0, 1\n  andi  V0, S3, 0xff\n  bnez  V0, L80103204\n   nop\n  lh    V0, 0x1c(S2)\n  j     L80103218\n   sll   V0, V0, 1\nL80103204:\n  lh    V0, 0xa(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\nL80103218:\n  lui   A0, hi(D_80111994)\n  addu  A0, A0, V0\n  jal   func_80054B8C\n   lh    A0, lo(D_80111994)(A0)\n  move  S0, V0\n  jal   func_80053620\n   addiu A0, S0, 8\n  li    AT, 0x40600000 ;3.500000\n  mtc1  AT, F12\n  jal   func_80053980\n   nop\n  jal   func_8007D9E0\n   li    A0, 5\nL8010324C:\n  jal   func_80053998\n   nop\n  beqz  V0, L8010326C\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010324C\n   nop\nL8010326C:\n  jal   func_8007D9E0\n   li    A0, 5\n  lw    A0, 0(S1)\n  move  A1, R0\n  jal   func_80044494\n   li    A2, 2\n  jal   func_8005B338\n   move  A0, S1\n  lui   V0, hi(D_8010008C) ; TODO?\n  lh    V0, lo(D_800F8D12)(V0)\n  bnez  V0, L801032CC\n   move  A2, R0\n  lui   A0, hi(func_80102D28)\n  addiu A0, A0, lo(func_80102D28)\n  li    A1, 18432\n  jal   InitProcess\n   move  A3, R0\n  lui   AT, hi(D_801136D0)\n  sw    V0, lo(D_801136D0)(AT)\n  sw    S0, lo(D_8010008C)(V0)\n  jal   func_8007D9E0\n   li    A0, 30\n  j     L801032D4\n   nop\nL801032CC:\n  lui   AT, hi(D_801136D0)\n  sw    R0, lo(D_801136D0)(AT)\nL801032D4:\n  lh    V1, 8(S1)\n  lui   A0, hi(D_800F920C)\n  lw    A0, lo(D_800F920C)(A0)\n  sll   V0, V1, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 5\n  subu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  li    V1, 1\n  jal   func_8007DA44\n   sb    V1, 0x20(V0)\n  lh    A0, 8(S1)\n  jal   func_8008E2DC\n   li    A1, 1\n  lh    A0, 8(S1)\n  jal   func_80057DC0\n   nop\n  li    V0, 2\n  sw    V0, 0x10(SP)\n  lw    A0, 0(S1)\n  li    A1, -1\n  move  A2, R0\n  jal   func_80044530\n   li    A3, 6\n  jal   func_8005B338\n   move  A0, S1\n  lh    A0, 8(S1)\n  jal   func_8008E4D0\n   li    A1, 1\n  lw    V0, 0(S1)\n  lw    V0, 0x3c(V0)\n  lw    V0, 0x40(V0)\n  jal   func_8002D4A0\n   lh    A0, 0(V0)\n  lh    V1, 0x1c(S2)\n  li    V0, -1\n  beq   V1, V0, L801034D0\n   nop\n  lui   V0, hi(D_801136D0)\n  lw    V0, lo(D_801136D0)(V0)\n  beqz  V0, L80103398\n   nop\nL80103380:\n  jal   func_8007DA44\n   nop\n  lui   V0, hi(D_801136D0)\n  lw    V0, lo(D_801136D0)(V0)\n  bnez  V0, L80103380\n   nop\nL80103398:\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  beqz  V0, L801033C8\n   andi  V0, S3, 0xff\n  bnez  V0, L801033C8\n   nop\n  lh    V0, 0xa(S2)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  lh    V0, 0xc(V0)\n  j     L801033D0\n   sll   V0, V0, 1\nL801033C8:\n  lh    V0, 0x1c(S2)\n  sll   V0, V0, 1\nL801033D0:\n  lui   A0, hi(D_80111994)\n  addu  A0, A0, V0\n  jal   func_80054B8C\n   lh    A0, lo(D_80111994)(A0)\n  move  S0, V0\n  jal   func_80053620\n   addiu A0, S0, 8\n  li    AT, 0x40600000 ;3.500000\n  mtc1  AT, F12\n  jal   func_80053980\n   nop\n  jal   func_8007D9E0\n   li    A0, 5\nL80103404:\n  jal   func_80053998\n   nop\n  beqz  V0, L80103424\n   nop\n  jal   func_8007DA44\n   nop\n  j     L80103404\n   nop\nL80103424:\n  jal   func_8007D9E0\n   li    A0, 5\n  lw    A0, 0(S1)\n  move  A1, R0\n  jal   func_80044494\n   li    A2, 2\n  lw    V0, 0(S1)\n  lw    V0, 0x3c(V0)\n  lw    V1, 0x40(V0)\n  lh    V0, 2(S2)\n  sll   V0, V0, 2\n  lh    A0, 0(V1)\n  lui   A1, hi(D_801119AC)\n  addu  A1, A1, V0\n  jal   func_80029FE4\n   lw    A1, lo(D_801119AC)(A1)\n  jal   func_8005B338\n   move  A0, S1\n  lw    A0, 0(S1)\n  lui   A1, hi(D_801119A8)\n  jal   func_8005AC6C\n   lw    A1, lo(D_801119A8)(A1)\n  lh    V1, 8(S1)\n  lui   A0, hi(D_800F920C)\n  lw    A0, lo(D_800F920C)(A0)\n  sll   V0, V1, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 5\n  subu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  li    V1, 1\n  jal   func_8007DA44\n   sb    V1, 0x20(V0)\n  lh    A0, 8(S1)\n  jal   func_8008E2DC\n   li    A1, 1\n  lh    A0, 8(S1)\n  jal   func_80057DC0\n   nop\n  lh    A0, 8(S1)\n  jal   func_8008E4D0\n   li    A1, 1\nL801034D0:\n  jal   func_800794A8\n   li    A0, 90\n  jal   func_8007D9E0\n   li    A0, 30\n  li    A0, 2\n  jal   func_8008F5AC\n   li    A1, 16\n  jal   func_8007D9E0\n   li    A0, 17\n  li    V0, 1\n  lui   AT, hi(D_800CCC18)\n  jal   func_80067720\n   sw    V0, lo(D_800CCC18)(AT)\n  jal   func_8005057C\n   move  A0, S1\n  jal   func_80063178\n   nop\n  jal   func_80077160\n   li    A0, 1\n  jal   func_80077574\n   nop\n  jal   func_8007DA44\n   nop\n  lw    RA, 0x30(SP)\n  lw    S3, 0x2c(SP)\n  lw    S2, 0x28(SP)\n  lw    S1, 0x24(SP)\n  lw    S0, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x38\n\nfunc_80103548:\n  addiu SP, SP, -0x60\n  sw    RA, 0x30(SP)\n  sw    S3, 0x2c(SP)\n  sw    S2, 0x28(SP)\n  sw    S1, 0x24(SP)\n  sw    S0, 0x20(SP)\n  sdc1  F28, 0x58(SP)\n  sdc1  F26, 0x50(SP)\n  sdc1  F24, 0x48(SP)\n  sdc1  F22, 0x40(SP)\n  jal   func_8007D838\n   sdc1  F20, 0x38(SP)\n  lw    S0, 0x8c(V0)\n  jal   func_8005DC3C\n   li    A0, -1\n  move  S3, V0\n  lui   V0, hi(D_801119D0)\n  lw    V0, lo(D_801119D0)(V0)\n  bnez  V0, L8010359C\n   li    A0, 846\n  li    A0, 853\nL8010359C:\n  jal   func_8007959C\n   nop\n  lui   V0, hi(D_801136D4)\n  lw    V0, lo(D_801136D4)(V0)\n  bnez  V0, L801035B8\n   li    A0, 13\n  li    A0, 25\nL801035B8:\n  jal   func_80043510\n   move  A1, R0\n  move  S1, V0\n  lhu   V0, 0xa(S1)\n  ori   V0, V0, 4\n  sh    V0, 0xa(S1)\n  jal   func_80056754\n   move  A0, S1\n  lwc1  F2, 0x10(S0)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F0\n  lw    A1, 0xc(S0)\n  add.s F0, F2, F0\n  mfc1  A2, F0\n  lw    A3, 0x14(S0)\n  jal   func_800B3160\n   addiu A0, S1, 0xc\n  lui   V0, hi(D_800C9B80)\n  lw    V0, lo(D_800C9B80)(V0)\n  lw    A1, 0xc(V0)\n  lw    A2, 0x10(V0)\n  lw    A3, 0x14(V0)\n  jal   func_800B3160\n   addiu A0, SP, 0x10\n  li    AT, 0x41700000 ;15.000000\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x30(S1)\n  move  A0, S1\n  jal   func_80049ED4\n   move  A1, R0\n  move  S2, V0\n  li    AT, 0x3DCC0000 ;0.099609\n  ori AT, AT, 0xcccd\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x18(S2)\n  mtc1  R0, F20\n  move  S0, R0\n  li    AT, 0x3F000000 ;0.500000\n  mtc1  AT, F22\nL8010365C:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S1, 0x24\n  jal   func_8007DA44\n   add.s F20, F20, F22\n  addiu S0, S0, 1\n  slti  V0, S0, 6\n  bnez  V0, L8010365C\n   nop\n  move  S0, R0\n  li    AT, 0x3ECC0000 ;0.398438\n  ori AT, AT, 0xcccd\n  mtc1  AT, F22\nL8010369C:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S1, 0x24\n  jal   func_8007DA44\n   sub.s F20, F20, F22\n  addiu S0, S0, 1\n  slti  V0, S0, 3\n  bnez  V0, L8010369C\n   nop\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_8007959C\n   li    A0, 812\n  mtc1  R0, F22\n  lw    V0, 0x24(S3)\n  lwc1  F2, 0x10(V0)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F0\n  lw    A1, 0xc(V0)\n  sub.s F0, F2, F0\n  mfc1  A2, F0\n  lw    A3, 0x14(V0)\n  jal   func_800B3160\n   addiu A0, SP, 0x10\n  addiu A2, S1, 0xc\n  move  A0, A2\n  addiu A1, SP, 0x10\n  jal   func_80056D80\n   li    A3, 40\n  move  S0, R0\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  li    AT, 0x3D4C0000 ;0.049805\n  ori AT, AT, 0xcccd\n  mtc1  AT, F26\n  mtc1  R0, F24\nL80103738:\n  lw    V0, 0x3c(S1)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B39F0\n   addiu A0, A0, 0x74\n  sub.s F20, F20, F26\n  c.lt.s F20, F24\n  nop\n  nop\n  bc1f  L80103788\n   add.s F22, F22, F28\n  mov.s F20, F24\nL80103788:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S1, 0x24\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0x28\n  bnez  V0, L80103738\n   nop\n  jal   func_8004430C\n   move  A0, S1\n  jal   func_80049F90\n   move  A0, S2\n  lw    A0, 0x24(S3)\n  jal   func_8005670C\n   addiu A0, A0, 0x18\n  lui   V0, hi(D_801136D4)\n  lw    V0, lo(D_801136D4)(V0)\n  bnez  V0, L801038D0\n   li    A0, -1\n  jal   func_80067170\n   li    A1, 5\n  lui   V0, hi(D_801119D0)\n  lw    V0, lo(D_801119D0)(V0)\n  beqz  V0, L80103808\n   nop\n  jal   func_80079428\n   li    A0, 92\n  j     L80103810\n   nop\nL80103808:\n  jal   func_80079390\n   li    A0, 92\nL80103810:\n  lui   A0, hi(D_800F93C6)\n  addiu A0, A0, lo(D_800F93C6)\n  lh    V1, 0(A0)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   V1, hi(p1_stars)\n  addu  V1, V1, V0\n  lhu   V1, lo(p1_stars)(V1)\n  addiu V1, V1, 1\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  sh    V1, lo(p1_stars)(AT)\n  lh    V1, 0(A0)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V1, V0, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  slti  V0, V0, 0x64\n  bnez  V0, L8010388C\n   li    A0, -1\n  li    V0, 99\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V1\n  sh    V0, lo(p1_stars)(AT)\nL8010388C:\n  li    A1, 6\n  jal   func_8005DD68\n   move  A2, R0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(p1_char)\n  addu  A1, A1, V0\n  lbu   A1, lo(p1_char)(A1)\n  jal   func_80079718\n   li    A0, 245\n  j     L80103928\n   nop\nL801038D0:\n  jal   func_80067170\n   li    A1, 5\n  jal   func_80079428\n   li    A0, 93\n  li    A0, -1\n  li    A1, 3\n  jal   func_8005DD68\n   move  A2, R0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(p1_char)\n  addu  A1, A1, V0\n  lbu   A1, lo(p1_char)(A1)\n  jal   func_80079718\n   li    A0, 273\n  jal   func_8007D9E0\n   li    A0, 30\nL80103928:\n  jal   func_8007D9E0\n   li    A0, 60\n  jal   func_80076FCC\n   move  A0, R0\n  lw    RA, 0x30(SP)\n  lw    S3, 0x2c(SP)\n  lw    S2, 0x28(SP)\n  lw    S1, 0x24(SP)\n  lw    S0, 0x20(SP)\n  ldc1  F28, 0x58(SP)\n  ldc1  F26, 0x50(SP)\n  ldc1  F24, 0x48(SP)\n  ldc1  F22, 0x40(SP)\n  ldc1  F20, 0x38(SP)\n  jr    RA\n   addiu SP, SP, 0x60\n\nfunc_80103968:\n  addiu SP, SP, -0x20\n/*  */  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S1, A0\n  lui   AT, hi(D_800FC734)\n  sh    R0, lo(D_800FC734)(AT)\n  lui   AT, hi(D_801136D4)\n  sw    R0, lo(D_801136D4)(AT)\n  lui   A0, hi(func_80103548)\n  addiu A0, A0, lo(func_80103548)\n  li    A1, 18432\n  move  A2, R0\n  jal   InitProcess\n   move  A3, R0\n  move  S0, V0\n  jal   func_8007D838\n   sw    S1, 0x8c(S0)\n  move  A0, V0\n  jal   func_8007D700\n   move  A1, S0\n  jal   func_8007D7E8\n   nop\n  li    V0, 1\n  lui   AT, hi(D_800FC734)\n  sh    V0, lo(D_800FC734)(AT)\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_801039E4:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S1, A0\n  lui   AT, hi(D_800FC734)\n  sh    R0, lo(D_800FC734)(AT)\n  li    V0, 1\n  lui   AT, hi(D_801136D4)\n  sw    V0, lo(D_801136D4)(AT)\n  lui   A0, hi(func_80103548)\n  addiu A0, A0, lo(func_80103548)\n  li    A1, 18432\n  move  A2, R0\n  jal   InitProcess\n   move  A3, R0\n  move  S0, V0\n  jal   func_8007D838\n   sw    S1, 0x8c(S0)\n  move  A0, V0\n  jal   func_8007D700\n   move  A1, S0\n  jal   func_8007D7E8\n   nop\n  li    V0, 1\n  lui   AT, hi(D_800FC734)\n  sh    V0, lo(D_800FC734)(AT)\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\n; View map?\n__PP64_INTERNAL_VIEW_MAP:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  li    S0, 1\n  lui   AT, hi(D_800FA198)\n  sh    S0, lo(D_800FA198)(AT) ; set 1 to indicate map is being viewed?\n  lui   AT, hi(D_800FC734)\n  jal   func_8007D838\n   sh    R0, lo(D_800FC734)(AT)\n  move  A0, V0\n  jal   func_80076B44\n   li    A1, 128\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(p1_controller)\n  addu  A0, A0, V0\n  jal   func_80067C6C\n   lbu   A0, lo(p1_controller)(A0)\n  jal   func_8007D838\n   nop\n  move  A0, V0\n  jal   func_80076B70\n   li    A1, 128\n  lui   AT, hi(D_800FA198)\n  sh    R0, lo(D_800FA198)(AT)\n  lui   AT, hi(D_800FC734)\n  sh    S0, lo(D_800FC734)(AT)\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80103AF4:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  li    S0, 1\n  lui   AT, hi(D_800FA198)\n  sh    S0, lo(D_800FA198)(AT)\n  lui   AT, hi(D_800FC734)\n  jal   func_8007D838\n   sh    R0, lo(D_800FC734)(AT)\n  move  A0, V0\n  jal   func_80076B44\n   li    A1, 128\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(p1_controller)\n  addu  A0, A0, V0\n  jal   func_80067C6C\n   lbu   A0, lo(p1_controller)(A0)\n  lui   AT, hi(D_800FA198)\n  sh    R0, lo(D_800FA198)(AT)\n  lui   AT, hi(D_800FC734)\n  sh    S0, lo(D_800FC734)(AT)\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80103B70:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   GetRandomByte\n   nop\n  andi  V0, V0, 0xff\n  mtc1  V0, F0\n  nop\n  cvt.s.w F0, F0\n  li    AT, 0x43800000 ;256.000000\n  mtc1  AT, F2\n  nop\n  div.s F0, F0, F2\n  li    AT, 0x42C80000 ;100.000000\n  mtc1  AT, F2\n  nop\n  mul.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80103CF4:\n  addiu SP, SP, -0x48\n  sw    RA, 0x40(SP)\n  sw    S5, 0x3c(SP)\n  sw    S4, 0x38(SP)\n  sw    S3, 0x34(SP)\n  sw    S2, 0x30(SP)\n  sw    S1, 0x2c(SP)\n  sw    S0, 0x28(SP)\n  move  S5, A0\n  move  S2, R0\n  lui   A1, hi(D_80113590)\n  addiu A1, A1, lo(D_80113590)\n  lwl   V0, 0(A1)\n  lwr   V0, 3(A1)\n  swl   V0, 0x20(SP)\n  swr   V0, 0x23(SP)\n  move  S1, R0\n  lui   S4, hi(D_800F93C6)\n  addiu S4, S4, lo(D_800F93C6)\n  addiu S3, SP, 0x18\nL80103D44:\n  lh    V0, 0(S4)\n  bne   S1, V0, L80103E10\n   sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(D_800FD2C6)\n  addu  AT, AT, V0\n  lhu   V0, lo(D_800FD2C6)(AT)\n  andi  V0, V0, 1\n  beqz  V0, L80103DBC\n   sll   S0, S1, 1\n  jal   func_8011155C\n   addiu S1, S1, 1\n  move  S2, V0\n  lh    V1, 0(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, 1024\n  j     L80103E3C\n   sh    V1, 0(V0)\nL80103DBC:\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  addu  V0, SP, V0\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  lbu   A1, 0x20(V0)\n  jal   func_8008D59C\n   addiu S1, S1, 1\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, -1\n  j     L80103E3C\n   sh    V1, 0(V0)\nL80103E10:\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  sh    R0, 0(V0)\n  addiu S1, S1, 1\nL80103E3C:\n  slti  V0, S1, 4\n  bnez  V0, L80103D44\n   nop\n  beqz  S2, L80103EFC\n   li    A1, 2\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_80089284\n   li    A2, 2\n  move  S0, R0\n  addiu S1, SP, 0x18\nL80103E68:\n  addiu S2, S2, -1\n  bnez  S2, L80103EAC\n   nop\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S1\n  li    V1, -32768\n  sh    V1, 0(V0)\nL80103EAC:\n  bnez  S0, L80103ED4\n   li    V0, 16\n  jal   func_80057718\n   nop\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  j     L80103EE4\n   andi  V0, V0, 0xff\nL80103ED4:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\nL80103EE4:\n  jal   func_8008CFD0\n   sw    V0, 0x10(SP)\n  bnez  S2, L80103E68\n   addiu S0, S0, 1\n  j     L80103F14\n   move  S1, R0\nL80103EFC:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  jal   func_8008D07C\n   move  S1, R0\nL80103F14:\n  addu  V0, S5, S1\nL80103F18:\n  lbu   V0, 0(V0)\n  bnel  V0, R0, L80103F3C\n   addiu S1, S1, 1\n  sll   A1, S1, 0x10\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_8008D854\n   sra   A1, A1, 0x10\n  addiu S1, S1, 1\nL80103F3C:\n  slti  V0, S1, 2\n  bnez  V0, L80103F18\n   addu  V0, S5, S1\n  move  S1, R0\n  li    S0, -1\n  sll   A1, S1, 0x10\nL80103F54:\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  sra   A1, A1, 0x10\n  jal   func_8008BB48\n   move  A2, R0\n  move  S1, V0\n  beq   S1, S0, L80103F88\n   addu  V0, S5, S1\n  lbu   V0, 0(V0)\n  beqz  V0, L80103F54\n   sll   A1, S1, 0x10\n  j     L80103F8C\n   move  V0, S1\nL80103F88:\n  li    V0, -1\nL80103F8C:\n  lw    RA, 0x40(SP)\n  lw    S5, 0x3c(SP)\n  lw    S4, 0x38(SP)\n  lw    S3, 0x34(SP)\n  lw    S2, 0x30(SP)\n  lw    S1, 0x2c(SP)\n  lw    S0, 0x28(SP)\n  jr    RA\n   addiu SP, SP, 0x48\n\n__PP64_INTERNAL_RAND_MESSAGE_CHOICE:\nfunc_80103FB0:\n  addiu SP, SP, -0x40\n  sw    RA, 0x38(SP)\n  sw    S3, 0x34(SP)\n  sw    S2, 0x30(SP)\n  sw    S1, 0x2c(SP)\n  sw    S0, 0x28(SP)\n  move  S2, R0\n  lui   A1, hi(D_80113590)\n  addiu A1, A1, lo(D_80113590)\n  lwl   V0, 0(A1)\n  lwr   V0, 3(A1)\n  swl   V0, 0x20(SP)\n  swr   V0, 0x23(SP)\n  move  S1, R0\n  addiu S3, SP, 0x18\nL80103FEC:\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  bne   S1, V0, L801040A4\n   sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   S0, V0, 2\n  lui   V0, hi(D_800FD2C6)\n  addu  V0, V0, S0\n  lhu   V0, lo(D_800FD2C6)(V0)\n  andi  V0, V0, 1\n  beql  V0, R0, L80104050\n   sll   S0, S1, 1\n  jal   func_801118D8\n   addiu S1, S1, 1\n  move  S2, V0\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, 1024\n  j     L801040D0\n   sh    V1, 0(V0)\nL80104050:\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  addu  V0, SP, V0\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  lbu   A1, 0x20(V0)\n  jal   func_8008D59C\n   addiu S1, S1, 1\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, -1\n  j     L801040D0\n   sh    V1, 0(V0)\nL801040A4:\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  sh    R0, 0(V0)\n  addiu S1, S1, 1\nL801040D0:\n  slti  V0, S1, 4\n  bnez  V0, L80103FEC\n   nop\n  beqz  S2, L80104190\n   li    A1, 2\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_80089284\n   li    A2, 2\n  move  S0, R0\n  addiu S1, SP, 0x18\nL801040FC:\n  addiu S2, S2, -1\n  bnez  S2, L80104140\n   nop\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S1\n  li    V1, -32768\n  sh    V1, 0(V0)\nL80104140:\n  bnez  S0, L80104168\n   li    V0, 16\n  jal   func_80057718\n   nop\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  j     L80104178\n   andi  V0, V0, 0xff\nL80104168:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\nL80104178:\n  jal   func_8008CFD0\n   sw    V0, 0x10(SP)\n  bnez  S2, L801040FC\n   addiu S0, S0, 1\n  j     L801041A4\n   nop\nL80104190:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  jal   func_8008D07C\n   lh    A3, 0x1e(SP)\nL801041A4:\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  move  A1, R0\n  jal   func_8008BB48\n   li    A2, 1\n  lw    RA, 0x38(SP)\n  lw    S3, 0x34(SP)\n  lw    S2, 0x30(SP)\n  lw    S1, 0x2c(SP)\n  lw    S0, 0x28(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\nfunc_801041D4:\n  addiu SP, SP, -0x40\n  sw    RA, 0x38(SP)\n  sw    S3, 0x34(SP)\n  sw    S2, 0x30(SP)\n  sw    S1, 0x2c(SP)\n  sw    S0, 0x28(SP)\n  move  S3, R0\n  lui   A1, hi(D_80113590)\n  addiu A1, A1, lo(D_80113590)\n  lwl   V0, 0(A1)\n  lwr   V0, 3(A1)\n  swl   V0, 0x20(SP)\n  swr   V0, 0x23(SP)\n  move  S1, R0\n  addiu S2, SP, 0x18\nL80104210:\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  bne   S1, V0, L801042C0\n   sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V1, V0, 2\n  lui   V0, hi(D_800FD2C6)\n  addu  V0, V0, V1\n  lhu   V0, lo(D_800FD2C6)(V0)\n  andi  V0, V0, 1\n  beqz  V0, L8010426C\n   sll   S0, S1, 1\n  li    S3, 1\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, V1\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  li    V1, -32768\n  j     L801042E8\n   sh    V1, 0(V0)\nL8010426C:\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  addu  V0, SP, V0\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  lbu   A1, 0x20(V0)\n  jal   func_8008D59C\n   addiu S1, S1, 1\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  li    V1, -1\n  j     L801042EC\n   sh    V1, 0(V0)\nL801042C0:\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S2\n  sh    R0, 0(V0)\nL801042E8:\n  addiu S1, S1, 1\nL801042EC:\n  slti  V0, S1, 4\n  bnez  V0, L80104210\n   nop\n  beqz  S3, L8010433C\n   li    A1, 2\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_80089284\n   li    A2, 2\n  jal   func_80057718\n   nop\n  andi  V0, V0, 0xff\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  jal   func_8008CFD0\n   sw    V0, 0x10(SP)\n  j     L80104350\n   nop\nL8010433C:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  jal   func_8008D07C\n   lh    A3, 0x1e(SP)\nL80104350:\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  move  A1, R0\n  jal   func_8008BB48\n   li    A2, 1\n  lw    RA, 0x38(SP)\n  lw    S3, 0x34(SP)\n  lw    S2, 0x30(SP)\n  lw    S1, 0x2c(SP)\n  lw    S0, 0x28(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\nfunc_80104380:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  V1, R0\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\nL8010439C:\n  beq   V1, A0, L801043C8\n   sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  bnez  V0, L801043D8\n   li    V0, 4\nL801043C8:\n  addiu V1, V1, 1\n  slti  V0, V1, 4\n  bnez  V0, L8010439C\n   li    V0, 4\nL801043D8:\n  beq   V1, V0, L80104534\n   nop\n  lui   A0, hi(D_800F93C6)\n  addiu A0, A0, lo(D_800F93C6)\n  lh    V0, 0(A0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 0x32\n  bnez  V0, L80104534\n   nop\n  lh    V1, -0x18(A0)\n  lh    V0, -0x16(A0)\n  beq   V1, V0, L801045A4\n   li    V0, 1\n  lui   V0, hi(D_800F93B0)\n  lh    V0, lo(D_800F93B0)(V0)\n  slti  V0, V0, 0xa\n  beqz  V0, L80104444\n   nop\n  j     L8010445C\n   move  S1, R0\nL80104444:\n  lui   V0, hi(D_800F93B0)\n  lh    V0, lo(D_800F93B0)(V0)\n  slti  V0, V0, 0x1e\n  beqz  V0, L8010445C\n   li    S1, 2\n  li    S1, 1\nL8010445C:\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 0x3d\n  bnez  V0, L80104500\n   move  S0, R0\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 0x47\n  bnez  V0, L80104500\n   li    S0, 1\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 0x65\n  xori  V0, V0, 1\n  subu V0, R0, V0\n  andi  V0, V0, 3\n  ori   S0, V0, 2\nL80104500:\n  jal   func_80103B70\n   nop\n  lui   A0, hi(D_801119D4)\n  addiu A0, A0, lo(D_801119D4)\n  sll   V1, S1, 2\n  addu  V1, V1, A0\n  addu  V1, V1, S0\n  lbu   V1, 0(V1)\n  slt   V0, V0, V1\n  beqz  V0, L80104548\n   li    V0, 1\n  lui   AT, hi(D_80113710)\n  sw    V0, lo(D_80113710)(AT)\nL80104534:\n  lui   V1, hi(D_80113710)\n  lw    V1, lo(D_80113710)(V1)\n  li    V0, 1\n  beq   V1, V0, L801045AC\n   nop\nL80104548:\n  move  V1, R0\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\nL80104554:\n  beq   V1, A0, L80104580\n   sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  bnez  V0, L80104590\n   li    V0, 4\nL80104580:\n  addiu V1, V1, 1\n  slti  V0, V1, 4\n  bnez  V0, L80104554\n   li    V0, 4\nL80104590:\n  beq   V1, V0, L801045A4\n   li    V0, 2\n  lui   AT, hi(D_80113710)\n  j     L801045AC\n   sw    R0, lo(D_80113710)(AT)\nL801045A4:\n  lui   AT, hi(D_80113710)\n  sw    V0, lo(D_80113710)(AT)\nL801045AC:\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_801045C0:\n  addiu SP, SP, -0x38\n  sw    RA, 0x34(SP)\n  sw    S4, 0x30(SP)\n  sw    S3, 0x2c(SP)\n  sw    S2, 0x28(SP)\n  sw    S1, 0x24(SP)\n  sw    S0, 0x20(SP)\n  lui   A1, hi(D_80113594)\n  addiu A1, A1, lo(D_80113594)\n  lw    V0, 0(A1)\n  lw    V1, 4(A1)\n  lw    A0, 8(A1)\n  sw    V0, 0x10(SP)\n  sw    V1, 0x14(SP)\n  sw    A0, 0x18(SP)\n  lw    V0, 0xc(A1)\n  sw    V0, 0x1c(SP)\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  lui   V1, hi(D_80113700)\n  lw    V1, lo(D_80113700)(V1)\n  beq   V0, V1, L80104644\n   sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A2, hi(p1_coins)\n  addu  A2, A2, V0\n  lh    A2, lo(p1_coins)(A2)\n  li    S1, 1\n  j     L80104678\n   sw    S1, 0x10(SP)\nL80104644:\n  lui   V0, hi(D_80113704)\n  lw    V0, lo(D_80113704)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   A2, hi(p1_coins)\n  addu  A2, A2, V1\n  lh    A2, lo(p1_coins)(A2)\n  li    S1, 2\n  li    V0, 1\n  sw    V0, 0x14(SP)\nL80104678:\n  slti  V0, S1, 4\n  beqz  V0, L801046F8\n   li    S2, 4\n  lui   T2, hi(D_800F93C6)\n  addiu T2, T2, lo(D_800F93C6)\n  lui   T1, hi(D_80113700)\n  addiu T1, T1, lo(D_80113700)\n  addiu A3, SP, 0x10\n  li    T0, 1\nL8010469C:\n  lh    V1, 0(T2)\n  sll   A1, S1, 2\n  addu  V0, A1, T1\n  lw    A0, 0(V0)\n  beq   V1, A0, L801046E8\n   sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  addiu V0, V0, 5\n  slt   V0, V0, A2\n  bnel  V0, R0, L801046EC\n   addiu S1, S1, 1\n  addu  V0, A1, A3\n  sw    T0, 0(V0)\nL801046E8:\n  addiu S1, S1, 1\nL801046EC:\n  slti  V0, S1, 4\n  bnez  V0, L8010469C\n   li    S2, 4\nL801046F8:\n  move  S1, R0\n  addiu S3, SP, 0x10\n  lui   S4, hi(D_80113700)\n  addiu S4, S4, lo(D_80113700)\n  sll   A0, S1, 2\nL8010470C:\n  addu  V0, A0, S3\n  lw    V0, 0(V0)\n  beqz  V0, L80104744\n   addu  S0, A0, S4\n  lw    A0, 0(S0)\n  jal   func_80059FD0\n   nop\n  slt   V0, V0, S2\n  beql  V0, R0, L80104748\n   addiu S1, S1, 1\n  lw    A0, 0(S0)\n  jal   func_80059FD0\n   nop\n  move  S2, V0\nL80104744:\n  addiu S1, S1, 1\nL80104748:\n  slti  V0, S1, 4\n  bnez  V0, L8010470C\n   sll   A0, S1, 2\n  move  V0, S2\n  lw    RA, 0x34(SP)\n  lw    S4, 0x30(SP)\n  lw    S3, 0x2c(SP)\n  lw    S2, 0x28(SP)\n  lw    S1, 0x24(SP)\n  lw    S0, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x38\n\nfunc_80104778:\n  addiu SP, SP, -0x30\n  sw    RA, 0x28(SP)\n  sw    S1, 0x24(SP)\n  jal   func_80103B70\n/*  */   sw    S0, 0x20(SP)\n  lui   S0, hi(D_80113710)\n  lw    S0, lo(D_80113710)(S0)\n  beqz  S0, L80104AD4\n   move  S1, V0\n  li    V0, 1\n  bne   S0, V0, L80104F68\n   nop\n  lui   A0, hi(D_800F93AE)\n  addiu A0, A0, lo(D_800F93AE)\n  lh    V1, 0(A0)\n  lh    V0, 2(A0)\n  addiu V0, V0, 5\n  slt   V1, V1, V0\n  beqz  V1, L80104948\n   nop\n  jal   func_80059FD0\n   lh    A0, 0x18(A0)\n  move  V1, V0\n  beq   V1, S0, L80104880\n   slti  V0, V1, 2\n  beql  V0, R0, L801047F4\n   li    V0, 2\n  beqz  V1, L8010480C\n   slti  V0, S1, 0x5f\n  j     L80104F68\n   nop\nL801047F4:\n  beq   V1, V0, L801048C4\n   li    V0, 3\n  beq   V1, V0, L80104908\n   slti  V0, S1, 0x5f\n  j     L80104F68\n   nop\nL8010480C:\n  bnez  V0, L80104DD8\n   li    V0, 1\n  lui   V0, hi(D_801136F8)\n  lw    V0, lo(D_801136F8)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  slti  V0, V0, 2\n  beqz  V0, L80104DD8\n   li    V0, 1\n  lui   V0, hi(D_801136F8)\n  lw    V0, lo(D_801136F8)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  bnez  V0, L80104A44\n   li    V0, 2\n  j     L80104DD8\n   li    V0, 1\nL80104880:\n  slti  V0, S1, 0x5f\n  bnez  V0, L80104EF4\n   nop\n  lui   V0, hi(D_801136F8)\n  lw    V0, lo(D_801136F8)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  bnez  V0, L80104A44\n   li    V0, 2\n  j     L80104EF4\n   nop\nL801048C4:\n  slti  V0, S1, 0x5f\n  bnez  V0, L80104EF4\n   nop\n  lui   V0, hi(D_801136F4)\n  lw    V0, lo(D_801136F4)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  bnez  V0, L80104DD8\n   li    V0, 1\n  j     L80104EF4\n   nop\nL80104908:\n  bnez  V0, L80104EF4\n   nop\n  lui   V0, hi(D_801136F4)\n  lw    V0, lo(D_801136F4)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  bnez  V0, L80104DD8\n   li    V0, 1\n  j     L80104EF4\n   nop\nL80104948:\n  lui   A0, hi(D_800F93C6)\n  jal   func_80059FD0\n   lh    A0, lo(D_800F93C6)(A0)\n  move  V1, V0\n  li    V0, 1\n  beq   V1, V0, L80104A08\n   slti  V0, V1, 2\n  beql  V0, R0, L8010497C\n   li    V0, 2\n  beqz  V1, L80104994\n   slti  V0, S1, 0x50\n  j     L80104F68\n   nop\nL8010497C:\n  beq   V1, V0, L80104A50\n   li    V0, 3\n  beq   V1, V0, L80104A94\n   slti  V0, S1, 0x5f\n  j     L80104F68\n   nop\nL80104994:\n  bnez  V0, L80104DD8\n   li    V0, 1\n  lui   V0, hi(D_801136F8)\n  lw    V0, lo(D_801136F8)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  slti  V0, V0, 2\n  beqz  V0, L80104DD8\n   li    V0, 1\n  lui   V0, hi(D_801136F8)\n  lw    V0, lo(D_801136F8)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  bnez  V0, L80104A44\n   li    V0, 2\n  j     L80104DD8\n   li    V0, 1\nL80104A08:\n  slti  V0, S1, 0x5a\n  bnez  V0, L80104EF4\n   nop\n  lui   V0, hi(D_801136F8)\n  lw    V0, lo(D_801136F8)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  beqz  V0, L80104EF4\n   li    V0, 2\nL80104A44:\n  lui   AT, hi(D_80113718)\n  j     L80104F68\n   sw    V0, lo(D_80113718)(AT)\nL80104A50:\n  slti  V0, S1, 0x5a\n  bnez  V0, L80104EF4\n   nop\n  lui   V0, hi(D_801136F4)\n  lw    V0, lo(D_801136F4)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  bnez  V0, L80104DD8\n   li    V0, 1\n  j     L80104EF4\n   nop\nL80104A94:\n  bnez  V0, L80104EF4\n   nop\n  lui   V0, hi(D_801136F4)\n  lw    V0, lo(D_801136F4)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  bnez  V0, L80104DD8\n   li    V0, 1\n  j     L80104EF4\n   nop\nL80104AD4:\n  move  V1, R0\n  move  S0, R0\n  addiu A0, SP, 0x10\n  sll   V0, V1, 2\nL80104AE4:\n  addu  V0, V0, A0\n  sw    R0, 0(V0)\n  addiu V1, V1, 1\n  slti  V0, V1, 4\n  bnel  V0, R0, L80104AE4\n   sll   V0, V1, 2\n  beqz  S0, L80104B50\n   nop\n  lui   V0, hi(D_800F93AE)\n  addiu V0, V0, lo(D_800F93AE)\n  lh    V1, 0(V0)\n  lh    V0, 2(V0)\n  beq   V1, V0, L80104B50\n   addiu V0, V0, 5\n  slt   V0, V1, V0\n  beqz  V0, L80104B3C\n   nop\n  jal   func_80103B70\n   nop\n  slti  V0, V0, 0x50\n  bnez  V0, L80104B50\n   nop\nL80104B3C:\n  jal   func_80103B70\n   nop\n  slti  V0, V0, 0x28\n  beqz  V0, L80104F20\n   move  V1, R0\nL80104B50:\n  lui   A0, hi(D_800F93AE)\n  addiu A0, A0, lo(D_800F93AE)\n  lh    V1, 0(A0)\n  lh    V0, 2(A0)\n  addiu V0, V0, 5\n  slt   V1, V1, V0\n  beqz  V1, L80104D30\n   nop\n  jal   func_80059FD0\n   lh    A0, 0x18(A0)\n  bnez  V0, L80104C18\n   nop\n  lui   V0, hi(D_801136F4)\n  lw    V0, lo(D_801136F4)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  beqz  V0, L80104F00\n   nop\n  lui   A0, hi(D_801136F0)\n  addiu A0, A0, lo(D_801136F0)\n  lw    V0, 0(A0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lw    A0, 4(A0)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V1\n  lh    V1, lo(p1_stars)(AT)\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  beq   V1, V0, L80104DD4\n   slti  V0, S1, 0x55\n  bnez  V0, L80104DD8\n   li    V0, 1\n  j     L80104F00\n   nop\nL80104C18:\n  lui   V0, hi(D_801136F0)\n  lw    V0, lo(D_801136F0)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  beqz  V0, L80104F00\n   nop\n  lui   A1, hi(D_801136F0)\n  addiu A1, A1, lo(D_801136F0)\n  lw    V1, 0(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(p1_stars)\n  addu  A0, A0, V0\n  lh    A0, lo(p1_stars)(A0)\n  addiu A0, A0, -1\n  lw    V1, 4(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  slt   V0, V0, A0\n  bnez  V0, L80104CB8\n   slti  V0, S1, 0x50\n  beqz  V0, L80104F00\n   nop\n  j     L80104EF4\n   nop\nL80104CB8:\n  lw    V1, 0(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(p1_stars)\n  addu  A0, A0, V0\n  lh    A0, lo(p1_stars)(A0)\n  addiu A0, A0, -2\n  lw    V1, 4(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  bne   A0, V0, L80104D20\n   slti  V0, S1, 0x5f\n  slti  V0, S1, 0x55\n  beqz  V0, L80104F00\n   nop\n  j     L80104EF4\n   nop\nL80104D20:\n  beqz  V0, L80104F00\n   nop\n  j     L80104EF4\n   nop\nL80104D30:\n  lui   A0, hi(D_800F93C6)\n  jal   func_80059FD0\n   lh    A0, lo(D_800F93C6)(A0)\n  bnez  V0, L80104DE4\n   nop\n  lui   V0, hi(D_801136F4)\n  lw    V0, lo(D_801136F4)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  beqz  V0, L80104F00\n   nop\n  lui   A0, hi(D_801136F0)\n  addiu A0, A0, lo(D_801136F0)\n  lw    V0, 0(A0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lw    A0, 4(A0)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V1\n  lh    V1, lo(p1_stars)(AT)\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  beq   V1, V0, L80104DD4\n   slti  V0, S1, 0x23\n  beqz  V0, L80104F00\n   nop\nL80104DD4:\n  li    V0, 1\nL80104DD8:\n  lui   AT, hi(D_80113718)\n  j     L80104F68\n   sw    V0, lo(D_80113718)(AT)\nL80104DE4:\n  lui   V0, hi(D_801136F0)\n  lw    V0, lo(D_801136F0)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  beqz  V0, L80104F00\n   nop\n  lui   A1, hi(D_801136F0)\n  addiu A1, A1, lo(D_801136F0)\n  lw    V1, 0(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(p1_stars)\n  addu  A0, A0, V0\n  lh    A0, lo(p1_stars)(A0)\n  addiu A0, A0, -1\n  lw    V1, 4(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  slt   V0, V0, A0\n  bnez  V0, L80104E84\n   slti  V0, S1, 0x3c\n  beqz  V0, L80104F00\n   nop\n  j     L80104EF4\n   nop\nL80104E84:\n  lw    V1, 0(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(p1_stars)\n  addu  A0, A0, V0\n  lh    A0, lo(p1_stars)(A0)\n  addiu A0, A0, -2\n  lw    V1, 4(A1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  bne   A0, V0, L80104EEC\n   slti  V0, S1, 0x50\n  slti  V0, S1, 0x4b\n  beqz  V0, L80104F00\n   nop\n  j     L80104EF4\n   nop\nL80104EEC:\n  beqz  V0, L80104F00\n   nop\nL80104EF4:\n  lui   AT, hi(D_80113718)\n  j     L80104F68\n   sw    R0, lo(D_80113718)(AT)\nL80104F00:\n  jal   func_801045C0\n   nop\n  lui   AT, hi(D_80113718)\n  j     L80104F68\n   sw    V0, lo(D_80113718)(AT)\nL80104F14:\n  lui   AT, hi(D_80113718)\n  j     L80104F68\n   sw    V1, lo(D_80113718)(AT)\nL80104F20:\n  lui   A1, hi(D_801136F0)\n  addiu A1, A1, lo(D_801136F0)\n  addiu A0, SP, 0x10\n  sll   V0, V1, 2\nL80104F30:\n  addu  V0, V0, A1\n  lw    V0, 0(V0)\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  lw    V0, 0(V0)\n  beql  V0, R0, L80104F5C\n   addiu V1, V1, 1\n  addiu S0, S0, -1\n  beqz  S0, L80104F14\n   nop\n  addiu V1, V1, 1\nL80104F5C:\n  slti  V0, V1, 4\n  bnez  V0, L80104F30\n   sll   V0, V1, 2\nL80104F68:\n  lw    RA, 0x28(SP)\n  lw    S1, 0x24(SP)\n  lw    S0, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x30\n\nfunc_80104F7C:\n  addiu SP, SP, -0x48\n  sw    RA, 0x44(SP)\n  sw    S4, 0x40(SP)\n  sw    S3, 0x3c(SP)\n  sw    S2, 0x38(SP)\n  sw    S1, 0x34(SP)\n  sw    S0, 0x30(SP)\n  move  S0, R0\n  addiu V1, SP, 0x10\n  sll   V0, S0, 2\nL80104FA4:\n  addu  V0, V0, V1\n  sw    R0, 0(V0)\n  sw    R0, 0x10(V0)\n  addiu S0, S0, 1\n  slti  V0, S0, 4\n  bnez  V0, L80104FA4\n   sll   V0, S0, 2\n  move  S0, R0\n  addiu S2, SP, 0x10\nL80104FC8:\n  jal   func_80059FD0\n   move  A0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S2\n  lw    V1, 0(V0)\n  addiu V1, V1, 1\n  sw    V1, 0(V0)\n  move  S1, R0\n  move  A0, R0\n  sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   A1, V0, 2\nL80105000:\n  beq   S0, A0, L80105038\n   sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   V1, hi(p1_coins)\n  addu  V1, V1, A1\n  lh    V1, lo(p1_coins)(V1)\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slt   V1, V1, V0\n  addu  S1, S1, V1\nL80105038:\n  addiu A0, A0, 1\n  slti  V0, A0, 4\n  bnez  V0, L80105000\n   sll   V0, S1, 2\n  addu  V0, V0, S2\n  lw    V1, 0x10(V0)\n  addiu V1, V1, 1\n  sw    V1, 0x10(V0)\n  addiu S0, S0, 1\n  slti  V0, S0, 4\n  bnez  V0, L80104FC8\n   li    A0, -1\n  move  S0, R0\n  lui   A2, hi(D_801136F0)\n  addiu A2, A2, lo(D_801136F0)\n  lui   A1, hi(D_80113700)\n  addiu A1, A1, lo(D_80113700)\n  sll   V0, S0, 2\nL80105080:\n  addu  V1, V0, A2\n  sw    A0, 0(V1)\n  addu  V0, V0, A1\n  sw    A0, 0(V0)\n  addiu S0, S0, 1\n  slti  V0, S0, 4\n  bnez  V0, L80105080\n   sll   V0, S0, 2\n  move  S0, R0\n  lui   S4, hi(D_801136F0)\n  addiu S4, S4, lo(D_801136F0)\n  li    S2, -1\n  lui   S3, hi(D_80113700)\n  addiu S3, S3, lo(D_80113700)\nL801050B8:\n  jal   func_80059FD0\n   move  A0, S0\n  move  A0, V0\nL801050C4:\n  sll   V0, A0, 2\n  addu  V0, V0, S4\n  lw    V0, 0(V0)\n  beq   V0, S2, L801050E0\n   sll   V0, A0, 2\n  j     L801050C4\n   addiu A0, A0, 1\nL801050E0:\n  addu  V0, V0, S4\n  sw    S0, 0(V0)\n  move  S1, R0\n  move  A0, R0\n  sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   A1, V0, 2\nL80105104:\n  beq   S0, A0, L8010513C\n   sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   V1, hi(p1_coins)\n  addu  V1, V1, A1\n  lh    V1, lo(p1_coins)(V1)\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slt   V1, V1, V0\n  addu  S1, S1, V1\nL8010513C:\n  addiu A0, A0, 1\n  slti  V0, A0, 4\n  bnez  V0, L80105104\n   nop\nL8010514C:\n  sll   V0, S1, 2\n  addu  V0, V0, S3\n  lw    V0, 0(V0)\n  beq   V0, S2, L80105168\n   sll   V0, S1, 2\n  j     L8010514C\n   addiu S1, S1, 1\nL80105168:\n  addu  V0, V0, S3\n  sw    S0, 0(V0)\n  addiu S0, S0, 1\n  slti  V0, S0, 4\n  bnez  V0, L801050B8\n   nop\n  li    S0, -1\n  lui   AT, hi(D_80113718)\n  sw    S0, lo(D_80113718)(AT)\n  lui   AT, hi(D_80113714)\n  sw    S0, lo(D_80113714)(AT)\n  lui   AT, hi(D_80113710)\n  jal   func_80104380\n   sw    S0, lo(D_80113710)(AT)\n  lui   V0, hi(D_80113718)\n  lw    V0, lo(D_80113718)(V0)\n  bne   V0, S0, L801051C4\n   move  A0, V0\n  jal   func_80104778\n   nop\n  lui   V0, hi(D_80113718)\n  lw    V0, lo(D_80113718)(V0)\n  move  A0, V0\nL801051C4:\n  sll   V0, V0, 2\n  addiu V1, SP, 0x10\n  addu  V0, V0, V1\n  lw    V0, 0(V0)\n  bnez  V0, L80105200\n   move  A1, V1\n  addiu V0, A0, -1\nL801051E0:\n  lui   AT, hi(D_80113718)\n  sw    V0, lo(D_80113718)(AT)\n  move  A0, V0\n  sll   V0, V0, 2\n  addu  V0, V0, A1\n  lw    V0, 0(V0)\n  beqz  V0, L801051E0\n   addiu V0, A0, -1\nL80105200:\n  lui   A0, hi(D_800F93C6)\n  jal   func_80059FD0\n   lh    A0, lo(D_800F93C6)(A0)\n  move  V1, V0\n  lui   V0, hi(D_80113718)\n  lw    V0, lo(D_80113718)(V0)\n  bne   V1, V0, L80105234\n   sll   V0, V1, 2\n  addiu V1, SP, 0x10\n  addu  V0, V0, V1\n  lw    V1, 0(V0)\n  addiu V1, V1, -1\n  sw    V1, 0(V0)\nL80105234:\n  jal   GetRandomByte\n   move  S0, R0\n  andi  S1, V0, 0xff\n  lui   V0, hi(D_80113718)\n  lw    V0, lo(D_80113718)(V0)\n  sll   V0, V0, 2\n  addu  V0, SP, V0\n  lw    V0, 0x10(V0)\n  div   S1, V0\n  bnez  V0, L80105264\n   nop\n  .word 0x0007000D ; break 7\nL80105264:\n  li    AT, -1\n  bne   V0, AT, L8010527C\n   lui   AT, 0x8000\n  bne   S1, AT, L8010527C\n   nop\n  .word 0x0006000D ; break 6\nL8010527C:\n  mfhi  S1\nL80105280:\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  beql  S0, V0, L801052C0\n   addiu S0, S0, 1\n  jal   func_80059FD0\n   move  A0, S0\n  lui   V1, hi(D_80113718)\n  lw    V1, lo(D_80113718)(V1)\n  bnel  V1, V0, L801052C0\n   addiu S0, S0, 1\n  bnel  S1, R0, L801052BC\n   addiu S1, S1, -1\n  lui   AT, hi(D_80113714)\n  j     L801052CC\n   sw    S0, lo(D_80113714)(AT)\nL801052BC:\n  addiu S0, S0, 1\nL801052C0:\n  slti  V0, S0, 4\n  bnez  V0, L80105280\n   nop\nL801052CC:\n  lui   V0, hi(D_80113710)\n  lw    V0, lo(D_80113710)(V0)\n  bnez  V0, L8010535C\n   nop\n  lui   V0, hi(D_80113714)\n  lw    V0, lo(D_80113714)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  bnez  V0, L8010535C\n   move  S0, R0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\nL80105314:\n  beq   S0, V1, L8010534C\n   sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  beql  V0, R0, L80105350\n   addiu S0, S0, 1\n  lui   AT, hi(D_80113714)\n  j     L8010535C\n   sw    S0, lo(D_80113714)(AT)\nL8010534C:\n  addiu S0, S0, 1\nL80105350:\n  slti  V0, S0, 4\n  bnez  V0, L80105314\n   nop\nL8010535C:\n  lw    RA, 0x44(SP)\n  lw    S4, 0x40(SP)\n  lw    S3, 0x3c(SP)\n  lw    S2, 0x38(SP)\n  lw    S1, 0x34(SP)\n  lw    S0, 0x30(SP)\n  jr    RA\n   addiu SP, SP, 0x48\n\nfunc_8010537C:\n  addiu SP, SP, -0x48\n  sw    RA, 0x40(SP)\n  sw    S5, 0x3c(SP)\n  sw    S4, 0x38(SP)\n  sw    S3, 0x34(SP)\n  sw    S2, 0x30(SP)\n  sw    S1, 0x2c(SP)\n  sw    S0, 0x28(SP)\n  move  S5, A0\n  move  S2, R0\n  lui   A1, hi(D_80113590)\n  addiu A1, A1, lo(D_80113590)\n  lwl   V0, 0(A1)\n  lwr   V0, 3(A1)\n  swl   V0, 0x20(SP)\n  swr   V0, 0x23(SP)\n  move  S1, R0\n  lui   S4, hi(D_800F93C6)\n  addiu S4, S4, lo(D_800F93C6)\n  addiu S3, SP, 0x18\nL801053CC:\n  lh    V0, 0(S4)\n  bne   S1, V0, L801054A0\n   sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(D_800FD2C6)\n  addu  AT, AT, V0\n  lhu   V0, lo(D_800FD2C6)(AT)\n  andi  V0, V0, 1\n  beqz  V0, L8010544C\n   sll   S0, S1, 1\n  jal   func_80104F7C\n   addiu S1, S1, 1\n  lui   V0, hi(D_80113710)\n  lw    V0, lo(D_80113710)(V0)\n  addiu S2, V0, 1\n  lh    V1, 0(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, 1024\n  j     L801054CC\n   sh    V1, 0(V0)\nL8010544C:\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  addu  V0, SP, V0\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  lbu   A1, 0x20(V0)\n  jal   func_8008D59C\n   addiu S1, S1, 1\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, -1\n  j     L801054CC\n   sh    V1, 0(V0)\nL801054A0:\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  sh    R0, 0(V0)\n  addiu S1, S1, 1\nL801054CC:\n  slti  V0, S1, 4\n  bnez  V0, L801053CC\n   nop\n  beqz  S2, L8010558C\n   li    A1, 2\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_80089284\n   li    A2, 2\n  move  S0, R0\n  addiu S1, SP, 0x18\nL801054F8:\n  addiu S2, S2, -1\n  bnez  S2, L8010553C\n   nop\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S1\n  li    V1, -32768\n  sh    V1, 0(V0)\nL8010553C:\n  bnez  S0, L80105564\n   li    V0, 16\n  jal   func_80057718\n   nop\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  j     L80105574\n   andi  V0, V0, 0xff\nL80105564:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\nL80105574:\n  jal   func_8008CFD0\n   sw    V0, 0x10(SP)\n  bnez  S2, L801054F8\n   addiu S0, S0, 1\n  j     L801055A4\n   move  S1, R0\nL8010558C:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  jal   func_8008D07C\n   move  S1, R0\nL801055A4:\n  addu  V0, S5, S1\nL801055A8:\n  lbu   V0, 0(V0)\n  bnel  V0, R0, L801055CC\n   addiu S1, S1, 1\n  sll   A1, S1, 0x10\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_8008D854\n   sra   A1, A1, 0x10\n  addiu S1, S1, 1\nL801055CC:\n  slti  V0, S1, 2\n  bnez  V0, L801055A8\n   addu  V0, S5, S1\n  move  S1, R0\n  sll   A1, S1, 0x10\nL801055E0:\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  sra   A1, A1, 0x10\n  jal   func_8008BB48\n   li    A2, 1\n  move  S1, V0\n  addu  V0, S5, S1\n  lbu   V0, 0(V0)\n  beqz  V0, L801055E0\n   sll   A1, S1, 0x10\n  move  V0, S1\n  lw    RA, 0x40(SP)\n  lw    S5, 0x3c(SP)\n  lw    S4, 0x38(SP)\n  lw    S3, 0x34(SP)\n  lw    S2, 0x30(SP)\n  lw    S1, 0x2c(SP)\n  lw    S0, 0x28(SP)\n  jr    RA\n   addiu SP, SP, 0x48\n\nfunc_80105630:\n  addiu SP, SP, -0x40\n  sw    RA, 0x3c(SP)\n  sw    S4, 0x38(SP)\n/*  */  sw    S3, 0x34(SP)\n  sw    S2, 0x30(SP)\n  sw    S1, 0x2c(SP)\n  sw    S0, 0x28(SP)\n  move  S4, A1\n  move  S2, R0\n  lui   A1, hi(D_80113590)\n  addiu A1, A1, lo(D_80113590)\n  lwl   V0, 0(A1)\n  lwr   V0, 3(A1)\n  swl   V0, 0x20(SP)\n  swr   V0, 0x23(SP)\n  move  S1, R0\n  addiu S3, SP, 0x18\nL80105674:\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  bne   S1, V0, L80105730\n   sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V1, V0, 2\n  lui   V0, hi(D_800FD2C6)\n  addu  V0, V0, V1\n  lhu   V0, lo(D_800FD2C6)(V0)\n  andi  V0, V0, 1\n  beqz  V0, L801056DC\n   sll   S0, S1, 1\n  lui   S2, hi(D_80113714)\n  lw    S2, lo(D_80113714)(S2)\n  slt   V0, S2, S1\n  addu  S2, S2, V0\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, V1\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, 1024\n  j     L80105758\n   sh    V1, 0(V0)\nL801056DC:\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  addu  V0, SP, V0\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  lbu   A1, 0x20(V0)\n  jal   func_8008D59C\n   addiu S1, S1, 1\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  li    V1, -1\n  j     L8010575C\n   sh    V1, 0(V0)\nL80105730:\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  addu  V0, V0, S3\n  sh    R0, 0(V0)\nL80105758:\n  addiu S1, S1, 1\nL8010575C:\n  slti  V0, S1, 4\n  bnez  V0, L80105674\n   nop\n  beqz  S2, L801057F4\n   li    A1, 2\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_80089284\n   li    A2, 2\n  addiu S0, SP, 0x18\n  li    S3, -32768\n  li    S1, 16\n  addiu S2, S2, -1\nL80105790:\n  bnez  S2, L801057CC\n   nop\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_controller)\n  addu  V0, V0, V1\n  lbu   V0, lo(p1_controller)(V0)\n  sll   V0, V0, 1\n  addu  V0, V0, S0\n  sh    S3, 0(V0)\nL801057CC:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  jal   func_8008CFD0\n   sw    S1, 0x10(SP)\n  bnez  S2, L80105790\n   addiu S2, S2, -1\n  j     L8010580C\n   move  S1, R0\nL801057F4:\n  lh    A0, 0x18(SP)\n  lh    A1, 0x1a(SP)\n  lh    A2, 0x1c(SP)\n  lh    A3, 0x1e(SP)\n  jal   func_8008D07C\n   move  S1, R0\nL8010580C:\n  addu  V0, S4, S1\nL80105810:\n  lbu   V0, 0(V0)\n  bnel  V0, R0, L80105834\n   addiu S1, S1, 1\n  sll   A1, S1, 0x10\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  jal   func_8008D854\n   sra   A1, A1, 0x10\n  addiu S1, S1, 1\nL80105834:\n  slti  V0, S1, 3\n  bnez  V0, L80105810\n   addu  V0, S4, S1\n  move  S1, R0\n  li    S0, -1\n  sll   A1, S1, 0x10\nL8010584C:\n  lui   A0, hi(D_800F9052)\n  lh    A0, lo(D_800F9052)(A0)\n  sra   A1, A1, 0x10\n  jal   func_8008BB48\n   move  A2, R0\n  move  S1, V0\n  beq   S1, S0, L80105880\n   addu  V0, S4, S1\n  lbu   V0, 0(V0)\n  beqz  V0, L8010584C\n   sll   A1, S1, 0x10\n  j     L80105884\n   move  V0, S1\nL80105880:\n  li    V0, -1\nL80105884:\n  lw    RA, 0x3c(SP)\n  lw    S4, 0x38(SP)\n  lw    S3, 0x34(SP)\n  lw    S2, 0x30(SP)\n  lw    S1, 0x2c(SP)\n  lw    S0, 0x28(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\noverlaycall0:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n; Declare which board index this is.\nli    V0, ").concat(r,"\n  lui   AT, hi(D_800F93AA)\n  sh    V0, lo(D_800F93AA)(AT)\n  li    A0, 10\n  jal   InitObjSys\n   move  A1, R0\n  li    A0, 61\n  move  A1, R0\n  jal   func_800771EC\n   li    A2, 402\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\noverlaycall1:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  li    A0, 10\n  jal   InitObjSys\n   move  A1, R0\n  move  A0, R0\n  move  A1, R0\n  jal   SetPlayerOntoChain\n   move  A2, R0\n  li    A0, 1\n  move  A1, R0\n  jal   SetPlayerOntoChain\n   move  A2, R0\n  li    A0, 2\n  move  A1, R0\n  jal   SetPlayerOntoChain\n   move  A2, R0\n  li    A0, 3\n  move  A1, R0\n  jal   SetPlayerOntoChain\n   move  A2, R0\n  jal   func_8006836C\n   li    A0, 67\n  jal   func_8010285C\n   nop\n  lui   V0, hi(D_800F8CE4)\n  addiu V0, V0, lo(D_800F8CE4)\n  sh    R0, 0(V0) ; clearing bank coins?\n  sh    R0, 0x3c(V0)\n  sh    R0, 0x3a(V0)\n  sh    R0, 0x34(V0)\n  sh    R0, 0x32(V0)\n  sh    R0, 0x2e(V0)\n  jal   func_80077160\n   li    A0, 1\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nsetup_routine:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  li    A0, 160\n  jal   InitObjSys\n   li    A1, 40\n  li    A0, 1\n  li    A1, 100\n  li    A2, 100\n  jal   func_80026DAC\n   li    A3, 100\n  li    A0, 2\n  li    A1, 200\n  li    A2, 200\n  jal   func_80026DAC\n   li    A3, 200\n  JAL   __PP64_INTERNAL_ADDITIONAL_BG_CHOICE\n   NOP\n  move  A0, V0 ; Determined by user-customizable hook\n  li    A1, ").concat(t.boardDefFile,"\n  li    A2, 8 ; TODO: pauseBgDir?\n  jal   func_80062E10 ; setup board?\n   move  A3, R0\n\n  lui   A0, hi(D_801119E4)\n  addiu A0, A0, lo(D_801119E4)\n  jal   func_80055928\n   move  S0, R0\n  lui   A0, hi(D_801119F4)\n  jal   func_80055980\n   addiu A0, A0, lo(D_801119F4)\n\n  ; begin arrow rotation\n  ").concat(K.join("\n"),"\n  ; end arrow rotation\n\n  lui   A1, hi(func_8010BA48) ; boo event\n  addiu A1, A1, lo(func_8010BA48)\n  jal   func_8004D60C\n   move  A0, R0\n  lui   A1, hi(func_8010C6DC)\n  addiu A1, A1, lo(func_8010C6DC)\n  jal   func_8004D60C\n   li    A0, 1\n  lui   A1, hi(func_8010CA78)\n  addiu A1, A1, lo(func_8010CA78)\n  jal   func_8004D60C\n   li    A0, 8\n  lui   A1, hi(func_8010CAE8)\n  addiu A1, A1, lo(func_8010CAE8)\n  jal   func_8004D60C\n   li    A0, 2\n  lui   A1, hi(func_8010DE58)\n  addiu A1, A1, lo(func_8010DE58)\n  jal   func_8004D60C\n   li    A0, 3\n  lui   A1, hi(func_8010E3D0)\n  addiu A1, A1, lo(func_8010E3D0)\n  jal   func_8004D60C\n   li    A0, 4\n  lui   A1, hi(func_8010E640)\n  addiu A1, A1, lo(func_8010E640)\n  jal   func_8004D60C\n   li    A0, 5\n  lui   A1, hi(func_8010CFCC)\n  addiu A1, A1, lo(func_8010CFCC)\n  jal   func_8004D60C\n   li    A0, 6\n  lui   A1, hi(func_8010D9F4)\n  addiu A1, A1, lo(func_8010D9F4)\n  jal   func_8004D60C\n   li    A0, 7\n  lui   A1, hi(func_8010E874)\n  addiu A1, A1, lo(func_8010E874)\n  jal   func_8004D60C\n   li    A0, 9\n  lui   A1, hi(func_8010EB88)\n  addiu A1, A1, lo(func_8010EB88)\n  jal   func_8004D60C\n   li    A0, 10\n  lui   A1, hi(func_8010F1FC)\n  addiu A1, A1, lo(func_8010F1FC)\n  jal   func_8004D60C\n   li    A0, 12\n  lui   A1, hi(func_8010F430)\n  addiu A1, A1, lo(func_8010F430)\n  jal   func_8004D60C\n   li    A0, 11\n  lui   A1, hi(func_8010F940)\n  addiu A1, A1, lo(func_8010F940)\n  jal   func_8004D60C\n   li    A0, 13\n  lui   A0, hi(func_80111338)\n  jal   func_80044D98\n   addiu A0, A0, lo(func_80111338)\n  lui   S1, hi(D_80111994)\n  addiu S1, S1, lo(D_80111994)\n  sll   V0, S0, 1\nL80105AE0:\n  addu  V0, V0, S1\n  lh    A1, 0(V0)\n  jal   func_800542E8\n   move  A0, S0\n  addiu S0, S0, 1\n  slti  V0, S0, STAR_COUNT\n  bnez  V0, L80105AE0\n   sll   V0, S0, 1\n  jal   func_80068328\n   li    A0, 77\n  beqz  V0, L80105B40\n   nop\n  jal   func_800683BC\n   li    A0, 77\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  beqz  V0, L80105B38\n   nop\n  jal   func_80102A44\n   nop\n  j     L80105B40\n   nop\nL80105B38:\n  jal   func_80102AB0\n   nop\nL80105B40:\n; drawing things (approximately starting around here)\n  jal   func_80102B54\n   nop\n  jal   func_80105DDC ; baby bowser\n   nop\n  jal   func_80105D54 ; toad\n   nop\n  jal   func_8010602C ; boo\n   nop\n  jal   func_801062F4 ; bank coins\n   nop\n  ;jal   func_801064B8 ; gates\n  ; nop\n  jal   func_80106684 ; banks\n   nop\n  jal   func_801066FC\n   nop\n  ; jal   func_80106C44 ; train\n  ; nop\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\n").concat(J,"\n\n; A function that returns the audio index, to let custom events call to get the value.\n").concat(Z,"\n\noverlaycall2:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n\njal __PP64_INTERNAL_GET_BOARD_AUDIO_INDEX\n nop\n\n; Start playing board audio.\n  jal   func_80079390\n   move  A0, V0\n/*  */  jal   func_800632F0\n   li    A0, 8 ; TODO also audio?\n  jal   func_80020070\n   li    A0, 2\n  jal   setup_routine\n   nop\n  lui   V0, hi(func_80106944)\n  addiu V0, V0, lo(func_80106944)\n  sw    V0, 0x10(SP)\n  li    A0, 1000\n  move  A1, R0\n  move  A2, R0\n  jal   func_80076598\n   li    A3, -1\n  jal   func_80053AA0\n   move  A0, R0\n\n  jal hydrate_events\n   nop\n\n  jal func_randomize_minigames\n   nop\n\n  jal   func_80066C34\n   move  A0, R0\n  lw    RA, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nhydrate_events:\nADDIU SP SP 0xFFE8\nSW RA, 0x0010(SP)\n\n// Call for the MainFS to read in the ASM blob.\nLUI A0 ").concat(s,"\nJAL ReadMainFS\nADDIU A0 A0 ").concat(l,"\n\n// Now, V0 has the location that the MainFSRead put the blob... it isn't\n// where we want it, it is in the heap somewhere, so we will move it.\n\n// This is a pretty simple copy loop\n// T4 = Copy of V0, Current source RAM location\n// T0 = Current dest RAM location\n// T1 = Size of buffer remaining to copy\n// T2 = Temp word register to do the copy\nADDU T4 V0 R0 // Copy V0 -> T4\nLW T0 0x4(T4) // LW T0, 0x4(T4) [RAM dest]\nLW T1 0x8(T4) // LW T1, 0x8(T4) [Buffer size]\nhydrate_events_loop_start:\nLW T2 0(T4)\nSW T2 0(T0)\nADDIU T4 T4 4\nADDIU T0 T0 4\nADDIU T1 T1 -4\nBGTZ T1 hydrate_events_loop_start\nNOP\n\n// Now we can hydrate the table.\n// T9 = V0 copy\n// T4 = Dest buffer addr + 0x10, where the table really starts\nADDU T9 V0 R0 // Copy V0 -> T9\nLW T4 4(T9) // LW T4, 0x4(T9) [RAM dest]\nJAL EventTableHydrate\nADDIU A0 T4 16 // ADDIU A0, T4, 16\n\n// Well, we copied the buffer... now we should \"free\" it with this magic JAL...\n// Free our T9 reference, which theoretically could be corrupted, but in practice not.\nJAL FreeMainFS\nADDU A0 T9 R0\n\nLW RA 0x10(SP)\nJR RA\nADDIU SP SP 0x18\n\n; Overwrite the static array entry for this board's duel mini-game.\nfunc_randomize_minigames:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n\n  ; T0 = GetRandomByte() % BOARD_COUNT;\n  jal\tGetRandomByte\n  nop\n  li   A0, BOARD_COUNT\n  div  V0, A0\n  nop\n  mfhi T0\n  nop\n  andi T0, T0, 0xFF\n  nop\n\n  lui T1 hi(DuelMinigamesArray)\n  addu T1 T1 T0\n  lbu T1, lo(DuelMinigamesArray)(T1)\n\n  lui T2 hi(D_800CCD5C)\n  addiu T2 T2 ").concat(4*r,"\n  sw T1 lo(D_800CCD5C)(T2)\n\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\noverlaycall3:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   func_80020070\n   li    A0, 1\n  jal   setup_routine\n   nop\n  jal   func_80066C34\n   li    A0, 1\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80105C50:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S0, A0\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0xe\n  lui   V0, hi(D_80113720)\n  addu  V0, V0, A0\n  lw    V0, lo(D_80113720)(V0)\n  bnez  V0, L80105D3C\n   nop\n  lui   V0, hi(D_8011371C)\n  lw    V0, lo(D_8011371C)(V0)\n  bnez  V0, L80105CBC\n   nop\n  li    A0, 23\n  jal   func_80043510\n   move  A1, R0\n  move  S2, V0\n  jal   func_80043DAC\n   move  A0, S2\n  lui   AT, hi(D_8011371C)\n  sw    S2, lo(D_8011371C)(AT)\n  j     L80105CD0\n   sll   S0, S0, 0x10\nL80105CBC:\n  lui   A0, hi(D_8011371C)\n  lw    A0, lo(D_8011371C)(A0)\n  jal   func_80043F7C\n   sll   S0, S0, 0x10\n  move  S2, V0\nL80105CD0:\n  sra   S0, S0, 0x10\n  sll   S1, S0, 2\n  lui   AT, hi(D_80113720)\n  addu  AT, AT, S1\n  sw    S2, lo(D_80113720)(AT)\n  lhu   V0, 0xa(S2)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S2)\n  jal   func_80056754\n   move  A0, S2\n  sll   S0, S0, 1\n  lui   A0, hi(D_80111A44)\n  addu  A0, A0, S0\n  jal   func_80054B8C\n   lh    A0, lo(D_80111A44)(A0)\n  addiu A0, S2, 0xc\n  jal   func_800B3170\n   addiu A1, V0, 8\n  li    A0, 6\n  lui   A2, hi(D_80111A04)\n  addu  A2, A2, S1\n  lh    A2, lo(D_80111A04)(A2)\n  lui   A3, hi(D_80111A06)\n  addu  A3, A3, S1\n  lh    A3, lo(D_80111A06)(A3)\n  jal   func_80041AEC\n   move  A1, S2\nL80105D3C:\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_80105D54:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   AT, hi(D_8011371C)\n  sw    R0, lo(D_8011371C)(AT)\n  move  S0, R0\n  lui   S2, hi(D_80113720)\n  addiu S2, S2, lo(D_80113720)\n  lui   S1, hi(D_80111A54)\n  addiu S1, S1, lo(D_80111A54)\n  sll   V0, S0, 2\nL80105D88:\n  addu  V0, V0, S2\n  sw    R0, 0(V0)\n  sll   V0, S0, 1\n  addu  V0, V0, S1\n  jal   func_80068328\n   lh    A0, 0(V0)\n  bnel  V0, R0, L80105DB8\n   addiu S0, S0, 1\n  sll   A0, S0, 0x10\n  jal   func_80105C50\n   sra   A0, A0, 0x10\n  addiu S0, S0, 1\nL80105DB8:\n  slti  V0, S0, 7\n  bnez  V0, L80105D88\n   sll   V0, S0, 2\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_80105DDC:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   S1, hi(D_800F93A8)\n  addiu S1, S1, lo(D_800F93A8)\n  lui   V1, hi(D_800F93C4)\n  lh    V1, lo(D_800F93C4)(V1)\n  li    V0, -1\n  beq   V1, V0, L80105EA8\n   nop\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  beqz  V0, L80105E1C\n   li    A0, 29\n  li    A0, 23\nL80105E1C:\n  jal   func_80043510\n   move  A1, R0\n  move  S0, V0\n  jal   func_80043DAC\n   move  A0, S0\n  lui   AT, hi(D_800F64C8)\n  sw    S0, lo(D_800F64C8)(AT)\n  lhu   V0, 0xa(S0)\n  ori V0, V0, 2\n  sh    V0, 0xa(S0)\n  jal   func_80056754\n   move  A0, S0\n  lh    V0, 0x1c(S1)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111A44)\n  addu  A0, A0, V0\n  jal   func_80054B8C\n   lh    A0, lo(D_80111A44)(A0)\n  addiu A0, S0, 0xc\n  jal   func_800B3170\n   addiu A1, V0, 8\n  lh    V0, 0x1c(S1)\n  sll   V0, V0, 2\n  li    A0, 11\n  lui   A2, 0x8011\n  addu  A2, A2, V0\n  lh    A2, 0x1a04(A2)\n  lui   A3, hi(D_80111A06)\n  addu  A3, A3, V0\n  lh    A3, lo(D_80111A06)(A3)\n  jal   func_80041AEC\n   move  A1, S0\n  lui   AT, hi(D_80111A64)\n  j     L80105EB0\n   sw    V0, lo(D_80111A64)(AT)\nL80105EA8:\n  lui   AT, hi(D_800F64C8)\n  sw    R0, lo(D_800F64C8)(AT)\nL80105EB0:\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_80105EC4:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   A0, hi(D_800F64C8)\n  lw    A0, lo(D_800F64C8)(A0)\n  beqz  A0, L80105EE4\n   nop\n  jal   func_8004430C\n   nop\nL80105EE4:\n  lui   A0, hi(D_80111A64)\n  lw    A0, lo(D_80111A64)(A0)\n  li    V0, -1\n  beq   A0, V0, L80105F00\n   nop\n  jal   func_80041B40\n   nop\nL80105F00:\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80105F0C:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S0, A0\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0xe\n  lui   V0, hi(D_80113740)\n  addu  V0, V0, A0\n  lw    V0, lo(D_80113740)(V0)\n  bnez  V0, L80106018\n   nop\n  lui   V0, hi(D_8011373C)\n  lw    V0, lo(D_8011373C)(V0)\n  bnez  V0, L80105F88\n   nop\n  li    A0, 8\n  jal   func_80043510\n   move  A1, R0\n  move  S1, V0\n  lw    V0, 0x3c(S1)\n  lw    V0, 0x40(V0)\n  jal   func_8002D124\n   lh    A0, 0(V0)\n  lw    V0, 0x40(S1)\n  lw    V0, 0x40(V0)\n  jal   func_8002D124\n   lh    A0, 0(V0)\n  lui   AT, hi(D_8011373C)\n  j     L80105F98\n   sw    S1, lo(D_8011373C)(AT)\nL80105F88:\n  lui   A0, hi(D_8011373C)\n  jal   func_80043F7C\n   lw    A0, lo(D_8011373C)(A0)\n  move  S1, V0\nL80105F98:\n  jal   func_800442DC\n   move  A0, S1\n  sll   V1, S0, 0x10\n  sra   V1, V1, 0x10\n  sll   S0, V1, 2\n  lui   AT, hi(D_80113740)\n  addu  AT, AT, S0\n  sw    S1, lo(D_80113740)(AT)\n  lhu   V0, 0xa(S1)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S1)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x30(S1)\n  sll   V1, V1, 1\n  lui   A0, hi(D_80111A68)\n  addu  A0, A0, V1\n  jal   func_80054B8C\n   lh    A0, lo(D_80111A68)(A0)\n  addiu A0, S1, 0xc\n  jal   func_800B3170\n   addiu A1, V0, 8\n  li    A0, 8\n  lui   A2, hi(D_80111A20)\n  addu  A2, A2, S0\n  lh    A2, lo(D_80111A20)(A2)\n  lui   A3, hi(D_80111A22)\n  addu  A3, A3, S0\n  lh    A3, lo(D_80111A22)(A3)\n  jal   func_80041AEC\n   move  A1, S1\nL80106018:\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_8010602C:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   AT, hi(D_8011373C)\n  sw    R0, lo(D_8011373C)(AT)\n  move  S0, R0\n  lui   S1, hi(D_80113740)\n  addiu S1, S1, lo(D_80113740)\n  sll   V0, S0, 2\nL80106054:\n  addu  V0, V0, S1\n  sw    R0, 0(V0)\n  sll   A0, S0, 0x10\n  jal   func_80105F0C\n   sra   A0, A0, 0x10\n  addiu S0, S0, 1\n  slti  V0, S0, 2\n  bnez  V0, L80106054\n   sll   V0, S0, 2\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_8010608C:\n  addiu SP, SP, -0x38\n  sw    RA, 0x30(SP)\n  sw    S5, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  move  S3, R0\n  lui S5, 0x6666\n  ori S5, S5, 0x6667\n  lui   S4, hi(D_80113750)\n  addiu S4, S4, lo(D_80113750)\nL801060C0:\n  lui   V0, hi(D_800F8D1E)\n  lh    V0, lo(D_800F8D1E)(V0)\n  addiu V0, V0, 9\n  mult  V0, S5\n  mfhi  A1\n  sra   V1, A1, 2\n  sra   V0, V0, 0x1f\n  subu  S1, V1, V0\n  slti  V0, S1, 6\n  beql  V0, R0, L801060EC\n   li    S1, 5\nL801060EC:\n  blez  S1, L80106120\n   move  S0, R0\n  sll   V0, S3, 2\n  addu  S2, V0, S3\n  addu  V0, S2, S0\nL80106100:\n  sll   V0, V0, 2\n  addu  V0, V0, S4\n  lw    A0, 0(V0)\n  jal   func_80044258\n   addiu S0, S0, 1\n  slt   V0, S0, S1\n  bnez  V0, L80106100\n   addu  V0, S2, S0\nL80106120:\n  slti  V0, S0, 5\n  beqz  V0, L80106154\n   sll   V0, S3, 2\n  addu  S1, V0, S3\n  addu  V0, S1, S0\nL80106134:\n  sll   V0, V0, 2\n  addu  V0, V0, S4\n  lw    A0, 0(V0)\n  jal   func_800442DC\n   addiu S0, S0, 1\n  slti  V0, S0, 5\n  bnez  V0, L80106134\n   addu  V0, S1, S0\nL80106154:\n  addiu S3, S3, 1\n  slti  V0, S3, 2\n  bnez  V0, L801060C0\n   nop\n  lw    RA, 0x30(SP)\n  lw    S5, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x38\n\nfunc_80106188:\n  addiu SP, SP, -0x28\n  sw    RA, 0x20(SP)\n  sw    S3, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S0, A0\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0xe\n  lui   V0, hi(D_80113750)\n  addu  V0, V0, A0\n  lw    V0, lo(D_80113750)(V0)\n  bnez  V0, L801062D8\n   nop\n  lui   V0, hi(D_80113748)\n  lw    V0, lo(D_80113748)(V0)\n  bnez  V0, L801061F8\n   nop\n  li    A0, 108\n  jal   func_80043510\n   move  A1, R0\n  move  S3, V0\n  jal   func_80043DAC\n   move  A0, S3\n  lui   AT, hi(D_80113748)\n  sw    S3, lo(D_80113748)(AT)\n  j     L8010620C\n   sll   V1, S0, 0x10\nL801061F8:\n  lui   A0, hi(D_80113748)\n  jal   func_80043F7C\n   lw    A0, lo(D_80113748)(A0)\n  move  S3, V0\n  sll   V1, S0, 0x10\nL8010620C:\n  sra   S1, V1, 0x10\n  sll   V0, S1, 2\n  lui   AT, hi(D_80113750)\n  addu  AT, AT, V0\n  sw    S3, lo(D_80113750)(AT)\n  lhu   V0, 0xa(S3)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S3)\n  lui   V0, 0x6666\n  ori   V0, V0, 0x6667\n  mult  S1, V0\n  mfhi  A3\n  sra   S0, A3, 1\n  sra   V1, V1, 0x1f\n  subu  S0, S0, V1\n  sll   V0, S0, 0x10\n  sra   V0, V0, 0xf\n  lui   A0, hi(D_80111A6C)\n  addu  A0, A0, V0\n  lh    A0, lo(D_80111A6C)(A0)\n  jal   func_80054B8C\n   addiu S2, S3, 0xc\n  move  A0, S2\n  jal   func_800B3170\n   addiu A1, V0, 8\n  sll   V0, S0, 2\n  addu  V0, V0, S0\n  subu  S1, S1, V0\n  sll   S1, S1, 0x10\n  sra   S1, S1, 0x10\n  sll   S0, S1, 1\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  lui   A1, hi(D_80111A70)\n  addiu A1, A1, lo(D_80111A70)\n  move  A0, S2\n  addu  A1, S0, A1\n  jal   func_800B31C0\n   move  A2, S2\n  lw    V0, 0x3c(S3)\n  lui   AT, hi(D_80111AAC)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80111AAC)(AT)\n  swc1  F0, 0x24(V0)\n  lw    V0, 0x3c(S3)\n  lui   AT, hi(D_80111AB4)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80111AB4)(AT)\n  swc1  F0, 0x2c(V0)\n  jal   func_800442DC\n   move  A0, S3\nL801062D8:\n  lw    RA, 0x20(SP)\n  lw    S3, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_801062F4:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   AT, hi(D_80113748)\n  sw    R0, lo(D_80113748)(AT)\n  move  S0, R0\n  lui   S1, hi(D_80113750)\n  addiu S1, S1, lo(D_80113750)\n  sll   V0, S0, 2\nL8010631C:\n  addu  V0, V0, S1\n  sw    R0, 0(V0)\n  sll   A0, S0, 0x10\n  jal   func_80106188\n   sra   A0, A0, 0x10\n  addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnez  V0, L8010631C\n   sll   V0, S0, 2\n  jal   func_8010608C\n   nop\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_8010635C:\n/*  */  addiu SP, SP, -0x28\n  sw    RA, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  move  S0, A0\n  sll   A0, A0, 0x10\n  sra   A0, A0, 0xe\n  lui   V0, hi(D_8011377C)\n  addu  V0, V0, A0\n  lw    V0, lo(D_8011377C)(V0)\n  bnez  V0, L801064A0\n   nop\n  lui   V0, hi(D_80113778)\n  lw    V0, lo(D_80113778)(V0)\n  bnez  V0, L801063DC\n   nop\n  lui   V0, hi(D_800F93AA)\n  lh    V0, lo(D_800F93AA)(V0)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111AED)\n  addu  A0, A0, V0\n  lbu   A0, lo(D_80111AED)(A0)\n  jal   func_80043510\n   move  A1, R0\n  move  S2, V0\n  jal   func_80043DAC\n   move  A0, S2\n  lui   AT, hi(D_80113778)\n  sw    S2, lo(D_80113778)(AT)\n  j     L801063F0\n   sll   S0, S0, 0x10\nL801063DC:\n  lui   A0, hi(D_80113778)\n  lw    A0, lo(D_80113778)(A0)\n  jal   func_80043F7C\n   sll   S0, S0, 0x10\n  move  S2, V0\nL801063F0:\n  sra   S0, S0, 0x10\n  sll   S1, S0, 2\n  lui   AT, hi(D_8011377C)\n  addu  AT, AT, S1\n  sw    S2, lo(D_8011377C)(AT)\n  lhu   V0, 0xa(S2)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S2)\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  li    A1, 2\n  jal   func_80029E80\n   li    A2, 1\n  sll   S0, S0, 1\n  lui   A0, hi(D_80111AE8)\n  addu  A0, A0, S0\n  jal   func_80054B8C\n   lh    A0, lo(D_80111AE8)(A0)\n  addiu A0, S2, 0xc\n  jal   func_800B3170\n   addiu A1, V0, 8\n  lui   A0, hi(D_80111A3C)\n  addu  A0, A0, S1\n  jal   func_80054B8C\n   lh    A0, lo(D_80111A3C)(A0)\n  lui   A0, hi(D_80111A3E)\n  addu  A0, A0, S1\n  lh    A0, lo(D_80111A3E)(A0)\n  jal   func_80054B8C\n   move  S0, V0\n  addiu A0, V0, 8\n  addiu A1, S0, 8\n  jal   func_80056658\n   addiu A2, S2, 0x18\n  li    A0, 12\n  lui   A2, hi(D_80111A34)\n  addu  A2, A2, S1\n  lh    A2, lo(D_80111A34)(A2)\n  lui   A3, hi(D_80111A36)\n  addu  A3, A3, S1\n  lh    A3, lo(D_80111A36)(A3)\n  jal   func_80041AEC\n   move  A1, S2\nL801064A0:\n  lw    RA, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_801064B8:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   AT, hi(D_80113778)\n  sw    R0, lo(D_80113778)(AT)\n  move  S0, R0\n  lui   S1, hi(D_8011377C)\n  addiu S1, S1, lo(D_8011377C)\n  sll   V0, S0, 2\nL801064E0:\n  addu  V0, V0, S1\n  sw    R0, 0(V0)\n  sll   A0, S0, 0x10\n  jal   func_8010635C\n   sra   A0, A0, 0x10\n  addiu S0, S0, 1\n  slti  V0, S0, 2\n  bnez  V0, L801064E0\n   sll   V0, S0, 2\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_80106518:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  lui   S0, hi(D_800F93AA)\n  addiu S0, S0, lo(D_800F93AA)\n  lh    V0, 0(S0)\n  sll   V0, V0, 2\n  lui   A0, hi(D_80111B40)\n  addu  A0, A0, V0\n  jal   func_8007D9E0\n   lw    A0, lo(D_80111B40)(A0)\n  lh    V0, 0(S0)\n  sll   V0, V0, 2\n  lui   A0, hi(D_80111B1E)\n  addu  A0, A0, V0\n  jal   func_8007959C\n   lh    A0, lo(D_80111B1E)(A0)\n  jal   func_80076FCC\n   move  A0, R0\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80106618:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  sll   A0, A0, 2\n  lui   V0, hi(D_8011377C)\n  addu  V0, V0, A0\n  lw    V0, lo(D_8011377C)(V0)\n  lw    V0, 0x3c(V0)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  li    A1, 1\n  jal   func_80029E80\n   li    A2, 4\n  lui   V0, hi(D_800F93AA)\n  lh    V0, lo(D_800F93AA)(V0)\n  lui   V1, hi(D_80111B64)\n  addiu V1, V1, lo(D_80111B64)\n  sll   V0, V0, 2\n  addu  A0, V0, V1\n  lw    V1, 0(A0)\n  li    V0, -1\n  beq   V1, V0, L80106678\n   nop\n  jal   func_8007959C\n   lh    A0, 2(A0)\nL80106678:\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80106684:\n  addiu SP, SP, -0x20\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S0, R0\n  lui   S1, hi(D_80111B88)\n  addiu S1, S1, lo(D_80111B88)\n  sll   V0, S0, 1\nL801066A4:\n  addu  V0, V0, S1\n  jal   func_80054B8C\n   lh    A0, 0(V0)\n  sll   V1, S0, 2\n  li    A0, 10\n  lui   A2, hi(D_80111A28)\n  addu  A2, A2, V1\n  lh    A2, lo(D_80111A28)(A2)\n  lui   A3, hi(D_80111A2A)\n  addu  A3, A3, V1\n  lh    A3, lo(D_80111A2A)(A3)\n  jal   func_80041B60\n   addiu A1, V0, 8\n  addiu S0, S0, 1\n  slti  V0, S0, 2\n  bnez  V0, L801066A4\n   sll   V0, S0, 1\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_801066FC:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   A0, hi(D_80111B8C)\n  jal   func_80054B8C\n   lh    A0, lo(D_80111B8C)(A0)\n  lui   V1, hi(D_80111A30)\n  addiu V1, V1, lo(D_80111A30)\n  li    A0, 9\n  lh    A2, 0(V1)\n  lh    A3, 2(V1)\n  jal   func_80041B60\n   addiu A1, V0, 8\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80106738:\n  addiu SP, SP, -0x58\n  sw    RA, 0x40(SP)\n  sw    S3, 0x3c(SP)\n  sw    S2, 0x38(SP)\n  sw    S1, 0x34(SP)\n  sw    S0, 0x30(SP)\n  sdc1  F22, 0x50(SP)\n  sdc1  F20, 0x48(SP)\n  lui   A1, hi(D_80113784)\n  lw    A1, lo(D_80113784)(A1)\n  addiu A0, SP, 0x10\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lui   A0, hi(D_80113784)\n  lw    A0, lo(D_80113784)(A0)\n  jal   func_80042BE0\n   addiu A0, A0, 0x18\n  li    AT, 0x43340000 ;180.000000\n  mtc1  AT, F2\n  nop\n  add.s F22, F0, F2\n  jal   func_800B83C0\n   mov.s F12, F22\n  li    AT, 0x41C00000 ;24.000000\n  mtc1  AT, F20\n  nop\n  mul.s F0, F0, F20\n  lwc1  F2, 0x10(SP)\n  add.s F0, F0, F2\n  swc1  F0, 0x20(SP)\n  lwc1  F0, 0x14(SP)\n  swc1  F0, 0x24(SP)\n  jal   func_800B7890\n   mov.s F12, F22\n  mul.s F0, F0, F20\n  lwc1  F8, 0x18(SP)\n  add.s F0, F0, F8\n  swc1  F0, 0x28(SP)\n  lwc1  F2, 0x10(SP)\n  lwc1  F4, 0x20(SP)\n  sub.s F2, F2, F4\n  li    AT, 0x41400000 ;12.000000\n  mtc1  AT, F6\n  nop\n  div.s F2, F2, F6\n  swc1  F2, 0x10(SP)\n  lwc1  F2, 0x14(SP)\n  lwc1  F4, 0x24(SP)\n  sub.s F2, F2, F4\n  div.s F2, F2, F6\n  swc1  F2, 0x14(SP)\n  sub.s F8, F8, F0\n  div.s F8, F8, F6\n  swc1  F8, 0x18(SP)\n  move  S1, R0\n  lui   S3, hi(D_80113790)\n  addiu S3, S3, lo(D_80113790)\n  lui   S2, hi(D_80113820)\n  addiu S2, S2, lo(D_80113820)\n  sll   S0, S1, 1\nL80106828:\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  mtc1  S1, F4\n  nop\n  cvt.s.w F4, F4\n  lwc1  F6, 0x10(SP)\n  mul.s F6, F4, F6\n  lwc1  F10, 0x20(SP)\n  lwc1  F2, 0x14(SP)\n  mul.s F2, F4, F2\n  lwc1  F8, 0x24(SP)\n  lwc1  F0, 0x18(SP)\n  mul.s F4, F4, F0\n  lwc1  F0, 0x28(SP)\n  add.s F10, F6, F10\n  mfc1  A1, F10\n  add.s F8, F2, F8\n  mfc1  A2, F8\n  add.s F0, F4, F0\n  mfc1  A3, F0\n  nop\n  jal   func_800B3160\n   addu  A0, S0, S3\n  lui   A1, hi(D_80113784)\n  lw    A1, lo(D_80113784)(A1)\n  addu  A0, S0, S2\n  jal   func_800B3170\n   addiu A1, A1, 0x18\n  addiu S1, S1, 1\n  slti  V0, S1, 0xc\n  bnel  V0, R0, L80106828\n   sll   S0, S1, 1\n  lui   AT, hi(D_801138B0)\n  sw    R0, lo(D_801138B0)(AT)\n  lui   A0, hi(D_80113788)\n  lw    A0, lo(D_80113788)(A0)\n  lui   A1, hi(D_80113790)\n  lw    A1, lo(D_80113790)(A1)\n  lui   A2, hi(D_80113794)\n  lw    A2, lo(D_80113794)(A2)\n  lui   A3, hi(D_80113798)\n  lw    A3, lo(D_80113798)(A3)\n  jal   func_800B3160\n   addiu A0, A0, 0xc\n  lui   A0, hi(D_80113788)\n  lw    A0, lo(D_80113788)(A0)\n  lui   V1, hi(D_801138B0)\n  lw    V1, lo(D_801138B0)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(D_80113820)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80113820)(A1)\n  lui   A2, hi(D_80113824)\n  addu  A2, A2, V0\n  lw    A2, lo(D_80113824)(A2)\n  lui   A3, hi(D_80113828)\n  addu  A3, A3, V0\n  lw    A3, lo(D_80113828)(A3)\n  jal   func_800B3160\n   addiu A0, A0, 0x18\n  lw    RA, 0x40(SP)\n  lw    S3, 0x3c(SP)\n  lw    S2, 0x38(SP)\n  lw    S1, 0x34(SP)\n  lw    S0, 0x30(SP)\n  ldc1  F22, 0x50(SP)\n  ldc1  F20, 0x48(SP)\n  jr    RA\n   addiu SP, SP, 0x58\n\nfunc_80106944:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  jal   func_8005DC3C\n   li    A0, -1\n  move  S0, V0\n  lui   V0, hi(D_8011378C)\n  lw    V0, lo(D_8011378C)(V0)\n  beqz  V0, L801069B8\n   nop\n  lw    A0, 0x24(S0)\n  lui   A1, hi(D_80113788)\n  lw    A1, lo(D_80113788)(A1)\n  addiu A0, A0, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lw    V0, 0x24(S0)\n  lwc1  F0, 0x10(V0)\n  li    AT, 0x40E00000 ;7.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x10(V0)\n  lw    A0, 0x24(S0)\n  lui   A1, hi(D_80113788)\n  lw    A1, lo(D_80113788)(A1)\n  addiu A0, A0, 0x18\n  jal   func_800B3170\n   addiu A1, A1, 0x18\nL801069B8:\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_801069C8:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   V1, hi(D_801138B0)\n  lw    V1, lo(D_801138B0)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(D_80113784)\n  lw    A0, lo(D_80113784)(A0)\n  lwc1  F0, 0xc(A0)\n  lui   AT, hi(D_80113790)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113790)(AT)\n  lwc1  F0, 0x10(A0)\n  lui   AT, hi(D_80113794)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113794)(AT)\n  lwc1  F0, 0x14(A0)\n  lui   AT, hi(D_80113798)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113798)(AT)\n  lwc1  F0, 0x18(A0)\n  lui   AT, hi(D_80113820)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113820)(AT)\n  lwc1  F0, 0x1c(A0)\n  lui   AT, hi(D_80113824)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113824)(AT)\n  lwc1  F0, 0x20(A0)\n  lui   AT, hi(D_80113828)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113828)(AT)\n  addiu V1, V1, 1\n  lui   AT, hi(D_801138B0)\n  sw    V1, lo(D_801138B0)(AT)\n  slti  V1, V1, 0xc\n  bnez  V1, L80106A6C\n   nop\n  lui   AT, hi(D_801138B0)\n  sw    R0, lo(D_801138B0)(AT)\nL80106A6C:\n  lui   A0, hi(D_80113788)\n  lw    A0, lo(D_80113788)(A0)\n  lui   V1, hi(D_801138B0)\n  lw    V1, lo(D_801138B0)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(D_80113790)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80113790)(A1)\n  lui   A2, hi(D_80113794)\n  addu  A2, A2, V0\n  lw    A2, lo(D_80113794)(A2)\n  lui   A3, hi(D_80113798)\n  addu  A3, A3, V0\n  lw    A3, lo(D_80113798)(A3)\n  jal   func_800B3160\n   addiu A0, A0, 0xc\n  lui   A0, hi(D_80113788)\n  lw    A0, lo(D_80113788)(A0)\n  lui   V1, hi(D_801138B0)\n  lw    V1, lo(D_801138B0)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(D_80113820)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80113820)(A1)\n  lui   A2, hi(D_80113824)\n  addu  A2, A2, V0\n  lw    A2, lo(D_80113824)(A2)\n  lui   A3, hi(D_80113828)\n  addu  A3, A3, V0\n  lw    A3, lo(D_80113828)(A3)\n  jal   func_800B3160\n   addiu A0, A0, 0x18\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80106B08:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   A0, hi(D_801138B0)\n  lw    A0, lo(D_801138B0)(A0)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   V1, hi(D_80113788)\n  lw    V1, lo(D_80113788)(V1)\n  lwc1  F0, 0xc(V1)\n  lui   AT, hi(D_80113790)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113790)(AT)\n  lwc1  F0, 0x10(V1)\n  lui   AT, hi(D_80113794)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113794)(AT)\n  lwc1  F0, 0x14(V1)\n  lui   AT, hi(D_80113798)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113798)(AT)\n  lwc1  F0, 0x18(V1)\n  lui   AT, hi(D_80113820)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113820)(AT)\n  lwc1  F0, 0x1c(V1)\n  lui   AT, hi(D_80113824)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113824)(AT)\n  lwc1  F0, 0x20(V1)\n  lui   AT, hi(D_80113828)\n  addu  AT, AT, V0\n  swc1  F0, lo(D_80113828)(AT)\n  addiu A0, A0, -1\n  lui   AT, hi(D_801138B0)\n  sw    A0, lo(D_801138B0)(AT)\n  bgez  A0, L80106BA8\n   li    V0, 11\n  lui   AT, hi(D_801138B0)\n  sw    V0, lo(D_801138B0)(AT)\nL80106BA8:\n  lui   A0, hi(D_80113784)\n  lw    A0, lo(D_80113784)(A0)\n  lui   V1, hi(D_801138B0)\n  lw    V1, lo(D_801138B0)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(D_80113790)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80113790)(A1)\n  lui   A2, hi(D_80113794)\n  addu  A2, A2, V0\n  lw    A2, lo(D_80113794)(A2)\n  lui   A3, hi(D_80113798)\n  addu  A3, A3, V0\n  lw    A3, lo(D_80113798)(A3)\n  jal   func_800B3160\n   addiu A0, A0, 0xc\n  lui   A0, hi(D_80113784)\n  lw    A0, lo(D_80113784)(A0)\n  lui   V1, hi(D_801138B0)\n  lw    V1, lo(D_801138B0)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(D_80113820)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80113820)(A1)\n  lui   A2, hi(D_80113824)\n  addu  A2, A2, V0\n  lw    A2, lo(D_80113824)(A2)\n  lui   A3, hi(D_80113828)\n  addu  A3, A3, V0\n  lw    A3, lo(D_80113828)(A3)\n  jal   func_800B3160\n   addiu A0, A0, 0x18\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80106C44:\n  addiu SP, SP, -0x28\n  sw    RA, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  li    A0, 116\n  jal   func_80043510\n   move  A1, R0\n  move  S2, V0\n  jal   func_80043DAC\n   move  A0, S2\n  lui   AT, hi(D_80113784)\n  sw    S2, lo(D_80113784)(AT)\n  lhu   V0, 0xa(S2)\n  ori   V0, V0, 2\n  sh    V0, 0xa(S2)\n  lui   S1, hi(D_800F8CE4)\n  addiu S1, S1, lo(D_800F8CE4)\n  lh    V0, 0(S1)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111B90)\n  addu  A0, A0, V0\n  lhu   A0, lo(D_80111B90)(A0)\n  jal   func_80054BB0\n   move  A1, R0\n  sll   V0, V0, 0x10\n  jal   func_80054B8C\n   sra   A0, V0, 0x10\n  move  S0, V0\n  lh    V0, 0(S1)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111B90)\n  addu  A0, A0, V0\n  lhu   A0, lo(D_80111B90)(A0)\n  jal   func_80054BB0\n   li    A1, 1\n  sll   V0, V0, 0x10\n  jal   func_80054B8C\n   sra   A0, V0, 0x10\n  lwc1  F10, 8(V0)\n  lwc1  F6, 8(S0)\n  lwc1  F8, 0xc(V0)\n  lwc1  F2, 0xc(S0)\n  lwc1  F4, 0x10(V0)\n  lwc1  F0, 0x10(S0)\n  sub.s F6, F10, F6\n  mfc1  A1, F6\n  sub.s F2, F8, F2\n  mfc1  A2, F2\n  sub.s F0, F4, F0\n  mfc1  A3, F0\n  nop\n  jal   func_800B3160\n   addiu A0, S2, 0x18\n  addiu A0, S2, 0xc\n  jal   func_800B3170\n   addiu A1, S0, 8\n  li    A0, 117\n  jal   func_80043510\n   move  A1, R0\n  move  S2, V0\n  jal   func_80043DAC\n   move  A0, S2\n  lui   AT, hi(D_80113788)\n  sw    S2, lo(D_80113788)(AT)\n  lhu   V0, 0xa(S2)\n  ori   V0, V0, 2\n  jal   func_80106738\n   sh    V0, 0xa(S2)\n  lui   AT, hi(D_8011378C)\n  sw    R0, lo(D_8011378C)(AT)\n  lw    RA, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_80106D78:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S0, A0\n  jal   func_8005DC3C\n   lbu   A0, 0x4c(S0)\n  move  V1, V0\n  lbu   V0, 0x4d(S0)\n  bnez  V0, L80106DB0\n   nop\n  jal   func_800442DC\n   lw    A0, 0x24(V1)\n  jal   func_8007695C\n   move  A0, S0\nL80106DB0:\n  lbu   V0, 0x4d(S0)\n  addiu V0, V0, -1\n  sb    V0, 0x4d(S0)\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80106DCC:\n  addiu SP, SP, -0x50\n  sw    RA, 0x48(SP)\n  sw    S3, 0x44(SP)\n  sw    S2, 0x40(SP)\n  sw    S1, 0x3c(SP)\n  sw    S0, 0x38(SP)\n  move  S1, A0\n  jal   func_8005DC3C\n   move  S2, A1\n  move  S3, V0\n  sll   S0, S1, 0x10\n  sra   S0, S0, 0x10\n  li    A0, 936\n  jal   func_80079798\n   move  A1, S0\n  li    A0, 166\n  jal   func_80079798\n   move  A1, S0\n  li    A0, 273\n  jal   func_800797DC\n   move  A1, S0\n  move  A0, S0\n  jal   func_80067170\n   li    A1, 3\n  lui   V0, hi(func_80106D78)\n  addiu V0, V0, lo(func_80106D78)\n  sw    V0, 0x10(SP)\n  li    A0, 4096\n  move  A1, R0\n  move  A2, R0\n  jal   func_80076598\n   li    A3, -1\n  move  S0, V0\n  move  A0, S0\n  jal   func_80076AFC\n   li    A1, 160\n  sb    S1, 0x4c(S0)\n  li    V0, 30\n  bnez  S2, L80106E78\n   sb    V0, 0x4d(S0)\n  lui   A0, hi(D_80113784)\n  j     L80106E80\n   lw    A0, lo(D_80113784)(A0)\nL80106E78:\n  lui   A0, hi(D_80113788)\n  lw    A0, lo(D_80113788)(A0)\nL80106E80:\n  lw    A1, 0x24(S3)\n  addiu A0, A0, 0xc\n  addiu A1, A1, 0xc\n  jal   func_80056658\n   addiu A2, SP, 0x18\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x1c(SP)\n  addiu A0, SP, 0x18\n  lui   A1, 0x42c8\n  jal   func_800B3240\n   move  A2, A0\n  lw    A1, 0x24(S3)\n  addiu A0, SP, 0x18\n  addiu A1, A1, 0xc\n  jal   func_800B31C0\n   move  A2, A0\n  lw    A0, 0x24(S3)\n  addiu S0, SP, 0x28\n  addiu A0, A0, 0xc\n  addiu A1, SP, 0x18\n  jal   func_80056658\n   move  A2, S0\n  jal   func_80042BE0\n   move  A0, S0\n  li    AT, 0x43960000 ;300.000000\n  mtc1  AT, F2\n  nop\n  c.le.s F2, F0\n  nop\n  bc1t  L80106F28\n   nop\n  jal   func_80042BE0\n   move  A0, S0\n  li    AT, 0x42700000 ;60.000000\n  mtc1  AT, F2\n  nop\n  c.le.s F0, F2\n  nop\n  bc1f  L80106F50\n   nop\nL80106F28:\n  lw    V0, 0x24(S3)\n  lwc1  F0, 0xc(V0)\n  li    AT, 0x42480000 ;50.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x18(SP)\n  lw    V0, 0x24(S3)\n  lwc1  F0, 0x14(V0)\n  swc1  F0, 0x20(SP)\nL80106F50:\n  lw    A2, 0x24(S3)\n  addiu A2, A2, 0xc\n  move  A0, A2\n  addiu A1, SP, 0x18\n  jal   func_80056D80\n   li    A3, 30\n  sh    R0, 0x10(S3)\n  sh    R0, 0x12(S3)\n  sh    R0, 0x14(S3)\n  li    V0, 1\n  sh    V0, 0x16(S3)\n  lw    V1, 0x24(S3)\n  lhu   V0, 0xa(V1)\n  ori   V0, V0, 1\n  sh    V0, 0xa(V1)\n  lw    A0, 0x24(S3)\n  li    A1, 4\n  jal   func_80044494\n   li    A2, 2\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\n  li    V0, -1\n  beq   A0, V0, L80106FC4\n   li    A1, 5\n  jal   func_8005DD68\n   move  A2, R0\n  li    A0, -1\n  jal   func_80067170\n   move  A1, R0\nL80106FC4:\n  lw    RA, 0x48(SP)\n  lw    S3, 0x44(SP)\n  lw    S2, 0x40(SP)\n  lw    S1, 0x3c(SP)\n  lw    S0, 0x38(SP)\n  jr    RA\n   addiu SP, SP, 0x50\n\nfunc_80108C0C:\n  addiu SP, SP, -0x40\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  sdc1  F28, 0x38(SP)\n  sdc1  F26, 0x30(SP)\n  sdc1  F24, 0x28(SP)\n  sdc1  F22, 0x20(SP)\n  sdc1  F20, 0x18(SP)\n  jal   func_8007959C\n   li    A0, 876\n  li    A0, 111\n  jal   func_80043510\n   move  A1, R0\n  move  S0, V0\n  lui   A1, hi(D_800F64C8)\n  lw    A1, lo(D_800F64C8)(A1)\n  addiu A0, S0, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lwc1  F0, 0x14(S0)\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x14(S0)\n  lwc1  F0, 0x10(S0)\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x10(S0)\n  mtc1  R0, F22\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F20\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_801135B8)\n  ldc1  F24, lo(D_801135B8)(AT)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F26\nL80108CAC:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  add.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.lt.s F20, F26\n  nop\n  bc1t  L80108CAC\n   nop\n  jal   func_80105EC4\n   nop\n  lui   AT, hi(D_800F8D12) ;AT, 0x8010\n  sh    R0, lo(D_800F8D12)(AT)\n  jal   func_800542B8\n   move  A0, R0\n  jal   func_80105DDC\n   nop\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F0\n  nop\n  c.le.s F0, F20\n  nop\n  bc1f  L80108DE0\n   nop\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_801135C0)\n  ldc1  F24, lo(D_801135C0)(AT)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F26\nL80108D70:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  sub.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.le.s F26, F20\n  nop\n  bc1t  L80108D70\n   nop\nL80108DE0:\n  jal   func_8004430C\n   move  A0, S0\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  ldc1  F28, 0x38(SP)\n  ldc1  F26, 0x30(SP)\n  ldc1  F24, 0x28(SP)\n  ldc1  F22, 0x20(SP)\n  ldc1  F20, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\n; Star space event\n__PP64_INTERNAL_STAR_SPACE_EVENT:\nfunc_80108E0C:\n  addiu SP, SP, -0x40\n  sw    RA, 0x3c(SP)\n  sw    S2, 0x38(SP)\n  sw    S1, 0x34(SP)\n  jal   func_800558F4\n   sw    S0, 0x30(SP)\n  move  S0, V0\n  lui   S1, hi(D_800F93A8)\n  addiu S1, S1, lo(D_800F93A8)\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  li    V0, 4\n  beq   V1, V0, L80109634\n   move  S2, R0\n  sll   A0, S0, 0x10\n  jal   func_80102C3C\n   sra   A0, A0, 0x10\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  li    V1, 1\n  bne   V0, V1, L801091AC\n   sll   A0, S0, 0x10\n  lui   A0, hi(D_800F93C6)\n  jal   func_80046D2C\n   lh    A0, lo(D_800F93C6)(A0)\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  jal   func_80102830\n   nop\n  sll   V0, V0, 0x10\n  li    A0, -1\n  li    A1, 8\n  jal   func_80056C30\n   sra   A2, V0, 0x10\n  jal   func_8007D838\n   nop\n  li    AT, 0x3FCC0000 ;1.593750\n  ori AT, AT, 0xcccd\n  mtc1  AT, F12\n  nop\n  jal   func_80052F70\n   move  S0, V0\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   nop\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V1, V0, 2\n  lui   V0, hi(p1_turn_status)\n  addu  V0, V0, V1\n  lb    V0, lo(p1_turn_status)(V0)\n  beqz  V0, L80108F58\n   li    V0, 24\n  sb    V0, 0x20(SP)\n  lui   V0, hi(p1_char)\n  addu  V0, V0, V1\n  lbu   V0, lo(p1_char)(V0)\n  sb    V0, 0x21(SP)\n  sb    R0, 0x22(SP)\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 3\n  li    A1, 561\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056458\n   nop\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  j     L80108F70\n   nop\nL80108F58:\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\nL80108F60:\n  beqz  V0, L80108F70\n   li    A0, 3\n  jal   func_8005600C\n   li    A1, 556\nL80108F70:\n  lh    V0, 0x1e(S1)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  slti  V0, V0, 0x63\n  bnez  V0, L80108FB4\n   nop\n  jal   func_8007959C\n   li    A0, 288\n  li    A0, 3\n  j     L80109174\n   li    A1, 555\nL80108FB4:\n  lh    V0, 0x1e(S1)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 0x14\n  bnez  V0, L80109164\n   nop\n  jal   func_8007959C\n   li    A0, 286\n  li    A0, 3\nL80108FF0:\n  jal   func_800560A4\n   li    A1, 551\n  jal   func_801041D4\n   nop\n  jal   func_80056144\n   move  S0, V0\n  jal   func_80056168\n   sll   S0, S0, 0x10\n  sra   S0, S0, 0x10\n  li    V0, 1\n  beq   S0, V0, L80109114\n   slti  V0, S0, 2\n  beql  V0, R0, L80109038\n   li    V0, 2\n  beqz  S0, L80109048\n   nop\n  j     L80109634\n   nop\nL80109038:\n  beq   S0, V0, L80109154\n   nop\n  j     L80109634\n   nop\nL80109048:\n  lh    A0, 0x1e(S1)\n  jal   func_8004CA34\n   li    A1, -20\n  lh    A0, 0x1e(S1)\n  jal   func_800614B4\n   li    A1, -20\n  jal   func_8007D9E0\n   li    A0, 30\n  bnez  S2, L801090DC\n   li    A0, 3\n  jal   func_8005600C\n   li    A1, 553\n  lui   V0, hi(D_800CCC16)\n  lb    V0, lo(D_800CCC16)(V0)\n  beqz  V0, L801090B0\n   nop\n  jal   func_80079464\n   nop\n  lui   A0, hi(D_800F64B0)\n  lh    A0, lo(D_800F64B0)(A0)\n  jal   func_800114E8\n   li    A1, 60\n  li    V0, -1\n  lui   AT, hi(D_800F64B0)\n  j     L801090B8\n   sh    V0, lo(D_800F64B0)(AT)\nL801090B0:\n  jal   func_800794A8\n   li    A0, 90\nL801090B8:\n  lui   A0, hi(D_8011371C)\n  jal   func_80103968\n   lw    A0, lo(D_8011371C)(A0)\n  jal   func_800573AC\n   nop\n  jal   func_8006706C\n   li    A0, 2\n  j     L80109634\n   nop\nL801090DC:\n  jal   func_8005600C\n   li    A1, 557\n  jal   func_80108C0C\n   nop\n  jal   func_8007D9E0\n   li    A0, 30\n  lui   A0, hi(D_800F64C8)\n  jal   func_801039E4\n   lw    A0, lo(D_800F64C8)(A0)\n  li    A0, 5\n  jal   func_8005600C\n   li    A1, 558\n  j     L801095F8\n   nop\nL80109114:\n  lui   V0, hi(D_800CCC16)\n  lb    V0, lo(D_800CCC16)(V0)\n  beqz  V0, L80109144\n   li    A0, 3\n  lui   A0, hi(D_800F64B0)\n  lh    A0, lo(D_800F64B0)(A0)\n  jal   func_800114E8\n   li    A1, 60\n  li    V0, -1\n  lui   AT, hi(D_800F64B0)\n  sh    V0, lo(D_800F64B0)(AT)\n  li    A0, 3\nL80109144:\n  jal   func_8005600C\n   li    A1, 554\n  j     L801095F8\n   nop\nL80109154:\n  jal   __PP64_INTERNAL_VIEW_MAP\n   nop\n  j     L80108FF0\n   li    A0, 3\nL80109164:\n  jal   func_8007959C\n   li    A0, 288\n  li    A0, 3\n  li    A1, 552\nL80109174:\n  jal   func_8005600C\n   nop\n  lui   V0, hi(D_800CCC16)\n  lb    V0, lo(D_800CCC16)(V0)\n  beqz  V0, L801095F8\n   nop\n  lui   A0, hi(D_800F64B0)\n  lh    A0, lo(D_800F64B0)(A0)\n  jal   func_800114E8\n   li    A1, 60\n  li    V0, -1\n  lui   AT, hi(D_800F64B0)\n  j     L801095F8\n   sh    V0, lo(D_800F64B0)(AT)\nL801091AC:\n  jal   func_80102C3C\n   sra   A0, A0, 0x10\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  li    V1, 2\n  bne   V0, V1, L80109634\n   nop\n  jal   func_80046D2C\n   lh    A0, 0x1e(S1)\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  lh    V0, 0x1c(S1)\n  sll   V0, V0, 1\n  li    A0, -1\n  lui   A2, hi(D_80111994)\n  addu  A2, A2, V0\n  lh    A2, lo(D_80111994)(A2)\n  jal   func_80056C30\n   li    A1, 8\n  jal   func_8007D838\n   nop\n  li    AT, 0x3FCC0000 ;1.593750\n  ori AT, AT, 0xcccd\n  mtc1  AT, F12\n  nop\n  jal   func_80052F70\n   move  S0, V0\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   nop\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  bnez  V0, L8010924C\n   nop\n  jal   func_8007959C\n   li    A0, 867\nL8010924C:\n  lh    V0, 0x1e(S1)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_turn_status)\n  addu  V0, V0, V1\n  lb    V0, lo(p1_turn_status)(V0)\n  beqz  V0, L80109368\n   nop\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  beqz  V0, L801092C4\n   li    A0, 3\n  jal   func_8005600C\n   li    A1, 559\n  jal   func_80108C0C\n   nop\n  jal   func_8007D9E0\n   li    A0, 30\n  li    A0, 5\n  jal   func_8005600C\n   li    A1, 560\n  lh    A0, 0x1e(S1)\n  jal   func_8004CA34\n   li    A1, 20\n  lh    A0, 0x1e(S1)\n  j     L8010957C\n   li    A1, 20\nL801092C4:\n  lui   V0, hi(D_800F8D18)\n  lh    V0, lo(D_800F8D18)(V0)\n  bnez  V0, L801092F4\n   li    A0, 5\n  jal   func_8005600C\n   li    A1, 1063\n  lh    A0, 0x1e(S1)\n  jal   func_8004CA34\n   li    A1, 20\n  lh    A0, 0x1e(S1)\n  j     L8010957C\n   li    A1, 20\nL801092F4:\n  lui   S0, hi(D_800F8D18)\n  addiu S0, S0, lo(D_800F8D18)\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  lh    A2, 0(S0)\n  jal   func_800A5660\n   addiu A0, SP, 0x20\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 5\n  li    A1, 1062\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056458\n   nop\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  lh    A0, 0x1e(S1)\n  jal   func_8004CA34\n   lh    A1, 0(S0)\n  lh    A0, 0x1e(S1)\n  jal   func_800614B4\n   lh    A1, 0(S0)\n  j     L80109584\n   sh    R0, 0(S0)\nL80109368:\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  bnez  V0, L80108F60\n   li    S2, 1\n  lh    V0, 0x1e(S1)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  bnez  V0, L801093B4\n   li    A0, 5\n  jal   func_8005600C\n   li    A1, 1058\n  j     L801095F8\n   nop\nL801093B4:\n  jal   func_8005600C\n   li    A1, 1057\n  lui   A0, hi(D_800F64C8)\n  lw    A0, lo(D_800F64C8)(A0)\n  lui   A1, 0x4000\n  jal   func_80059120\n   lui   A2, 0xbf00\n  lui   A0, hi(D_800F64C8)\n  jal   func_80059158\n   lw    A0, lo(D_800F64C8)(A0)\n  lui   A0, hi(D_800F64C8)\n  lw    A0, lo(D_800F64C8)(A0)\n  lui   A1, 0x4000\n  jal   func_80059120\n   lui   A2, 0xbf00\n  lui   A0, hi(D_800F64C8)\n  jal   func_80059158\n   lw    A0, lo(D_800F64C8)(A0)\n  jal   func_80103B70\n   nop\n  lh    A0, 0x1e(S1)\n  jal   func_80059FD0\n   move  S0, V0\n  lui   AT, hi(D_801122A4)\n  addu  AT, AT, V0\n  lbu   V0, lo(D_801122A4)(AT)\n  slt   S0, S0, V0\n  bnel  S0, R0, L80109594\n   sw    R0, 0x10(SP)\n  lh    V0, 0x1e(S1)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 5\n  bnez  V0, L8010948C\n   li    A0, 5\n  jal   func_8005600C\n   li    A1, 1059\n  lui   V1, hi(D_800F8D18)\n  addiu V1, V1, lo(D_800F8D18)\n  lhu   V0, 0(V1)\n  addiu V0, V0, 5\n  sh    V0, 0(V1)\n  lh    A0, 0x1e(S1)\n  jal   func_8004CA34\n   li    A1, -5\n  lh    A0, 0x1e(S1)\n  j     L8010957C\n   li    A1, -5\nL8010948C:\n  lh    V1, 0x1e(S1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  lui   A2, hi(p1_coins)\n  addu  A2, A2, V0\n  lh    A2, lo(p1_coins)(A2)\n  jal   func_800A5660\n   addiu A0, SP, 0x20\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 5\n  li    A1, 1061\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  lui   A0, hi(D_800F8D18)\n  addiu A0, A0, lo(D_800F8D18)\n  lh    V1, 0x1e(S1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lhu   V1, 0(A0)\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lhu   V0, lo(p1_coins)(AT)\n  addu  V1, V1, V0\n  sh    V1, 0(A0)\n  lh    A0, 0x1e(S1)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   A1, hi(p1_coins)\n  addu  A1, A1, V0\n  lh    A1, lo(p1_coins)(A1)\n  jal   func_8004CA34\n   SUBU A1 R0 A1\n  lh    A0, 0x1e(S1)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   A1, hi(p1_coins)\n  addu  A1, A1, V0\n  lh    A1, lo(p1_coins)(A1)\n  SUBU  A1 R0 A1\nL8010957C:\n  jal   func_800614B4\n   nop\nL80109584:\n  jal   func_8007D9E0\n   li    A0, 30\n  j     L801095F8\n   nop\nL80109594:\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 5\n  li    A1, 1060\n  move  A2, R0\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056144\n   nop\n  lh    A0, 0x1e(S1)\n  jal   func_8004CA34\n   li    A1, 5\n  lh    A0, 0x1e(S1)\n  jal   func_800614B4\n   li    A1, 5\n  jal   func_8007D9E0\n   li    A0, 30\n  jal   func_80056124\n   nop\n  jal   func_80056458\n   nop\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\nL801095F8:\n  jal   func_8004655C\n   lh    A0, 0x1e(S1)\n  jal   func_8007D838\n   nop\n  li    AT, 0x3FA60000 ;1.296875\n  ori AT, AT, 0x6666\n  mtc1  AT, F12\n  nop\n  jal   func_80052F70\n   move  S0, V0\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   nop\nL80109634:\n  lw    RA, 0x3c(SP)\n  lw    S2, 0x38(SP)\n  lw    S1, 0x34(SP)\n  lw    S0, 0x30(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\n; Bank event\n__PP64_INTERNAL_BANK_SPACE_EVENT:\nfunc_8010964C:\n  addiu SP, SP, -0x50\n  sw    RA, 0x4c(SP)\n  sw    S2, 0x48(SP)\n  sw    S1, 0x44(SP)\n  jal   func_800558F4\n   sw    S0, 0x40(SP)\n  move  S0, V0\n  lui   S2, hi(D_800F93A8)\n  addiu S2, S2, lo(D_800F93A8)\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\n  li    V0, 4\n  beq   A0, V0, L80109A60\n   nop\n  jal   func_80047DE8\n   nop\n  bgtz  V0, L801096A0\n   li    A0, -1\n  jal   func_80067170\n   li    A1, 3\n  li    A0, -1\nL801096A0:\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  sll   V0, S0, 0x10\n  sra   V1, V0, 0x10\n  li    V0, ").concat(D[0],"\n  beq   V1, V0, L801096D4\n   li    V0, ").concat(D[1],"\n  bne   V1, V0, L801096E8\n   li    A0, -1\n  li    A1, 8\n  j     L801096E0\n   li    A2, ").concat(F[1],"\nL801096D4:\n  li    A0, -1\n  li    A1, 8\n  li    A2, ").concat(F[0],"\nL801096E0:\n  jal   func_80056C30\n   nop\nL801096E8:\n  jal   func_8007D9E0\n   li    A0, 8\n  jal   func_8007959C\n   li    A0, 230\n  lh    A0, 0x1e(S2)\n  jal   func_80047DE8\n   nop\n  blez  V0, L8010996C\n   nop\n  jal   func_80046D2C\n   lh    A0, 0x1e(S2)\n  lh    V1, 0x1e(S2)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A2, hi(p1_coins)\n  addu  A2, A2, V0\n  lh    A2, lo(p1_coins)(A2)\n  sltu  V0, R0, A2\n  slti  V1, A2, 5\n  and   V0, V0, V1\n  beqz  V0, L80109858\n   nop\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  jal   func_800A5660\n   addiu A0, SP, 0x20\n  addiu S1, SP, 0x30\n  lui   S0, hi(D_800F8D1E)\n  addiu S0, S0, lo(D_800F8D1E)\n  lh    A3, 0(S0)\n  lh    V1, 0x1e(S2)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A2, hi(p1_coins)\n  addu  A2, A2, V0\n  lh    A2, lo(p1_coins)(A2)\n  move  A0, S1\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  jal   func_800A5660\n   addu  A2, A3, A2\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 2\n  li    A1, 23\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, S1\n  jal   func_80056144\n   nop\n  lh    V1, 0x1e(S2)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lhu   V1, 0(S0)\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lhu   V0, lo(p1_coins)(AT)\n  addu  V1, V1, V0\n  jal   func_8010608C\n   sh    V1, 0(S0)\n  lh    A0, 0x1e(S2)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   A1, hi(p1_coins)\n  addu  A1, A1, V0\n  lh    A1, lo(p1_coins)(A1)\n  jal   func_8004CA34\n   SUBU A1 R0 A1\n  lh    A0, 0x1e(S2)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   A1, hi(p1_coins)\n  addu  A1, A1, V0\n  lh    A1, lo(p1_coins)(A1)\n  j     L8010992C\n   SUBU A1 R0 A1\nL80109858:\n  lh    V0, 0x1e(S2)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  bnez  V0, L801098C4\n   addiu A0, SP, 0x20\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  lui   A2, hi(D_800F8D1E)\n  lh    A2, lo(D_800F8D1E)(A2)\n  jal   func_800A5660\n   addiu A0, SP, 0x20\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 2\n  li    A1, 24\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, R0\n  j     L80109944\n   nop\nL801098C4:\n  lui   S0, hi(D_800F8D1E)\n  addiu S0, S0, lo(D_800F8D1E)\n  lh    A2, 0(S0)\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  jal   func_800A5660\n   addiu A2, A2, 5\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 2\n  li    A1, 22\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056144\n   nop\n  lhu   V0, 0(S0)\n  addiu V0, V0, 5\n  jal   func_8010608C\n   sh    V0, 0(S0)\n  lh    A0, 0x1e(S2)\n  jal   func_8004CA34\n   li    A1, -5\n  lh    A0, 0x1e(S2)\n  li    A1, -5\nL8010992C:\n  jal   func_800614B4\n   nop\n  jal   func_8007D9E0\n   li    A0, 30\n  jal   func_80056124\n   nop\nL80109944:\n  jal   func_80056458\n   nop\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  jal   func_8004655C\n   lh    A0, 0x1e(S2)\n  j     L80109A60\n   nop\nL8010996C:\n  lui   S0, hi(D_800F8D1E)\n  addiu S0, S0, lo(D_800F8D1E)\n  lh    A2, 0(S0)\n  beqz  A2, L80109A58\n   li    A0, 2\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  jal   func_800A5660\n   addiu A0, SP, 0x20\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 2\n  li    A1, 25\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056144\n   nop\n  lh    A0, 0x1e(S2)\n  jal   func_8004CA34\n   lh    A1, 0(S0)\n  lh    A0, 0x1e(S2)\n  jal   func_800614B4\n   lh    A1, 0(S0)\n  jal   func_8010608C\n   sh    R0, 0(S0)\n  jal   func_8005DC3C\n   li    A0, -1\n  lw    A0, 0x24(V0)\n  jal   func_8005670C\n   addiu A0, A0, 0x18\n  li    A0, -1\n  li    A1, 5\n  jal   func_8005DD68\n   move  A2, R0\n  lh    V1, 0x1e(S2)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(p1_char)\n  addu  A1, A1, V0\n  lbu   A1, lo(p1_char)(A1)\n  jal   func_80079718\n   li    A0, 259\n  jal   func_8007D9E0\n   li    A0, 30\n  jal   func_80056124\n   nop\n  jal   func_80056458\n   nop\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  j     L80109A60\n   nop\nL80109A58:\n  jal   func_8005600C\n   li    A1, 26\nL80109A60:\n  lw    RA, 0x4c(SP)\n  lw    S2, 0x48(SP)\n  lw    S1, 0x44(SP)\n  lw    S0, 0x40(SP)\n  jr    RA\n   addiu SP, SP, 0x50\n\nfunc_80109A78:\n  move  A3, A0\n  move  A1, R0\n  lui   A2, hi(D_801138B8)\n  lw    A2, lo(D_801138B8)(A2)\n  lui   V0, hi(D_801138B4)\n  lw    V0, lo(D_801138B4)(V0)\n  lui   A0, hi(D_801122E0)\n  addiu A0, A0, lo(D_801122E0)\n  sll   V1, V0, 2\n  addu  V1, V1, V0\n  addu  V1, V1, A0\n  addu  V0, A2, A1\nL80109AA8:\n  lbu   V0, 0(V0)\n  beqz  V0, L80109AC8\n   addu  V0, V1, A1\n  lb    V0, 0(V0)\n  bnel  V0, A3, L80109ACC\n   addiu A1, A1, 1\n  j     L80109ADC\n   move  V0, A1\nL80109AC8:\n  addiu A1, A1, 1\nL80109ACC:\n  slti  V0, A1, 5\n  bnez  V0, L80109AA8\n   addu  V0, A2, A1\n  li    V0, -1\nL80109ADC:\n  jr    RA\n   nop\n\nfunc_80109AE4:\n  move  A1, R0\n  lui   V0, hi(D_801138B4)\n  lw    V0, lo(D_801138B4)(V0)\n  lui   A0, hi(D_801122E0)\n  addiu A0, A0, lo(D_801122E0)\n  sll   V1, V0, 2\n  addu  V1, V1, V0\n  addu  V1, V1, A0\n  li    A0, -1\n  addu  V0, V1, A1\nL80109B0C:\n  lb    V0, 0(V0)\n  beq   V0, A0, L80109B28\n   nop\n  addiu A1, A1, 1\n  slti  V0, A1, 5\n  bnel  V0, R0, L80109B0C\n   addu  V0, V1, A1\nL80109B28:\n  jr    RA\n   move  V0, A1\n\n; Item shop\n__PP64_INTERNAL_ITEM_SHOP_EVENT:\nfunc_80109B30:\n  addiu SP, SP, -0x70\n  sw    RA, 0x68(SP)\n  sw    S5, 0x64(SP)\n  sw    S4, 0x60(SP)\n  sw    S3, 0x5c(SP)\n  sw    S2, 0x58(SP)\n  sw    S1, 0x54(SP)\n  sw    S0, 0x50(SP)\n  lui   S4, hi(D_800F93A8)\n  addiu S4, S4, lo(D_800F93A8)\n  jal   func_8005DC3C\n   li    A0, -1\n  move  S5, V0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  li    V0, 4\n  beq   V1, V0, L8010A118\n   li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  li    A0, -1\n  li    A1, 8\n  jal   func_80056C30\n   li    A2, ").concat(M[0],"\n  jal   func_8007D9E0\n   li    A0, 8\n  lui   A0, hi(D_800F93C6)\n  jal   func_80046D2C\n   lh    A0, lo(D_800F93C6)(A0)\n  jal   func_8007959C\n   li    A0, 230\n  lui   V1, hi(D_800F93B0)\n  lh    V1, lo(D_800F93B0)(V1)\n  lui   V0, hi(D_800F93AE)\n  lh    V0, lo(D_800F93AE)(V0)\n  bne   V1, V0, L80109BD8\n   li    A0, 1\n  jal   func_8005600C\n   li    A1, 505\n  j     L8010A10C\n   nop\nL80109BD8:\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   V1, hi(p1_item)\n  addu  V1, V1, V0\n  lb    V1, lo(p1_item)(V1)\n  li    V0, -1\n  beq   V1, V0, L80109C18\n   nop\n  jal   func_8005600C\n   li    A1, 496\n  j     L8010A10C\n   nop\nL80109C18:\n  lh    V0, 0x1e(S4)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 0xa\n  beqz  V0, L80109C58\n   li    A0, 1\n  jal   func_8005600C\n   li    A1, 495\n  j     L8010A10C\n   nop\nL80109C58:\n  jal   func_800560A4\n   li    A1, 494\n  jal   func_80103FB0\n   nop\n  jal   func_80056144\n   move  S0, V0\n  jal   func_80056168\n   nop\n  li    V0, 1\n  beq   S0, V0, L8010A0E8\n   slti  V0, S0, 2\n  beql  V0, R0, L80109C9C\n   li    V0, 2\n  beqz  S0, L80109CAC\n   move  S0, R0\n  j     L8010A10C\n   nop\nL80109C9C:\n  beq   S0, V0, L8010A0FC\n   nop\n  j     L8010A10C\n   nop\nL80109CAC:\n  lh    A1, 8(S4)\n  lh    V0, 4(S4)\n  lui   A0, hi(D_801122D4)\n  addiu A0, A0, lo(D_801122D4)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  addu  V1, V1, A0\n  addu  A0, V1, S0\nL80109CCC:\n  lbu   V0, 0(A0)\n  slt   V0, A1, V0\n  bnel  V0, R0, L80109CF0\n   addiu S0, S0, 1\n  lbu   V0, 1(A0)\n  slt   V0, A1, V0\n  bnez  V0, L80109CFC\n   nop\n  addiu S0, S0, 1\nL80109CF0:\n  slti  V0, S0, 2\n  bnez  V0, L80109CCC\n   addu  A0, V1, S0\nL80109CFC:\n  lh    A0, 0x1e(S4)\n  jal   func_80059FD0\n   move  S2, R0\n  lui   A0, hi(D_801122C8)\n  addiu A0, A0, lo(D_801122C8)\n  sll   V1, S0, 2\n  addu  V1, V1, A0\n  addu  V1, V1, V0\n  lbu   S3, 0(V1)\n  move  S0, R0\n  addiu T2, SP, 0x20\n  li    T0, 1\n  addiu A3, SP, 0x28\n  lui   V1, hi(D_801122E0)\n  addiu V1, V1, lo(D_801122E0)\n  sll   V0, S3, 2\n  addu  V0, V0, S3\n  addu  T1, V0, V1\n  li    T3, -1\n  addu  A2, T2, S0\nL80109D4C:\n  sb    T0, 0(A2)\n  sll   V0, S0, 2\n  addu  A1, A3, V0\n  sb    R0, 0(A1)\n  addu  V0, T1, S0\n  lb    V0, 0(V0)\n  beql  V0, T3, L80109DC0\n   addiu S0, S0, 1\n  lui   A0, hi(D_800CC000)\n  addu  A0, A0, V0\n  lbu   A0, lo(D_800CC000)(A0)\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slt   V0, V0, A0\n  beqz  V0, L80109DB0\n   sll   V0, S0, 2\n  sb    R0, 0(A2)\n  sb    T0, 0(A1)\nL80109DB0:\n  addu  V0, A3, V0\n  sb    R0, 1(V0)\n  addiu S2, S2, 1\n  addiu S0, S0, 1\nL80109DC0:\n  slti  V0, S0, 5\n  bnez  V0, L80109D4C\n   addu  A2, T2, S0\n  slti  V0, S0, 8\n  beqz  V0, L80109DF4\n   addiu V1, SP, 0x20\n  li    A0, 1\n  addu  V0, V1, S0\nL80109DE0:\n  sb    A0, 0(V0)\n  addiu S0, S0, 1\n  slti  V0, S0, 8\n  bnez  V0, L80109DE0\n   addu  V0, V1, S0\nL80109DF4:\n  jal   func_8008DAC0\n   li    A0, 40\n  jal   func_80056524\n   li    A0, 40\n  sll   V1, S3, 2\n  addiu V0, SP, 0x30\n  sw    V0, 0x10(SP)\n  addiu V0, SP, 0x34\n  sw    V0, 0x14(SP)\n  addiu V0, SP, 0x38\n  sw    V0, 0x18(SP)\n  li    A0, 1\n  lui   A1, hi(D_80112304)\n  addu  A1, A1, V1\n  lw    A1, lo(D_80112304)(A1)\n  addiu A2, SP, 0x28\n  jal   func_80056368\n   addiu A3, SP, 0x2c\n  jal   func_80056524\n   move  A0, R0\n  lui   AT, hi(D_801138B4)\n  sw    S3, lo(D_801138B4)(AT)\n  addiu A0, SP, 0x20\n  lui   AT, hi(D_801138B8)\n  jal   func_80103CF4\n   sw    A0, lo(D_801138B8)(AT)\n  jal   func_80056144\n   move  S1, V0\n  jal   func_80056168\n   nop\n  bne   S1, S2, L80109E98\n   addiu V0, S2, 1\n  lui   AT, hi(D_800FC734)\n  sh    R0, lo(D_800FC734)(AT)\n  lh    A0, 0x1e(S4)\n  jal   func_8004E484\n   move  S0, R0\n  li    V0, 1\n  lui   AT, hi(D_800FC734)\n  j     L80109CAC\n   sh    V0, lo(D_800FC734)(AT)\nL80109E98:\n  xor   V0, S1, V0\n  sltiu V0, V0, 1\n  nor   V1, R0, S1\n  sltiu V1, V1, 1\n  or    V0, V0, V1\n  bnel  V0, R0, L80109C58\n   li    A0, 1\n  lui   V0, hi(D_801122E0)\n  addiu V0, V0, lo(D_801122E0)\n  sll   S0, S3, 2\n  addu  S0, S0, S3\n  addu  S0, S0, V0\n  addu  S0, S0, S1\n  lb    V0, 0(S0)\n  lui   A1, hi(D_800CC000)\n  addu  A1, A1, V0\n  lbu   A1, lo(D_800CC000)(A1)\n  lh    A0, 0x1e(S4)\n  jal   func_8004CA34\n   SUBU A1 R0 A1\n  lb    V0, 0(S0)\n  lui   A1, hi(D_800CC000)\n  addu  A1, A1, V0\n  lbu   A1, lo(D_800CC000)(A1)\n  lh    A0, 0x1e(S4)\n  jal   func_800614B4\n   SUBU A1 R0 A1\n  jal   func_8007D9E0\n   li    A0, 30\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lbu   V1, 0(S0)\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V0\n  sb    V1, lo(p1_item)(AT)\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  move  S2, V0\n  lb    V0, 0(S0)\n  sll   V0, V0, 2\n  lui   A0, hi(D_800CCBDC)\n  addu  A0, A0, V0\n  lw    A0, lo(D_800CCBDC)(A0)\n  jal   func_80017680\n   sll   S1, S2, 0x10\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  S3, V0\n  jal   func_80017800\n   move  A0, S0\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  sll   A2, S3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   move  A2, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082418\n   li    A2, 4096\n  move  A0, S0\n  move  A1, R0\n  li    A2, 160\n  jal   func_80081AD0\n   li    A3, 90\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  addiu S0, SP, 0x40\n  jal   func_8005670C\n   move  A0, S0\n  lw    A2, 0x24(S5)\n  addiu A2, A2, 0x18\n  move  A0, A2\n  move  A1, S0\n  jal   func_80056B78\n   li    A3, 10\n  jal   func_8007959C\n   li    A0, 25\n  move  S0, R0\n  sll   A2, S0, 1\nL8010A020:\n  addu  A2, A2, S0\n  sll   A2, A2, 3\n  addu  A2, A2, S0\n  sra   A0, S1, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnez  V0, L8010A020\n   sll   A2, S0, 1\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 256\n  li    A0, -1\n  li    A1, 5\n  jal   func_8005DD68\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 5\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(p1_char)\n  addu  A1, A1, V0\n  lbu   A1, lo(p1_char)(A1)\n  jal   func_80079718\n   li    A0, 259\n  jal   func_8007D9E0\n   li    A0, 45\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  jal   func_8007D9E0\n   li    A0, 10\n  sll   A0, S3, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  jal   func_8007F8B0\n   move  A0, S0\n  j     L8010A10C\n   nop\nL8010A0E8:\n  li    A0, 1\n  jal   func_8005600C\n   li    A1, 497\n  j     L8010A10C\n   nop\nL8010A0FC:\n  jal   __PP64_INTERNAL_VIEW_MAP\n   nop\n  j     L80109C58\n   li    A0, 1\nL8010A10C:\n  lh    A0, 0x1e(S4)\n  jal   func_8004655C\n   nop\nL8010A118:\n  lw    RA, 0x68(SP)\n  lw    S5, 0x64(SP)\n  lw    S4, 0x60(SP)\n  lw    S3, 0x5c(SP)\n  lw    S2, 0x58(SP)\n  lw    S1, 0x54(SP)\n  lw    S0, 0x50(SP)\n  jr    RA\n   addiu SP, SP, 0x70\n\nfunc_8010A13C:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  jal   func_80044258\n   move  S2, A0\n  move  S1, R0\nL8010A15C:\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  andi  S0, S1, 0xff\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   move  A1, S0\n  lw    V0, 0x40(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   move  A1, S0\n  jal   func_8007DA44\n   addiu S1, S1, 0xc\n  slti  V0, S1, 0x100\n  bnez  V0, L8010A15C\n   nop\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   li    A1, 255\n  lw    V0, 0x40(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   li    A1, 255\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_8010A1DC:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S2, A0\n  li    S1, 255\nL8010A1F8:\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  andi  S0, S1, 0xff\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   move  A1, S0\n  lw    V0, 0x40(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   move  A1, S0\n  jal   func_8007DA44\n   addiu S1, S1, -0xc\n  bgez  S1, L8010A1F8\n   nop\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   move  A1, R0\n  lw    V0, 0x40(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   move  A1, R0\n  jal   func_800442DC\n   move  A0, S2\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_8010A27C:\n  addiu SP, SP, -0x58\n  sw    RA, 0x3c(SP)\n  sw    FP, 0x38(SP)\n  sw    S7, 0x34(SP)\n  sw    S6, 0x30(SP)\n  sw    S5, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  sdc1  F24, 0x50(SP)\n  sdc1  F22, 0x48(SP)\n  sdc1  F20, 0x40(SP)\n  move  S3, A0\n  li    V0, -1\n  bnel  S3, V0, L8010A784\n   li    A0, 1\n  lui A0, 0xa\n  jal   func_80017680\n   ori A0, A0, 0xb\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  FP, V0\n  jal   func_80017800\n   move  A0, S0\n  move  S1, R0\n  addiu S2, SP, 0x10\nL8010A2F0:\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  beq   S1, V0, L8010A324\n   sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  bnez  V0, L8010A338\n   li    A0, 1\nL8010A324:\n  sll   V0, S1, 1\n  addu  V0, V0, S2\n  li    V1, -1\n  j     L8010A3F8\n   sh    V1, 0(V0)\nL8010A338:\n  jal   func_8007FA6C\n   li    A1, 5\n  sll   S0, S1, 1\n  addu  S0, S0, S2\n  sh    V0, 0(S0)\n  sll   V0, V0, 0x10\n  sll   A2, FP, 0x10\n  sra   A0, V0, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  lh    A0, 0(S0)\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  lh    A0, 0(S0)\n  move  A1, R0\n  jal   func_8008225C\n   move  A2, R0\n  lh    A0, 0(S0)\n  move  A1, R0\n  jal   func_80082418\n   li    A2, 4096\n  sll   V0, S1, 3\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_8011233C)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112340)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lh    A0, 0(S0)\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  lh    A0, 0(S0)\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\nL8010A3F8:\n  addiu S1, S1, 1\n  slti  V0, S1, 4\n  bnez  V0, L8010A2F0\n   nop\n  jal   func_8007959C\n   li    A0, 887\n  move  S2, R0\n  addiu S4, SP, 0x10\n  li    S5, -1\n  move  S1, R0\nL8010A420:\n  sll   S3, S2, 4\n  sll   V0, S1, 1\nL8010A428:\n  addu  S0, V0, S4\n  lh    A0, 0(S0)\n  beq   A0, S5, L8010A4C4\n   sll   V0, S1, 3\n  mtc1  S2, F4\n  nop\n  cvt.s.w F4, F4\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F4, F0\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, V0\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F4, F4, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F4, F4, F0\n  trunc.w.s F0, F4\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  lh    A0, 0(S0)\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, S3, 0xffff\nL8010A4C4:\n  addiu S1, S1, 1\n  slti  V0, S1, 4\n  bnez  V0, L8010A428\n   sll   V0, S1, 1\n  jal   func_8007DA44\n   addiu S2, S2, 1\n  slti  V0, S2, 0x11\n  bnez  V0, L8010A420\n   move  S1, R0\n  move  S6, R0\n  addiu S2, SP, 0x10\n  li    S4, -1\n  lui   S3, hi(D_800FD2C0)\n  addiu S3, S3, lo(D_800FD2C0)\n  sll   S0, S1, 1\nL8010A500:\n  addu  V0, S0, S2\n  lh    A0, 0(V0)\n  beql  A0, S4, L8010A55C\n   addiu S1, S1, 1\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 255\n  addu  V0, S0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V1, V0, S3\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lhu   V0, lo(p1_stars)(AT)\n  addiu V0, V0, -1\n  sh    V0, 0xe(V1)\n  addiu S6, S6, 1\n  sll   A0, S1, 0x10\n  sra   A0, A0, 0x10\n  jal   func_80067170\n   li    A1, 5\n  addiu S1, S1, 1\nL8010A55C:\n  slti  V0, S1, 4\n  bnez  V0, L8010A500\n   sll   S0, S1, 1\n  jal   func_8007959C\n   li    A0, 228\n  move  S2, R0\n  addiu S5, SP, 0x10\n  li    S7, -1\n  li    AT, 0x41800000 ;16.000000\n  mtc1  AT, F22\n  move  S1, R0\nL8010A588:\n  sll   V1, S2, 1\n  addu  V1, V1, S2\n  sll   V0, V1, 4\n  subu  V0, V0, V1\n  sll   S4, V0, 1\n  sll   V0, S1, 1\nL8010A5A0:\n  addu  S3, V0, S5\n  lh    V0, 0(S3)\n  beq   V0, S7, L8010A64C\n   sll   S0, S1, 3\n  lui   AT,hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F20, lo(D_80112360)(AT)\n  mul.s F20, F20, F22\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F20, F20, F0\n  mtc1  S4, F12\n  nop\n  cvt.d.w F12, F12\n  lui   AT, hi(D_801135D0)\n  ldc1  F0, lo(D_801135D0)(AT)\n  mul.d F12, F12, F0\n  jal   func_800A4FA0\n   cvt.s.d F12, F12\n  add.s F0, F0, F0\n  add.s F20, F20, F0\n  trunc.w.s F0, F20\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F0, F22\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lh    A0, 0(S3)\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\nL8010A64C:\n  addiu S1, S1, 1\n  slti  V0, S1, 4\n  bnez  V0, L8010A5A0\n   sll   V0, S1, 1\n  jal   func_8007DA44\n   addiu S2, S2, 1\n  slti  V0, S2, 0x1e\n  bnez  V0, L8010A588\n   move  S1, R0\n  li    S2, 16\n  addiu S4, SP, 0x10\n  li    S5, -1\nL8010A67C:\n  sll   S3, S2, 4\n  sll   V0, S1, 1\nL8010A684:\n  addu  S0, V0, S4\n  lh    A0, 0(S0)\n  beq   A0, S5, L8010A720\n   sll   V0, S1, 3\n  mtc1  S2, F4\n  nop\n  cvt.s.w F4, F4\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F4, F0\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, V0\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F4, F4, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F4, F4, F0\n  trunc.w.s F0, F4\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  lh    A0, 0(S0)\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, S3, 0xffff\nL8010A720:\n  addiu S1, S1, 1\n  slti  V0, S1, 4\n  bnez  V0, L8010A684\n   sll   V0, S1, 1\n  jal   func_8007DA44\n   addiu S2, S2, -1\n  bgez  S2, L8010A67C\n   move  S1, R0\n  addiu S0, SP, 0x10\n  li    S2, -1\n  sll   V0, S1, 1\nL8010A74C:\n  addu  V0, V0, S0\n  lh    A0, 0(V0)\n  beq   A0, S2, L8010A764\n   addiu S1, S1, 1\n  jal   func_8007F8B0\n   nop\nL8010A764:\n  slti  V0, S1, 4\n  bnez  V0, L8010A74C\n   sll   V0, S1, 1\n  sll   A0, FP, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  j     L8010AB1C\n   move  V0, S6\nL8010A784:\n  jal   func_8007FA6C\n   li    A1, 5\n  move  S4, V0\n  lui A0, 0xa\n  jal   func_80017680\n   ori A0, A0, 0xb\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  S5, V0\n  jal   func_80017800\n   move  A0, S0\n  sll   S0, S4, 0x10\n  sra   S0, S0, 0x10\n  sll   A2, S5, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   move  A2, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082418\n   li    A2, 4096\n  sll   V0, S3, 3\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_8011233C)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112340)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  jal   func_8007959C\n   li    A0, 887\n  move  S0, R0\n  sll   V0, S4, 0x10\n  sra   S2, V0, 0x10\n  sll   S1, S3, 3\nL8010A87C:\n  mtc1  S0, F4\n  nop\n  cvt.s.w F4, F4\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F4, F0\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S1\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F4, F4, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F4, F4, F0\n  trunc.w.s F0, F4\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S2\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  sll   A2, S0, 4\n  move  A0, S2\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0x11\n  bnez  V0, L8010A87C\n   sll   A0, S4, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 255\n  sll   V0, S3, 1\n  addu  V0, V0, S3\n  sll   V0, V0, 2\n  addu  V0, V0, S3\n  sll   V0, V0, 2\n  lui   V1, hi(p1_stars)\n  addu  V1, V1, V0\n  lhu   V1, lo(p1_stars)(V1)\n  addiu V1, V1, -1\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  sh    V1, lo(p1_stars)(AT)\n  sll   A0, S3, 0x10\n  sra   A0, A0, 0x10\n  jal   func_80067170\n   li    A1, 5\n  jal   func_8007959C\n   li    A0, 228\n  move  S0, R0\n  sll   S1, S3, 3\n  li    AT, 0x41800000 ;16.000000\n  mtc1  AT, F22\n  lui   AT, hi(D_801135D8)\n  ldc1  F24, lo(D_801135D8)(AT)\n  sll   S2, S4, 0x10\nL8010A998:\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S1\n  lwc1  F20, lo(D_80112360)(AT)\n  mul.s F20, F20, F22\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F20, F20, F0\n  sll   V1, S0, 1\n  addu  V1, V1, S0\n  sll   V0, V1, 4\n  subu  V0, V0, V1\n  sll   V0, V0, 1\n  mtc1  V0, F12\n  nop\n  cvt.d.w F12, F12\n  mul.d F12, F12, F24\n  jal   func_800A4FA0\n   cvt.s.d F12, F12\n  add.s F0, F0, F0\n  add.s F20, F20, F0\n  trunc.w.s F0, F20\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F0, F22\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S1\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  sra   A0, S2, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0x1e\n  bnez  V0, L8010A998\n   sll   V0, S4, 0x10\n  li    S0, 16\n  sra   S2, V0, 0x10\n  sll   S1, S3, 3\nL8010AA60:\n  mtc1  S0, F4\n  nop\n  cvt.s.w F4, F4\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F4, F0\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S1\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F4, F4, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S1\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F4, F4, F0\n  trunc.w.s F0, F4\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S2\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  sll   A2, S0, 4\n  move  A0, S2\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, -1\n  bgez  S0, L8010AA60\n   sll   A0, S4, 0x10\n  jal   func_8007F8B0\n   sra   A0, A0, 0x10\n  sll   A0, S5, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  li    V0, 1\nL8010AB1C:\n  lw    RA, 0x3c(SP)\n  lw    FP, 0x38(SP)\n  lw    S7, 0x34(SP)\n  lw    S6, 0x30(SP)\n  lw    S5, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  ldc1  F24, 0x50(SP)\n  ldc1  F22, 0x48(SP)\n  ldc1  F20, 0x40(SP)\n  jr    RA\n   addiu SP, SP, 0x58\n\nfunc_8010AB58:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   func_80055E60\n   nop\n  jal   func_80076FCC\n   move  A0, R0\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_8010AB7C:\n  addiu SP, SP, -0xb8\n  sw    RA, 0x94(SP)\n  sw    FP, 0x90(SP)\n  sw    S7, 0x8c(SP)\n  sw    S6, 0x88(SP)\n  sw    S5, 0x84(SP)\n  sw    S4, 0x80(SP)\n  sw    S3, 0x7c(SP)\n  sw    S2, 0x78(SP)\n  sw    S1, 0x74(SP)\n  sw    S0, 0x70(SP)\n  sdc1  F26, 0xb0(SP)\n  sdc1  F24, 0xa8(SP)\n  sdc1  F22, 0xa0(SP)\n  sdc1  F20, 0x98(SP)\n  move  S4, A0\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  sh    V0, 0x2e(SP)\n  lui A0, 0xa\n  jal   func_80017680\n   ori A0, A0, 0xb\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  sh    V0, 0x36(SP)\n  jal   func_80017800\n   move  A0, S0\n  lhu   T0, 0x2e(SP)\n  sll   S0, T0, 0x10\n  sra   S0, S0, 0x10\n  lhu   T0, 0x36(SP)\n  sll   A2, T0, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   move  A2, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082418\n   li    A2, 4096\n  sll   V0, S4, 3\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_8011233C)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112340)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  sh    V0, 0x3e(SP)\n  sll   V0, S4, 1\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sll   V0, V0, 2\n  lui   A0, hi(D_8011237C)\n  addu  A0, A0, V0\n  lw    A0, lo(D_8011237C)(A0)\n  jal   func_80017680\n   move  S7, R0\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  sh    V0, 0x46(SP)\n  jal   func_80017800\n   move  A0, S0\n  lhu   T0, 0x3e(SP)\n  sll   V0, T0, 0x10\n  sra   S0, V0, 0x10\n  lhu   T0, 0x46(SP)\n  sll   A2, T0, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  andi  V0, S4, 1\n  beqz  V0, L8010AD68\n   move  A0, S0\n  move  A1, R0\n  j     L8010AD7C\n   li    A2, 4097\nL8010AD68:\n  lhu   T0, 0x3e(SP)\n  sll   A0, T0, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  li    A2, 4096\nL8010AD7C:\n  jal   func_80082418\n   move  S1, R0\n  lhu   T0, 0x3e(SP)\n  sll   S0, T0, 0x10\n  sra   S0, S0, 0x10\n  sll   V0, S4, 3\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, V0\n  lwc1  F2, lo(D_8011235C)(AT)\n  li    AT, 0x41800000 ;16.000000\n  mtc1  AT, F4\n  nop\n  mul.s F2, F2, F4\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_8011233C)(AT)\n  sub.s F0, F0, F2\n  li    AT, 0x41000000 ;8.000000\n  mtc1  AT, F2\n  nop\n  sub.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F0, F0, F4\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, V0\n  lwc1  F2, lo(D_80112340)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  lhu   T0, 0x2e(SP)\n  sll   V0, T0, 0x10\n  sra   S3, V0, 0x10\n  sll   S2, S4, 3\n  lhu   T0, 0x3e(SP)\n  sll   S5, T0, 0x10\nL8010AE4C:\n  mtc1  S1, F4\n  nop\n  cvt.s.w F4, F4\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S2\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F4, F0\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S2\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S2\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F4, F4, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S2\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F4, F4, F0\n  trunc.w.s F0, F4\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S3\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  sll   S0, S1, 4\n  andi  S0, S0, 0xffff\n  move  A0, S3\n  move  A1, R0\n  jal   func_80082488\n   move  A2, S0\n  sra   A0, S5, 0x10\n  move  A1, R0\n  jal   func_80082488\n   move  A2, S0\n  jal   func_8007DA44\n   addiu S1, S1, 1\n  slti  V0, S1, 0x11\n  bnez  V0, L8010AE4C\n   move  A1, R0\n  lhu   T0, 0x2e(SP)\n  sll   A0, T0, 0x10\n  sra   A0, A0, 0x10\n  jal   func_80082488\n   li    A2, 255\n  lhu   T0, 0x3e(SP)\n  sll   A0, T0, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 255\n  li    V0, 24\n  sb    V0, 0x18(SP)\n  sll   V0, S4, 1\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sb    V0, 0x19(SP)\n  sb    R0, 0x1a(SP)\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  li    A0, 1722\n  addiu A1, SP, 0x18\n  move  A2, R0\n  jal   func_80055C88\n   move  A3, R0\n  sll   S0, S4, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  jal   func_80067170\n   li    A1, 2\n  jal   func_80055E3C\n   move  A0, S4\n  move  FP, R0\n  move  S2, R0\n  jal   func_8007959C\n   li    A0, 886\n  move  A0, S0\n  li    A1, 3\n  jal   func_800672BC\n   li    A2, 5\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F12\n  nop\n  jal   func_8005A358\n   sw    V0, 0x4c(SP)\n  addiu S5, V0, 1\n  move  S1, R0\n  move  S6, R0\n  sll   S0, S4, 3\n  li    AT, 0x41800000 ;16.000000\n  mtc1  AT, F24\n  li    AT, 0x41000000 ;8.000000\n  mtc1  AT, F26\n  lhu   T0, 0x3e(SP)\n  sll   T0, T0, 0x10\n  sw    T0, 0x54(SP)\n  sll   V0, S4, 1\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  sw    V0, 0x5c(SP)\n  sll   V0, S4, 1\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  sw    V0, 0x64(SP)\n  move  T0, V0\n  addu  T0, T0, S4\n  sw    T0, 0x64(SP)\n  sll   V0, S4, 1\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  sw    V0, 0x6c(SP)\n  move  T0, V0\n  addu  T0, T0, S4\n  sw    T0, 0x6c(SP)\n  lw    T0, 0x54(SP)\n  sra   S3, T0, 0x10\nL8010B054:\n  sll   V0, S5, 0x10\n  bnez  V0, L8010B080\n   slti  V0, S2, 2\n  jal   func_8007959C\n   li    A0, 228\n  li    AT, 0x41700000 ;15.000000\n  mtc1  AT, F12\n  jal   func_8005A358\n   nop\n  addiu S5, V0, 0x1e\n  slti  V0, S2, 2\nL8010B080:\n  xori  V0, V0, 1\n  subu  S2, S2, V0\n  bnez  S2, L8010B150\n   li    V0, 9\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F20, lo(D_80112360)(AT)\n  mul.s F20, F20, F24\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F20, F20, F0\n  sll   V1, S1, 1\n  addu  V1, V1, S1\n  sll   V0, V1, 4\n  subu  V0, V0, V1\n  sll   V0, V0, 1\n  mtc1  V0, F12\n  nop\n  cvt.d.w F12, F12\n  lui   AT, hi(D_801135E0)\n  ldc1  F0, lo(D_801135E0)(AT)\n  mul.d F12, F12, F0\n  jal   func_800A4FA0\n   cvt.s.d F12, F12\n  add.s F0, F0, F0\n  add.s F20, F20, F0\n  trunc.w.s F0, F20\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  lhu   T0, 0x2e(SP)\n  sll   A0, T0, 0x10\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F0, F24\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n/*  */  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  j     L8010B28C\n   nop\nL8010B150:\n  bne   S2, V0, L8010B28C\n   sll   V1, S6, 1\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S0\n  lwc1  F20, lo(D_8011235C)(AT)\n  mul.s F20, F20, F24\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_8011233C)(AT)\n  add.s F20, F20, F0\n  addu  V1, V1, S6\n  sll   V0, V1, 4\n  subu  V0, V0, V1\n  sll   V0, V0, 1\n  mtc1  V0, F22\n  nop\n  cvt.d.w F22, F22\n  lui   AT, hi(D_801135E8)\n  ldc1  F0, lo(D_801135E8)(AT)\n  mul.d F22, F22, F0\n  cvt.s.d F22, F22\n  jal   func_800A4FA0\n   mov.s F12, F22\n  add.s F0, F0, F0\n  add.s F20, F20, F0\n  trunc.w.s F0, F20\n  mfc1  A2, F0\n  nop\n  sll   A2, A2, 0x10\n  lhu   T0, 0x2e(SP)\n  sll   A0, T0, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F0, F0, F24\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_80112340)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F20, lo(D_8011233C)(AT)\n  sub.s F20, F20, F26\n  jal   func_800A4FA0\n   mov.s F12, F22\n  add.s F0, F0, F0\n  add.s F20, F20, F0\n  trunc.w.s F0, F20\n  mfc1  A2, F0\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F0, F0, F24\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_80112340)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lw    T0, 0x54(SP)\n  sra   A0, T0, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  addiu S6, S6, 1\nL8010B28C:\n  lw    T0, 0x5c(SP)\n  lui   V0, hi(D_800FD2C6)\n  addu  V0, V0, T0\n  lhu   V0, lo(D_800FD2C6)(V0)\n  andi  V0, V0, 1\n  beqz  V0, L8010B318\n   nop\n  beql  S2, R0, L8010B34C\n   addiu FP, FP, 1\n  lui   V0, hi(D_800FD2C2)\n  addu  V0, V0, T0\n  lbu   V0, lo(D_800FD2C2)(V0)\n  bnez  V0, L8010B2D4\n   slti  V0, S2, 7\n  bnel  V0, R0, L8010B34C\n   addiu FP, FP, 1\n  j     L8010B3E4\n   sltiu V1, S2, 1\nL8010B2D4:\n  lw    T0, 0x64(SP)\n  sll   V0, T0, 2\n  lui   V1, hi(D_800FD2C2)\n  addu  V1, V1, V0\n  lbu   V1, lo(D_800FD2C2)(V1)\n  li    V0, 1\n  bne   V1, V0, L8010B308\n   slti  V0, S2, 0xa\n  slti  V0, S2, 8\n  bnel  V0, R0, L8010B34C\n   addiu FP, FP, 1\n  j     L8010B3E4\n   sltiu V1, S2, 1\nL8010B308:\n  bnel  V0, R0, L8010B34C\n   addiu FP, FP, 1\n  j     L8010B3E4\n   sltiu V1, S2, 1\nL8010B318:\n  lw    T0, 0x6c(SP)\n  sll   V0, T0, 2\n  lui   AT, hi(p1_controller)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_controller)(AT)\n  sll   V0, V0, 1\n  lui   AT, hi(D_800F6098)\n  addu  AT, AT, V0\n  lhu   V0, lo(D_800F6098)(AT)\n  andi  V0, V0, 0x8000\n  beqz  V0, L8010B3E4\n   sltiu V1, S2, 1\n  addiu FP, FP, 1\nL8010B34C:\n  bnez  S7, L8010B3E0\n   li    S2, 10\n  move  A0, S3\n  move  A1, R0\n  li    A2, 1\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S3\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  li    S7, 1\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_8011233C)(AT)\n  sub.s F0, F0, F26\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F0, F0, F24\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_80112340)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S3\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\nL8010B3E0:\n  sltiu V1, S2, 1\nL8010B3E4:\n  xori  V0, S7, 1\n  sltiu V0, V0, 1\n  and   V1, V1, V0\n  beqz  V1, L8010B494\n   move  A0, S3\n  move  A1, R0\n  move  A2, R0\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S3\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  move  S7, R0\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_8011235C)(AT)\n  mul.s F2, F2, F24\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_8011233C)(AT)\n  sub.s F0, F0, F2\n  sub.s F0, F0, F26\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F0, F0, F24\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_80112340)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S3\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\nL8010B494:\n  jal   func_8007DA44\n   addiu S1, S1, 1\n  slti  V0, S1, 0x96\n  bnez  V0, L8010B054\n   addiu S5, S5, -1\n  lw    A0, 0x4c(SP)\n  jal   func_8006735C\n   nop\n  lui   A0, hi(func_8010AB58)\n  addiu A0, A0, lo(func_8010AB58)\n  li    A1, 4096\n  move  A2, R0\n  jal   InitProcess\n   move  A3, R0\n  bnez  FP, L8010B5AC\n   li    S1, 16\n  lhu   T0, 0x2e(SP)\n  sll   V0, T0, 0x10\n  sra   S3, V0, 0x10\n  sll   S2, S4, 3\n  lhu   T0, 0x3e(SP)\n  sll   S5, T0, 0x10\nL8010B4EC:\n  mtc1  S1, F4\n  nop\n  cvt.s.w F4, F4\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S2\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F4, F0\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S2\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S2\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F4, F4, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S2\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F4, F4, F0\n  trunc.w.s F0, F4\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S3\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  sll   S0, S1, 4\n  andi  S0, S0, 0xffff\n  move  A0, S3\n  move  A1, R0\n  jal   func_80082488\n   move  A2, S0\n  sra   A0, S5, 0x10\n  move  A1, R0\n  jal   func_80082488\n   move  A2, S0\n  jal   func_8007DA44\n   addiu S1, S1, -2\n  bltz  S1, L8010B744\n   nop\n  j     L8010B4EC\n   nop\nL8010B5AC:\n  lhu   T0, 0x2e(SP)\n  sll   S2, T0, 0x10\n  sll   S0, S4, 3\nL8010B5B8:\n  mtc1  S1, F20\n  nop\n  cvt.s.w F20, F20\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_8011235C)(AT)\n  mul.s F0, F20, F0\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F0, F20, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_80112340)(AT)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  sra   A0, S2, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  lhu   T0, 0x3e(SP)\n  sll   A0, T0, 0x10\n  addiu V0, S1, -0x10\n  mtc1  V0, F0\n  nop\n  cvt.s.w F0, F0\n  lui   AT, hi(D_8011235C)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_8011235C)(AT)\n  mul.s F0, F0, F2\n  lui   AT, hi(D_8011233C)\n  addu  AT, AT, S0\n  lwc1  F2, lo(D_8011233C)(AT)\n  add.s F0, F0, F2\n  li    AT, 0x41000000 ;8.000000\n  mtc1  AT, F2\n  nop\n  sub.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112360)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112360)(AT)\n  mul.s F20, F20, F0\n  lui   AT, hi(D_80112340)\n  addu  AT, AT, S0\n  lwc1  F0, lo(D_80112340)(AT)\n  add.s F20, F20, F0\n  trunc.w.s F0, F20\n  mfc1  A3, F0\n  nop\n  sll   A3, A3, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  jal   func_8007DA44\n   addiu S1, S1, -2\n  slti  V0, S1, -0x10\n  beqz  V0, L8010B5B8\n   move  A1, R0\n  lhu   T0, 0x3e(SP)\n  sll   S0, T0, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A2, R0\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  li    S1, 16\n  lhu   T0, 0x2e(SP)\n  sll   S0, T0, 0x10\n  sll   A2, S1, 4\nL8010B724:\n  sra   A0, S0, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S1, S1, -2\n  bgez  S1, L8010B724\n   sll   A2, S1, 4\nL8010B744:\n  lhu   T0, 0x2e(SP)\n  sll   A0, T0, 0x10\n  jal   func_8007F8B0\n   sra   A0, A0, 0x10\n  lhu   T0, 0x36(SP)\n  sll   A0, T0, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  lhu   T0, 0x3e(SP)\n  sll   A0, T0, 0x10\n  jal   func_8007F8B0\n   sra   A0, A0, 0x10\n  lhu   T0, 0x46(SP)\n  sll   A0, T0, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  move  S1, R0\n  lui   A0, hi(D_800F93B0)\n  lh    A0, lo(D_800F93B0)(A0)\n  sll   V0, S1, 1\nL8010B794:\n  addu  V1, V0, S1\n  lui   V0, hi(D_80112394)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_80112394)(V0)\n  slt   V0, A0, V0\n  bnel  V0, R0, L8010B7CC\n   addiu S1, S1, 1\n  lui   V0, hi(D_80112395)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_80112395)(V0)\n  slt   V0, V0, A0\n  beqz  V0, L8010B7D8\n   sll   V0, S1, 1\n  addiu S1, S1, 1\nL8010B7CC:\n  sltiu V0, S1, 6\n  bnez  V0, L8010B794\n   sll   V0, S1, 1\nL8010B7D8:\n  addu  V0, V0, S1\n  lui   S7, hi(D_80112396)\n  addu  S7, S7, V0\n  lbu   S7, lo(D_80112396)(S7)\n  move  S1, R0\n  sll   V0, S1, 1\nL8010B7F0:\n  addu  V1, V0, S1\n  lui   V0, hi(D_801123A8)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_801123A8)(V0)\n  slt   V0, FP, V0\n  bnel  V0, R0, L8010B828\n   addiu S1, S1, 1\n  lui   V0, hi(D_801123A9)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_801123A9)(V0)\n  slt   V0, V0, FP\n  beqz  V0, L8010B834\n   sll   V0, S1, 1\n  addiu S1, S1, 1\nL8010B828:\n  sltiu V0, S1, 0xe\n  bnez  V0, L8010B7F0\n   sll   V0, S1, 1\nL8010B834:\n  addu  V0, V0, S1\n  lui   AT, hi(D_801123AA)\n  addu  AT, AT, V0\n  lbu   V0, lo(D_801123AA)(AT)\n  subu  S7, S7, V0\n  sll   V0, S4, 1\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slt   V0, S7, V0\n  beql  V0, R0, L8010B874\n   li    S7, -1\nL8010B874:\n  move  V0, S7\n  lw    RA, 0x94(SP)\n  lw    FP, 0x90(SP)\n  lw    S7, 0x8c(SP)\n  lw    S6, 0x88(SP)\n  lw    S5, 0x84(SP)\n  lw    S4, 0x80(SP)\n  lw    S3, 0x7c(SP)\n  lw    S2, 0x78(SP)\n  lw    S1, 0x74(SP)\n  lw    S0, 0x70(SP)\n  ldc1  F26, 0xb0(SP)\n  ldc1  F24, 0xa8(SP)\n  ldc1  F22, 0xa0(SP)\n  ldc1  F20, 0x98(SP)\n  jr    RA\n   addiu SP, SP, 0xb8\n\nfunc_8010B8B8:\n  addiu SP, SP, -0x40\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  sdc1  F26, 0x38(SP)\n  sdc1  F24, 0x30(SP)\n  sdc1  F22, 0x28(SP)\n  jal   func_8007D838\n   sdc1  F20, 0x20(SP)\n  lw    S1, 0x8c(V0)\n  lui   A0, hi(D_801138BC)\n  jal   func_80043F7C\n   lw    A0, lo(D_801138BC)(A0)\n  move  S0, V0\n  addiu A0, S0, 0xc\n  jal   func_800B3170\n   addiu A1, S1, 0xc\n  addiu A0, S0, 0x24\n  lui   A1, 0x4000\n  move  A2, A1\n  jal   func_800B3160\n   move  A3, A1\n  lwc1  F0, 0x30(S1)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x30(S0)\n  jal   func_80044258\n   move  A0, S0\n  li    AT, 0x43B40000 ;360.000000\n  mtc1  AT, F12\n  jal   func_8005A358\n   nop\n  mtc1  V0, F20\n  nop\n  cvt.s.w F20, F20\n  lui   AT, hi(D_801135F0)\n  ldc1  F22, lo(D_801135F0)(AT)\n  li    AT, 0x420C0000 ;35.000000\n  mtc1  AT, F26\n  li    AT, 0x42200000 ;40.000000\n  mtc1  AT, F24\nL8010B964:\n  jal   func_8007DA44\n   nop\n  lwc1  F0, 0x30(S0)\n  cvt.d.s F0, F0\n  add.d F0, F0, F22\n  cvt.s.d F0, F0\n  swc1  F0, 0x30(S0)\n  lwc1  F2, 0x30(S1)\n  add.s F2, F2, F26\n  c.le.s F2, F0\n  nop\n  bc1t  L8010B9D8\n   nop\n  add.s F20, F20, F24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F20\n  nop\n  jal   func_800B39F0\n   addiu A0, A0, 0x74\n  j     L8010B964\n   nop\nL8010B9D8:\n  jal   func_8004430C\n   move  A0, S0\n  jal   func_80076FCC\n   move  A0, R0\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  ldc1  F26, 0x38(SP)\n  ldc1  F24, 0x30(SP)\n  ldc1  F22, 0x28(SP)\n  ldc1  F20, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\nfunc_8010BA0C:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S0, A0\n  lui   A0, hi(func_8010B8B8)\n  addiu A0, A0, lo(func_8010B8B8)\n  li    A1, 4096\n  move  A2, R0\n  jal   InitProcess\n   move  A3, R0\n  sw    S0, 0x8c(V0)\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\n; Boo event\n__PP64_INTERNAL_BOO_SPACE_EVENT:\nfunc_8010BA48:\n  addiu SP, SP, -0xb0\n  sw    RA, 0x94(SP)\n  sw    FP, 0x90(SP)\n  sw    S7, 0x8c(SP)\n  sw    S6, 0x88(SP)\n  sw    S5, 0x84(SP)\n  sw    S4, 0x80(SP)\n  sw    S3, 0x7c(SP)\n  sw    S2, 0x78(SP)\n  sw    S1, 0x74(SP)\n  sw    S0, 0x70(SP)\n  sdc1  F24, 0xa8(SP)\n  sdc1  F22, 0xa0(SP)\n  jal   func_800558F4\n   sdc1  F20, 0x98(SP)\n  move  S1, V0\n  lui   S3, hi(D_800F93A8)\n  addiu S3, S3, lo(D_800F93A8)\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\n  li    V0, 4\n  beq   A0, V0, L8010C410\n   nop\n  jal   func_80046D2C\n   move  FP, R0\n  sw    V0, 0x6c(SP)\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  sll   V0, S1, 0x10\n  sra   V1, V0, 0x10\n  li    V0, ").concat(N[0],"\n  beq   V1, V0, L8010BAE4\n   li    V0, ").concat(N[0],"\n  beq   V1, V0, L8010BAF0\n   li    S7, 1\n  j     L8010BAF8\n   li    S7, -1\nL8010BAE4:\n  move  S7, R0\n  j     L8010BB58\n   li    S0, ").concat(j[0],"\nL8010BAF0:\n  j     L8010BB58\n   li    S0, ").concat(j[1],"\nL8010BAF8:\n  lui   A0, hi(D_8011373C)\n  lw    A0, lo(D_8011373C)(A0)\n  jal   func_80043F7C\n   li    S0, -1\n  move  S2, V0\n  jal   func_800442DC\n   move  A0, S2\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F20\n  nop\n  swc1  F20, 0x30(S2)\n  sll   A0, S1, 0x10\n  jal   func_80054B8C\n   sra   A0, A0, 0x10\n  move  V1, V0\n  lwc1  F0, 0xc(V1)\n  lw    A1, 8(V1)\n  add.s F20, F0, F20\n  mfc1  A2, F20\n  lw    A3, 0x10(V1)\n  jal   func_800B3160\n   addiu A0, S2, 0xc\n  j     L8010BB68\n   nop\nL8010BB58:\n  sll   V0, S7, 2\n  lui   S2, hi(D_80113740)\n  addu  S2, S2, V0\n  lw    S2, lo(D_80113740)(S2)\nL8010BB68:\n  jal   func_8007959C\n   li    A0, 235\n  jal   func_8010A13C\n   move  A0, S2\n  sll   A0, S1, 0x10\n  jal   func_80054B8C\n   sra   A0, A0, 0x10\n  move  V1, V0\n  sll   V0, S0, 0x10\n  sra   S0, V0, 0x10\n  li    V0, -1\n  beq   S0, V0, L8010BBF4\n   move  A0, S2\n  addiu A1, V1, 8\n  jal   func_800446B4\n   li    A2, 10\n  li    A0, -1\n  li    A1, 8\n  jal   func_80056C30\n   move  A2, S0\n  jal   func_8007D9E0\n   li    A0, 10\n  jal   func_8007D838\n   nop\n  li    AT, 0x3FCC0000 ;1.593750\n  ori AT, AT, 0xcccd\n  mtc1  AT, F12\n  nop\n  jal   func_80052F70\n   move  S0, V0\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   nop\nL8010BBF4:\n  lh    V0, 0x1e(S3)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 5\n  beqz  V0, L8010BC34\n   li    A0, 7\n  jal   func_8005600C\n   li    A1, 1718\n  j     L8010C384\n   sll   V0, FP, 0x10\nL8010BC34:\n  move  S0, R0\nL8010BC38:\n  lh    V1, 0x1e(S3)\nL8010BC3C:\n  beq   S0, V1, L8010BC68\n   sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  bnez  V0, L8010BC78\n   li    V0, 4\nL8010BC68:\n  addiu S0, S0, 1\n  slti  V0, S0, 4\n  bnez  V0, L8010BC3C\n   li    V0, 4\nL8010BC78:\n  bne   S0, V0, L8010BC90\n   li    V0, 8\n  li    V0, 1\n  sb    V0, 0x20(SP)\n  j     L8010BC9C\n   sb    R0, 0x60(SP)\nL8010BC90:\n  sb    V0, 0x20(SP)\n  li    V0, 1\n  sb    V0, 0x60(SP)\nL8010BC9C:\n  sb    R0, 0x21(SP)\n  move  S0, R0\n  lh    V1, 0x1e(S3)\nL8010BCA8:\n  beq   S0, V1, L8010BCD4\n   sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  bnez  V0, L8010BCE4\n   li    V0, 4\nL8010BCD4:\n  addiu S0, S0, 1\n  slti  V0, S0, 4\n  bnez  V0, L8010BCA8\n   li    V0, 4\nL8010BCE4:\n  beq   S0, V0, L8010BD38\n   li    V0, 1\n  lh    V0, 0x1e(S3)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  lui   V0, hi(p1_coins)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_coins)(V0)\n  slti  V0, V0, 0x32\n  bnez  V0, L8010BD38\n   li    V0, 1\n  lui   V0, hi(p1_stars)\n  addu  V0, V0, V1\n  lh    V0, lo(p1_stars)(V0)\n  slti  V0, V0, 0x63\n  bnez  V0, L8010BD44\n   li    V0, 8\n  li    V0, 1\nL8010BD38:\n  sb    V0, 0x30(SP)\n  j     L8010BD50\n   sb    R0, 0x61(SP)\nL8010BD44:\n  sb    V0, 0x30(SP)\n  li    V0, 1\n  sb    V0, 0x61(SP)\nL8010BD50:\n  sb    R0, 0x31(SP)\n  li    V0, 1\n  sb    V0, 0x63(SP)\n  sb    V0, 0x62(SP)\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 7\n  li    A1, 1717\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   addiu A3, SP, 0x30\n  jal   func_8010537C\n   addiu A0, SP, 0x60\n  move  S0, V0\n  jal   func_80056144\n   move  FP, S0\n  jal   func_80056168\n   sll   S0, S0, 0x10\n  sra   S0, S0, 0x10\n  li    V0, 2\n  beq   S0, V0, L8010C32C\n   slti  V0, S0, 3\n  bnez  V0, L8010BDC4\n   li    V0, 3\n  beq   S0, V0, L8010C348\n   li    V0, -1\n  j     L8010C384\n   sll   V0, FP, 0x10\nL8010BDC4:\n  bltz  S0, L8010C380\n   move  S0, R0\n  move  A0, R0\nL8010BDD0:\n  sll   V0, FP, 0x10\n  sra   T1, V0, 0x10\n  addiu A2, SP, 0x60\n  addiu A1, SP, 0x20\n  li    A3, 1\n  li    T0, 8\n  li    T2, 24\nL8010BDEC:\n  lh    V0, 0x1e(S3)\n  beql  S0, V0, L8010BEB0\n   addiu S0, S0, 1\n  bnez  T1, L8010BE2C\n   sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  beqz  V0, L8010BE50\n   addu  V0, A2, A0\n  j     L8010BE68\n   sb    A3, 0(V0)\nL8010BE2C:\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_stars)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_stars)(AT)\n  bnez  V0, L8010BE64\n   addu  V0, A2, A0\nL8010BE50:\n  sb    R0, 0(V0)\n  sll   V0, A0, 4\n  addu  V0, A1, V0\n  j     L8010BE74\n   sb    A3, 0(V0)\nL8010BE64:\n  sb    A3, 0(V0)\nL8010BE68:\n  sll   V0, A0, 4\n  addu  V0, A1, V0\n  sb    T0, 0(V0)\nL8010BE74:\n  sll   V0, A0, 4\n  addu  V0, A1, V0\n  sb    T2, 1(V0)\n  sll   V1, S0, 1\n  addu  V1, V1, S0\n  sll   V1, V1, 2\n  addu  V1, V1, S0\n  sll   V1, V1, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V1\n  lbu   V1, lo(p1_char)(AT)\n  sb    V1, 2(V0)\n  sb    R0, 3(V0)\n  addiu A0, A0, 1\n  addiu S0, S0, 1\nL8010BEB0:\n  slti  V0, S0, 4\n  bnez  V0, L8010BDEC\n   li    S1, 1\n  sb    S1, 0x63(SP)\n  addiu V0, SP, 0x40\n  sw    V0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 7\n  li    A1, 1720\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   addiu A3, SP, 0x30\n  sll   A0, FP, 0x10\n  sra   A0, A0, 0x10\n  jal   func_80105630\n   addiu A1, SP, 0x60\n  move  S0, V0\n  jal   func_80056144\n   move  S5, S0\n  jal   func_80056168\n   sll   S0, S0, 0x10\n  sra   S0, S0, 0x10\n  li    V1, -1\n  beq   S0, V1, L8010BC34\n   li    V0, 3\n  bnel  S0, V0, L8010BF54\n   sll   V0, FP, 0x10\n  bne   S7, V1, L8010BF44\n   nop\n  jal   func_80103AF4\n   move  S0, R0\n  lui   AT, hi(D_800F851A)\n  jal   func_80078EC8\n   sb    S1, lo(D_800F851A)(AT)\n  j     L8010BDD0\n   move  A0, R0\nL8010BF44:\n  jal   __PP64_INTERNAL_VIEW_MAP\n   move  S0, R0\n  j     L8010BDD0\n   move  A0, R0\nL8010BF54:\n  bnez  V0, L8010BF74\n   nop\n  lh    A0, 0x1e(S3)\n  jal   func_8004CA34\n   li    A1, -5\n  lh    A0, 0x1e(S3)\n  j     L8010BF88\n   li    A1, -5\nL8010BF74:\n  lh    A0, 0x1e(S3)\n  jal   func_8004CA34\n   li    A1, -50\n  lh    A0, 0x1e(S3)\n  li    A1, -50\nL8010BF88:\n  jal   func_800614B4\n   nop\n  jal   func_8007D9E0\n   li    A0, 30\n  jal   func_8010A1DC\n   move  A0, S2\n  sll   V0, FP, 0x10\n  bnez  V0, L8010C2B8\n   nop\n  lh    V1, 0x1e(S3)\n  lui   S4, hi(D_80112330)\n  addiu S4, S4, lo(D_80112330)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  addu  V0, V0, S4\n  sll   V1, S5, 0x10\n  sra   S0, V1, 0x10\n  addu  V0, V0, S0\n  jal   func_8010AB7C\n   lbu   A0, 0(V0)\n  move  S1, V0\n  jal   func_8010A13C\n   move  A0, S2\n  li    V0, -1\n  bnel  S1, V0, L8010C054\n   move  S0, R0\n  lh    V1, 0x1e(S3)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  addu  V0, V0, S4\n  addu  V0, V0, S0\n  lbu   V1, 0(V0)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   S1, hi(p1_coins)\n  addu  S1, S1, V0\n  lh    S1, lo(p1_coins)(S1)\n  addiu A0, SP, 0x20\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  jal   func_800A5660\n   move  A2, S1\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 7\n  j     L8010C118\n   li    A1, 1727\nL8010C054:\n  lh    A0, 8(S3)\n  sll   V0, S0, 2\nL8010C05C:\n  addu  V1, V0, S0\n  lui   V0, hi(D_801123D4)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_801123D4)(V0)\n  slt   V0, A0, V0\n  bnel  V0, R0, L8010C0C4\n   addiu S0, S0, 1\n  lui   V0, hi(D_801123D5)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_801123D5)(V0)\n  slt   V0, V0, A0\n  bnel  V0, R0, L8010C0C4\n   addiu S0, S0, 1\n  lui   V0, hi(D_801123D6)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_801123D6)(V0)\n  slt   V0, S1, V0\n  bnel  V0, R0, L8010C0C4\n   addiu S0, S0, 1\n  lui   V0, hi(D_801123D7)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_801123D7)(V0)\n  slt   V0, V0, S1\n  beql  V0, R0, L8010C0D4\n   addiu A0, SP, 0x20\n  addiu S0, S0, 1\nL8010C0C4:\n  sltiu V0, S0, 0x18\n  bnez  V0, L8010C05C\n   sll   V0, S0, 2\n  addiu A0, SP, 0x20\nL8010C0D4:\n  lui   A1, hi(D_801135C8)\n  addiu A1, A1, lo(D_801135C8)\n  jal   func_800A5660\n   move  A2, S1\n  sll   V0, S0, 2\n  addu  V0, V0, S0\n  lui   AT, hi(D_801123D8)\n  addu  AT, AT, V0\n  lbu   V0, lo(D_801123D8)(AT)\n  sll   V0, V0, 1\n  lui   A1, hi(D_8011243E)\n  addu  A1, A1, V0\n  lh    A1, lo(D_8011243E)(A1)\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, 7\nL8010C118:\n  addiu A2, SP, 0x20\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  mtc1  S1, F24\n  nop\n  cvt.s.w F24, F24\n  li    AT, 0x42B40000 ;90.000000\n  mtc1  AT, F0\n  nop\n  div.s F24, F24, F0\n  mtc1  R0, F20\n  li    A0, 24\n  jal   func_80043510\n   move  A1, R0\n  lui   AT, hi(D_801138BC)\n  sw    V0, lo(D_801138BC)(AT)\n  jal   func_80043DAC\n   move  A0, V0\n  lui   A0, hi(D_801138BC)\n  jal   func_800442DC\n   lw    A0, lo(D_801138BC)(A0)\n  lh    V1, 0x1e(S3)\n  lui   A0, hi(D_80112330)\n  addiu A0, A0, lo(D_80112330)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  addu  V0, V0, A0\n  sll   V1, S5, 0x10\n  sra   V1, V1, 0x10\n  addu  V0, V0, V1\n  lbu   A0, 0(V0)\n  li    A1, 3\n  jal   func_800672BC\n   li    A2, 5\n  beqz  S1, L8010C234\n   move  S4, V0\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F22\n  lui   S6, hi(D_80112330)\n  addiu S6, S6, lo(D_80112330)\n  sll   V0, S5, 0x10\n  sra   S0, V0, 0x10\n  add.s F20, F20, F24\nL8010C1D4:\n  c.le.s F22, F20\n  nop\n  bc1f  L8010C224\n   nop\n  sub.s F20, F20, F22\n  jal   func_8010BA0C\n   move  A0, S2\n  lh    A0, 0x1e(S3)\n  jal   func_800614B4\n   li    A1, 1\n  lh    V1, 0x1e(S3)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  addu  V0, V0, S6\n  addu  V0, V0, S0\n  lbu   A0, 0(V0)\n  li    A1, -1\n  jal   func_8006135C\n   move  A2, R0\n  addiu S1, S1, -1\nL8010C224:\n  jal   func_8007DA44\n   nop\n  bnel  S1, R0, L8010C1D4\n   add.s F20, F20, F24\nL8010C234:\n  jal   func_8006735C\n   move  A0, S4\n  jal   func_8007D9E0\n   li    A0, 20\n  lui   A0, hi(D_801138BC)\n  jal   func_8004430C\n   lw    A0, lo(D_801138BC)(A0)\n  jal   func_8005DC3C\n   li    A0, -1\n  lw    A0, 0x24(V0)\n  jal   func_8005670C\n   addiu A0, A0, 0x18\n  li    A0, -1\n  li    A1, 5\n  jal   func_8005DD68\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 5\n  lh    V1, 0x1e(S3)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(p1_char)\n  addu  A1, A1, V0\n  lbu   A1, lo(p1_char)(A1)\n  jal   func_80079718\n   li    A0, 259\n  jal   func_8007D9E0\n   li    A0, 45\n  j     L8010C30C\n   li    V0, -1\nL8010C2B8:\n  lh    V1, 0x1e(S3)\n  lui   A0, hi(D_80112330)\n  addiu A0, A0, lo(D_80112330)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  addu  V0, V0, A0\n  sll   V1, S5, 0x10\n  sra   V1, V1, 0x10\n  addu  V0, V0, V1\n  jal   func_8010A27C\n   lbu   A0, 0(V0)\n  jal   func_8010A13C\n   move  A0, S2\n  li    V0, 1\n  lui   AT, hi(D_801119D0)\n  sw    V0, lo(D_801119D0)(AT)\n  jal   func_80103968\n   move  A0, S2\n  lui   AT, hi(D_801119D0)\n  sw    R0, lo(D_801119D0)(AT)\n  li    V0, -1\nL8010C30C:\n  bne   S7, V0, L8010C384\n   sll   V0, FP, 0x10\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  j     L8010C384\n   sll   V0, FP, 0x10\nL8010C32C:\n  jal   func_8010A1DC\n   move  A0, S2\n  li    A0, 7\n  jal   func_8005600C\n   li    A1, 1719\n  j     L8010C384\n   sll   V0, FP, 0x10\nL8010C348:\n  bne   S7, V0, L8010C370\n   nop\n  jal   func_80103AF4\n   move  S0, R0\n  li    V0, 1\n  lui   AT, hi(D_800F851A)\n  jal   func_80078EC8\n   sb    V0, lo(D_800F851A)(AT)\n  j     L8010BC38\n   nop\nL8010C370:\n  jal   __PP64_INTERNAL_VIEW_MAP\n   move  S0, R0\n  j     L8010BC38\n   nop\nL8010C380:\n  sll   V0, FP, 0x10\nL8010C384:\n  sra   V0, V0, 0x10\n  li    V1, 2\n  beq   V0, V1, L8010C39C\n   nop\n  jal   func_8010A1DC\n   move  A0, S2\nL8010C39C:\n  jal   func_8005670C\n   addiu A0, S2, 0x18\n  li    V0, -1\n  bne   S7, V0, L8010C3B8\n   nop\n  jal   func_8004430C\n   move  A0, S2\nL8010C3B8:\n  lw    T3, 0x6c(SP)\n  beqz  T3, L8010C3D4\n   li    V0, -1\n  lh    A0, 0x1e(S3)\n  jal   func_8004655C\n   nop\n  li    V0, -1\nL8010C3D4:\n  beq   S7, V0, L8010C410\n   nop\n  jal   func_8007D838\n   nop\n  li    AT, 0x3FA60000 ;1.296875\n  ori AT, AT, 0x6666\n  mtc1  AT, F12\n  nop\n  jal   func_80052F70\n   move  S0, V0\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   nop\nL8010C410:\n  lw    RA, 0x94(SP)\n  lw    FP, 0x90(SP)\n  lw    S7, 0x8c(SP)\n  lw    S6, 0x88(SP)\n  lw    S5, 0x84(SP)\n  lw    S4, 0x80(SP)\n  lw    S3, 0x7c(SP)\n  lw    S2, 0x78(SP)\n  lw    S1, 0x74(SP)\n  lw    S0, 0x70(SP)\n  ldc1  F24, 0xa8(SP)\n  ldc1  F22, 0xa0(SP)\n  ldc1  F20, 0x98(SP)\n  jr    RA\n   addiu SP, SP, 0xb0\n\n; Gate event\nfunc_8010C44C:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   func_80106618\n   move  A0, R0\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\n; Gate event\nfunc_8010C468:\n/*  */  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   func_80106618\n   li    A0, 1\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_8010C484:\n  addiu SP, SP, -0x40\n  sw    RA, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  sdc1  F22, 0x38(SP)\n  sdc1  F20, 0x30(SP)\n  move  S2, A0\n  mtc1  A1, F20\n  mtc1  A2, F22\n  lw    S0, 0x50(SP)\n  move  S4, A3\n  lui   V0, hi(func_8010C5C4)\n  addiu V0, V0, lo(func_8010C5C4)\n  sw    V0, 0x10(SP)\n  li    A0, 500\n  move  A1, R0\n  move  A2, R0\n  jal   func_80076598\n   li    A3, -1\n  move  S3, V0\n  li    A0, 32\n  jal   func_80027154\n   li    A1, 31000\n  move  S1, V0\n  sw    S1, 0x50(S3)\n  li    AT, 0x437F0000 ;255.000000\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0xc(S1)\n  swc1  F20, 0x10(S1)\n  swc1  F22, 0x14(S1)\n  move  A0, S1\n  jal   func_800B3170\n   move  A1, S0\n  sw    R0, 0x10(SP)\n  lui A0, 0xa\n  ori A0, A0, 0x15c\n  move  A1, R0\n  lui   A2, 0x3f80\n  jal   func_800437F8\n   move  A3, R0\n  move  S0, V0\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  move  A1, R0\n  move  A2, A1\n  jal   func_800297E8\n   move  A3, A1\n  lwc1  F0, 0(S2)\n  swc1  F0, 0xc(S0)\n  lwc1  F0, 4(S2)\n  swc1  F0, 0x10(S0)\n  lwc1  F0, 8(S2)\n  swc1  F0, 0x14(S0)\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  jal   func_8002D124\n   lh    A0, 0(V0)\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  jal   func_8002D0A0\n   li    A1, 255\n  sw    S0, 0x18(S1)\n  sh    S4, 0x1c(S1)\n  move  V0, S3\n  lw    RA, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  ldc1  F22, 0x38(SP)\n  ldc1  F20, 0x30(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\nfunc_8010C5C4:\n  addiu SP, SP, -0x20\n  sw    RA, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S2, A0\n  lw    S0, 0x50(S2)\n  lw    S1, 0x18(S0)\n  addiu A1, S1, 0xc\n  move  A0, A1\n  jal   func_800B31C0\n   move  A2, S0\n  lwc1  F0, 0x2c(S1)\n  lwc1  F2, 0x10(S0)\n  add.s F0, F0, F2\n  swc1  F0, 0x2c(S1)\n  swc1  F0, 0x28(S1)\n  swc1  F0, 0x24(S1)\n  lwc1  F0, 0xc(S0)\n  lwc1  F2, 0x14(S0)\n  sub.s F0, F0, F2\n  mtc1  R0, F2\n  nop\n  c.lt.s F0, F2\n  nop\n  nop\n  bc1f  L8010C668\n   swc1  F0, 0xc(S0)\n  swc1  F2, 0xc(S0)\n  lhu   V0, 0x1c(S0)\n  beqz  V0, L8010C660\n   move  A0, S2\n  lw    A0, 0x18(S0)\n  jal   func_8004430C\n   nop\n  jal   func_8007695C\n   move  A0, S2\n  j     L8010C6C4\n   nop\nL8010C660:\n  jal   func_80076AFC\n   li    A1, 8\nL8010C668:\n  lw    V0, 0x3c(S1)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  lwc1  F2, 0xc(S0)\n  li    AT, 0x4F000000 ;2147483648.000000\n  mtc1  AT, F0\n  nop\n  c.le.s F0, F2\n  nop\n  nop\n  bc1tl L8010C6A8\n   sub.s F0, F2, F0\n  trunc.w.s F0, F2\n  mfc1  A1, F0\n  j     L8010C6BC\n   nop\nL8010C6A8:\n  lui   V0, 0x8000\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  or    A1, A1, V0\nL8010C6BC:\n  jal   func_8002D0A0\n   andi  A1, A1, 0xff\nL8010C6C4:\n  lw    RA, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x20\n\nfunc_8010C6DC:\n  addiu SP, SP, -0x128\n  sw    RA, 0x110(SP)\n  sw    S7, 0x10c(SP)\n  sw    S6, 0x108(SP)\n  sw    S5, 0x104(SP)\n  sw    S4, 0x100(SP)\n  sw    S3, 0xfc(SP)\n  sw    S2, 0xf8(SP)\n  sw    S1, 0xf4(SP)\n  sw    S0, 0xf0(SP)\n  sdc1  F22, 0x120(SP)\n  sdc1  F20, 0x118(SP)\n  lui   S7, hi(D_800F93A8)\n  addiu S7, S7, lo(D_800F93A8)\n  jal   func_8005DC3C\n   li    A0, -1\n  jal   func_8010D37C\n   move  S3, V0\n  li    A0, 113\n  jal   func_80043510\n   move  A1, R0\n  move  S1, V0\n  lw    V0, 0x3c(S1)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  move  A1, R0\n  move  A2, A1\n  jal   func_800297E8\n   move  A3, A1\n  lw    A1, 0x24(S3)\n  addiu A0, S1, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  li    AT, 0x42C80000 ;100.000000\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x10(S1)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F22\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F20\n  lwc1  F0, 0x10(S1)\n  sub.s F0, F0, F22\nL8010C788:\n  jal   func_8007DA44\n   swc1  F0, 0x10(S1)\n  lwc1  F0, 0x10(S1)\n  c.lt.s F20, F0\n  nop\n  nop\n  bc1tl L8010C788\n   sub.s F0, F0, F22\n  jal   func_8007959C\n   li    A0, 870\n  lui   A0, hi(D_800FA188)\n  lh    A0, lo(D_800FA188)(A0)\n  jal   func_800114E8\n   li    A1, 180\n  li    A0, -1\n  li    A1, 3\n  jal   func_800672BC\n   li    A2, 5\n  move  S5, V0\n  li    S2, 180\n  move  S0, R0\n  lui   S6, hi(D_80113658)\n  addiu S6, S6, lo(D_80113658)\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F22\n  li    AT, 0x41700000 ;15.000000\n  mtc1  AT, F20\n  addiu S4, SP, 0x28\nL8010C7F8:\n  addiu A3, SP, 0x28\n  lui   A2, hi(D_801135F8)\n  addiu A2, A2, lo(D_801135F8)\nL8010C804:\n  lw    V0, 0(A2)\n  lw    V1, 4(A2)\n  lw    A0, 8(A2)\n  lw    A1, 0xc(A2)\n  sw    V0, 0(A3)\n  sw    V1, 4(A3)\n  sw    A0, 8(A3)\n  sw    A1, 0xc(A3)\n  addiu A2, A2, 0x10\n  bne   A2, S6, L8010C804\n   addiu A3, A3, 0x10\n  mtc1  S2, F12\n  nop\n  jal   func_800B83C0\n   cvt.s.w F12, F12\n  add.s F0, F0, F0\n  add.s F0, F0, F22\n  andi  V0, S0, 1\n  beqz  V0, L8010C8BC\n   swc1  F0, 0x10(S1)\n  lw    A1, 0xc(S1)\n  mfc1  A2, F0\n  lw    A3, 0x14(S1)\n  jal   func_800B3160\n   addiu A0, SP, 0x18\n  lwc1  F0, 0x18(SP)\n  sub.s F0, F0, F20\n  swc1  F0, 0x18(SP)\n  lwc1  F0, 0x1c(SP)\n  add.s F0, F0, F20\n  swc1  F0, 0x1c(SP)\n  srl   V1, S0, 0x1f\n  addu  V1, S0, V1\n  sra   V1, V1, 1\n  andi  V1, V1, 7\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, S4, V0\n  sw    V0, 0x10(SP)\n  addiu A0, SP, 0x18\n  lui A1, 0x3dcc\n  ori A1, A1, 0xcccd\n  lui   A2, 0x4000\n  jal   func_8010C484\n   li    A3, 1\nL8010C8BC:\n  jal   func_8007DA44\n   addiu S2, S2, 0x14\n  slti  V0, S2, 0x438\n  bnez  V0, L8010C7F8\n   addiu S0, S0, 1\n  jal   func_8006735C\n   move  A0, S5\n  li    A0, 255\n  li    A1, 255\n  jal   func_8008F624\n   li    A2, 255\n  lh    V0, 0xa(S7)\n  sll   V0, V0, 1\n  addu  V0, V0, S7\n  lh    V0, 0xc(V0)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111984)\n  addu  A0, A0, V0\n  lh    A0, lo(D_80111984)(A0)\n  addiu A1, SP, 0x88\n  jal   func_80054C78\n   addiu A2, SP, 0x8a\n  lhu   V1, 0x88(SP)\n  sh    V1, 0x10(S3)\n  lhu   V0, 0x8a(SP)\n  sh    V0, 0x12(S3)\n  sh    V1, 0x14(S3)\n  addiu V0, V0, 1\n  jal   func_800650BC\n   sh    V0, 0x16(S3)\n  jal   func_80078FF8\n   nop\n  lui   S4, hi(D_80113658)\n  addiu S4, S4, lo(D_80113658)\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F22\n  li    AT, 0x41700000 ;15.000000\n  mtc1  AT, F20\n  addiu S3, SP, 0x90\n  addiu A3, SP, 0x90\nL8010C95C:\n  lui   A2, hi(D_801135F8)\n  addiu A2, A2, lo(D_801135F8)\nL8010C964:\n  lw    V0, 0(A2)\n  lw    V1, 4(A2)\n  lw    A0, 8(A2)\n  lw    A1, 0xc(A2)\n  sw    V0, 0(A3)\n  sw    V1, 4(A3)\n  sw    A0, 8(A3)\n  sw    A1, 0xc(A3)\n  addiu A2, A2, 0x10\n  bne   A2, S4, L8010C964\n   addiu A3, A3, 0x10\n  mtc1  S2, F12\n  nop\n  jal   func_800B83C0\n   cvt.s.w F12, F12\n  add.s F0, F0, F0\n  add.s F0, F0, F22\n  andi  V0, S0, 1\n  beqz  V0, L8010CA1C\n   swc1  F0, 0x10(S1)\n  lw    A1, 0xc(S1)\n  mfc1  A2, F0\n  lw    A3, 0x14(S1)\n  jal   func_800B3160\n   addiu A0, SP, 0x18\n  lwc1  F0, 0x18(SP)\n  sub.s F0, F0, F20\n  swc1  F0, 0x18(SP)\n  lwc1  F0, 0x1c(SP)\n  add.s F0, F0, F20\n  swc1  F0, 0x1c(SP)\n  srl   V1, S0, 0x1f\n  addu  V1, S0, V1\n  sra   V1, V1, 1\n  andi  V1, V1, 7\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, S3, V0\n  sw    V0, 0x10(SP)\n  addiu A0, SP, 0x18\n  lui   A1, 0x3dcc\n  ori   A1, A1, 0xcccd\n  lui   A2, 0x4000\n  jal   func_8010C484\n   li    A3, 1\nL8010CA1C:\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  addiu S2, S2, 0x14\n  li    V0, 1280\n  bnel  S2, V0, L8010C95C\n   addiu A3, SP, 0x90\n  jal   func_800115B4\n   move  A0, R0\n  j     L8010C95C\n   addiu A3, SP, 0x90\n  lw    RA, 0x110(SP)\n  lw    S7, 0x10c(SP)\n  lw    S6, 0x108(SP)\n  lw    S5, 0x104(SP)\n  lw    S4, 0x100(SP)\n  lw    S3, 0xfc(SP)\n  lw    S2, 0xf8(SP)\n  lw    S1, 0xf4(SP)\n  lw    S0, 0xf0(SP)\n  ldc1  F22, 0x120(SP)\n  ldc1  F20, 0x118(SP)\n  jr    RA\n   addiu SP, SP, 0x128\n\nfunc_8010CA78:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  li    V0, 1\n  lui   AT, hi(D_800CCC16)\n  sb    V0, lo(D_800CCC16)(AT)\n  lui   V0, hi(D_800F93B2)\n  lh    V0, lo(D_800F93B2)(V0)\n  sll   V0, V0, 1\n  lui   AT, hi(D_800F93B4)\n  addu  AT, AT, V0\n  lh    V0, lo(D_800F93B4)(AT)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111984)\n  addu  A0, A0, V0\n  lh    A0, lo(D_80111984)(A0)\n  jal   func_800556F4\n   li    A1, 1\n  lui   AT, hi(D_800CCC16)\n  jal   func_800670B0\n   sb    R0, lo(D_800CCC16)(AT)\n  sll   V0, V0, 0x10\n  bltz  V0, L8010CADC\n   nop\n  jal   func_8007D9E0\n   li    A0, -1\nL8010CADC:\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_8010CAE8:\n  addiu SP, SP, -0x28\n  sw    RA, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S1, hi(D_800F93C6)\n  lh    S1, lo(D_800F93C6)(S1)\n  jal   func_8005DC3C\n   li    A0, -1\n  jal   func_8010D37C\n   move  S0, V0\n  jal   func_80047A50\n   move  A0, S1\n  jal   func_8006836C\n   li    A0, 4\n  jal   func_80046F98\n   move  A0, S1\n  jal   func_80078FF8\n   nop\n  jal   func_80064FF8\n   nop\n  jal   func_8007D9E0\n   li    A0, 5\n  li    A0, -1\n  jal   func_80067170\n   li    A1, 3\n  jal   func_8007D9E0\n   li    A0, 25\n  move  A0, S1\n  li    A1, 2\n  jal   func_8005DD68\n   move  A2, R0\n  sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   A0, hi(D_800FD2E4)\n  addu  A0, A0, V0\n  lw    A0, lo(D_800FD2E4)(A0)\n  lui   A1, 0x4000\n  lui A2, 0xbe99\n  jal   func_80059120\n   ori A2, A2, 0x999a\n  jal   func_8007D9E0\n   li    A0, 5\n  jal   func_80047BB8\n   move  A0, S1\n  li    V0, 2\n  sw    V0, 0x10(SP)\n  move  A0, S1\n  li    A1, -1\n  move  A2, R0\n  jal   func_8005DDEC\n   li    A3, 10\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_80053F7C\n   nop\n  jal   func_8004CDE0\n   nop\n  jal   func_8004CE80\n   nop\n  jal   func_8004D5B0\n   nop\n  jal   func_80053F54\n   nop\n  jal   func_800683BC\n   li    A0, 4\n  jal   func_80046F98\n   move  A0, S1\n  sll   V0, V0, 0x10\n  jal   func_80079848\n   sra   A0, V0, 0x10\n  jal   func_80046EDC\n   move  A0, S1\n  jal   func_80060210\n   li    A0, 25\nL8010CC1C:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010CC3C\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010CC1C\n   nop\nL8010CC3C:\n  jal   func_80062824\n   move  A0, R0\n  jal   func_80060210\n   li    A0, 26\nL8010CC4C:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010CC6C\n   move  A0, S1\n  jal   func_8007DA44\n   nop\n  j     L8010CC4C\n   nop\nL8010CC6C:\n  jal   func_80047D78\n   li    A1, -1\n  lhu   A0, 0x10(S0)\n  jal   func_80054BB0\n   lhu   A1, 0x12(S0)\n  sll   S0, V0, 0x10\n  sra   S0, S0, 0x10\n  jal   func_800558E8\n   move  A0, S0\n  move  A0, S0\n  jal   func_800556F4\n   li    A1, 1\n  jal   func_800670B0\n   nop\n  sll   V0, V0, 0x10\n  bltz  V0, L8010CCB8\n   nop\n  jal   func_8007D9E0\n   li    A0, -1\nL8010CCB8:\n  jal   func_80045650\n   move  A0, S1\n  lw    RA, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_8010CCD4:\n  addiu SP, SP, -0x38\n  sw    RA, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  sdc1  F22, 0x30(SP)\n  sdc1  F20, 0x28(SP)\n  jal   func_8007D838\n   li    S1, 1\n  lw    S0, 0x8c(V0)\n  lh    V0, 4(S0)\n  lh    V1, 0(S0)\n  subu  V0, V0, V1\n  mtc1  V0, F22\n  nop\n  cvt.s.w F22, F22\n  lh    V0, 8(S0)\n  mtc1  V0, F0\n  nop\n  cvt.s.w F0, F0\n  div.s F22, F22, F0\n  lh    V0, 6(S0)\n  lh    V1, 2(S0)\n  subu  V0, V0, V1\n  mtc1  V0, F20\n  nop\n  cvt.s.w F20, F20\n  div.s F20, F20, F0\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\n  addiu A1, SP, 0x10\n  jal   func_8006296C\n   addiu A2, SP, 0x14\n  lh    V0, 8(S0)\n  blez  V0, L8010CE4C\n   nop\n  li    S2, -1\nL8010CD68:\n  lh    A0, 0xa(S0)\n  beq   A0, S2, L8010CDDC\n   move  A1, R0\n  lh    V0, 0(S0)\n  mtc1  V0, F2\n  nop\n  cvt.s.w F2, F2\n  mtc1  S1, F4\n  nop\n  cvt.s.w F4, F4\n  mul.s F0, F22, F4\n  add.s F2, F2, F0\n  trunc.w.s F0, F2\n  mfc1  A2, F0\n  nop\n  sll   A2, A2, 0x10\n  lh    V0, 2(S0)\n  mtc1  V0, F0\n  nop\n  cvt.s.w F0, F0\n  mul.s F4, F20, F4\n  add.s F0, F0, F4\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\nL8010CDDC:\n  mtc1  S1, F4\n  nop\n  cvt.s.w F4, F4\n  mul.s F0, F22, F4\n  lwc1  F2, 0x10(SP)\n  add.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  mul.s F4, F20, F4\n  lwc1  F0, 0x14(SP)\n  add.s F4, F4, F0\n  trunc.w.s F0, F4\n  mfc1  A2, F0\n  nop\n  sll   A2, A2, 0x10\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\n  sra   A1, A1, 0x10\n  jal   func_800629AC\n   sra   A2, A2, 0x10\n  jal   func_8007DA44\n   addiu S1, S1, 1\n  lh    V0, 8(S0)\n  slt   V0, V0, S1\n  beqz  V0, L8010CD68\n   nop\nL8010CE4C:\n  lh    A0, 0xa(S0)\n  li    V0, -1\n  beq   A0, V0, L8010CE6C\n   nop\n  lh    A2, 4(S0)\n  lh    A3, 6(S0)\n  jal   func_80081AD0\n   move  A1, R0\nL8010CE6C:\n  lh    V0, 4(S0)\n  mtc1  V0, F0\n  nop\n  cvt.s.w F0, F0\n  lwc1  F2, 0x10(SP)\n  add.s F0, F0, F2\n  lh    V0, 0(S0)\n  mtc1  V0, F2\n  nop\n  cvt.s.w F2, F2\n  sub.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lh    V0, 6(S0)\n  mtc1  V0, F0\n  nop\n  cvt.s.w F0, F0\n  lwc1  F2, 0x14(SP)\n  add.s F0, F0, F2\n  lh    V0, 2(S0)\n  mtc1  V0, F2\n  nop\n  cvt.s.w F2, F2\n  sub.s F0, F0, F2\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   A0, hi(D_800F93C6)\n  lh    A0, lo(D_800F93C6)(A0)\n  sra   A1, A1, 0x10\n  jal   func_800629AC\n   sra   A2, A2, 0x10\n  jal   func_80076FCC\n   move  A0, R0\n  lw    RA, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  ldc1  F22, 0x30(SP)\n  ldc1  F20, 0x28(SP)\n  jr    RA\n   addiu SP, SP, 0x38\n\nfunc_8010CF20:\n  addiu SP, SP, -0x30\n  sw    RA, 0x2c(SP)\n  sw    S6, 0x28(SP)\n  sw    S5, 0x24(SP)\n  sw    S4, 0x20(SP)\n  sw    S3, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  move  S6, A0\n  move  S1, A1\n  move  S2, A2\n  move  S3, A3\n  lhu   S4, 0x42(SP)\n  lhu   S5, 0x46(SP)\n  lui   A0, hi(func_8010CCD4)\n  addiu A0, A0, lo(func_8010CCD4)\n  li    A1, 16385\n  move  A2, R0\n  jal   InitProcess\n   li    A3, 64\n  move  S0, V0\n  lw    A0, 0x18(S0)\n  jal   func_80068480\n   li    A1, 16\n  sw    V0, 0x8c(S0)\n  sh    S1, 0(V0)\n  sh    S2, 2(V0)\n  sh    S3, 4(V0)\n  sh    S4, 6(V0)\n  sh    S5, 8(V0)\n  sh    S6, 0xa(V0)\n  move  V0, S0\n  lw    RA, 0x2c(SP)\n  lw    S6, 0x28(SP)\n  lw    S5, 0x24(SP)\n  lw    S4, 0x20(SP)\n  lw    S3, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x30\n\nfunc_8010CFCC:\n  addiu SP, SP, -0x30\n  sw    RA, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S2, hi(D_800F93A8)\n  addiu S2, S2, lo(D_800F93A8)\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  move  S3, V0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sll   V0, V0, 2\n  lui   A0, hi(D_8011237C)\n  addu  A0, A0, V0\n  jal   func_80017680\n   lw    A0, lo(D_8011237C)(A0)\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  S4, V0\n  jal   func_80017800\n   move  A0, S0\n  sll   V0, S3, 0x10\n  sra   S0, V0, 0x10\n  sll   A2, S4, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  lui   V0, hi(D_800F93C6)\n  lhu   V0, lo(D_800F93C6)(V0)\n  andi  V0, V0, 1\n  beqz  V0, L8010D0B4\n   move  A0, S0\n  move  A1, R0\n  j     L8010D0C4\n   li    A2, 4097\nL8010D0B4:\n  sll   A0, S3, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  li    A2, 4096\nL8010D0C4:\n  jal   func_80082418\n   sll   S0, S3, 0x10\n  sra   S0, S0, 0x10\n  lh    V0, 0x1e(S2)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  move  S0, R0\n  sll   S1, S3, 0x10\n  sll   A2, S0, 4\nL8010D140:\n  sra   A0, S1, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0x11\n  bnel  V0, R0, L8010D140\n   sll   A2, S0, 4\n  sll   S0, S3, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 255\n  move  A0, S0\n  move  A1, R0\n  li    A2, 1\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_8007959C\n   li    A0, 885\n  jal   func_8007D838\n   nop\n  move  S1, V0\n  lh    V0, 0x1e(S2)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112524)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112524)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112528)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112528)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 30\n  sw    V0, 0x14(SP)\n  move  A0, S0\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S1\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   li    S1, 255\n  jal   func_8007D9E0\n   li    A0, 10\n  move  A0, S0\n  move  A1, R0\n  move  A2, R0\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  li    S0, 1\n  sll   A1, S0, 1\nL8010D2A0:\n  addu  A1, A1, S0\n  sll   A1, A1, 3\n  addu  A1, A1, S0\n  subu  A1, S1, A1\n  sll   A1, A1, 0x10\n  lh    A0, 0x1e(S2)\n  jal   func_800629F0\n   sra   A1, A1, 0x10\n  lh    A0, 0x1e(S2)\n  lui   A2, 0x4000\n  jal   func_800628C0\n   move  A1, R0\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnez  V0, L8010D2A0\n   sll   A1, S0, 1\n  lh    A0, 0x1e(S2)\n  jal   func_800629F0\n   move  A1, R0\n  li    A0, -1\n  li    A1, 5\n  jal   func_8005DD68\n   move  A2, R0\n  lh    V1, 0x1e(S2)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(p1_char)\n  addu  A1, A1, V0\n  lbu   A1, lo(p1_char)(A1)\n  jal   func_80079718\n   li    A0, 259\n  jal   func_8007D9E0\n   li    A0, 50\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  sll   A0, S3, 0x10\n  jal   func_8007F8B0\n   sra   A0, A0, 0x10\n  sll   A0, S4, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  lw    RA, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x30\n\nfunc_8010D37C:\n  addiu SP, SP, -0x38\n  sw    RA, 0x34(SP)\n  sw    S6, 0x30(SP)\n  sw    S5, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S5, hi(D_800F93A8)\n  addiu S5, S5, lo(D_800F93A8)\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  move  S2, V0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sll   V0, V0, 2\n  lui   A0, hi(D_8011237C)\n  addu  A0, A0, V0\n  jal   func_80017680\n   lw    A0, lo(D_8011237C)(A0)\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  S6, V0\n  jal   func_80017800\n   move  A0, S0\n  sll   V0, S2, 0x10\n  sra   S0, V0, 0x10\n  sll   A2, S6, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  lui   V0, hi(D_800F93C6)\n  lhu   V0, lo(D_800F93C6)(V0)\n  andi  V0, V0, 1\n  beqz  V0, L8010D46C\n   move  A0, S0\n  move  A1, R0\n  j     L8010D47C\n   li    A2, 4097\nL8010D46C:\n  sll   A0, S2, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  li    A2, 4096\nL8010D47C:\n  jal   func_80082418\n   sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  lh    V0, 0x1e(S5)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  move  S1, R0\n  sll   S0, S2, 0x10\n  sll   A2, S1, 4\nL8010D4F8:\n  sra   A0, S0, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S1, S1, 1\n  slti  V0, S1, 0x11\n  bnel  V0, R0, L8010D4F8\n   sll   A2, S1, 4\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 255\n  move  A0, S0\n  move  A1, R0\n  li    A2, 1\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_8007959C\n   li    A0, 885\n  lh    V0, 0x1e(S5)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112544)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112544)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112548)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112548)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 30\n  sw    V0, 0x14(SP)\n  move  A0, S0\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  jal   func_8007D9E0\n   li    A0, 20\n  li    S1, 1\n  li    S4, 255\n  sll   S3, S2, 0x10\n  sll   S0, S1, 1\nL8010D61C:\n  addu  S0, S0, S1\n  sll   S0, S0, 3\n  addu  S0, S0, S1\n  subu  S0, S4, S0\n  sll   A1, S0, 0x10\n  lh    A0, 0x1e(S5)\n  jal   func_800629F0\n   sra   A1, A1, 0x10\n  sra   A0, S3, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, S0, 0xffff\n  jal   func_8007DA44\n   addiu S1, S1, 1\n  slti  V0, S1, 0xa\n  bnez  V0, L8010D61C\n   sll   S0, S1, 1\n  lh    A0, 0x1e(S5)\n  jal   func_800629F0\n   move  A1, R0\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 2\n  jal   func_8007F8B0\n   move  A0, S0\n  sll   A0, S6, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  lw    RA, 0x34(SP)\n  lw    S6, 0x30(SP)\n  lw    S5, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x38\n\nfunc_8010D6C8:\n  addiu SP, SP, -0x30\n/*  */  sw    RA, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S3, hi(D_800F93A8)\n  addiu S3, S3, lo(D_800F93A8)\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  move  S2, V0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sll   V0, V0, 2\n  lui   A0, hi(D_8011237C)\n  addu  A0, A0, V0\n  jal   func_80017680\n   lw    A0, lo(D_8011237C)(A0)\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  S4, V0\n  jal   func_80017800\n   move  A0, S0\n  sll   V0, S2, 0x10\n  sra   S0, V0, 0x10\n  sll   A2, S4, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  lui   V0, hi(D_800F93C6)\n  lhu   V0, lo(D_800F93C6)(V0)\n  andi  V0, V0, 1\n  beqz  V0, L8010D7B0\n   move  A0, S0\n  move  A1, R0\n  j     L8010D7C0\n   li    A2, 4097\nL8010D7B0:\n  sll   A0, S2, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  li    A2, 4096\nL8010D7C0:\n  jal   func_80082418\n   sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  lh    V0, 0x1e(S3)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112564)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112564)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112568)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112568)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  move  S0, R0\n  sll   S1, S2, 0x10\n  sll   A2, S0, 4\nL8010D83C:\n  sra   A0, S1, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0x11\n  bnel  V0, R0, L8010D83C\n   sll   A2, S0, 4\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 255\n  move  A0, S0\n  move  A1, R0\n  li    A2, 1\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_8007959C\n   li    A0, 885\n  jal   func_8007D838\n   nop\n  move  S1, V0\n  lh    V0, 0x1e(S3)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112564)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112564)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112568)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112568)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 30\n  sw    V0, 0x14(SP)\n  move  A0, S0\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S1\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   li    S0, 1\n  sll   S1, S2, 0x10\n  li    S3, 255\n  sll   A2, S0, 1\nL8010D974:\n  addu  A2, A2, S0\n  sll   A2, A2, 3\n  addu  A2, A2, S0\n  subu  A2, S3, A2\n  sra   A0, S1, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnez  V0, L8010D974\n   sll   A2, S0, 1\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  jal   func_8007F8B0\n   move  A0, S0\n  sll   A0, S4, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  lw    RA, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x30\n\nfunc_8010D9F4:\n  addiu SP, SP, -0x40\n  sw    RA, 0x30(SP)\n  sw    S5, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  sdc1  F20, 0x38(SP)\n  lui   S4, hi(D_800F93A8)\n  addiu S4, S4, lo(D_800F93A8)\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  move  S2, V0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sll   V0, V0, 2\n  lui   A0, hi(D_8011237C)\n  addu  A0, A0, V0\n  jal   func_80017680\n   lw    A0, lo(D_8011237C)(A0)\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  S5, V0\n  jal   func_80017800\n   move  A0, S0\n  sll   V0, S2, 0x10\n  sra   S0, V0, 0x10\n  sll   A2, S5, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  lui   V0, hi(D_800F93C6)\n  lhu   V0, lo(D_800F93C6)(V0)\n  andi  V0, V0, 1\n  beqz  V0, L8010DAE4\n   move  A0, S0\n  move  A1, R0\n  j     L8010DAF4\n   li    A2, 4097\nL8010DAE4:\n  sll   A0, S2, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  li    A2, 4096\nL8010DAF4:\n  jal   func_80082418\n   sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  lh    V0, 0x1e(S4)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_80081AD0\n   sra   A3, A3, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  move  S0, R0\n  sll   S1, S2, 0x10\n  sll   A2, S0, 4\nL8010DB70:\n  sra   A0, S1, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0x11\n  bnel  V0, R0, L8010DB70\n   sll   A2, S0, 4\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 255\n  move  A0, S0\n  move  A1, R0\n  li    A2, 1\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_8007959C\n   li    A0, 885\n  jal   func_8007D838\n   li    S3, 255\n  move  S1, V0\n  lh    V0, 0x1e(S4)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112524)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112524)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112528)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112528)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 30\n  sw    V0, 0x14(SP)\n  move  A0, S0\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S1\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   sll   S1, S2, 0x10\n  jal   func_8007D9E0\n   li    A0, 10\n  move  A0, S0\n  move  A1, R0\n  move  A2, R0\n  jal   func_800822A8\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   li    A2, 1\n  li    S0, 1\n  sll   A2, S0, 1\nL8010DCD0:\n  addu  A2, A2, S0\n  sll   A2, A2, 3\n  addu  A2, A2, S0\n  subu  A2, S3, A2\n  sra   A0, S1, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnez  V0, L8010DCD0\n   sll   A2, S0, 1\n  sll   A0, S2, 0x10\n  sra   A0, A0, 0x10\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   V1, hi(p1_item)\n  addu  V1, V1, V0\n  lb    V1, lo(p1_item)(V1)\n  li    V0, 7\n  bne   V1, V0, L8010DD54\n   move  S0, R0\n  jal   func_8007959C\n   li    A0, 873\n  move  S0, R0\nL8010DD54:\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F20\nL8010DD5C:\n  mtc1  S0, F12\n  nop\n  cvt.s.w F12, F12\n  jal   func_800B83C0\n   addiu S0, S0, 0x1e\n  lh    A0, 0x1e(S4)\n  mul.s F0, F0, F20\n  mfc1  A1, F0\n  jal   func_80062A28\n   nop\n  jal   func_8007DA44\n   nop\n  slti  V0, S0, 0x439\n  bnez  V0, L8010DD5C\n   nop\n  li    S1, 1\n  li    S3, 255\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F20\n  sll   A1, S1, 1\nL8010DDAC:\n  addu  A1, A1, S1\n  sll   A1, A1, 3\n  addu  A1, A1, S1\n  subu  A1, S3, A1\n  sll   A1, A1, 0x10\n  lh    A0, 0x1e(S4)\n  jal   func_800629F0\n   sra   A1, A1, 0x10\n  mtc1  S0, F12\n  nop\n  cvt.s.w F12, F12\n  jal   func_800B83C0\n   addiu S0, S0, 0x1e\n  lh    A0, 0x1e(S4)\n  mul.s F0, F0, F20\n  mfc1  A1, F0\n  nop\n  jal   func_80062A28\n   addiu S1, S1, 1\n  jal   func_8007DA44\n   nop\n  slti  V0, S1, 0xa\n  bnez  V0, L8010DDAC\n   sll   A1, S1, 1\n  lh    A0, 0x1e(S4)\n  jal   func_800629F0\n   move  A1, R0\n  sll   A0, S2, 0x10\n  jal   func_8007F8B0\n   sra   A0, A0, 0x10\n  sll   A0, S5, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  lw    RA, 0x30(SP)\n  lw    S5, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  ldc1  F20, 0x38(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\nfunc_8010DE58:\n  addiu SP, SP, -0x88\n  sw    RA, 0x58(SP)\n  sw    S3, 0x54(SP)\n  sw    S2, 0x50(SP)\n  sw    S1, 0x4c(SP)\n  sw    S0, 0x48(SP)\n  sdc1  F28, 0x80(SP)\n  sdc1  F26, 0x78(SP)\n  sdc1  F24, 0x70(SP)\n  sdc1  F22, 0x68(SP)\n  sdc1  F20, 0x60(SP)\n  lui   S3, hi(D_800F93A8)\n  addiu S3, S3, lo(D_800F93A8)\n  jal   func_8010D37C\n   move  S1, R0\n  jal   func_8007D838\n   nop\n  move  S0, V0\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112544)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112544)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112548)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112548)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112524)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112524)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112528)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112528)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 1\n  sw    V0, 0x14(SP)\n  li    A0, -1\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   move  S0, R0\n  li    A0, -1\n  addiu V1, SP, 0x20\nL8010DF5C:\n  lh    V0, 0x1e(S3)\n  beq   S0, V0, L8010DF94\n   sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V0\n  lb    V0, lo(p1_item)(AT)\n  beq   V0, A0, L8010DF94\n   addu  V0, V1, S1\n  sb    S0, 0(V0)\n  addiu S1, S1, 1\nL8010DF94:\n  addiu S0, S0, 1\n  slti  V0, S0, 4\n  bnez  V0, L8010DF5C\n   nop\n  li    A0, 110\n  jal   func_80043510\n   move  A1, R0\n  move  S2, V0\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  move  A1, R0\n  move  A2, A1\n  jal   func_800297E8\n   move  A3, A1\n  jal   func_8005DC3C\n   li    A0, -1\n  lw    A1, 0x24(V0)\n  addiu A0, S2, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  li    A1, 2\n  jal   func_80029E80\n   li    A2, 1\n  li    AT, 0x42C80000 ;100.000000\n  mtc1  AT, F0\n  nop\n  swc1  F0, 0x30(S2)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F22\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F20\n  lwc1  F0, 0x30(S2)\n  sub.s F0, F0, F22\nL8010E028:\n  jal   func_8007DA44\n   swc1  F0, 0x30(S2)\n  lwc1  F0, 0x30(S2)\n  c.lt.s F20, F0\n  nop\n  nop\n  bc1tl L8010E028\n   sub.s F0, F0, F22\n  beqz  S1, L8010E0D4\n   nop\n  jal   func_8007959C\n   li    A0, 875\n  move  S0, R0\n  li    AT, 0x40000000 ;2.000000\n  mtc1  AT, F28\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F26\nL8010E06C:\n  mtc1  S0, F22\n  nop\n  cvt.s.w F22, F22\n  jal   func_800B83C0\n   mov.s F12, F22\n  div.s F24, F0, F28\n  add.s F24, F24, F26\n  jal   func_800B83C0\n   mov.s F12, F22\n  div.s F20, F0, F28\n  add.s F20, F20, F26\n  jal   func_800B83C0\n   mov.s F12, F22\n  div.s F0, F0, F28\n  mfc1  A1, F24\n  mfc1  A2, F20\n  add.s F0, F0, F26\n  mfc1  A3, F0\n  nop\n  jal   func_800B3160\n   addiu A0, S2, 0x24\n  jal   func_8007DA44\n   addiu S0, S0, 0x1e\n  slti  V0, S0, 0x439\n  bnez  V0, L8010E06C\n   nop\nL8010E0D4:\n  lw    V0, 0x3c(S2)\n  lw    V0, 0x40(V0)\n  lh    A0, 0(V0)\n  li    A1, 1\n  jal   func_80029E80\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 20\n  bnez  S1, L8010E160\n   nop\n  li    A0, -1\n  li    A1, 3\n  jal   func_8005DD68\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_80055E90\n   li    A0, 483\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  jal   func_8004430C\n   move  A0, S2\n  lh    V0, 0x1e(S3)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  li    V0, -1\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V1\n  j     L8010E3A0\n   sb    V0, lo(p1_item)(AT)\nL8010E160:\n  mtc1  S1, F12\n  nop\n  jal   func_8005A358\n   cvt.s.w F12, F12\n  addu  V0, SP, V0\n  lb    S1, 0x20(V0)\n  lh    V1, 0x1e(S3)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  sll   S0, S1, 1\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  addu  S0, S0, S1\n  sll   S0, S0, 2\n  lui   V1, hi(p1_item)\n  addu  V1, V1, S0\n  lbu   V1, lo(p1_item)(V1)\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V0\n  sb    V1, lo(p1_item)(AT)\n  li    V0, -1\n  lui   AT, hi(p1_item)\n  addu  AT, AT, S0\n  sb    V0, lo(p1_item)(AT)\n  move  A0, S1\n  jal   func_80067170\n   li    A1, 3\n  move  A0, S1\n  jal   func_800629F0\n   move  A1, R0\n  lh    A0, 0x1e(S3)\n  jal   func_80062588\n   nop\n  lh    A0, 0x1e(S3)\n  jal   func_800629F0\n   li    A1, 256\n  jal   func_8007959C\n   li    A0, 25\n  jal   func_8007D838\n   nop\n  move  S1, V0\n  lh    V0, 0x1e(S3)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112524)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112524)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112528)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112528)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112564)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112564)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112568)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112568)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 5\n  sw    V0, 0x14(SP)\n  li    A0, -1\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S1\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   nop\n  lh    V1, 0x1e(S3)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A1, hi(p1_char)\n  addu  A1, A1, V0\n  lbu   A1, lo(p1_char)(A1)\n  jal   func_80079718\n   li    A0, 245\n  li    A0, -1\n  li    A1, 5\n  jal   func_8005DD68\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 50\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  jal   func_8004430C\n   move  A0, S2\n  li    V1, 24\n  sb    V1, 0x28(SP)\n  lui   V0, hi(p1_char)\n  addu  V0, V0, S0\n  lbu   V0, lo(p1_char)(V0)\n  sb    V0, 0x29(SP)\n  sb    R0, 0x2a(SP)\n  sb    V1, 0x38(SP)\n  lh    V1, 0x1e(S3)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sb    V0, 0x39(SP)\n  sb    R0, 0x3a(SP)\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  li    A0, -1\n  li    A1, 482\n  addiu A2, SP, 0x28\n  jal   func_80056368\n   addiu A3, SP, 0x38\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  jal   func_8010D6C8\n   nop\nL8010E3A0:\n  lw    RA, 0x58(SP)\n  lw    S3, 0x54(SP)\n  lw    S2, 0x50(SP)\n  lw    S1, 0x4c(SP)\n  lw    S0, 0x48(SP)\n  ldc1  F28, 0x80(SP)\n  ldc1  F26, 0x78(SP)\n  ldc1  F24, 0x70(SP)\n  ldc1  F22, 0x68(SP)\n  ldc1  F20, 0x60(SP)\n  jr    RA\n   addiu SP, SP, 0x88\n\nfunc_8010E3D0:\n  addiu SP, SP, -0x48\n  sw    RA, 0x18(SP)\n  sw    S1, 0x14(SP)\n  sw    S0, 0x10(SP)\n  sdc1  F28, 0x40(SP)\n  sdc1  F26, 0x38(SP)\n  sdc1  F24, 0x30(SP)\n  sdc1  F22, 0x28(SP)\n  sdc1  F20, 0x20(SP)\n  jal   func_8005DC3C\n   li    A0, -1\n  jal   func_8005070C\n   move  S1, V0\n  lui   A0, hi(D_800CC1F0)\n  jal   func_800442DC\n   lw    A0, lo(D_800CC1F0)(A0)\n  lui   V1, hi(D_800CC1F0)\n  lw    V1, lo(D_800CC1F0)(V1)\n  lw    V0, 0x3c(V1)\n  sw    R0, 0x30(V0)\n  lw    V0, 0x3c(V1)\n  sw    R0, 0x34(V0)\n  lw    V0, 0x3c(V1)\n  sw    R0, 0x38(V0)\n  li    A0, -1\n  jal   func_80067170\n   li    A1, 3\n  jal   func_8007959C\n   li    A0, 876\n  li    A0, 111\n  jal   func_80043510\n   move  A1, R0\n  move  S0, V0\n  lw    A1, 0x24(S1)\n  addiu A0, S0, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lwc1  F0, 0x14(S0)\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x14(S0)\n  lwc1  F0, 0x10(S0)\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x10(S0)\n  mtc1  R0, F22\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F20\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113658)\n  ldc1  F24, lo(D_80113658)(AT)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F26\nL8010E4B8:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  add.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.lt.s F20, F26\n  nop\n  bc1t  L8010E4B8\n   nop\n  jal   func_800442DC\n   lw    A0, 0x24(S1)\n  lui   A0, hi(D_800CC1F0)\n  jal   func_80044258\n   lw    A0, lo(D_800CC1F0)(A0)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F0\n  nop\n  c.le.s F0, F20\n  nop\n  bc1f  L8010E5E0\n   nop\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113660)\n  ldc1  F24, lo(D_80113660)(AT)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F26\nL8010E570:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  sub.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.le.s F26, F20\n  nop\n  bc1t  L8010E570\n   nop\nL8010E5E0:\n  jal   func_8004430C\n   move  A0, S0\n  jal   func_8007D9E0\n   li    A0, 20\n  li    A0, 5\n  jal   func_800508E4\n   li    A1, 2\n  jal   func_8007D9E0\n   li    A0, 40\n  li    A0, -1\n  jal   func_800508E4\n   li    A1, 2\n  jal   func_80055E90\n   li    A0, 486\n  lw    RA, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  ldc1  F28, 0x40(SP)\n  ldc1  F26, 0x38(SP)\n  ldc1  F24, 0x30(SP)\n  ldc1  F22, 0x28(SP)\n  ldc1  F20, 0x20(SP)\n  jr    RA\n   addiu SP, SP, 0x48\n\nfunc_8010E640:\n/*  */  addiu SP, SP, -0x58\n  sw    RA, 0x28(SP)\n  sw    S1, 0x24(SP)\n  sw    S0, 0x20(SP)\n  sdc1  F28, 0x50(SP)\n  sdc1  F26, 0x48(SP)\n  sdc1  F24, 0x40(SP)\n  sdc1  F22, 0x38(SP)\n  sdc1  F20, 0x30(SP)\n  jal   func_8005DC3C\n   li    A0, -1\n  move  S1, V0\n  li    A0, -1\n  jal   func_800508E4\n   li    A1, 2\n  jal   func_8005670C\n   addiu A0, SP, 0x10\n  lw    A2, 0x24(S1)\n  addiu A2, A2, 0x18\n  move  A0, A2\n  addiu A1, SP, 0x10\n  jal   func_80056B78\n   li    A3, 8\n  jal   func_8007D9E0\n   li    A0, 8\n  jal   func_8007959C\n   li    A0, 876\n  li    A0, 111\n  jal   func_80043510\n   move  A1, R0\n  move  S0, V0\n  lw    A1, 0x24(S1)\n  addiu A0, S0, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lwc1  F0, 0x14(S0)\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x14(S0)\n  lwc1  F0, 0x10(S0)\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x10(S0)\n  mtc1  R0, F22\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F20\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113668)\n  ldc1  F24, lo(D_80113668)(AT)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F26\nL8010E720:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  add.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.lt.s F20, F26\n  nop\n  bc1t  L8010E720\n   nop\n  jal   func_80044258\n   lw    A0, 0x24(S1)\n  jal   func_80050860\n   nop\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F0\n  nop\n  c.le.s F0, F20\n  nop\n  bc1f  L8010E844\n   nop\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113670)\n  ldc1  F24, lo(D_80113670)(AT)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F26\nL8010E7D4:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  sub.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.le.s F26, F20\n  nop\n  bc1t  L8010E7D4\n   nop\nL8010E844:\n  jal   func_8004430C\n   move  A0, S0\n  lw    RA, 0x28(SP)\n  lw    S1, 0x24(SP)\n  lw    S0, 0x20(SP)\n  ldc1  F28, 0x50(SP)\n  ldc1  F26, 0x48(SP)\n  ldc1  F24, 0x40(SP)\n  ldc1  F22, 0x38(SP)\n  ldc1  F20, 0x30(SP)\n  jr    RA\n   addiu SP, SP, 0x58\n\nfunc_8010E874:\n  addiu SP, SP, -0x28\n  sw    RA, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S1, hi(D_800F93A8)\n  addiu S1, S1, lo(D_800F93A8)\n  lui   V0, hi(D_800F93C6)\n  lh    V0, lo(D_800F93C6)(V0)\n  sll   V1, V0, 1\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  addu  V1, V1, V0\n  sll   V1, V1, 2\n  li    V0, 3\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V1\n  sb    V0, lo(p1_item)(AT)\n  jal   func_80060210\n   li    A0, 25\nL8010E8C0:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010E8E0\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010E8C0\n   nop\nL8010E8E0:\n  jal   func_80062824\n   li    A0, 1\n  lh    A0, 0x1e(S1)\n  jal   func_800629F0\n   move  A1, R0\n  jal   func_80060210\n   li    A0, 26\nL8010E8FC:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010E91C\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010E8FC\n   nop\nL8010E91C:\n  jal   func_8007D838\n   nop\n  move  S0, V0\n  lh    V0, 0x1e(S1)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112524)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112524)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112528)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112528)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 1\n  sw    V0, 0x14(SP)\n  li    A0, -1\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   li    S0, 1\n  jal   func_8007959C\n   li    A0, 25\n  sll   A1, S0, 1\nL8010E9E4:\n  addu  A1, A1, S0\n  sll   A1, A1, 3\n  addu  A1, A1, S0\n  sll   A1, A1, 0x10\n  lh    A0, 0x1e(S1)\n  jal   func_800629F0\n   sra   A1, A1, 0x10\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnel  V0, R0, L8010E9E4\n   sll   A1, S0, 1\n  lh    A0, 0x1e(S1)\n  jal   func_800629F0\n   li    A1, 256\n  li    A0, -1\n  li    A1, 3\n  jal   func_8005DD68\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 30\n  lh    V0, 2(S1)\n  sll   V0, V0, 2\n  lui   A0, hi(D_80112584)\n  addu  A0, A0, V0\n  jal   func_80055E90\n   lw    A0, lo(D_80112584)(A0)\n  jal   func_8007959C\n   li    A0, 885\n  jal   func_8007D838\n   nop\n  move  S0, V0\n  lh    V0, 0x1e(S1)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112524)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112524)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112528)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112528)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 30\n  sw    V0, 0x14(SP)\n  li    A0, -1\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   nop\n  jal   func_8007D9E0\n   li    A0, 10\n  jal   func_80060210\n   li    A0, 25\nL8010EB24:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010EB44\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010EB24\n   nop\nL8010EB44:\n  jal   func_80062824\n   move  A0, R0\n  jal   func_80060210\n   li    A0, 26\nL8010EB54:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010EB74\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010EB54\n   nop\nL8010EB74:\n  lw    RA, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\nfunc_8010EB88:\n  addiu SP, SP, -0x78\n  sw    RA, 0x48(SP)\n  sw    S5, 0x44(SP)\n  sw    S4, 0x40(SP)\n  sw    S3, 0x3c(SP)\n  sw    S2, 0x38(SP)\n  sw    S1, 0x34(SP)\n  sw    S0, 0x30(SP)\n  sdc1  F28, 0x70(SP)\n  sdc1  F26, 0x68(SP)\n  sdc1  F24, 0x60(SP)\n  sdc1  F22, 0x58(SP)\n  sdc1  F20, 0x50(SP)\n  jal   func_8005DC3C\n   li    A0, -1\n  lui   S4, hi(D_800F93A8)\n  addiu S4, S4, lo(D_800F93A8)\n  jal   func_8007D838\n   move  S3, V0\n  li    AT, 0x3FA60000 ;1.296875\n  ori AT, AT, 0x6666\n  mtc1  AT, F12\n  nop\n  jal   func_80052F70\n   move  S0, V0\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   move  S1, R0\n  li    S5, 255\n  sll   V0, S1, 1\nL8010EC08:\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   V1, hi(p1_item)\n  addu  V1, V1, V0\n  lb    V1, lo(p1_item)(V1)\n  li    V0, 3\n  bnel  V1, V0, L8010EE04\n   addiu S1, S1, 1\n  jal   func_80060210\n   li    A0, 25\nL8010EC38:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010EC58\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010EC38\n   nop\nL8010EC58:\n  jal   func_80062824\n   li    A0, 1\n  move  A0, S1\n  jal   func_800629F0\n   li    A1, 256\n  jal   func_80060210\n   li    A0, 26\nL8010EC74:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010EC94\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010EC74\n   nop\nL8010EC94:\n  jal   func_8007D9E0\n   li    A0, 20\n  jal   func_800636F8\n   li    A0, 3\n  lh    S2, 0x1e(S4)\n  sh    S1, 0x1e(S4)\n  jal   func_8007959C\n   li    A0, 885\n  jal   func_8007D838\n   nop\n  move  S0, V0\n  lh    V0, 0x1e(S4)\n  sll   V0, V0, 3\n  lui   AT, hi(D_80112504)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112504)(AT)\n  trunc.w.s F2, F0\n  mfc1  A1, F2\n  nop\n  sll   A1, A1, 0x10\n  lui   AT, hi(D_80112508)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112508)(AT)\n  trunc.w.s F2, F0\n  mfc1  A2, F2\n  nop\n  sll   A2, A2, 0x10\n  lui   AT, hi(D_80112524)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112524)(AT)\n  trunc.w.s F2, F0\n  mfc1  A3, F2\n  nop\n  sll   A3, A3, 0x10\n  lui   AT, hi(D_80112528)\n  addu  AT, AT, V0\n  lwc1  F0, lo(D_80112528)(AT)\n  trunc.w.s F2, F0\n  mfc1  V0, F2\n  nop\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  sw    V0, 0x10(SP)\n  li    V0, 30\n  sw    V0, 0x14(SP)\n  li    A0, -1\n  sra   A1, A1, 0x10\n  sra   A2, A2, 0x10\n  jal   func_8010CF20\n   sra   A3, A3, 0x10\n  move  A0, S0\n  jal   func_8007D700\n   move  A1, V0\n  jal   func_8007D7E8\n   li    S0, 1\n  jal   func_8007D9E0\n   li    A0, 20\n  sll   A1, S0, 1\nL8010ED7C:\n  addu  A1, A1, S0\n  sll   A1, A1, 3\n  addu  A1, A1, S0\n  subu  A1, S5, A1\n  sll   A1, A1, 0x10\n  move  A0, S1\n  jal   func_800629F0\n   sra   A1, A1, 0x10\n  move  A0, S1\n  lui   A2, 0x4000\n  jal   func_800628C0\n   move  A1, R0\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnez  V0, L8010ED7C\n   sll   A1, S0, 1\n  move  A0, S1\n  jal   func_800629F0\n   move  A1, R0\n  sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  li    V1, -1\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V0\n  sb    V1, lo(p1_item)(AT)\n  sh    S2, 0x1e(S4)\n  jal   func_800636F8\n   li    A0, 1\n  j     L8010EE10\n   nop\nL8010EE04:\n  slti  V0, S1, 4\n  bnez  V0, L8010EC08\n   sll   V0, S1, 1\nL8010EE10:\n  lui   V0, hi(D_800F8D12)\n  lh    V0, lo(D_800F8D12)(V0)\n  beql  V0, R0, L8010EE34\n   move  A0, R0\n  jal   func_80108C0C\n   nop\n  jal   func_8007D9E0\n   li    A0, 30\n  move  A0, R0\nL8010EE34:\n  jal   func_80067170\n   li    A1, 4\n  li    A0, 1\n  jal   func_80067170\n   li    A1, 4\n  li    A0, 2\n  jal   func_80067170\n   li    A1, 4\n  li    A0, 3\n  jal   func_80067170\n   li    A1, 4\n  jal   func_8007959C\n   li    A0, 876\n  li    A0, 111\n  jal   func_80043510\n   move  A1, R0\n  move  S0, V0\n  lui   A1, hi(D_800F64C8)\n  lw    A1, lo(D_800F64C8)(A1)\n  addiu A0, S0, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lwc1  F0, 0x14(S0)\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x14(S0)\n  lwc1  F0, 0x10(S0)\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x10(S0)\n  mtc1  R0, F22\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F20\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113678)\n  ldc1  F24, lo(D_80113678)(AT)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F26\nL8010EEE0:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  add.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.lt.s F20, F26\n  nop\n  bc1t  L8010EEE0\n   nop\n  jal   func_800509FC\n   nop\n  lui   A0, hi(D_800F64C8)\n  jal   func_800442DC\n   lw    A0, lo(D_800F64C8)(A0)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F0\n  nop\n  c.le.s F0, F20\n  nop\n  bc1f  L8010F008\n   nop\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113680)\n  ldc1  F24, lo(D_80113680)(AT)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F26\nL8010EF98:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  sub.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.le.s F26, F20\n  nop\n  bc1t  L8010EF98\n   nop\nL8010F008:\n  jal   func_8004430C\n   move  A0, S0\n  lh    V0, 0x1c(S4)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111984)\n  addu  A0, A0, V0\n  lh    A0, lo(D_80111984)(A0)\n  addiu A1, S3, 0x10\n  jal   func_80054C78\n   addiu A2, S3, 0x12\n  lhu   V0, 0x10(S3)\n  sh    V0, 0x14(S3)\n  lhu   V0, 0x12(S3)\n  addiu V0, V0, 1\n  sh    V0, 0x16(S3)\n  lh    V0, 0x1c(S4)\n  sll   V0, V0, 1\n  lui   A0, hi(D_80111984)\n  addu  A0, A0, V0\n  jal   func_80054B8C\n   lh    A0, lo(D_80111984)(A0)\n  lw    A0, 0x24(S3)\n  addiu S0, V0, 8\n  addiu A0, A0, 0xc\n  move  A1, S0\n  jal   func_80056658\n   addiu A2, SP, 0x18\n  lw    A2, 0x24(S3)\n  addiu A2, A2, 0x18\n  move  A0, A2\n  addiu A1, SP, 0x18\n  jal   func_80056B78\n   li    A3, 8\n  jal   func_8007D9E0\n   li    A0, 8\n  move  A0, R0\n  jal   func_800508E4\n   li    A1, 2\n  lw    A2, 0x24(S3)\n  addiu A2, A2, 0xc\n  move  A0, A2\n  move  A1, S0\n  jal   func_80056D80\n   li    A3, 10\n  jal   func_8007D9E0\n   li    A0, 10\n  li    A0, -1\n  jal   func_800508E4\n   li    A1, 2\n  jal   func_8006286C\n   move  A0, R0\n  beqz  V0, L8010F134\n   nop\n  jal   func_80060210\n   li    A0, 25\nL8010F0E4:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010F104\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010F0E4\n   nop\nL8010F104:\n  jal   func_80062824\n   move  A0, R0\n  jal   func_80060210\n   li    A0, 26\nL8010F114:\n  jal   func_800609D8\n   nop\n  beqz  V0, L8010F134\n   nop\n  jal   func_8007DA44\n   nop\n  j     L8010F114\n   nop\nL8010F134:\n  jal   func_8005670C\n   addiu A0, SP, 0x18\n  lw    A2, 0x24(S3)\n  addiu A2, A2, 0x18\n  move  A0, A2\n  addiu A1, SP, 0x18\n  jal   func_80056B78\n   li    A3, 8\n  jal   func_8007D9E0\n   li    A0, 8\n  li    A0, 5\n  jal   func_800508E4\n   li    A1, 2\n  jal   func_8007D9E0\n   li    A0, 30\n  jal   func_8007959C\n   li    A0, 291\n  lh    V0, 2(S4)\n  sll   V1, V0, 1\n  sll   V0, V0, 2\n  lui   A1, hi(D_80112584)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80112584)(A1)\n  lui   A0, hi(D_8011259C)\n  addu  A0, A0, V1\n  lh    A0, lo(D_8011259C)(A0)\n  jal   func_8005600C\n   addiu A1, A1, 1\n  li    A0, -1\n  jal   func_800508E4\n   li    A1, 2\n  jal   func_8007DA44\n   nop\n  lh    A0, 0x1e(S4)\n  jal   func_800495D8\n   li    A1, 3\n  lw    RA, 0x48(SP)\n  lw    S5, 0x44(SP)\n  lw    S4, 0x40(SP)\n  lw    S3, 0x3c(SP)\n  lw    S2, 0x38(SP)\n  lw    S1, 0x34(SP)\n  lw    S0, 0x30(SP)\n  ldc1  F28, 0x70(SP)\n  ldc1  F26, 0x68(SP)\n  ldc1  F24, 0x60(SP)\n  ldc1  F22, 0x58(SP)\n  ldc1  F20, 0x50(SP)\n  jr    RA\n   addiu SP, SP, 0x78\n\nfunc_8010F1FC:\n  addiu SP, SP, -0x40\n  sw    RA, 0x14(SP)\n  sw    S0, 0x10(SP)\n  sdc1  F28, 0x38(SP)\n  sdc1  F26, 0x30(SP)\n  sdc1  F24, 0x28(SP)\n  sdc1  F22, 0x20(SP)\n  sdc1  F20, 0x18(SP)\n  jal   func_800794A8\n   li    A0, 60\n  jal   func_8007959C\n   li    A0, 876\n  li    A0, 111\n  jal   func_80043510\n   move  A1, R0\n  move  S0, V0\n  lui   A1, hi(D_800CC1F0)\n  lw    A1, lo(D_800CC1F0)(A1)\n  addiu A0, S0, 0xc\n  jal   func_800B3170\n   addiu A1, A1, 0xc\n  lwc1  F0, 0x14(S0)\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x14(S0)\n  lwc1  F0, 0x10(S0)\n  li    AT, 0x41F00000 ;30.000000\n  mtc1  AT, F2\n  nop\n  add.s F0, F0, F2\n  swc1  F0, 0x10(S0)\n  mtc1  R0, F22\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F20\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113688)\n  ldc1  F24, lo(D_80113688)(AT)\n  li    AT, 0x41200000 ;10.000000\n  mtc1  AT, F26\nL8010F2A4:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  add.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.lt.s F20, F26\n  nop\n  bc1t  L8010F2A4\n   nop\n  jal   func_800636F8\n   li    A0, 3\n  jal   func_80050860\n   nop\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F0\n  nop\n  c.le.s F0, F20\n  nop\n  bc1f  L8010F3C8\n   nop\n  li    AT, 0x41A00000 ;20.000000\n  mtc1  AT, F28\n  lui   AT, hi(D_80113690)\n  ldc1  F24, lo(D_80113690)(AT)\n  li    AT, 0x3F800000 ;1.000000\n  mtc1  AT, F26\nL8010F358:\n  mfc1  A1, F20\n  mfc1  A2, F20\n  mfc1  A3, F20\n  nop\n  jal   func_800B3160\n   addiu A0, S0, 0x24\n  lw    V0, 0x3c(S0)\n  lw    V0, 0x40(V0)\n  lh    V0, 0(V0)\n  sll   A0, V0, 1\n  addu  A0, A0, V0\n  sll   A0, A0, 6\n  lui   V0, hi(D_800FC834)\n  lw    V0, lo(D_800FC834)(V0)\n  addu  A0, A0, V0\n  mfc1  A1, F22\n  nop\n  jal   func_800B3B80\n   addiu A0, A0, 0x74\n  jal   func_8007DA44\n   add.s F22, F22, F28\n  cvt.d.s F0, F20\n  sub.d F0, F0, F24\n  cvt.s.d F20, F0\n  c.le.s F26, F20\n  nop\n  bc1t  L8010F358\n   nop\nL8010F3C8:\n  jal   func_8004430C\n   move  A0, S0\n  jal   func_800632FC\n   nop\n  sll   V0, V0, 0x10\n  jal   func_80079390\n   sra   A0, V0, 0x10\n  lui   V0, hi(D_800F93AA)\n  lh    V0, lo(D_800F93AA)(V0)\n  sll   V0, V0, 2\n  lui   A0, hi(D_80112584)\n  addu  A0, A0, V0\n  lw    A0, lo(D_80112584)(A0)\n  jal   func_80055E90\n   addiu A0, A0, 8\n  lui   AT, hi(D_800F8D16)\n  sh    R0, lo(D_800F8D16)(AT)\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  ldc1  F28, 0x38(SP)\n  ldc1  F26, 0x30(SP)\n  ldc1  F24, 0x28(SP)\n  ldc1  F22, 0x20(SP)\n  ldc1  F20, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\nfunc_8010F430:\n  addiu SP, SP, -0x90\n  sw    RA, 0x8c(SP)\n  sw    FP, 0x88(SP)\n  sw    S7, 0x84(SP)\n  sw    S6, 0x80(SP)\n  sw    S5, 0x7c(SP)\n  sw    S4, 0x78(SP)\n  sw    S3, 0x74(SP)\n  sw    S2, 0x70(SP)\n  sw    S1, 0x6c(SP)\n  sw    S0, 0x68(SP)\n  lui   S0, hi(D_800F93C6)\n  addiu S0, S0, lo(D_800F93C6)\n  lh    S4, 0(S0)\n  jal   func_8005DC3C\n   li    A0, -1\n  move  S6, V0\n  addiu S7, S0, -0x1e\n  move  S2, R0\n  move  S1, R0\n  sll   V0, S4, 1\n  addu  V0, V0, S4\n  sll   V0, V0, 2\n  addu  V0, V0, S4\n  sll   S3, V0, 2\n  addiu S5, SP, 0x20\nL8010F498:\n  lui   A0, hi(D_800FD2D0)\n  addu  A0, A0, S3\n  lhu   A0, lo(D_800FD2D0)(A0)\n  lui   A1, hi(D_800FD2D2)\n  addu  A1, A1, S3\n  jal   func_80054BB0\n   lhu   A1, lo(D_800FD2D2)(A1)\n  move  S0, V0\n  sll   V0, S1, 1\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  addu  V0, V0, S1\n  sll   V0, V0, 2\n  lui   A0, hi(D_800FD2D0)\n  addu  A0, A0, V0\n  lhu   A0, lo(D_800FD2D0)(A0)\n  lui   A1, hi(D_800FD2D2)\n  addu  A1, A1, V0\n  lhu   A1, lo(D_800FD2D2)(A1)\n  jal   func_80054BB0\n   sll   S0, S0, 0x10\n  sra   S0, S0, 0x10\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  bnel  S0, V0, L8010F520\n   addiu S1, S1, 1\n  addu  V0, S5, S2\n  sb    S1, 0(V0)\n  addiu S2, S2, 1\n  sll   A0, S1, 0x10\n  sra   A0, A0, 0x10\n  jal   func_80067170\n   li    A1, 4\n  addiu S1, S1, 1\nL8010F520:\n  slti  V0, S1, 4\n  bnez  V0, L8010F498\n   nop\n  beqz  S2, L8010F910\n   nop\n  jal   func_80046D2C\n   move  A0, S4\n  move  FP, V0\n  li    A0, -1\n  jal   func_800508E4\n   li    A1, 2\n  addiu S0, SP, 0x28\n  jal   func_8005670C\n   move  A0, S0\n  lw    A2, 0x24(S6)\n  addiu A2, A2, 0x18\n  move  A0, A2\n  move  A1, S0\n  jal   func_80056B78\n   li    A3, 8\n  jal   func_8007D9E0\n   li    A0, 8\n  jal   func_8007959C\n   li    A0, 291\n  move  A0, R0\n  blez  S2, L8010F5CC\n   move  S1, R0\n  addiu A1, SP, 0x20\n  addu  V0, A1, S1\nL8010F594:\n  lb    V1, 0(V0)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  addu  A0, A0, V0\n  addiu S1, S1, 1\n  slt   V0, S1, S2\n  bnez  V0, L8010F594\n   addu  V0, A1, S1\nL8010F5CC:\n  bnel  A0, R0, L8010F6A4\n   sb    R0, 0x44(SP)\n  li    V0, 1\n  bne   S2, V0, L8010F670\n   li    V0, 24\n  sb    V0, 0x38(SP)\n  lb    V1, 0x20(SP)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sb    V0, 0x39(SP)\n  sb    R0, 0x3a(SP)\n  lh    V0, 2(S7)\n  sll   V1, V0, 1\n  lui   A0, hi(D_8011259C)\n  addu  A0, A0, V1\n  lh    A0, lo(D_8011259C)(A0)\n  sll   V0, V0, 2\n  lui   A1, hi(D_80112584)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80112584)(A1)\n  sw    R0, 0x10(SP)\n  sw    R0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  addiu A1, A1, 6\n  addiu A2, SP, 0x38\n  jal   func_80056368\n   move  A3, R0\n  jal   func_80056458\n   nop\n  jal   func_80056144\n   nop\n  jal   func_80056168\n   nop\n  j     L8010F8F0\n   nop\nL8010F670:\n  lh    V0, 2(S7)\n  sll   V1, V0, 1\n  sll   V0, V0, 2\n  lui   A1, hi(D_80112584)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80112584)(A1)\n  lui   A0, hi(D_8011259C)\n  addu  A0, A0, V1\n  lh    A0, lo(D_8011259C)(A0)\n  jal   func_8005600C\n   addiu A1, A1, 7\n  j     L8010F8F0\n   nop\nL8010F6A4:\n  sb    R0, 0x40(SP)\n  sb    R0, 0x3c(SP)\n  sb    R0, 0x38(SP)\n  blez  S2, L8010F70C\n   move  S1, R0\n  addiu A2, SP, 0x38\n  li    A3, 24\n  addiu A1, SP, 0x20\nL8010F6C4:\n  sll   A0, S1, 2\n  addu  A0, A2, A0\n  sb    A3, 0(A0)\n  addu  V0, A1, S1\n  lb    V1, 0(V0)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_char)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_char)(AT)\n  sb    V0, 1(A0)\n  addiu S1, S1, 1\n  slt   V0, S1, S2\n  bnez  V0, L8010F6C4\n   sb    R0, 2(A0)\nL8010F70C:\n  lh    V0, 2(S7)\n  sll   V1, V0, 1\n  lui   A0, hi(D_8011259C)\n  addu  A0, A0, V1\n  lh    A0, lo(D_8011259C)(A0)\n  sll   V0, V0, 2\n  addiu V1, S2, 1\n  lui   A1, hi(D_80112584)\n  addu  A1, A1, V0\n  lw    A1, lo(D_80112584)(A1)\n  addiu V0, SP, 0x40\n  sw    V0, 0x10(SP)\n  addiu V0, SP, 0x44\n  sw    V0, 0x14(SP)\n  sw    R0, 0x18(SP)\n  addu  A1, V1, A1\n  addiu A2, SP, 0x38\n  jal   func_80056368\n   addiu A3, SP, 0x3c\n  jal   func_80056458\n   nop\n  lh    V1, 2(S7)\n  li    V0, 4\n  bne   V1, V0, L8010F778\n   nop\n  jal   func_80056458\n   nop\nL8010F778:\n  jal   func_80056144\n   li    S3, -1\n  jal   func_80056168\n   move  S1, R0\n  blez  S2, L8010F7DC\n   move  A1, R0\n  addiu A2, SP, 0x20\n  addu  V0, A2, S1\nL8010F798:\n  lb    V1, 0(V0)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   A0, hi(p1_coins)\n  addu  A0, A0, V0\n  lh    A0, lo(p1_coins)(A0)\n  slt   V0, A1, A0\n  beqz  V0, L8010F7D0\n   addiu S1, S1, 1\n  move  S3, V1\n  move  A1, A0\nL8010F7D0:\n  slt   V0, S1, S2\n  bnez  V0, L8010F798\n   addu  V0, A2, S1\nL8010F7DC:\n  blez  S2, L8010F8DC\n   move  S1, R0\n  addiu S4, SP, 0x20\n  sll   V0, S3, 1\n  addu  V0, V0, S3\n  sll   V0, V0, 2\n  addu  V0, V0, S3\n  sll   S5, V0, 2\n  addu  V0, S4, S1\nL8010F800:\n  lb    A1, 0(V0)\n  sll   V0, A1, 1\n  addu  V0, V0, A1\n  sll   V0, V0, 2\n  addu  V0, V0, A1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slti  V0, V0, 5\n  bnez  V0, L8010F83C\n   addu  S0, S4, S1\n  jal   func_800797DC\n   li    A0, 252\n  addu  S0, S4, S1\nL8010F83C:\n  lb    A0, 0(S0)\n  jal   func_80067170\n   li    A1, 3\n  lb    A0, 0(S0)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   A1, hi(p1_coins)\n  addu  A1, A1, V0\n  lh    A1, lo(p1_coins)(A1)\n  jal   func_8004CA14\n   SUBU A1 R0 A1\n  lb    V0, 0(S0)\n  bne   S3, V0, L8010F89C\n   addu  V0, S4, S1\n  lui   A1, hi(p1_coins)\n  addu  A1, A1, S5\n  lh    A1, lo(p1_coins)(A1)\n  move  A0, S3\n  SUBU  A1 R0 A1\n  j     L8010F8C8\n   li    A2, 1\nL8010F89C:\n  lb    A0, 0(V0)\n  sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   A1, hi(p1_coins)\n  addu  A1, A1, V0\n  lh    A1, lo(p1_coins)(A1)\n  SUBU  A1 R0 A1\n  move  A2, R0\nL8010F8C8:\n  jal   func_8006135C\n   addiu S1, S1, 1\n  slt   V0, S1, S2\n  bnez  V0, L8010F800\n   addu  V0, S4, S1\nL8010F8DC:\n  li    A0, 5\n  jal   func_800508E4\n   li    A1, 2\n  jal   func_8007D9E0\n   li    A0, 30\nL8010F8F0:\n  beqz  FP, L8010F908\n   move  A0, R0\n  lui   A0, hi(D_800F93C6)\n  jal   func_8004655C\n   lh    A0, lo(D_800F93C6)(A0)\n  move  A0, R0\nL8010F908:\n  jal   func_800508E4\n   li    A1, 2\nL8010F910:\n  lw    RA, 0x8c(SP)\n  lw    FP, 0x88(SP)\n  lw    S7, 0x84(SP)\n  lw    S6, 0x80(SP)\n  lw    S5, 0x7c(SP)\n  lw    S4, 0x78(SP)\n  lw    S3, 0x74(SP)\n  lw    S2, 0x70(SP)\n  lw    S1, 0x6c(SP)\n  lw    S0, 0x68(SP)\n  jr    RA\n   addiu SP, SP, 0x90\n\nfunc_8010F940:\n  addiu SP, SP, -0x28\n  sw    RA, 0x24(SP)\n/*  */  sw    S4, 0x20(SP)\n  sw    S3, 0x1c(SP)\n  sw    S2, 0x18(SP)\n  sw    S1, 0x14(SP)\n  li    AT, 0x40C00000 ;6.000000\n  mtc1  AT, F12\n  nop\n  jal   func_8005A358\n   sw    S0, 0x10(SP)\n  move  S3, V0\n  slti  V0, S3, 5\n  beql  V0, R0, L8010F97C\n   li    S3, -1\nL8010F97C:\n  li    V0, -1\n  beql  S3, V0, L8010FB1C\n   li    A0, -1\n  li    A0, 1\n  jal   func_8007FA6C\n   li    A1, 5\n  move  S2, V0\n  sll   V0, S3, 1\n  lui   AT, hi(D_800CAFD8)\n  addu  AT, AT, V0\n  lhu   V0, lo(D_800CAFD8)(AT)\n  sll   V0, V0, 2\n  lui   A0, hi(D_800CCBDC)\n  addu  A0, A0, V0\n  lw    A0, lo(D_800CCBDC)(A0)\n  jal   func_80017680\n   sll   S1, S2, 0x10\n  move  S0, V0\n  jal   func_80082800\n   move  A0, S0\n  move  S4, V0\n  jal   func_80017800\n   move  A0, S0\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  sll   A2, S4, 0x10\n  move  A0, S0\n  move  A1, R0\n  sra   A2, A2, 0x10\n  jal   func_8008218C\n   move  A3, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082384\n   li    A2, 10\n  move  A0, S0\n  move  A1, R0\n  jal   func_8008225C\n   move  A2, R0\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082418\n   li    A2, 4096\n  move  A0, S0\n  move  A1, R0\n  li    A2, 160\n  jal   func_80081AD0\n   li    A3, 90\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   move  A2, R0\n  move  S0, R0\n  sll   A2, S0, 1\nL8010FA54:\n  addu  A2, A2, S0\n  sll   A2, A2, 3\n  addu  A2, A2, S0\n  sra   A0, S1, 0x10\n  move  A1, R0\n  jal   func_80082488\n   andi  A2, A2, 0xffff\n  jal   func_8007DA44\n   addiu S0, S0, 1\n  slti  V0, S0, 0xa\n  bnez  V0, L8010FA54\n   sll   A2, S0, 1\n  sll   S0, S2, 0x10\n  sra   S0, S0, 0x10\n  move  A0, S0\n  move  A1, R0\n  jal   func_80082488\n   li    A2, 256\n  li    A0, -1\n  li    A1, 5\n  jal   func_8005DD68\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 50\n  li    A0, -1\n  li    A1, -1\n  jal   func_8005DD68\n   li    A2, 2\n  jal   func_8007D9E0\n   li    A0, 10\n  sll   A0, S4, 0x10\n  jal   func_80082660\n   sra   A0, A0, 0x10\n  jal   func_8007F8B0\n   move  A0, S0\n  lui   V1, hi(D_800F93C6)\n  lh    V1, lo(D_800F93C6)(V1)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  sll   V1, S3, 1\n  lui   AT, hi(D_800CAFD9)\n  addu  AT, AT, V1\n  lbu   V1, lo(D_800CAFD9)(AT)\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V0\n  j     L8010FB30\n   sb    V1, lo(p1_item)(AT)\nL8010FB1C:\n  li    A1, 3\n  jal   func_8005DD68\n   move  A2, R0\n  jal   func_8007D9E0\n   li    A0, 50\nL8010FB30:\n  lw    RA, 0x24(SP)\n  lw    S4, 0x20(SP)\n  lw    S3, 0x1c(SP)\n  lw    S2, 0x18(SP)\n  lw    S1, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x28\n\noverlaycall4:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  jal   func_80020070\n   li    A0, 2\n  lui   A1, hi(D_80112914)\n  addiu A1, A1, lo(D_80112914)\n  jal   func_80020324\n   li    A0, 1\n  jal   setup_routine\n   nop\n  jal   func_80066C34\n   li    A0, 2\n  lui   A0, hi(func_80102FFC)\n  addiu A0, A0, lo(func_80102FFC)\n  li    A1, 4101\n  li    A2, 4096\n  jal   InitProcess\n   move  A3, R0\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_80111338:\n  addiu SP, SP, -0x18\n  sw    RA, 0x14(SP)\n  jal   func_8005DC30\n   sw    S0, 0x10(SP)\n  sll   V0, V0, 0x10\n  sra   S0, V0, 0x10\n  lui   A0, hi(D_800F93A8)\n  addiu A0, A0, lo(D_800F93A8)\n  sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V0\n  lbu   V0, lo(p1_item)(AT)\n  addiu V0, V0, 1\n  sll   V0, V0, 0x18\n  sra   V1, V0, 0x18\n  sltiu V0, V1, 0xb\n  beqz  V0, L80111548\n   sll   V0, V1, 2\n  lui   AT, hi(D_80113698)\n  addu  AT, AT, V0\n  lw    V0, lo(D_80113698)(AT)\n  jr    V0\n   nop\nD_801113A4:\n  lh    V1, 6(A0)\n  lh    V0, 8(A0)\n  beq   V1, V0, L8011154C\n   li    V0, 1\n  jal   func_8005694C\n   li    A0, 80\n  sll   V0, V0, 0x10\n  bnez  V0, L8011154C\n   li    V0, 1\nD_801113C8:\n  j     L8011154C\n   move  V0, R0\nD_801113D0:\n  lh    V1, 6(A0)\n  lh    V0, 8(A0)\n  beql  V1, V0, L8011154C\n   li    V0, 1\n  lui   A0, hi(D_80112F24)\n  jal   func_80044800\n   addiu A0, A0, lo(D_80112F24)\n  j     func_801114F4\n   sll   V0, V0, 0x10\nD_801113F4:\n  lh    V1, 6(A0)\n  lh    V0, 8(A0)\n  beql  V1, V0, L8011154C\n   li    V0, 1\n  lui   A0, hi(D_80112F84)\n  jal   func_80044800\n   addiu A0, A0, lo(D_80112F84)\n  j     func_801114F4\n   sll   V0, V0, 0x10\nD_80111418:\n  lui   A0, hi(D_80113248)\n  jal   func_80044800\n   addiu A0, A0, lo(D_80113248)\n  j     func_801114F4\n   sll   V0, V0, 0x10\nD_8011142C:\n  move  A0, R0\nL80111430:\n  beq   A0, S0, L80111470\n   sll   V0, A0, 1\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  addu  V0, V0, A0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_item)\n  addu  AT, AT, V0\n  lb    V0, lo(p1_item)(AT)\n  nor   V1, R0, V0\n  sltu  V1, R0, V1\n  xori  V0, V0, 3\n  sltu  V0, R0, V0\n  and   V1, V1, V0\n  bnez  V1, L80111480\n   li    V0, 4\nL80111470:\n  addiu A0, A0, 1\n  slti  V0, A0, 4\n  bnez  V0, L80111430\n   li    V0, 4\nL80111480:\n  bne   A0, V0, L8011154C\n   li    V0, 1\n  j     L8011154C\n   move  V0, R0\nD_80111490:\n  sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  j     func_801114F4\n   slti  V0, V0, 5\nD_801114B8:\n  lui   A0, hi(D_801133BC)\n  jal   func_80044800\n   addiu A0, A0, lo(D_801133BC)\n  sll   V0, V0, 0x10\n  bnez  V0, L8011154C\n   move  V0, R0\n  sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slti  V0, V0, 0x14\nfunc_801114F4:\n  beqz  V0, L8011154C\n   li    V0, 1\n  j     L8011154C\n   move  V0, R0\nD_80111504:\n  sll   V0, S0, 1\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  addu  V0, V0, S0\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slti  V0, V0, 0xa\n  beqz  V0, L8011154C\n   li    V0, 1\n  lui   V0, hi(D_800F93AE)\n  addiu V0, V0, lo(D_800F93AE)\n  lh    V1, 0(V0)\n  lh    V0, 2(V0)\n  bne   V1, V0, L8011154C\n   move  V0, R0\nL80111548:\n  li    V0, 1\nL8011154C:\n  lw    RA, 0x14(SP)\n  lw    S0, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\nfunc_8011155C:\n  addiu SP, SP, -0x40\n  sw    RA, 0x38(SP)\n  sw    S7, 0x34(SP)\n  sw    S6, 0x30(SP)\n  sw    S5, 0x2c(SP)\n  sw    S4, 0x28(SP)\n  sw    S3, 0x24(SP)\n  sw    S2, 0x20(SP)\n  sw    S1, 0x1c(SP)\n  sw    S0, 0x18(SP)\n  lui   S4, hi(D_800F93A8)\n  addiu S4, S4, lo(D_800F93A8)\n  jal   func_8005DC3C\n   li    A0, -1\n  move  S3, V0\n  li    S2, -1\n  lbu   V0, 4(S3)\n  move  V1, V0\n  lui   AT, hi(D_80113588)\n  addu  AT, AT, V0\n  lbu   V0, lo(D_80113588)(AT)\n  blez  V0, L8011167C\n   move  S1, R0\n  lui   S7, hi(D_80113510)\n  addiu S7, S7, lo(D_80113510)\n  li    S6, -1\n  lui   S5, hi(D_80113570)\n  addiu S5, S5, lo(D_80113570)\n  sll   V0, V1, 2\nL801115D0:\n  addu  V0, V0, S7\n  lw    V0, 0(V0)\n  addu  V0, V0, S1\n  lbu   S0, 0(V0)\n  jal   func_80109A78\n   move  A0, S0\n  move  S2, V0\n  beql  S2, S6, L80111660\n   addiu S1, S1, 1\n  lui   A0, hi(D_800CC000)\n  addu  A0, A0, S0\n  lbu   A0, lo(D_800CC000)(A0)\n  addiu A0, A0, 0x14\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slt   V0, V0, A0\n  bnel  V0, R0, L80111660\n   addiu S1, S1, 1\n  lbu   V0, 4(S3)\n  sll   V0, V0, 2\n  addu  V0, V0, S5\n  lw    V0, 0(V0)\n  addu  V0, V0, S1\n  jal   func_8005694C\n   lb    A0, 0(V0)\n  sll   V0, V0, 0x10\n  bnez  V0, L8011167C\n   nop\n  addiu S1, S1, 1\nL80111660:\n  lbu   V1, 4(S3)\n  lui   V0, hi(D_80113588)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_80113588)(V0)\n  slt   V0, S1, V0\n  bnez  V0, L801115D0\n   sll   V0, V1, 2\nL8011167C:\n  lbu   V0, 4(S3)\n  lui   AT, hi(D_80113588)\n  addu  AT, AT, V0\n  lbu   V0, lo(D_80113588)(AT)\n  beql  S1, V0, L80111694\n   li    S2, -1\nL80111694:\n  li    V0, -1\n  beq   S2, V0, L801116FC\n   nop\n  jal   func_80109A78\n   li    A0, 9\n  beq   V0, S2, L801118AC\n   addiu V0, S2, 1\n  jal   func_80109A78\n   li    A0, 7\n  bne   V0, S2, L801116FC\n   nop\n  lui   A0, hi(D_800CC007)\n  lbu   A0, lo(D_800CC007)(A0)\n  addiu A0, A0, 0x32\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slt   V0, V0, A0\n  beqz  V0, L801118AC\n   addiu V0, S2, 1\nL801116FC:\n  lui   A0, hi(D_8011341C)\n  jal   func_80044800\n   addiu A0, A0, lo(D_8011341C)\n  sll   V0, V0, 0x10\n  bnez  V0, L80111768\n   li    V0, -1\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  lui   V1, hi(D_800CC001)\n  lbu   V1, lo(D_800CC001)(V1)\n  slt   V0, V0, V1\n  bnez  V0, L80111768\n   li    V0, -1\n  jal   func_80109A78\n   li    A0, 1\n  move  V1, V0\n  li    V0, -1\n  bne   V1, V0, L801118AC\n   addiu V0, V1, 1\n  li    V0, -1\nL80111768:\n  bne   S2, V0, L801118AC\n   addiu V0, S2, 1\n  lui   A0, hi(D_80113434)\n  jal   func_80044800\n   addiu A0, A0, lo(D_80113434)\n  sll   V0, V0, 0x10\n  sra   S1, V0, 0x10\n  bnez  S1, L80111864\n   nop\n  lbu   V0, 4(S3)\n  move  V1, V0\n  lui   AT, hi(D_80113588)\n  addu  AT, AT, V0\n  lbu   V0, lo(D_80113588)(AT)\n  slt   V0, S1, V0\n  beqz  V0, L80111864\n   sll   V0, V1, 2\n  lui   S7, hi(D_80113510)\n  addiu S7, S7, lo(D_80113510)\n  li    S6, -1\n  lui   S5, hi(D_80113570)\n  addiu S5, S5, lo(D_80113570)\nL801117C0:\n  addu  V0, V0, S7\n  lw    V0, 0(V0)\n  addu  V0, V0, S1\n  lbu   S0, 0(V0)\n  jal   func_80109A78\n   move  A0, S0\n  move  S2, V0\n  beql  S2, S6, L80111848\n   addiu S1, S1, 1\n  lui   A0, hi(D_800CC000)\n  addu  A0, A0, S0\n  lbu   A0, lo(D_800CC000)(A0)\n  lh    V1, 0x1e(S4)\n  sll   V0, V1, 1\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  addu  V0, V0, V1\n  sll   V0, V0, 2\n  lui   AT, hi(p1_coins)\n  addu  AT, AT, V0\n  lh    V0, lo(p1_coins)(AT)\n  slt   V0, V0, A0\n  bnel  V0, R0, L80111848\n   addiu S1, S1, 1\n  lbu   V0, 4(S3)\n  sll   V0, V0, 2\n  addu  V0, V0, S5\n  lw    V0, 0(V0)\n  addu  V0, V0, S1\n  jal   func_8005694C\n   lb    A0, 0(V0)\n  sll   V0, V0, 0x10\n  bnez  V0, L801118A8\n   addiu S1, S1, 1\nL80111848:\n  lbu   V1, 4(S3)\n  lui   V0, hi(D_80113588)\n  addu  V0, V0, V1\n  lbu   V0, lo(D_80113588)(V0)\n  slt   V0, S1, V0\n  bnez  V0, L801117C0\n   sll   V0, V1, 2\nL80111864:\n  lh    V1, 2(S4)\n  li    V0, 4\n  bne   V1, V0, L80111888\n   li    V0, 1\n  lui   AT, hi(D_801134C4)\n  jal   func_80109AE4\n   sw    V0, lo(D_801134C4)(AT)\n  j     L801118AC\n   addiu V0, V0, 2\nL80111888:\n  jal   func_80109A78\n   move  A0, R0\n  move  S2, V0\n  li    V0, -1\n  bne   S2, V0, L801118AC\n   addiu V0, S2, 1\n  j     L801118AC\n   li    V0, 1\nL801118A8:\n  addiu V0, S2, 1\nL801118AC:\n  lw    RA, 0x38(SP)\n  lw    S7, 0x34(SP)\n  lw    S6, 0x30(SP)\n  lw    S5, 0x2c(SP)\n  lw    S4, 0x28(SP)\n  lw    S3, 0x24(SP)\n  lw    S2, 0x20(SP)\n  lw    S1, 0x1c(SP)\n  lw    S0, 0x18(SP)\n  jr    RA\n   addiu SP, SP, 0x40\n\nfunc_801118D8:\n  addiu SP, SP, -0x18\n  sw    RA, 0x10(SP)\n  lui   V0, hi(D_801134C4)\n  lw    V0, lo(D_801134C4)(V0)\n  bnel  V0, R0, L8011190C\n   li    V0, 2\n  lui   A0, hi(D_801134A0)\n  jal   func_80044800\n   addiu A0, A0, lo(D_801134A0)\n  sll   V0, V0, 0x10\n  sra   V0, V0, 0x10\n  j     L80111914\n   addiu V0, V0, 1\nL8011190C:\n  lui   AT, hi(D_801134C4)\n  sw    R0, lo(D_801134C4)(AT)\nL80111914:\n  lw    RA, 0x10(SP)\n  jr    RA\n   addiu SP, SP, 0x18\n\n.align 16\n\n; data\n\nD_80111920:\n.halfword 0, 0\n.word overlaycall0\n.halfword 1, 0\n.word overlaycall1\n.halfword 2, 0\n.word overlaycall2\n.halfword 3, 0\n.word overlaycall3\n.halfword 4, 0\n.word overlaycall4\n.halfword -1, 0\n\n.align 16\n\n; probably relates to star selection order.\nshuffle_order:\n.halfword ").concat(d.order.join(","),"\n.align 4\n\nshuffle_bias:\n.halfword ").concat(d.bias.join(","),"\n.align 4\n\nD_80111970:\n.halfword 0x0006 0xFFFF\n.align 4\n\nD_80111974:\n.halfword 0x0046 0x0047 0x0048 0x0049 0x004A 0x004B 0x004C 0x0000\n.align 4\n\nD_80111984:\n.halfword ").concat(u.join(",")||0,"\n.align 4\n\n; Toads stand on these spaces\nD_80111994:\n.halfword ").concat(f.join(",")||0,'\n.align 4\n\n; Toad faces\nD_801119A4: .halfword 0x0008 0x0039\n\nD_801119A8: .halfword 0x0008 0x003A\n\n;toad animation speed "By the way, Baby Bowser is over here..."\nD_801119AC:\n.word 0x40A00000\n.word 0x40A00000\n.word 0x40000000\n.word 0x40000000\n.word 0x40400000\n.word 0x40A00000\n.word 0x40A00000\n.word 0x40A00000\n.word 0x40A00000\n\nD_801119D0: .word 0x00000000\n\nD_801119D4:\n.word 0x3C465055\n.word 0x46505A5F\n.word 0x505A5F5F\n\nD_801119E0: .word 0x00000000\n\n; hidden blocks cant spawn on these blue spaces\nD_801119E4: .halfword -1\n.align 4\n\n; star spaces that you walk over\nD_801119F4:\n.halfword ').concat(u.join(",")||0," 0xFFFF\n.align 4\n\nD_80111A04: .halfword 0x0003\nD_80111A06: .halfword 0xFFFC\nD_80111A08: .halfword 0xFFFE\nD_80111A0A: .halfword 0xFFFE\nD_80111A0C: .halfword 0x0002\nD_80111A0E: .halfword 0xFFFA\nD_80111A10: .halfword 0x0000\nD_80111A12: .halfword 0x0000\nD_80111A14: .halfword 0x0000\nD_80111A16: .halfword 0xFFFC\nD_80111A18: .halfword 0x0004\nD_80111A1A: .halfword 0x0000\nD_80111A1C: .halfword 0x0001\nD_80111A1E: .halfword 0xFFFA\n\nD_80111A20: .halfword 0xFFFE\nD_80111A22: .halfword 0x0000\nD_80111A24: .halfword 0x0002\nD_80111A26: .halfword 0x0000\n\nD_80111A28: .halfword 0x0000\nD_80111A2A: .halfword 0xFFFE\nD_80111A2C: .halfword 0x0004\nD_80111A2E: .halfword 0x0000\n\nD_80111A30: .halfword 0x0000\nD_80111A32: .halfword 0xFFFC\n\nD_80111A34: .halfword 0x0000\nD_80111A36: .halfword 0x0000\nD_80111A38: .halfword 0x0000\nD_80111A3A: .halfword 0xFFFD\n\n; gate related\nD_80111A3C: .halfword 0x00A9\n\nD_80111A3E: .halfword 0x0031\nD_80111A40: .halfword 0x00AA\nD_80111A42: .halfword 0x0029\n\nD_80111A44:\n.halfword ").concat(f.join(",")||0,"\n.align 4\n\nD_80111A54:\n.halfword 0x0046 0x0047 0x0048 0x0049 0x004A 0x004B 0x004C 0x0000\n\nD_80111A64: .word 0xFFFFFFFF\n\nD_80111A68:\n.halfword ").concat(O.join(","),"\n.align 4\n\nD_80111A6C:\n.halfword ").concat(V.join(","),"\n.align 4\n\n; bank coin coordinates?\nD_80111A70:\n.word 0x00000000 0x00000000 0x00000000 0xC0400000\n.word 0x40000000 0xC0000000 0x3F800000 0x40B00000\n.word 0xC0400000 0x40600000 0x41000000 0x40800000\n.word 0xBF800000 0x41400000 0x41300000\n\nD_80111AAC: .word 0x00000000 0x00000000\n\nD_80111AB4:\n.word 0x00000000 0x00000000 0x00000000 0x00000000\n.word 0xC1700000 0x00000000 0x00000000 0x41A00000\n.word 0x00000000 0xC1F00000 0x42340000 0x00000000 0x42340000\n\n; gate spaces\nD_80111AE8:\n.halfword 0x0094 0x0095\n\nD_80111AEC: .byte 0x00\nD_80111AED: .byte 0x73\nD_80111AEE: .halfword 0x007C\nD_80111AF0: .halfword 0x0080\nD_80111AF2: .halfword 0x0081\nD_80111AF4: .halfword 0x0082\nD_80111AF6: .halfword 0x0083\n\nD_80111AF8: .word 0x0000039B\nD_80111AFC: .word 0x000003B0\nD_80111B00: .word 0x000003CF\nD_80111B04: .word 0x000003CA\nD_80111B08: .word 0x000003F0\nD_80111B0C: .word 0x00000405\nD_80111B10: .word 0xFFFFFFFF\nD_80111B14: .word 0xFFFFFFFF\nD_80111B18: .word 0xFFFFFFFF\n\nD_80111B1C: .halfword 0xFFFF\n\nD_80111B1E: .halfword 0xFFFF\n\nD_80111B20: .word 0xFFFFFFFF\nD_80111B24: .word 0xFFFFFFFF\nD_80111B28: .word 0xFFFFFFFF\nD_80111B2C: .word 0x000003F1\nD_80111B30: .word 0xFFFFFFFF\nD_80111B34: .word 0xFFFFFFFF\nD_80111B38: .word 0xFFFFFFFF\nD_80111B3C: .word 0xFFFFFFFF\n\nD_80111B40: .word 0xFFFFFFFF\nD_80111B44: .word 0xFFFFFFFF\nD_80111B48: .word 0xFFFFFFFF\nD_80111B4C: .word 0xFFFFFFFF\nD_80111B50: .word 0x00000028\nD_80111B54: .word 0xFFFFFFFF\nD_80111B58: .word 0xFFFFFFFF\nD_80111B5C: .word 0xFFFFFFFF\nD_80111B60: .word 0xFFFFFFFF\n\nD_80111B64: .word 0x0000039C\nD_80111B68: .word 0xFFFFFFFF\nD_80111B6C: .word 0x000003D0\nD_80111B70: .word 0xFFFFFFFF\nD_80111B74: .word 0xFFFFFFFF\nD_80111B78: .word 0xFFFFFFFF\nD_80111B7C: .word 0xFFFFFFFF\nD_80111B80: .word 0xFFFFFFFF\nD_80111B84: .word 0xFFFFFFFF\n\n; bank model spaces\nD_80111B88:\n.halfword ").concat(E.join(","),"\n.align 4\n\n; shop model spaces\nD_80111B8C:\n.halfword ").concat(R.join(","),"\n.align 4\n\n; train related somehow\nD_80111B90:\n.halfword 0x0013, 0x0014, 0x0015, 0\n.align 4\n\nD_80111B98: .word 0x002D0034 0x00350036 0x00370038 0x0039003A 0x003B003D 0x003E003F 0x00400041\n.align 4\n\nD_80111BB4: .word 0x00440045 0x00460048 0x0049004A 0x004B004C 0x004D004E 0x004F0050 0x00520000\n.align 4\n\nD_80111BD0: .word 0x00550056 0x00570058 0x0059005A 0x005B005D 0x005E005F 0x00600061 0x0065005C 0x00670072 0x007D0000\n.align 4\n\nD_80111BF4:\n.word D_80111B98\n.word D_80111BB4\n.word D_80111BD0\n\nD_80111C00: .word 0x41A00000\n\nD_80111C04: .word 0x00000000\n\nD_80111C08: .word 0x00000000\nD_80111C0C: .word 0x00000000\nD_80111C10: .word 0x00000000\nD_80111C14: .word 0x41A00000\nD_80111C18: .word 0xC1A00000\nD_80111C1C: .word 0x00000000\nD_80111C20: .word 0x00000000\n\n; AI table(s)\nD_80111C24: .word 0x04000000 0x00000000 0x00006446\nD_80111C30: .word 0x00000000 0x00000000 0x00003232\nD_80111C3C: .word 0x02000000 0x00000001 0x00006446\nD_80111C48: .word 0x02000000 0x00000054 0x00016446\nD_80111C54: .word 0x02000000 0x0000000A D_80111C24\nD_80111C60: .word 0x00000000 0x00000000 0x00003232\nD_80111C6C: .word 0x02000000 0x00000008 0x00016446\nD_80111C78: .word 0x09000000 0x00000008 0x00006446\nD_80111C84: .word 0x00000000 0x00000000 0x00003232\n\n; an AI decision tree\nD_80111F60:\n.word 0x00000000 0x00000000 0x00003232\n\n; an AI decision tree\nD_80111F6C:\n.word 0x0E000000 0x00080007 0x00003232\n.word 0x00000000 0x00000000 0x00004646\nD_80111F84:\n.word 0x0E000000 0x00020012 D_80111F6C\n.word 0x00000000 0x00000000 0x00014646\n\nD_80112160: .word 0x02000000 0x0000000E 0x00016464\nD_8011216C: .word 0x00000000 0x00000000 0x00006464\nD_80112178: .word 0x02000000 0x00000040 0x00016464\nD_80112184: .word 0x10000000 0x00000001 D_80112160\nD_80112190: .word 0x00000000 0x00000000 0x00006464\n\nD_801122A4: .byte 0x02 0x05 0x0F 0x14\n\nD_801122A8:\n.word 0x00010001 func_80108E0C\n.word 0 0\n\nD_801122B8:\n.word 0x00010001 func_8010964C\n.word 0 0\n\nD_801122C8: .word 0x00000101\nD_801122CC: .word 0x01020303\nD_801122D0: .word 0x04050606\n\nD_801122D4: .word 0x01061001\nD_801122D8: .word 0x0B150110\nD_801122DC: .word 0x24000000\n\nD_801122E0: .word 0x0001FFFF\nD_801122E4: .word 0xFF000106\nD_801122E8: .word 0xFFFF0001\nD_801122EC: .word 0x0206FF00\nD_801122F0: .word 0x010406FF\nD_801122F4: .word 0x00010204\nD_801122F8: .word 0x06000104\nD_801122FC: .word 0x05060001\nD_80112300: .word 0x05060900\n\nD_80112304: .word 0x000001F2\nD_80112308: .word 0x000001F3\nD_8011230C: .word 0x000001F4\nD_80112310: .word 0x000001F5\nD_80112314: .word 0x000001F6\nD_80112318: .word 0x000001F7\nD_8011231C: .word 0x000001F8\n\nD_80112320: .word 0x00010001 func_80109B30\nD_80112328: .word 0x00000000 0x00000000\n\nD_80112330: .word 0x01020300\nD_80112334: .word 0x02030001\nD_80112338: .word 0x03000102\n\nD_8011233C: .word 0x42980000\n\nD_80112340: .word 0x42500000\nD_80112344: .word 0x43740000\nD_80112348: .word 0x42500000\nD_8011234C: .word 0x42980000\nD_80112350: .word 0x43400000\nD_80112354: .word 0x43740000\nD_80112358: .word 0x43400000\n\nD_8011235C: .word 0xBF800000\nD_80112360: .word 0xBF800000\nD_80112364: .word 0x3F800000\nD_80112368: .word 0xBF800000\nD_8011236C: .word 0xBF800000\nD_80112370: .word 0x3F800000\nD_80112374: .word 0x3F800000\nD_80112378: .word 0x3F800000\n\nD_8011237C: .word 0x00000086\nD_80112380: .word 0x00000087\nD_80112384: .word 0x00000088\nD_80112388: .word 0x00000089\nD_8011238C: .word 0x0000008A\nD_80112390: .word 0x0000008B\n\nD_80112394: .byte 0x01\nD_80112395: .byte 0x05\nD_80112396: .byte 0x0F\nD_80112397: .byte 0x06\nD_80112398: .word 0x0F191019\nD_8011239C: .word 0x1B1A231E\nD_801123A0: .word 0x242D202E\nD_801123A4: .word 0x32230000\n\nD_801123A8: .byte 0\nD_801123A9: .byte 0\nD_801123AA: .byte 0\nD_801123AB: .byte 1\nD_801123AC: .word 0x0A010B0B\nD_801123B0: .word 0x040C1402\nD_801123B4: .word 0x15150416\nD_801123B8: .word 0x1E031F28\nD_801123BC: .word 0x04292C05\nD_801123C0: .word 0x2D2E0233\nD_801123C4: .word 0x3806393D\nD_801123C8: .word 0x053E4607\nD_801123CC: .word 0x47470848\nD_801123D0: .word 0xFF090000\n\nD_801123D4: .byte 0x01\nD_801123D5: .byte 0x05\nD_801123D6: .byte 0x06\nD_801123D7: .byte 0x09\n\nD_801123D8: .word 0x0701050A\nD_801123DC: .word 0x0C080105\nD_801123E0: .word 0x0D0E0901\nD_801123E4: .word 0x050F0F0A\nD_801123E8: .word 0x060F1013\nD_801123EC: .word 0x07060F14\nD_801123F0: .word 0x1608060F\nD_801123F4: .word 0x17180906\nD_801123F8: .word 0x0F19190A\nD_801123FC: .word 0x10191215\nD_80112400: .word 0x07101916\nD_80112404: .word 0x18081019\nD_80112408: .word 0x191A0910\nD_8011240C: .word 0x191B1B0A\nD_80112410: .word 0x1A231518\nD_80112414: .word 0x071A2319\nD_80112418: .word 0x1B081A23\nD_8011241C: .word 0x1C1D091A\nD_80112420: .word 0x231E1E0A\nD_80112424: .word 0x242D171A\nD_80112428: .word 0x07242D1B\nD_8011242C: .word 0x1D08242D\nD_80112430: .word 0x1E1F0924\nD_80112434: .word 0x2D20200A\nD_80112438: .word 0x2E321A1D\n\nD_8011243C: .byte 0x07\nD_8011243D: .byte 0x2E\n\nD_8011243E: .byte 0x32\nD_8011243F: .byte 0x1E\nD_80112440: .word 0x20082E32\nD_80112444: .word 0x2122092E\nD_80112448: .word 0x3223230A\nD_8011244C: .word 0x06BB06BC\nD_80112450: .word 0x06BD06BE\n\n;D_80112454:\n;.word 0x00010001 func_8010BA48\n;.word 0 0\n\n;D_80112464:\n;.word 0x00010001 func_8010C44C\n;.word 0 0\n\n;D_80112474:\n;.word 0x00010001 func_8010C468\n;.word 0 0\n\n; An event table\n; D_80112484:\n; .word 0x00370000 D_801122A8 ; star spaces\n; .word 0x00480000 D_801122A8\n; .word 0x00870000 D_801122A8\n; .word 0x008E0000 D_801122A8\n; .word 0x007E0000 D_801122A8\n; .word 0x005A0000 D_801122A8\n; .word 0x002F0000 D_801122A8\n; .word 0x008A0000 D_801122B8 ; bank spaces\n; .word 0x005E0000 D_801122B8\n; .word 0x00A70000 D_80112320 ; item space\n; .word 0x00940000 D_80112464 ; gate\n; .word 0x00950000 D_80112474 ; gate\n; .word 0xFFFF0000 0\n\n; An event table\n; D_801124EC:\n; .word 0x00AF0000 D_80112454 ; boos\n; .word 0x00B40000 D_80112454\n; .word 0xFFFF0000 0\n\n.align 8\nD_80112504: .word 0x42D80000\nD_80112508: .word 0x42240000\n.word 0x43740000\n.word 0x42240000\n.word 0x42D80000\n.word 0x43510000\n.word 0x43740000\n.word 0x43510000\n\nD_80112524: .word 0x43240000\nD_80112528: .word 0x42980000\n.word 0x430C0000\n.word 0x42980000\n.word 0x43240000\n.word 0x42980000\n.word 0x430C0000\n.word 0x42980000\n\nD_80112544: .word 0x43040000\nD_80112548: .word 0x42780000\n.word 0x435C0000\n.word 0x42780000\n.word 0x43040000\n.word 0x43340000\n.word 0x435C0000\n.word 0x43340000\n\nD_80112564: .word 0x43240000\nD_80112568: .word 0x42840000\n.word 0x430C0000\n.word 0x42840000\n.word 0x43240000\n.word 0x42840000\n.word 0x430C0000\n.word 0x42840000\n\nD_80112584:\n.word 0x000002C5\n.word 0x000002DC\n.word 0x000002FA\n.word 0x00000317\n.word 0x00000337\n.word 0x00000357\n\nD_8011259C:\n.word 0x001A001B\n.word 0x0024001E\n.word 0x00230025\n\nD_801125A8: .word 0x0F000000 0x00000028 0x00003214\nD_801125B4: .word 0x00000000 0x00000000 0x00003C1E\nD_801125C0: .word 0x0E000000 0x0002000A D_801125A8\nD_801125CC: .word 0x00000000 0x00000000 0x00000514\nD_801125D8: .word 0x0E000000 0x00040002 D_801125A8\nD_801125E4: .word 0x0E000000 0x00030005 D_801125A8\nD_801125F0: .word 0x0E000000 0x000E0006 D_801125A8\nD_801125FC: .word 0x00000000 0x00000000 0x00000514\nD_80112608: .word 0x0E000000 0x000E0002 D_801125A8\nD_80112614: .word 0x0E000000 0x000C0002 D_801125A8\nD_80112620: .word 0x0E000000 0x000B0007 D_801125A8\nD_8011262C: .word 0x0E000000 0x00090004 D_801125A8\nD_80112638: .word 0x00000000 0x00000000 0x00000514\nD_80112644: .word 0x00000000 0x00000000 0x0000000A\nD_80112650: .word 0x0E000000 0x000B0004 D_801125A8\nD_8011265C: .word 0x0E000000 0x00080007 D_801125A8\nD_80112668: .word 0x00000000 0x00000000 0x00000514\nD_80112674: .word 0x0E000000 0x00160304 D_801125A8\nD_80112680: .word 0x0E000000 0x00110001 D_801125A8\nD_8011268C: .word 0x0E000000 0x00100004 D_801125A8\nD_80112698: .word 0x00000000 0x00000000 0x00000514\nD_801126A4: .word 0x0E000000 0x00120005 D_801125A8\nD_801126B0: .word 0x00000000 0x00000000 0x00000514\nD_801126BC: .word 0x02000000 0x00000001 D_801125C0\nD_801126C8: .word 0x02000000 0x00000002 D_801125D8\nD_801126D4: .word 0x02000000 0x00000004 D_80112608\nD_801126E0: .word 0x02000000 0x00000008 D_80112644\nD_801126EC: .word 0x02000000 0x00000010 D_80112650\nD_801126F8: .word 0x02000000 0x00000020 D_80112674\nD_80112704: .word 0x02000000 0x00000040 D_801126A4\nD_80112710: .word 0x00000000 0x00000000 0x00003232\n\nD_80112760: .word 0x41A00000\nD_80112764: .word 0xC0A00000\n.word 0x41F00000\n.word 0xC0A00000\n.word 0x41A00000\n.word 0x40A00000\n.word 0x41F00000\n.word 0x40A00000\n\nD_80112780: .word 0x02000000 0x0000006A 0x00006446\nD_8011278C: .word 0x02000000 0x00000001 0x0001645A\nD_80112798: .word 0x00000000 0x00000000 0x00003232\nD_801127A4: .word 0x02000000 0x00000075 0x00006446\nD_801127B0: .word 0x02000000 0x00000008 0x0001645A\nD_801127BC: .word 0x00000000 0x00000000 0x00003232\nD_801127C8: .word 0x02000000 0x00000001 0x00006446\nD_801127D4: .word 0x02000000 0x00000060 0x0001645A\nD_801127E0: .word 0x00000000 0x00000000 0x00003232\n\nD_80112914: .word 0x00000000\n.word 0x00000000\n.word 0x43A00000\n.word 0x43700000\n\nD_80112924: .word 0x0F000000 0x00000019 0x0000001E\nD_80112930: .word 0x04000000 0x00000002 0x00005A3C\nD_8011293C: .word 0x00000000 0x00000000 0x00000A1E\nD_80112948: .word 0x0D000000 0x00170206 D_80112924\nD_80112954: .word 0x0D000000 0x00050004 D_80112924\nD_80112960: .word 0x0D000000 0x00060002 D_80112924\nD_8011296C: .word 0x0F000000 0x00000014 0x0000001E\nD_80112978: .word 0x0D000000 0x00020004 0x00005A3C\nD_80112984: .word 0x0D000000 0x00010003 0x00005A3C\nD_80112990: .word 0x0D000000 0x00070005 0x00005A3C\nD_8011299C: .word 0x0D000000 0x00000001 0x00005A3C\nD_801129A8: .word 0x00000000 0x00000000 0x00000A1E\nD_801129B4: .word 0x0F000000 0x00000019 0x0000001E\nD_801129C0: .word 0x04000000 0x00000000 0x00005A3C\nD_801129CC: .word 0x00000000 0x00000000 0x00000A1E\nD_801129D8: .word 0x0F000000 0x0000001E 0x0000001E\nD_801129E4: .word 0x0D000000 0x000E0002 0x00005A3C\nD_801129F0: .word 0x0D000000 0x000C0002 0x00005A3C\nD_801129FC: .word 0x0D000000 0x000B0007 0x00005A3C\nD_80112A08: .word 0x00000000 0x00000000 0x00000A1E\nD_80112A14: .word 0x0F000000 0x0000001E 0x0000001E\nD_80112A20: .word 0x0D000000 0x000B0004 0x00005A3C\nD_80112A2C: .word 0x00000000 0x00000000 0x00000A1E\nD_80112A38: .word 0x0D000000 0x00020004 D_801129B4\nD_80112A44: .word 0x0D000000 0x00010004 D_801129B4\nD_80112A50: .word 0x0D000000 0x00000001 D_801129B4\nD_80112A5C: .word 0x0D000000 0x00070205 D_801129B4\nD_80112A68: .word 0x0F000000 0x00000005 0x00000000\nD_80112A74: .word 0x0D000000 0x00020610 0x00005A3C\nD_80112A80: .word 0x0F000000 0x00000014 0x0000001E\nD_80112A8C: .word 0x0D000000 0x00030003 0x00005A3C\nD_80112A98: .word 0x0D000000 0x00021112 0x00005A3C\nD_80112AA4: .word 0x0D000000 0x000A0005 0x00005A3C\nD_80112AB0: .word 0x0F000000 0x00000019 0x0000001E\nD_80112ABC: .word 0x0D000000 0x000E0304 0x00005A3C\nD_80112AC8: .word 0x0D000000 0x00090004 0x00005A3C\nD_80112AD4: .word 0x09000000 0x00000004 D_801129D8\nD_80112AE0: .word 0x0D000000 0x000E0002 0x00005A3C\nD_80112AEC: .word 0x0D000000 0x000C0002 0x00005A3C\nD_80112AF8: .word 0x0D000000 0x000B0507 0x00005A3C\nD_80112B04: .word 0x09000000 0x00000010 D_80112A14\nD_80112B10: .word 0x0D000000 0x000B0004 0x00005A3C\nD_80112B1C: .word 0x00000000 0x00000000 0x00000A1E\nD_80112B28: .word 0x0F000000 0x00000019 0x0000001E\nD_80112B34: .word 0x0D000000 0x000B0004 0x00005A3C\nD_80112B40: .word 0x00000000 0x00000000 0x00000A1E\nD_80112B4C: .word 0x0F000000 0x00000014 0x0000001E\nD_80112B58: .word 0x0D000000 0x00090004 0x00005A3C\nD_80112B64: .word 0x0D000000 0x00080007 0x00005A3C\nD_80112B70: .word 0x09000000 0x00000010 D_80112B28\nD_80112B7C: .word 0x0D000000 0x000B0004 0x00005A3C\nD_80112B88: .word 0x00000000 0x00000000 0x00000A1E\nD_80112B94: .word 0x0F000000 0x0000001E 0x0000001E\nD_80112BA0: .word 0x04000000 0x00000000 0x00005A3C\nD_80112BAC: .word 0x00000000 0x00000000 0x00000A1E\nD_80112BB8: .word 0x09000000 0x00000002 D_80112B94\nD_80112BC4: .word 0x0F000000 0x00000019 0x0000001E\nD_80112BD0: .word 0x04000000 0x00000000 0x00005A3C\nD_80112BDC: .word 0x00000000 0x00000000 0x00000A1E\nD_80112BE8: .word 0x0F000000 0x00000023 0x0000001E\nD_80112BF4: .word 0x0D000000 0x000E0002 0x00005A3C\nD_80112C00: .word 0x0D000000 0x000C0002 0x00005A3C\nD_80112C0C: .word 0x0D000000 0x000B0507 0x00005A3C\nD_80112C18: .word 0x00000000 0x00000000 0x00000A1E\nD_80112C24: .word 0x0F000000 0x0000001E 0x0000001E\nD_80112C30: .word 0x0D000000 0x000E0002 0x00005A3C\nD_80112C3C: .word 0x0D000000 0x000C0002 0x00005A3C\nD_80112C48: .word 0x0D000000 0x000B0507 0x00005A3C\nD_80112C54: .word 0x00000000 0x00000000 0x00000A1E\nD_80112C60: .word 0x0F000000 0x00000019 0x0000001E\nD_80112C6C: .word 0x0D000000 0x00030005 0x00005A3C\nD_80112C78: .word 0x0D000000 0x00040002 0x00005A3C\nD_80112C84: .word 0x0D000000 0x000A0005 0x00005A3C\nD_80112C90: .word 0x0D000000 0x00021112 0x00005A3C\nD_80112C9C: .word 0x0D000000 0x000E0506 0x00005A3C\nD_80112CA8: .word 0x0F000000 0x0000001E 0x0000001E\nD_80112CB4: .word 0x0D000000 0x000E0304 0x00005A3C\nD_80112CC0: .word 0x09000000 0x00000004 D_80112BE8\nD_80112CCC: .word 0x0D000000 0x000E0002 0x00005A3C\nD_80112CD8: .word 0x0D000000 0x000C0002 0x00005A3C\nD_80112CE4: .word 0x0D000000 0x000B0507 0x00005A3C\nD_80112CF0: .word 0x00000000 0x00000000 0x00000A1E\nD_80112CFC: .word 0x0D000000 0x00020004 D_80112BB8\nD_80112D08: .word 0x0D000000 0x00010004 D_80112BB8\nD_80112D14: .word 0x0F000000 0x00000005 0x00000000\nD_80112D20: .word 0x0D000000 0x00020C10 0x00005A3C\nD_80112D2C: .word 0x0F000000 0x00000014 0x0000001E\nD_80112D38: .word 0x09000000 0x00000002 D_80112C60\nD_80112D44: .word 0x0D000000 0x00030005 0x00005A3C\nD_80112D50: .word 0x0D000000 0x00040002 0x00005A3C\nD_80112D5C: .word 0x0D000000 0x000A0005 0x00005A3C\nD_80112D68: .word 0x0D000000 0x00021112 0x00005A3C\nD_80112D74: .word 0x0D000000 0x000E0506 0x00005A3C\nD_80112D80: .word 0x0F000000 0x00000019 0x0000001E\nD_80112D8C: .word 0x0D000000 0x000E0304 0x00005A3C\nD_80112D98: .word 0x09000000 0x00000004 D_80112C24\nD_80112DA4: .word 0x0D000000 0x000E0002 0x00005A3C\nD_80112DB0: .word 0x0D000000 0x000C0002 0x00005A3C\nD_80112DBC: .word 0x0D000000 0x000B0507 0x00005A3C\nD_80112DC8: .word 0x00000000 0x00000000 0x00000A1E\nD_80112DD4: .word 0x0F000000 0x00000014 0x0000001E\nD_80112DE0: .word 0x0D000000 0x00080007 0x00005A3C\nD_80112DEC: .word 0x0D000000 0x00010003 0x00005A3C\nD_80112DF8: .word 0x0D000000 0x00000001 0x00005A3C\nD_80112E04: .word 0x0D000000 0x00070005 0x00005A3C\nD_80112E10: .word 0x00000000 0x00000000 0x00000A1E\nD_80112E1C: .word 0x0F000000 0x00000019 0x0000001E\nD_80112E28: .word 0x04000000 0x00000001 0x00005A3C\nD_80112E34: .word 0x00000000 0x00000000 0x00000A1E\nD_80112E40: .word 0x0F000000 0x0000000A 0x00000000\nD_80112E4C: .word 0x0D000000 0x00170001 0x00005A3C\nD_80112E58: .word 0x00000000 0x00000000 0x00000A1E\nD_80112E64: .word 0x0D000000 0x00030003 D_80112E1C\nD_80112E70: .word 0x0D000000 0x000A0005 D_80112E1C\nD_80112E7C: .word 0x0D000000 0x00020B12 D_80112E1C\nD_80112E88: .word 0x0F000000 0x00000005 0x00000000\nD_80112E94: .word 0x0D000000 0x00060006 0x00005A3C\nD_80112EA0: .word 0x0D000000 0x00050004 0x00005A3C\nD_80112EAC: .word 0x0D000000 0x00040307 0x00005A3C\nD_80112EB8: .word 0x0D000000 0x00170206 0x00005A3C\nD_80112EC4: .word 0x09000000 0x00000008 D_80112E40\nD_80112ED0: .word 0x0D000000 0x00170001 0x00005A3C\nD_80112EDC: .word 0x0F000000 0x00000014 0x0000001E\nD_80112EE8: .word 0x0D000000 0x00100003 0x00005A3C\nD_80112EF4: .word 0x00000000 0x00000000 0x00000A1E\nD_80112F00: .word 0x0D000000 0x00090001 0x00005A3C\nD_80112F0C: .word 0x0D000000 0x00080007 0x00005A3C\nD_80112F18: .word 0x00000000 0x00000000 0x00000A1E\nD_80112F24: .word 0x02000000 0x00000001 D_80112948\nD_80112F30: .word 0x02000000 0x00000002 D_80112A38\nD_80112F3C: .word 0x02000000 0x00000004 D_80112B4C\nD_80112F48: .word 0x02000000 0x00000008 D_80112CFC\nD_80112F54: .word 0x02000000 0x00000010 D_80112DD4\nD_80112F60: .word 0x02000000 0x00000020 D_80112E64\nD_80112F6C: .word 0x02000000 0x00000040 D_80112F00\nD_80112F78: .word 0x00000000 0x00000000 0x00000000\n\nD_80112F84: .word 0x00000000 0x00000000 0x00005032\nD_80112F90: .word 0x0E000000 0x0002000A 0x00005A3C\nD_80112F9C: .word 0x00000000 0x00000000 0x0000001E\n\nD_80112FA8: .word 0x0E000000 0x0002000A 0x00005A3C\nD_80112FB4: .word 0x0E000000 0x00010004 0x00005A3C\nD_80112FC0: .word 0x00000000 0x00000000 0x0000001E\nD_80112FCC: .word 0x0D000000 0x0002000A 0x0000000A\nD_80112FD8: .word 0x0D000000 0x00010004 D_80112F90\nD_80112FE4: .word 0x0D000000 0x00070005 D_80112FA8\nD_80112FF0: .word 0x0D000000 0x00000001 D_80112FA8\nD_80112FFC: .word 0x0E000000 0x0002000A 0x00005A3C\nD_80113008: .word 0x0E000000 0x00010004 0x00005A3C\nD_80113014: .word 0x0E000000 0x00070005 0x00005A3C\nD_80113020: .word 0x00000000 0x00000000 0x00001E1E\nD_8011302C: .word 0x0D000000 0x00040002 0x0000000A\nD_80113038: .word 0x0D000000 0x00030005 0x0000000A\nD_80113044: .word 0x0D000000 0x000E0006 0x0000000A\nD_80113050: .word 0x0E000000 0x00040002 0x00005A3C\nD_8011305C: .word 0x0E000000 0x00030005 0x00005A3C\nD_80113068: .word 0x0E000000 0x000E0006 0x00005A3C\nD_80113074: .word 0x00000000 0x00000000 0x00001E1E\nD_80113080: .word 0x0D000000 0x000E0002 0x0000000A\nD_8011308C: .word 0x0D000000 0x000C0002 0x0000000A\nD_80113098: .word 0x0D000000 0x000B0107 0x0000000A\nD_801130A4: .word 0x0D000000 0x00090004 0x0000000A\nD_801130B0: .word 0x0E000000 0x000E0002 0x00005A3C\nD_801130BC: .word 0x0E000000 0x000C0002 0x00005A3C\nD_801130C8: .word 0x0E000000 0x000B0107 0x00005A3C\nD_801130D4: .word 0x0E000000 0x00090004 0x00005A3C\nD_801130E0: .word 0x00000000 0x00000000 0x00001E1E\nD_801130EC: .word 0x0E000000 0x00170001 0x00005A3C\nD_801130F8: .word 0x0E000000 0x00040007 0x00005A3C\nD_80113104: .word 0x00000000 0x00000000 0x00001E1E\nD_80113110: .word 0x0D000000 0x00170001 0x0000000A\nD_8011311C: .word 0x0D000000 0x00040007 0x0000000A\nD_80113128: .word 0x0D000000 0x00030005 D_801130EC\nD_80113134: .word 0x0D000000 0x000E0006 D_801130EC\nD_80113140: .word 0x0E000000 0x00170001 0x00005A3C\nD_8011314C: .word 0x0E000000 0x00040007 0x00005A3C\nD_80113158: .word 0x0E000000 0x00030005 0x00005A3C\nD_80113164: .word 0x0E000000 0x000E0006 0x00005A3C\nD_80113170: .word 0x00000000 0x00000000 0x00001E1E\nD_8011317C: .word 0x0E000000 0x000B0004 0x00005A3C\nD_80113188: .word 0x00000000 0x00000000 0x00001E1E\nD_80113194: .word 0x0D000000 0x000B0004 0x0000000A\nD_801131A0: .word 0x0D000000 0x00080007 D_8011317C\nD_801131AC: .word 0x00000000 0x00000000 0x00001E1E\nD_801131B8: .word 0x0D000000 0x00160004 0x0000000A\nD_801131C4: .word 0x0D000000 0x00110001 0x0000000A\nD_801131D0: .word 0x0D000000 0x00100004 0x0000000A\nD_801131DC: .word 0x0D000000 0x00060006 0x0000000A\nD_801131E8: .word 0x0E000000 0x00160004 0x00005A3C\nD_801131F4: .word 0x0E000000 0x00110001 0x00005A3C\nD_80113200: .word 0x0E000000 0x00100004 0x00005A3C\nD_8011320C: .word 0x0E000000 0x00060006 0x00005A3C\nD_80113218: .word 0x00000000 0x00000000 0x00001E1E\nD_80113224: .word 0x0D000000 0x00120005 0x0000000A\nD_80113230: .word 0x0E000000 0x00120005 0x00005A3C\nD_8011323C: .word 0x00000000 0x00000000 0x00003C1E\nD_80113248: .word 0x02000000 0x00000001 D_80112FCC\nD_80113254: .word 0x02000000 0x00000002 D_8011302C\nD_80113260: .word 0x02000000 0x00000004 D_80113080\nD_8011326C: .word 0x02000000 0x00000008 D_80113110\nD_80113278: .word 0x02000000 0x00000010 D_80113194\nD_80113284: .word 0x02000000 0x00000020 D_801131B8\nD_80113290: .word 0x02000000 0x00000040 D_80113224\nD_8011329C: .word 0x00000000 0x00000000 0x00000000\nD_801132A8: .word 0x0D000000 0x0002040A 0x00000000\nD_801132B4: .word 0x00000000 0x00000000 0x00006464\nD_801132C0: .word 0x0D000000 0x00040002 0x00000000\nD_801132CC: .word 0x0D000000 0x00030205 0x00000000\nD_801132D8: .word 0x0D000000 0x000E0406 0x00000000\nD_801132E4: .word 0x00000000 0x00000000 0x00006464\nD_801132F0: .word 0x0D000000 0x000E0002 0x00000000\nD_801132FC: .word 0x0D000000 0x000C0002 0x00000000\nD_80113308: .word 0x0D000000 0x000B0507 0x00000000\nD_80113314: .word 0x00000000 0x00000000 0x00006464\nD_80113320: .word 0x0D000000 0x00170001 0x00000000\nD_8011332C: .word 0x0D000000 0x00040207 0x00000000\nD_80113338: .word 0x00000000 0x00000000 0x00006464\nD_80113344: .word 0x0D000000 0x000B0004 0x00000000\nD_80113350: .word 0x0D000000 0x00080607 0x00000000\nD_8011335C: .word 0x00000000 0x00000000 0x00006464\nD_80113368: .word 0x0D000000 0x00160004 0x00000000\nD_80113374: .word 0x0D000000 0x00060406 0x00000000\nD_80113380: .word 0x0D000000 0x00110001 0x00000000\nD_8011338C: .word 0x0D000000 0x00100204 0x00000000\nD_80113398: .word 0x00000000 0x00000000 0x00006464\nD_801133A4: .word 0x0D000000 0x00120005 0x00000000\nD_801133B0: .word 0x00000000 0x00000000 0x00006464\nD_801133BC: .word 0x02000000 0x00000001 D_801132A8\nD_801133C8: .word 0x02000000 0x00000002 D_801132C0\nD_801133D4: .word 0x02000000 0x00000004 D_801132F0\nD_801133E0: .word 0x02000000 0x00000008 D_80113320\nD_801133EC: .word 0x02000000 0x00000010 D_80113344\nD_801133F8: .word 0x02000000 0x00000020 D_80113368\nD_80113404: .word 0x02000000 0x00000040 D_801133A4\nD_80113410: .word 0x00000000 0x00000000 0x00000000\nD_8011341C: .word 0x02000000 0x00000040 0x00005A3C\nD_80113428: .word 0x00000000 0x00000000 0x00000000\nD_80113434: .word 0x02000000 0x00000071 0x00005A3C\nD_80113440: .word 0x00000000 0x00000000 0x00000000\nD_8011344C: .word 0x01000000 0x0000001E 0x00006446\nD_80113458: .word 0x00000000 0x00000000 0x0000001E\nD_80113464: .word 0x0A000000 0x00000009 D_8011344C\nD_80113470: .word 0x01000000 0x00000032 0x00006446\nD_8011347C: .word 0x01000000 0x00000028 0x0000503C\nD_80113488: .word 0x01000000 0x0000001E 0x00003232\nD_80113494: .word 0x00000000 0x00000000 0x00001432\nD_801134A0: .word 0x02000000 0x00000004 D_80113464\nD_801134AC: .word 0x01000000 0x0000001E 0x00006446\nD_801134B8: .word 0x00000000 0x00000000 0x00005A3C\n\nD_801134C4: .word 0x00000000\n\nD_801134C8: .word 0x09060007 0x04080205 0x01000000\nD_801134D4: .word 0x09010607 0x04080002 0x05000000\nD_801134E0: .word 0x09070206 0x04080005 0x01000000\nD_801134EC: .word 0x09050706 0x04080002 0x01000000\nD_801134F8: .word 0x09040807 0x06000205 0x01000000\nD_80113504: .word 0x09070604 0x08000205 0x01000000\nD_80113510: .word D_801134C8\nD_80113514: .word D_801134D4\nD_80113518: .word D_801134E0\nD_8011351C: .word D_801134EC\nD_80113520: .word D_801134F8\nD_80113524: .word D_80113504\n\nD_80113528: .word 0x64463C00 0x32001E1E 0x0A000000\nD_80113534: .word 0x64463C00 0x3200141E 0x1E000000\nD_80113540: .word 0x64463C3C 0x3200141E 0x0A000000\nD_8011354C: .word 0x64463C3C 0x3200141E 0x0A000000\nD_80113558: .word 0x64463C00 0x3C141E1E 0x0A000000\nD_80113564: .word 0x64463C32 0x00141E1E 0x0A000000\nD_80113570: .word D_80113528\nD_80113574: .word D_80113534\nD_80113578: .word D_80113540\nD_8011357C: .word D_8011354C\nD_80113580: .word D_80113558\nD_80113584: .word D_80113564\n\nD_80113588: .word 0x09090909 0x09090000\n\nD_80113590: .word 0x01020408\n\nD_80113594: .word 0x00000000\n\nD_80113598: .word 0x00000000\nD_8011359C: .word 0x00000000\nD_801135A0: .word 0x00000000\n\nD_801135A4: .word 0x000E000D 0x00110000\n\nD_801135AC: .word 0x00000000\nD_801135B0: .word 0x00000000\nD_801135B4: .word 0x00000000\n\n.align 8\n; Doubles\nD_801135B8: .word 0x3FF00000\nD_801135BC: .word 0x00000000\n\nD_801135C0: .word 0x3FF00000\nD_801135C4: .word 0x00000000\n\nD_801135C8: .word 0x25640000\nD_801135CC: .word 0x00000000\n\nD_801135D0: .word 0x3F91DF46\nD_801135D4: .word 0xA2529D39\n\nD_801135D8: .word 0x3F91DF46\nD_801135DC: .word 0xA2529D39\n\nD_801135E0: .word 0x3F91DF46\nD_801135E4: .word 0xA2529D39\n\nD_801135E8: .word 0x3F91DF46\nD_801135EC: .word 0xA2529D39\n\nD_801135F0: .word 0x3FF80000\nD_801135F4: .word 0x00000000\n\nD_801135F8:\n.word 0x3F800000\n.word 0x3F800000\n.word 0x3F800000\n.word 0x3F800000\n.word 0x40000000\n.word 0x3F800000\n.word 0x00000000\n.word 0x40000000\n.word 0x3F800000\n.word 0xBF800000\n.word 0x3F800000\n.word 0x3F800000\n.word 0xBF800000\n.word 0xBF800000\n.word 0x3F800000\n.word 0x00000000\n.word 0xBF800000\n.word 0x3F800000\n.word 0xBF800000\n.word 0x40000000\n.word 0x3F800000\n.word 0x3F800000\n.word 0xBF800000\n.word 0x3F800000\n\n.align 8\nD_80113658: .word 0x3FE00000\nD_8011365C: .word 0x00000000\n\nD_80113660: .word 0x3FE00000\nD_80113664: .word 0x00000000\n\nD_80113668: .word 0x3FE00000\nD_8011366C: .word 0x00000000\n\nD_80113670: .word 0x3FE00000\nD_80113674: .word 0x00000000\n\nD_80113678: .word 0x3FF00000\nD_8011367C: .word 0x00000000\n\nD_80113680: .word 0x3FF00000\nD_80113684: .word 0x00000000\n\nD_80113688: .word 0x3FF00000\nD_8011368C: .word 0x00000000\n\nD_80113690: .word 0x3FF00000\nD_80113694: .word 0x00000000\n\nDuelMinigamesArray:\n.byte 0x3F ; Western Land minigame index\n.byte 0x42 ; Pirate Land minigame index\n.byte 0x44 ; Horror Land minigame index\n.byte 0x46 ; Space Land minigame index\n.byte 0x48 ; Mystery Land minigame index\n.byte 0x4A ; Bowser Land minigame index\n.align 4\n\n; jump table\nD_80113698:\n.word D_801113C8\n.word D_801113A4\n.word D_801113C8\n.word D_8011142C\n.word D_801113C8\n.word D_80111504\n.word D_80111418\n.word D_801113D0\n.word D_80111490\n.word D_801113F4\n.word D_801114B8\n\n.align 16\n\n; bss\nD_801136D0: .word 0\nD_801136D4: .word 0\nD_801136D8: .word 0\nD_801136DC: .word 0\nD_801136E0: .word 0\nD_801136E4: .word 0\nD_801136E8: .word 0\nD_801136EC: .word 0\nD_801136F0: .word 0\nD_801136F4: .word 0\nD_801136F8: .word 0\nD_801136FC: .word 0\nD_80113700: .word 0\nD_80113704: .word 0\nD_80113708: .word 0\nD_8011370C: .word 0\nD_80113710: .word 0\nD_80113714: .word 0\nD_80113718: .word 0\nD_8011371C: .word 0\nD_80113720: .word 0\nD_80113724: .word 0\nD_80113728: .word 0\nD_8011372C: .word 0\nD_80113730: .word 0\nD_80113734: .word 0\nD_80113738: .word 0\nD_8011373C: .word 0\nD_80113740: .word 0\nD_80113744: .word 0\nD_80113748: .word 0\nD_8011374C: .word 0\nD_80113750: .word 0\nD_80113754: .word 0\nD_80113758: .word 0\nD_8011375C: .word 0\nD_80113760: .word 0\nD_80113764: .word 0\nD_80113768: .word 0\nD_8011376C: .word 0\nD_80113770: .word 0\nD_80113774: .word 0\nD_80113778: .word 0\nD_8011377C: .word 0\nD_80113780: .word 0\nD_80113784: .word 0\nD_80113788: .word 0\nD_8011378C: .word 0\nD_80113790: .word 0\nD_80113794: .word 0\nD_80113798: .word 0\nD_8011379C: .word 0\nD_801137A0: .word 0\nD_801137A4: .word 0\nD_801137A8: .word 0\nD_801137AC: .word 0\nD_801137B0: .word 0\nD_801137B4: .word 0\nD_801137B8: .word 0\nD_801137BC: .word 0\nD_801137C0: .word 0\nD_801137C4: .word 0\nD_801137C8: .word 0\nD_801137CC: .word 0\nD_801137D0: .word 0\nD_801137D4: .word 0\nD_801137D8: .word 0\nD_801137DC: .word 0\nD_801137E0: .word 0\nD_801137E4: .word 0\nD_801137E8: .word 0\nD_801137EC: .word 0\nD_801137F0: .word 0\nD_801137F4: .word 0\nD_801137F8: .word 0\nD_801137FC: .word 0\nD_80113800: .word 0\nD_80113804: .word 0\nD_80113808: .word 0\nD_8011380C: .word 0\nD_80113810: .word 0\nD_80113814: .word 0\nD_80113818: .word 0\nD_8011381C: .word 0\nD_80113820: .word 0\nD_80113824: .word 0\nD_80113828: .word 0\nD_8011382C: .word 0\nD_80113830: .word 0\nD_80113834: .word 0\nD_80113838: .word 0\nD_8011383C: .word 0\nD_80113840: .word 0\nD_80113844: .word 0\nD_80113848: .word 0\nD_8011384C: .word 0\nD_80113850: .word 0\nD_80113854: .word 0\nD_80113858: .word 0\nD_8011385C: .word 0\nD_80113860: .word 0\nD_80113864: .word 0\nD_80113868: .word 0\nD_8011386C: .word 0\nD_80113870: .word 0\nD_80113874: .word 0\nD_80113878: .word 0\nD_8011387C: .word 0\nD_80113880: .word 0\nD_80113884: .word 0\nD_80113888: .word 0\nD_8011388C: .word 0\nD_80113890: .word 0\nD_80113894: .word 0\nD_80113898: .word 0\nD_8011389C: .word 0\nD_801138A0: .word 0\nD_801138A4: .word 0\nD_801138A8: .word 0\nD_801138AC: .word 0\nD_801138B0: .word 0\nD_801138B4: .word 0\nD_801138B8: .word 0\nD_801138BC: .word 0\n"));case 45:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}var V_,C_=new(function(n){s(a,n);var t=A(a);function a(){var e;r(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).gameVersion=2,e.nintendoLogoFSEntry=[9,1],e.hudsonLogoFSEntry=[9,2],e.boardDefDirectory=10,e.MAINFS_READ_ADDR=95872,e.HEAP_FREE_ADDR=96256,e.TABLE_HYDRATE_ADDR=349836,e}return i(a,[{key:"onLoad",value:function(e,n,t){t||(this._extractCostumeType(e,n),this._extractBanks(e,n),this._extractItemShops(e,n)),this._parseBoardSelectIcon(e,n),this._readAnimationBackgrounds(e,n)}},{key:"onCreateBoardOverlay",value:function(e,n,t,r){return function(e,n,t,r){return b_.apply(this,arguments)}(e,n,t,r)}},{key:"onAfterOverwrite",value:function(e,n,t,r){e.setUint16(267778,32832),e.setUint16(267786,4194304-this.EVENT_MEM_SIZE>>>16),e.setUint16(267798,26),e.setUint16(493214,26),this._writeCostumeType(e,n,r),"number"===typeof t.animBgSet&&w_.setSetEntryCount(t.animBgSet,0)}},{key:"onOverwritePromises",value:function(e,n,t){var r=n.bgDir,a=[this._writeBackground(r,e.bg.src,e.bg.width,e.bg.height),this._writeAnimationBackgrounds(n.animBgSet,e.bg.width,e.bg.height,e.bg.src,e.animbg),this._writeBackground(r+2,e.otherbg.largescene,320,240),this._writeOverviewBackground(r+6,e.bg.src),this.onWriteBoardSelectImg(e,n),this._writeBoardSelectIcon(e,n),this.onWriteBoardLogoImg(e,n),this._brandBootSplashscreen()];return Promise.all(a)}},{key:"onWriteEvents",value:function(e){}},{key:"hydrateSpace",value:function(e,n,t){e.type===h.BANK&&Jy(n,e,By(Qx),!1,t)}},{key:"onParseStrings",value:function(e,n){var t=n.str||{};if(t.boardSelect){var r=t.boardSelect,a=j_.read(r),i=a.split("\n"),o=i[0].indexOf(">")+1,s=i[0].indexOf("\x19",o);e.name=i[0].substring(o,s),e.description=[i[1],i[2]].join("\n");for(var l=0,u=a.indexOf(this.getCharacterMap()[59],0);-1!==u;)l++,u=a.indexOf(this.getCharacterMap()[59],u+1);e.difficulty=l}}},{key:"onWriteStrings",value:function(e,n){var t=n.str||{};if(t.boardSelect){var r=[];r.push(11),r.push(6),(r=r.concat(j_._strToBytes(e.name||""))).push(25),r.push(4),(r=(r=r.concat([14,14])).concat(j_._strToBytes("Difficulty"))).push(25),r=r.concat(j_._strToBytes(" : "));if(e.difficulty>5||e.difficulty<1)r.push(59),(r=r.concat(j_._strToBytes(" "))).push(62),r=r.concat(j_._strToBytes(" "+e.difficulty.toString()));else for(var a=0;a<e.difficulty;a++)r.push(59);r.push(10),(r=r.concat(j_._strToBytes(e.description||""))).push(0);var i=Y(r),o=t.boardSelect;j_.write(o,i)}if(t.boardNames&&t.boardNames.length){var s=[];s.push(11),s.push(6),(s=s.concat(j_._strToBytes(e.name||""))).push(25),s.push(0);for(var l=Y(s),u=0;u<t.boardNames.length;u++){var c=t.boardNames[u];j_.write(c,l)}}if(t.boardGreeting&&t.boardGreeting.length){var d=[];d.push(11),(d=d.concat(j_._strToBytes("We're here, everyone!"))).push(10),(d=d.concat(j_._strToBytes("This is "))).push(6),d.push(15),(d=d.concat(j_._strToBytes((e.name||"")+"!!!"))).push(22),d.push(25),d.push(255),d.push(0);var A=Y(d);j_.write(t.boardGreeting[0],A),(d=[]).push(11),(d=d.concat(j_._strToBytes("Now, before this adventure begins,"))).push(10),(d=d.concat(j_._strToBytes("we must decide turn order."))).push(255),d.push(0),A=Y(d),j_.write(t.boardGreeting[1],A)}if(t.boardWinner){var f=[];f.push(11),(f=f.concat(j_._strToBytes("Well done, "))).push(17),(f=f.concat(j_._strToBytes("!"))).push(10),(f=f.concat(j_._strToBytes("You are the "))).push(7),f.push(15),(f=f.concat(j_._strToBytes("Super Star"))).push(22),f.push(25),f.push(10),(f=f.concat(j_._strToBytes("of "))).push(6),f.push(15),(f=f.concat(j_._strToBytes((e.name||"")+"!!!"))).push(22),f.push(25),f.push(0);var h=Y(f);j_.write(t.boardWinner,h)}if(t.boardPlayCount){var p=[];p.push(11),(p=(p=p.concat(j_._strToBytes(e.name||""))).concat([14,14,14,14,14,14])).push(17),(p=p.concat(j_._strToBytes(" Time(s)"))).push(0);var m=Y(p);j_.write(t.boardPlayCount,m)}}},{key:"onChangeBoardSpaceTypesFromGameSpaceTypes",value:function(e,n){var t={0:h.OTHER,3:h.OTHER,5:h.CHANCE,6:h.ITEM,7:h.BANK,8:h.OTHER,9:h.BATTLE,12:h.BOWSER,14:h.STAR,15:h.BLACKSTAR,16:h.OTHER,17:h.OTHER};if(e.spaces.forEach((function(e){var n=e.type,r=t[n];void 0!==r&&(e.type=r)})),n.length){var r=n[0][0];isNaN(r)||(e.spaces[r].type=h.START)}}},{key:"onChangeGameSpaceTypesFromBoardSpaceTypes",value:function(n){var t,r=(e(t={},h.OTHER,0),e(t,h.BLUE,1),e(t,h.RED,2),e(t,h.MINIGAME,0),e(t,h.HAPPENING,4),e(t,h.STAR,14),e(t,h.CHANCE,5),e(t,h.START,0),e(t,h.SHROOM,0),e(t,h.BOWSER,12),e(t,h.ITEM,6),e(t,h.BATTLE,9),e(t,h.BANK,7),e(t,h.ARROW,13),e(t,h.BLACKSTAR,15),e(t,h.GAMEGUY,0),e(t,h.DUEL_BASIC,0),e(t,h.DUEL_START_BLUE,0),e(t,h.DUEL_START_RED,0),e(t,h.DUEL_POWERUP,0),e(t,h.DUEL_REVERSE,0),t);n.spaces.forEach((function(e){var n=r[e.type];void 0!==n&&(e.type=n)}))}},{key:"_extractCostumeType",value:function(e,n){e.costumeTypeIndex=n.costumeType}},{key:"_writeCostumeType",value:function(n,t,r){for(var a,i,o=(e(a={},S.NORMAL,{small:211,big:209,toad:524288,player2d:[656002,656003,656005,656006,656004,656007],bowser2d:[656026,656027,656029,656030,656028,656031]}),e(a,S.WESTERN,{small:212,big:213,toad:524302,player2d:[655972,655973,655975,655976,655974,655977],bowser2d:[656008,656009,656011,656012,656010,656013]}),e(a,S.PIRATE,{small:214,big:215,toad:524310,player2d:[655978,655979,655981,655982,655980,655983],bowser2d:[656014,656015,656017,656018,656016,656019]}),e(a,S.HORROR,{small:216,big:217,toad:524328,player2d:[655984,655985,655987,655988,655986,655989],bowser2d:[656020,656021,656023,656024,656022,656025]}),e(a,S.SPACE,{small:218,big:219,toad:524316,player2d:[655990,655991,655993,655994,655992,655995],bowser2d:[656026,656027,656029,656030,656028,656031]}),e(a,S.MYSTERY,{small:220,big:221,toad:524323,player2d:[655996,655997,655999,656e3,655998,656001],bowser2d:[656032,656033,656035,656036,656034,656037]}),a)[null!==(i=t.costumeTypeIndex)&&void 0!==i?i:S.NORMAL],s=835392+192*r,l=0;l<6;l++)n.setUint16(s+16*l+2,o.small),n.setUint16(s+96+16*l+2,o.big),n.setUint32(842280+6*r*4+4*l,o.player2d[l]),n.setUint32(842472+6*r*4+4*l,o.bowser2d[l])}},{key:"_readAnimationBackgrounds",value:function(e,n){if("number"===typeof n.animBgSet&&n.bgDir){var t=gn.readBackgroundImgData(n.bgDir),r=w_.readAnimationBackgrounds(n.animBgSet,t,e.bg.width,e.bg.height);r&&r.length&&(e.animbg=r)}}},{key:"_writeAnimationBackgrounds",value:function(){var e=O(k().mark((function e(n,t,r,a,i){var o,s,l,u,c,d,A,f;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(n)&&i&&i.length){e.next=2;break}return e.abrupt("return");case 2:for(o=setTimeout((function(){throw new Error("Failed to write animations")}),45e3),l=new Array(i.length),u=new Promise((function(e){n_(a,t,r).then((function(n){s=n,e()}))})),c=[u],d=function(e){var n=new Promise((function(n){var a=e;n_(i[e],t,r).then((function(e){l[a]=e,n()}))}));c.push(n)},A=0;A<i.length;A++)d(A);return e.next=10,Promise.all(c);case 10:for(f=0;f<l.length;f++)w_.writeAnimationBackground(n,f,s,l[f],t,r);H("Wrote animations"),clearTimeout(o);case 13:case"end":return e.stop()}}),e)})));return function(n,t,r,a,i){return e.apply(this,arguments)}}()},{key:"onParseBoardSelectImg",value:function(e,n){n.img.boardSelectImg&&(e.otherbg.boardselect=this._readImgFromMainFS(9,n.img.boardSelectImg,0))}},{key:"onWriteBoardSelectImg",value:function(e,n){return new Promise((function(t,r){var a=n.img.boardSelectImg;if(a){var i=new Image,o=setTimeout((function(){return r("Failed to write board select for ".concat(n.name))}),45e3);i.onload=function(){var e=bn([{src:pi(i,64,48),width:64,height:48,bpp:32}],16,0,rn.get(9,a));rn.write(9,a,e),clearTimeout(o),t()},i.src=e.otherbg.boardselect}else t()}))}},{key:"_parseBoardSelectIcon",value:function(e,n){if(n.img.boardSelectIconCoords){var t=this._readImgInfoFromMainFS(9,15,0),r=(0,xe.Z)(n.img.boardSelectIconCoords,2),a=r[0],i=r[1],o=function(e,n,t,r,a,i,o,s){for(var l=o*(r/8),u=new ArrayBuffer(l*s),c=new Uint8Array(u),d=new Uint8Array(e),A=n*(r/8),f=a*(r/8),h=0,p=i;p<i+s;p++)for(var m=f+A*p,S=0;S<l;S++)c[h++]=d[m+S];return u}(t.src,t.width,t.height,32,a,i,32,32),s=ne(o,32,32);e.otherbg.boardselecticon=s}}},{key:"_writeBoardSelectIcon",value:function(e,n){var t=this;return new Promise((function(r,a){if(n.img.boardSelectIconCoords){var i=e.otherbg.boardselecticon;if(i){var o,s,l=setTimeout((function(){return a("Failed to write board select icon for ".concat(n.name))}),45e3),u=new Promise((function(e,n){(o=new Image).onload=function(){e()},o.src="data:image/png;base64,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"})),c=new Promise((function(e,n){(s=new Image).onload=function(){e()},s.src=i})),d=[u,c];Promise.all(d).then((function(e){var a=t._readImgInfoFromMainFS(9,15,0),i=N(a.width,a.height),u=ee(a.src,a.width,a.height);i.putImageData(u,0,0);var c=n.img.boardSelectIconCoords,d=(0,xe.Z)(c,2),A=d[0],f=d[1];i.drawImage(o,A,f,32,32),i.drawImage(s,A,f,32,32);var h=i.getImageData(0,0,a.width,a.height).data.buffer,p=rn.get(9,15),m=bn([{src:h,width:a.width,height:a.height,bpp:32}],16,0,p);if(rn.write(9,15,m),n.img.boardSelectIconMask){var S=bn([{src:t._createBoardSelectIconHoverMask(s),width:32,height:32,bpp:32}],16,0,rn.get(9,n.img.boardSelectIconMask));rn.write(9,n.img.boardSelectIconMask,S)}H("Wrote board select icon"),clearTimeout(l),r()}),(function(e){H("Error writing board select icon: ".concat(e)),a()}))}else r()}else r()}))}},{key:"_createBoardSelectIconHoverMask",value:function(e){for(var n=pi(e,32,32),t=new ArrayBuffer(n.byteLength),r=new DataView(n),a=new DataView(t),i=!1,o=0;o<t.byteLength;o+=4)0===r.getUint32(o)?(a.setUint32(o,0),i=!0):a.setUint32(o,3149642751);return i?t:new ArrayBuffer(n.byteLength)}},{key:"onParseBoardLogoImg",value:function(e,n){n.img.introLogoImg&&(e.otherbg.boardlogo=this._readImgFromMainFS(10,n.img.introLogoImg,0))}},{key:"onWriteBoardLogoImg",value:function(e,n){return new Promise((function(t,r){var a=n.img.introLogoImg;if(a){var i=new Image,o=setTimeout((function(){return r("Failed to write logos for ".concat(n.name))}),45e3);i.onload=function(){var e=bn([{src:pi(i,260,120),width:260,height:120,bpp:32}],16,0,rn.get(10,a));rn.write(10,a,e),clearTimeout(o),t()},i.src=e.otherbg.boardlogo;var s=n.img.pauseLogoImg;if(s){var l=rn.get(10,s),u=bn([{src:new ArrayBuffer(31200),width:130,height:60,bpp:32}],16,0,l);rn.write(10,s,u)}}else t()}))}},{key:"_writeOverviewBackground",value:function(){var e=O(k().mark((function e(n,t){var r,a,i,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n_(t,320,240);case 2:r=e.sent,a=setTimeout((function(){throw new Error("Failed to write bg ".concat(n))}),45e3),(i=N(320,240)).putImageData(r,0,-10),o=i.getImageData(0,0,320,240),gn.writeBackground(n,o,320,240),clearTimeout(a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getAudioMap",value:function(e){return["","Story One","Go Lucky","Welcome to Mario Land","Laboratory","Rules Land","Credits","In the Pipe","Western Land","Pirate Land","Space Land","Horror Land","Mystery Land","Bowser Land","Adventure Begins","The Adventure Ends","Ending","Star Spot","Bowser's Theme","A Ways to Go","How Many","Take the Coin","Let the Game Begin","","","","","Going for the Coins","Not Gonna Lose","Keepin' on the Path","Couldn't be Better","Know What I Mean?","That's All of It","Let's Have Some Fun","The Blue Skies Yonder","Chance Time","Going Somewhere","Duel!","No Fright, No Fear","Don't Look Back","Got an Item","This Way That","Walking Underwater","Spinning Polka","Spinning Polka 2","Spinning Polka 3","","","","","Mini-Game Land","Woody","Mini-Game Park","Battle Start","Mini-Game Stadium","","Coaster","","The Way to Play","The Star Appears","Bowser Appears","I Can Do It!","Bowser's Parade","Ending","Story Intro 2","Story Intro 3","Mini-Game Coaster Results","Drum Roll","Win (One Winner)","Lose","","Know What I Mean","Instant Replay","Coaster (Double Mix)","Coaster (Single Mix)","Coaster (Hip Hip Mix)","Coaster (Duo Mix)","Coaster (Hermit Mix)","Coaster (Speed Mix)","Coaster (Survival Mix)"]}},{key:"getCharacterMap",value:function(){return{0:"",1:"<BLACK>",2:"<DEFAULT>",3:"<RED>",4:"<PURPLE>",5:"<GREEN>",6:"<BLUE>",7:"<YELLOW>",8:"<WHITE>",9:"<SEIZURE>",10:"\n",11:"\u3014",12:"\u25cb",13:"\t",14:"\t",16:" ",17:"{0}",18:"{1}",19:"{2}",20:"{3}",21:"{4}",22:"{5}",33:"\u3000",34:"\u3001",35:"\u3002",36:"\u3003",37:"\u3004",38:"\u3005",39:"\u3006",40:"\u3007",41:"\u3008",42:"\u3009",43:"\u3010",44:"\u3011",58:"\u3012",59:"\u3013",60:"+",61:"-",62:"x",63:"->",91:'"',92:"'",93:"(",94:")",95:"/",123:":",128:'"',129:"\xb0",130:",",131:"\xb0",133:".",192:"\u201c",193:"\u201d",194:"!",195:"?",255:"\u3015"}}}]),a}(c_)),E_={};E_[v.MP3_USA]={jp:[{upper:61762,lower:61770},{upper:373706,lower:373714}],en:[{upper:373778,lower:373786}],de:[{upper:373802,lower:373810}],es:[{upper:373814,lower:373822}],it:[{upper:373826,lower:373830}],fr:[{upper:373790,lower:373798}]},E_[v.MP3_JPN]={jp:[{upper:61762,lower:61770},{upper:373346,lower:373354}]};var D_=function(){function e(n){r(this,e),this.dirs=void 0,this.dirs=this._extract(n)}return i(e,[{key:"_extract",value:function(e){for(var n=this._getDirectoryCountFromView(e),t=new Array(n),r=0;r<n;r++)t[r]=this._readDirFromView(e,r);return t}},{key:"_getDirectoryCountFromView",value:function(e){return e.getUint32(0)}},{key:"_readDirFromView",value:function(e,n){var t=this._getDirOffsetFromView(e,n),r=new DataView(e.buffer,e.byteOffset+t),a=this._decompressDir(r);return new j_.StringTable(new DataView(a))}},{key:"_decompressDir",value:function(e){var n=e.getUint32(0);return Ve(e.getUint32(4),new DataView(e.buffer,e.byteOffset+8),n)}},{key:"_getDirOffsetFromView",value:function(e,n){return e.getUint32(4*(1+n))}},{key:"read",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<0||e>=this.getDirectoryCount())throw new Error("Requesting non-existent string directory");return this.dirs[e].read(n,t)}},{key:"write",value:function(e,n,t){this.dirs[e].write(n,t)}},{key:"getDirectoryCount",value:function(){return this.dirs.length}},{key:"getStringCount",value:function(e){return this.dirs[e].getStringCount()}},{key:"getByteLength",value:function(){var e=0,n=this.dirs.length;e+=4,e+=4*n;for(var t=0;t<n;t++)e+=4,e+=4,e=Te(e+=this.dirs[t].getByteLength(),2);return e}},{key:"pack",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=new DataView(e,n),r=this.getDirectoryCount();t.setUint32(0,r);for(var a=4,i=4+4*r,o=0;o<r;o++)t.setUint32(a,i),a+=4,t.setUint32(i,this.dirs[o].getByteLength()),i+=4,t.setUint32(i,0),i+=4,i=Te(i=this._packDir(o,t,i),2);return i}},{key:"_packDir",value:function(e,n,t){var r=this.dirs[e].getByteLength(),a=new ArrayBuffer(r);return this.dirs[e].pack(a,0),q(n,a,t,0,r),t+r}}]),e}(),F_={getROMOffset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",n=Ry.getDataView(),t=F_.getPatchOffsets(e);if(!t)return null;var r=t[0];if(!r)return null;var a=n.getUint16(r.upper)<<16,i=n.getUint16(r.lower),o=a|i;return 32768&i&&(o-=65536),H("Strings3.getROMOffset[".concat(e,"] -> ").concat(W(o))),o},setROMOffset:function(e,n){for(var t=new DataView(n),r=e,a=F_.getLocales(Ry.getROMGame()),i=0;i<a.length;i++){var o=a[i],s=F_.getPatchOffsets(o),l=(4294901760&r)>>>16,u=65535&r;32768&u&&(l+=1);for(var c=0;c<s.length;c++)t.setUint16(s[c].upper,l),t.setUint16(s[c].lower,u);H("Strings3.setROMOffset[".concat(o,"] -> ").concat(W(l<<16|u))),r+=Te(V_[o].getByteLength(),16)}},getPatchOffsets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return E_[Ry.getROMGame()][e]},clear:function(){V_=null},extract:function(){V_={};for(var e=F_.getLocales(Ry.getROMGame()),n=0;n<e.length;n++){var t=e[n],r=Ry.getDataView(F_.getROMOffset(t));V_[t]=new D_(r)}return V_},extractAsync:function(){return new Promise((function(e,n){F_.extract(),e()}))},pack:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=n,r=F_.getLocales(Ry.getROMGame()),a=0;a<r.length;a++){var i=r[a],o=V_[i];t=Te(t+=o.pack(e,t),16)}return t},read:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return V_[e].read(n,t,r)},write:function(e,n,t,r){V_[e].write(n,t,r)},getLocales:function(e){return Object.keys(E_[e])},getDirectoryCount:function(e){return V_[e].getDirectoryCount()},getStringCount:function(e,n){return V_[e].getStringCount(n)},getByteLength:function(){for(var e=0,n=F_.getLocales(Ry.getROMGame()),t=0;t<n.length;t++){var r=n[t];e+=Te(V_[r].getByteLength(),16)}return e}},T_={id:"CHAINSPLIT3",name:"",activationType:y.WALKOVER,executionType:w.PROCESS,parameters:[{name:"spaceIndexArgs",type:D.NumberArray},{name:"chainArgs",type:D.NumberArray},{name:"reverse",type:D.Boolean},{name:"hasgate",type:D.Boolean},{name:"prevSpace",type:D.Number},{name:"altChain",type:D.NumberArray}],fakeEvent:!0,supportedGames:[v.MP3_USA],parse:function(e,n){var t="16092DD153432852C141C78807ECCBF0",r="6FF6DF70CDC85862F8F129303009A544";if(J([e.buffer,n.offset,8],t)&&J([e.buffer,n.offset+36,20],r)){var a=2147483647&(e.getUint16(n.offset+10)<<16|e.getUint16(n.offset+14));32768&a&&(a-=65536);for(var i=n.offset-(n.addr-a),o=e.getUint16(i);65535!==o;)Ew(n.curSpace,o,n.board),i+=2,o=e.getUint16(i);return!0}return!1},write:function(e,n,t,r){var a=n.parameterValues.spaceIndexArgs,i=n.parameterValues.chainArgs,o=n.parameterValues.altChain||[];return"\n        addiu SP, SP, -0x18\n        sw    RA, 0x14(SP)\n        sw    S0, 0x10(SP)\n\n    .if reverse\n        jal   GetPlayerStruct\n        li    A0, -1\n        lbu   V0, 0x17(V0)\n        andi  V0, V0, 0x80\n        beq   V0, R0, exit_chain_split\n        NOP\n        lui   V0, hi(cur_player_spaces_remaining)\n        lw    V0, lo(cur_player_spaces_remaining)(V0)\n        beq   V0, R0, exit_chain_split\n        NOP\n        j   do_chain_split\n        NOP\n    .endif\n\n    .if hasgate\n      jal   GetPlayerStruct\n      li    A0, -1\n      move  S0, V0\n      lbu   A0, 0x15(S0)\n      lbu   A1, 0x16(S0)\n      jal   GetAbsSpaceIndexFromChainSpaceIndex\n      NOP\n      sll   V0, V0, 0x10\n      sra   V0, V0, 0x10\n      ; Check for the previous space being the gate chain's first space.\n      li    V1, ".concat(n.parameterValues.prevSpace||0,"\n      bne   V0, V1, do_chain_split\n      NOP\n      lbu   V0, 0x17(S0)\n      andi  V0, V0, 0x80\n      bnez  V0, do_chain_split\n      ; Send player to other chain if coming from gate.\n      li    A1, ").concat(o[0]||0," ; Chain index\n      li    A0, -1\n      jal   SetNextChainAndSpace\n      li   A2, ").concat(o[1]||0," ; Index in chain\n      lbu   V0, 0x17(S0)\n      andi  V0, V0, 0xFE\n      j     exit_chain_split\n      sb    V0, 0x17(S0)\n    .endif\n\n    do_chain_split:\n      lui   A0, hi(space_index_args)\n      addiu A0, A0, lo(space_index_args)\n      lui   A1, hi(chain_args)\n      addiu A1, A1, lo(chain_args)\n      lui   A2, hi(ai_logic)\n      jal   chain_split_3_helper\n       addiu A2, A2, lo(ai_logic)\n    .if reverse\n    exit_chain_split:\n    .else\n    exit_chain_split:\n      jal   EndProcess\n       move  A0, R0\n    .endif\n\n      lw    RA, 0x14(SP)\n      lw    S0, 0x10(SP)\n      jr    RA\n       addiu SP, SP, 0x18\n\n    space_index_args:\n      .halfword ").concat(a.join(", "),"\n\n    chain_args:\n      .halfword ").concat(i.join(", "),"\n\n    ; Choose randomly\n    ai_logic:\n      .word ai_random_choice, ai_random_choice, ai_random_choice\n    ai_random_choice:\n      .word 0x00000000, 0x00000000, 0x064C9932\n\n  .beginstatic\n    chain_split_3_helper:\n      addiu SP, SP, -0x38\n      sw    RA, 0x30(SP)\n      sw    S5, 0x2c(SP)\n      sw    S4, 0x28(SP)\n      sw    S3, 0x24(SP)\n      sw    S2, 0x20(SP)\n      sw    S1, 0x1c(SP)\n      sw    S0, 0x18(SP)\n      move  S2, A0\n      move  S3, A1\n      move  S5, A2\n      li    A0, -1\n      li    A1, -1\n      jal   0x800F2304\n       li    A2, 2\n      jal   SleepVProcess\n       move  S1, R0\n      jal   chainsplit_setup_arrows\n       NOP\n      lui   A0, hi(current_player_index)\n      jal   GetPlayerStruct\n       lb    A0, lo(current_player_index)(A0)\n      move  S4, V0\n      lbu   A0, 0x15(S4)\n      lbu   A1, 0x16(S4)\n      jal   GetAbsSpaceIndexFromChainSpaceIndex\n       NOP\n      sll   V0, V0, 0x10\n      sra   A1, V0, 0x10\n      li    A2, 2\n      move  V1, R0\n    L80116514:\n      sll   V0, S1, 1\n      addu  V0, V0, S1\n      sll   V0, V0, 1\n      addu  A0, V0, S2\n      sll   V0, V1, 1\n    L80116528:\n      addu  V0, V0, A0\n      lh    V0, 0(V0)\n      beq   V0, A1, L80116548\n       NOP\n      addiu V1, V1, 1\n      slti  V0, V1, 2\n      bnez  V0, L80116528\n       sll   V0, V1, 1\n    L80116548:\n      beq   V1, A2, L80116564\n       sll   V0, S1, 1\n      addiu S1, S1, 1\n      slti  V0, S1, 3\n      bnez  V0, L80116514\n       move  V1, R0\n      sll   V0, S1, 1\n    L80116564:\n      addu  V0, V0, S1\n      sll   A1, V0, 1\n      sll   V0, V0, 2\n      addu  S3, S3, V0\n      lui   S0, hi(current_player_index)\n      addiu S0, S0, lo(current_player_index)\n      lb    A0, 0(S0)\n      jal   0x800D76A0\n       addu  A1, S2, A1\n      move  S2, V0\n      move  A0, S2\n      lb    A1, 0(S0)\n      jal   0x800D742C\n       move  A2, R0\n      jal   PlayerIsCPU\n       li    A0, -1\n      beq  V0, R0, L801165EC\n       sll   V0, S1, 2\n      addu  V0, V0, S5\n      lw    A0, 0(V0)\n      jal   0x800DA190\n        move  S0, R0\n      sll   V0, V0, 0x10\n      sra   S1, V0, 0x10\n      blez  S1, L801165E4\n       move  A0, S2\n    L801165CC:\n      jal   0x800D7250\n       li    A1, -2\n      addiu S0, S0, 1\n      slt   V0, S0, S1\n      bnez  V0, L801165CC\n        move  A0, S2\n    L801165E4:\n      jal   0x800D7250\n        li    A1, -4\n    L801165EC:\n      jal   0x800D7518\n       move  A0, S2\n      move  S0, V0\n      jal   0x800D6CA0\n       move  A0, S2\n      jal   chainsplit_hide_arrows\n       NOP\n      bnezl S0, L80116610\n       addiu S3, S3, 6\n    L80116610:\n      lh    A1, 0(S3)\n      lh    A2, 2(S3)\n      jal   SetNextChainAndSpace\n       li    A0, -1\n      lh    A1, 4(S3)\n      beq  A1, R0, L80116640\n       NOP\n      li    V0, 1\n      beq   A1, V0, L8011664C\n       NOP\n      j     L80116658\n       NOP\n    L80116640:\n      lbu   V0, 0x17(S4)\n      j     L80116654\n       andi  V0, V0, 0xfe\n    L8011664C:\n      lbu   V0, 0x17(S4)\n      ori   V0, V0, 1\n    L80116654:\n      sb    V0, 0x17(S4)\n    L80116658:\n      lw    RA, 0x30(SP)\n      lw    S5, 0x2c(SP)\n      lw    S4, 0x28(SP)\n      lw    S3, 0x24(SP)\n      lw    S2, 0x20(SP)\n      lw    S1, 0x1c(SP)\n      lw    S0, 0x18(SP)\n      jr    RA\n       addiu SP, SP, 0x38\n\n    .definelabel CORE_800CDD58,0x800CDD58\n    .definelabel CORE_800D51F8,0x800D51F8\n\n    chainsplit_setup_arrows:\n      addiu SP, SP, -0x18\n      sw    RA, 0x10(SP)\n    L8010704C:\n      jal   0x800E9AE0\n       NOP\n      beq  V0, R0, L8010706C\n       NOP\n      jal   SleepVProcess\n       NOP\n      j     L8010704C\n       NOP\n    L8010706C:\n      jal   SleepVProcess\n       NOP\n      move  A0, R0\n      li    A1, 146\n      jal   0x800E210C\n       li    A2, 1\n      lui   AT, hi(chainsplit_arrow_memval1)\n      sw    V0, lo(chainsplit_arrow_memval1)(AT)\n      li    A0, 1\n      li    A1, 160\n      jal   0x800E210C\n       li    A2, 1\n      lui   AT, hi(chainsplit_arrow_memval2)\n      sw    V0, lo(chainsplit_arrow_memval2)(AT)\n      li    A0, 13\n      li    A1, 174\n      jal   0x800E210C\n       li    A2, 1\n      lui   AT, hi(chainsplit_arrow_memval3)\n      sw    V0, lo(chainsplit_arrow_memval3)(AT)\n      li    A0, 3\n      li    A1, 188\n      jal   0x800E210C\n       li    A2, 1\n      lui   AT, hi(chainsplit_arrow_memval4)\n      sw    V0, lo(chainsplit_arrow_memval4)(AT)\n      li    A0, 11\n      li    A1, 202\n      jal   0x800E210C\n       li    A2, 1\n      lui   AT, hi(chainsplit_arrow_memval5)\n      sw    V0, lo(chainsplit_arrow_memval5)(AT)\n      jal   SleepProcess\n       li    A0, 3\n      li    V0, 1\n      lui   AT, hi(CORE_800CDD58)\n      sh    V0, lo(CORE_800CDD58)(AT)\n      lui   AT, hi(CORE_800D51F8)\n      sh    V0, lo(CORE_800D51F8)(AT)\n      lw    RA, 0x10(SP)\n      jr    RA\n       addiu SP, SP, 0x18\n\n    chainsplit_hide_arrows:\n      addiu SP, SP, -0x18\n      sw    RA, 0x10(SP)\n      lui   AT, hi(CORE_800CDD58)\n      sh    R0, lo(CORE_800CDD58)(AT)\n      lui   AT, hi(CORE_800D51F8)\n      sh    R0, lo(CORE_800D51F8)(AT)\n      lui   A0, hi(chainsplit_arrow_memval1)\n      jal   0x800E21F4\n       lw    A0, lo(chainsplit_arrow_memval1)(A0)\n      lui   A0, hi(chainsplit_arrow_memval2)\n      jal   0x800E21F4\n       lw    A0, lo(chainsplit_arrow_memval2)(A0)\n      lui   A0, hi(chainsplit_arrow_memval3)\n      jal   0x800E21F4\n       lw    A0, lo(chainsplit_arrow_memval3)(A0)\n      lui   A0, hi(chainsplit_arrow_memval4)\n      jal   0x800E21F4\n       lw    A0, lo(chainsplit_arrow_memval4)(A0)\n      lui   A0, hi(chainsplit_arrow_memval5)\n      jal   0x800E21F4\n       lw    A0, lo(chainsplit_arrow_memval5)(A0)\n      lw    RA, 0x10(SP)\n      jr    RA\n       addiu SP, SP, 0x18\n\n      .align 4\n      chainsplit_arrow_memval1:\n        .word 0\n      chainsplit_arrow_memval2:\n        .word 0\n      chainsplit_arrow_memval3:\n        .word 0\n      chainsplit_arrow_memval4:\n        .word 0\n      chainsplit_arrow_memval5:\n        .word 0\n  .endstatic\n    ")}};gx(T_);var P_={id:"CHAINMERGE3",name:"",activationType:y.WALKOVER,executionType:w.DIRECT,parameters:[{name:"prevSpace",type:D.Number},{name:"chain",type:D.Number},{name:"spaceIndex",type:D.Number}],fakeEvent:!0,supportedGames:[v.MP3_USA],parse:function(e,n){var t,r,a="16092DD153432852C141C78807ECCBF0",i="0855E7309F121915D7A762AB85A7FDB6";if(J([e.buffer,n.offset,8],a)&&[201569894,201597703].indexOf(e.getUint32(n.offset+16))>=0&&J([e.buffer,n.offset+24,8],i)){if(t=(t=e.getUint16(n.offset+14))>1e3?0:t,r=0===e.getUint16(n.offset+20)?n.chains[t][0]:n.chains[t][e.getUint16(n.offset+22)],!isNaN(r)){if(n.board.links.hasOwnProperty(n.curSpace))return!1;Ew(n.curSpace,r,n.board)}return!0}return!1},write:function(e,n,t,r){return"\n      ADDIU SP, SP, -0x18\n      SW    RA, 0x10(SP)\n      ADDIU A0, R0, ".concat(n.parameterValues.prevSpace||0,"\n      ADDIU A1, R0, ").concat(n.parameterValues.chain||0,"\n      JAL   chainmerge_3_helper\n      ADDIU A2, R0, ").concat(n.parameterValues.spaceIndex||0,"\n      LW    RA, 0x10(SP)\n      JR    RA\n      ADDIU SP, SP, 0x18\n\n  .beginstatic\n    chainmerge_3_helper:\n      addiu SP, SP, -0x20\n      sw    RA, 0x1c(SP)\n      sw    S2, 0x18(SP)\n      sw    S1, 0x14(SP)\n      sw    S0, 0x10(SP)\n      move  S0, A0\n      move  S1, A1\n      move  S2, A2\n      jal   GetPlayerStruct\n        li    A0, -1\n      lbu   A0, 0x15(V0)\n      sll   A0, A0, 0x18\n      sra   A0, A0, 0x18\n      lbu   A1, 0x16(V0)\n      sll   A1, A1, 0x18\n      sra   A1, A1, 0x18\n      andi  A0, A0, 0xffff\n      jal   GetAbsSpaceIndexFromChainSpaceIndex\n        andi  A1, A1, 0xffff\n      sll   V0, V0, 0x10\n      sra   V0, V0, 0x10\n      bne   V0, S0, chainmerge_3_helper_exit\n        sll   A1, S1, 0x10\n      sll   A2, S2, 0x10\n      li    A0, -1\n      sra   A1, A1, 0x10\n      jal   SetNextChainAndSpace\n        sra   A2, A2, 0x10\n      chainmerge_3_helper_exit:\n      lw    RA, 0x1c(SP)\n      lw    S2, 0x18(SP)\n      lw    S1, 0x14(SP)\n      lw    S0, 0x10(SP)\n      jr    RA\n        addiu SP, SP, 0x20\n  .endstatic\n    ")}};function R_(){return R_=O(k().mark((function e(n,t,r,a){var i,o,s,l,u,c,d,A,f,m,S,g,x,_,y,w,b,V,C,E,D,F,T,P,R,M,B,I,O,N,j,U,G,z,H,X,K,q,Y,Q,J,Z,$,ee,ne,te,re,ae,ie,oe,se,le,ue,ce,de;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee=function(e){var n=!1;return $.forEach((function(t){t.gateSpaceIndex===e&&(n=!0)})),n},i=t.mainfsEventFile,o=(0,xe.Z)(i,2),s=o[0],l=o[1],u=_w(p.BOO,n),c=u.length?u[0]:ww(n),d=yw(qx.id,n),A=-1,d.length){if(f=Number.MAX_VALUE,m=n.spaces[c]){S=L(d);try{for(S.s();!(g=S.n()).done;)x=g.value,_=n.spaces[x],(y=Ee(_.x,_.y,m.x,m.y))<f&&(f=y,A=x)}catch(k){S.e(k)}finally{S.f()}}}else d=[ww(n)];for(w=[],b=0;b<n.spaces.length;b++)n.spaces[b].star&&w.push(b);for(V=w.length?"show_next_star_spot":"show_next_star_no_op",C=f_(w.length),E=_w(p.TOAD,n),D=[],F=0;F<w.length;F++){for(T=n.spaces[w[F]],P=Number.MAX_VALUE,R=w[F],M=0;M<E.length;M++)B=E[M],I=n.spaces[B],(O=Ee(T.x,T.y,I.x,I.y))<P&&(P=O,R=B);D.push(R)}for(N=_w(p.BANKCOIN,n),j=0;j<2;j++)N.length<2&&N.push(ww(n));for(U=_w(p.BANK,n),G=yw(Qx.id,n),z=[],G.forEach((function(e){for(var t=n.spaces[e],r=Number.MAX_VALUE,a=ww(n),i=0;i<U.length;i++){var o=U[i],s=n.spaces[o],l=Ee(t.x,t.y,s.x,s.y);l<r&&(r=l,a=o)}z.push(a)})),U.length||U.push(ww(n)),H=0;H<2;H++)G.length<2&&G.push(ww(n));for(X=0;X<2;X++)z.length<2&&z.push(ww(n));for(K=_w(p.ITEMSHOP,n),q=yw(Jx.id,n),Y=[],q.forEach((function(e){for(var t=n.spaces[e],r=Number.MAX_VALUE,a=ww(n),i=0;i<K.length;i++){var o=K[i],s=n.spaces[o],l=Ee(t.x,t.y,s.x,s.y);l<r&&(r=l,a=o)}Y.push(a)})),K.length||K.push(ww(n)),Q=0;Q<2;Q++)q.length<2&&q.push(ww(n));for(J=0;J<2;J++)Y.length<2&&Y.push(ww(n));for(Z=yw(Zx.id,n),$=[],Z.forEach((function(e){var t=n.spaces[e];Yy(n,(function(e,n,r){if(e.id===Zx.id&&r===t){var a=e.parameterValues.gateSpaceIndex;if(!ee(a)){var i=e.parameterValues,o=i.gateEntryIndex,s=i.gateSpaceIndex,l=i.gateExitIndex,u=i.gatePrevChain,c=i.gateNextChain;$.push({gateEntryIndex:o,gateSpaceIndex:s,gateExitIndex:l,gatePrevChain:u,gateNextChain:c})}}}))})),ne=0;ne<2;ne++)$.length<2&&$.push({gateEntryIndex:ww(n),gateSpaceIndex:ww(n),gateExitIndex:ww(n),gatePrevChain:[0,0],gateNextChain:[0,0]});for(te=[],re=0;re<n.spaces.length;re++)n.spaces[re].type===h.ARROW&&te.push(n.spaces[re].rotation||0);for(ae=me(v.MP3_USA,"AddArrowAngle"),8,ie=[],oe=Math.min(8,te.length),se=0;se<oe;se++)ie.push("LUI A0 hi(".concat(W(Re(te[se])),")")),ie.push("JAL ".concat(ae)),ie.push("MTC1 A0 F12");return le=!1,ue=Ra(n),e.next=45,Ca(n,t.bgDir,ue);case 45:return ce=e.sent,e.next=48,ja(n,a);case 48:return de=e.sent,e.abrupt("return",'\n.org 0x801059A0\n\n; Symbols that are used, but unknown\n.definelabel CORE_800A0550,0x800A0550\n.definelabel CORE_800A12D0,0x800A12D0\n.definelabel CORE_800A12D4,0x800A12D4\n.definelabel CORE_800A12D8,0x800A12D8\n.definelabel CORE_800A1764,0x800A1764\n.definelabel CORE_800C9520,0x800C9520\n.definelabel CORE_800C9930,0x800C9930\n.definelabel CORE_800CB99C,0x800CB99C\n.definelabel CORE_800CCF58,0x800CCF58\n.definelabel CORE_800CD058,0x800CD058\n.definelabel CORE_800CD059,0x800CD059\n.definelabel CORE_800CD05D,0x800CD05D\n.definelabel CORE_800CD05E,0x800CD05E\n.definelabel CORE_800CD065,0x800CD065\n.definelabel CORE_800CD06D,0x800CD06D\n.definelabel CORE_800CD096,0x800CD096\n.definelabel CORE_800CD098,0x800CD098\n.definelabel CORE_800CD0A8,0x800CD0A8\n.definelabel CORE_800CD0AA,0x800CD0AA\n.definelabel CORE_800CD0AC,0x800CD0AC\n.definelabel CORE_800CD0AE,0x800CD0AE\n.definelabel CORE_800CD0B2,0x800CD0B2\n.definelabel CORE_800CDBC8,0x800CDBC8\n.definelabel CORE_800CDD58,0x800CDD58\n.definelabel CORE_800CE198,0x800CE198\n.definelabel CORE_800D037C,0x800D037C\n.definelabel CORE_800D03F8,0x800D03F8\n.definelabel CORE_800D110C,0x800D110C ; v & 1 == player is CPU, holds other bits?\n.definelabel CORE_800D110E,0x800D110E ; u16, holds coins temporarily\n.definelabel CORE_800D1123,0x800D1123 ; bool bowser suit. set at 800E3234\n.definelabel CORE_800D112C,0x800D112C ; points to player "object"\n.definelabel CORE_800D51F8,0x800D51F8\n.definelabel CORE_80100F94,0x80100F94\n.definelabel CORE_80100F95,0x80100F95\n.definelabel CORE_80100F9F,0x80100F9F\n.definelabel CORE_80100FA8,0x80100FA8\n.definelabel CORE_80100FF4,0x80100FF4\n.definelabel CORE_80101040,0x80101040\n.definelabel CORE_801011FC,0x801011FC\n.definelabel CORE_801014A0,0x801014A0\n.definelabel CORE_80101734,0x80101734\n.definelabel CORE_8010197C,0x8010197C\n.definelabel CORE_80101980,0x80101980\n.definelabel CORE_801019C4,0x801019C4\n.definelabel CORE_80105702_window_id,0x80105702\n.definelabel CORE_8010570C,0x8010570C\n\n; Item constants\n.definelabel ITEM_SKELETON_KEY,0x1\n.definelabel ITEM_CELLULAR_SHOPPER,0x4\n.definelabel ITEM_LUCKY_LAMP,0x9\n.definelabel ITEM_BOO_REPELLANT,0xC\n.definelabel ITEM_KOOPA_CARD,0xF\n.definelabel ITEM_LUCKY_CHARM,0x11\n\n.definelabel MAX_PLAYER_STAR_COUNT,0x63\n\n; CORE_800CD096\n; CORE_800CD098 ; persistent storage area?\n\n.definelabel BANK_COUNT,'.concat(U.length,"\n.definelabel SHOP_COUNT,").concat(K.length,"\n.definelabel GATE_COUNT,").concat($.length,"\n.definelabel STAR_COUNT,").concat(w.length,"\n.definelabel BOO_COUNT,").concat(u.length,"\n\nmain:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nlui   A0, hi(overlaycalls)\naddiu A0, A0, lo(overlaycalls)\nlui   A1, hi(CORE_800A1764)\njal   0x800359E0\n lh    A1, lo(CORE_800A1764)(A1)\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n      NOP\n      NOP\n\nfunc_80105E80:\nlui   V0, hi(CORE_800CD05D)\nlb    V0, lo(CORE_800CD05D)(V0)\nlui   AT, hi(CORE_800CD05E)\naddu  AT, AT, V0\nlb    V0, lo(CORE_800CD05E)(AT)\nsll   V0, V0, 1\nlui   AT, hi(D_8011D2C0)\naddu  AT, AT, V0\njr    RA\n lh    V0, lo(D_8011D2C0)(AT)\n\nfunc_80105EA8:\naddiu SP, SP, -0x28\nsw    RA, 0x24(SP)\nsw    S4, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   S4, hi(CORE_800CD058)\naddiu S4, S4, lo(CORE_800CD058)\nmove  S1, R0\nlui   S3, hi(shuffle_bias)\naddiu S3, S3, lo(shuffle_bias)\nlui   S2, hi(shuffle_order)\naddiu S2, S2, lo(shuffle_order)\n\nL80105EE0:\n; rand1 = GetRandomByte() % STAR_COUNT;\njal\tGetRandomByte\nnop\nli   A0, STAR_COUNT\ndiv  V0, A0\nnop\nmfhi S0\nnop\nandi  S0, S0, 0xff\nnop\n\n; rand2 = GetRandomByte() % STAR_COUNT;\njal\tGetRandomByte\nnop\nli   A0, STAR_COUNT\ndiv  V0, A0\nnop\nmfhi A0\nnop\nandi  A0, A0, 0xff\nnop\n\nbeq   S0, A0, L80105F50\n sll   V1, A0, 1\naddu  A3, V1, S3\nlh    V0, 0(A3)\nslt   V0, S0, V0\nbnezl V0, L80105F54\n addiu S1, S1, 1\nsll   A1, S0, 1\naddu  A2, A1, S3\nlh    V0, 0(A2)\nslt   V0, A0, V0\nbnezl V0, L80105F54\n addiu S1, S1, 1\naddu  A0, A1, S2\nlh    A1, 0(A0)\naddu  V1, V1, S2\nlhu   V0, 0(V1)\nsh    V0, 0(A0)\nsh    A1, 0(V1)\nlh    A1, 0(A2)\nlhu   V0, 0(A3)\nsh    V0, 0(A2)\nsh    A1, 0(A3)\nL80105F50:\naddiu S1, S1, 1\nL80105F54:\nslti  V0, S1, 0x3c\nbnez  V0, L80105EE0\n       NOP\nmove  S1, R0\nlui   A0, hi(shuffle_order)\naddiu A0, A0, lo(shuffle_order)\naddu  V1, S4, S1\nL80105F70:\nsll   V0, S1, 1\naddu  V0, V0, A0\nlbu   V0, 1(V0)\nsb    V0, 6(V1)\naddiu S1, S1, 1\nslti  V0, S1, STAR_COUNT\nbnez  V0, L80105F70\n addu  V1, S4, S1\nlw    RA, 0x24(SP)\nlw    S4, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x28\n\nfunc_80105FB0:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   V0, hi(CORE_800CD05D)\nlbu   V0, lo(CORE_800CD05D)(V0)\naddiu V0, V0, 1\nlui   AT, hi(CORE_800CD05D)\nsb    V0, lo(CORE_800CD05D)(AT)\nsll   V0, V0, 0x18\nsra   V0, V0, 0x18\nslti  V0, V0, STAR_COUNT\nbnez  V0, L8010602C\n       NOP\nlui   S0, hi(CORE_800CD065)\nlb    S0, lo(CORE_800CD065)(S0)\nlui   AT, hi(CORE_800CD05D)\nsb    R0, lo(CORE_800CD05D)(AT)\njal   0x80035FDC\n li    A0, 4\njal   func_80105EA8\n       NOP\nlui   V1, hi(CORE_800CD05E)\nlb    V1, lo(CORE_800CD05E)(V1)\nbne   S0, V1, L8010602C\n       NOP\nlui   V0, hi(CORE_800CD065)\nlbu   V0, lo(CORE_800CD065)(V0)\nlui   AT, hi(CORE_800CD05E)\nsb    V0, lo(CORE_800CD05E)(AT)\nlui   AT, hi(CORE_800CD065)\nsb    V1, lo(CORE_800CD065)(AT)\nL8010602C:\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\ndraw_star_space_state:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   S1, hi(CORE_800CD058)\naddiu S1, S1, lo(CORE_800CD058)\nmove  S0, R0\nlui   S2, hi(D_8011D2A0)\naddiu S2, S2, lo(D_8011D2A0)\nsll   V0, S0, 1\nL80106068:\naddu  V0, V0, S2\nlh    A0, 0(V0)\njal   0x80035FDC\n addiu S0, S0, 1\nslti  V0, S0, STAR_COUNT\nbnez  V0, L80106068\n sll   V0, S0, 1\nlb    V0, 5(S1)\naddu  V0, S1, V0\nlb    V0, 6(V0)\nsll   V0, V0, 1\nlui   A0, hi(star_space_indices)\naddu  A0, A0, V0\nlh    A0, lo(star_space_indices)(A0)\njal   SetSpaceType\n li    A1, 14 ; Star space type\nlb    V0, 5(S1)\naddu  V0, S1, V0\nlb    V0, 6(V0)\nsll   V0, V0, 1\nlui   A0, hi(D_8011D2A0)\naddu  A0, A0, V0\njal   0x8003602C ; board feature enabled?\n lh    A0, lo(D_8011D2A0)(A0)\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_801060E0:\nlui   A2, hi(CORE_800CD058)\naddiu A2, A2, lo(CORE_800CD058)\nmove  V1, R0\nlui   A3, hi(star_space_indices)\naddiu A3, A3, lo(star_space_indices)\nsll   A0, A0, 0x10\nsra   A0, A0, 0x10\nlui   T0, hi(D_8011D2A0)\naddiu T0, T0, lo(D_8011D2A0)\nsll   A1, V1, 1\nL80106108:\naddu  V0, A1, A3\nlh    V0, 0(V0)\nbnel  A0, V0, L8010613C\n addiu V1, V1, 1\nlb    V0, 5(A2)\naddu  V0, A2, V0\nlb    V0, 6(V0)\nbne   V1, V0, L80106148\n addu  V0, A1, T0\nlbu   V0, 1(V0)\nsb    V0, 0xe(A2)\nj     L8010614C\n li    V0, 1\nL8010613C:\nslti  V0, V1, STAR_COUNT\nbnez  V0, L80106108\n sll   A1, V1, 1\nL80106148:\nmove  V0, R0\nL8010614C:\njr    RA\n       NOP\n\nfunc_80106154:\naddiu SP, SP, -0x50\nsw    RA, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F28, 0x48(SP)\nsdc1  F26, 0x40(SP)\nsdc1  F24, 0x38(SP)\nsdc1  F22, 0x30(SP)\njal   0x8004EE68\n sdc1  F20, 0x28(SP)\nlw    S0, 0x8c(V0)\njal   PlaySound\n li    A0, 283\nli    A0, 58\njal   0x800D90C8\n move  A1, R0\nlui   AT, hi(D_8011FABC)\nsw    V0, lo(D_8011FABC)(AT)\nmove  S1, V0\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\njal   0x800461B4\n lh    A0, 0(V0)\nlhu   V0, 0xa(S1)\nori   V0, V0, 4\nsh    V0, 0xa(S1)\njal   0x800ECC54\n move  A0, S1\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, S0, 8\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S1)\nlui A0, 0xB\nori A0, A0, 4\njal   0x8000CED8\n li    A1, 2729\nsll   V0, V0, 0x10\nsra   S3, V0, 0x10\nmove  S0, S3\nlui   A1, 0x4000\nlui   A2, 0x41a0\nlui   A3, 0x3f80\njal   0x8000CD00\n move  A0, S0\nlui   A1, 0x41f0\njal   0x8000D018\n move  A0, S0\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n move  A0, S0\nmove  A0, S0\njal   0x8001C8A8\n li    A1, 1\nmtc1  R0, F20\nmove  S0, R0\nli    AT, 0x3F000000 ; 0.500000\nmtc1  AT, F24\nsll   S2, S3, 0x10\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F22\nL8010626C:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S1, 0x24\nadd.s F20, F20, F24\nmul.s F4, F20, F22\nmfc1  A1, F4\n      NOP\njal   0x8000D018\n sra   A0, S2, 0x10\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 6\nbnez  V0, L8010626C\n       NOP\nmove  S0, R0\nli    AT, 0x3ECC0000 ; 0.398438\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nsll   S2, S3, 0x10\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F22\nL801062CC:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S1, 0x24\nsub.s F20, F20, F24\nmul.s F4, F20, F22\nmfc1  A1, F4\n      NOP\njal   0x8000D018\n sra   A0, S2, 0x10\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 3\nbnez  V0, L801062CC\n       NOP\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F0\n      NOP\nmul.s F0, F20, F0\nmfc1  A1, F0\n      NOP\njal   0x8000D018\n move  A0, S3\njal   SleepProcess\n li    A0, 30\njal   PlaySound\n li    A0, 306\nmtc1  R0, F22\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F28\nli    AT, 0x3F190000 ; 0.597656\nori   AT, AT, 0x999a\nmtc1  AT, F26\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F24\nmove  S0, S3\nfunc_80106364:\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A2A0\n addiu A0, A0, 0x74\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F0\n      NOP\nadd.s F22, F22, F0\nc.le.s F28, F22\n      NOP\n      NOP\nbc1tl L801063BC\n sub.s F22, F22, F28\nL801063BC:\nc.lt.s F26, F20\n      NOP\nbc1f  L801063E0\n       NOP\nli    AT, 0x3D230000 ; 0.039795\nori   AT, AT, 0xd70a\nmtc1  AT, F0\n      NOP\nsub.s F20, F20, F0\nL801063E0:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S1, 0x24\nlwc1  F2, 0x30(S1)\nc.lt.s F24, F2\n      NOP\nbc1f  L80106424\n       NOP\nli    AT, 0x3F990000 ; 1.195312\nori   AT, AT, 0x999a\nmtc1  AT, F0\n      NOP\nsub.s F0, F2, F0\nswc1  F0, 0x30(S1)\nL80106424:\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F0\n      NOP\nmul.s F0, F20, F0\nmfc1  A1, F0\n      NOP\njal   0x8000D018\n move  A0, S0\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n move  A0, S0\nlwc1  F0, 0x30(S1)\nc.le.s F0, F24\n      NOP\n      NOP\nbc1t  L80106480\n li    V0, 1\nmove  V0, R0\nL80106480:\nc.le.s F20, F26\n      NOP\n      NOP\nbc1t  L80106498\n li    V1, 1\nmove  V1, R0\nL80106498:\nand   V0, V0, V1\nbeqz  V0, L801064BC\n       NOP\nmtc1  R0, F0\n      NOP\nc.eq.s F22, F0\n      NOP\nbc1t  L801064CC\n       NOP\nL801064BC:\njal   SleepVProcess\n       NOP\nj     func_80106364\n       NOP\nL801064CC:\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\naddiu A0, A0, 0x74\njal   0x8008A2A0\n move  A1, R0\njal   0x8000D044\n move  A0, S3\nlui   AT, hi(D_8011FAB8)\nsw    R0, lo(D_8011FAB8)(AT)\njal   EndProcess\n move  A0, R0\nlw    RA, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F28, 0x48(SP)\nldc1  F26, 0x40(SP)\nldc1  F24, 0x38(SP)\nldc1  F22, 0x30(SP)\nldc1  F20, 0x28(SP)\njr    RA\n addiu SP, SP, 0x50\n\nfunc_80106544:\naddiu SP, SP, -0x20\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F20, 0x18(SP)\nlw    S0, 0(A0)\nli    AT, 0x40800000 ; 4.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x34(S0)\nli    AT, 0xBF190000 ; -0.597656\nori   AT, AT, 0x999a\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x38(S0)\njal   SleepProcess\n li    A0, 3\nmtc1  R0, F2\nlwc1  F0, 0x38(S0)\nc.eq.s F0, F2\n      NOP\nbc1t  L801065BC\n       NOP\nmtc1  R0, F20\nL801065A0:\njal   SleepVProcess\n       NOP\nlwc1  F0, 0x38(S0)\nc.eq.s F0, F20\n      NOP\nbc1f  L801065A0\n       NOP\nL801065BC:\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F20, 0x18(SP)\njr    RA\n addiu SP, SP, 0x20\n\nshow_next_star_spot:\naddiu SP, SP, -0x30\nsw    RA, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nlui   S2, hi(CORE_800CD058)\naddiu S2, S2, lo(CORE_800CD058)\nlui   AT, hi(CORE_800A12D4)\nsw    R0, lo(CORE_800A12D4)(AT)\nmove  A0, R0\njal   0x800E5DD4\n move  A1, R0\nmove  S1, V0\njal   0x8004A520\n li    A0, 18 ; Here's the Star audio track\nlw    A0, 0(S1)\nli    A1, 2\nlui   A3, hi(tumble_face_tex_grin)\nlw    A3, lo(tumble_face_tex_grin)(A3)\njal   0x800EEFEC\n li    A2, 15\njal   0x800FFF44\n       NOP\nlb    V0, 5(S2)\nlui   AT, hi(CORE_800CD05E)\naddu  AT, AT, V0\nlb    V0, lo(CORE_800CD05E)(AT)\nsll   V0, V0, 2\nlui   A0, hi(D_8011FA78)\naddu  A0, A0, V0\njal   0x800D9B24\n lw    A0, lo(D_8011FA78)(A0)\nli    A0, 2\njal   InitFadeIn\n li    A1, 16\nL80106660:\njal   GetFadeStatus\n       NOP\nbeqz  V0, L80106680\n       NOP\njal   SleepVProcess\n       NOP\nj     L80106660\n       NOP\nL80106680:\njal   0x800E6FCC\n       NOP\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F12\njal   0x800E9730\n       NOP\njal   func_80106544\n move  A0, S1\nlb    V0, 5(S2)\nbnez  V0, L801066D8\n       NOP\njal   0x80035F98\n li    A0, 4\nbnez  V0, L801066D8\n       NOP\nli    V0, ").concat(le?1:0,"\nsubu  V0, R0, V0\nandi  V0, V0, 0x5e09\nj     L801066F0\n ori   A1, V0, 0x5e00\nL801066D8:\nli    V0, ").concat(le?1:0,"\nsubu  V0, R0, V0\nandi  V0, V0, 0x5e09 ; I'll show you where the first star your after is. Theres another star here! One is a mirage.\nori   A1, V0, 0x5e01 ; OK! The next star youre after is over this way!\nL801066F0:\nlh    A0, 8(S1)\nli    A2, -1\njal   0x8005B43C\n li    A3, -1\nlh    A0, 8(S1)\njal   0x80060C14\n li    A1, 1\njal   PlaySound\n li    A0, 679\nlh    A0, 8(S1)\njal   0x800EE2C0\n li    S0, 2        ; TODO: Is this Spiny Desert's index, or just coincidence?\nsw    S0, 0x10(SP)\nlw    A0, 0(S1)\nli    A1, -1\nmove  A2, R0\njal   0x800D9D84\n li    A3, 6\nlh    A0, 8(S1)\njal   0x80060EA8\n li    A1, 1\nlw    V0, 0(S1)\nlw    V0, 0x3c(V0)\nlw    V0, 0x40(V0)\njal   0x8001FDE8\n lh    A0, 0(V0)\nli    V0, ").concat(le?1:0,"\nbeqz  V0, L80106778\n       NOP\njal   GetRandomByte\n       NOP\nandi  V0, V0, 1\nbeqz  V0, L8010679C\n       NOP\nL80106778:\nlb    V0, 5(S2)\naddu  V0, S2, V0\nlb    V0, 6(V0)\nsll   V0, V0, 1\nlui   A0, hi(D_8011D2C0)\naddu  A0, A0, V0\njal   GetSpaceData\n lh    A0, lo(D_8011D2C0)(A0)\nmove  S3, V0\nL8010679C:\njal   0x800E9748\n addiu A0, S3, 8\nli    AT, 0x40A00000 ; 5.000000\nmtc1  AT, F12\njal   0x800E9AC8\n       NOP\njal   SleepProcess\n li    A0, 5\nL801067BC:\njal   0x800E9AE0\n       NOP\nbeqz  V0, L801067DC\n       NOP\njal   SleepVProcess\n       NOP\nj     L801067BC\n       NOP\nL801067DC:\njal   SleepProcess\n li    A0, 5\nli    AT, 0x40E00000 ; 7.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nmove  S0, V0\nsll   V0, S0, 2\nlw    A0, 0(S1)\nlui   A1, hi(D_8011D2D0)\naddu  A1, A1, V0\njal   0x800EF070\n lw    A1, lo(D_8011D2D0)(A1)\nlw    A0, 0(S1)\nli    A1, -1\njal   0x800D9CE8\n li    A2, 2\nli    V0, ").concat(le?1:0,'\nbnez   V0, L80106860\n move  A2, R0\nlui   A0, hi(func_80106154)\naddiu A0, A0, lo(func_80106154)\nli    A1, 18432\njal   InitProcess\n move  A3, R0\nlui   AT, hi(D_8011FAB8)\nsw    V0, lo(D_8011FAB8)(AT)\nsw    S3, 0x8c(V0)\njal   SleepProcess\n li    A0, 30\nj     L8010686C\n sll   V0, S0, 2\nL80106860:\nlui   AT, hi(D_8011FAB8)\nsw    R0, lo(D_8011FAB8)(AT)\nsll   V0, S0, 2\nL8010686C:\nlh    A0, 8(S1)\nlui   A1, hi(D_8011D2EC)\naddu  A1, A1, V0\nlw    A1, lo(D_8011D2EC)(A1)\nli    A2, -1\njal   0x8005B43C\n li    A3, -1\nlh    A0, 8(S1)\njal   0x80060C14\n li    A1, 1\nlh    A0, 8(S1)\njal   0x800EE2C0\n       NOP\nli    V0, 2\nsw    V0, 0x10(SP)\nlw    A0, 0(S1)\nli    A1, -1\nmove  A2, R0\njal   0x800D9D84\n li    A3, 6\nlh    A0, 8(S1)\njal   0x80060EA8\n li    A1, 1\njal   0x8004A994\n li    A0, 90\njal   SleepProcess\n li    A0, 30\nli    A0, 2\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 17\nli    V0, 1\nlui   AT, hi(CORE_800A12D4)\njal   0x80100130\n sw    V0, lo(CORE_800A12D4)(AT)\nlui   V0, hi(D_8011FABC)\nlw    V0, lo(D_8011FABC)(V0)\nlw    V0, 0x3c(V0)\nlw    V0, 0x40(V0)\njal   0x80046558\n lh    A0, 0(V0)\nlui   A0, hi(D_8011FABC)\njal   0x800D9B54\n lw    A0, lo(D_8011FABC)(A0)\nlui   V0, hi(CORE_800CD05D)\nlb    V0, lo(CORE_800CD05D)(V0)\nlui   AT, hi(CORE_800CD05E)\naddu  AT, AT, V0\nlb    V0, lo(CORE_800CD05E)(AT)\nsll   V0, V0, 2\nlui   A0, hi(D_8011FA78)\naddu  A0, A0, V0\njal   0x800D9AA4\n lw    A0, lo(D_8011FA78)(A0)\njal   0x800E60D8\n move  A0, S1\njal   0x800F8C74\n       NOP\njal   0x8004819C\n li    A0, 1\njal   0x8004849C\n       NOP\njal   SleepVProcess\n       NOP\nlw    RA, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x30\n\n; This custom alternative is the minimum necessary to skip the star showing.\nshow_next_star_no_op:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\n\n; Causes fade back in (star shaped fade in)\nli    A0, 2\njal   InitFadeIn\n li    A1, 16\n\n; One or more of these may be unnecessary...\njal   0x800F8C74\n nop\njal   0x8004819C\n li    A0, 1\njal   0x8004849C\n nop\n\njal SleepVProcess\nnop\n\nlw    RA, 0x10(SP)\njr    RA\naddiu SP, SP, 0x18\n\n; separate process that does "star get" celebration.\nfunc_8010698C:\naddiu SP, SP, -0x60\nsw    RA, 0x34(SP)\nsw    S4, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F28, 0x58(SP)\nsdc1  F26, 0x50(SP)\nsdc1  F24, 0x48(SP)\nsdc1  F22, 0x40(SP)\njal   0x8004EE68\n sdc1  F20, 0x38(SP)\nlw    S2, 0x8c(V0)\njal   GetPlayerStruct\n li    A0, -1\nmove  S4, V0\njal   PlaySound\n li    A0, 283\nli    A0, 26\njal   0x800D90C8\n move  A1, R0\nmove  S1, V0\nlhu   V0, 0xa(S1)\nori   V0, V0, 4\nsh    V0, 0xa(S1)\njal   0x800ECC54\n move  A0, S1\njal   GetPlayerStruct\n li    A0, -1\nlbu   S0, 0xf(V0)\nsll   S0, S0, 0x18\nsra   S0, S0, 0x18\nandi  S0, S0, 0xffff\njal   GetPlayerStruct\n li    A0, -1\nlbu   A1, 0x10(V0)\nsll   A1, A1, 0x18\nsra   A1, A1, 0x18\nmove  A0, S0\njal   GetAbsSpaceIndexFromChainSpaceIndex\n andi  A1, A1, 0xffff\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nli    V1, 146\nbne   V0, V1, L80106A9C\n       NOP\nlwc1  F2, 0x10(S2)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F0\nlw    A1, 0xc(S2)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S2)\njal   0x80089A10\n addiu A0, S1, 0xc\nlui   V0, hi(CORE_800A0550)\nlw    V0, lo(CORE_800A0550)(V0)\nlw    A1, 0x10(V0)\nlw    A2, 0x14(V0)\nlw    A3, 0x18(V0)\njal   0x80089A10\n addiu A0, SP, 0x10\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F0\n      NOP\nj     L80106B00\n swc1  F0, 0x30(S1)\nL80106A9C:\nlwc1  F6, 0x10(S2)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F2\nlwc1  F4, 0x14(S2)\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F0\nlw    A1, 0xc(S2)\nadd.s F2, F6, F2\nmfc1  A2, F2\nadd.s F0, F4, F0\nmfc1  A3, F0\n      NOP\njal   0x80089A10\n addiu A0, S1, 0xc\nlui   V0, hi(CORE_800A0550)\nlw    V0, lo(CORE_800A0550)(V0)\nlw    A1, 0x10(V0)\nlw    A2, 0x14(V0)\nlw    A3, 0x18(V0)\njal   0x80089A10\n addiu A0, SP, 0x10\nli    AT, 0x420C0000 ; 35.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S1)\nL80106B00:\nlui A0, 0xb\nori A0, A0, 4\njal   0x8000CED8\n li    A1, 2729\nsll   V0, V0, 0x10\nsra   S3, V0, 0x10\nmove  S0, S3\nmove  A0, S0\nlui   A1, 0x3f80\nlui   A2, 0x41a0\njal   0x8000CD00\n move  A3, A1\nlui   A1, 0x4170\njal   0x8000D018\n move  A0, S0\nmove  A0, S0\njal   0x8001C8A8\n li    A1, 1\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n move  A0, S0\nmtc1  R0, F20\nmove  S0, R0\nli    AT, 0x3F000000 ; 0.500000\nmtc1  AT, F24\nsll   S2, S3, 0x10\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F22\nL80106B84:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S1, 0x24\nadd.s F20, F20, F24\nmul.s F8, F20, F22\nmfc1  A1, F8\n      NOP\njal   0x8000D018\n sra   A0, S2, 0x10\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 6\nbnez  V0, L80106B84\n       NOP\nmove  S0, R0\nli    AT, 0x3ECC0000 ; 0.398438\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nsll   S2, S3, 0x10\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F22\nL80106BE4:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S1, 0x24\nsub.s F20, F20, F24\nmul.s F8, F20, F22\nmfc1  A1, F8\n      NOP\njal   0x8000D018\n sra   A0, S2, 0x10\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 3\nbnez  V0, L80106BE4\n       NOP\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F0\n      NOP\nmul.s F0, F20, F0\nmfc1  A1, F0\n      NOP\njal   0x8000D018\n move  A0, S3\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 306\nmtc1  R0, F22\nlw    V0, 0x24(S4)\nlwc1  F2, 0x10(V0)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F0\nlw    A1, 0xc(V0)\nsub.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(V0)\njal   0x80089A10\n addiu A0, SP, 0x10\naddiu A2, S1, 0xc\nmove  A0, A2\naddiu A1, SP, 0x10\njal   0x800ED35C\n li    A3, 40\nmove  S0, R0\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nli    AT, 0x3D4C0000 ; 0.049805\nori   AT, AT, 0xcccd\nmtc1  AT, F26\nmtc1  R0, F24\nmove  S2, S3\nL80106CB8:\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A2A0\n addiu A0, A0, 0x74\nsub.s F20, F20, F26\nc.lt.s F20, F24\n      NOP\n      NOP\nbc1f  L80106D08\n add.s F22, F22, F28\nmov.s F20, F24\nL80106D08:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S1, 0x24\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F0\n      NOP\nmul.s F0, F20, F0\nmfc1  A1, F0\n      NOP\njal   0x8000D018\n move  A0, S2\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n move  A0, S2\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0x28\nbnez  V0, L80106CB8\n       NOP\njal   0x800D9B54\n move  A0, S1\njal   0x8000D044\n move  A0, S3\nlw    A0, 0x24(S4)\njal   0x800ECC0C\n addiu A0, A0, 0x18\nli    A0, -1\njal   0x800FF900\n li    A1, 5\nlui   V0, hi(D_8011D308)\nlw    V0, lo(D_8011D308)(V0)\nbeqz  V0, L80106DBC\n       NOP\njal   0x8004A670\n li    A0, 14\nj     L80106DC4\n       NOP\nL80106DBC:\njal   0x8004A520\n li    A0, 111 ; Fanfare audio track\nL80106DC4:\nlui   A0, hi(current_player_index)\naddiu A0, A0, lo(current_player_index)\nlb    V0, 0(A0)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_stars)\naddu  V0, V0, V1\nlbu   V0, lo(p1_stars)(V0)\naddiu V0, V0, 1 ; add 1 star\nlui   AT, hi(p1_stars)\naddu  AT, AT, V1\nsb    V0, lo(p1_stars)(AT)\nlb    V1, 0(A0)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V1, V0, 3\nlui   V0, hi(p1_stars)\naddu  V0, V0, V1\nlb    V0, lo(p1_stars)(V0)\nslti  V0, V0, 0x64\nbnez  V0, L80106E30\n li    A0, -1\nli    V0, 99\nlui   AT, hi(p1_stars)\naddu  AT, AT, V1\nsb    V0, lo(p1_stars)(AT)\nL80106E30:\nli    A1, 6\njal   0x800F2304\n move  A2, R0\nlui   A1, hi(current_player_index)\nlb    A1, lo(current_player_index)(A1)\njal   0x8004ACE0\n li    A0, 610\nlui   V0, hi(D_8011D308)\nlw    V0, lo(D_8011D308)(V0)\nbeqz  V0, L80106EA8\n       NOP\njal   SleepProcess\n li    A0, 16\nlui   A0, hi(CORE_800CDBC8)\njal   0x80003A70\n lh    A0, lo(CORE_800CDBC8)(A0)\njal   0x8004A918\n li    A0, 111\njal   0x8004A880\n move  A0, R0\njal   SleepProcess\n li    A0, 110\nlui   A0, hi(CORE_800CDBC8)\nlh    A0, lo(CORE_800CDBC8)(A0)\njal   0x80003B70\n move  A1, R0\njal   0x8004A72C\n li    A0, 15\nj     L80106EB0\n       NOP\nL80106EA8:\njal   SleepProcess\n li    A0, 60\nL80106EB0:\njal   EndProcess\n move  A0, R0\nlw    RA, 0x34(SP)\nlw    S4, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F28, 0x58(SP)\nldc1  F26, 0x50(SP)\nldc1  F24, 0x48(SP)\nldc1  F22, 0x40(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x60\n\nfunc_80106EEC:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S1, A0\nlui   AT, hi(CORE_800D037C)\nsh    R0, lo(CORE_800D037C)(AT)\nlui   A0, hi(func_8010698C)\naddiu A0, A0, lo(func_8010698C)\nli    A1, 18432\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S0, V0\njal   0x8004EE68\n sw    S1, 0x8c(S0)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S0\njal   0x8004EE18\n       NOP\nli    V0, 1\nlui   AT, hi(CORE_800D037C)\nsh    V0, lo(CORE_800D037C)(AT)\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\n; View map handling?\n__PP64_INTERNAL_VIEW_MAP:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nli    S0, 1\nlui   AT, hi(CORE_800CDD58)\nsh    S0, lo(CORE_800CDD58)(AT) ; set 1 to indicate map is being viewed?\nlui   AT, hi(CORE_800D037C)\njal   0x8004EE68\n sh    R0, lo(CORE_800D037C)(AT)\nmove  A0, V0\njal   0x80047B80\n li    A1, 128\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   A0, hi(p1_controller)\naddu  A0, A0, V0\njal   0x8010067C\n lbu   A0, lo(p1_controller)(A0)\njal   0x8004EE68\n       NOP\nmove  A0, V0\njal   0x80047BAC\n li    A1, 128\nlui   AT, hi(CORE_800CDD58)\nsh    R0, lo(CORE_800CDD58)(AT)\nlui   AT, hi(CORE_800D037C)\nsh    S0, lo(CORE_800D037C)(AT)\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n; Could this be executed when returning to the board, from "view map" or other modes?\nfunc_80106FE8:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nlui   AT, hi(CORE_800D037C)\njal   0x8004EE68\n sh    R0, lo(CORE_800D037C)(AT)\nmove  A0, V0\njal   0x80047B80\n li    A1, 128\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   A0, hi(p1_controller)\naddu  A0, A0, V1\njal   0x8010067C\n lbu   A0, lo(p1_controller)(A0)\nli    V0, 1\nlui   AT, hi(CORE_800D037C)\nsh    V0, lo(CORE_800D037C)(AT)\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n; Helper for choosing an item from the item shop message box\nfunc_80107174:\naddiu SP, SP, -0x48\nsw    RA, 0x40(SP)\nsw    S5, 0x3c(SP)\nsw    S4, 0x38(SP)\nsw    S3, 0x34(SP)\nsw    S2, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nmove  S5, A0\nmove  S2, R0\nlui   A1, hi(D_8011F8D0)\naddiu A1, A1, lo(D_8011F8D0)\nlwl   V0, 0(A1)\nlwr   V0, 3(A1)\nswl   V0, 0x20(SP)\nswr   V0, 0x23(SP)\nmove  S1, R0\nlui   S4, hi(current_player_index)\naddiu S4, S4, lo(current_player_index)\naddiu S3, SP, 0x18\nL801071C4:\nlb    V0, 0(S4)\nbne   S1, V0, L80107278\n sll   V0, S1, 3\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(CORE_800D110C)\naddu  AT, AT, V0\nlbu   V0, lo(CORE_800D110C)(AT)\nandi  V0, V0, 1\nbeqz  V0, L8010722C\n sll   S0, S1, 3\njal   func_8011CE94\n addiu S1, S1, 1\nmove  S2, V0\nlb    V1, 0(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nli    V1, 1024\nj     L8010729C\n sh    V1, 0(V0)\nL8010722C:\nsubu  S0, S0, S1\nsll   S0, S0, 3\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\naddu  V0, SP, V0\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nlbu   A1, 0x20(V0)\njal   0x8005FE54\n addiu S1, S1, 1\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\nsll   V0, V0, 1\naddu  V0, V0, S3\nli    V1, -1\nj     L8010729C\n sh    V1, 0(V0)\nL80107278:\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nsh    R0, 0(V0)\naddiu S1, S1, 1\nL8010729C:\nslti  V0, S1, 4\nbnez  V0, L801071C4\n       NOP\nbeqz  S2, L80107354\n li    A1, 2\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8005B63C\n li    A2, 2\nmove  S0, R0\naddiu S1, SP, 0x18\nL801072C8:\naddiu S2, S2, -1\nbnez  S2, L80107304\n       NOP\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S1\nli    V1, -32768\nsh    V1, 0(V0)\nL80107304:\nbnez  S0, L8010732C\n li    V0, 5\njal   0x800EDC40\n       NOP\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nj     L8010733C\n andi  V0, V0, 0xff\nL8010732C:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nL8010733C:\njal   0x8005F698\n sw    V0, 0x10(SP)\nbnez  S2, L801072C8\n addiu S0, S0, 1\nj     L8010736C\n move  S1, R0\nL80107354:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\njal   0x8005F744\n move  S1, R0\nL8010736C:\naddu  V0, S5, S1\nL80107370:\nlbu   V0, 0(V0)\nbnezl V0, L80107394\n addiu S1, S1, 1\nsll   A1, S1, 0x10\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8006010C\n sra   A1, A1, 0x10\naddiu S1, S1, 1\nL80107394:\nslti  V0, S1, 9\nbnez  V0, L80107370\n addu  V0, S5, S1\nmove  S1, R0\nli    S0, -1\nsll   A1, S1, 0x10\nL801073AC:\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nsra   A1, A1, 0x10\njal   0x8005E1D8\n move  A2, R0\nmove  S1, V0\nbeq   S1, S0, L801073E0\n addu  V0, S5, S1\nlbu   V0, 0(V0)\nbeqz  V0, L801073AC\n sll   A1, S1, 0x10\nj     L801073E4\n move  V0, S1\nL801073E0:\nli    V0, -1\nL801073E4:\nlw    RA, 0x40(SP)\nlw    S5, 0x3c(SP)\nlw    S4, 0x38(SP)\nlw    S3, 0x34(SP)\nlw    S2, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\njr    RA\n addiu SP, SP, 0x48\n\n; Helper for choosing an item from the item shop message box\nfunc_80107408:\naddiu SP, SP, -0x48\nsw    RA, 0x40(SP)\nsw    S5, 0x3c(SP)\nsw    S4, 0x38(SP)\nsw    S3, 0x34(SP)\nsw    S2, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nmove  S2, R0\nlui   A1, hi(D_8011F8D0)\naddiu A1, A1, lo(D_8011F8D0)\nlwl   V0, 0(A1)\nlwr   V0, 3(A1)\nswl   V0, 0x20(SP)\nswr   V0, 0x23(SP)\nmove  S1, R0\naddiu S3, SP, 0x18\nli    S5, 1024\naddiu S4, SP, 0x20\nL80107454:\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nbne   S1, V0, L801074F8\n sll   V0, S1, 3\nsubu  V0, V0, S1\nsll   S0, V0, 3\nlui   V0, hi(CORE_800D110C)\naddu  V0, V0, S0\nlbu   V0, lo(CORE_800D110C)(V0)\nandi  V0, V0, 1\nbeql  V0, R0, L801074AC\n sll   S0, S1, 3\njal   func_8011D1F8\n addiu S1, S1, 1\nmove  S2, V0\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\nsll   V0, V0, 1\naddu  V0, V0, S3\nj     L8010751C\n sh    S5, 0(V0)\nL801074AC:\nsubu  S0, S0, S1\nsll   S0, S0, 3\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\naddu  V0, S4, V0\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nlbu   A1, 0(V0)\njal   0x8005FE54\n addiu S1, S1, 1\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\nsll   V0, V0, 1\naddu  V0, V0, S3\nli    V1, -1\nj     L8010751C\n sh    V1, 0(V0)\nL801074F8:\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nsh    R0, 0(V0)\naddiu S1, S1, 1\nL8010751C:\nslti  V0, S1, 4\nbnez  V0, L80107454\n       NOP\nbeqz  S2, L801075D4\n li    A1, 2\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8005B63C\n li    A2, 2\nmove  S0, R0\naddiu S1, SP, 0x18\nL80107548:\naddiu S2, S2, -1\nbnez  S2, L80107584\n       NOP\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S1\nli    V1, -32768\nsh    V1, 0(V0)\nL80107584:\nbnez  S0, L801075AC\n li    V0, 5\njal   0x800EDC40\n       NOP\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nj     L801075BC\n andi  V0, V0, 0xff\nL801075AC:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nL801075BC:\njal   0x8005F698\n sw    V0, 0x10(SP)\nbnez  S2, L80107548\n addiu S0, S0, 1\nj     L801075E8\n       NOP\nL801075D4:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\njal   0x8005F744\n lh    A3, 0x1e(SP)\nL801075E8:\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nmove  A1, R0\njal   0x8005E1D8\n li    A2, 1\nlw    RA, 0x40(SP)\nlw    S5, 0x3c(SP)\nlw    S4, 0x38(SP)\nlw    S3, 0x34(SP)\nlw    S2, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\njr    RA\n addiu SP, SP, 0x48\n\nfunc_80107620:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   S1, hi(current_player_index)\nlb    S1, lo(current_player_index)(S1)\nmove  V1, R0\nL8010763C:\nbeq   V1, S1, L80107660\n sll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_stars)\naddu  AT, AT, V0\nlb    V0, lo(p1_stars)(AT)\nbnez  V0, L80107670\n li    V0, 4\nL80107660:\naddiu V1, V1, 1\nslti  V0, V1, 4\nbnez  V0, L8010763C\n li    V0, 4\nL80107670:\nbeq   V1, V0, L801076E4\n sll   V0, S1, 3\nsubu  V0, V0, S1\nsll   S0, V0, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, S0\nlh    V0, lo(p1_coins)(V0)\nslti  V0, V0, 0x32\nbnez  V0, L801076E8\n move  V1, R0\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nlui   V1, hi(p1_coins)\naddu  V1, V1, S0\nlh    V1, lo(p1_coins)(V1)\naddiu V1, V1, 0xa\nslt   V0, V0, V1\nbeqz  V0, L801076E4\n li    V0, 1\nlui   AT, hi(D_8011FAD4)\nsw    V0, lo(D_8011FAD4)(AT)\nlui   V0, hi(p1_stars)\naddu  V0, V0, S0\nlb    V0, lo(p1_stars)(V0)\nslti  V0, V0, MAX_PLAYER_STAR_COUNT\nbnez  V0, L8010773C\n       NOP\nL801076E4:\nmove  V1, R0\nL801076E8:\nbeq   V1, S1, L80107710\n sll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslti  V0, V0, 5\nbeqz  V0, L80107720\n li    V0, 4\nL80107710:\naddiu V1, V1, 1\nslti  V0, V1, 4\nbnez  V0, L801076E8\n li    V0, 4\nL80107720:\nbeq   V1, V0, L80107734\n li    V0, 2\nlui   AT, hi(D_8011FAD4)\nj     L8010773C\n sw    R0, lo(D_8011FAD4)(AT)\nL80107734:\nlui   AT, hi(D_8011FAD4)\nsw    V0, lo(D_8011FAD4)(AT)\nL8010773C:\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_80107750:\naddiu SP, SP, -0x38\nsw    RA, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nlui   S3, hi(current_player_index)\nlb    S3, lo(current_player_index)(S3)\nmove  S0, R0\naddiu V1, SP, 0x10\nli    A0, -1\nsll   V0, S0, 2\nL80107780:\naddu  V0, V0, V1\nsw    A0, 0(V0)\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L80107780\n sll   V0, S0, 2\nmove  S0, R0\naddiu S1, SP, 0x10\nli    S2, -1\nL801077A4:\njal   0x800EEA58\n move  A0, S0\nmove  V1, V0\nL801077B0:\nsll   V0, V1, 2\naddu  V0, V0, S1\nlw    V0, 0(V0)\nbeq   V0, S2, L801077CC\n sll   V0, V1, 2\nj     L801077B0\n addiu V1, V1, 1\nL801077CC:\naddu  V0, V0, S1\nsw    S0, 0(V0)\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L801077A4\n       NOP\njal   func_80107620\n       NOP\nlui   V1, hi(D_8011FAD4)\nlw    V1, lo(D_8011FAD4)(V1)\nli    V0, 1\nbne   V1, V0, L8010785C\n addiu A0, SP, 0x10\nmove  S0, R0\nsll   V0, S0, 2\nL80107808:\naddu  V0, V0, A0\nlw    V1, 0(V0)\nbeq   V1, S3, L80107834\n sll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_stars)\naddu  AT, AT, V0\nlb    V0, lo(p1_stars)(AT)\nbnez  V0, L8010784C\n       NOP\nL80107834:\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L80107808\n sll   V0, S0, 2\nj     L801078BC\n li    V0, 4\nL8010784C:\nlui   AT, hi(D_8011FAD8)\nsw    V1, lo(D_8011FAD8)(AT)\nj     L801078BC\n li    V0, 4\nL8010785C:\nlui   V0, hi(D_8011FAD4)\nlw    V0, lo(D_8011FAD4)(V0)\nbnez  V0, L801078BC\n li    V0, 4\nmove  S0, R0\naddiu A0, SP, 0x10\nsll   V0, S0, 2\nL80107878:\naddu  V0, V0, A0\nlw    V1, 0(V0)\nbeq   V1, S3, L801078A8\n sll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslti  V0, V0, 5\nbeqz  V0, L8010784C\n       NOP\nL801078A8:\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L80107878\n sll   V0, S0, 2\nli    V0, 4\nL801078BC:\nbne   S0, V0, L801078CC\n li    V0, 2\nlui   AT, hi(D_8011FAD4)\nsw    V0, lo(D_8011FAD4)(AT)\nL801078CC:\nlw    RA, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x38\n\nfunc_801078E8:\naddiu SP, SP, -0x48\nsw    RA, 0x44(SP)\nsw    S6, 0x40(SP)\nsw    S5, 0x3c(SP)\nsw    S4, 0x38(SP)\nsw    S3, 0x34(SP)\nsw    S2, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nmove  S5, A0\nmove  S6, A1\nmove  S4, A2\nmove  S2, R0\nlui   A1, hi(D_8011F8D0)\naddiu A1, A1, lo(D_8011F8D0)\nlwl   V0, 0(A1)\nlwr   V0, 3(A1)\nswl   V0, 0x20(SP)\nswr   V0, 0x23(SP)\nmove  S1, R0\naddiu S3, SP, 0x18\nL8010793C:\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nbne   S1, V0, L80107A18\n sll   V0, S1, 3\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(CORE_800D110C)\naddu  AT, AT, V0\nlbu   V0, lo(CORE_800D110C)(AT)\nandi  V0, V0, 1\nbeqz  V0, L801079CC\n sll   S0, S1, 3\nbnez  S6, L8010798C\n       NOP\njal   func_80107750\n       NOP\nlui   V0, hi(D_8011FAD4)\nlw    V0, lo(D_8011FAD4)(V0)\nj     L80107998\n addiu S2, V0, 1\nL8010798C:\nlui   V0, hi(D_8011FAD8)\nlw    V0, lo(D_8011FAD8)(V0)\naddiu S2, V0, 1\nL80107998:\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nli    V1, 1024\nj     L80107A38\n sh    V1, 0(V0)\nL801079CC:\nsubu  S0, S0, S1\nsll   S0, S0, 3\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\naddu  V0, SP, V0\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nlbu   A1, 0x20(V0)\njal   0x8005FE54\n addiu S1, S1, 1\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\nsll   V0, V0, 1\naddu  V0, V0, S3\nli    V1, -1\nj     L80107A3C\n sh    V1, 0(V0)\nL80107A18:\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nsh    R0, 0(V0)\nL80107A38:\naddiu S1, S1, 1\nL80107A3C:\nslti  V0, S1, 4\nbnez  V0, L8010793C\n       NOP\nbeqz  S2, L80107AF4\n li    A1, 2\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8005B63C\n li    A2, 2\nmove  S0, R0\naddiu S1, SP, 0x18\nL80107A68:\naddiu S2, S2, -1\nbnez  S2, L80107AA4\n       NOP\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S1\nli    V1, -32768\nsh    V1, 0(V0)\nL80107AA4:\nbnez  S0, L80107ACC\n li    V0, 5\njal   0x800EDC40\n       NOP\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nj     L80107ADC\n andi  V0, V0, 0xff\nL80107ACC:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nL80107ADC:\njal   0x8005F698\n sw    V0, 0x10(SP)\nbnez  S2, L80107A68\n addiu S0, S0, 1\nj     L80107B0C\n move  S1, R0\nL80107AF4:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\njal   0x8005F744\n move  S1, R0\nL80107B0C:\naddu  V0, S5, S1\nL80107B10:\nlbu   V0, 0(V0)\nbnezl V0, L80107B34\n addiu S1, S1, 1\nsll   A1, S1, 0x10\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8006010C\n sra   A1, A1, 0x10\naddiu S1, S1, 1\nL80107B34:\nslti  V0, S1, 4\nbnez  V0, L80107B10\n addu  V0, S5, S1\nmove  S1, R0\nli    S0, -1\nsll   A1, S1, 0x10\nL80107B4C:\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nsra   A1, A1, 0x10\njal   0x8005E1D8\n move  A2, S4\nbnez  S4, L80107B78\n move  S1, V0\nbne   S1, S0, L80107B7C\n addu  V0, S5, S1\nj     L80107B8C\n li    V0, -1\nL80107B78:\naddu  V0, S5, S1\nL80107B7C:\nlbu   V0, 0(V0)\nbeqz  V0, L80107B4C\n sll   A1, S1, 0x10\nmove  V0, S1\nL80107B8C:\nlw    RA, 0x44(SP)\nlw    S6, 0x40(SP)\nlw    S5, 0x3c(SP)\nlw    S4, 0x38(SP)\nlw    S3, 0x34(SP)\nlw    S2, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\njr    RA\n addiu SP, SP, 0x48\n\nfunc_80107BB4:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nmove  A1, R0\njal   func_801078E8\n li    A2, 1\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nfunc_80107BD4:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nli    A1, 1\njal   func_801078E8\n move  A2, R0\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\noverlaycall0:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\n; Declare which board index this is.\nli    V0, ').concat(r,"\nlui   AT, hi(CORE_800CD059)\nsb    V0, lo(CORE_800CD059)(AT)\nli    A0, 10\njal   InitObjSys\n move  A1, R0\nli    A0, 71\nmove  A1, R0\njal   0x80048228\n li    A2, 402\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n; does setup that only occurs once per board game\noverlaycall1:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nli    A0, 10\njal   InitObjSys\n move  A1, R0\n; set players onto the 0 chain\nmove  A0, R0\nmove  A1, R0\njal   SetPlayerOntoChain\n move  A2, R0\nli    A0, 1\nmove  A1, R0\njal   SetPlayerOntoChain\n move  A2, R0\nli    A0, 2\nmove  A1, R0\njal   SetPlayerOntoChain\n move  A2, R0\nli    A0, 3\nmove  A1, R0\njal   SetPlayerOntoChain\n move  A2, R0\njal   0x80035FDC\n li    A0, 3\njal   func_80105EA8\n       NOP\njal   0x8003602C\n li    A0, 18\nlui   V0, hi(bank_coin_total)\naddiu V0, V0, lo(bank_coin_total)\nsh    R0, 0(V0) ; clear the bank coins\nsh    R0, -6(V0)\nsh    R0, -8(V0)\nsh    R0, -0x1c(V0) ; 800CD098\njal   0x8004819C\n li    A0, 1\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nsetup_routine:\naddiu SP, SP, -0x38\nsw    RA, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F20, 0x30(SP)\nli    A0, 160\njal   InitObjSys\n li    A1, 40\nli    A0, 1\nli    A1, 255\nli    A2, 255\njal   0x80019514\n li    A3, 255\nli    A0, 2\nli    A1, 200\nli    A2, 200\njal   0x80019514\n li    A3, 200\nJAL   __PP64_INTERNAL_ADDITIONAL_BG_CHOICE\n NOP\nmove  A0, V0 ; Determined by user-customizable hook\nli    A1, ").concat(t.boardDefFile,"\nli    A2, ").concat(t.pauseBgDir,"\njal   0x800F89D0 ; setup board?\n move  A3, R0\nlui   A0, hi(D_8011D31C)\njal   0x800EBCFC\n addiu A0, A0, lo(D_8011D31C)\nlui   A0, hi(D_8011D320)\njal   0x800EBD54\n addiu A0, A0, lo(D_8011D320)\n\n; begin arrow rotation\n").concat(ie.join("\n"),"\n; end arrow rotation\n\nlui   A1, hi(boo_event)\naddiu A1, A1, lo(boo_event)\njal   0x800E2960\n move  A0, R0\nlui   A1, hi(func_8010F2FC)\naddiu A1, A1, lo(func_8010F2FC)\njal   0x800E2960\n li    A0, 1\nlui   A1, hi(func_8010F6C4)\naddiu A1, A1, lo(func_8010F6C4)\njal   0x800E2960\n li    A0, 9\nlui   A1, hi(func_8010F730)\naddiu A1, A1, lo(func_8010F730)\njal   0x800E2960\n li    A0, 2\nlui   A1, hi(D_80117C60)\naddiu A1, A1, lo(D_80117C60)\njal   0x800E2960\n li    A0, 3\nlui   A1, hi(D_8011093C)\naddiu A1, A1, lo(D_8011093C)\njal   0x800E2960\n li    A0, 4\nlui   A1, hi(D_80110BC8)\naddiu A1, A1, lo(D_80110BC8)\njal   0x800E2960\n li    A0, 5\nlui   A1, hi(D_8010FC24)\naddiu A1, A1, lo(D_8010FC24)\njal   0x800E2960\n li    A0, 6\nlui   A1, hi(D_80110194)\naddiu A1, A1, lo(D_80110194)\njal   0x800E2960\n li    A0, 7\nlui   A1, hi(D_801104E0)\naddiu A1, A1, lo(D_801104E0)\njal   0x800E2960\n li    A0, 8\nlui   A1, hi(D_80116F5C)\naddiu A1, A1, lo(D_80116F5C)\njal   0x800E2960\n li    A0, 10\nlui   A1, hi(D_801177DC)\naddiu A1, A1, lo(D_801177DC)\njal   0x800E2960\n li    A0, 11\nlui   A1, hi(D_80111018)\naddiu A1, A1, lo(D_80111018)\njal   0x800E2960\n li    A0, 14\nlui   A1, hi(D_801112D8)\naddiu A1, A1, lo(D_801112D8)\njal   0x800E2960\n li    A0, 15\nlui   A1, hi(D_80111678)\naddiu A1, A1, lo(D_80111678)\njal   0x800E2960\n li    A0, 16\nlui   A1, hi(D_80112074)\naddiu A1, A1, lo(D_80112074)\njal   0x800E2960\n li    A0, 17\nlui   A1, hi(D_80112BCC)\naddiu A1, A1, lo(D_80112BCC)\njal   0x800E2960\n li    A0, 18\nlui   A1, hi(barter_box_item_code)\naddiu A1, A1, lo(barter_box_item_code)\njal   0x800E2960\n li    A0, 19\nlui   A1, hi(game_guy_lucky_charm)\naddiu A1, A1, lo(game_guy_lucky_charm)\njal   0x800E2960\n li    A0, 20\nlui   A1, hi(D_80115B80)\naddiu A1, A1, lo(D_80115B80)\njal   0x800E2960\n li    A0, 21\nlui   A1, hi(D_80116DAC)\naddiu A1, A1, lo(D_80116DAC)\njal   0x800E2960\n li    A0, 12\nlui   A1, hi(D_801176A4)\naddiu A1, A1, lo(D_801176A4)\njal   0x800E2960\n li    A0, 13\nlui   A0, hi(D_8011C88C)\naddiu A0, A0, lo(D_8011C88C)\njal   0x800DA748\n move  S0, R0\nlui   S1, hi(D_8011D2C0)\naddiu S1, S1, lo(D_8011D2C0)\nsll   V0, S0, 1\nL80107F5C:\naddu  V0, V0, S1\nlh    A1, 0(V0)\njal   0x800EA6E0\n move  A0, S0\naddiu S0, S0, 1\nslti  V0, S0, STAR_COUNT\nbnez  V0, L80107F5C\n sll   V0, S0, 1\njal   0x80035F98\n li    A0, 14\nbeqz  V0, L80107F9C\n       NOP\njal   0x8003602C\n li    A0, 14\njal   func_80105FB0\n       NOP\n; drawing things\nL80107F9C:\n.if STAR_COUNT\njal   draw_star_space_state\n       NOP\njal   draw_millenium_stars\n       NOP\n.endif\njal   draw_boo\n       NOP\njal   draw_bank_coins\n       NOP\njal   draw_gates_outer\n       NOP\njal   func_80108B24 ; bank?\n       NOP\njal   func_80108BA4\n       NOP\njal   func_80116AA0\n       NOP\njal   0x800EBDAC\n       NOP\nlw    RA, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F20, 0x30(SP)\njr    RA\n addiu SP, SP, 0x38\n\n").concat(ce,"\n\n; A function that returns the audio index, to let custom events call to get the value.\n").concat(de,"\n\noverlaycall2:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\n\njal __PP64_INTERNAL_GET_BOARD_AUDIO_INDEX\n nop\n\n; Start playing board audio.\njal   0x8004A520\n move    A0, V0\n\n; On the chance that there are side effects of reordering this code, just call again.\njal __PP64_INTERNAL_GET_BOARD_AUDIO_INDEX\nnop\n\nlui   AT, hi(CORE_800CE198)\nsh    V0, lo(CORE_800CE198)(AT)\njal   0x800F8D6C\n move  A0, V0\n\njal   InitCameras\n li    A0, 2\njal   setup_routine\n       NOP\n\nJAL hydrate_events\n NOP\n\n; Sets up shared happening space code.\nlui   A0, hi(shared_happening_event)\njal   0x800F8D48\naddiu A0, A0, lo(shared_happening_event)\n\njal   0x800FF41C\n move  A0, R0\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nhydrate_events:\nADDIU SP SP 0xFFE8\nSW RA, 0x0010(SP)\n\n// Call for the MainFS to read in the ASM blob.\nLUI A0 ").concat(s,"\nJAL ").concat(me(v.MP3_USA,"ReadMainFS"),"\nADDIU A0 A0 ").concat(l,"\n\n// Now, V0 has the location that the MainFSRead put the blob... it isn't\n// where we want it, it is in the heap somewhere, so we will move it.\n\n// This is a pretty simple copy loop\n// T4 = Copy of V0, Current source RAM location\n// T0 = Current dest RAM location\n// T1 = Size of buffer remaining to copy\n// T2 = Temp word register to do the copy\nADDU T4 V0 R0 // Copy V0 -> T4\nLW T0 0x4(T4) // LW T0, 0x4(T4) [RAM dest]\nLW T1 0x8(T4) // LW T1, 0x8(T4) [Buffer size]\nhydrate_events_loop_start:\nLW T2 0(T4)\nSW T2 0(T0)\nADDIU T4 T4 4\nADDIU T0 T0 4\nADDIU T1 T1 -4\nBGTZ T1 hydrate_events_loop_start\nNOP\n\n// Now we can hydrate the table.\n// T9 = V0 copy\n// T4 = Dest buffer addr + 0x10, where the table really starts\nADDU T9 V0 R0 // Copy V0 -> T9\nLW T4 4(T9) // LW T4, 0x4(T9) [RAM dest]\nJAL ").concat(me(v.MP3_USA,"EventTableHydrate"),'\nADDIU A0 T4 16 // ADDIU A0, T4, 16\n\n// Well, we copied the buffer... now we should "free" it with this magic JAL...\n// Free our T9 reference, which theoretically could be corrupted, but in practice not.\nJAL ').concat(me(v.MP3_USA,"FreeMainFS"),"\nADDU A0 T9 R0\n\nLW RA 0x10(SP)\nJR RA\nADDIU SP SP 0x18\n\noverlaycall3:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\njal   InitCameras\n li    A0, 1\njal   setup_routine\n       NOP\njal   0x800FF41C\n li    A0, 1\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\ndraw_millenium_star_inner:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, A0\nsll   A0, A0, 0x10\nsra   A0, A0, 0xe\nlui   V0, hi(D_8011FA78)\naddu  V0, V0, A0\nlw    V0, lo(D_8011FA78)(V0)\nbnez  V0, L801081D4\n li    A0, 58\njal   0x800D90C8\n move  A1, R0\nmove  S2, V0\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\njal   0x800461B4\n lh    A0, 0(V0)\nlui   V0, hi(D_8011FA70)\nlw    V0, lo(D_8011FA70)(V0)\nbnez  V0, L8010812C\n sll   S0, S0, 0x10\nlui   AT, hi(D_8011FA70)\nsw    S2, lo(D_8011FA70)(AT)\nL8010812C:\nsra   S0, S0, 0x10\nsll   S1, S0, 2\nlui   AT, hi(D_8011FA78)\naddu  AT, AT, S1\nsw    S2, lo(D_8011FA78)(AT)\nlhu   V0, 0xa(S2)\nori   V0, V0, 2\nsh    V0, 0xa(S2)\naddiu A0, S2, 0x24\nlui   A1, 0x3f19\nori   A1, A1, 0x999a\nmove  A2, A1\njal   0x80089A10\n move  A3, A1\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S2)\nlui   A1, 0x40c0\nlui   A2, 0x4000\njal   0x800EDB98\n move  A0, S2\nlui   AT, hi(D_8011FA98)\naddu  AT, AT, S1\nsw    V0, lo(D_8011FA98)(AT)\nsll   S0, S0, 1\nlui   A0, hi(D_8011D37C)\naddu  A0, A0, S0\njal   GetSpaceData\n lh    A0, lo(D_8011D37C)(A0)\naddiu A0, S2, 0xc\njal   0x80089A20\n addiu A1, V0, 8\nli    A0, 11\nlui   A2, hi(D_8011D334)\naddu  A2, A2, S1\nlh    A2, lo(D_8011D334)(A2)\nlui   A3, hi(D_8011D336)\naddu  A3, A3, S1\nlh    A3, lo(D_8011D336)(A3)\njal   0x800D771C\n move  A1, S2\nL801081D4:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_801081EC:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, R0\nlui   S2, hi(D_8011FA98)\naddiu S2, S2, lo(D_8011FA98)\nsll   V0, S0, 2\nL80108210:\naddu  S1, V0, S2\nlw    A0, 0(S1)\nbeqz  A0, L8010822C\n addiu S0, S0, 1\njal   EndProcess\n       NOP\nsw    R0, 0(S1)\nL8010822C:\nslti  V0, S0, STAR_COUNT\nbnez  V0, L80108210\n sll   V0, S0, 2\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\ndraw_millenium_stars:\naddiu SP, SP, -0x28\nsw    RA, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   AT, hi(D_8011FA70)\nsw    R0, lo(D_8011FA70)(AT)\nmove  S0, R0\nlui   S3, hi(D_8011FA78)\naddiu S3, S3, lo(D_8011FA78)\nlui   S2, hi(D_8011FA98)\naddiu S2, S2, lo(D_8011FA98)\nlui   S1, hi(D_8011D38C)\naddiu S1, S1, lo(D_8011D38C)\nsll   V1, S0, 2\nL80108290:\naddu  V0, V1, S3\nsw    R0, 0(V0)\naddu  V1, V1, S2\nlui   A0, hi(func_801081EC)\naddiu A0, A0, lo(func_801081EC)\njal   0x800F8D60\n sw    R0, 0(V1)\nsll   V0, S0, 1\naddu  V0, V0, S1\njal   0x80035F98\n lh    A0, 0(V0)\nbnezl V0, L801082D4\n addiu S0, S0, 1\nsll   A0, S0, 0x10\njal   draw_millenium_star_inner\n sra   A0, A0, 0x10\naddiu S0, S0, 1\nL801082D4:\nslti  V0, S0, STAR_COUNT ; or M-star count?\nbnez  V0, L80108290\n sll   V1, S0, 2\nlw    RA, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x28\n\ndraw_boo_inner:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, A0\nsll   A0, A0, 0x10\nsra   A0, A0, 0xe\nlui   V0, hi(D_8011FB0C)\naddu  V0, V0, A0\nlw    V0, lo(D_8011FB0C)(V0)\nbnez  V0, L80108408\n       NOP\nlui   V0, hi(D_8011FB08)\nlw    V0, lo(D_8011FB08)(V0)\nbnez  V0, L80108378\n       NOP\nli    A0, 10\njal   0x800D90C8\n move  A1, R0\nmove  S1, V0\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\njal   0x8001FA68\n lh    A0, 0(V0)\nlw    V0, 0x40(S1)\nlw    V0, 0x40(V0)\njal   0x8001FA68\n lh    A0, 0(V0)\nlui   AT, hi(D_8011FB08)\nj     L80108388\n sw    S1, lo(D_8011FB08)(AT)\nL80108378:\nlui   A0, hi(D_8011FB08)\njal   0x800D975C\n lw    A0, lo(D_8011FB08)(A0)\nmove  S1, V0\nL80108388:\njal   0x800D9B24\n move  A0, S1\nsll   V1, S0, 0x10\nsra   V1, V1, 0x10\nsll   S0, V1, 2\nlui   AT, hi(D_8011FB0C)\naddu  AT, AT, S0\nsw    S1, lo(D_8011FB0C)(AT)\nlhu   V0, 0xa(S1)\nori   V0, V0, 2\nsh    V0, 0xa(S1)\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S1)\nsll   V1, V1, 1\nlui   A0, hi(boo_space_indices)\naddu  A0, A0, V1\njal   GetSpaceData\n lh    A0, lo(boo_space_indices)(A0)\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, V0, 8\nli    A0, 10\nlui   A2, hi(D_8011D354)\naddu  A2, A2, S0\nlh    A2, lo(D_8011D354)(A2)\nlui   A3, hi(D_8011D356)\naddu  A3, A3, S0\nlh    A3, lo(D_8011D356)(A3)\njal   0x800D771C\n move  A1, S1\nL80108408:\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\ndraw_boo:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   AT, hi(D_8011FB08)\nsw    R0, lo(D_8011FB08)(AT)\nmove  S0, R0\nlui   S1, hi(D_8011FB0C)\naddiu S1, S1, lo(D_8011FB0C)\nsll   V0, S0, 2\nL80108444:\naddu  V0, V0, S1\nsw    R0, 0(V0)\nsll   A0, S0, 0x10\njal   draw_boo_inner\n sra   A0, A0, 0x10\naddiu S0, S0, 1\nblez  S0, L80108444 ; TODO: Consider BOO_COUNT here\n sll   V0, S0, 2\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_80108478:\naddiu SP, SP, -0x38\nsw    RA, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nmove  S3, R0\nlui S5, 0x6666\nori S5, S5, 0x6667\nlui   S4, hi(D_8011FB18)\naddiu S4, S4, lo(D_8011FB18)\nL801084AC:\nlui   V0, hi(bank_coin_total)\nlh    V0, lo(bank_coin_total)(V0)\naddiu V0, V0, 9\nmult  V0, S5\nmfhi  A1\nsra   V1, A1, 2\nsra   V0, V0, 0x1f\nsubu  S1, V1, V0\nslti  V0, S1, 6\nbeql  V0, R0, L801084D8\n li    S1, 5\nL801084D8:\nblez  S1, L8010850C\n move  S0, R0\nsll   V0, S3, 2\naddu  S2, V0, S3\naddu  V0, S2, S0\nL801084EC:\nsll   V0, V0, 2\naddu  V0, V0, S4\nlw    A0, 0(V0)\njal   0x800D9AA4\n addiu S0, S0, 1\nslt   V0, S0, S1\nbnez  V0, L801084EC\n addu  V0, S2, S0\nL8010850C:\nslti  V0, S0, 5\nbeqz  V0, L80108540\n sll   V0, S3, 2\naddu  S1, V0, S3\naddu  V0, S1, S0\nL80108520:\nsll   V0, V0, 2\naddu  V0, V0, S4\nlw    A0, 0(V0)\njal   0x800D9B24\n addiu S0, S0, 1\nslti  V0, S0, 5\nbnez  V0, L80108520\n addu  V0, S1, S0\nL80108540:\naddiu S3, S3, 1\nslti  V0, S3, 2\nbnez  V0, L801084AC\n       NOP\nlw    RA, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x38\n\ndraw_bank_coins_inner:\naddiu SP, SP, -0x28\nsw    RA, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, A0\nsll   A0, A0, 0x10\nsra   A0, A0, 0xe\nlui   V0, hi(D_8011FB18)\naddu  V0, V0, A0\nlw    V0, lo(D_8011FB18)(V0)\nbnez  V0, L801086C4\n       NOP\nlui   V0, hi(D_8011FB10)\nlw    V0, lo(D_8011FB10)(V0)\nbnez  V0, L801085E4\n       NOP\nli    A0, 30\njal   0x800D90C8\n move  A1, R0\nmove  S3, V0\njal   0x800D9714\n move  A0, S3\nlui   AT, hi(D_8011FB10)\nsw    S3, lo(D_8011FB10)(AT)\nj     L801085F8\n sll   V1, S0, 0x10\nL801085E4:\nlui   A0, hi(D_8011FB10)\njal   0x800D975C\n lw    A0, lo(D_8011FB10)(A0)\nmove  S3, V0\nsll   V1, S0, 0x10\nL801085F8:\nsra   S1, V1, 0x10\nsll   V0, S1, 2\nlui   AT, hi(D_8011FB18)\naddu  AT, AT, V0\nsw    S3, lo(D_8011FB18)(AT)\nlhu   V0, 0xa(S3)\nori   V0, V0, 2\nsh    V0, 0xa(S3)\nlui V0, 0x6666\nori V0, V0, 0x6667\nmult  S1, V0\nmfhi  A3\nsra   S0, A3, 1\nsra   V1, V1, 0x1f\nsubu  S0, S0, V1\nsll   V0, S0, 0x10\nsra   V0, V0, 0xf\nlui   A0, hi(bank_coin_space_indices)\naddu  A0, A0, V0\nlh    A0, lo(bank_coin_space_indices)(A0)\njal   GetSpaceData\n addiu S2, S3, 0xc\nmove  A0, S2\njal   0x80089A20\n addiu A1, V0, 8\nsll   V0, S0, 2\naddu  V0, V0, S0\nsubu  S1, S1, V0\nsll   S1, S1, 0x10\nsra   S1, S1, 0x10\nsll   S0, S1, 1\naddu  S0, S0, S1\nsll   S0, S0, 2\nlui   A1, hi(D_8011D3A4)\naddiu A1, A1, lo(D_8011D3A4)\nmove  A0, S2\naddu  A1, S0, A1\njal   0x80089A70\n move  A2, S2\nlw    V0, 0x3c(S3)\nlui   AT, hi(D_8011D3E0)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011D3E0)(AT)\nswc1  F0, 0x24(V0)\nlw    V0, 0x3c(S3)\nlui   AT, hi(D_8011D3E8)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011D3E8)(AT)\nswc1  F0, 0x2c(V0)\njal   0x800D9B24\n move  A0, S3\nL801086C4:\nlw    RA, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x28\n\ndraw_bank_coins:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   AT, hi(D_8011FB10)\nsw    R0, lo(D_8011FB10)(AT)\nmove  S0, R0\nlui   S1, hi(D_8011FB18)\naddiu S1, S1, lo(D_8011FB18)\nsll   V0, S0, 2\nL80108708:\naddu  V0, V0, S1\nsw    R0, 0(V0)\nsll   A0, S0, 0x10\njal   draw_bank_coins_inner\n sra   A0, A0, 0x10\naddiu S0, S0, 1\nslti  V0, S0, 0xa\nbnez  V0, L80108708\n sll   V0, S0, 2\njal   func_80108478\n       NOP\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\n;draw gates inner\nfunc_80108748:\naddiu SP, SP, -0x28\nsw    RA, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nmove  S0, A0\nsll   A0, A0, 0x10\nsra   A0, A0, 0xe\nlui   V0, hi(D_8011FB44)\naddu  V0, V0, A0\nlw    V0, lo(D_8011FB44)(V0)\nbnez  V0, L8010889C\n       NOP\nlui   V0, hi(D_8011FB40)\nlw    V0, lo(D_8011FB40)(V0)\nbnez  V0, L801087D8\n       NOP\nlui   V0, hi(CORE_800CD059)\nlb    V0, lo(CORE_800CD059)(V0) ; getting board index?\nsll   V1, V0, 1\nsll   V0, V0, 2\n;li    V0, 0 ; TODO: Hard code board index to 0, so we always use the same gate animation/sound/file.\nlui   A0, hi(D_8011D421)\naddu  A0, A0, V1\nlbu   A0, lo(D_8011D421)(A0)\nlui   A1, hi(D_8011D45C)\naddu  A1, A1, V0\nlw    A1, lo(D_8011D45C)(A1)\njal   0x800D90C8\n sll   S0, S0, 0x10\nmove  S2, V0\njal   0x800D9714\n move  A0, S2\nlui   AT, hi(D_8011FB40)\nsw    S2, lo(D_8011FB40)(AT)\nj     L801087F0\n sra   S0, S0, 0x10\nL801087D8:\nlui   A0, hi(D_8011FB40)\nlw    A0, lo(D_8011FB40)(A0)\njal   0x800D975C\n sll   S0, S0, 0x10\nmove  S2, V0\nsra   S0, S0, 0x10\nL801087F0:\nsll   S1, S0, 2\nlui   AT, hi(D_8011FB44)\naddu  AT, AT, S1\nsw    S2, lo(D_8011FB44)(AT)\nlhu   V0, 0xa(S2)\nori   V0, V0, 2\nsh    V0, 0xa(S2)\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 2\njal   0x8001C814\n li    A2, 1\nsll   S0, S0, 1\nlui   A0, hi(gate_spaces)\naddu  A0, A0, S0\njal   GetSpaceData\n lh    A0, lo(gate_spaces)(A0)\naddiu A0, S2, 0xc\njal   0x80089A20\n addiu A1, V0, 8\nlui   A0, hi(gate_entrance_spaces)\naddu  A0, A0, S1\njal   GetSpaceData\n lh    A0, lo(gate_entrance_spaces)(A0)\nlui   A0, hi(gate_exit_spaces)\naddu  A0, A0, S1\nlh    A0, lo(gate_exit_spaces)(A0)\njal   GetSpaceData\n move  S0, V0\naddiu A0, V0, 8\naddiu A1, S0, 8\njal   GetAngleBetweenSpaces\n addiu A2, S2, 0x18\nli    A0, 12\nlui   A2, hi(D_8011D36C)\naddu  A2, A2, S1\nlh    A2, lo(D_8011D36C)(A2)\nlui   A3, hi(D_8011D36E)\naddu  A3, A3, S1\nlh    A3, lo(D_8011D36E)(A3)\njal   0x800D771C\n move  A1, S2\nL8010889C:\nlw    RA, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x28\n\ndraw_gates_outer:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   AT, hi(D_8011FB40)\nsw    R0, lo(D_8011FB40)(AT)\nmove  S0, R0\nlui   S1, hi(D_8011FB44)\naddiu S1, S1, lo(D_8011FB44)\nsll   V0, S0, 2\n__draw_gates_outer_loop:\naddu  V0, V0, S1\nsw    R0, 0(V0)\nsll   A0, S0, 0x10\njal   func_80108748\n sra   A0, A0, 0x10\naddiu S0, S0, 1\nslti  V0, S0, GATE_COUNT\nbnez  V0, __draw_gates_outer_loop\n sll   V0, S0, 2\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nD_80108914:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   S0, hi(CORE_800CD059)\naddiu S0, S0, lo(CORE_800CD059)\nlb    V0, 0(S0)\nsll   V0, V0, 2\nlui   A0, hi(D_8011D4BC)\naddu  A0, A0, V0\njal   SleepProcess\n lw    A0, lo(D_8011D4BC)(A0)\nlb    V0, 0(S0)\nsll   V0, V0, 2\nlui   A0, hi(D_8011D49A)\naddu  A0, A0, V0\njal   PlaySound\n lh    A0, lo(D_8011D49A)(A0)\njal   EndProcess\n move  A0, R0\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nfunc_gate_80108970:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   V0, hi(D_8011FB44)\naddiu V0, V0, lo(D_8011FB44)\nsll   S0, A0, 2\naddu  S0, S0, V0\naddiu A1, A1, -1\nsll   A1, A1, 0x10\nlw    A0, 0(S0)\nsra   A1, A1, 0x10\njal   0x800D9CE8\n move  A2, R0\nlw    V0, 0(S0)\nlw    V0, 0x3c(V0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 5\njal   0x8001C814\n move  A2, R0\nlui   V0, hi(CORE_800CD059)\nlb    V0, lo(CORE_800CD059)(V0)\nlui   V1, hi(D_8011D474)\naddiu V1, V1, lo(D_8011D474)\nsll   V0, V0, 2\naddu  A0, V0, V1\nlw    V1, 0(A0)\nli    V0, -1\nbeq   V1, V0, L801089F0\n       NOP\njal   PlaySound\n lh    A0, 2(A0)\nL801089F0:\nlui   V0, hi(CORE_800CD059)\nlb    V0, lo(CORE_800CD059)(V0)\nsll   V0, V0, 2\nlui   V1, hi(D_8011D498)\naddu  V1, V1, V0\nlw    V1, lo(D_8011D498)(V1)\nli    V0, -1\nbeq   V1, V0, L80108A28\n li    A1, 4096\nlui   A0, hi(D_80108914)\naddiu A0, A0, lo(D_80108914)\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nL80108A28:\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\ngate_spaces_event_process:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\njal   0x8004EE68\n sw    S0, 0x10(SP)\nlw    S0, 0x8c(V0)\nlui   V1, hi(CORE_800CD06D)\nlb    V1, lo(CORE_800CD06D)(V1)\nbeqz  V1, L80108A6C\n li    V0, 1\nbeq   V1, V0, L80108A70\n li    A0, 10\nj     L80108A70\n li    A0, 15\nL80108A6C:\nli    A0, 5\nL80108A70:\njal   SleepProcess\n       NOP\nsll   V0, S0, 2\nlui   AT, hi(D_8011FB44)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB44)(AT)\nlw    V0, 0x3c(V0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 1\njal   0x8001C814\n li    A2, 4\nlui   V0, hi(CORE_800CD059)\nlb    V0, lo(CORE_800CD059)(V0)\nlui   V1, hi(D_8011D4E0)\naddiu V1, V1, lo(D_8011D4E0)\nsll   V0, V0, 2\naddu  A0, V0, V1\nlw    V1, 0(A0)\nli    V0, -1\nbeq   V1, V0, L80108AD0\n       NOP\njal   PlaySound\n lh    A0, 2(A0)\nL80108AD0:\njal   EndProcess\n move  A0, R0\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n__PP64_INTERNAL_GATE_CLOSE_EVENT:\ngate_spaces_event:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, A0\nlui   A0, hi(gate_spaces_event_process)\naddiu A0, A0, lo(gate_spaces_event_process)\nli    A1, 4096\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S0, 0x8c(V0)\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n; draw bank outer?\nfunc_80108B24:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   AT, hi(D_8011FB40)\nsw    R0, lo(D_8011FB40)(AT)\nmove  S0, R0\nlui   S1, hi(bank_model_space_indices)\naddiu S1, S1, lo(bank_model_space_indices)\nsll   V0, S0, 1\nL80108B4C:\naddu  V0, V0, S1\njal   GetSpaceData\n lh    A0, 0(V0)\nsll   V1, S0, 2\nli    A0, 8\nlui   A2, hi(D_8011D35C)\naddu  A2, A2, V1\nlh    A2, lo(D_8011D35C)(A2)\nlui   A3, hi(D_8011D35E)\naddu  A3, A3, V1\nlh    A3, lo(D_8011D35E)(A3)\njal   0x800D7790\n addiu A1, V0, 8\naddiu S0, S0, 1\nslti  V0, S0, BANK_COUNT\nbnez  V0, L80108B4C\n sll   V0, S0, 1\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_80108BA4:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, R0\nlui   S1, hi(item_shop_model_space_indices)\naddiu S1, S1, lo(item_shop_model_space_indices)\nsll   V0, S0, 1\nL80108BC4:\naddu  V0, V0, S1\njal   GetSpaceData\n lh    A0, 0(V0)\nsll   V1, S0, 2\nli    A0, 9\nlui   A2, hi(D_8011D364)\naddu  A2, A2, V1\nlh    A2, lo(D_8011D364)(A2)\nlui   A3, hi(D_8011D366)\naddu  A3, A3, V1\nlh    A3, lo(D_8011D366)(A3)\njal   0x800D7790\n addiu A1, V0, 8\naddiu S0, S0, 1\nslti  V0, S0, SHOP_COUNT\nbnez  V0, L80108BC4\n sll   V0, S0, 1\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\n__PP64_INTERNAL_GATE_EVENT:\ngate_event:\naddiu SP, SP, -0x28\nsw    RA, 0x24(SP)\nsw    S4, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nli    S4, 1\nlui   S3, hi(CORE_800CD058)\naddiu S3, S3, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nmove  S2, V0\nlbu   A0, 0xf(S2)\nsll   A0, A0, 0x18\nsra   A0, A0, 0x18\nlbu   A1, 0x10(S2)\nsll   A1, A1, 0x18\nsra   A1, A1, 0x18\nandi  A0, A0, 0xffff\njal   GetAbsSpaceIndexFromChainSpaceIndex\n andi  A1, A1, 0xffff\nsll   V0, V0, 0x10\nsra   S1, V0, 0x10\nxori  V1, S1, ").concat($[0].gateEntryIndex,"\nsltiu V1, V1, 1\nxori  V0, S1, ").concat($[1].gateEntryIndex,"\nsltiu V0, V0, 1\nor    V1, V1, V0\nbeqz  V1, L80109B64\n xori  V1, S1, ").concat($[0].gateExitIndex,"\nlbu   V0, 0x17(S2)\nandi  V0, V0, 1\nbnez  V0, L80109E5C\n       NOP\nL80109B64:\nsltiu V1, V1, 1\nxori  V0, S1, ").concat($[1].gateExitIndex,"\nsltiu V0, V0, 1\nor    V1, V1, V0\nbeqz  V1, L80109B8C\n li    A0, -1\nlbu   V0, 0x17(S2) ; testing player flag bit\nandi  V0, V0, 1\nbeqz  V0, L80109E5C\n       NOP\nL80109B8C:\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nlb    A0, 0xf(S3)\njal   PlayerHasItem\n li    A1, ITEM_SKELETON_KEY\nli    V1, -1\nbeq   V0, V1, L80109DC8\n li    A0, -1\nlb    A0, 0xf(S3)\njal   0x800DBEC0\n       NOP\nli    V0, ").concat($[0].gateExitIndex,"\nbeq   S1, V0, L80109BD0\n li    V0, ").concat($[0].gateEntryIndex,"\nbne   S1, V0, L80109BE0\n li    A0, -1\nL80109BD0:\nli    A0, -1\nli    A1, 8\nj     L80109BE8\n li    A2, ").concat($[0].gateSpaceIndex,"\nL80109BE0:\nli    A1, 8\nli    A2, ").concat($[1].gateSpaceIndex,'\nL80109BE8:\njal   0x800ED20C\n       NOP\njal   0x8004EE68\n       NOP\nli    AT, 0x3FCC0000\nori   AT, AT, 0xcccd\nmtc1  AT, F12\n      NOP\njal   0x800E8EDC\n move  S0, V0\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n       NOP\nli    A0, -1\njal   0x800FF900\n li    A1, 1\nli    A0, 56\nL80109C34:\njal   0x800EC628\n li    A1, 0x4103 ; "Hi I\'m the Skeleton Key! Shall I use my skills..."\nli    A0, 2\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n move  A1, R0\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n       NOP\nli    V0, 1\nbeq   S0, V0, L80109D5C\n slti  V0, S0, 2\nbeql  V0, R0, L80109C7C\n li    V0, 2\nbeqz  S0, L80109C8C\n li    A0, 56\nj     L80109D80\n       NOP\nL80109C7C:\nbeq   S0, V0, L80109D70\n       NOP\nj     L80109D80\n       NOP\nL80109C8C:\njal   0x800EC590\n li    A1, 16644\nlb    A0, 0xf(S3)\njal   PlayerHasItem\n li    A1, ITEM_SKELETON_KEY\nlb    A0, 0xf(S3)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1) ; p1_item1, reaching into items...\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1) ; clearing item?\nlui   A0, hi(current_player_index)\njal   FixUpPlayerItemSlots\n lb    A0, lo(current_player_index)(A0)\njal   0x800F63F0\n li    A0, -1\nli    V0, ').concat($[1].gateEntryIndex,"\nbeq   S1, V0, L80109D18\n ADDIU V0 R0 ").concat($[0].gateEntryIndex," ; slti  V0, S1, gateEntryIndex\nbeq   S1, V0, L80109D00 ; was beqz\n li    V0, ").concat($[0].gateExitIndex,"\nbeq   S1, V0, L80109D24\n move  A0, R0\nj     L80109D24\n li    A0, 1\nL80109D00:\nli    V0, ").concat($[0].gateEntryIndex,'\nbnel  S1, V0, L80109D24\n li    A0, 1\nmove  A0, R0\nj     L80109D28\n move  A1, R0\nL80109D18:\nli    A0, 1\nj     L80109D28\n move  A1, R0\nL80109D24:\nli    A1, 1\nL80109D28:\njal   func_gate_80108970\n move  S4, R0\nli    A0, -1\nli    A1, 2\njal   0x800FFA4C\n li    A2, 5\nmove  S0, V0\njal   SleepProcess\n li    A0, 20\njal   0x800FFAEC\n move  A0, S0\nj     L80109D80\n       NOP\nL80109D5C:\nli    A0, 56\njal   0x800EC590\n li    A1, 16645\nj     L80109D80\n       NOP\nL80109D70:\njal   __PP64_INTERNAL_VIEW_MAP\n       NOP\nj     L80109C34\n li    A0, 56\nL80109D80:\nlb    A0, 0xf(S3)\njal   0x800DB884\n       NOP\njal   0x8004EE68\n       NOP\nli    AT, 0x3FA60000 ; 1.296875\nori   AT, AT, 0x6666\nmtc1  AT, F12\n      NOP\njal   0x800E8EDC\n move  S0, V0\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n       NOP\nj     L80109DD0\n       NOP\nL80109DC8:\njal   0x800EC590\n li    A1, 0x4106 ; "You don\'t have a Skeleton Key, ..."\nL80109DD0:\nbeqz  S4, L80109E5C\n li    V0, ').concat($[1].gateEntryIndex,"\nbeq   S1, V0, L80109E28\n li    A0, -1\nADDIU V0 R0 ").concat($[0].gateEntryIndex," ; slti  V0, S1, 0x7a\nbeq   S1, V0, L80109DFC\n li    V0, ").concat($[0].gateExitIndex,"\nbeq   S1, V0, L80109E20\n li    A1, ").concat($[0].gateNextChain[0],"\nj     L80109E44\n li    A1, ").concat($[1].gateNextChain[0],"\nL80109DFC:\nli    V0, ").concat($[0].gateEntryIndex,"\nbne   S1, V0, L80109E40\n li    A0, -1\nli    A1, ").concat($[0].gatePrevChain[0],"\njal   SetNextChainAndSpace\n li  A2, ").concat($[0].gatePrevChain[1],"\nlbu   V0, 0x17(S2)\nj     L80109E58\n ori   V0, V0, 1\nL80109E20:\nj     L80109E48\n li    A2, ").concat($[0].gateNextChain[1],"\nL80109E28:\nli    A1, ").concat($[1].gatePrevChain[0],"\njal   SetNextChainAndSpace\n li    A2, ").concat($[1].gatePrevChain[1],"\nlbu   V0, 0x17(S2)\nj     L80109E58\n ori   V0, V0, 1\nL80109E40:\nli    A1, ").concat($[1].gateNextChain[0],"\nL80109E44:\nli    A2, ").concat($[1].gateNextChain[1],'\nL80109E48:\njal   SetNextChainAndSpace\n       NOP\nlbu   V0, 0x17(S2)\nandi  V0, V0, 0xfe\nL80109E58:\nsb    V0, 0x17(S2)\nL80109E5C:\njal   EndProcess\n move  A0, R0\nlw    RA, 0x24(SP)\nlw    S4, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x28\n\n; Helper used when prompted between textbox options.\n; If A0 is a pointer to AI data, the AI logic is ran to pick for CPUs.\n; If A0 is 0 or 1, the 0th or 1st option is chosen by CPUs.\n; If A0 is 2, then the value of A1 is the CPUs option index choice.\n__PP64_INTERNAL_BASIC_MESSAGE_CHOICE:\naddiu SP, SP, -0x48\nsw    RA, 0x40(SP)\nsw    S5, 0x3c(SP)\nsw    S4, 0x38(SP)\nsw    S3, 0x34(SP)\nsw    S2, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nmove  S3, A0\nmove  S5, A1\nmove  S2, R0\nlui   A1, hi(D_8011F8D0)\naddiu A1, A1, lo(D_8011F8D0)\nlwl   V0, 0(A1)\nlwr   V0, 3(A1)\nswl   V0, 0x20(SP)\nswr   V0, 0x23(SP)\nmove  S1, R0\naddiu S4, SP, 0x18\n; begin looping over each player\nL8010A180:\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nbne   S1, V0, L8010A290 ; if S1 != current player index\n sll   V0, S1, 3\n; procesing when S1 == current player\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(CORE_800D110C)\naddu  AT, AT, V0\nlbu   V0, lo(CORE_800D110C)(AT)\nandi  V0, V0, 1\nbeqz  V0, L8010A240 ; if (value at 800D110C & 0x01) == 0\n li    V0, 1\nbeq   S3, V0, L8010A1F0 ; Is A0 == 1?\n slti  V0, S3, 2\nbeql  V0, R0, L8010A1D0 ; Is A0 >= 2?\n li    V0, 2\nbeqz  S3, L8010A1E0 ; Is A0 == 0?\n       NOP\nj     L8010A200\n       NOP\nL8010A1D0:\nbeq   S3, V0, L8010A214 ; Is A0 == 2?\n addiu S2, S5, 1\nj     L8010A200\n       NOP\nL8010A1E0:\njal   0x800EF0D8\n move  A0, R0\nj     L8010A214\n addiu S2, V0, 1\nL8010A1F0:\njal   0x800EF0D8\n li    A0, 1\nj     L8010A214\n addiu S2, V0, 1\nL8010A200:\njal   0x800DA190\n move  A0, S3\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\naddiu S2, V0, 1\nL8010A214:\nsll   V0, S1, 3\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S4\nli    V1, 1024\nj     L8010A2B0\n sh    V1, 0(V0)\nL8010A240:\nsll   S0, S1, 3\nsubu  S0, S0, S1\nsll   S0, S0, 3\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\naddu  V0, SP, V0\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nlbu   A1, 0x20(V0)\njal   0x8005FE54\n addiu S1, S1, 1\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\nsll   V0, V0, 1\naddu  V0, V0, S4\nli    V1, -1\nj     L8010A2B4\n sh    V1, 0(V0)\nL8010A290:\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S4\nsh    R0, 0(V0) ; mutate a player\'s controller index?\nL8010A2B0:\naddiu S1, S1, 1\nL8010A2B4:\nslti  V0, S1, 4\nbnez  V0, L8010A180\n       NOP\nbeqz  S2, L8010A36C\n li    A1, 2\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8005B63C\n li    A2, 2\nmove  S0, R0\naddiu S1, SP, 0x18\nL8010A2E0:\naddiu S2, S2, -1\nbnez  S2, L8010A31C\n       NOP\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S1\nli    V1, -32768\nsh    V1, 0(V0)\nL8010A31C:\nbnez  S0, L8010A344\n li    V0, 5\njal   0x800EDC40\n       NOP\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nj     L8010A354\n andi  V0, V0, 0xff\nL8010A344:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nL8010A354:\njal   0x8005F698\n sw    V0, 0x10(SP)\nbnez  S2, L8010A2E0\n addiu S0, S0, 1\nj     L8010A380\n       NOP\nL8010A36C:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\njal   0x8005F744\n lh    A3, 0x1e(SP)\nL8010A380:\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nmove  A1, R0\njal   0x8005E1D8\n li    A2, 1\nlw    RA, 0x40(SP)\nlw    S5, 0x3c(SP)\nlw    S4, 0x38(SP)\nlw    S3, 0x34(SP)\nlw    S2, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\njr    RA\n addiu SP, SP, 0x48\n\nfunc_8010A3B8:\naddiu SP, SP, -0x30\nsw    RA, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nmove  S0, A0\nmove  S2, A1\nmove  S1, A2\nmove  S3, A3\nli    A0, 1\naddiu A1, SP, 0x10\njal   0x80060394\n move  A2, S2\nsll   S0, S0, 0x10\nsll   S1, S1, 0x10\nsra   A0, S0, 0x10\naddiu A1, SP, 0x10\njal   0x800EBFE8\n sra   A2, S1, 0x10\nmove  S0, V0\nlui   AT, hi(CORE_80105702_window_id)\nsh    S0, lo(CORE_80105702_window_id)(AT)\nsll   S0, S0, 0x10\nsra   S0, S0, 0x10\nmove  A0, S0\nmove  A1, S2\nli    A2, -1\njal   0x8005B43C\n li    A3, -1\njal   0x80061388\n move  A0, S0\nmove  A0, S0\njal   0x800EBF98\n move  A1, S3\nmove  A0, S0\njal   0x80061A5C\n move  A1, R0\njal   0x8005F364\n move  A0, S0\nlw    RA, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x30\n\nfunc_8010A474:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nL8010A47C:\njal   0x800E4A7C\n       NOP\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\njal   0x800F69F8\n li    A2, 32768\njal   SleepVProcess\n       NOP\nj     L8010A47C\n       NOP\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n__PP64_INTERNAL_STAR_SPACE_EVENT:\nstar_space_event:\naddiu SP, SP, -0x30\nsw    RA, 0x28(SP)\nsw    S1, 0x24(SP)\njal   GetCurrentSpaceIndex\n sw    S0, 0x20(SP)\nlui   S1, hi(CORE_800CD058)\naddiu S1, S1, lo(CORE_800CD058)\nsll   V0, V0, 0x10\njal   func_801060E0\n sra   A0, V0, 0x10\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nli    V1, 1\nbne   V0, V1, L8010A844\n       NOP\nlui   A0, hi(current_player_index)\njal   0x800DBEC0\n lb    A0, lo(current_player_index)(A0)\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\njal   func_80105E80\n       NOP\nsll   V0, V0, 0x10\nli    A0, -1\nli    A1, 8\njal   0x800ED20C\n sra   A2, V0, 0x10\njal   0x8004EE68\n       NOP\nli    AT, 0x3FCC0000 ; 1.593750\nori   AT, AT, 0xcccd\nmtc1  AT, F12\n      NOP\njal   0x800E8EDC\n move  S0, V0\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n       NOP\njal   PlaySound\n li    A0, 345\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V1, V0, 3\nlui   V0, hi(CORE_800D1123)\naddu  V0, V0, V1\nlb    V0, lo(CORE_800D1123)(V0)\nbeqz  V0, L8010A5CC\n li    A0, 22\nlui   A2, hi(p1_char)\naddu  A2, A2, V1\nlbu   A2, lo(p1_char)(A2)\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A1, 0x4805\naddiu A2, A2, 0x1c00\njal   0x800EC8EC ; ShowMessage: "WAHH! Buh-Bowser! Oh, pardon me. Please, take this! ..."\n move  A3, R0\njal   0x800EC9DC\n       NOP\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nL8010A5CC:\nlb    V0, 0xf(S1)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_stars)\naddu  V0, V0, V1\nlb    V0, lo(p1_stars)(V0)\nslti  V0, V0, MAX_PLAYER_STAR_COUNT\nbnez  V0, L8010A5FC\n li    A0, 22\nj     L8010A7B8\n li    A1, 0x4804 ; "You can\'t carry any more stars"\nL8010A5FC:\nlb    V0, 0xf(S1)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, V1\nlh    V0, lo(p1_coins)(V0)\nslti  V0, V0, 0x14\nbnezl V0, L8010A7B8\n li    A1, 0x4801 ; "Oh dear, you don\'t have 20 coins"\nL8010A624:\nlb    V1, 0xf(S1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   A2, hi(p1_char)\naddu  A2, A2, V0\nlbu   A2, lo(p1_char)(A2)\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 22\nli    A1, 0x4800\naddiu A2, A2, 0x1c00\njal   0x800EC8EC ; ShowMessage: "You made it! So you want to trade coins for a star?"\n move  A3, R0\nli    A0, 2\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n move  A1, R0\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n sll   S0, S0, 0x10\nsra   S0, S0, 0x10\nli    V0, 1\nbeq   S0, V0, L8010A74C ; Did they choose No?\n slti  V0, S0, 2\nbeql  V0, R0, L8010A6A4 ; is choice >= 2?\n li    V0, 2\nbeqz  S0, L8010A6B4 ; Did they choose yes?\n       NOP\nj     L8010A844\n       NOP\nL8010A6A4:\nbeq   S0, V0, L8010A7A8 ; Did they choose View Map?\n       NOP\nj     L8010A844\n       NOP\nL8010A6B4:\nlb    A0, 0xf(S1)\njal   ShowPlayerCoinChange\n li    A1, -20\nlb    A0, 0xf(S1)\njal   AdjustPlayerCoinsGradual\n li    A1, -20\njal   SleepProcess\n li    A0, 30\nli    A0, 22\njal   0x800EC590 ; update existing window with new message?\n li    A1, 0x4802  ; "Then take this star"\nlui   V0, hi(CORE_800A12D0)\nlb    V0, lo(CORE_800A12D0)(V0)\nbeqz  V0, L8010A718\n       NOP\njal   0x8004A950\n       NOP\nlui   A0, hi(CORE_800C9930)\nlh    A0, lo(CORE_800C9930)(A0)\njal   0x800039A4\n li    A1, 60\nli    V0, -1\nlui   AT, hi(CORE_800C9930)\nj     L8010A720\n sh    V0, lo(CORE_800C9930)(AT)\nL8010A718:\njal   0x8004A994\n li    A0, 90\nL8010A720:\nlui   A0, hi(D_8011FA70)\njal   func_80106EEC\n lw    A0, lo(D_8011FA70)(A0)\njal   SleepProcess\n li    A0, 30\njal   0x800EDA58\n       NOP\njal   0x800FF7F0\n li    A0, 2\nj     L8010A844\n       NOP\nL8010A74C:\nlui   V0, hi(CORE_800A12D0)\nlb    V0, lo(CORE_800A12D0)(V0)\nbeqz  V0, L8010A798\n li    A0, 22\nlui   A0, hi(CORE_800C9930)\nlh    A0, lo(CORE_800C9930)(A0)\njal   0x800039A4\n li    A1, 60\nlui   A0, hi(CORE_800CE198)\njal   0x80003310\n lh    A0, lo(CORE_800CE198)(A0)\njal   0x8004A670\n move  A0, R0\njal   0x8004A72C\n li    A0, 90\nli    V0, -1\nlui   AT, hi(CORE_800C9930)\nsh    V0, lo(CORE_800C9930)(AT)\nli    A0, 22\nL8010A798:\njal   0x800EC590\n li    A1, 0x4803 ; "What?!? You don\'t need a star? ..."\nj     L8010A808\n       NOP\nL8010A7A8:\njal   __PP64_INTERNAL_VIEW_MAP\n       NOP\nj     L8010A624\n       NOP\nL8010A7B8:\njal   0x800EC590\n       NOP\nlui   V0, hi(CORE_800A12D0)\nlb    V0, lo(CORE_800A12D0)(V0)\nbeqz  V0, L8010A808\n       NOP\nlui   A0, hi(CORE_800C9930)\nlh    A0, lo(CORE_800C9930)(A0)\njal   0x800039A4\n li    A1, 60\nlui   A0, hi(CORE_800CE198)\njal   0x80003310\n lh    A0, lo(CORE_800CE198)(A0)\njal   0x8004A670\n move  A0, R0\njal   0x8004A72C\n li    A0, 90\nli    V0, -1\nlui   AT, hi(CORE_800C9930)\nsh    V0, lo(CORE_800C9930)(AT)\nL8010A808:\njal   0x800DB884\n lb    A0, 0xf(S1)\njal   0x8004EE68\n       NOP\nli    AT, 0x3FA60000 ; 1.296875\nori   AT, AT, 0x6666\nmtc1  AT, F12\n      NOP\njal   0x800E8EDC\n move  S0, V0\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n       NOP\nL8010A844:\nlw    RA, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x30\n\n__PP64_INTERNAL_BANK_SPACE_EVENT:\nbank_space_event:\naddiu SP, SP, -0xa0\nsw    RA, 0x68(SP)\nsw    S5, 0x64(SP)\nsw    S4, 0x60(SP)\nsw    S3, 0x5c(SP)\nsw    S2, 0x58(SP)\nsw    S1, 0x54(SP)\nsw    S0, 0x50(SP)\nsdc1  F30, 0x98(SP)\nsdc1  F28, 0x90(SP)\nsdc1  F26, 0x88(SP)\nsdc1  F24, 0x80(SP)\nsdc1  F22, 0x78(SP)\nsdc1  F20, 0x70(SP)\njal   GetCurrentSpaceIndex\n move  S5, R0\nmove  S0, V0\nlui   S4, hi(CORE_800CD058)\naddiu S4, S4, lo(CORE_800CD058)\nmove  S1, R0\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\njal   0x800DCD9C\n move  S3, R0\nbgtz  V0, L8010A8D4\n li    A0, -1\njal   0x800FF900\n li    A1, 3\nli    A0, -1\nL8010A8D4:\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nsll   V0, S0, 0x10\nsra   V1, V0, 0x10\nli    V0, ').concat(G[0],"\nbeq   V1, V0, L8010A91C\n li    V0, ").concat(G[1],"\nbne   V1, V0, L8010A948\n li    A0, -1\nli    A1, 8\njal   0x800ED20C\n li    A2, ").concat(z[1],"\njal   GetSpaceData\n li    A0, ").concat(z[1],"\nmove  S1, V0\nj     L8010A93C\n li    A0, ").concat(G[1],"\nL8010A91C:\nli    A0, -1\nli    A1, 8\njal   0x800ED20C\n li    A2, ").concat(z[0],"\njal   GetSpaceData\n li    A0, ").concat(z[0],"\nmove  S1, V0\nli    A0, ").concat(G[0],'\nL8010A93C:\njal   GetSpaceData\n       NOP\nmove  S3, V0\nL8010A948:\njal   SleepProcess\n li    A0, 8\nlb    A0, 0xf(S4)\njal   0x800DCD9C\n       NOP\nblez  V0, L8010A96C\n       NOP\njal   0x800DBEC0\n lb    A0, 0xf(S4)\nL8010A96C:\njal   PlaySound\n li    A0, 276\nli    A0, 50\njal   0x800D90C8\n move  A1, R0\nmove  S2, V0\njal   0x800D9714\n move  A0, S2\naddiu S0, SP, 0x40\naddiu S1, S1, 8\nmove  A0, S0\naddiu A1, S3, 8\njal   midpoint\n move  A2, S1\njal   0x800D88E8\n move  A0, S0\naddiu A0, S2, 0x18\njal   0x80089A20\n move  A1, S0\nsw    R0, 0x28(S2)\naddiu A0, S2, 0xc\njal   0x80089A20\n move  A1, S1\nmove  A0, S2\nli    A1, -1\njal   0x800D9CE8\n li    A2, 1\njal   0x800D9A40\n move  A0, S2\nlui   A1, hi(D_8011E070)\naddiu A1, A1, lo(D_8011E070)\njal   0x800D90C8\n li    A0, 53\nmove  S3, V0\njal   0x800D9714\n move  A0, S3\naddiu A0, S3, 0x18\njal   0x80089A20\n move  A1, S0\naddiu A0, S3, 0xc\njal   0x80089A20\n move  A1, S1\nli    AT, 0x3F990000 ; 1.195312\nori   AT, AT, 0x999a\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x2c(S3)\nswc1  F0, 0x24(S3)\nswc1  F0, 0x28(S3)\njal   0x800D9B24\n move  A0, S3\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F12\njal   0x8008EF20\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\ndiv.s F22, F2, F0\nmtc1  R0, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori   AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F28\n      NOP\nL8010AA88:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S2)\nadd.s F20, F20, F30\nc.lt.s F20, F28\n      NOP\nbc1t  L8010AA88\n       NOP\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F0\n      NOP\nc.lt.s F0, F20\n      NOP\nbc1f  L8010AB90\n       NOP\nli    AT, 0x3E4C0000 ; 0.199219\nori   AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F28\n      NOP\nL8010AB30:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S2)\nsub.s F20, F20, F30\nc.lt.s F28, F20\n      NOP\nbc1t  L8010AB30\n       NOP\nL8010AB90:\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x28(S2)\nswc1  F0, 0x24(S2)\nswc1  F0, 0x2c(S2)\njal   0x800D9A40\n move  A0, S3\nli    A0, -1\njal   PlayerHasItem\n li    A1, ITEM_KOOPA_CARD\nli    V1, -1\nbeq   V0, V1, L8010AC3C\n move  A0, S2\nsw    R0, 0x10(SP)\nL8010ABCC:\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x3A1D ; "Would you like to use your Koopa Kard at this bank?"\nmove  A2, R0\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\nlui   A0, hi(D_8011E058)\naddiu A0, A0, lo(D_8011E058)\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n move  A1, R0\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n       NOP\nbeqz  S0, L8010AC20\n li    V0, 2\nbeq   S0, V0, L8010AC28\n move  A0, S2\nj     L8010AC3C\n       NOP\nL8010AC20:\nj     L8010AC38\n li    S5, 1\nL8010AC28:\njal   __PP64_INTERNAL_VIEW_MAP\n       NOP\nj     L8010ABCC\n sw    R0, 0x10(SP)\nL8010AC38:\nmove  A0, S2\nL8010AC3C:\nli    A1, -1\njal   0x800D9CE8\n move  A2, R0\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui A1, 0x3f99\njal   0x8001C92C\n ori A1, A1, 0x999a\nL8010AC60:\njal   0x800D9E0C\n move  A0, S2\nandi  V0, V0, 0xffff\nbnez  V0, L8010AC84\n       NOP\njal   SleepVProcess\n       NOP\nj     L8010AC60\n       NOP\nL8010AC84:\njal   PlaySound\n li    A0, 601\nmove  A0, S3\nmove  A1, R0\njal   0x800D9CE8\n move  A2, R0\nL8010AC9C:\njal   0x800D9E0C\n move  A0, S3\nandi  V0, V0, 0xffff\nbnez  V0, L8010ACC0\n move  A0, S3\njal   SleepVProcess\n       NOP\nj     L8010AC9C\n       NOP\nL8010ACC0:\nli    A1, -1\njal   0x800D9CE8\n li    A2, 2\nbeqz  S5, L8010AE0C\n       NOP\nlui   S0, hi(bank_coin_total)\naddiu S0, S0, lo(bank_coin_total)\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\nlh    A2, 0(S0)\njal   sprintf\n addiu A0, SP, 0x20\nlh    V0, 0(S0)\nbeqz  V0, L8010AD14\n li    A0, 2\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A1, 14878\nj     L8010AD28\n addiu A2, SP, 0x20\nL8010AD14:\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A1, 0x3A1F ; "So you\'d like to use your card today?"\nmove  A2, R0\nL8010AD28:\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\njal   0x800EC9DC\n       NOP\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nlui   V0, hi(bank_coin_total)\nlh    V0, lo(bank_coin_total)(V0)\nbeql  V0, R0, L8010AD74\n sw    R0, 0x10(SP)\nlui   AT, hi(CORE_800D037C)\njal   func_80112FA8\n sh    R0, lo(CORE_800D037C)(AT)\nli    V0, 1\nlui   AT, hi(CORE_800D037C)\nj     func_8010ADEC\n sh    V0, lo(CORE_800D037C)(AT)\nL8010AD74:\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 2\nli    A1, 14881\nmove  A2, R0\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\njal   0x800EC9DC\n       NOP\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nli    A0, -1\njal   PlayerHasItem\n li    A1, ITEM_KOOPA_CARD\nlb    A0, 0xf(S4)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n lb    A0, 0xf(S4)\njal   0x800F63F0\n lb    A0, 0xf(S4)\nfunc_8010ADEC:\njal   0x800DCD9C\n lb    A0, 0xf(S4)\nblez  V0, L8010B138\n       NOP\njal   0x800DB884\n lb    A0, 0xf(S4)\nj     L8010B138\n       NOP\nL8010AE0C:\njal   0x800DCD9C\n lb    A0, 0xf(S4)\nblez  V0, L8010B04C\n       NOP\nlb    V1, 0xf(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   A2, hi(p1_coins)\naddu  A2, A2, V0\nlh    A2, lo(p1_coins)(A2)\nsltu  V0, R0, A2\nslti  V1, A2, 5\nand   V0, V0, V1\nbeqz  V0, L8010AF38\n       NOP\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\njal   sprintf\n addiu A0, SP, 0x20\naddiu S1, SP, 0x30\nlui   S0, hi(bank_coin_total)\naddiu S0, S0, lo(bank_coin_total)\nlh    A3, 0(S0)\nlb    V1, 0xf(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   A2, hi(p1_coins)\naddu  A2, A2, V0\nlh    A2, lo(p1_coins)(A2)\nmove  A0, S1\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\njal   sprintf\n addu  A2, A3, A2\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 2\nli    A1, 0x1201\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage: "Welcome to the Koopa Bank."\n move  A3, S1\njal   0x800EC6C8\n       NOP\nlb    V1, 0xf(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlhu   V1, 0(S0)\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlhu   V0, lo(p1_coins)(AT)\naddu  V1, V1, V0\njal   func_80108478\n sh    V1, 0(S0)\nlb    A0, 0xf(S4)\nsll   V0, A0, 3\nsubu  V0, V0, A0\nsll   V0, V0, 3\nlui   A1, hi(p1_coins)\naddu  A1, A1, V0\nlh    A1, lo(p1_coins)(A1)\njal   ShowPlayerCoinChange\n subu  A1, R0, A1\nlb    A0, 0xf(S4)\nsll   V0, A0, 3\nsubu  V0, V0, A0\nsll   V0, V0, 3\nlui   A1, hi(p1_coins)\naddu  A1, A1, V0\nlh    A1, lo(p1_coins)(A1)\nj     func_8010B004\n subu  A1, R0, A1\nL8010AF38:\nlb    V0, 0xf(S4)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, V1\nlh    V0, lo(p1_coins)(V0)\nbnezl V0, L8010AF9C\n addiu A0, SP, 0x20\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\nlui   A2, hi(bank_coin_total)\nlh    A2, lo(bank_coin_total)(A2)\njal   sprintf\n addiu A0, SP, 0x20\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 2\nli    A1, 4610\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\nj     func_8010B01C\n       NOP\nL8010AF9C:\nlui   S0, hi(bank_coin_total)\naddiu S0, S0, lo(bank_coin_total)\nlh    A2, 0(S0)\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\njal   sprintf\n addiu A2, A2, 5\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 2\nli    A1, 0x1200\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage "I must ask for a deposit..."\n move  A3, R0\njal   0x800EC6C8\n       NOP\nlhu   V0, 0(S0)\naddiu V0, V0, 5\njal   func_80108478\n sh    V0, 0(S0)\nlb    A0, 0xf(S4)\njal   ShowPlayerCoinChange\n li    A1, -5\nlb    A0, 0xf(S4)\nli    A1, -5\nfunc_8010B004:\njal   AdjustPlayerCoinsGradual\n       NOP\njal   SleepProcess\n li    A0, 30\njal   0x800EC6A8\n       NOP\nfunc_8010B01C:\njal   0x800EC9DC\n       NOP\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\njal   0x800DB884\n lb    A0, 0xf(S4)\njal   SleepProcess\n li    A0, 10\nj     L8010B138\n       NOP\nL8010B04C:\nlui   S0, hi(bank_coin_total)\naddiu S0, S0, lo(bank_coin_total)\nlh    A2, 0(S0)\nbeql  A2, R0, L8010B130\n li    A0, 2\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\njal   sprintf\n addiu A0, SP, 0x20\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 2\nli    A1, 0x1203\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage "Hooray! ... you get all the coins we\'ve collected! ..."\n move  A3, R0\njal   0x800EC9DC\n       NOP\njal   0x800EC6C8\n       NOP\nlb    A0, 0xf(S4)\njal   ShowPlayerCoinChange\n lh    A1, 0(S0)\nlb    A0, 0xf(S4)\njal   AdjustPlayerCoinsGradual\n lh    A1, 0(S0)\njal   func_80108478\n sh    R0, 0(S0)\njal   GetPlayerStruct\n li    A0, -1\nlw    A0, 0x24(V0)\njal   0x800ECC0C\n addiu A0, A0, 0x18\nli    A0, -1\nli    A1, 5\njal   0x800F2304\n move  A2, R0\nlb    A1, 0xf(S4)\njal   0x8004ACE0\n li    A0, 628\njal   SleepProcess\n li    A0, 30\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\njal   0x800EC6A8\n       NOP\njal   0x800EC9DC\n       NOP\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nj     L8010B138\n       NOP\nL8010B130:\njal   0x800EC590\n li    A1, 0x1204 ; "You won ... we don\'t have even 1 coin"\nL8010B138:\njal   PlaySound\n li    A0, 277\nmove  A0, S2\nli    A1, -1\njal   0x800D9CE8\n li    A2, 4\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui A1, 0x3f99\njal   0x8001C92C\n ori A1, A1, 0x999a\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   V1, hi(CORE_800D03F8)\nlw    V1, lo(CORE_800D03F8)(V1)\nsll   V0, A0, 1\naddu  V0, V0, A0\nsll   V0, V0, 6\naddu  V0, V0, V1\nlbu   V1, 2(V0)\nlui   A1, hi(CORE_800CCF58)\nlw    A1, lo(CORE_800CCF58)(A1)\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 3\naddu  V0, V0, A1\nlh    V0, 2(V0)\nmtc1  V0, F4\n      NOP\ncvt.s.w F4, F4\nmfc1  A1, F4\njal   0x8001C6A8\n       NOP\nL8010B1C4:\njal   0x800D9E80\n move  A0, S2\nandi  V0, V0, 0xffff\nbnez  V0, L8010B1E8\n       NOP\njal   SleepVProcess\n       NOP\nj     L8010B1C4\n       NOP\nL8010B1E8:\njal   0x800D9B24\n move  A0, S3\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F12\njal   0x8008EF20\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\ndiv.s F22, F2, F0\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F28\n      NOP\nL8010B244:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S2)\nadd.s F20, F20, F30\nc.lt.s F20, F28\n      NOP\nbc1t  L8010B244\n       NOP\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nmtc1  R0, F28\n      NOP\nL8010B2D4:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S2)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S2)\nsub.s F20, F20, F30\nc.lt.s F28, F20\n      NOP\nbc1t  L8010B2D4\n       NOP\nsw    R0, 0x28(S2)\nsw    R0, 0x24(S2)\nsw    R0, 0x2c(S2)\njal   0x800D9B54\n move  A0, S2\njal   0x800D9B54\n move  A0, S3\nlw    RA, 0x68(SP)\nlw    S5, 0x64(SP)\nlw    S4, 0x60(SP)\nlw    S3, 0x5c(SP)\nlw    S2, 0x58(SP)\nlw    S1, 0x54(SP)\nlw    S0, 0x50(SP)\nldc1  F30, 0x98(SP)\nldc1  F28, 0x90(SP)\nldc1  F26, 0x88(SP)\nldc1  F24, 0x80(SP)\nldc1  F22, 0x78(SP)\nldc1  F20, 0x70(SP)\njr    RA\n addiu SP, SP, 0xa0\n\nfunc_8010B394:\nmove  A3, A0\nmove  A1, R0\nlui   A2, hi(D_8011FB54)\nlw    A2, lo(D_8011FB54)(A2)\nlui   V0, hi(D_8011FB4C)\nlw    V0, lo(D_8011FB4C)(V0)\nlui   A0, hi(D_8011E0A0)\naddiu A0, A0, lo(D_8011E0A0)\nsll   V1, V0, 3\naddu  V1, V1, V0\nsll   V1, V1, 2\nsubu  V1, V1, V0\naddu  V1, V1, A0\nlui   A0, hi(D_8011FB50)\nlw    A0, lo(D_8011FB50)(A0)\nsll   V0, A0, 3\nsubu  V0, V0, A0\naddu  V1, V0, V1\naddu  V0, A2, A1\nL8010B3E0:\nlbu   V0, 0(V0)\nbeqz  V0, L8010B400\n addu  V0, V1, A1\nlb    V0, 0(V0)\nbnel  V0, A3, L8010B404\n addiu A1, A1, 1\nj     L8010B414\n move  V0, A1\nL8010B400:\naddiu A1, A1, 1\nL8010B404:\nslti  V0, A1, 7\nbnez  V0, L8010B3E0\n addu  V0, A2, A1\nli    V0, -1\nL8010B414:\njr    RA\n       NOP\n\nfunc_8010B41C:\nmove  A1, R0\nlui   V0, hi(D_8011FB4C)\nlw    V0, lo(D_8011FB4C)(V0)\nlui   A0, hi(D_8011E0A0)\naddiu A0, A0, lo(D_8011E0A0)\nsll   V1, V0, 3\naddu  V1, V1, V0\nsll   V1, V1, 2\nsubu  V1, V1, V0\naddu  V1, V1, A0\nlui   A0, hi(D_8011FB50)\nlw    A0, lo(D_8011FB50)(A0)\nsll   V0, A0, 3\nsubu  V0, V0, A0\naddu  V1, V0, V1\nli    A0, -1\naddu  V0, V1, A1\nL8010B460:\nlb    V0, 0(V0)\nbeq   V0, A0, L8010B47C\n       NOP\naddiu A1, A1, 1\nslti  V0, A1, 7\nbnezl V0, L8010B460\n addu  V0, V1, A1\nL8010B47C:\njr    RA\n move  V0, A1\n\nD_8010B484:\naddiu SP, SP, -0x50\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F30, 0x48(SP)\nsdc1  F28, 0x40(SP)\nsdc1  F26, 0x38(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\njal   0x8004EE68\n sdc1  F20, 0x20(SP)\nlw    S1, 0x8c(V0)\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\njal   GetPlayerStruct\n sll   S0, S1, 0x10\nli    A0, -1\njal   0x800FF900\n li    A1, 2\njal   PlaySound\n li    A0, 346\nmtc1  R0, F20\nli    S2, 0x3FC00000 ; 1.500000\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F24\nli    AT, 0x3F000000 ; 0.500000\nmtc1  AT, F30\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nli    AT, 0x43340000 ; 180.000000\nmtc1  AT, F26\n      NOP\nL8010B508:\njal   0x8008EF20\n mov.s F12, F20\nmtc1  S2, F2\n      NOP\nmul.s F0, F0, F2\nadd.s F22, F0, F24\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F30\nsra   A0, S0, 0x10\nmfc1  A2, F22\nsub.s F0, F24, F0\nmfc1  A3, F0\n      NOP\njal   0x800551D8\n move  A1, R0\njal   SleepVProcess\n       NOP\nadd.s F20, F20, F28\nc.lt.s F20, F26\n      NOP\nbc1t  L8010B508\n       NOP\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F0\n      NOP\nc.lt.s F20, F0\n      NOP\n      NOP\nbc1f  L8010B610\n sll   A0, S1, 0x10\nli    S2, 0x3F000000 ; 0.500000\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F24\nli    AT, 0x3E800000 ; 0.250000\nmtc1  AT, F30\nsll   S0, S1, 0x10\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F26\n      NOP\nL8010B5B0:\njal   0x8008EF20\n mov.s F12, F20\nmtc1  S2, F2\n      NOP\nmul.s F0, F0, F2\nadd.s F22, F0, F24\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F30\nsra   A0, S0, 0x10\nmfc1  A2, F22\nsub.s F0, F24, F0\nmfc1  A3, F0\n      NOP\njal   0x800551D8\n move  A1, R0\njal   SleepVProcess\n       NOP\nadd.s F20, F20, F28\nc.lt.s F20, F26\n      NOP\n      NOP\nbc1t  L8010B5B0\n sll   A0, S1, 0x10\nL8010B610:\nsra   A0, A0, 0x10\nmove  A1, R0\nlui   A2, 0x3f80\njal   0x800551D8\n move  A3, A2\njal   EndProcess\n move  A0, R0\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F30, 0x48(SP)\nldc1  F28, 0x40(SP)\nldc1  F26, 0x38(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x50\n\n__PP64_INTERNAL_ITEM_SHOP_EVENT:\nitem_shop_event:\naddiu SP, SP, -0xe8\nsw    RA, 0xb4(SP)\nsw    FP, 0xb0(SP)\nsw    S7, 0xac(SP)\nsw    S6, 0xa8(SP)\nsw    S5, 0xa4(SP)\nsw    S4, 0xa0(SP)\nsw    S3, 0x9c(SP)\nsw    S2, 0x98(SP)\nsw    S1, 0x94(SP)\nsw    S0, 0x90(SP)\nsdc1  F30, 0xe0(SP)\nsdc1  F28, 0xd8(SP)\nsdc1  F26, 0xd0(SP)\nsdc1  F24, 0xc8(SP)\nsdc1  F22, 0xc0(SP)\nsdc1  F20, 0xb8(SP)\njal   GetPlayerStruct\n li    A0, -1\nsw    V0, 0x74(SP)\nmove  S5, R0\nmove  S3, R0\nmove  S4, R0\nsw    R0, 0x7c(SP)\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nlw    T5, 0x74(SP)\nlbu   A0, 0xf(T5)\nsll   A0, A0, 0x18\nsra   A0, A0, 0x18\nlbu   A1, 0x10(T5)\nsll   A1, A1, 0x18\nsra   A1, A1, 0x18\nandi  A0, A0, 0xffff\njal   GetAbsSpaceIndexFromChainSpaceIndex\n andi  A1, A1, 0xffff\nsll   V0, V0, 0x10\nsra   V1, V0, 0x10\nli    V0, ').concat(q[0],"\nbeq   V1, V0, L8010B718\n li    V0, ").concat(q[1],"\nbeq   V1, V0, L8010B744\n li    T5, ").concat(Y[1],"\nj     L8010B770\n li    T5, -1\nL8010B718:\nli    T5, ").concat(Y[0],"\nsh    T5, 0x6e(SP)\njal   GetSpaceData\n li    A0, ").concat(Y[0],"\nmove  S5, V0\njal   GetSpaceData\n li    A0, ").concat(q[0],"\nlui   AT, hi(D_8011E1D8)\nsw    R0, lo(D_8011E1D8)(AT)\nj     L8010B774\n move  S3, V0\nL8010B744:\nsh    T5, 0x6e(SP)\njal   GetSpaceData\n li    A0, ").concat(Y[1],"\nmove  S5, V0\njal   GetSpaceData\n li    A0, ").concat(q[1],"\nmove  S3, V0\nli    V0, 1\nlui   AT, hi(D_8011E1D8)\nj     L8010B774\n sw    V0, lo(D_8011E1D8)(AT)\nL8010B770:\nsh    T5, 0x6e(SP)\nL8010B774:\nlhu   T5, 0x6e(SP)\nsll   V0, T5, 0x10\nsra   A2, V0, 0x10\nli    V0, -1\nbeq   A2, V0, L8010B79C\n li    A0, -1\njal   0x800ED20C\n li    A1, 8\njal   SleepProcess\n li    A0, 8\nL8010B79C:\nlui   A0, hi(current_player_index)\njal   0x800DBEC0\n lb    A0, lo(current_player_index)(A0)\nlui   V1, hi(CORE_800CD0AC)\nlh    V1, lo(CORE_800CD0AC)(V1)\nbeqz  V1, L8010B7C8\n li    V0, 1\nbeq   V1, V0, L8010B7DC\n move  S6, R0\nj     L8010B7DC\n li    S6, 1\nL8010B7C8:\njal   RNGPercentChance\n li    A0, 66\nsll   V0, V0, 0x10\nsltiu V0, V0, 1\nmove  S6, V0\nL8010B7DC:\nmove  V0, S6\nbeqz  V0, L8010B7EC\n li    FP, 3\nli    FP, 5\nL8010B7EC:\nlhu   T5, 0x6e(SP)\nsll   V0, T5, 0x10\nsra   V0, V0, 0x10\nli    V1, -1\nbeq   V0, V1, L8010BB6C\n move  S2, S6\nsubu  S0, R0, S6\nandi  S0, S0, 0x31\nori   S0, S0, 0x30\njal   PlaySound\n li    A0, 276 ; raw 0x50, shop appearing noise\nandi  A0, S0, 0xff\njal   0x800D90C8\n move  A1, R0\nmove  S4, V0\njal   0x800D9714\n move  A0, S4\naddiu S0, SP, 0x48\naddiu S1, S5, 8\nmove  A0, S0\naddiu A1, S3, 8\njal   midpoint\n move  A2, S1\njal   0x800D88E8\n move  A0, S0\naddiu A0, S4, 0x18\njal   0x80089A20\n move  A1, S0\nsw    R0, 0x28(S4)\nmove  A0, S4\nli    A1, -1\njal   0x800D9CE8\n li    A2, 1\njal   0x800D9A40\n move  A0, S4\naddiu A0, S4, 0xc\njal   0x80089A20\n move  A1, S1\nbeqz  S2, L8010B898\n li    A0, 57\nlui   A1, hi(D_8011E1D0)\nj     L8010B8A4\n addiu A1, A1, lo(D_8011E1D0)\nL8010B898:\nli    A0, 27\nlui   A1, hi(D_8011E1C8)\naddiu A1, A1, lo(D_8011E1C8)\nL8010B8A4:\njal   0x800D90C8\n       NOP\nsw    V0, 0x7c(SP)\njal   0x800D9714\n lw    A0, 0x7c(SP)\nlw    T5, 0x7c(SP)\naddiu A0, T5, 0x18\njal   0x80089A20\n addiu A1, SP, 0x48\nlw    T5, 0x7c(SP)\naddiu A0, T5, 0xc\njal   0x80089A20\n addiu A1, S5, 8\nli    AT, 0x3F990000 ; 1.195312\nori   AT, AT, 0x999a\nmtc1  AT, F0\nlw    T5, 0x7c(SP)\nswc1  F0, 0x2c(T5)\nswc1  F0, 0x24(T5)\nswc1  F0, 0x28(T5)\njal   0x800D9B24\n lw    A0, 0x7c(SP)\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F12\njal   0x8008EF20\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\ndiv.s F22, F2, F0\nmtc1  R0, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori   AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F28\n      NOP\nL8010B94C:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S4)\nadd.s F20, F20, F30\nc.lt.s F20, F28\n      NOP\nbc1t  L8010B94C\n       NOP\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F0\n      NOP\nc.lt.s F0, F20\n      NOP\nbc1f  L8010BA54\n       NOP\nli    AT, 0x3E4C0000 ; 0.199219\nori   AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F28\n      NOP\nL8010B9F4:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S4)\nsub.s F20, F20, F30\nc.lt.s F28, F20\n      NOP\nbc1t  L8010B9F4\n       NOP\nL8010BA54:\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x2c(S4)\nswc1  F0, 0x24(S4)\nswc1  F0, 0x28(S4)\njal   0x800D9A40\n lw    A0, 0x7c(SP)\nmove  A0, S4\nli    A1, -1\njal   0x800D9CE8\n move  A2, R0\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   A1, 0x3f99\njal   0x8001C92C\n ori   A1, A1, 0x999a\nL8010BA9C:\njal   0x800D9E0C\n move  A0, S4\nandi  V0, V0, 0xffff\nbnez  V0, L8010BAC0\n move  A1, R0\njal   SleepVProcess\n       NOP\nj     L8010BA9C\n       NOP\nL8010BAC0:\nlw    A0, 0x7c(SP)\njal   0x800D9CE8\n move  A2, R0\nmove  V0, S6\nbnez  V0, L8010BB34\n li    A0, 672\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nsll   V0, A0, 3\nsubu  V0, V0, A0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslti  V0, V0, 5\nbnezl V0, L8010BB34\n li    A0, 666\njal   PlayerHasEmptyItemSlot\n       NOP\nli    V1, -1\nbeq   V0, V1, L8010BB34\n li    A0, 666\nlui   V1, hi(current_turn)\nlb    V1, lo(current_turn)(V1)\nlui   V0, hi(total_turns)\nlb    V0, lo(total_turns)(V0)\nbne   V1, V0, L8010BB34\n li    A0, 664\nli    A0, 666\nL8010BB34:\njal   PlaySound\n       NOP\nL8010BB3C:\njal   0x800D9E0C\n lw    A0, 0x7c(SP)\nandi  V0, V0, 0xffff\nbnez  V0, L8010BB60\n li    A1, -1\njal   SleepVProcess\n       NOP\nj     L8010BB3C\n       NOP\nL8010BB60:\nlw    A0, 0x7c(SP)\njal   0x800D9CE8\n li    A2, 2\nL8010BB6C:\nlui   V1, hi(current_turn)\nlb    V1, lo(current_turn)(V1)\nlui   V0, hi(total_turns)\nlb    V0, lo(total_turns)(V0)\nbne   V1, V0, L8010BBA0\n sll   V0, S6, 2\nlui   A1, hi(item_shop_closed_messages)\naddu  A1, A1, V0\nlw    A1, lo(item_shop_closed_messages)(A1)\njal   0x800EC590\n move  A0, FP\nj     L8010C684\n       NOP\nL8010BBA0:\nlui   A0, hi(current_player_index)\njal   PlayerHasEmptyItemSlot\n lb    A0, lo(current_player_index)(A0)\nli    V1, -1\nbne   V0, V1, L8010BBD4\n sll   V0, S6, 2\nlui   A1, hi(item_shop_already_have_three_items_messages)\naddu  A1, A1, V0\nlw    A1, lo(item_shop_already_have_three_items_messages)(A1)\njal   0x800EC590\n move  A0, FP\nj     L8010C684\n       NOP\nL8010BBD4:\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, V1\nlh    V0, lo(p1_coins)(V0)\nslti  V0, V0, 5\nbeqz  V0, L8010BC1C\n sll   V0, S6, 2\nlui   A1, hi(item_shop_not_enough_coins_messages)\naddu  A1, A1, V0\nlw    A1, lo(item_shop_not_enough_coins_messages)(A1)\njal   0x800EC590\n move  A0, FP\nj     L8010C684\n       NOP\nL8010BC1C:\nlui   A1, hi(item_shop_prompt_to_buy_messages)\naddu  A1, A1, V0\nlw    A1, lo(item_shop_prompt_to_buy_messages)(A1)\njal   0x800EC628\n move  A0, FP\njal   func_80107408\n       NOP\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n       NOP\nli    V0, 1\nbeq   S0, V0, L8010C620\n slti  V0, S0, 2\nbeql  V0, R0, L8010BC6C\n li    V0, 2\nbeqz  S0, L8010BC7C\n       NOP\nj     L8010C684\n       NOP\nL8010BC6C:\nbeq   S0, V0, L8010C640\n li    V1, -1\nj     L8010C684\n       NOP\nL8010BC7C:\njal   0x800FB578\n li    A0, -1\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\njal   0x800EE9C0\n move  S1, V0\nmove  A0, S6\nlui   A1, hi(D_8011E088)\naddiu A1, A1, lo(D_8011E088)\nsll   V1, A0, 1\naddu  V1, V1, A0\nsll   V1, V1, 2\naddu  V1, V1, A1\nsll   A0, S1, 2\naddu  A0, A0, V1\naddu  A0, A0, V0\nlbu   S3, 0(A0)\nmove  S2, R0\nmove  A1, R0\nmove  V1, S6\nlui   A0, hi(D_8011E0A0)\naddiu A0, A0, lo(D_8011E0A0)\nsll   V0, V1, 3\naddu  V0, V0, V1\nsll   V0, V0, 2\nsubu  V0, V0, V1\naddu  V0, V0, A0\nsll   V1, S3, 3\nsubu  V1, V1, S3\naddu  V1, V1, V0\nli    A3, -1\naddiu A0, SP, 0x20\nli    A2, 1\naddu  V0, V1, A1\nL8010BD04:\nlb    V0, 0(V0)\nbeq   V0, A3, L8010BD20\n slti  V0, V0, 6\nbeqz  V0, L8010BD30\n addu  V0, A0, A1\nsb    A2, 0(V0)\naddiu S2, S2, 1\nL8010BD20:\naddiu A1, A1, 1\nslti  V0, A1, 7\nbnez  V0, L8010BD04\n addu  V0, V1, A1\nL8010BD30:\nslti  V0, A1, 7\nbeqz  V0, L8010BDF8\n move  S1, R0\naddiu T3, SP, 0x20\nli    T1, 1\naddiu T0, SP, 0x30\nmove  V1, S6\nlui   A0, hi(D_8011E0A0)\naddiu A0, A0, lo(D_8011E0A0)\nsll   V0, V1, 3\naddu  V0, V0, V1\nsll   V0, V0, 2\nsubu  V0, V0, V1\naddu  V0, V0, A0\nsll   V1, S3, 3\nsubu  V1, V1, S3\naddu  T2, V1, V0\nli    T4, -1\nL8010BD78:\naddu  A3, T3, A1\nsb    T1, 0(A3)\nsll   V0, S1, 2\naddu  A2, T0, V0\nsb    R0, 0(A2)\naddu  V0, T2, A1\nlb    V0, 0(V0)\nbeql  V0, T4, L8010BDEC\n addiu A1, A1, 1\nlui   A0, hi(CORE_80100F94)\naddu  A0, A0, V0\nlbu   A0, lo(CORE_80100F94)(A0)\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslt   V0, V0, A0\nbeqz  V0, L8010BDDC\n sll   V0, S1, 2\nsb    R0, 0(A3)\nsb    T1, 0(A2)\nL8010BDDC:\naddu  V0, T0, V0\nsb    R0, 1(V0)\naddiu S2, S2, 1\naddiu A1, A1, 1\nL8010BDEC:\nslti  V0, A1, 7\nbnez  V0, L8010BD78\n addiu S1, S1, 1\nL8010BDF8:\nslti  V0, A1, 9\nbeqz  V0, L8010BE20\n addiu V1, SP, 0x20\nli    A0, 1\naddu  V0, V1, A1\nL8010BE0C:\nsb    A0, 0(V0)\naddiu A1, A1, 1\nslti  V0, A1, 9\nbnez  V0, L8010BE0C\n addu  V0, V1, A1\nL8010BE20:\nlui   V1, hi(item_shop_purchase_selection_messages)\naddiu V1, V1, lo(item_shop_purchase_selection_messages)\nsll   V0, S3, 3\naddu  V0, V0, V1\nmove  S0, S6\nsll   V1, S0, 2\naddu  V1, V1, V0\naddiu V0, SP, 0x38\nsw    V0, 0x10(SP)\naddiu V0, SP, 0x3c\nsw    V0, 0x14(SP)\naddiu V0, SP, 0x40\nsw    V0, 0x18(SP)\nmove  A0, FP\nlw    A1, 0(V1)\naddiu A2, SP, 0x30\njal   0x800EC8EC ; ShowMessage to select item to buy\n addiu A3, SP, 0x34\njal   0x800ECAA8\n move  A0, R0\nlui   AT, hi(D_8011FB4C)\nsw    S0, lo(D_8011FB4C)(AT)\nlui   AT, hi(D_8011FB50)\nsw    S3, lo(D_8011FB50)(AT)\naddiu A0, SP, 0x20\nlui   AT, hi(D_8011FB54)\njal   func_80107174\n sw    A0, lo(D_8011FB54)(AT)\njal   0x800EC6C8\n move  S7, V0\njal   0x800EC6EC\n       NOP\nbne   S7, S2, L8010BED0\n addiu V0, S2, 1\nlui   AT, hi(CORE_800D037C)\njal   0x800E4A6C\n sh    R0, lo(CORE_800D037C)(AT)\nlui   A0, hi(current_player_index)\njal   0x800E44E4\n lb    A0, lo(current_player_index)(A0)\nli    V0, 1\nlui   AT, hi(CORE_800D037C)\nj     L8010BC7C\n sh    V0, lo(CORE_800D037C)(AT)\nL8010BED0:\nxor   V0, S7, V0\nsltiu V0, V0, 1\nnor   V1, R0, S7\nsltiu V1, V1, 1\nor    V0, V0, V1\nbnez  V0, L8010BC1C\n sll   V0, S6, 2\nlw    T5, 0x74(SP)\nlw    FP, 0x24(T5)\nmove  S1, S6\nlui   V1, hi(D_8011E0A0)\naddiu V1, V1, lo(D_8011E0A0)\nsll   V0, S1, 3\naddu  V0, V0, S1\nsll   V0, V0, 2\nsubu  V0, V0, S1\naddu  V0, V0, V1\nsll   S0, S3, 3\nsubu  S0, S0, S3\naddu  S0, S0, V0\naddu  S0, S0, S7\nlb    V0, 0(S0)\nlui   A1, hi(CORE_80100F94)\naddu  A1, A1, V0\nlbu   A1, lo(CORE_80100F94)(A1)\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\njal   ShowPlayerCoinChange\n subu  A1, R0, A1\nlb    V0, 0(S0)\nlui   A1, hi(CORE_80100F94)\naddu  A1, A1, V0\nlbu   A1, lo(CORE_80100F94)(A1)\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\njal   AdjustPlayerCoinsGradual\n subu  A1, R0, A1\njal   SleepProcess\n li    A0, 30\nlb    V1, 0(S0)\nli    V0, 19\nbeq   V1, V0, L8010BFE8\n addiu S5, S1, 0x13\nlui   A0, hi(current_player_index)\njal   PlayerHasEmptyItemSlot\n lb    A0, lo(current_player_index)(A0)\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   A0, V1, 3\nsubu  A0, A0, V1\nsll   A0, A0, 3\nlui   V1, hi(p1_item1)\naddiu V1, V1, lo(p1_item1)\naddu  A0, A0, V1\naddu  A0, A0, V0\nmove  V0, S6\nlui   A1, hi(D_8011E0A0)\naddiu A1, A1, lo(D_8011E0A0)\nsll   V1, V0, 3\naddu  V1, V1, V0\nsll   V1, V1, 2\nsubu  V1, V1, V0\naddu  V1, V1, A1\nsll   V0, S3, 3\nsubu  V0, V0, S3\naddu  V0, V0, V1\naddu  V0, V0, S7\nlbu   V1, 0(V0)\nsb    V1, 0(A0)\nlb    S5, 0(V0)\nL8010BFE8:\nli    A0, 1\njal   0x8005279C\n li    A1, 5\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0x5c(SP)\nsll   V0, S5, 2\nlui   A0, hi(CORE_8010197C)\naddu  A0, A0, V0\nlw    A0, lo(CORE_8010197C)(A0)\njal   ReadMainFS\n move  S1, R0\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsh    V0, 0x66(SP)\njal   FreeMainFS\n move  A0, S0\nlw    S0, 0x5c(SP)\nlhu   T5, 0x66(SP)\nsll   A2, T5, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 10\nmove  A0, S0\nmove  A1, R0\njal   0x800550F4\n move  A2, R0\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 6156\nmove  A0, S0\nmove  A1, R0\nli    A2, 160\njal   0x80054904\n li    A3, 90\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n move  A2, R0\naddiu S0, SP, 0x48\njal   0x800ECC0C\n move  A0, S0\nlw    T5, 0x74(SP)\nlw    A2, 0x24(T5)\naddiu A2, A2, 0x18\nmove  A0, A2\nmove  A1, S0\njal   0x800ED128\n li    A3, 10\njal   PlaySound\n li    A0, 25\nlw    T5, 0x5c(SP)\nsll   S0, T5, 0x10\nsll   A2, S1, 1\nL8010C0E0:\naddu  A2, A2, S1\nsll   A2, A2, 3\naddu  A2, A2, S1\nsra   A0, S0, 0x10\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S1, S1, 1\nslti  V0, S1, 0xa\nbnez  V0, L8010C0E0\n sll   A2, S1, 1\nlw    A0, 0x5c(SP)\nmove  A1, R0\njal   0x80055458\n li    A2, 256\nmove  V0, S6\nlui   A0, hi(D_8011E0A0)\naddiu A0, A0, lo(D_8011E0A0)\nsll   V1, V0, 3\naddu  V1, V1, V0\nsll   V1, V1, 2\nsubu  V1, V1, V0\naddu  V1, V1, A0\nsll   V0, S3, 3\nsubu  V0, V0, S3\naddu  V0, V0, V1\naddu  V0, V0, S7\nlb    V1, 0(V0)\nli    V0, 19\nbne   V1, V0, L8010C598\n move  S7, S6\nlui   V0, hi(D_8011E0E8)\naddiu V0, V0, lo(D_8011E0E8)\nsll   V1, S7, 1\naddu  V1, V1, S7\nsw    V1, 0x84(SP)\nsll   V1, V1, 2\naddu  V1, V1, V0\nsw    V1, 0x8c(SP)\nL8010C180:\nlui   A0, hi(current_player_index)\njal   PlayerHasEmptyItemSlot\n lb    A0, lo(current_player_index)(A0)\nli    T5, -1\nbeq   V0, T5, L8010C578\n li    V1, -1\njal   0x800FB578\n li    A0, -1\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\njal   0x800EE9C0\n move  S0, V0\nsll   S0, S0, 2\nlw    T5, 0x8c(SP)\naddu  S0, S0, T5\naddu  S0, S0, V0\nlbu   S0, 0(S0)\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F12\n      NOP\njal   0x800EEF80\n move  S1, R0\nmove  A0, V0\nlw    T5, 0x84(SP)\nsll   V1, T5, 3\naddu  V1, V1, S7\nsll   V1, V1, 1\nlui   T5, hi(D_8011E100)\naddiu T5, T5, lo(D_8011E100)\naddu  V1, V1, T5\nsll   V0, S0, 2\naddu  V0, V0, S0\nsll   V0, V0, 1\naddu  V1, V0, V1\naddu  V0, V1, S1\nL8010C20C:\nlb    V0, 0(V0)\nslt   V0, A0, V0\nbnez  V0, L8010C22C\n       NOP\naddiu S1, S1, 1\nslti  V0, S1, 0xa\nbnez  V0, L8010C20C\n addu  V0, V1, S1\nL8010C22C:\nlui   V0, hi(D_8011E164)\naddiu V0, V0, lo(D_8011E164)\nsll   V1, S7, 2\naddu  V1, V1, S7\nsll   V1, V1, 1\naddu  V1, V1, V0\naddu  V1, V1, S1\nlbu   S5, 0(V1)\nlhu   T5, 0x6e(SP)\nsll   V0, T5, 0x10\nsra   V0, V0, 0x10\nli    T5, -1\nbeq   V0, T5, L8010C270\n li    A0, 21\nli    A1, 160\nj     L8010C284\n li    A2, 1\nL8010C270:\nlhu   V0, 0xa(FP)\nori   V0, V0, 0x10\nsh    V0, 0xa(FP)\nli    A1, 160\nmove  A2, R0\nL8010C284:\njal   0x800E210C\n li    S0, 30\nmove  S1, V0\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\nlui   AT, hi(CORE_800C9520)\naddu  AT, AT, V0\nlhu   V0, lo(CORE_800C9520)(AT)\nandi  V0, V0, 0x8000\nbnez  V0, L8010C330\n       NOP\nlui   S3, hi(CORE_800C9520)\naddiu S3, S3, lo(CORE_800C9520)\nL8010C2D4:\njal   PlayerIsCPU\n li    A0, -1\nbeqz  V0, L8010C2F0\n li    T5, -1\naddiu S0, S0, -1\nbeq   S0, T5, L8010C330\n       NOP\nL8010C2F0:\njal   SleepVProcess\n       NOP\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nlhu   V0, 0(V0)\nandi  V0, V0, 0x8000\nbeqz  V0, L8010C2D4\n       NOP\nL8010C330:\njal   0x800E21F4\n move  A0, S1\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nli    A1, 2\njal   0x800F2304\n move  A2, R0\nlui   A1, 0x4000\nlui   A2, 0xbe99\nori   A2, A2, 0x999a\njal   0x800EE688\n move  A0, FP\njal   SleepProcess\n li    A0, 5\nlui   A0, hi(D_8010B484)\naddiu A0, A0, lo(D_8010B484)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nlw    T5, 0x5c(SP)\nsw    T5, 0x8c(V0)\njal   0x800EE6C0\n move  A0, FP\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nli    A0, 1\njal   0x8005279C\n li    A1, 5\nsll   V0, V0, 0x10\nsra   S3, V0, 0x10\nsll   V0, S5, 2\nlui   A0, hi(CORE_8010197C)\naddu  A0, A0, V0\nlw    A0, lo(CORE_8010197C)(A0)\njal   ReadMainFS\n move  S1, R0\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsll   V0, V0, 0x10\nsra   S6, V0, 0x10\njal   FreeMainFS\n move  A0, S0\nmove  S0, S3\nmove  A0, S0\nmove  A1, R0\nmove  A2, S6\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 11\nmove  A0, S0\nmove  A1, R0\njal   0x800550F4\n move  A2, R0\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 4096\nmove  A0, S0\nmove  A1, R0\nli    A2, 160\njal   0x80054904\n li    A3, 90\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n move  A2, R0\naddiu S0, SP, 0x48\njal   0x800ECC0C\n move  A0, S0\nlw    T5, 0x74(SP)\nlw    A2, 0x24(T5)\naddiu A2, A2, 0x18\nmove  A0, A2\nmove  A1, S0\njal   0x800ED128\n li    A3, 10\nli    S2, 90\nmtc1  R0, F20\nmove  S0, S3\nli    AT, 0x3DCC0000 ; 0.099609\nori   AT, AT, 0xcccd\nmtc1  AT, F22\nL8010C494:\nsll   A3, S2, 0x10\nmove  A0, S0\nmove  A1, R0\nli    A2, 160\njal   0x80054904\n sra   A3, A3, 0x10\nsll   A2, S1, 1\naddu  A2, A2, S1\nsll   A2, A2, 3\naddu  A2, A2, S1\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\nmove  A0, S0\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x800551D8\n move  A1, R0\njal   SleepVProcess\n addiu S1, S1, 1\naddiu S2, S2, -3\nslti  V0, S1, 0xa\nbnez  V0, L8010C494\n add.s F20, F20, F22\nmove  S0, S3\nmove  A0, S0\nmove  A1, R0\nlui   A2, 0x3f80\njal   0x800551D8\n move  A3, A2\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n li    A2, 256\njal   SleepProcess\n li    A0, 10\nlui   A0, hi(current_player_index)\njal   PlayerHasEmptyItemSlot\n lb    A0, lo(current_player_index)(A0)\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nsb    S5, 0(V1)\njal   0x800525C8\n move  A0, S0\njal   FreeGraphics\n move  A0, S6\nj     L8010C180\n       NOP\nL8010C578:\nlhu   T5, 0x6e(SP)\nsll   V0, T5, 0x10\nsra   V0, V0, 0x10\nbne   V0, V1, L8010C598\n       NOP\nlhu   V0, 0xa(FP)\nandi  V0, V0, 0xffef\nsh    V0, 0xa(FP)\nL8010C598:\njal   SleepProcess\n li    A0, 5\nli    A0, -1\nli    A1, 5\njal   0x800F2304\n move  A2, R0\njal   SleepProcess\n li    A0, 5\nlui   A1, hi(current_player_index)\nlb    A1, lo(current_player_index)(A1)\njal   0x8004ACE0\n li    A0, 628\njal   SleepProcess\n li    A0, 20\njal   SleepVProcess\n       NOP\nli    V0, 2\nsw    V0, 0x10(SP)\nli    A0, -1\nli    A1, -1\nmove  A2, R0\njal   0x800F2388\n li    A3, 5\njal   SleepProcess\n li    A0, 10\nlw    A0, 0x5c(SP)\njal   0x800525C8\n       NOP\nlhu   T5, 0x66(SP)\nsll   A0, T5, 0x10\njal   FreeGraphics\n sra   A0, A0, 0x10\nj     L8010C684\n       NOP\nL8010C620:\nsll   V0, S6, 2\nlui   A1, hi(item_shop_cancelled_purchase_messages)\naddu  A1, A1, V0\nlw    A1, lo(item_shop_cancelled_purchase_messages)(A1)\njal   0x800EC590\n move  A0, FP\nj     L8010C684\n       NOP\nL8010C640:\nlhu   T5, 0x6e(SP)\nsll   V0, T5, 0x10\nsra   V0, V0, 0x10\nbne   V0, V1, L8010C674\n       NOP\njal   func_80106FE8\n       NOP\nli    V0, 1\nlui   AT, hi(CORE_800CB99C)\njal   0x80049FB8\n sb    V0, lo(CORE_800CB99C)(AT)\nj     L8010BC1C\n sll   V0, S6, 2\nL8010C674:\njal   __PP64_INTERNAL_VIEW_MAP\n       NOP\nj     L8010BC1C\n sll   V0, S6, 2\nL8010C684:\nlhu   T5, 0x6e(SP)\nsll   V0, T5, 0x10\nsra   V0, V0, 0x10\nli    V1, -1\nbeq   V0, V1, L8010C8B8\n       NOP\njal   PlaySound\n li    A0, 277\nmove  A0, S4\nli    A1, -1\njal   0x800D9CE8\n li    A2, 4\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   A1, 0x3f99\njal   0x8001C92C\n ori  A1, A1, 0x999a\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   V1, hi(CORE_800D03F8)\nlw    V1, lo(CORE_800D03F8)(V1)\nsll   V0, A0, 1\naddu  V0, V0, A0\nsll   V0, V0, 6\naddu  V0, V0, V1\nlbu   V1, 2(V0)\nlui   A1, hi(CORE_800CCF58)\nlw    A1, lo(CORE_800CCF58)(A1)\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 3\naddu  V0, V0, A1\nlh    V0, 2(V0)\nmtc1  V0, F4\n      NOP\ncvt.s.w F4, F4\nmfc1  A1, F4\njal   0x8001C6A8\n       NOP\nL8010C728:\njal   0x800D9E80\n move  A0, S4\nandi  V0, V0, 0xffff\nbnez  V0, L8010C74C\n       NOP\njal   SleepVProcess\n       NOP\nj     L8010C728\n       NOP\nL8010C74C:\njal   0x800D9B24\n lw    A0, 0x7c(SP)\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F12\njal   0x8008EF20\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\ndiv.s F22, F2, F0\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F28\n      NOP\nL8010C7A8:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S4)\nadd.s F20, F20, F30\nc.lt.s F20, F28\n      NOP\nbc1t  L8010C7A8\n       NOP\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori AT, AT, 0xcccd\nmtc1  AT, F24\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nmtc1  R0, F28\n      NOP\nL8010C838:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\njal   SleepVProcess\n swc1  F0, 0x2c(S4)\nsub.s F20, F20, F30\nc.lt.s F28, F20\n      NOP\nbc1t  L8010C838\n       NOP\nsw    R0, 0x28(S4)\nsw    R0, 0x24(S4)\nsw    R0, 0x2c(S4)\njal   0x800D9B54\n move  A0, S4\nlw    A0, 0x7c(SP)\njal   0x800D9B54\n       NOP\nL8010C8B8:\nlui   A0, hi(current_player_index)\njal   0x800DB884\n lb    A0, lo(current_player_index)(A0)\njal   SleepProcess\n li    A0, 10\nlw    RA, 0xb4(SP)\nlw    FP, 0xb0(SP)\nlw    S7, 0xac(SP)\nlw    S6, 0xa8(SP)\nlw    S5, 0xa4(SP)\nlw    S4, 0xa0(SP)\nlw    S3, 0x9c(SP)\nlw    S2, 0x98(SP)\nlw    S1, 0x94(SP)\nlw    S0, 0x90(SP)\nldc1  F30, 0xe0(SP)\nldc1  F28, 0xd8(SP)\nldc1  F26, 0xd0(SP)\nldc1  F24, 0xc8(SP)\nldc1  F22, 0xc0(SP)\nldc1  F20, 0xb8(SP)\njr    RA\n addiu SP, SP, 0xe8\n\nfunc_8010C914:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\njal   0x800D9AA4\n move  S2, A0\nmove  S1, R0\nL8010C934:\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nandi  S0, S1, 0xff\nlh    A0, 0(V0)\njal   0x8001F9E4\n move  A1, S0\nlw    V0, 0x40(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n move  A1, S0\njal   SleepVProcess\n addiu S1, S1, 0xc\nslti  V0, S1, 0x100\nbnez  V0, L8010C934\n       NOP\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n li    A1, 255\nlw    V0, 0x40(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n li    A1, 255\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_8010C9B4:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S2, A0\nli    S1, 255\nL8010C9D0:\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nandi  S0, S1, 0xff\nlh    A0, 0(V0)\njal   0x8001F9E4\n move  A1, S0\nlw    V0, 0x40(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n move  A1, S0\njal   SleepVProcess\n addiu S1, S1, -0xc\nbgez  S1, L8010C9D0\n       NOP\nlw    V0, 0x3c(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n move  A1, R0\nlw    V0, 0x40(S2)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n move  A1, R0\njal   0x800D9B24\n move  A0, S2\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_8010CA54:\naddiu SP, SP, -0x50\nsw    RA, 0x38(SP)\nsw    S7, 0x34(SP)\nsw    S6, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nsdc1  F22, 0x48(SP)\nsdc1  F20, 0x40(SP)\nmove  S3, A0\nmove  S6, R0\nli    A0, 1\njal   0x8005279C\n li    A1, 5\nmove  S5, V0\nlui A0, 0x13\njal   ReadMainFS\n ori A0, A0, 0x20e\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nmove  S7, V0\njal   FreeMainFS\n move  A0, S0\nsll   S0, S5, 0x10\nsra   S0, S0, 0x10\nsll   A2, S7, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 10\nmove  A0, S0\nmove  A1, R0\njal   0x800550F4\n move  A2, R0\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 4096\nsll   V0, S3, 3\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E1EC)(AT)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E1F0)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n move  A2, R0\njal   PlaySound\n li    A0, 308\nmove  S0, R0\nsll   V0, S5, 0x10\nsra   S2, V0, 0x10\nsll   S1, S3, 3\nL8010CB88:\nmtc1  S0, F4\n      NOP\ncvt.s.w F4, F4\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S1\nlwc1  F0, lo(D_8011E20C)(AT)\nmul.s F0, F4, F0\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S1\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S1\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F4, F4, F0\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S1\nlwc1  F0, lo(D_8011E1F0)(AT)\nadd.s F4, F4, F0\ntrunc.w.s F0, F4\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S2\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nsll   A2, S0, 4\nmove  A0, S2\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0x11\nbnez  V0, L8010CB88\n sll   A0, S5, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\njal   0x80055458\n li    A2, 255\nmove  A0, S3\njal   PlayerHasItem\n li    A1, ITEM_BOO_REPELLANT\nli    V1, -1\nbeq   V0, V1, L8010CC74\n li    A1, 16386\nli    S6, 1\nlui   A0, hi(D_801127D8)\naddiu A0, A0, lo(D_801127D8)\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S3, 0x8c(V0)\nL8010CC74:\nbnez  S6, L8010CCA4\n sll   A0, S3, 0x10\nsll   V1, S3, 3\nsubu  V1, V1, S3\nsll   V1, V1, 3\nlui   V0, hi(p1_stars)\naddu  V0, V0, V1\nlbu   V0, lo(p1_stars)(V0)\naddiu V0, V0, -1\nlui   AT, hi(p1_stars)\naddu  AT, AT, V1\nsb    V0, lo(p1_stars)(AT)\nL8010CCA4:\nsra   A0, A0, 0x10\njal   0x800FF900\n li    A1, 5\njal   PlaySound\n li    A0, 599\nbeqz  S6, L8010CCC4\n li    S2, 30\nli    S2, 120\nL8010CCC4:\nbeqz  S2, L8010CD9C\n move  S0, R0\nsll   S1, S3, 3\nli    AT, 0x41800000 ; 16.000000\nmtc1  AT, F20\nli    AT, 0x40800000 ; 4.000000\nmtc1  AT, F22\nsll   S4, S5, 0x10\nsll   V1, S0, 1\nL8010CCE8:\naddu  V1, V1, S0\nsll   V0, V1, 4\nsubu  V0, V0, V1\nsll   V0, V0, 1\nmtc1  V0, F12\n      NOP\ncvt.s.w F12, F12\njal   0x8008EF20\n addiu S0, S0, 1\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S1\nlwc1  F2, lo(D_8011E210)(AT)\nmul.s F2, F2, F20\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S1\nlwc1  F4, lo(D_8011E1F0)(AT)\nadd.s F2, F2, F4\nmul.s F0, F0, F22\nadd.s F2, F2, F0\ntrunc.w.s F0, F2\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S1\nlwc1  F0, lo(D_8011E20C)(AT)\nmul.s F0, F0, F20\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S1\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nsra   A0, S4, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\njal   SleepVProcess\n       NOP\nslt   V0, S0, S2\nbnez  V0, L8010CCE8\n sll   V1, S0, 1\nL8010CD9C:\nli    S0, 16\nsll   V0, S5, 0x10\nsra   S2, V0, 0x10\nsll   S1, S3, 3\nL8010CDAC:\nmtc1  S0, F4\n      NOP\ncvt.s.w F4, F4\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S1\nlwc1  F0, lo(D_8011E20C)(AT)\nmul.s F0, F4, F0\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S1\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S1\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F4, F4, F0\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S1\nlwc1  F0, lo(D_8011E1F0)(AT)\nadd.s F4, F4, F0\ntrunc.w.s F0, F4\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S2\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nsll   A2, S0, 4\nmove  A0, S2\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S0, S0, -1\nbgez  S0, L8010CDAC\n sll   A0, S5, 0x10\njal   0x800525C8\n sra   A0, A0, 0x10\nsll   A0, S7, 0x10\njal   FreeGraphics\n sra   A0, A0, 0x10\nsltiu V0, S6, 1\nlw    RA, 0x38(SP)\nlw    S7, 0x34(SP)\nlw    S6, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\nldc1  F22, 0x48(SP)\nldc1  F20, 0x40(SP)\njr    RA\n addiu SP, SP, 0x50\n\nD_8010CE9C:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\njal   0x800EC3E4\n       NOP\njal   EndProcess\n move  A0, R0\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nfunc_8010CEC0:\naddiu SP, SP, -0xb0\nsw    RA, 0x94(SP)\nsw    FP, 0x90(SP)\nsw    S7, 0x8c(SP)\nsw    S6, 0x88(SP)\nsw    S5, 0x84(SP)\nsw    S4, 0x80(SP)\nsw    S3, 0x7c(SP)\nsw    S2, 0x78(SP)\nsw    S1, 0x74(SP)\nsw    S0, 0x70(SP)\nsdc1  F24, 0xa8(SP)\nsdc1  F22, 0xa0(SP)\nsdc1  F20, 0x98(SP)\nmove  S4, A0\nsw    R0, 0x1c(SP)\nli    A0, 1\njal   0x8005279C\n li    A1, 5\nsh    V0, 0x26(SP)\nlui A0, 0x13\njal   ReadMainFS\n ori A0, A0, 0x20e\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsh    V0, 0x2e(SP)\njal   FreeMainFS\n move  A0, S0\nlhu   T0, 0x26(SP)\nsll   S1, T0, 0x10\nsra   S1, S1, 0x10\nlhu   T0, 0x2e(SP)\nsll   A2, T0, 0x10\nmove  A0, S1\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80055024\n move  A3, R0\nmove  A0, S1\nmove  A1, R0\njal   0x80055294\n li    A2, 10\nmove  A0, S1\nmove  A1, R0\njal   0x800550F4\n move  A2, R0\nmove  A0, S1\nmove  A1, R0\njal   0x800553A8\n li    A2, 4096\nsll   S0, S4, 3\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E1EC)(AT)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E1F0)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S1\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nmove  A0, S1\nmove  A1, R0\njal   0x80055458\n move  A2, R0\nli    A0, 1\njal   0x8005279C\n li    A1, 5\nsh    V0, 0x36(SP)\nsubu  S0, S0, S4\nsll   S0, S0, 3\nlui   V0, hi(p1_char)\naddu  V0, V0, S0\nlbu   V0, lo(p1_char)(V0)\nsll   V0, V0, 2\nlui   A0, hi(CORE_80101040)\naddu  A0, A0, V0\nlw    A0, lo(CORE_80101040)(A0)\njal   ReadMainFS\n move  S5, R0\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsh    V0, 0x3e(SP)\njal   FreeMainFS\n move  A0, S0\nlhu   T0, 0x36(SP)\nsll   V0, T0, 0x10\nsra   S0, V0, 0x10\nlhu   T0, 0x3e(SP)\nsll   A2, T0, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 10\nmove  A0, S0\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nandi  V0, S4, 1\nbeqz  V0, L8010D0A0\n move  A0, S0\nmove  A1, R0\nj     L8010D0B4\n li    A2, 4097\nL8010D0A0:\nlhu   T0, 0x36(SP)\nsll   A0, T0, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\nli    A2, 4096\nL8010D0B4:\njal   0x800553A8\n       NOP\nmove  A0, S4\njal   PlayerHasItem\n li    A1, ITEM_BOO_REPELLANT\nli    V1, -1\nbeq   V0, V1, L8010D0E8\n move  A1, R0\nlhu   T0, 0x36(SP)\nsll   A0, T0, 0x10\nsra   A0, A0, 0x10\njal   0x800553A8\n li    A2, 32768\nL8010D0E8:\nlhu   T0, 0x36(SP)\nsll   S0, T0, 0x10\nsra   S0, S0, 0x10\nsll   V0, S4, 3\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, V0\nlwc1  F2, lo(D_8011E20C)(AT)\nli    AT, 0x41800000 ; 16.000000\nmtc1  AT, F4\n      NOP\nmul.s F2, F2, F4\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E1EC)(AT)\nsub.s F0, F0, F2\nli    AT, 0x41000000 ; 8.000000\nmtc1  AT, F2\n      NOP\nsub.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F0, F0, F4\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, V0\nlwc1  F2, lo(D_8011E1F0)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n move  A2, R0\njal   PlaySound\n li    A0, 307\nmove  S1, R0\nlhu   T0, 0x26(SP)\nsll   V0, T0, 0x10\nsra   S3, V0, 0x10\nsll   S2, S4, 3\nlhu   T0, 0x36(SP)\nsll   S6, T0, 0x10\nL8010D1BC:\nmtc1  S1, F4\n      NOP\ncvt.s.w F4, F4\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S2\nlwc1  F0, lo(D_8011E20C)(AT)\nmul.s F0, F4, F0\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S2\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S2\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F4, F4, F0\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S2\nlwc1  F0, lo(D_8011E1F0)(AT)\nadd.s F4, F4, F0\ntrunc.w.s F0, F4\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S3\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nsll   S0, S1, 4\nandi  S0, S0, 0xffff\nmove  A0, S3\nmove  A1, R0\njal   0x80055458\n move  A2, S0\nsra   A0, S6, 0x10\nmove  A1, R0\njal   0x80055458\n move  A2, S0\njal   SleepVProcess\n addiu S1, S1, 1\nslti  V0, S1, 0x11\nbnez  V0, L8010D1BC\n move  A1, R0\nlhu   T0, 0x26(SP)\nsll   A0, T0, 0x10\nsra   A0, A0, 0x10\njal   0x80055458\n li    A2, 255\nlhu   T0, 0x36(SP)\nsll   A0, T0, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\njal   0x80055458\n li    A2, 255\nmove  A0, S4\njal   PlayerHasItem\n li    A1, ITEM_BOO_REPELLANT\nli    S0, -1\nnor   V0, R0, V0\nsltu  V0, R0, V0\nsubu  V0, R0, V0\nandi  V0, V0, 0x620f\nsll   V1, S4, 3\nsubu  V1, V1, S4\nsll   V1, V1, 3\nlui   AT, hi(p1_char)\naddu  AT, AT, V1\nlbu   V1, lo(p1_char)(AT)\nsll   V1, V1, 2\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nori   A0, V0, 0x620e\nlui   A1, hi(CORE_801014A0)\naddu  A1, A1, V1\nlw    A1, lo(CORE_801014A0)(A1)\nmove  A2, R0\njal   0x800EC1E8\n move  A3, R0\nsll   A0, S4, 0x10\nsra   A0, A0, 0x10\njal   0x800FF900\n li    A1, 2\njal   0x800EC3C0\n move  A0, S4\nmove  A0, S4\njal   PlayerHasItem\n li    A1, ITEM_BOO_REPELLANT\nbeq   V0, S0, L8010D34C\n li    A1, 4096\nlui   A0, hi(D_8010CE9C)\naddiu A0, A0, lo(D_8010CE9C)\nmove  A2, R0\njal   InitProcess\n move  A3, R0\njal   SleepProcess\n li    A0, 20\nL8010D34C:\nmove  FP, R0\nmove  S2, R0\nmove  A0, S4\njal   PlayerHasItem\n li    A1, ITEM_BOO_REPELLANT\nli    V1, -1\nbeq   V0, V1, L8010D390\n li    T0, 1\nli    FP, 1\nsw    T0, 0x1c(SP)\nlui   A0, hi(D_801127D8)\naddiu A0, A0, lo(D_801127D8)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S4, 0x8c(V0)\nL8010D390:\njal   PlaySound\n li    A0, 307\nsll   A0, S4, 0x10\nsra   A0, A0, 0x10\nli    A1, 3\njal   0x800FFA4C\n li    A2, 5\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F12\n      NOP\njal   0x800EEF80\n sw    V0, 0x44(SP)\naddiu S6, V0, 1\nmove  S1, R0\nmove  S7, R0\nsll   S0, S4, 3\nli    AT, 0x41800000 ; 16.000000\nmtc1  AT, F22\nli    AT, 0x41000000 ; 8.000000\nmtc1  AT, F24\nlhu   T0, 0x36(SP)\nsll   T0, T0, 0x10\nsw    T0, 0x4c(SP)\nsll   V0, S4, 3\nsubu  V0, V0, S4\nsll   V0, V0, 3\nsw    V0, 0x54(SP)\nsll   T0, S4, 3\nsubu  T0, T0, S4\nsw    T0, 0x5c(SP)\nsll   T0, S4, 3\nsubu  T0, T0, S4\nsw    T0, 0x64(SP)\nsll   T0, S4, 3\nsubu  T0, T0, S4\nsw    T0, 0x6c(SP)\nlw    T0, 0x4c(SP)\nsra   S3, T0, 0x10\nL8010D428:\nsll   V0, S6, 0x10\nbnez  V0, L8010D454\n slti  V0, S2, 2\njal   PlaySound\n li    A0, 599\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\naddiu S6, V0, 0x1e\nslti  V0, S2, 2\nL8010D454:\nxori  V0, V0, 1\nsubu  S2, S2, V0\nbnez  S2, L8010D514\n li    V0, 9\nsll   V1, S1, 1\naddu  V1, V1, S1\nsll   V0, V1, 4\nsubu  V0, V0, V1\nsll   V0, V0, 1\nmtc1  V0, F12\n      NOP\njal   0x8008EF20\n cvt.s.w F12, F12\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E210)(AT)\nmul.s F2, F2, F22\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F4, lo(D_8011E1F0)(AT)\nadd.s F2, F2, F4\nadd.s F0, F0, F0\nadd.s F2, F2, F0\ntrunc.w.s F0, F2\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nlhu   T0, 0x26(SP)\nsll   A0, T0, 0x10\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E20C)(AT)\nmul.s F0, F0, F22\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nj     L8010D640\n       NOP\nL8010D514:\nbne   S2, V0, L8010D640\n sll   V1, S7, 1\naddu  V1, V1, S7\nsll   V0, V1, 4\nsubu  V0, V0, V1\nsll   V0, V0, 1\nmtc1  V0, F20\n      NOP\ncvt.s.w F20, F20\njal   0x8008EF20\n mov.s F12, F20\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E20C)(AT)\nmul.s F2, F2, F22\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F4, lo(D_8011E1EC)(AT)\nadd.s F2, F2, F4\nadd.s F0, F0, F0\nadd.s F2, F2, F0\ntrunc.w.s F0, F2\nmfc1  A2, F0\n      NOP\nsll   A2, A2, 0x10\nlhu   T0, 0x26(SP)\nsll   A0, T0, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F0, F0, F22\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1F0)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\njal   0x8008EF20\n mov.s F12, F20\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1EC)(AT)\nsub.s F2, F2, F24\nadd.s F0, F0, F0\nadd.s F2, F2, F0\ntrunc.w.s F0, F2\nmfc1  A2, F0\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F0, F0, F22\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1F0)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlw    T0, 0x4c(SP)\nsra   A0, T0, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\naddiu S7, S7, 1\nL8010D640:\nlw    T0, 0x54(SP)\nlui   V0, hi(CORE_800D110C)\naddu  V0, V0, T0\nlbu   V0, lo(CORE_800D110C)(V0)\nandi  V0, V0, 1\nbeqz  V0, L8010D72C\n       NOP\nbeqz  S2, L8010D75C\n       NOP\nlui   V0, hi(p1_cpu_difficulty)\naddu  V0, V0, T0\nlbu   V0, lo(p1_cpu_difficulty)(V0)\nbnez  V0, L8010D690\n       NOP\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nj     L8010D714\n li    V1, 6\nL8010D690:\nlw    T0, 0x5c(SP)\nsll   V0, T0, 3\nlui   V1, hi(p1_cpu_difficulty)\naddu  V1, V1, V0\nlbu   V1, lo(p1_cpu_difficulty)(V1)\nli    V0, 1\nbne   V1, V0, L8010D6C8\n       NOP\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nj     L8010D714\n li    V1, 7\nL8010D6C8:\nlw    T0, 0x64(SP)\nsll   V0, T0, 3\nlui   V1, hi(p1_cpu_difficulty)\naddu  V1, V1, V0\nlbu   V1, lo(p1_cpu_difficulty)(V1)\nli    V0, 2\nbne   V1, V0, L8010D700\n       NOP\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nj     L8010D714\n li    V1, 8\nL8010D700:\nli    AT, 0x40000000 ; 2.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nli    V1, 9\nL8010D714:\nsubu  V1, V1, V0\nslt   V1, V1, S2\nbeqz  V1, L8010D75C\n sltiu V1, S2, 1\nj     L8010D804\n       NOP\nL8010D72C:\nlw    T0, 0x6c(SP)\nsll   V0, T0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\nlui   AT, hi(CORE_800C9520)\naddu  AT, AT, V0\nlhu   V0, lo(CORE_800C9520)(AT)\nandi  V0, V0, 0x8000\nbeqz  V0, L8010D804\n sltiu V1, S2, 1\nL8010D75C:\nlw    T0, 0x1c(SP)\nbnez  T0, L8010D804\n sltiu V1, S2, 1\naddiu FP, FP, 1\nbnez  S5, L8010D800\n li    S2, 10\nmove  A0, S3\nmove  A1, R0\nli    A2, 1\njal   0x80055140\n move  A3, R0\nmove  A0, S3\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nli    S5, 1\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E1EC)(AT)\nsub.s F0, F0, F24\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F0, F0, F22\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1F0)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S3\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nL8010D800:\nsltiu V1, S2, 1\nL8010D804:\nxori  V0, S5, 1\nsltiu V0, V0, 1\nand   V1, V1, V0\nbeqz  V1, L8010D8B4\n move  A0, S3\nmove  A1, R0\nmove  A2, R0\njal   0x80055140\n move  A3, R0\nmove  A0, S3\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nmove  S5, R0\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E20C)(AT)\nmul.s F2, F2, F22\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E1EC)(AT)\nsub.s F0, F0, F2\nsub.s F0, F0, F24\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F0, F0, F22\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1F0)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S3\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nL8010D8B4:\njal   SleepVProcess\n addiu S1, S1, 1\nslti  V0, S1, 0x78\nbnez  V0, L8010D428\n addiu S6, S6, -1\nlw    A0, 0x44(SP)\njal   0x800FFAEC\n       NOP\nlw    T0, 0x1c(SP)\nbnez  T0, L8010D8F4\n li    A1, 4096\nlui   A0, hi(D_8010CE9C)\naddiu A0, A0, lo(D_8010CE9C)\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nL8010D8F4:\nbnez  FP, L8010D9D4\n li    S1, 16\nlhu   T0, 0x26(SP)\nsll   V0, T0, 0x10\nsra   S3, V0, 0x10\nsll   S2, S4, 3\nlhu   T0, 0x36(SP)\nsll   S5, T0, 0x10\nL8010D914:\nmtc1  S1, F4\n      NOP\ncvt.s.w F4, F4\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S2\nlwc1  F0, lo(D_8011E20C)(AT)\nmul.s F0, F4, F0\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S2\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S2\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F4, F4, F0\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S2\nlwc1  F0, lo(D_8011E1F0)(AT)\nadd.s F4, F4, F0\ntrunc.w.s F0, F4\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S3\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nsll   S0, S1, 4\nandi  S0, S0, 0xffff\nmove  A0, S3\nmove  A1, R0\njal   0x80055458\n move  A2, S0\nsra   A0, S5, 0x10\nmove  A1, R0\njal   0x80055458\n move  A2, S0\njal   SleepVProcess\n addiu S1, S1, -2\nbltz  S1, L8010DB78\n       NOP\nj     L8010D914\n       NOP\nL8010D9D4:\nlhu   T0, 0x26(SP)\nsll   S2, T0, 0x10\nsll   S0, S4, 3\nL8010D9E0:\nmtc1  S1, F20\n      NOP\ncvt.s.w F20, F20\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E20C)(AT)\nmul.s F0, F20, F0\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F0, F20, F0\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1F0)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nsra   A0, S2, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nlhu   T0, 0x36(SP)\nsll   A0, T0, 0x10\naddiu V0, S1, -0x10\nmtc1  V0, F0\n      NOP\ncvt.s.w F0, F0\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E20C)(AT)\nmul.s F0, F0, F2\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, S0\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\nli    AT, 0x41000000 ; 8.000000\nmtc1  AT, F2\n      NOP\nsub.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E210)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F20, F20, F0\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, S0\nlwc1  F0, lo(D_8011E1F0)(AT)\nadd.s F20, F20, F0\ntrunc.w.s F0, F20\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nlw    T0, 0x1c(SP)\nbnezl T0, L8010DB08\n addiu S1, S1, -2\nL8010DB08:\njal   SleepVProcess\n addiu S1, S1, -2\nslti  V0, S1, -0x10\nbeqz  V0, L8010D9E0\n move  A1, R0\nlhu   T0, 0x36(SP)\nsll   S0, T0, 0x10\nsra   S0, S0, 0x10\nmove  A0, S0\nmove  A2, R0\njal   0x80055140\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nli    S1, 16\nlhu   T0, 0x26(SP)\nsll   S0, T0, 0x10\nsll   A2, S1, 4\nL8010DB58:\nsra   A0, S0, 0x10\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S1, S1, -2\nbgez  S1, L8010DB58\n sll   A2, S1, 4\nL8010DB78:\nlhu   T0, 0x26(SP)\nsll   A0, T0, 0x10\njal   0x800525C8\n sra   A0, A0, 0x10\nlhu   T0, 0x2e(SP)\nsll   A0, T0, 0x10\njal   FreeGraphics\n sra   A0, A0, 0x10\nlhu   T0, 0x36(SP)\nsll   A0, T0, 0x10\njal   0x800525C8\n sra   A0, A0, 0x10\nlhu   T0, 0x3e(SP)\nsll   A0, T0, 0x10\njal   FreeGraphics\n sra   A0, A0, 0x10\nlw    T0, 0x1c(SP)\nbnez  T0, L8010DCAC\n li    S5, -2\nmove  S1, R0\nlui   A0, hi(current_turn)\nlb    A0, lo(current_turn)(A0)\nsll   V0, S1, 1\nL8010DBD4:\naddu  V1, V0, S1\nlui   V0, hi(D_8011E22C)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E22C)(V0)\nslt   V0, A0, V0\nbnezl V0, L8010DC0C\n addiu S1, S1, 1\nlui   V0, hi(D_8011E22D)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E22D)(V0)\nslt   V0, V0, A0\nbeqz  V0, L8010DC18\n sll   V0, S1, 1\naddiu S1, S1, 1\nL8010DC0C:\nsltiu V0, S1, 6\nbnez  V0, L8010DBD4\n sll   V0, S1, 1\nL8010DC18:\naddu  V0, V0, S1\nlui   S5, hi(D_8011E22E)\naddu  S5, S5, V0\nlbu   S5, lo(D_8011E22E)(S5)\nmove  S1, R0\nsll   V0, S1, 1\nL8010DC30:\naddu  V1, V0, S1\nlui   V0, hi(D_8011E240)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E240)(V0)\nslt   V0, FP, V0\nbnezl V0, L8010DC68\n addiu S1, S1, 1\nlui   V0, hi(D_8011E241)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E241)(V0)\nslt   V0, V0, FP\nbeqz  V0, L8010DC74\n sll   V0, S1, 1\naddiu S1, S1, 1\nL8010DC68:\nsltiu V0, S1, 0xe\nbnez  V0, L8010DC30\n sll   V0, S1, 1\nL8010DC74:\naddu  V0, V0, S1\nlui   AT, hi(D_8011E242)\naddu  AT, AT, V0\nlbu   V0, lo(D_8011E242)(AT)\nsubu  S5, S5, V0\nsll   V0, S4, 3\nsubu  V0, V0, S4\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslt   V0, S5, V0\nbeql  V0, R0, L8010DCAC\n li    S5, -1\nL8010DCAC:\nmove  V0, S5\nlw    RA, 0x94(SP)\nlw    FP, 0x90(SP)\nlw    S7, 0x8c(SP)\nlw    S6, 0x88(SP)\nlw    S5, 0x84(SP)\nlw    S4, 0x80(SP)\nlw    S3, 0x7c(SP)\nlw    S2, 0x78(SP)\nlw    S1, 0x74(SP)\nlw    S0, 0x70(SP)\nldc1  F24, 0xa8(SP)\nldc1  F22, 0xa0(SP)\nldc1  F20, 0x98(SP)\njr    RA\n addiu SP, SP, 0xb0\n\nboo_event_helper_process:\naddiu SP, SP, -0x40\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F26, 0x38(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\njal   0x8004EE68\n sdc1  F20, 0x20(SP)\nlw    S1, 0x8c(V0)\nlui   A0, hi(D_8011FB58)\njal   0x800D975C\n lw    A0, lo(D_8011FB58)(A0)\nmove  S0, V0\naddiu A0, S0, 0xc\njal   0x80089A20\n addiu A1, S1, 0xc\naddiu A0, S0, 0x24\nlui   A1, 0x4000\nmove  A2, A1\njal   0x80089A10\n move  A3, A1\nlwc1  F0, 0x30(S1)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F2\n      NOP\nadd.s F0, F0, F2\nswc1  F0, 0x30(S0)\njal   0x800D9AA4\n move  A0, S0\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nmtc1  V0, F20\n      NOP\ncvt.s.w F20, F20\nlui   AT, hi(D_8011F8D8)\nldc1  F22, lo(D_8011F8D8)(AT)\nli    AT, 0x420C0000 ; 35.000000\nmtc1  AT, F26\nli    AT, 0x42200000 ; 40.000000\nmtc1  AT, F24\nL8010DD98:\njal   SleepVProcess\n       NOP\nlwc1  F0, 0x30(S0)\ncvt.d.s F0, F0\nadd.d F0, F0, F22\ncvt.s.d F0, F0\nswc1  F0, 0x30(S0)\nlwc1  F2, 0x30(S1)\nadd.s F2, F2, F26\nc.le.s F2, F0\n      NOP\nbc1t  L8010DE0C\n       NOP\nadd.s F20, F20, F24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F20\n      NOP\njal   0x8008A2A0\n addiu A0, A0, 0x74\nj     L8010DD98\n       NOP\nL8010DE0C:\njal   0x800D9B54\n move  A0, S0\njal   EndProcess\n move  A0, R0\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F26, 0x38(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x40\n\nboo_event_helper:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, A0\nlui   A0, hi(boo_event_helper_process)\naddiu A0, A0, lo(boo_event_helper_process)\nli    A1, 4096\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S0, 0x8c(V0)\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n__PP64_INTERNAL_BOO_SPACE_EVENT:\nboo_event:\naddiu SP, SP, -0x118\nsw    RA, 0xe4(SP)\nsw    FP, 0xe0(SP)\nsw    S7, 0xdc(SP)\nsw    S6, 0xd8(SP)\nsw    S5, 0xd4(SP)\nsw    S4, 0xd0(SP)\nsw    S3, 0xcc(SP)\nsw    S2, 0xc8(SP)\nsw    S1, 0xc4(SP)\nsw    S0, 0xc0(SP)\nsdc1  F30, 0x110(SP)\nsdc1  F28, 0x108(SP)\nsdc1  F26, 0x100(SP)\nsdc1  F24, 0xf8(SP)\nsdc1  F22, 0xf0(SP)\nsdc1  F20, 0xe8(SP)\nmove  S4, R0\nmove  S6, R0\njal   GetCurrentSpaceIndex\n sw    R0, 0x9c(SP)\nlui   S7, hi(CORE_800CD058)\naddiu S7, S7, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\njal   0x800DBEC0\n move  S0, V0\nsw    V0, 0xb4(SP)\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nsh    R0, 0xae(SP)\nlbu   A0, 0xf(S0)\nsll   A0, A0, 0x18\nsra   A0, A0, 0x18\nlbu   A1, 0x10(S0)\nsll   A1, A1, 0x18\nsra   A1, A1, 0x18\nandi  A0, A0, 0xffff\njal   GetAbsSpaceIndexFromChainSpaceIndex\n andi  A1, A1, 0xffff\nmove  S2, V0\nsll   V0, S2, 0x10\nsra   S0, V0, 0x10\nli    V0, ").concat(A,"\nbeq   S0, V0, L8010DFB4\n li    T0, -1\nsw    T0, 0x94(SP)\nli    T0, -1\nsh    T0, 0xa6(SP)\nlui   A0, hi(D_8011FB08)\njal   0x800D975C\n lw    A0, lo(D_8011FB08)(A0)\nsw    V0, 0x8c(SP)\njal   0x800D9B24\n lw    A0, 0x8c(SP)\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F0\nlw    T0, 0x8c(SP)\nswc1  F0, 0x30(T0)\njal   GetSpaceData\n move  A0, S0\nmove  S1, V0\nlwc1  F2, 0xc(S1)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F0\nlw    T0, 0x8c(SP)\nlw    A1, 8(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x10(S1)\njal   0x80089A10\n addiu A0, T0, 0xc\nj     L8010E2D8\n       NOP\nL8010DFB4:\nsw    R0, 0x94(SP)\nli    T0, ").concat(c,"\nsh    T0, 0xa6(SP)\njal   GetSpaceData\n li    A0, ").concat(c,'\nmove  S1, V0\nlui   T0, hi(D_8011FB0C)\nlw    T0, lo(D_8011FB0C)(T0)\nsw    T0, 0x8c(SP)\njal   PlaySound\n li    A0, 293\nli    A0, 51\njal   0x800D90C8\n move  A1, R0\nmove  S4, V0\nlb    V0, 1(S7)\nsll   V0, V0, 2\nlui   AT, hi(D_8011E280)\naddu  AT, AT, V0\nlw    V0, lo(D_8011E280)(AT)\nbeqz  V0, L8010E01C\n       NOP\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\njal   0x8001ED54\n lh    A0, 0(V0)\nL8010E01C:\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001C448\n addiu S1, S1, 8\njal   0x800D9714\n move  A0, S4\nsll   A0, S2, 0x10\njal   GetSpaceData\n sra   A0, A0, 0x10\naddiu S0, SP, 0x68\nmove  A0, S0\naddiu A1, V0, 8\njal   midpoint\n move  A2, S1\njal   0x800D88E8\n move  A0, S0\naddiu A0, S4, 0x18\njal   0x80089A20\n move  A1, S0\nsw    R0, 0x28(S4)\naddiu A0, S4, 0xc\njal   0x80089A20\n move  A1, S1\nmove  A0, S4\nli    A1, -1\njal   0x800D9CE8\n li    A2, 1\njal   0x800D9AA4\n move  A0, S4\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F12\njal   0x8008EF20\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\ndiv.s F22, F2, F0\nmtc1  R0, F20\nli    AT, 0x3F7D0000 ; 0.988281\nori AT, AT, 0x70a4\nmtc1  AT, F26\nli    AT, 0x3C230000 ; 0.009949\nori AT, AT, 0xd70a\nmtc1  AT, F24\nlui   S0, hi(D_8011E280)\naddiu S0, S0, lo(D_8011E280)\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F28\n      NOP\nL8010E0EC:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x2c(S4)\nlb    V0, 1(S7)\nsll   V0, V0, 2\naddu  V0, V0, S0\nlw    V0, 0(V0)\nbeqz  V0, L8010E158\n       NOP\nlwc1  F0, 0x24(S4)\nneg.s F0, F0\nswc1  F0, 0x24(S4)\nL8010E158:\njal   SleepVProcess\n       NOP\nadd.s F20, F20, F30\nc.lt.s F20, F28\n      NOP\nbc1t  L8010E0EC\n       NOP\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F0\n      NOP\nc.lt.s F0, F20\n      NOP\nbc1f  L8010E24C\n       NOP\nli    AT, 0x3F7D0000 ; 0.988281\nori AT, AT, 0x70a4\nmtc1  AT, F26\nli    AT, 0x3C230000 ; 0.009949\nori AT, AT, 0xd70a\nmtc1  AT, F24\nlui   S0, hi(D_8011E280)\naddiu S0, S0, lo(D_8011E280)\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F28\n      NOP\nL8010E1C4:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x2c(S4)\nlb    V0, 1(S7)\nsll   V0, V0, 2\naddu  V0, V0, S0\nlw    V0, 0(V0)\nbeqz  V0, L8010E230\n       NOP\nlwc1  F0, 0x24(S4)\nneg.s F0, F0\nswc1  F0, 0x24(S4)\nL8010E230:\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F30\nc.lt.s F28, F20\n      NOP\nbc1t  L8010E1C4\n       NOP\nL8010E24C:\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x28(S4)\nswc1  F0, 0x24(S4)\nswc1  F0, 0x2c(S4)\nlb    V0, 1(S7)\nsll   V0, V0, 2\nlui   AT, hi(D_8011E280)\naddu  AT, AT, V0\nlw    V0, lo(D_8011E280)(AT)\nbeqz  V0, L8010E290\n move  A0, S4\nli    AT, 0xBF800000 ; -1.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x24(S4)\nL8010E290:\nli    A1, -1\njal   0x800D9CE8\n move  A2, R0\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui A1, 0x3f99\njal   0x8001C92C\n ori A1, A1, 0x999a\nL8010E2B4:\njal   0x800D9E0C\n move  A0, S4\nandi  V0, V0, 0xffff\nbnez  V0, L8010E2D8\n       NOP\njal   SleepVProcess\n       NOP\nj     L8010E2B4\n       NOP\nL8010E2D8:\njal   PlaySound\n li    A0, 599\nlw    A0, 0x8c(SP)\njal   func_8010C914\n       NOP\nsll   A0, S2, 0x10\njal   GetSpaceData\n sra   A0, A0, 0x10\nmove  S1, V0\nlhu   T0, 0xa6(SP)\nsll   V0, T0, 0x10\nsra   S0, V0, 0x10\nli    V0, -1\nbeq   S0, V0, L8010E36C\n addiu A1, S1, 8\nlw    A0, 0x8c(SP)\njal   0x800D9F5C\n li    A2, 5\nli    A0, -1\nli    A1, 5\njal   0x800ED20C\n move  A2, S0\njal   SleepProcess\n li    A0, 5\njal   0x8004EE68\n       NOP\nli    AT, 0x3FCC0000 ; 1.593750\nori AT, AT, 0xcccd\nmtc1  AT, F12\n      NOP\njal   0x800E8EDC\n move  S0, V0\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n       NOP\nL8010E36C:\nlb    V0, 0xf(S7)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, V1\nlh    V0, lo(p1_coins)(V0)\nslti  V0, V0, 5\nbeqz  V0, L8010E3A4\n li    A0, 7\njal   0x800EC590\n li    A1, 0x6201 ; "Don\'t trouble me if you have no coins! Shoo! Shoo!"\nj     L8010ECE0\n       NOP\nL8010E3A4:\nmove  S0, R0\nL8010E3A8:\nlb    A0, 0xf(S7)\nL8010E3AC:\nbeq   S0, A0, L8010E3E4\n sll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V1, V0, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, V1\nlh    V0, lo(p1_coins)(V0)\nbnez  V0, L8010E3F4\n slti  V0, S0, 4\nlui   V0, hi(p1_stars)\naddu  V0, V0, V1\nlb    V0, lo(p1_stars)(V0)\nbnez  V0, L8010E3F4\n slti  V0, S0, 4 ; total players\nL8010E3E4:\naddiu S0, S0, 1\nslti  V0, S0, 4 ; total players\nbnez  V0, L8010E3AC\n       NOP\nL8010E3F4:\nbnez  V0, L8010E410\n move  S0, R0\nli    A0, 7\njal   0x800EC590\n li    A1, 0x6202 ; "There isn\'t a soul with coins or stars ..."\nj     L8010ECE0\n       NOP\nL8010E410:\nlb    V1, 0xf(S7)\nL8010E414:\nbeq   S0, V1, L8010E438\n sll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nbnez  V0, L8010E448\n li    V0, 4\nL8010E438:\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L8010E414\n li    V0, 4\nL8010E448:\nbne   S0, V0, L8010E460\n li    V0, 8\nli    V0, 1\nsb    V0, 0x20(SP)\nj     L8010E46C\n sb    R0, 0x60(SP)\nL8010E460:\nsb    V0, 0x20(SP)\nli    V0, 1\nsb    V0, 0x60(SP)\nL8010E46C:\nsb    R0, 0x21(SP)\nmove  S0, R0\nlb    V1, 0xf(S7)\nL8010E478:\nbeq   S0, V1, L8010E49C\n sll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_stars)\naddu  AT, AT, V0\nlb    V0, lo(p1_stars)(AT)\nbnez  V0, L8010E4AC\n li    V0, 4\nL8010E49C:\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L8010E478\n li    V0, 4\nL8010E4AC:\nbeq   S0, V0, L8010E4F8\n li    V0, 1\nlb    V0, 0xf(S7)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, V1\nlh    V0, lo(p1_coins)(V0)\nslti  V0, V0, 0x32\nbnez  V0, L8010E4F8\n li    V0, 1\nlui   V0, hi(p1_stars)\naddu  V0, V0, V1\nlb    V0, lo(p1_stars)(V0)\nslti  V0, V0, MAX_PLAYER_STAR_COUNT\nbnez  V0, L8010E504\n li    V0, 8\nli    V0, 1\nL8010E4F8:\nsb    V0, 0x30(SP)\nj     L8010E510\n sb    R0, 0x61(SP)\nL8010E504:\nsb    V0, 0x30(SP)\nli    V0, 1\nsb    V0, 0x61(SP)\nL8010E510:\nsb    R0, 0x31(SP)\nli    V0, 1\nsb    V0, 0x63(SP)\nsb    V0, 0x62(SP)\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 7\nli    A1, 0x6200 ; "Ooo, hoo, hoo! Which shall I steal? ..."\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage\n addiu A3, SP, 0x30\njal   func_80107BB4\n addiu A0, SP, 0x60\nmove  S0, V0\njal   0x800EC6C8\n sh    S0, 0xae(SP)\njal   0x800EC6EC\n sll   S0, S0, 0x10\nsra   S0, S0, 0x10\nli    V0, 2\nbeq   S0, V0, L8010EC88\n slti  V0, S0, 3\nbnez  V0, L8010E584\n li    V0, 3\nbeq   S0, V0, L8010ECA4\n li    V0, -1\nj     L8010ECE0\n       NOP\nL8010E584:\nbltz  S0, L8010ECE0\n move  S0, R0\nmove  S1, R0\nL8010E590:\naddiu S3, SP, 0x60\nL8010E594:\naddiu S2, SP, 0x20\nli    S5, 1\nlhu   T0, 0xae(SP)\nsll   V0, T0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0xbc(SP)\nli    FP, 8\nL8010E5B0:\nlb    V0, 0xf(S7)\nbeql  S0, V0, L8010E608\n addu  V0, S3, S1\nlw    T0, 0xbc(SP)\nbnez  T0, L8010E5EC\n sll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nbeqz  V0, L8010E608\n addu  V0, S3, S1\nj     L8010E620\n sb    S5, 0(V0)\nL8010E5EC:\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_stars)\naddu  AT, AT, V0\nlb    V0, lo(p1_stars)(AT)\nbnez  V0, L8010E61C\n addu  V0, S3, S1\nL8010E608:\nsb    R0, 0(V0)\nsll   V0, S1, 4\naddu  V0, S2, V0\nj     L8010E62C\n sb    S5, 0(V0)\nL8010E61C:\nsb    S5, 0(V0)\nL8010E620:\nsll   V0, S1, 4\naddu  V0, S2, V0\nsb    FP, 0(V0)\nL8010E62C:\nsll   A1, S1, 4\naddu  A1, S2, A1\nmove  A0, S0\njal   0x800E2260\n addiu A1, A1, 1\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L8010E5B0\n addiu S1, S1, 1\nli    V0, 1\nsb    V0, 0x64(SP)\nsb    V0, 0x65(SP)\naddiu V0, SP, 0x40\nsw    V0, 0x10(SP)\naddiu V0, SP, 0x50\nsw    V0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 7\nli    A1, 0x5C02\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage "Who\'s your opponent?"\n addiu A3, SP, 0x30\njal   func_80107BD4\n addiu A0, SP, 0x60\nmove  S0, V0\njal   0x800EC6C8\n move  S2, S0\njal   0x800EC6EC\n move  S1, R0\nsll   S0, S0, 0x10\nsra   S0, S0, 0x10\nli    V0, 4\nbeq   S0, V0, L8010E718 ; Your Choice\n slti  V0, S0, 5\nbeqz  V0, L8010E6CC\n li    V0, -1\nbeq   S0, V0, L8010E3A8\n move  S0, R0\nj     L8010E8A4\n       NOP\nL8010E6CC:\nli    V0, 5\nbne   S0, V0, L8010E8A4\n li    V0, -1\nlw    T0, 0x94(SP)\nbne   T0, V0, L8010E708\n       NOP\njal   func_80106FE8\n move  S0, R0\nli    V0, 1\nlui   AT, hi(CORE_800CB99C)\nsb    V0, lo(CORE_800CB99C)(AT)\njal   0x80049FB8\n move  S1, R0\nj     L8010E594\n addiu S3, SP, 0x60\nL8010E708:\njal   __PP64_INTERNAL_VIEW_MAP\n move  S0, R0\nj     L8010E590\n move  S1, R0\nL8010E718:\nmove  S0, R0\nmove  S2, R0\naddiu S3, SP, 0x20\nmove  S1, R0\nL8010E728:\njal   0x800EE9C0\n move  A0, S1\nbnel  S0, V0, L8010E754\n addiu S1, S1, 1\nlb    V0, 0xf(S7)\nbeq   V0, S1, L8010E750\n sll   V0, S2, 2\naddu  V0, V0, S3\nsw    S1, 0x58(V0)\naddiu S2, S2, 1\nL8010E750:\naddiu S1, S1, 1\nL8010E754:\nslti  V0, S1, 4\nbnez  V0, L8010E728\n       NOP\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnezl V0, L8010E728\n move  S1, R0\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F12\n      NOP\njal   0x800EEF80\n move  S0, R0\nmove  V1, V0\nlui   A0, hi(D_8011E274)\naddiu A0, A0, lo(D_8011E274)\nsll   V0, S0, 2\nL8010E794:\naddu  V0, V0, A0\nlw    V0, 0(V0)\nslt   V0, V1, V0\nbnez  V0, L8010E7B8\n       NOP\naddiu S0, S0, 1\nslti  V0, S0, 3\nbnez  V0, L8010E794\n sll   V0, S0, 2\nL8010E7B8:\nlhu   T0, 0xae(SP)\nsll   V0, T0, 0x10\nbeqz  V0, L8010E808\n addiu A0, SP, 0x20\nL8010E7C8:\nsll   V0, S0, 2\naddu  V0, V0, A0\nlw    V1, 0x58(V0)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_stars)\naddu  AT, AT, V0\nlb    V0, lo(p1_stars)(AT)\nbeql  V0, R0, L8010E7C8\n addiu S0, S0, -1\nlb    V0, 0xf(S7)\nbeql  V1, V0, L8010E7C8\n addiu S0, S0, -1\nj     L8010E898\n sll   V0, S0, 2\nL8010E808:\nbltz  S0, L8010E84C\n sll   V0, S0, 2\nL8010E810:\naddu  V0, V0, A0\nlw    V1, 0x58(V0)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nbeqz  V0, L8010E844\n addiu S0, S0, -1\nlb    V0, 0xf(S7)\nbnel  V1, V0, L8010E850\n li    S0, 2\nL8010E844:\nbgez  S0, L8010E810\n sll   V0, S0, 2\nL8010E84C:\nli    S0, 2\nL8010E850:\naddiu A0, SP, 0x20\nsll   V0, S0, 2\nL8010E858:\naddu  V0, V0, A0\nlw    V1, 0x58(V0)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nbeql  V0, R0, L8010E890\n addiu S0, S0, -1\nlb    V0, 0xf(S7)\nbne   V1, V0, L8010E898\n sll   V0, S0, 2\naddiu S0, S0, -1\nL8010E890:\nbgez  S0, L8010E858\n sll   V0, S0, 2\nL8010E898:\naddu  V0, SP, V0\nlhu   S2, 0x7a(V0)\nli    S1, 1\nL8010E8A4:\nlhu   T0, 0xae(SP)\nsll   V0, T0, 0x10\nbnez  V0, L8010E8CC\n       NOP\n; paying to steal coins\nlb    A0, 0xf(S7)\njal   ShowPlayerCoinChange\n li    A1, -5\nlb    A0, 0xf(S7)\nj     L8010E8E0\n li    A1, -5\nL8010E8CC: ; paying to steal a star\nlb    A0, 0xf(S7)\njal   ShowPlayerCoinChange\n li    A1, -50\nlb    A0, 0xf(S7)\nli    A1, -50\nL8010E8E0:\njal   AdjustPlayerCoinsGradual\n       NOP\njal   SleepProcess\n li    A0, 30\nlhu   T0, 0xae(SP)\nsll   V0, T0, 0x10\nsra   V0, V0, 0x10\nli    V1, 1\nbne   V0, V1, L8010E918\n move  S0, R0\nbeqz  S1, L8010E9AC\n li    A0, 7\nj     L8010E9A4\n li    A1, 25094\nL8010E918:\nlui   A0, hi(current_turn)\nlb    A0, lo(current_turn)(A0)\nsll   V0, S0, 1\nL8010E924:\naddu  V1, V0, S0\nlui   V0, hi(D_8011E22C)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E22C)(V0)\nslt   V0, A0, V0\nbnezl V0, L8010E95C\n addiu S0, S0, 1\nlui   V0, hi(D_8011E22D)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E22D)(V0)\nslt   V0, V0, A0\nbeqz  V0, L8010E968\n sll   V0, S0, 1\naddiu S0, S0, 1\nL8010E95C:\nsltiu V0, S0, 6\nbnez  V0, L8010E924\n sll   V0, S0, 1\nL8010E968:\naddu  V0, V0, S0\nlui   AT, hi(D_8011E22E)\naddu  AT, AT, V0\nlbu   V0, lo(D_8011E22E)(AT)\nbnez  S1, L8010E99C\n sw    V0, 0x9c(SP)\nli    AT, 0x40C00000 ; 6.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nli    A0, 7\nj     L8010E9A4\n addiu A1, V0, 0x6207 ; "Good! Here I go... I feel great! Great! Leave it to me!"\nL8010E99C:\nli    A0, 7\nli    A1, 0x620D ; "Good, good... I\'ll steal coins from that no-good fool..."\nL8010E9A4:\njal   0x800EC590\n       NOP\nL8010E9AC:\njal   func_8010C9B4\n lw    A0, 0x8c(SP)\nlhu   T0, 0xae(SP)\nsll   V0, T0, 0x10\nbnez  V0, L8010EBEC\n sll   A0, S2, 0x10\nsll   V0, S2, 0x10\nsra   S0, V0, 0x10\njal   func_8010CEC0\n move  A0, S0\nlw    A0, 0x8c(SP)\njal   func_8010C914\n move  S6, V0\nli    V0, -2\nbeq   S6, V0, L8010EC38\n li    V0, -1\nbne   S6, V0, L8010EA34\n addiu A0, SP, 0x20\nsll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   S6, hi(p1_coins)\naddu  S6, S6, V0\nlh    S6, lo(p1_coins)(S6)\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\njal   sprintf\n move  A2, S6\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 7\nj     L8010EA8C\n li    A1, 25108\nL8010EA34:\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\njal   sprintf\n move  A2, S6\nlw    T0, 0x9c(SP)\nsubu  V1, T0, S6\nmove  S0, R0\nL8010EA50:\nlui   V0, hi(D_8011E26C)\naddu  V0, V0, S0\nlbu   V0, lo(D_8011E26C)(V0)\nslt   V0, V1, V0\nbeql  V0, R0, L8010EA7C\n sw    R0, 0x10(SP)\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L8010EA50\n       NOP\nsw    R0, 0x10(SP)\nL8010EA7C:\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 7\naddiu A1, S0, 0x6210\nL8010EA8C:\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage: "That\'s rediculous! I only got _ coins!"\n move  A3, R0\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nli    V0, -2\nbeq   S6, V0, L8010EC38\n li    A0, 25\nlui   AT, hi(CORE_800D037C)\nsh    R0, lo(CORE_800D037C)(AT)\nmtc1  S6, F24\n      NOP\ncvt.s.w F24, F24\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F0\n      NOP\ndiv.s F24, F24, F0\nmtc1  R0, F20\n      NOP\njal   0x800D90C8\n move  A1, R0\nlui   AT, hi(D_8011FB58)\nsw    V0, lo(D_8011FB58)(AT)\njal   0x800D9714\n move  A0, V0\nlui   A0, hi(D_8011FB58)\njal   0x800D9B24\n lw    A0, lo(D_8011FB58)(A0)\nsll   A0, S2, 0x10\nsra   A0, A0, 0x10\nli    A1, 3\njal   0x800FFA4C\n li    A2, 5\nbeqz  S6, L8010EB7C\n move  S1, V0\nli    AT, 0x3F800000\nmtc1  AT, F22\nsll   S0, S2, 0x10\nadd.s F20, F20, F24\nL8010EB30:\nc.le.s F22, F20\n      NOP\nbc1f  L8010EB6C\n       NOP\nlw    A0, 0x8c(SP)\njal   boo_event_helper\n sub.s F20, F20, F22\nlb    A0, 0xf(S7)\njal   AdjustPlayerCoinsGradual\n li    A1, 1\nsra   A0, S0, 0x10\nli    A1, -1\njal   0x800F5BF4\n move  A2, R0\naddiu S6, S6, -1\nL8010EB6C:\njal   SleepVProcess\n       NOP\nbnezl S6, L8010EB30\n add.s F20, F20, F24\nL8010EB7C:\njal   0x800FFAEC\n move  A0, S1\njal   SleepProcess\n li    A0, 20\nlui   A0, hi(D_8011FB58)\njal   0x800D9B54\n lw    A0, lo(D_8011FB58)(A0)\njal   GetPlayerStruct\n li    A0, -1\nlw    A0, 0x24(V0)\njal   0x800ECC0C\n addiu A0, A0, 0x18\nli    A0, -1\nli    A1, 5\njal   0x800F2304\n move  A2, R0\njal   SleepProcess\n li    A0, 5\nlb    A1, 0xf(S7)\njal   0x8004ACE0\n li    A0, 628\njal   SleepProcess\n li    A0, 45\nli    V0, 1\nlui   AT, hi(CORE_800D037C)\nsh    V0, lo(CORE_800D037C)(AT)\nj     L8010EC3C\n li    V0, -1\nL8010EBEC:\njal   func_8010CA54\n sra   A0, A0, 0x10\nlw    A0, 0x8c(SP)\njal   func_8010C914\n move  S0, V0\nbeqz  S0, L8010EC34\n li    A0, 7\njal   0x800EC590\n li    A1, 0x6205 ; "I got a star! ..."\nli    V0, 1\nlui   AT, hi(D_8011D308)\nsw    V0, lo(D_8011D308)(AT)\njal   func_80106EEC\n lw    A0, 0x8c(SP)\nlui   AT, hi(D_8011D308)\nsw    R0, lo(D_8011D308)(AT)\nj     L8010EC3C\n li    V0, -1\nL8010EC34:\nli    S6, -2\nL8010EC38:\nli    V0, -1\nL8010EC3C:\nlw    T0, 0x94(SP)\nbne   T0, V0, L8010EC64\n li    V0, -2\njal   SleepProcess\n li    A0, 20\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nli    V0, -2\nL8010EC64:\nbne   S6, V0, L8010ECE0\n       NOP\njal   SleepProcess\n li    A0, 30\nli    A0, 7\njal   0x800EC590\n li    A1, 0x6215 ; "There was weird gas all over the place! I feel awful!"\nj     L8010ECE0\n       NOP\nL8010EC88:\njal   func_8010C9B4\n lw    A0, 0x8c(SP)\nli    A0, 7\njal   0x800EC590\n li    A1, 0x6203 ; "What are you thinking? I can\'t believe it! Ooo, hoo, hoo!"\nj     L8010ECE0\n       NOP\nL8010ECA4:\nlw    T0, 0x94(SP)\nbne   T0, V0, L8010ECD0\n       NOP\njal   func_80106FE8\n move  S0, R0\nli    V0, 1\nlui   AT, hi(CORE_800CB99C)\njal   0x80049FB8\n sb    V0, lo(CORE_800CB99C)(AT)\nj     L8010E3A8\n       NOP\nL8010ECD0:\njal   __PP64_INTERNAL_VIEW_MAP\n move  S0, R0\nj     L8010E3A8\n       NOP\nL8010ECE0:\nlhu   T0, 0xae(SP)\nsll   V0, T0, 0x10\nsra   V0, V0, 0x10\nli    V1, 2\nbeq   V0, V1, L8010ED00\n       NOP\njal   func_8010C9B4\n lw    A0, 0x8c(SP)\nL8010ED00:\nlw    T0, 0x8c(SP)\njal   0x800ECC0C\n addiu A0, T0, 0x18\nli    V0, -1\nlw    T0, 0x94(SP)\nbne   T0, V0, L8010ED24\n       NOP\njal   0x800D9B54\n lw    A0, 0x8c(SP)\nL8010ED24:\nlhu   T0, 0xa6(SP)\nsll   V0, T0, 0x10\nsra   V0, V0, 0x10\nli    V1, -1\nbeq   V0, V1, L8010EFA4\n       NOP\njal   PlaySound\n li    A0, 294\nmove  A0, S4\nli    A1, -1\njal   0x800D9CE8\n li    A2, 4\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   A1, 0x3f99\njal   0x8001C92C\n ori A1, A1, 0x999a\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   V1, hi(CORE_800D03F8)\nlw    V1, lo(CORE_800D03F8)(V1)\nsll   V0, A0, 1\naddu  V0, V0, A0\nsll   V0, V0, 6\naddu  V0, V0, V1\nlbu   V1, 2(V0)\nlui   A1, hi(CORE_800CCF58)\nlw    A1, lo(CORE_800CCF58)(A1)\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 3\naddu  V0, V0, A1\nlh    V0, 2(V0)\nmtc1  V0, F4\n      NOP\ncvt.s.w F4, F4\nmfc1  A1, F4\njal   0x8001C6A8\n       NOP\nL8010EDC8:\njal   0x800D9E80\n move  A0, S4\nandi  V0, V0, 0xffff\nbnez  V0, L8010EDEC\n       NOP\njal   SleepVProcess\n       NOP\nj     L8010EDC8\n       NOP\nL8010EDEC:\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F12\njal   0x8008EF20\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\ndiv.s F22, F2, F0\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori   AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nlui   S0, hi(D_8011E280)\naddiu S0, S0, lo(D_8011E280)\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F28\n      NOP\nL8010EE48:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x2c(S4)\nlb    V0, 1(S7)\nsll   V0, V0, 2\naddu  V0, V0, S0\nlw    V0, 0(V0)\nbeqz  V0, L8010EEB4\n       NOP\nlwc1  F0, 0x24(S4)\nneg.s F0, F0\nswc1  F0, 0x24(S4)\nL8010EEB4:\njal   SleepVProcess\n       NOP\nadd.s F20, F20, F30\nc.lt.s F20, F28\n      NOP\nbc1t  L8010EE48\n       NOP\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F20\nli    AT, 0x3E4C0000 ; 0.199219\nori   AT, AT, 0xcccd\nmtc1  AT, F26\nli    AT, 0x3F4C0000 ; 0.796875\nori   AT, AT, 0xcccd\nmtc1  AT, F24\nlui   S0, hi(D_8011E280)\naddiu S0, S0, lo(D_8011E280)\nli    AT, 0x41340000 ; 11.250000\nmtc1  AT, F30\nmtc1  R0, F28\n      NOP\nL8010EF08:\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nswc1  F0, 0x28(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x24(S4)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\n      NOP\nmul.s F0, F0, F26\nadd.s F0, F0, F24\nswc1  F0, 0x2c(S4)\nlb    V0, 1(S7)\nsll   V0, V0, 2\naddu  V0, V0, S0\nlw    V0, 0(V0)\nbeqz  V0, L8010EF74\n       NOP\nlwc1  F0, 0x24(S4)\nneg.s F0, F0\nswc1  F0, 0x24(S4)\nL8010EF74:\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F30\nc.lt.s F28, F20\n      NOP\nbc1t  L8010EF08\n       NOP\nsw    R0, 0x28(S4)\nsw    R0, 0x24(S4)\nsw    R0, 0x2c(S4)\njal   0x800D9B54\n move  A0, S4\nL8010EFA4:\nlw    T0, 0xb4(SP)\nbeqz  T0, L8010EFC0\n li    V0, -1\nlb    A0, 0xf(S7)\njal   0x800DB884\n       NOP\nli    V0, -1\nL8010EFC0:\nlw    T0, 0x94(SP)\nbeq   T0, V0, L8010F000\n       NOP\njal   0x8004EE68\n       NOP\nli    AT, 0x3FA60000 ; 1.296875\nori   AT, AT, 0x6666\nmtc1  AT, F12\n      NOP\njal   0x800E8EDC\n move  S0, V0\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n       NOP\nL8010F000:\nlw    RA, 0xe4(SP)\nlw    FP, 0xe0(SP)\nlw    S7, 0xdc(SP)\nlw    S6, 0xd8(SP)\nlw    S5, 0xd4(SP)\nlw    S4, 0xd0(SP)\nlw    S3, 0xcc(SP)\nlw    S2, 0xc8(SP)\nlw    S1, 0xc4(SP)\nlw    S0, 0xc0(SP)\nldc1  F30, 0x110(SP)\nldc1  F28, 0x108(SP)\nldc1  F26, 0x100(SP)\nldc1  F24, 0xf8(SP)\nldc1  F22, 0xf0(SP)\nldc1  F20, 0xe8(SP)\njr    RA\n addiu SP, SP, 0x118\n\nfunc_8010F088:\naddiu SP, SP, -0x48\nsw    RA, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nsdc1  F22, 0x40(SP)\nsdc1  F20, 0x38(SP)\nmove  S3, A0\nmtc1  A1, F20\nmtc1  A2, F22\nlw    S0, 0x58(SP)\nlw    S1, 0x5c(SP)\nmove  S5, A3\nlui   V0, hi(D_8010F1E4)\naddiu V0, V0, lo(D_8010F1E4)\nsw    V0, 0x10(SP)\nli    A0, 500\nmove  A1, R0\nmove  A2, R0\njal   0x80047620\n li    A3, -1\nmove  S4, V0\nli    A0, 32\njal   0x80019A14\n li    A1, 31000\nsw    V0, 0x5c(S4)\nmove  S2, V0\nli    AT, 0x437F0000 ; 255.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0xc(S2)\nswc1  F20, 0x10(S2)\nswc1  F22, 0x14(S2)\nmove  A0, S2\njal   0x80089A20\n move  A1, S0\nbeqz  S1, L8010F138\n lui A0, 0x13\nsw    R0, 0x10(SP)\nj     L8010F140\n ori A0, A0, 0x1f8\nL8010F138:\nsw    R0, 0x10(SP)\nori   A0, A0, 0x1f7\nL8010F140:\nmove  A1, R0\nlui   A2, 0x3f80\njal   0x800D912C\n move  A3, R0\nmove  S0, V0\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\nlwc1  F0, 0(S3)\nswc1  F0, 0xc(S0)\nlwc1  F0, 4(S3)\nswc1  F0, 0x10(S0)\nlwc1  F0, 8(S3)\nswc1  F0, 0x14(S0)\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\njal   0x8001FA68\n lh    A0, 0(V0)\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n li    A1, 255\nsw    S0, 0x18(S2)\nsh    S5, 0x1c(S2)\nmove  V0, S4\nlw    RA, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\nldc1  F22, 0x40(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x48\n\nD_8010F1E4:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S2, A0\nlw    S0, 0x5c(S2)\nlw    S1, 0x18(S0)\naddiu A1, S1, 0xc\nmove  A0, A1\njal   0x80089A70\n move  A2, S0\nlwc1  F0, 0x2c(S1)\nlwc1  F2, 0x10(S0)\nadd.s F0, F0, F2\nswc1  F0, 0x2c(S1)\nswc1  F0, 0x28(S1)\nswc1  F0, 0x24(S1)\nlwc1  F0, 0xc(S0)\nlwc1  F2, 0x14(S0)\nsub.s F0, F0, F2\nmtc1  R0, F2\n      NOP\nc.lt.s F0, F2\n      NOP\n      NOP\nbc1f  L8010F288\n swc1  F0, 0xc(S0)\nswc1  F2, 0xc(S0)\nlhu   V0, 0x1c(S0)\nbeqz  V0, L8010F280\n move  A0, S2\nlw    A0, 0x18(S0)\njal   0x800D9B54\n       NOP\njal   0x800479AC\n move  A0, S2\nj     L8010F2E4\n       NOP\nL8010F280:\njal   0x80047B38\n li    A1, 8\nL8010F288:\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlwc1  F2, 0xc(S0)\nli    AT, 0x4F000000 ; 2147483648.000000\nmtc1  AT, F0\n      NOP\nc.le.s F0, F2\n      NOP\n      NOP\nbc1tl L8010F2C8\n sub.s F0, F2, F0\ntrunc.w.s F0, F2\nmfc1  A1, F0\nj     L8010F2DC\n       NOP\nL8010F2C8:\nlui   V0, 0x8000\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nor    A1, A1, V0\nL8010F2DC:\njal   0x8001F9E4\n andi  A1, A1, 0xff\nL8010F2E4:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_8010F2FC:\naddiu SP, SP, -0x128\nsw    RA, 0x110(SP)\nsw    S7, 0x10c(SP)\nsw    S6, 0x108(SP)\nsw    S5, 0x104(SP)\nsw    S4, 0x100(SP)\nsw    S3, 0xfc(SP)\nsw    S2, 0xf8(SP)\nsw    S1, 0xf4(SP)\nsw    S0, 0xf0(SP)\nsdc1  F22, 0x120(SP)\nsdc1  F20, 0x118(SP)\nlui   S7, hi(CORE_800CD058)\naddiu S7, S7, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\njal   func_8010FE54\n move  S3, V0\nli    A0, 36\njal   0x800D90C8\n move  A1, R0\nmove  S1, V0\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\nlw    A1, 0x24(S3)\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x10(S1)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nlwc1  F0, 0x10(S1)\nsub.s F0, F0, F22\nL8010F3A8:\njal   SleepVProcess\n swc1  F0, 0x10(S1)\nlwc1  F0, 0x10(S1)\nc.lt.s F20, F0\n      NOP\n      NOP\nbc1tl L8010F3A8\n sub.s F0, F0, F22\njal   PlaySound\n li    A0, 295\njal   0x8004A7C4\n li    A0, 180\nli    A0, -1\nli    A1, 4\njal   0x800FFA4C\n li    A2, 5\nmove  S5, V0\nli    S2, 180\nmove  S0, R0\nlui   S6, hi(D_8011F940)\naddiu S6, S6, lo(D_8011F940)\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F22\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F20\naddiu S4, SP, 0x28\nL8010F410:\naddiu A3, SP, 0x28\nlui   A2, hi(D_8011F8E0)\naddiu A2, A2, lo(D_8011F8E0)\nL8010F41C:\nlw    V0, 0(A2)\nlw    V1, 4(A2)\nlw    A0, 8(A2)\nlw    A1, 0xc(A2)\nsw    V0, 0(A3)\nsw    V1, 4(A3)\nsw    A0, 8(A3)\nsw    A1, 0xc(A3)\naddiu A2, A2, 0x10\nbne   A2, S6, L8010F41C\n addiu A3, A3, 0x10\nmtc1  S2, F12\n      NOP\njal   0x8008EF20\n cvt.s.w F12, F12\nadd.s F0, F0, F0\nadd.s F0, F0, F22\nandi  V0, S0, 1\nbeqz  V0, L8010F4D8\n swc1  F0, 0x10(S1)\nlw    A1, 0xc(S1)\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x80089A10\n addiu A0, SP, 0x18\nlwc1  F0, 0x18(SP)\nsub.s F0, F0, F20\nswc1  F0, 0x18(SP)\nlwc1  F0, 0x1c(SP)\nadd.s F0, F0, F20\nswc1  F0, 0x1c(SP)\nsrl   V1, S0, 0x1f\naddu  V1, S0, V1\nsra   V1, V1, 1\nandi  V1, V1, 7\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 2\naddu  V0, S4, V0\nsw    V0, 0x10(SP)\nsw    R0, 0x14(SP)\naddiu A0, SP, 0x18\nlui A1, 0x3dcc\nori A1, A1, 0xcccd\nlui   A2, 0x4000\njal   func_8010F088\n li    A3, 1\nL8010F4D8:\njal   SleepVProcess\n addiu S2, S2, 0x14\nslti  V0, S2, 0x438\nbnez  V0, L8010F410\n addiu S0, S0, 1\njal   0x800FFAEC\n move  A0, S5\nli    A0, 255\nli    A1, 255\njal   0x800620C8\n li    A2, 255\nlb    V0, 5(S7)\naddu  V0, S7, V0\nlb    V0, 6(V0)\nsll   V0, V0, 1\nlui   A0, hi(star_space_indices)\naddu  A0, A0, V0\nlh    A0, lo(star_space_indices)(A0)\naddiu A1, SP, 0x88\njal   0x800EB24C\n addiu A2, SP, 0x89\nlbu   V0, 0x88(SP)\nsb    V0, 0xf(S3)\nlbu   V0, 0x89(SP)\nsb    V0, 0x10(S3)\nlbu   V0, 0x88(SP)\nsb    V0, 0x11(S3)\nlbu   V0, 0x89(SP)\naddiu V0, V0, 1\nsb    V0, 0x12(S3)\nlbu   V0, 0x88(SP)\nsb    V0, 0x15(S3)\nlbu   V0, 0x89(SP)\naddiu V0, V0, -1\nsb    V0, 0x16(S3)\nlbu   V0, 0x17(S3)\nandi  V0, V0, 0xfe\njal   0x800FC9E0\n sb    V0, 0x17(S3)\njal   PlaySound\n li    A0, 296\njal   0x8004A0E0\n       NOP\nlui   S4, hi(D_8011F940)\naddiu S4, S4, lo(D_8011F940)\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F22\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F20\naddiu S3, SP, 0x90\naddiu A3, SP, 0x90\nL8010F5A4:\nlui   A2, hi(D_8011F8E0)\naddiu A2, A2, lo(D_8011F8E0)\nL8010F5AC:\nlw    V0, 0(A2)\nlw    V1, 4(A2)\nlw    A0, 8(A2)\nlw    A1, 0xc(A2)\nsw    V0, 0(A3)\nsw    V1, 4(A3)\nsw    A0, 8(A3)\nsw    A1, 0xc(A3)\naddiu A2, A2, 0x10\nbne   A2, S4, L8010F5AC\n addiu A3, A3, 0x10\nmtc1  S2, F12\n      NOP\njal   0x8008EF20\n cvt.s.w F12, F12\nadd.s F0, F0, F0\nadd.s F0, F0, F22\nandi  V0, S0, 1\nbeqz  V0, L8010F668\n swc1  F0, 0x10(S1)\nlw    A1, 0xc(S1)\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x80089A10\n addiu A0, SP, 0x18\nlwc1  F0, 0x18(SP)\nsub.s F0, F0, F20\nswc1  F0, 0x18(SP)\nlwc1  F0, 0x1c(SP)\nadd.s F0, F0, F20\nswc1  F0, 0x1c(SP)\nsrl   V1, S0, 0x1f\naddu  V1, S0, V1\nsra   V1, V1, 1\nandi  V1, V1, 7\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 2\naddu  V0, S3, V0\nsw    V0, 0x10(SP)\nsw    R0, 0x14(SP)\naddiu A0, SP, 0x18\nlui   A1, 0x3dcc\nori   A1, A1, 0xcccd\nlui   A2, 0x4000\njal   func_8010F088\n li    A3, 1\nL8010F668:\njal   SleepVProcess\n addiu S0, S0, 1\naddiu S2, S2, 0x14\nli    V0, 1280\nbnel  S2, V0, L8010F5A4\n addiu A3, SP, 0x90\njal   0x80003A70\n move  A0, R0\nj     L8010F5A4\n addiu A3, SP, 0x90\nlw    RA, 0x110(SP)\nlw    S7, 0x10c(SP)\nlw    S6, 0x108(SP)\nlw    S5, 0x104(SP)\nlw    S4, 0x100(SP)\nlw    S3, 0xfc(SP)\nlw    S2, 0xf8(SP)\nlw    S1, 0xf4(SP)\nlw    S0, 0xf0(SP)\nldc1  F22, 0x120(SP)\nldc1  F20, 0x118(SP)\njr    RA\n addiu SP, SP, 0x128\n\nfunc_8010F6C4:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nli    V0, 1\nlui   AT, hi(CORE_800A12D0)\nsb    V0, lo(CORE_800A12D0)(AT)\nlui   V0, hi(CORE_800CD05D)\nlb    V0, lo(CORE_800CD05D)(V0)\nlui   AT, hi(CORE_800CD05E)\naddu  AT, AT, V0\nlb    V0, lo(CORE_800CD05E)(AT)\nsll   V0, V0, 1\nlui   A0, hi(star_space_indices)\naddu  A0, A0, V0\nlh    A0, lo(star_space_indices)(A0)\njal   0x800EBAC8\n li    A1, 1\nlui   AT, hi(CORE_800A12D0)\njal   0x800FF834\n sb    R0, lo(CORE_800A12D0)(AT)\nsll   V0, V0, 0x10\nbltz  V0, L8010F724\n       NOP\njal   SleepProcess\n li    A0, -1\nL8010F724:\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nfunc_8010F730:\naddiu SP, SP, -0x28\nsw    RA, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nlui   S2, hi(current_player_index)\nlb    S2, lo(current_player_index)(S2)\njal   GetPlayerStruct\n li    A0, -1\njal   func_8010FE54\n move  S1, V0\njal   0x800DCA64\n move  A0, S2\nli    A0, -1\njal   0x800FF900\n li    A1, 3\njal   0x80035FDC\n li    A0, 17\njal   0x800DC128\n move  A0, S2\njal   0x800EF0D8\n li    A0, 1\njal   0x8004A0E0\n move  S0, V0\njal   0x800FC8A4\n sll   S0, S0, 0x10\njal   SleepProcess\n li    A0, 5\njal   SleepProcess\n li    A0, 25\nmove  A0, S2\nli    A1, 2\njal   0x800F2304\n move  A2, R0\nsll   V0, S2, 3\nsubu  V0, V0, S2\nsll   V0, V0, 3\nlui   A0, hi(CORE_800D112C)\naddu  A0, A0, V0\nlw    A0, lo(CORE_800D112C)(A0)\nlui   A1, 0x4000\nlui   A2, 0xbe99\njal   0x800EE688\n ori A2, A2, 0x999a\njal   SleepProcess\n li    A0, 5\njal   0x800DCBCC\n move  A0, S2\nli    V0, 2\nsw    V0, 0x10(SP)\nmove  A0, S2\nli    A1, -1\nmove  A2, R0\njal   0x800F2388\n li    A3, 10\njal   SleepProcess\n li    A0, 20\njal   0x800E22B4\n       NOP\njal   0x800E2354\n sra   A0, S0, 0x10\njal   0x800E2904\n       NOP\njal   0x8003602C\n li    A0, 17\njal   0x800DC128\n move  A0, S2\nsll   V0, V0, 0x10\njal   0x8004AD50\n sra   A0, V0, 0x10\njal   0x800DC06C\n move  A0, S2\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n move  A0, R0\njal   0x800F6ECC\n li    A0, -1\nmove  A0, S2\njal   0x800DCD2C\n li    A1, -1\nlbu   A0, 0xf(S1)\nsll   A0, A0, 0x18\nsra   A0, A0, 0x18\nlbu   A1, 0x10(S1)\nsll   A1, A1, 0x18\nsra   A1, A1, 0x18\nandi  A0, A0, 0xffff\njal   GetAbsSpaceIndexFromChainSpaceIndex\n andi  A1, A1, 0xffff\nsll   S0, V0, 0x10\nsra   S0, S0, 0x10\njal   0x800EBCBC\n move  A0, S0\nmove  A0, S0\njal   0x800EBAC8\n li    A1, 1\njal   0x800FF834\n       NOP\nsll   V0, V0, 0x10\nbltz  V0, L8010F8D0\n       NOP\njal   SleepProcess\n li    A0, -1\nL8010F8D0:\njal   0x800DAA40\n move  A0, S2\nlw    RA, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x28\n\nfunc_8010F8F0:\naddiu SP, SP, -0x38\nsw    RA, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nsdc1  F22, 0x30(SP)\nsdc1  F20, 0x28(SP)\njal   0x8004EE68\n li    S1, 1\nlw    S0, 0x8c(V0)\nlh    V0, 4(S0)\nlh    V1, 0(S0)\nsubu  V0, V0, V1\nmtc1  V0, F22\n      NOP\ncvt.s.w F22, F22\nlh    V0, 8(S0)\nmtc1  V0, F0\n      NOP\ncvt.s.w F0, F0\ndiv.s F22, F22, F0\nlh    V0, 6(S0)\nlh    V1, 2(S0)\nsubu  V0, V0, V1\nmtc1  V0, F20\n      NOP\ncvt.s.w F20, F20\njal   0x800E4A7C\n div.s F20, F20, F0\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\naddiu A2, SP, 0x10\njal   0x800F6848\n addiu A3, SP, 0x14\nlh    V0, 8(S0)\nblez  V0, L8010FA78\n       NOP\nL8010F984:\nlh    A0, 0xa(S0)\nli    V0, -1\nbeq   A0, V0, L8010F9FC\n move  A1, R0\nlh    V0, 0(S0)\nmtc1  V0, F2\n      NOP\ncvt.s.w F2, F2\nmtc1  S1, F4\n      NOP\ncvt.s.w F4, F4\nmul.s F0, F22, F4\nadd.s F2, F2, F0\ntrunc.w.s F0, F2\nmfc1  A2, F0\n      NOP\nsll   A2, A2, 0x10\nlh    V0, 2(S0)\nmtc1  V0, F0\n      NOP\ncvt.s.w F0, F0\nmul.s F4, F20, F4\nadd.s F0, F0, F4\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nL8010F9FC:\njal   0x800E4A7C\n       NOP\nmtc1  S1, F4\n      NOP\ncvt.s.w F4, F4\nmul.s F0, F22, F4\nlwc1  F2, 0x10(SP)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nmul.s F4, F20, F4\nlwc1  F0, 0x14(SP)\nadd.s F4, F4, F0\ntrunc.w.s F0, F4\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\nsra   A2, A2, 0x10\njal   0x800F688C\n sra   A3, A3, 0x10\njal   SleepVProcess\n addiu S1, S1, 1\nlh    V0, 8(S0)\nslt   V0, V0, S1\nbeqz  V0, L8010F984\n       NOP\nL8010FA78:\nlh    A0, 0xa(S0)\nli    V0, -1\nbeq   A0, V0, L8010FA98\n       NOP\nlh    A2, 4(S0)\nlh    A3, 6(S0)\njal   0x80054904\n move  A1, R0\nL8010FA98:\njal   0x800E4A7C\n       NOP\nlh    V1, 4(S0)\nmtc1  V1, F0\n      NOP\ncvt.s.w F0, F0\nlwc1  F2, 0x10(SP)\nadd.s F0, F0, F2\nlh    V1, 0(S0)\nmtc1  V1, F2\n      NOP\ncvt.s.w F2, F2\nsub.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlh    V1, 6(S0)\nmtc1  V1, F0\n      NOP\ncvt.s.w F0, F0\nlwc1  F2, 0x14(SP)\nadd.s F0, F0, F2\nlh    V1, 2(S0)\nmtc1  V1, F2\n      NOP\ncvt.s.w F2, F2\nsub.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\nsra   A2, A2, 0x10\njal   0x800F688C\n sra   A3, A3, 0x10\njal   EndProcess\n move  A0, R0\nlw    RA, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\nldc1  F22, 0x30(SP)\nldc1  F20, 0x28(SP)\njr    RA\n addiu SP, SP, 0x38\n\nfunc_8010FB54:\naddiu SP, SP, -0x38\nsw    RA, 0x30(SP)\nsw    S7, 0x2c(SP)\nsw    S6, 0x28(SP)\nsw    S5, 0x24(SP)\nsw    S4, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S7, A0\nlw    S0, 0x4c(SP)\nmove  S1, A1\nmove  S2, A2\nmove  S3, A3\nlhu   S4, 0x4a(SP)\nmove  S6, S0\nlui   A0, hi(func_8010F8F0)\naddiu A0, A0, lo(func_8010F8F0)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n li    A3, 64\nmove  S5, V0\nlw    A0, 0x18(S5)\njal   0x800360F0\n li    A1, 16\nmove  V1, V0\nsw    V1, 0x8c(S5)\nsh    S1, 0(V1)\nsh    S2, 2(V1)\nsh    S3, 4(V1)\nsll   S0, S0, 0x10\nsra   S0, S0, 0x10\nli    V0, -1\nbne   S0, V0, L8010FBEC\n sh    S4, 6(V1)\nli    S6, 25\nL8010FBEC:\nsh    S6, 8(V1)\nsh    S7, 0xa(V1)\nmove  V0, S5\nlw    RA, 0x30(SP)\nlw    S7, 0x2c(SP)\nlw    S6, 0x28(SP)\nlw    S5, 0x24(SP)\nlw    S4, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x38\n\nD_8010FC24:\naddiu SP, SP, -0x30\nsw    RA, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nlui   S1, hi(CORE_800CD058)\naddiu S1, S1, lo(CORE_800CD058)\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nli    A2, 1\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 325\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\naddiu A2, SP, 0x18\njal   0x800F6748\n addiu A3, SP, 0x1c\njal   0x8004EE68\n li    S2, 255\nmove  S0, V0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nlwc1  F0, 0x18(SP)\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nsll   A1, A1, 0x10\nlwc1  F0, 0x1c(SP)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V0, V0, 3\nlui   AT, hi(D_8011E354)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E354)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlui   AT, hi(D_8011E358)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E358)(AT)\ntrunc.w.s F2, F0\nmfc1  V0, F2\n      NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0x10(SP)\nli    V0, -1\nsw    V0, 0x14(SP)\nsra   A1, A1, 0x10\nsra   A2, A2, 0x10\njal   func_8010FB54\n sra   A3, A3, 0x10\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n li    S0, 1\njal   SleepProcess\n li    A0, 10\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nmove  A2, R0\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nL8010FD7C:\njal   0x800E4A7C\n       NOP\nsll   A2, S0, 1\naddu  A2, A2, S0\nsll   A2, A2, 3\naddu  A2, A2, S0\nsubu  A2, S2, A2\nsll   A2, A2, 0x10\nlb    A0, 0xf(S1)\nmove  A1, V0\njal   0x800F68E0\n sra   A2, A2, 0x10\njal   0x800E4A7C\n addiu S0, S0, 1\nlb    A0, 0xf(S1)\nmove  A1, V0\nlui   A3, 0x4000\njal   0x800F6780\n move  A2, R0\njal   SleepVProcess\n       NOP\nslti  V0, S0, 0xa\nbnez  V0, L8010FD7C\n       NOP\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S1)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nli    A0, -1\nli    A1, 5\njal   0x800F2304\n move  A2, R0\nlb    A1, 0xf(S1)\njal   0x8004ACE0\n li    A0, 628\njal   SleepProcess\n li    A0, 50\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\nlw    RA, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x30\n\nfunc_8010FE54:\naddiu SP, SP, -0x38\nsw    RA, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nlui   S3, hi(CORE_800CD058)\naddiu S3, S3, lo(CORE_800CD058)\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nli    A2, 1\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 325\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\naddiu A2, SP, 0x18\njal   0x800F6748\n addiu A3, SP, 0x1c\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nlwc1  F0, 0x18(SP)\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nsll   A1, A1, 0x10\nlwc1  F0, 0x1c(SP)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V0, V0, 3\nlui   AT, hi(D_8011E374)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E374)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlui   AT, hi(D_8011E378)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E378)(AT)\ntrunc.w.s F2, F0\nmfc1  V0, F2\n      NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0x10(SP)\nli    V0, -1\nsw    V0, 0x14(SP)\nsra   A1, A1, 0x10\nsra   A2, A2, 0x10\njal   func_8010FB54\n sra   A3, A3, 0x10\njal   SleepProcess\n li    A0, 20\nli    S1, 1\nli    S2, 255\nL8010FF6C:\njal   0x800E4A7C\n sll   S0, S1, 1\naddu  S0, S0, S1\nsll   S0, S0, 3\naddu  S0, S0, S1\nsubu  S0, S2, S0\nsll   A2, S0, 0x10\nlb    A0, 0xf(S3)\nmove  A1, V0\njal   0x800F68E0\n sra   A2, A2, 0x10\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n andi  A2, S0, 0xffff\njal   SleepVProcess\n addiu S1, S1, 1\nslti  V0, S1, 0xa\nbnez  V0, L8010FF6C\n       NOP\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n move  A2, R0\njal   SleepProcess\n li    A0, 2\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\nlw    RA, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x38\n\nfunc_80110024:\naddiu SP, SP, -0x38\nsw    RA, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nli    A2, 1\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 325\njal   0x800E4A7C\n li    S1, 255\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\naddiu A2, SP, 0x18\njal   0x800F6848\n addiu A3, SP, 0x1c\njal   0x800E4A7C\n       NOP\nli    A0, -1\nmove  A1, V0\naddiu A2, SP, 0x20\njal   0x800F6E4C\n addiu A3, SP, 0x24\njal   0x8004EE68\n       NOP\nmove  S0, V0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nlwc1  F0, 0x18(SP)\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nsll   A1, A1, 0x10\nlwc1  F0, 0x1c(SP)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlh    A3, 0x22(SP)\nlh    V0, 0x26(SP)\nsw    V0, 0x10(SP)\nli    V0, -1\nsw    V0, 0x14(SP)\nsra   A1, A1, 0x10\njal   func_8010FB54\n sra   A2, A2, 0x10\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n li    S0, 1\nsll   A2, S0, 1\nL80110120:\naddu  A2, A2, S0\nsll   A2, A2, 3\naddu  A2, A2, S0\nsubu  A2, S1, A2\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0xa\nbnez  V0, L80110120\n sll   A2, S0, 1\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n move  A2, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\nlw    RA, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\njr    RA\n addiu SP, SP, 0x38\n\nD_80110194:\naddiu SP, SP, -0x40\nsw    RA, 0x34(SP)\nsw    S4, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F20, 0x38(SP)\nlui   S3, hi(CORE_800CD058)\naddiu S3, S3, lo(CORE_800CD058)\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nli    A2, 1\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 325\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\naddiu A2, SP, 0x18\njal   0x800F6748\n addiu A3, SP, 0x1c\njal   0x8004EE68\n li    S1, 1\nmove  S0, V0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nlwc1  F0, 0x18(SP)\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nsll   A1, A1, 0x10\nlwc1  F0, 0x1c(SP)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V0, V0, 3\nlui   AT, hi(D_8011E354)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E354)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlui   AT, hi(D_8011E358)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E358)(AT)\ntrunc.w.s F2, F0\nmfc1  V0, F2\n      NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0x10(SP)\nli    V0, -1\nsw    V0, 0x14(SP)\nsra   A1, A1, 0x10\nsra   A2, A2, 0x10\njal   func_8010FB54\n sra   A3, A3, 0x10\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n li    S0, 255\njal   SleepProcess\n li    A0, 10\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nmove  A2, R0\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nsll   A2, S1, 1\nL801102FC:\naddu  A2, A2, S1\nsll   A2, A2, 3\naddu  A2, A2, S1\nsubu  A2, S0, A2\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S1, S1, 1\nslti  V0, S1, 0xa\nbnez  V0, L801102FC\n sll   A2, S1, 1\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n move  A2, R0\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   S0, hi(p1_item1)\naddiu S0, S0, lo(p1_item1)\naddu  V1, V1, S0\naddu  V1, V1, V0\nlb    V1, 0(V1)\nli    V0, 11\nbeq   V1, V0, L801103B0\n       NOP\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\naddu  V1, V1, S0\naddu  V1, V1, V0\nlb    V1, 0(V1)\nli    V0, 8\nbne   V1, V0, L801103BC\n move  S1, R0\nL801103B0:\njal   PlaySound\n li    A0, 321\nmove  S1, R0\nL801103BC:\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nL801103C4:\njal   0x800E4A7C\n       NOP\nmtc1  S1, F12\n      NOP\ncvt.s.w F12, F12\njal   0x8008EF20\n move  S0, V0\nlb    A0, 0xf(S3)\nmul.s F0, F0, F20\nmfc1  A2, F0\n      NOP\njal   0x800F6928\n move  A1, S0\njal   SleepVProcess\n addiu S1, S1, 0x1e\nslti  V0, S1, 0x439\nbnez  V0, L801103C4\n li    S2, 1\nli    S4, 255\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nL80110418:\njal   0x800E4A7C\n       NOP\nsll   A2, S2, 1\naddu  A2, A2, S2\nsll   A2, A2, 3\naddu  A2, A2, S2\nsubu  A2, S4, A2\nsll   A2, A2, 0x10\nlb    A0, 0xf(S3)\nmove  A1, V0\njal   0x800F68E0\n sra   A2, A2, 0x10\njal   0x800E4A7C\n addiu S2, S2, 1\nmtc1  S1, F12\n      NOP\ncvt.s.w F12, F12\njal   0x8008EF20\n move  S0, V0\nlb    A0, 0xf(S3)\nmul.s F0, F0, F20\nmfc1  A2, F0\n      NOP\njal   0x800F6928\n move  A1, S0\njal   SleepVProcess\n addiu S1, S1, 0x1e\nslti  V0, S2, 0xa\nbnez  V0, L80110418\n       NOP\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\nlw    RA, 0x34(SP)\nlw    S4, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x40\n\nD_801104E0:\naddiu SP, SP, -0x30\nsw    RA, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nli    A2, 1\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 325\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\naddiu A2, SP, 0x18\njal   0x800F6748\n addiu A3, SP, 0x1c\njal   0x8004EE68\n li    S1, 255\nmove  S0, V0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nlwc1  F0, 0x18(SP)\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nsll   A1, A1, 0x10\nlwc1  F0, 0x1c(SP)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V0, V0, 3\nlui   AT, hi(D_8011E354)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E354)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlui   AT, hi(D_8011E358)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E358)(AT)\ntrunc.w.s F2, F0\nmfc1  V0, F2\n      NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0x10(SP)\nli    V0, -1\nsw    V0, 0x14(SP)\nsra   A1, A1, 0x10\nsra   A2, A2, 0x10\njal   func_8010FB54\n sra   A3, A3, 0x10\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n li    S0, 1\njal   SleepProcess\n li    A0, 10\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nmove  A2, R0\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nsll   A2, S0, 1\nL80110630:\naddu  A2, A2, S0\nsll   A2, A2, 3\naddu  A2, A2, S0\nsubu  A2, S1, A2\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0xa\nbnez  V0, L80110630\n sll   A2, S0, 1\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n move  A2, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\nlw    RA, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x30\n\nfunc_801106A4:\naddiu SP, SP, -0x58\nsw    RA, 0x34(SP)\nsw    S6, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nsdc1  F26, 0x50(SP)\nsdc1  F24, 0x48(SP)\nsdc1  F22, 0x40(SP)\nsdc1  F20, 0x38(SP)\nmove  S2, A0\nmove  S3, A1\nmove  S1, A2\nlw    S6, 0x68(SP)\nli    V0, 2\nbne   S6, V0, L801106FC\n move  S4, A3\njal   PlaySound\n li    A0, 325\nL801106FC:\nmove  A0, S2\nmove  A1, S3\naddiu A2, SP, 0x10\njal   0x800F6848\n addiu A3, SP, 0x14\nlwc1  F2, 0(S4)\nlwc1  F0, 0x10(SP)\nsub.s F22, F2, F0\nmtc1  S1, F4\n      NOP\ncvt.s.w F4, F4\ndiv.s F22, F22, F4\nlwc1  F2, 4(S4)\nlwc1  F0, 0x14(SP)\nsub.s F20, F2, F0\ndiv.s F20, F20, F4\nbeqz  S1, L80110830\n li    S0, 2\nxori  V0, S6, 1\nsltiu S5, V0, 1\nli    AT, 0x3D8F0000 ; 0.069824\nori AT, AT, 0x5c29\nmtc1  AT, F26\nli    AT, 0x3E990000 ; 0.298828\nori AT, AT, 0x999a\nmtc1  AT, F24\nL80110764:\nlwc1  F2, 0x10(SP)\nadd.s F2, F22, F2\nswc1  F2, 0x10(SP)\nlwc1  F0, 0x14(SP)\nadd.s F0, F20, F0\nswc1  F0, 0x14(SP)\ntrunc.w.s F4, F2\nmfc1  A2, F4\n      NOP\nsll   A2, A2, 0x10\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S2\nmove  A1, S3\nsra   A2, A2, 0x10\njal   0x800F688C\n sra   A3, A3, 0x10\nslti  V0, S0, 0xb\nand   V0, S5, V0\nbeqz  V0, L80110820\n sll   A2, S0, 1\naddu  A2, A2, S0\nsll   A2, A2, 3\naddu  A2, A2, S0\nsll   A2, A2, 0x10\nmove  A0, S2\nmove  A1, S3\njal   0x800F68E0\n sra   A2, A2, 0x10\nmtc1  S0, F4\n      NOP\ncvt.s.w F4, F4\nmul.s F4, F4, F26\ncvt.d.s F2, F4\nlui   AT, hi(D_8011F940)\nldc1  F0, lo(D_8011F940)(AT)\nadd.d F2, F2, F0\nmove  A0, S2\nadd.s F4, F4, F24\nmfc1  A2, F4\ncvt.s.d F2, F2\nmfc1  A3, F2\n      NOP\njal   0x800F696C\n move  A1, S3\nL80110820:\njal   SleepVProcess\n addiu S1, S1, -1\nbnez  S1, L80110764\n addiu S0, S0, 1\nL80110830:\nlwc1  F0, 0(S4)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlwc1  F0, 4(S4)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S2\nmove  A1, S3\nsra   A2, A2, 0x10\njal   0x800F688C\n sra   A3, A3, 0x10\nbnez  S6, L80110904\n li    S0, 1\nli    S1, 255\nli    AT, 0x3DCC0000 ; 0.099609\nori   AT, AT, 0xcccd\nmtc1  AT, F22\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nsll   A2, S0, 1\nL80110890:\naddu  A2, A2, S0\nsll   A2, A2, 3\naddu  A2, A2, S0\nsubu  A2, S1, A2\nsll   A2, A2, 0x10\nmove  A0, S2\nmove  A1, S3\njal   0x800F68E0\n sra   A2, A2, 0x10\nmtc1  S0, F0\n      NOP\ncvt.s.w F0, F0\nmul.s F0, F0, F22\nsub.s F0, F20, F0\nmove  A0, S2\nmfc1  A2, F0\nmfc1  A3, F0\n      NOP\njal   0x800F696C\n move  A1, S3\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0xa\nbnez  V0, L80110890\n sll   A2, S0, 1\nmove  A0, S2\nmove  A1, S3\njal   0x800F68E0\n move  A2, R0\nL80110904:\nlw    RA, 0x34(SP)\nlw    S6, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\nldc1  F26, 0x50(SP)\nldc1  F24, 0x48(SP)\nldc1  F22, 0x40(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x58\n\nD_8011093C:\naddiu SP, SP, -0x48\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F28, 0x40(SP)\nsdc1  F26, 0x38(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\nsdc1  F20, 0x20(SP)\njal   GetPlayerStruct\n li    A0, -1\njal   0x800E6264\n move  S1, V0\nlui   A0, hi(CORE_801011FC)\njal   0x800D9B24\n lw    A0, lo(CORE_801011FC)(A0)\nlui   V1, hi(CORE_801011FC)\nlw    V1, lo(CORE_801011FC)(V1)\nlw    V0, 0x3c(V1)\nsw    R0, 0x30(V0)\nlw    V0, 0x3c(V1)\nsw    R0, 0x34(V0)\nlw    V0, 0x3c(V1)\nsw    R0, 0x38(V0)\nli    A0, -1\njal   0x800FF900\n li    A1, 3\njal   PlaySound\n li    A0, 323\nli    A0, 34\njal   0x800D90C8\n move  A1, R0\nmove  S0, V0\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 384\njal   0x8001C258\n move  A2, R0\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001C8E4\n li    A1, 6144\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\njal   0x8001C448\n lh    A0, 0(V0)\nlw    A1, 0x24(S1)\naddiu A0, S0, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nmtc1  R0, F22\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nlui   AT, hi(D_8011F948)\nldc1  F24, lo(D_8011F948)(AT)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F26\nL80110A30:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S0, 0x24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F28\ncvt.d.s F0, F20\nadd.d F0, F0, F24\ncvt.s.d F20, F0\nc.lt.s F20, F26\n      NOP\nbc1t  L80110A30\n       NOP\njal   0x800D9B24\n lw    A0, 0x24(S1)\nlui   A0, hi(CORE_801011FC)\njal   0x800D9AA4\n lw    A0, lo(CORE_801011FC)(A0)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nc.le.s F0, F20\n      NOP\nbc1f  L80110B58\n       NOP\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nlui   AT, hi(D_8011F950)\nldc1  F24, lo(D_8011F950)(AT)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F26\nL80110AE8:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S0, 0x24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F28\ncvt.d.s F0, F20\nsub.d F0, F0, F24\ncvt.s.d F20, F0\nc.le.s F26, F20\n      NOP\nbc1t  L80110AE8\n       NOP\nL80110B58:\njal   0x800D9B54\n move  A0, S0\njal   SleepProcess\n li    A0, 20\nlui   A1, hi(current_player_index)\nlb    A1, lo(current_player_index)(A1)\njal   0x8004ACE0\n li    A0, 628\nli    A0, 5\njal   0x800E6420\n li    A1, 2\njal   SleepProcess\n li    A0, 40\nli    A0, -1\njal   0x800E6420\n li    A1, 2\njal   0x800EC414\n li    A0, 14868\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F28, 0x40(SP)\nldc1  F26, 0x38(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x48\n\nD_80110BC8:\naddiu SP, SP, -0x58\nsw    RA, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F28, 0x50(SP)\nsdc1  F26, 0x48(SP)\nsdc1  F24, 0x40(SP)\nsdc1  F22, 0x38(SP)\nsdc1  F20, 0x30(SP)\njal   GetPlayerStruct\n li    A0, -1\nmove  S1, V0\nli    A0, -1\njal   0x800E6420\n li    A1, 2\njal   0x800ECC0C\n addiu A0, SP, 0x10\nlw    A2, 0x24(S1)\naddiu A2, A2, 0x18\nmove  A0, A2\naddiu A1, SP, 0x10\njal   0x800ED128\n li    A3, 8\njal   SleepProcess\n li    A0, 8\njal   PlaySound\n li    A0, 323\nli    A0, 34\njal   0x800D90C8\n move  A1, R0\nmove  S0, V0\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 384\njal   0x8001C258\n move  A2, R0\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001C8E4\n li    A1, 6144\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\njal   0x8001C448\n lh    A0, 0(V0)\nlw    A1, 0x24(S1)\naddiu A0, S0, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nmtc1  R0, F22\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nlui   AT, hi(D_8011F958)\nldc1  F24, lo(D_8011F958)(AT)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F26\nL80110CB4:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S0, 0x24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F28\ncvt.d.s F0, F20\nadd.d F0, F0, F24\ncvt.s.d F20, F0\nc.lt.s F20, F26\n      NOP\nbc1t  L80110CB4\n       NOP\njal   0x800D9AA4\n lw    A0, 0x24(S1)\njal   0x800E639C\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nc.le.s F0, F20\n      NOP\nbc1f  L80110DD8\n       NOP\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nlui   AT, hi(D_8011F960)\nldc1  F24, lo(D_8011F960)(AT)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F26\nL80110D68:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S0, 0x24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F28\ncvt.d.s F0, F20\nsub.d F0, F0, F24\ncvt.s.d F20, F0\nc.le.s F26, F20\n      NOP\nbc1t  L80110D68\n       NOP\nL80110DD8:\njal   0x800D9B54\n move  A0, S0\nlw    RA, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F28, 0x50(SP)\nldc1  F26, 0x48(SP)\nldc1  F24, 0x40(SP)\nldc1  F22, 0x38(SP)\nldc1  F20, 0x30(SP)\njr    RA\n addiu SP, SP, 0x58\n\nD_80110E08:\naddiu SP, SP, -0x48\nsw    RA, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F22, 0x40(SP)\njal   0x8004EE68\n sdc1  F20, 0x38(SP)\nlw    S1, 0x8c(V0)\nli    A0, -1\nli    A1, 1\njal   0x800FFA4C\n li    A2, 5\nmove  S3, V0\nli    A0, 1\njal   0x8005279C\n move  A1, R0\nsll   V0, V0, 0x10\nsra   S2, V0, 0x10\nmove  S0, S2\nmove  A0, S0\nmove  A1, R0\nlui   A2, hi(D_8011FB5E)\nlh    A2, lo(D_8011FB5E)(A2)\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 18304\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 4096\njal   0x800E4A7C\n sll   S1, S1, 2\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\naddiu A2, SP, 0x18\njal   0x800F6848\n addiu A3, SP, 0x1c\nlwc1  F2, 0x18(SP)\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F4\n      NOP\nadd.s F2, F2, F4\nswc1  F2, 0x18(SP)\nlwc1  F0, 0x1c(SP)\nsub.s F0, F0, F4\nswc1  F0, 0x1c(SP)\ntrunc.w.s F4, F2\nmfc1  A2, F4\n      NOP\nsll   A2, A2, 0x10\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nsw    R0, 0x10(SP)\nmove  A0, S0\nmove  A1, R0\nli    A2, 255\njal   0x80055420\n li    A3, 255\nli    S0, 255\nlui   AT, hi(D_8011E440)\naddu  AT, AT, S1\nlwc1  F20, lo(D_8011E440)(AT)\ncvt.s.w F20, F20\nli    AT, 0x40A00000 ; 5.000000\nmtc1  AT, F22\nmove  S1, S2\nL80110F44:\njal   0x8008E3F0\n mov.s F12, F20\nmul.s F0, F0, F22\nlwc1  F2, 0x18(SP)\nadd.s F0, F0, F2\nswc1  F0, 0x18(SP)\njal   0x8008EF20\n mov.s F12, F20\nmul.s F0, F0, F22\nlwc1  F2, 0x1c(SP)\nsub.s F2, F2, F0\nswc1  F2, 0x1c(SP)\nlwc1  F0, 0x18(SP)\ntrunc.w.s F4, F0\nmfc1  A2, F4\n      NOP\nsll   A2, A2, 0x10\ntrunc.w.s F0, F2\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S1\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nmove  A0, S1\nmove  A1, R0\njal   0x80055458\n andi  A2, S0, 0xffff\njal   SleepVProcess\n addiu S0, S0, -0x14\nbgez  S0, L80110F44\n move  A0, S2\nmove  S0, S2\nmove  A1, R0\njal   0x80055458\n move  A2, R0\njal   0x800FFAEC\n move  A0, S3\njal   0x800525C8\n move  A0, S0\njal   EndProcess\n move  A0, R0\nlw    RA, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F22, 0x40(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x48\n\nD_80111018:\naddiu SP, SP, -0x38\nsw    RA, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nlui   S3, hi(CORE_800CD058)\naddiu S3, S3, lo(CORE_800CD058)\nlui A0, 0x13\njal   ReadMainFS\n ori A0, A0, 0x1b8\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nlui   AT, hi(D_8011FB5C)\nsw    V0, lo(D_8011FB5C)(AT)\njal   FreeMainFS\n move  A0, S0\njal   D_801104E0\n       NOP\nsw    R0, 0x10(SP)\nfunc_80111074:\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x3A01 ; "Which shop will you call?"\nmove  A2, R0\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\nlui   A0, hi(D_8011E3D4)\naddiu A0, A0, lo(D_8011E3D4)\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n move  A1, R0\njal   0x800EC6C8\n move  S2, V0\njal   0x800EC6EC\n       NOP\nslti  V0, S2, 2\nbeqz  V0, L801110D0\n       NOP\nbltz  S2, L801110D0\n addiu V0, S2, 1\nlui   AT, hi(CORE_800CD0AC)\nj     L80111128\n sh    V0, lo(CORE_800CD0AC)(AT)\nL801110D0:\nlui   A0, hi(func_8010A474)\naddiu A0, A0, lo(func_8010A474)\nmove  A1, R0\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S0, V0\nmove  A0, S0\njal   0x80047B80\n li    A1, 128\njal   func_80106FE8\n       NOP\nli    V0, 1\nlui   AT, hi(CORE_800CB99C)\njal   0x80049FB8\n sb    V0, lo(CORE_800CB99C)(AT)\njal   EndProcess\n move  A0, S0\njal   0x800FC8A4\n       NOP\nj     func_80111074\n sw    R0, 0x10(SP)\nL80111128:\njal   SleepProcess\n li    A0, 30\njal   PlaySound\n li    A0, 327\nmove  S1, R0\nL8011113C:\nlui   A0, hi(D_80110E08)\naddiu A0, A0, lo(D_80110E08)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S0, V0\njal   0x8004EE68\n sw    S1, 0x8c(S0)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S0\njal   SleepProcess\n li    A0, 3\naddiu S1, S1, 1\nslti  V0, S1, 5\nbnez  V0, L8011113C\n       NOP\njal   0x8004EE18\n move  S1, R0\njal   SleepProcess\n li    A0, 20\nL80111194:\nlui   A0, hi(D_80110E08)\naddiu A0, A0, lo(D_80110E08)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S0, V0\njal   0x8004EE68\n sw    S1, 0x8c(S0)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S0\njal   SleepProcess\n li    A0, 3\naddiu S1, S1, 1\nslti  V0, S1, 5\nbnez  V0, L80111194\n       NOP\njal   0x8004EE18\n       NOP\njal   SleepProcess\n li    A0, 20\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n lb    A0, 0xf(S3)\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nlui   A0, hi(D_8011FB5E)\njal   FreeGraphics\n lh    A0, lo(D_8011FB5E)(A0)\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n move  A0, R0\njal   0x800F6ECC\n li    A0, -1\nbnez  S2, L801112A4\n li    A0, 672\nlb    V0, 0xf(S3)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, V1\nlh    V0, lo(p1_coins)(V0)\nslti  V0, V0, 5\nbnez  V0, L801112A4\n li    A0, 666\nlb    V1, 3(S3)\nlb    V0, 2(S3)\nbne   V1, V0, L801112A4\n li    A0, 664\nli    A0, 666\nL801112A4:\njal   PlaySound\n       NOP\njal   item_shop_event\n       NOP\nlui   AT, hi(CORE_800CD0AC)\nsh    R0, lo(CORE_800CD0AC)(AT)\nlw    RA, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x38\n\n; Item that calls bowser\nD_801112D8:\naddiu SP, SP, -0x30\nsw    RA, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nlui   S2, hi(CORE_800CD058)\naddiu S2, S2, lo(CORE_800CD058)\nlui A0, 0x13\njal   ReadMainFS\n ori A0, A0, 0x1b8\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nlui   AT, hi(D_8011FB5C)\nsw    V0, lo(D_8011FB5C)(AT)\njal   FreeMainFS\n move  A0, S0\njal   D_801104E0\n move  S1, R0\njal   SleepProcess\n li    A0, 30\njal   PlaySound\n li    A0, 327\nL8011133C:\nlui   A0, hi(D_80110E08)\naddiu A0, A0, lo(D_80110E08)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S0, V0\njal   0x8004EE68\n sw    S1, 0x8c(S0)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S0\njal   SleepProcess\n li    A0, 3\naddiu S1, S1, 1\nslti  V0, S1, 5\nbnez  V0, L8011133C\n       NOP\njal   0x8004EE18\n move  S1, R0\njal   SleepProcess\n li    A0, 20\nL80111394:\nlui   A0, hi(D_80110E08)\naddiu A0, A0, lo(D_80110E08)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S0, V0\njal   0x8004EE68\n sw    S1, 0x8c(S0)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S0\njal   SleepProcess\n li    A0, 3\naddiu S1, S1, 1\nslti  V0, S1, 5\nbnez  V0, L80111394\n       NOP\njal   0x8004EE18\n       NOP\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 671\nfunc_801113F4:\nlui   V1, hi(p1_char)\naddiu V1, V1, lo(p1_char)\nlbu   A2, 0(V1)\nlui   A0, hi(CORE_801014A0)\naddiu A0, A0, lo(CORE_801014A0)\nsll   A2, A2, 2\naddu  A2, A2, A0\nlbu   A3, 0x38(V1)\nsll   A3, A3, 2\naddu  A3, A3, A0\nlbu   V0, 0x70(V1)\nsll   V0, V0, 2\naddu  V0, V0, A0\nlw    V0, 0(V0)\nsw    V0, 0x10(SP)\nlbu   V0, 0xa8(V1)\nsll   V0, V0, 2\naddu  V0, V0, A0\nlw    V0, 0(V0)\nsw    V0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 4\nlw    A2, 0(A2)\nlw    A3, 0(A3)\njal   0x800EC8EC ; ShowMessage\n li    A1, 0x3A0A ; "Hello? Yeah, this is Bowser. Who are you???"\nlb    V1, 0xf(S2)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nbeqz  V0, L80111488\n li    A0, 1\nj     L80111490\n move  A1, R0\nL80111488:\nli    A0, 2\nlb    A1, 0xf(S2)\nL80111490:\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n       NOP\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n       NOP\nli    V0, 4\nbeq   S0, V0, L801114C4\n li    V0, 5\nbeq   S0, V0, L801114EC\n move  A1, R0\nj     L80111540\n sll   V0, S0, 3\n\nL801114C4:\njal   0x800EF0D8\n move  A0, R0\nmove  S0, V0\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 4\nli    A1, 14860\nj     func_80111578\n move  A2, R0\n\nL801114EC:\nlui   A0, hi(func_8010A474)\naddiu A0, A0, lo(func_8010A474)\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S0, V0\nmove  A0, S0\njal   0x80047B80\n li    A1, 128\njal   func_80106FE8\n       NOP\nli    V0, 1\nlui   AT, hi(CORE_800CB99C)\njal   0x80049FB8\n sb    V0, lo(CORE_800CB99C)(AT)\njal   EndProcess\n move  A0, S0\njal   0x800FC8A4\n       NOP\nj     func_801113F4\n       NOP\nL80111540:\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_char)\naddu  AT, AT, V0\nlbu   V0, lo(p1_char)(AT)\nsll   V0, V0, 2\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 4\nli    A1, 14859\nlui   A2, hi(CORE_801014A0)\naddu  A2, A2, V0\nlw    A2, lo(CORE_801014A0)(A2)\nfunc_80111578:\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\njal   PlaySound\n li    A0, 668\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S2)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n lb    A0, 0xf(S2)\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S2)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nlui   A0, hi(D_8011FB5E)\njal   FreeGraphics\n lh    A0, lo(D_8011FB5E)(A0)\njal   0x800DEB2C\n lb    A0, 0xf(S2)\nli    V1, 3\nbne   V0, V1, L80111618\n       NOP\njal   0x80035FDC\n li    A0, 23\nj     L80111620\n       NOP\nL80111618:\njal   0x8003602C\n li    A0, 23\nL80111620:\nlui   AT, hi(CORE_800CD0B2)\njal   0x800FCA4C\n sh    S0, lo(CORE_800CD0B2)(AT)\nli    A0, 80\nmove  A1, R0\nli    A2, 3\njal   0x800FF794\n li    A3, 1\njal   0x800FC8A4\n       NOP\njal   0x800FF7F0\n li    A0, 2\njal   0x8004A0E0\n       NOP\njal   SleepProcess\n li    A0, -1\nlw    RA, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x30\n\n ; Jeanie?\nD_80111678:\naddiu SP, SP, -0x160\nsw    RA, 0x134(SP)\nsw    FP, 0x130(SP)\nsw    S7, 0x12c(SP)\nsw    S6, 0x128(SP)\nsw    S5, 0x124(SP)\nsw    S4, 0x120(SP)\nsw    S3, 0x11c(SP)\nsw    S2, 0x118(SP)\nsw    S1, 0x114(SP)\nsw    S0, 0x110(SP)\nsdc1  F28, 0x158(SP)\nsdc1  F26, 0x150(SP)\nsdc1  F24, 0x148(SP)\nsdc1  F22, 0x140(SP)\nsdc1  F20, 0x138(SP)\nlui   S7, hi(CORE_800CD058)\naddiu S7, S7, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nmove  S0, V0\nli    A0, 60\njal   0x800D90C8\n move  A1, R0\nmove  S3, V0\nmove  A0, S3\nli    A1, -1\njal   0x800D9CE8\n li    A2, 1\nlw    V0, 0x3c(S3)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\nlw    A1, 0x24(S0)\naddiu A0, S3, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S3)\nlhu   V0, 0xa(S3)\nori   V0, V0, 1\nsh    V0, 0xa(S3)\naddiu A0, S3, 0x24\nmove  A1, R0\nmove  A2, A1\njal   0x80089A10\n move  A3, A1\njal   0x800D9B24\n move  A0, S3\njal   func_8010FE54\n       NOP\nli    A0, -1\njal   PlayerHasItem\n li    A1, ITEM_LUCKY_LAMP\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\nlui   A0, hi(current_player_index)\njal   FixUpPlayerItemSlots\n lb    A0, lo(current_player_index)(A0)\nli    A0, 61\njal   0x800D90C8\n move  A1, R0\nmove  S1, V0\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\njal   0x8001FA68\n lh    A0, 0(V0)\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n li    A1, 255\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\nlw    A1, 0x24(S0)\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x10(S1)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nlwc1  F0, 0x10(S1)\nsub.s F0, F0, F22\nL80111824:\njal   SleepVProcess\n swc1  F0, 0x10(S1)\nlwc1  F0, 0x10(S1)\nc.lt.s F20, F0\n      NOP\n      NOP\nbc1tl L80111824\n sub.s F0, F0, F22\njal   PlaySound\n li    A0, 295\nlui   A0, hi(CORE_800CDBC8)\nlh    A0, lo(CORE_800CDBC8)(A0)\njal   0x800039A4\n li    A1, 180\nli    A0, -1\nli    A1, 3\njal   0x800FFA4C\n li    A2, 5\nsw    V0, 0x10c(SP)\nli    S4, 180\nmove  S0, R0\nlui   S6, hi(D_8011F940)\naddiu S6, S6, lo(D_8011F940)\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F22\naddiu S2, SP, 0x28\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F20\naddiu S5, SP, 0x48\nL80111898:\naddiu A3, SP, 0x48\nlui   A2, hi(D_8011F8E0)\naddiu A2, A2, lo(D_8011F8E0)\nL801118A4:\nlw    V0, 0(A2)\nlw    V1, 4(A2)\nlw    A0, 8(A2)\nlw    A1, 0xc(A2)\nsw    V0, 0(A3)\nsw    V1, 4(A3)\nsw    A0, 8(A3)\nsw    A1, 0xc(A3)\naddiu A2, A2, 0x10\nbne   A2, S6, L801118A4\n addiu A3, A3, 0x10\nmtc1  S4, F12\n      NOP\njal   0x8008EF20\n cvt.s.w F12, F12\nadd.s F0, F0, F0\nadd.s F0, F0, F22\nandi  V0, S0, 1\nbeqz  V0, L80111964\n swc1  F0, 0x10(S1)\nlw    A1, 0xc(S1)\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x80089A10\n move  A0, S2\nlwc1  F0, 0x28(SP)\nsub.s F0, F0, F20\nswc1  F0, 0x28(SP)\nlwc1  F0, 0x2c(SP)\nadd.s F0, F0, F20\nswc1  F0, 0x2c(SP)\nsrl   V1, S0, 0x1f\naddu  V1, S0, V1\nsra   V1, V1, 1\nandi  V1, V1, 7\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 2\naddu  V0, S5, V0\nsw    V0, 0x10(SP)\nli    V0, 1\nsw    V0, 0x14(SP)\nmove  A0, S2\nlui A1, 0x3dcc\nori A1, A1, 0xcccd\nlui   A2, 0x4000\njal   func_8010F088\n li    A3, 1\nL80111964:\njal   SleepVProcess\n addiu S4, S4, 0x14\nslti  V0, S4, 0x438\nbnez  V0, L80111898\n addiu S0, S0, 1\nli    S2, 255\nmtc1  R0, F20\nlui   FP, hi(D_8011F940)\naddiu FP, FP, lo(D_8011F940)\naddiu S5, SP, 0x28\nli    AT, 0x41700000 ; 15.000000\nmtc1  AT, F22\naddiu S6, SP, 0xa8\naddiu A3, SP, 0xa8\nfunc_8011199C:\nlui   A2, hi(D_8011F8E0)\naddiu A2, A2, lo(D_8011F8E0)\nL801119A4:\nlw    V0, 0(A2)\nlw    V1, 4(A2)\nlw    A0, 8(A2)\nlw    A1, 0xc(A2)\nsw    V0, 0(A3)\nsw    V1, 4(A3)\nsw    A0, 8(A3)\nsw    A1, 0xc(A3)\naddiu A2, A2, 0x10\nbne   A2, FP, L801119A4\n addiu A3, A3, 0x10\nmtc1  S4, F12\n      NOP\njal   0x8008EF20\n cvt.s.w F12, F12\nadd.s F0, F0, F0\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F2\n      NOP\nadd.s F0, F0, F2\nandi  V0, S0, 1\nbeqz  V0, L80111A70\n swc1  F0, 0x10(S1)\nlw    A1, 0xc(S1)\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x80089A10\n move  A0, S5\nlwc1  F0, 0x28(SP)\nsub.s F0, F0, F22\nswc1  F0, 0x28(SP)\nlwc1  F0, 0x2c(SP)\nadd.s F0, F0, F22\nswc1  F0, 0x2c(SP)\nsrl   V1, S0, 0x1f\naddu  V1, S0, V1\nsra   V1, V1, 1\nandi  V1, V1, 7\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 2\naddu  V0, S6, V0\nsw    V0, 0x10(SP)\nli    V0, 1\nsw    V0, 0x14(SP)\nmove  A0, S5\nlui A1, 0x3dcc\nori A1, A1, 0xcccd\nlui   A2, 0x4000\njal   func_8010F088\n li    A3, 1\nL80111A70:\nbgtz  S2, L80111AD4\n       NOP\njal   0x800D9B24\n move  A0, S1\njal   0x800D9A40\n move  A0, S3\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F0\n      NOP\nadd.s F20, F20, F0\nswc1  F20, 0x2c(S3)\nswc1  F20, 0x28(S3)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nc.lt.s F0, F20\n      NOP\n      NOP\nbc1f  L80111AEC\n swc1  F20, 0x24(S3)\njal   0x8004A520\n li    A0, 61 ; Jeanie\'s Theme\nj     func_80111AFC\n       NOP\nL80111AD4:\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001F9E4\n andi  A1, S2, 0xff\naddiu S2, S2, -0xc\nL80111AEC:\njal   SleepVProcess\n addiu S0, S0, 1\nj     func_8011199C\n addiu A3, SP, 0xa8\nfunc_80111AFC:\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x2c(S3)\nswc1  F0, 0x28(S3)\nswc1  F0, 0x24(S3)\nlui   A1, 0x4040\nlui   A2, 0x4000\njal   0x800EDB98\n move  A0, S3\nlw    A0, 0x10c(SP)\njal   0x800FFAEC\n move  S4, V0\njal   SleepProcess\n li    A0, 30\nli    A0, 60\njal   0x800EC590\n li    A1, 0x3A2F ; "What do you want? I\'m the Mushroom Jeanie who lives in the Lucky Lamp..."\njal   EndProcess\n move  A0, S4\nli    S0, 1\nlwc1  F0, 0x10(S3)\nlwc1  F2, 0x30(S3)\nsub.s F0, F0, F2\nswc1  F0, 0x10(S3)\nlui   A1, hi(CORE_800A0550)\nlw    A1, lo(CORE_800A0550)(A1)\naddiu A0, SP, 0x18\naddiu A1, A1, 0x10\njal   midpoint\n addiu A2, S3, 0xc\njal   0x800D88E8\n addiu A0, SP, 0x18\nlwc1  F0, 0x10(S3)\nlwc1  F2, 0x30(S3)\nadd.s F0, F0, F2\nswc1  F0, 0x10(S3)\nli    AT, 0x44E10000 ; 1800.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S3)\nc.lt.s F0, F2\n      NOP\nbc1f  L80111C78\n       NOP\nli    AT, 0x42200000 ; 40.000000\nori AT, AT, 0xcccd\nmtc1  AT, F20\nli    AT, 0x42200000 ; 40.000000\nmtc1  AT, F26\nli    AT, 0x43960000 ; 300.000000\nmtc1  AT, F24\nli    AT, 0x44E10000 ; 1800.000000\nmtc1  AT, F22\nL80111BD0:\nlwc1  F0, 0x18(SP)\nmul.s F0, F0, F20\nlwc1  F2, 0xc(S3)\nadd.s F0, F0, F2\nswc1  F0, 0xc(S3)\nlwc1  F0, 0x1c(SP)\nmul.s F0, F0, F26\nlwc1  F2, 0x30(S3)\nadd.s F0, F0, F2\nswc1  F0, 0x30(S3)\nlwc1  F0, 0x20(SP)\nmul.s F0, F0, F20\nlwc1  F2, 0x14(S3)\nadd.s F0, F0, F2\nswc1  F0, 0x14(S3)\nlwc1  F0, 0x30(S3)\nc.lt.s F24, F0\n      NOP\n      NOP\nbc1t  L80111C28\n li    V1, 1\nmove  V1, R0\nL80111C28:\nsltu  V0, R0, S0\nand   V0, V1, V0\nbeqz  V0, L80111C5C\n li    A0, 255\nmove  S0, R0\nli    A1, 255\njal   0x800620C8\n li    A2, 255\nli    A0, 11\njal   InitFadeOut\n li    A1, 50\njal   PlaySound\n li    A0, 296\nL80111C5C:\njal   SleepVProcess\n       NOP\nlwc1  F0, 0x30(S3)\nc.lt.s F0, F22\n      NOP\nbc1t  L80111BD0\n       NOP\nL80111C78:\njal   GetFadeStatus\n       NOP\nbeqz  V0, L80111C98\n       NOP\njal   SleepVProcess\n       NOP\nj     L80111C78\n       NOP\nL80111C98:\nlb    V0, 5(S7)\naddu  V0, S7, V0\nlb    V0, 6(V0)\nsll   V0, V0, 1\nlui   A0, hi(star_space_indices)\naddu  A0, A0, V0\njal   GetSpaceData\n lh    A0, lo(star_space_indices)(A0)\nmove  S1, V0\nlb    V0, 5(S7)\naddu  V0, S7, V0\nlb    V0, 6(V0)\nsll   V0, V0, 1\nlui   A0, hi(D_8011D2C0)\naddu  A0, A0, V0\nlh    A0, lo(D_8011D2C0)(A0)\njal   GetSpaceData\n addiu S1, S1, 8\nmove  S2, V0\naddiu S0, SP, 0x38\nmove  A0, S0\njal   0x80089A20\n move  A1, S1\njal   0x800E9748\n move  A0, S0\njal   0x800F915C\n li    A0, 4\njal   0x800F9198\n move  A0, S0\nlhu   V0, 0xa(S3)\nandi  V0, V0, 0xfffe\nsh    V0, 0xa(S3)\naddiu A0, S3, 0xc\njal   0x80089A20\n move  A1, S1\naddiu A0, SP, 0x18\naddiu A1, S2, 8\njal   midpoint\n move  A2, S1\njal   0x800D88E8\n addiu A0, SP, 0x18\nlwc1  F2, 0x18(SP)\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F4\n      NOP\nmul.s F2, F2, F4\nlwc1  F0, 0xc(S3)\nsub.s F0, F0, F2\nswc1  F0, 0xc(S3)\nlwc1  F2, 0x20(SP)\nmul.s F2, F2, F4\nlwc1  F0, 0x14(S3)\nsub.s F0, F0, F2\nswc1  F0, 0x14(S3)\njal   PlaySound\n li    A0, 297\nli    A0, 11\njal   InitFadeIn\n li    A1, 50\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S3)\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F22\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nL80111DA4:\njal   SleepVProcess\n       NOP\nlwc1  F0, 0x30(S3)\nsub.s F0, F0, F22\nc.lt.s F20, F0\n      NOP\n      NOP\nbc1t  L80111DA4\n swc1  F0, 0x30(S3)\nL80111DC8:\njal   GetFadeStatus\n       NOP\nbeqz  V0, L80111DE8\n       NOP\njal   SleepVProcess\n       NOP\nj     L80111DC8\n       NOP\nL80111DE8:\njal   0x8004EE68\n       NOP\nmove  S0, V0\naddiu A2, S3, 0x18\nmove  A0, A2\naddiu A1, SP, 0x18\njal   0x800ED128\n li    A3, 16\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n move  S0, R0\nlui   A1, 0x4040\nlui   A2, 0x4000\njal   0x800EDB98\n move  A0, S3\nmove  S4, V0\nli    A0, 60\njal   0x800EC590\n li    A1, 14896\njal   PlaySound\n li    A0, 300\nmove  A0, S3\nli    A1, -1\njal   0x800D9CE8\n move  A2, R0\njal   SleepProcess\n li    A0, 20\nli    S3, 1\nlui   S2, hi(D_8011FA98)\naddiu S2, S2, lo(D_8011FA98)\nsll   V0, S0, 2\nL80111E6C:\naddu  S1, V0, S2\nlw    A0, 0(S1)\nbeqz  A0, L80111E88\n addiu S0, S0, 1\njal   EndProcess\n       NOP\nsw    R0, 0(S1)\nL80111E88:\nslti  V0, S0, STAR_COUNT\nbnez  V0, L80111E6C\n sll   V0, S0, 2\nlb    V0, 5(S7)\naddu  V0, S7, V0\nlb    V0, 6(V0)\nsll   V0, V0, 2\nlui   S0, hi(D_8011FA78)\naddu  S0, S0, V0\nlw    S0, lo(D_8011FA78)(S0)\njal   0x8004A994\n li    A0, 90\nmtc1  R0, F20\nli    AT, 0x43C80000 ; 400.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S0)\nc.lt.s F0, F2\n      NOP\n      NOP\nbc1f  L80112028\n mov.s F4, F0\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F22\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F24\nli    AT, 0x42480000 ; 50.000000\nmtc1  AT, F28\nli    AT, 0x43C80000 ; 400.000000\nmtc1  AT, F26\nadd.s F0, F4, F22\nL80111F00:\nswc1  F0, 0x30(S0)\nlwc1  F0, 0x18(SP)\nmul.s F0, F0, F22\nlwc1  F2, 0xc(S0)\nadd.s F0, F0, F2\nswc1  F0, 0xc(S0)\nlwc1  F0, 0x20(SP)\nmul.s F0, F0, F22\nlwc1  F2, 0x14(S0)\nadd.s F0, F0, F2\nswc1  F0, 0x14(S0)\njal   0x8008EF20\n mov.s F12, F20\nneg.s F0, F0\nswc1  F0, 0x18(S0)\njal   0x8008E3F0\n mov.s F12, F20\nswc1  F0, 0x20(S0)\nli    AT, 0x42340000 ; 45.000000\nmtc1  AT, F0\n      NOP\nadd.s F20, F20, F0\nc.lt.s F24, F20\n      NOP\n      NOP\nbc1tl L80111F6C\n sub.s F20, F20, F24\nL80111F6C:\nlwc1  F0, 0x30(S0)\nc.lt.s F28, F0\n      NOP\n      NOP\nbc1t  L80111F88\n li    V1, 1\nmove  V1, R0\nL80111F88:\nsltu  V0, R0, S3\nand   V0, V1, V0\nbeqz  V0, L80112008\n       NOP\njal   0x800DEB2C\n lb    A0, 0xf(S7)\nli    V1, 3\nbne   V0, V1, L80111FBC\n       NOP\njal   0x80035FDC\n li    A0, 23\nj     L80111FC8\n move  S3, R0\nL80111FBC:\njal   0x8003602C\n li    A0, 23\nmove  S3, R0\nL80111FC8:\nmove  A0, R0\nmove  A1, R0\njal   0x800620C8\n move  A2, R0\njal   EndProcess\n move  A0, S4\njal   0x800EDA58\n       NOP\njal   0x800FC8A4\n       NOP\njal   0x800FF7F0\n li    A0, 2\njal   0x800FCA14\n       NOP\njal   0x8004A0E0\n       NOP\nL80112008:\njal   SleepVProcess\n       NOP\nlwc1  F4, 0x30(S0)\nc.lt.s F4, F26\n      NOP\n      NOP\nbc1tl L80111F00\n add.s F0, F4, F22\nL80112028:\njal   SleepProcess\n li    A0, -1\nlw    RA, 0x134(SP)\nlw    FP, 0x130(SP)\nlw    S7, 0x12c(SP)\nlw    S6, 0x128(SP)\nlw    S5, 0x124(SP)\nlw    S4, 0x120(SP)\nlw    S3, 0x11c(SP)\nlw    S2, 0x118(SP)\nlw    S1, 0x114(SP)\nlw    S0, 0x110(SP)\nldc1  F28, 0x158(SP)\nldc1  F26, 0x150(SP)\nldc1  F24, 0x148(SP)\nldc1  F22, 0x140(SP)\nldc1  F20, 0x138(SP)\njr    RA\n addiu SP, SP, 0x160\n\n; item 17?\nD_80112074:\naddiu SP, SP, -0x58\nsw    RA, 0x3c(SP)\nsw    S4, 0x38(SP)\nsw    S3, 0x34(SP)\nsw    S2, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nsdc1  F24, 0x50(SP)\nsdc1  F22, 0x48(SP)\nsdc1  F20, 0x40(SP)\nlui   S1, hi(CORE_800CD058)\naddiu S1, S1, lo(CORE_800CD058)\nlb    S2, 0xf(S1)\nli    A0, 1\njal   0x8005279C\n move  A1, R0\nsll   V0, V0, 0x10\nlui   A0, hi(CORE_80101980)\nlw    A0, lo(CORE_80101980)(A0)\njal   ReadMainFS\n sra   S3, V0, 0x10\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsll   V0, V0, 0x10\nsra   S4, V0, 0x10\njal   FreeMainFS\n move  A0, S0\nmove  S0, S3\nmove  A0, S0\nmove  A1, R0\nmove  A2, S4\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 18304\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 36864\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nli    A2, 1\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\njal   SleepProcess\n li    A0, 20\njal   PlaySound\n li    A0, 325\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\naddiu A2, SP, 0x20\njal   0x800F6748\n addiu A3, SP, 0x24\njal   0x8004EE68\n       NOP\nmove  S0, V0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nlwc1  F0, 0x20(SP)\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nsll   A1, A1, 0x10\nlwc1  F0, 0x24(SP)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlb    V0, 0xf(S1)\nsll   V0, V0, 3\nlui   AT, hi(D_8011E354)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E354)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlui   AT, hi(D_8011E358)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E358)(AT)\ntrunc.w.s F2, F0\nmfc1  V0, F2\n      NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0x10(SP)\nli    V0, -1\nsw    V0, 0x14(SP)\nsra   A1, A1, 0x10\nsra   A2, A2, 0x10\njal   func_8010FB54\n sra   A3, A3, 0x10\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n li    S0, 1\njal   SleepProcess\n li    A0, 10\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nmove  A2, R0\njal   0x80055140\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nli    S1, 255\nsll   A2, S0, 1\nL8011225C:\naddu  A2, A2, S0\nsll   A2, A2, 3\naddu  A2, A2, S0\nsubu  A2, S1, A2\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0xa\nbnezl V0, L8011225C\n sll   A2, S0, 1\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055458\n move  A2, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\njal   0x800E4A7C\n move  S0, S3\nsll   V1, S2, 3\nsubu  V1, V1, S2\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\njal   0x800E4A7C\n sb    V0, 0(V1)\nmove  A0, S2\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\njal   0x800E4A7C\n       NOP\nmove  A0, S2\nmove  A1, V0\naddiu A2, SP, 0x20\njal   0x800F6848\n addiu A3, SP, 0x24\nlwc1  F0, 0x20(SP)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlwc1  F0, 0x24(SP)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\njal   0x8005532C\n li    A2, 32768\njal   FixUpPlayerItemSlots\n move  A0, S2\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n move  A0, R0\njal   0x800F6ECC\n li    A0, -1\nsw    R0, 0x10(SP)\nfunc_80112388:\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 56\nli    A1, 0x4100 ; "Hey Im the skeleton key. Youre not throwing me away right?"\nmove  A2, R0\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\nlui   A0, hi(D_8011E454)\naddiu A0, A0, lo(D_8011E454)\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n move  A1, R0\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n       NOP\nbeqz  S0, L801123DC\n li    V0, 1\nbeql  S0, V0, L80112404\n sw    R0, 0x10(SP)\nj     L8011247C\n move  S0, S3\nL801123DC:\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 56\nli    A1, 16641\nmove  A2, R0\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\nj     L801124BC\n       NOP\nL80112404:\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, 56\nli    A1, 16642\nmove  A2, R0\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\nmove  A0, S3\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\njal   PlayerHasEmptyItemSlot\n move  A0, S2\nsll   V1, S2, 3\nsubu  V1, V1, S2\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, 1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n move  A0, S2\nlui   V1, hi(CORE_800CD0A8)\naddiu V1, V1, lo(CORE_800CD0A8)\nlhu   V0, 0(V1)\nandi  V0, V0, 0xfffe\nj     L801124BC\n sh    V0, 0(V1)\nL8011247C:\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\njal   func_80106FE8\n       NOP\nli    V0, 1\nlui   AT, hi(CORE_800CB99C)\njal   0x80049FB8\n sb    V0, lo(CORE_800CB99C)(AT)\nmove  A0, S0\nmove  A1, R0\njal   0x8005532C\n li    A2, 32768\nj     func_80112388\n sw    R0, 0x10(SP)\nL801124BC:\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nbnez  S0, L80112580\n       NOP\njal   SleepProcess\n li    A0, 10\nli    S0, 1\nmove  S1, S3\nli    AT, 0x407E0000 ; 3.968750\nori AT, AT, 0xf9db\nmtc1  AT, F24\nli    AT, 0x437F0000 ; 255.000000\nmtc1  AT, F22\nli    AT, 0x4F000000 ; 2147483648.000000\nmtc1  AT, F20\nlui   S2, 0x8000\nL80112504:\nmtc1  S0, F0\n      NOP\ncvt.s.w F0, F0\nmul.s F0, F0, F24\nsub.s F2, F22, F0\nc.le.s F20, F2\n      NOP\n      NOP\nbc1tl L80112540\n sub.s F0, F2, F20\ntrunc.w.s F0, F2\nmfc1  A2, F0\n      NOP\nj     L80112554\n move  A0, S1\nL80112540:\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nor    A2, A2, S2\nmove  A0, S1\nL80112554:\nmove  A1, R0\njal   0x80055458\n andi  A2, A2, 0xffff\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0x40\nbnez  V0, L80112504\n move  A1, R0\nmove  A0, S3\njal   0x80055458\n move  A2, R0\nL80112580:\njal   0x800525C8\n move  A0, S3\njal   FreeGraphics\n move  A0, S4\nlw    RA, 0x3c(SP)\nlw    S4, 0x38(SP)\nlw    S3, 0x34(SP)\nlw    S2, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\nldc1  F24, 0x50(SP)\nldc1  F22, 0x48(SP)\nldc1  F20, 0x40(SP)\njr    RA\n addiu SP, SP, 0x58\n\nD_801125BC:\naddiu SP, SP, -0x40\nsw    RA, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F22, 0x38(SP)\njal   0x8004EE68\n sdc1  F20, 0x30(SP)\nlw    S1, 0x8c(V0)\nli    A0, 1\njal   0x8005279C\n move  A1, R0\nsll   V0, V0, 0x10\nsra   S2, V0, 0x10\nmove  S0, S2\nmove  A0, S0\nmove  A1, R0\nlui   A2, hi(D_8011FB66)\nlh    A2, lo(D_8011FB66)(A2)\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 9\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 4096\nlui   A0, hi(D_8011FB60)\nlw    A0, lo(D_8011FB60)(A0)\nmove  A1, R0\naddiu A2, SP, 0x18\njal   0x800F6E4C\n addiu A3, SP, 0x1c\nlui   V0, hi(D_8011FB60)\nlw    V0, lo(D_8011FB60)(V0)\nsll   V0, V0, 3\nlui   AT, hi(D_8011E20C)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E20C)(AT)\nli    AT, 0x41800000 ; 16.000000\nmtc1  AT, F4\n      NOP\nmul.s F0, F0, F4\nlui   AT, hi(D_8011E1EC)\naddu  AT, AT, V0\nlwc1  F2, lo(D_8011E1EC)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nswc1  F2, 0x18(SP)\nlui   AT, hi(D_8011E210)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E210)(AT)\nmul.s F0, F0, F4\nlui   AT, hi(D_8011E1F0)\naddu  AT, AT, V0\nlwc1  F2, lo(D_8011E1F0)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nswc1  F2, 0x1c(SP)\nlwc1  F0, 0x18(SP)\ncvt.s.w F0, F0\nsll   S1, S1, 3\nlui   AT, hi(D_8011E460)\naddu  AT, AT, S1\nlwc1  F2, lo(D_8011E460)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlwc1  F0, 0x1c(SP)\ncvt.s.w F0, F0\nlui   AT, hi(D_8011E464)\naddu  AT, AT, S1\nlwc1  F2, lo(D_8011E464)(AT)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S0\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nli    V0, 255\nsw    V0, 0x10(SP)\nmove  A0, S0\nmove  A1, R0\nli    A2, 255\njal   0x80055420\n li    A3, 255\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n li    A2, 255\nmtc1  R0, F20\nli    S0, 255\nmove  S1, S2\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F22\nL8011275C:\nmove  A0, S1\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x800551D8\n move  A1, R0\nmove  A0, S1\nmove  A1, R0\njal   0x80055458\n andi  A2, S0, 0xffff\njal   SleepVProcess\n addiu S0, S0, -0xa\nbgez  S0, L8011275C\n add.s F20, F20, F22\nmove  S0, S2\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n move  A2, R0\njal   0x800525C8\n move  A0, S0\njal   EndProcess\n move  A0, R0\nlw    RA, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F22, 0x38(SP)\nldc1  F20, 0x30(SP)\njr    RA\n addiu SP, SP, 0x40\n\nD_801127D8:\naddiu SP, SP, -0x38\nsw    RA, 0x34(SP)\nsw    S6, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\njal   0x8004EE68\n sw    S0, 0x18(SP)\nlw    S1, 0x8c(V0)\nlui A0, 0x21\njal   ReadMainFS\n ori A0, A0, 0x2c\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsll   V0, V0, 0x10\nsra   S6, V0, 0x10\njal   FreeMainFS\n move  A0, S0\nlui A0, 0x13\njal   ReadMainFS\n ori A0, A0, 0x1ba\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsll   V0, V0, 0x10\nsra   S5, V0, 0x10\njal   FreeMainFS\n move  A0, S0\nlui A0, 0x13\njal   ReadMainFS\n ori A0, A0, 0x1b9\nmove  S0, V0\njal   ImgPackParse\n move  A0, S0\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nlui   AT, hi(D_8011FB64)\nsw    V0, lo(D_8011FB64)(AT)\njal   FreeMainFS\n move  A0, S0\nli    A0, 2\njal   0x8005279C\n li    A1, 2\nsll   V0, V0, 0x10\nsra   S3, V0, 0x10\nmove  S0, S3\nmove  A0, S0\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nmove  A0, S0\nmove  A1, R0\nmove  A2, S6\njal   0x80055024\n li    A3, 12\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 9\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 4096\nmove  A0, S0\nmove  A1, R0\njal   0x800554C4\n li    A2, -1\nmove  A0, S0\nli    A1, 1\nmove  A2, S5\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nli    A1, 1\njal   0x80055294\n li    A2, 9\nmove  A0, S0\nli    A1, 1\njal   0x800553A8\n li    A2, 36864\nli    V0, 255\nsw    V0, 0x10(SP)\nmove  A0, S0\nli    A1, 1\nli    A2, 255\njal   0x80055420\n li    A3, 255\nmove  A0, S0\nli    A1, 1\njal   0x80055458\n li    A2, 255\nmove  A0, S0\nli    A1, 1\nlui   A2, 0x4000\njal   0x800551D8\n move  A3, A2\nmove  A0, S0\nli    A1, 1\njal   0x800554C4\n move  A2, R0\nandi  V0, S1, 1\nbeqz  V0, L801129B0\n li    S2, 200\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 1\nmove  A0, S0\nli    A1, 1\njal   0x800553A8\n li    A2, 1\nmove  A0, S0\nli    A1, 1\nj     L801129C0\n li    A2, 20\nL801129B0:\nli    S2, 120\nmove  A0, S3\nli    A1, 1\nli    A2, -20\nL801129C0:\njal   0x80054904\n li    A3, -5\nslti  V0, S1, 2\nbeqz  V0, L801129D8\n li    S0, 272\nli    S0, -32\nL801129D8:\njal   SleepProcess\n li    A0, 20\nmove  A0, S1\njal   PlayerHasItem\n li    A1, ITEM_BOO_REPELLANT\nsll   V1, S1, 3\nsubu  V1, V1, S1\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n move  A0, S1\njal   0x800F63F0\n move  A0, S1\nslti  V0, S1, 2\nbeql  V0, R0, L80112A44\n addiu S0, S0, -5\naddiu S0, S0, 5\nslti  V0, S0, 0x33\nbeqz  V0, L80112A88\n sll   A3, S0, 0x10\nj     L80112A50\n       NOP\nL80112A44:\nslti  V0, S0, 0xd2\nbnez  V0, L80112A88\n sll   A3, S0, 0x10\nL80112A50:\nmove  A0, S3\nmove  A1, R0\nmove  A2, S2\njal   0x80054904\n sra   A3, A3, 0x10\njal   SleepVProcess\n       NOP\nslti  V0, S1, 2\nbeql  V0, R0, L80112A44\n addiu S0, S0, -5\naddiu S0, S0, 5\nslti  V0, S0, 0x33\nbnez  V0, L80112A50\n sll   A3, S0, 0x10\nL80112A88:\njal   SleepProcess\n li    A0, 10\nmove  A0, S3\nli    A1, 1\njal   0x8005532C\n li    A2, 32768\njal   PlaySound\n li    A0, 332\nsll   V0, V0, 0x10\nsra   S4, V0, 0x10\nlui   AT, hi(D_8011FB60)\nsw    S1, lo(D_8011FB60)(AT)\nmove  S2, R0\nmove  S0, R0\nL80112AC0:\nlui   A0, hi(D_801125BC)\naddiu A0, A0, lo(D_801125BC)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S1, V0\nsw    S0, 0x8c(S1)\njal   SleepProcess\n li    A0, 2\naddiu S0, S0, 1\nslti  V0, S0, 6\nbnez  V0, L80112AC0\n       NOP\njal   SleepProcess\n li    A0, 5\naddiu S2, S2, 1\nslti  V0, S2, 4\nbnez  V0, L80112AC0\n move  S0, R0\njal   0x8004EE68\n li    S0, 255\nmove  A0, V0\njal   0x8004ED30\n move  A1, S1\njal   0x8004EE18\n sll   S1, S3, 0x10\njal   0x8004AD50\n move  A0, S4\nmove  A0, S3\nli    A1, 1\njal   0x80055458\n move  A2, R0\nsra   A0, S1, 0x10\nL80112B48:\nmove  A1, R0\njal   0x80055458\n andi  A2, S0, 0xffff\njal   SleepVProcess\n addiu S0, S0, -0x1e\nbgezl S0, L80112B48\n sra   A0, S1, 0x10\nmove  S0, S3\nmove  A0, S0\nmove  A1, R0\njal   0x80055458\n move  A2, R0\njal   0x800525C8\n move  A0, S0\nlui   A0, hi(D_8011FB66)\njal   FreeGraphics\n lh    A0, lo(D_8011FB66)(A0)\njal   FreeGraphics\n move  A0, S5\njal   FreeGraphics\n move  A0, S6\njal   EndProcess\n move  A0, R0\nlw    RA, 0x34(SP)\nlw    S6, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x38\n\nD_80112BCC:\naddiu SP, SP, -0x28\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F22, 0x20(SP)\nsdc1  F20, 0x18(SP)\njal   SleepProcess\n li    A0, 10\nli    S0, 1\nli    AT, 0x407E0000 ; 3.968750\nori   AT, AT, 0xf9db\nmtc1  AT, F22\nli    AT, 0x437F0000 ; 255.000000\nmtc1  AT, F20\nL80112C00:\njal   0x800E4A7C\n       NOP\nmtc1  S0, F0\n      NOP\ncvt.s.w F0, F0\nmul.s F0, F0, F22\nsub.s F0, F20, F0\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\njal   0x800F68E0\n sra   A2, A2, 0x10\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0x40\nbnez  V0, L80112C00\n       NOP\njal   0x800E4A7C\n       NOP\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F22, 0x20(SP)\nldc1  F20, 0x18(SP)\njr    RA\n addiu SP, SP, 0x28\n\nD_80112C88:\naddiu SP, SP, -0x40\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F26, 0x38(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\njal   0x8004EE68\n sdc1  F20, 0x20(SP)\nlw    S1, 0x8c(V0)\nlui   A0, hi(D_8011FB68)\njal   0x800D975C\n lw    A0, lo(D_8011FB68)(A0)\nmove  S0, V0\naddiu A0, S0, 0xc\njal   0x80089A20\n addiu A1, S1, 0xc\naddiu A0, S0, 0x24\nlui   A1, 0x4000\nmove  A2, A1\njal   0x80089A10\n move  A3, A1\nlwc1  F0, 0x30(S1)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F2\n      NOP\nadd.s F0, F0, F2\nswc1  F0, 0x30(S0)\njal   0x800D9AA4\n move  A0, S0\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\nmtc1  V0, F20\n      NOP\ncvt.s.w F20, F20\nlui   AT, hi(D_8011F968)\nldc1  F22, lo(D_8011F968)(AT)\nli    AT, 0x420C0000 ; 35.000000\nmtc1  AT, F26\nli    AT, 0x42200000 ; 40.000000\nmtc1  AT, F24\nfunc_80112D34:\njal   SleepVProcess\n       NOP\nlwc1  F0, 0x30(S0)\ncvt.d.s F0, F0\nadd.d F0, F0, F22\ncvt.s.d F0, F0\nswc1  F0, 0x30(S0)\nlwc1  F2, 0x30(S1)\nadd.s F2, F2, F26\nc.le.s F2, F0\n      NOP\nbc1t  L80112DA8\n       NOP\nadd.s F20, F20, F24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F20\n      NOP\njal   0x8008A2A0\n addiu A0, A0, 0x74\nj     func_80112D34\n       NOP\nL80112DA8:\njal   0x800D9B54\n move  A0, S0\njal   EndProcess\n move  A0, R0\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F26, 0x38(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x40\n\nfunc_80112DDC:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, A0\nlui   A0, hi(D_80112C88)\naddiu A0, A0, lo(D_80112C88)\nli    A1, 4096\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S0, 0x8c(V0)\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nD_80112E18:\naddiu SP, SP, -0x50\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F30, 0x48(SP)\nsdc1  F28, 0x40(SP)\nsdc1  F26, 0x38(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\njal   0x8004EE68\n sdc1  F20, 0x20(SP)\nlw    S0, 0x8c(V0)\nmtc1  R0, F20\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nlui   S1, hi(CORE_800CD058)\naddiu S1, S1, lo(CORE_800CD058)\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F30\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F24\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F28\nmtc1  R0, F26\n      NOP\nfunc_80112E80:\njal   0x8008EF20\n mov.s F12, F20\nlui   V0, hi(D_8011FB6C)\nlw    V0, lo(D_8011FB6C)(V0)\nneg.s F0, F0\nswc1  F0, 0x18(V0)\njal   0x8008E3F0\n mov.s F12, F20\nlui   V0, hi(D_8011FB6C)\nlw    V0, lo(D_8011FB6C)(V0)\nadd.s F20, F20, F30\nc.lt.s F24, F20\n      NOP\n      NOP\nbc1f  L80112EC4\n swc1  F0, 0x20(V0)\nsub.s F20, F20, F24\nL80112EC4:\nlw    V0, 0(S0)\nbeqz  V0, L80112EFC\n       NOP\nlui   V0, hi(D_8011FB6C)\nlw    V0, lo(D_8011FB6C)(V0)\nswc1  F22, 0x2c(V0)\nswc1  F22, 0x28(V0)\nswc1  F22, 0x24(V0)\nsub.s F22, F22, F28\nc.le.s F22, F26\n      NOP\n      NOP\nbc1t  L80112F0C\n li    A0, -1\nL80112EFC:\njal   SleepVProcess\n       NOP\nj     func_80112E80\n       NOP\nL80112F0C:\nlui   V0, hi(D_8011FB6C)\nlw    V0, lo(D_8011FB6C)(V0)\nmtc1  R0, F0\n      NOP\nswc1  F0, 0x2c(V0)\nswc1  F0, 0x28(V0)\nswc1  F0, 0x24(V0)\njal   PlayerHasItem\n li    A1, ITEM_KOOPA_CARD\nlb    A0, 0xf(S1)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n lb    A0, 0xf(S1)\njal   0x800F63F0\n lb    A0, 0xf(S1)\nlui   A0, hi(D_8011FB6C)\njal   0x800D9B54\n lw    A0, lo(D_8011FB6C)(A0)\njal   EndProcess\n move  A0, R0\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F30, 0x48(SP)\nldc1  F28, 0x40(SP)\nldc1  F26, 0x38(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x50\n\nfunc_80112FA8:\naddiu SP, SP, -0x50\nsw    RA, 0x34(SP)\nsw    S4, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F24, 0x48(SP)\nsdc1  F22, 0x40(SP)\nsdc1  F20, 0x38(SP)\nsw    R0, 0x18(SP)\nlui   S4, hi(CORE_800CD058)\naddiu S4, S4, lo(CORE_800CD058)\nli    A0, 1\njal   0x8005279C\n li    A1, 5\nlui   AT, hi(CORE_8010570C)\nsh    V0, lo(CORE_8010570C)(AT)\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_char)\naddu  AT, AT, V0\nlbu   V0, lo(p1_char)(AT)\nsll   V0, V0, 2\nlui   A0, hi(CORE_80101040)\naddu  A0, A0, V0\njal   ReadMainFS\n lw    A0, lo(CORE_80101040)(A0)\nmove  S1, V0\njal   ImgPackParse\n move  A0, S1\nsll   S0, V0, 0x10\nsra   S0, S0, 0x10\njal   FreeMainFS\n move  A0, S1\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\nmove  A2, S0\njal   0x80055024\n move  A3, R0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x80055294\n li    A2, 10\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800550F4\n li    A2, 1\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\nli    A0, -1\nmove  A1, R0\naddiu A2, SP, 0x10\njal   0x800F6E4C\n addiu A3, SP, 0x14\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nlh    A2, 0x12(SP)\nlh    A3, 0x16(SP)\njal   0x80054904\n move  A1, R0\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n li    A0, 1\njal   0x800F6ECC\n li    A0, -1\nli    A0, -1\njal   PlayerHasItem\n li    A1, ITEM_KOOPA_CARD\njal   0x800E4A88\n move  A0, V0\njal   func_8010FE54\n       NOP\nli    A0, 68\njal   0x800D90C8\n move  A1, R0\nlui   AT, hi(D_8011FB6C)\nsw    V0, lo(D_8011FB6C)(AT)\njal   GetPlayerStruct\n li    A0, -1\nlw    A1, 0x24(V0)\nlui   A0, hi(D_8011FB6C)\nlw    A0, lo(D_8011FB6C)(A0)\naddiu A0, A0, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nlui   V0, hi(D_8011FB6C)\nlw    V0, lo(D_8011FB6C)(V0)\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(V0)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nlui   V0, hi(D_8011FB6C)\nlw    V0, lo(D_8011FB6C)(V0)\nlwc1  F0, 0x30(V0)\nsub.s F0, F0, F22\nL80113160:\njal   SleepVProcess\n swc1  F0, 0x30(V0)\nlui   V0, hi(D_8011FB6C)\nlw    V0, lo(D_8011FB6C)(V0)\nlwc1  F0, 0x30(V0)\nc.lt.s F20, F0\n      NOP\n      NOP\nbc1tl L80113160\n sub.s F0, F0, F22\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n move  A0, R0\njal   0x800F6ECC\n li    A0, -1\nlui   A0, hi(D_80112E18)\naddiu A0, A0, lo(D_80112E18)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\naddiu V1, SP, 0x18\nsw    V1, 0x8c(V0)\nli    A0, -1\nli    A1, 4\njal   0x800FFA4C\n li    A2, 5\nmove  S3, V0\nlui   S1, hi(bank_coin_total)\nlh    S1, lo(bank_coin_total)(S1)\nmtc1  S1, F24\n      NOP\ncvt.s.w F24, F24\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F0\n      NOP\ndiv.s F24, F24, F0\nmtc1  R0, F20\nli    A0, 25\njal   0x800D90C8\n move  A1, R0\nlui   AT, hi(D_8011FB68)\nsw    V0, lo(D_8011FB68)(AT)\njal   0x800D9714\n move  A0, V0\nlui   A0, hi(D_8011FB68)\njal   0x800D9B24\n lw    A0, lo(D_8011FB68)(A0)\nbeqz  S1, L801132C4\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nlui   S2, hi(bank_coin_total)\naddiu S2, S2, lo(bank_coin_total)\nadd.s F20, F20, F24\nL80113240:\nc.le.s F22, F20\n      NOP\n      NOP\nbc1f  L8011326C\n move  S0, R0\nL80113254:\nsub.s F20, F20, F22\nc.le.s F22, F20\n      NOP\n      NOP\nbc1t  L80113254\n addiu S0, S0, 1\nL8011326C:\nbeqz  S0, L801132BC\n       NOP\nlui   A0, hi(D_8011FB6C)\njal   func_80112DDC\n lw    A0, lo(D_8011FB6C)(A0)\nsubu  V0, S1, S0\nbltzl V0, L8011328C\n move  S0, S1\nL8011328C:\nsubu  S1, S1, S0\nlb    A0, 0xf(S4)\njal   AdjustPlayerCoins\n move  A1, S0\njal   PlaySound\n li    A0, 262\nlhu   V0, 0(S2)\nsubu  V0, V0, S0\njal   func_80108478\n sh    V0, 0(S2)\njal   SleepProcess\n li    A0, 5\nL801132BC:\nbnezl S1, L80113240\n add.s F20, F20, F24\nL801132C4:\njal   0x800FFAEC\n move  A0, S3\nli    V0, 1\nsw    V0, 0x18(SP)\njal   SleepProcess\n li    A0, 20\nlui   A0, hi(D_8011FB68)\njal   0x800D9B54\n lw    A0, lo(D_8011FB68)(A0)\njal   GetPlayerStruct\n li    A0, -1\nlw    A0, 0x24(V0)\njal   0x800ECC0C\n addiu A0, A0, 0x18\nli    A0, -1\nli    A1, 5\njal   0x800F2304\n move  A2, R0\njal   SleepProcess\n li    A0, 5\nlb    A1, 0xf(S4)\njal   0x8004ACE0\n li    A0, 628\njal   SleepProcess\n li    A0, 45\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nlw    RA, 0x34(SP)\nlw    S4, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F24, 0x48(SP)\nldc1  F22, 0x40(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x50\n\n; Called after "Who\'s your opponent" textbox\nfunc_80113364:\naddiu SP, SP, -0x48\nsw    RA, 0x40(SP)\nsw    S5, 0x3c(SP)\nsw    S4, 0x38(SP)\nsw    S3, 0x34(SP)\nsw    S2, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nmove  S4, A0\nmove  S5, A1\nmove  S2, R0\nlui   A1, hi(D_8011F8D0)\naddiu A1, A1, lo(D_8011F8D0)\nlwl   V0, 0(A1)\nlwr   V0, 3(A1)\nswl   V0, 0x20(SP)\nswr   V0, 0x23(SP)\nmove  S1, R0\naddiu S3, SP, 0x18\nL801133B0:\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nbne   S1, V0, L8011347C\n sll   V0, S1, 3\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(CORE_800D110C)\naddu  AT, AT, V0\nlbu   V0, lo(CORE_800D110C)(AT)\nandi  V0, V0, 1\nbeqz  V0, L80113430\n sll   S0, S1, 3\nbeqz  S5, L801133F8\n       NOP\nlui   V0, hi(D_8011FB70)\nlw    V0, lo(D_8011FB70)(V0)\nj     L80113404\n addiu S2, V0, 1\nL801133F8:\nlui   V0, hi(D_8011FB74)\nlw    V0, lo(D_8011FB74)(V0)\naddiu S2, V0, 1\nL80113404:\nsll   V0, S1, 3\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nli    V1, 1024\nj     L8011349C\n sh    V1, 0(V0)\nL80113430:\nsubu  S0, S0, S1\nsll   S0, S0, 3\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\naddu  V0, SP, V0\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nlbu   A1, 0x20(V0)\njal   0x8005FE54\n addiu S1, S1, 1\nlui   V0, hi(p1_controller)\naddu  V0, V0, S0\nlbu   V0, lo(p1_controller)(V0)\nsll   V0, V0, 1\naddu  V0, V0, S3\nli    V1, -1\nj     L801134A0\n sh    V1, 0(V0)\nL8011347C:\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S3\nsh    R0, 0(V0)\nL8011349C:\naddiu S1, S1, 1\nL801134A0:\nslti  V0, S1, 4\nbnez  V0, L801133B0\n       NOP\nbeqz  S2, L80113558\n li    A1, 2\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8005B63C\n li    A2, 2\nmove  S0, R0\naddiu S1, SP, 0x18\nL801134CC:\naddiu S2, S2, -1\nbnez  S2, L80113508\n       NOP\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_controller)\naddu  AT, AT, V0\nlbu   V0, lo(p1_controller)(AT)\nsll   V0, V0, 1\naddu  V0, V0, S1\nli    V1, -32768\nsh    V1, 0(V0)\nL80113508:\nbnez  S0, L80113530\n li    V0, 5\njal   0x800EDC40\n       NOP\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nj     func_80113540\n andi  V0, V0, 0xff\nL80113530:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\nfunc_80113540:\njal   0x8005F698\n sw    V0, 0x10(SP)\nbnez  S2, L801134CC\n addiu S0, S0, 1\nj     func_80113570\n move  S1, R0\nL80113558:\nlh    A0, 0x18(SP)\nlh    A1, 0x1a(SP)\nlh    A2, 0x1c(SP)\nlh    A3, 0x1e(SP)\njal   0x8005F744\n move  S1, R0\nfunc_80113570:\naddu  V0, S4, S1\nL80113574:\nlbu   V0, 0(V0)\nbnezl V0, L80113598\n addiu S1, S1, 1\nsll   A1, S1, 0x10\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\njal   0x8006010C\n sra   A1, A1, 0x10\naddiu S1, S1, 1\nL80113598:\nslti  V0, S1, 4\nbnez  V0, L80113574\n addu  V0, S4, S1\nmove  S1, R0\nsll   A1, S1, 0x10\nL801135AC:\nlui   A0, hi(CORE_80105702_window_id)\nlh    A0, lo(CORE_80105702_window_id)(A0)\nsra   A1, A1, 0x10\njal   0x8005E1D8\n li    A2, 1\nmove  S1, V0\naddu  V0, S4, S1\nlbu   V0, 0(V0)\nbeqz  V0, L801135AC\n sll   A1, S1, 0x10\nmove  V0, S1\nlw    RA, 0x40(SP)\nlw    S5, 0x3c(SP)\nlw    S4, 0x38(SP)\nlw    S3, 0x34(SP)\nlw    S2, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\njr    RA\n addiu SP, SP, 0x48\n\nfunc_801135FC:\naddiu SP, SP, -0x38\nsw    RA, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\njal   0x8004EE68\n sw    S0, 0x18(SP)\nlw    S3, 0x8c(V0)\nlh    A0, 0x8e(V0)\njal   0x800FF900\n li    A1, 4\nli    S1, 128\nsll   V0, S3, 3\nsubu  V0, V0, S3\nsll   V0, V0, 3\nlui   V1, hi(p1_item1)\naddiu V1, V1, lo(p1_item1)\naddu  S4, V0, V1\nmove  S0, R0\nL80113650:\nli    S5, -1\nsll   S2, S1, 0x10\naddu  V0, S4, S0\nL8011365C:\nlb    V0, 0(V0)\nbeq   V0, S5, L80113674\n move  A0, S3\nmove  A1, S0\njal   0x800F68E0\n sra   A2, S2, 0x10\nL80113674:\naddiu S0, S0, 1\nslti  V0, S0, 3\nbnez  V0, L8011365C\n addu  V0, S4, S0\njal   SleepVProcess\n addiu S1, S1, -0xa\nbgtz  S1, L80113650\n move  S0, R0\nsll   V0, S3, 3\nsubu  V0, V0, S3\nsll   V0, V0, 3\nlui   V1, hi(p1_item1)\naddiu V1, V1, lo(p1_item1)\naddu  S1, V0, V1\nli    S2, -1\naddu  V0, S1, S0\nL801136B4:\nlb    V0, 0(V0)\nbeq   V0, S2, L801136CC\n move  A0, S3\nmove  A1, S0\njal   0x800F68E0\n move  A2, R0\nL801136CC:\naddiu S0, S0, 1\nslti  V0, S0, 3\nbnez  V0, L801136B4\n addu  V0, S1, S0\njal   EndProcess\n move  A0, R0\nlw    RA, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x38\n\nfunc_80113708:\naddiu SP, SP, -0x40\nsw    RA, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nsdc1  F20, 0x38(SP)\njal   0x8004EE68\n move  S0, R0\nlw    S2, 0x8c(V0)\nlui   S3, hi(CORE_800CD058)\naddiu S3, S3, lo(CORE_800CD058)\nmove  S1, R0\nlui   S5, hi(p1_item1)\naddiu S5, S5, lo(p1_item1)\nli    S4, -1\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nL80113758:\nlb    A0, 0xf(S3)\nsll   V0, A0, 3\nsubu  V0, V0, A0\nsll   V0, V0, 3\naddu  V0, V0, S5\naddu  V0, V0, S0\nlb    V0, 0(V0)\nbeql  V0, S4, L801137D0\n addiu S0, S0, 1\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x800F696C\n move  A1, S0\nmove  A0, S2\nmove  A1, S1\naddiu A2, SP, 0x10\njal   0x800F6E4C\n addiu A3, SP, 0x14\nlb    A0, 0xf(S3)\nlh    A2, 0x12(SP)\nlh    A3, 0x16(SP)\njal   0x800F688C\n move  A1, S0\njal   0x800E4A7C\n       NOP\nxor   V0, S0, V0\nsltu  V0, R0, V0\naddu  S1, S1, V0\naddiu S0, S0, 1\nL801137D0:\nslti  V0, S0, 3\nbnez  V0, L80113758\n       NOP\nmove  S1, R0\nlui   S5, hi(p1_item1)\naddiu S5, S5, lo(p1_item1)\nli    S4, -1\nmove  S0, R0\nL801137F0:\nsll   S2, S1, 0x10\nL801137F4:\nlb    V0, 0xf(S3)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\naddu  V1, V1, S5\naddu  V1, V1, S0\nlb    V0, 0(V1)\nbeql  V0, S4, L80113838\n addiu S0, S0, 1\njal   0x800E4A7C\n       NOP\nbeq   S0, V0, L80113834\n move  A1, S0\nlb    A0, 0xf(S3)\njal   0x800F68E0\n sra   A2, S2, 0x10\nL80113834:\naddiu S0, S0, 1\nL80113838:\nslti  V0, S0, 3\nbnez  V0, L801137F4\n       NOP\njal   SleepVProcess\n addiu S1, S1, 0x14\nslti  V0, S1, 0x80\nbnez  V0, L801137F0\n move  S0, R0\nlui   S2, hi(p1_item1)\naddiu S2, S2, lo(p1_item1)\nli    S1, -1\nL80113864:\nlb    V0, 0xf(S3)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\naddu  V1, V1, S2\naddu  V1, V1, S0\nlb    V0, 0(V1)\nbeql  V0, S1, L801138A8\n addiu S0, S0, 1\njal   0x800E4A7C\n       NOP\nbeq   S0, V0, L801138A4\n move  A1, S0\nlb    A0, 0xf(S3)\njal   0x800F68E0\n li    A2, 128\nL801138A4:\naddiu S0, S0, 1\nL801138A8:\nslti  V0, S0, 3\nbnez  V0, L80113864\n       NOP\njal   EndProcess\n move  A0, R0\nlw    RA, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x40\n\n; Trade items\nbarter_box_item_code:\nfunc_801138E4:\naddiu SP, SP, -0xd8\nsw    RA, 0xa8(SP)\nsw    S7, 0xa4(SP)\nsw    S6, 0xa0(SP)\nsw    S5, 0x9c(SP)\nsw    S4, 0x98(SP)\nsw    S3, 0x94(SP)\nsw    S2, 0x90(SP)\nsw    S1, 0x8c(SP)\nsw    S0, 0x88(SP)\nsdc1  F28, 0xd0(SP)\nsdc1  F26, 0xc8(SP)\nsdc1  F24, 0xc0(SP)\nsdc1  F22, 0xb8(SP)\nsdc1  F20, 0xb0(SP)\nlui   S6, hi(CORE_800CD058)\naddiu S6, S6, lo(CORE_800CD058)\njal   func_8010FE54\n move  S7, R0\nli    A0, 32\njal   0x800D90C8\n move  A1, R0\nmove  S5, V0\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   A1, 2\njal   0x8001C2FC\n lui   A2, 2\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\njal   0x8001C448\n lh    A0, 0(V0)\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\njal   0x8001C954\n lh    A0, 0(V0)\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\njal   0x8001C514\n lh    A0, 0(V0)\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\njal   GetPlayerStruct\n li    A0, -1\nlw    A1, 0x24(V0)\naddiu A0, S5, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 2\njal   0x8001C814\n li    A2, 1\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S5)\njal   PlaySound\n li    A0, 322\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S5)\nc.lt.s F2, F0\n      NOP\n      NOP\nbc1f  L80113A40\n mov.s F4, F0\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nsub.s F0, F4, F22\nL80113A20:\njal   SleepVProcess\n swc1  F0, 0x30(S5)\nlwc1  F4, 0x30(S5)\nc.lt.s F20, F4\n      NOP\n      NOP\nbc1tl L80113A20\n sub.s F0, F4, F22\nL80113A40:\nmove  S1, R0\naddiu S0, SP, 0x20\nli    S3, 1\naddiu S2, SP, 0x60\nli    S4, 8\nL80113A54:\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nbne   V0, S1, L80113A78\n sll   V0, S1, 4\naddu  V0, S0, V0\nsb    S3, 0(V0)\naddu  V0, S2, S1\nj     L80113A88\n sb    R0, 0(V0)\nL80113A78:\naddu  V0, S0, V0\nsb    S4, 0(V0)\naddu  V0, S2, S1\nsb    S3, 0(V0)\nL80113A88:\nsll   A1, S1, 4\naddu  A1, S0, A1\nmove  A0, S1\njal   0x800E2260\n addiu A1, A1, 1\naddiu S1, S1, 1\nslti  V0, S1, 4\nbnez  V0, L80113A54\n li    V0, 1\nsb    V0, 0x64(SP)\nsb    V0, 0x65(SP)\naddiu V0, SP, 0x40\nsw    V0, 0x10(SP)\naddiu V0, SP, 0x50\nsw    V0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x5C01 ; "Who\'s your opponent?"\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage\n addiu A3, SP, 0x30\naddiu A0, SP, 0x60\njal   func_80113364\n li    A1, 1\njal   0x800EC6C8\n move  S4, V0\njal   0x800EC6EC\n       NOP\nli    V0, 4\nbne   S4, V0, L80113B10\n       NOP\njal   0x800EF0D8\n li    A0, 1\nmove  S4, V0\nL80113B10:\njal   0x800E4A7C\n       NOP\nlui   A1, hi(current_player_index)\nlb    A1, lo(current_player_index)(A1)\nsll   V1, A1, 3\nsubu  V1, V1, A1\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nlb    V1, 0(V1)\nli    V0, 16\nbne   V1, V0, L80113B70\n       NOP\njal   PlayerHasEmptyItemSlot\n move  A0, A1\nli    V1, 1\nbne   V0, V1, L80113B70\n       NOP\njal   PlayerHasEmptyItemSlot\n move  A0, S4\nbeql  V0, R0, L80113B70\n li    S7, 1\nL80113B70:\nbnez  S7, L80114328\n       NOP\njal   PlaySound\n li    A0, 329\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 1\njal   0x8001C814\n move  A2, R0\njal   SleepProcess\n li    A0, 20\nli    AT, 0x43200000 ; 160.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x70(SP)\nli    AT, 0x42A80000 ; 84.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x74(SP)\nmove  S1, R0\nlui   S3, hi(p1_item1)\naddiu S3, S3, lo(p1_item1)\nli    S2, -1\nmove  S0, R0\nL80113BD4:\nbne   S0, S1, L80113BE0\n li    A2, 18320\nli    A2, 18310\nL80113BE0:\nlb    A0, 0xf(S6)\nmove  A1, S0\njal   0x800F69B0\n andi  A2, A2, 0xffff\naddiu S0, S0, 1\nslti  V0, S0, 3\nbnez  V0, L80113BD4\n       NOP\nlb    V0, 0xf(S6)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\naddu  V1, V1, S3\naddu  V1, V1, S1\nlb    V0, 0(V1)\nbeql  V0, S2, L80113C54\n addiu S1, S1, 1\njal   0x800E4A7C\n       NOP\nbeq   S1, V0, L80113C50\n move  A1, S1\nlb    A0, 0xf(S6)\nsw    R0, 0x10(SP)\nli    A2, 10\njal   func_801106A4\n addiu A3, SP, 0x70\njal   SleepProcess\n li    A0, 2\nL80113C50:\naddiu S1, S1, 1\nL80113C54:\nslti  V0, S1, 3\nbnezl V0, L80113BD4\n move  S0, R0\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 4\njal   0x8001C814\n li    A2, 4\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    V1, 0(V0)\nlui   A0, hi(CORE_800D03F8)\nlw    A0, lo(CORE_800D03F8)(A0)\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 6\naddu  V0, V0, A0\nmtc1  R0, F2\nlwc1  F0, 0x40(V0)\nc.eq.s F0, F2\n      NOP\nbc1t  L80113CF8\n       NOP\nmtc1  R0, F20\nL80113CB8:\njal   SleepVProcess\n       NOP\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    V1, 0(V0)\nlui   A0, hi(CORE_800D03F8)\nlw    A0, lo(CORE_800D03F8)(A0)\nsll   V0, V1, 1\naddu  V0, V0, V1\nsll   V0, V0, 6\naddu  V0, V0, A0\nlwc1  F0, 0x40(V0)\nc.eq.s F0, F20\n      NOP\nbc1f  L80113CB8\n       NOP\nL80113CF8:\njal   PlaySound\n li    A0, 336\njal   SleepProcess\n li    A0, 20\nlui   A0, hi(func_801135FC)\naddiu A0, A0, lo(func_801135FC)\nli    A1, 18432\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S4, 0x8c(V0)\njal   PlaySound\n li    A0, 337\nmtc1  R0, F20\nli    AT, 0x40A00000 ; 5.000000\nmtc1  AT, F22\nmove  S0, R0\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F26\nli    AT, 0x40000000 ; 2.000000\nmtc1  AT, F28\nli    AT, 0x42340000 ; 45.000000\nmtc1  AT, F24\n      NOP\nL80113D58:\njal   0x8008EF20\n mov.s F12, F20\nneg.s F0, F0\nswc1  F0, 0x18(S5)\njal   0x8008E3F0\n mov.s F12, F20\nadd.s F20, F20, F22\nc.lt.s F26, F20\n      NOP\n      NOP\nbc1f  L80113D8C\n swc1  F0, 0x20(S5)\nsub.s F20, F20, F26\nL80113D8C:\nadd.s F22, F22, F28\nc.lt.s F24, F22\n      NOP\n      NOP\nbc1f  L80113DB4\n move  V0, S0\nmov.s F22, F24\nslti  V0, V0, 0x1f\nbeqz  V0, L80113DC4\n addiu S0, S0, 1\nL80113DB4:\njal   SleepVProcess\n       NOP\nj     L80113D58\n       NOP\nL80113DC4:\nmove  S0, R0\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F26\nli    AT, 0x40000000 ; 2.000000\nmtc1  AT, F28\nli    AT, 0x40A00000 ; 5.000000\nmtc1  AT, F24\n      NOP\nL80113DE4:\njal   0x8008EF20\n mov.s F12, F20\nneg.s F0, F0\nswc1  F0, 0x18(S5)\njal   0x8008E3F0\n mov.s F12, F20\nadd.s F20, F20, F22\nc.lt.s F26, F20\n      NOP\n      NOP\nbc1f  L80113E24\n swc1  F0, 0x20(S5)\naddiu S0, S0, 1\nslti  V0, S0, 2\nbeqz  V0, L80113E4C\n sub.s F20, F20, F26\nL80113E24:\nsub.s F22, F22, F28\nc.lt.s F22, F24\n      NOP\n      NOP\nbc1tl L80113E3C\n mov.s F22, F24\nL80113E3C:\njal   SleepVProcess\n       NOP\nj     L80113DE4\n       NOP\nL80113E4C:\nsw    R0, 0x18(S5)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x20(S5)\njal   PlaySound\n li    A0, 338\nmove  S1, R0\nli    AT, 0x3FC00000 ; 1.500000\nmtc1  AT, F28\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F26\nL80113E7C:\nmtc1  S1, F22\n      NOP\ncvt.s.w F22, F22\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F24, F0, F28\nadd.s F24, F24, F26\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F20, F0, F28\nadd.s F20, F20, F26\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F0, F0, F28\nmfc1  A1, F24\nmfc1  A2, F20\nadd.s F0, F0, F26\nmfc1  A3, F0\n      NOP\njal   0x80089A10\n addiu A0, S5, 0x24\njal   SleepVProcess\n addiu S1, S1, 0x28\nslti  V0, S1, 0x5a1\nbnez  V0, L80113E7C\n       NOP\njal   PlaySound\n li    A0, 329\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 4\njal   0x8001C814\n move  A2, R0\njal   SleepProcess\n li    A0, 20\nlui   A0, hi(func_80113708)\naddiu A0, A0, lo(func_80113708)\nli    A1, 18432\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S4, 0x8c(V0)\njal   PlayerHasEmptyItemSlot\n move  A0, S4\nmove  V1, V0\nli    AT, 0x428C0000 ; 70.000000\nmtc1  AT, F0\nli    V0, 1\nbeq   V1, V0, L80113F74\n swc1  F0, 0x7c(SP)\nslti  V0, V1, 2\nbeql  V0, R0, L80113F64\n li    V0, 2\nbeqz  V1, L80114320\n       NOP\nj     L80114150\n       NOP\nL80113F64:\nbeql  V1, V0, L80114018\n move  A0, S4\nj     L80114150\n       NOP\nL80113F74:\nli    AT, 0x43200000 ; 160.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x78(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 160\njal   0x800F688C\n li    A3, 84\naddiu S0, SP, 0x78\nli    V0, 1\nsw    V0, 0x10(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 10\njal   func_801106A4\n move  A3, S0\njal   SleepProcess\n li    A0, 20\nlb    A0, 0xf(S6)\nmove  A1, R0\naddiu A2, SP, 0x80\njal   0x800F6E4C\n addiu A3, SP, 0x84\nlwc1  F0, 0x80(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x78(SP)\nlwc1  F0, 0x84(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x7c(SP)\nmove  A0, S4\nmove  A1, R0\njal   0x800F69B0\n li    A2, 18320\nli    V0, 2\nsw    V0, 0x10(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 7\nj     L80114318\n move  A3, S0\nL80114018:\nli    AT, 0x43020000 ; 130.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x78(SP)\nmove  A1, R0\nli    A2, 160\njal   0x800F688C\n li    A3, 84\naddiu S1, SP, 0x78\nli    S0, 1\nsw    S0, 0x10(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 10\njal   func_801106A4\n move  A3, S1\nli    AT, 0x433E0000 ; 190.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x78(SP)\nmove  A0, S4\nli    A1, 1\nli    A2, 160\njal   0x800F688C\n li    A3, 84\nsw    S0, 0x10(SP)\nmove  A0, S4\nli    A1, 1\nli    A2, 10\njal   func_801106A4\n move  A3, S1\njal   SleepProcess\n li    A0, 20\naddiu S2, SP, 0x80\naddiu S3, SP, 0x84\nlb    A0, 0xf(S6)\nmove  A1, R0\nmove  A2, S2\njal   0x800F6E4C\n move  A3, S3\nlwc1  F0, 0x80(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x78(SP)\nlwc1  F0, 0x84(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x7c(SP)\nmove  A0, S4\nmove  A1, R0\njal   0x800F69B0\n li    A2, 18320\nli    S0, 2\nsw    S0, 0x10(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 7\njal   func_801106A4\n move  A3, S1\nlb    A0, 0xf(S6)\nli    A1, 1\nmove  A2, S2\njal   0x800F6E4C\n move  A3, S3\nlwc1  F0, 0x80(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x78(SP)\nlwc1  F0, 0x84(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x7c(SP)\nmove  A0, S4\nli    A1, 1\njal   0x800F69B0\n li    A2, 18319\nsw    S0, 0x10(SP)\nmove  A0, S4\nli    A1, 1\nli    A2, 7\nj     L80114318\n move  A3, S1\nL80114150:\nli    AT, 0x42DC0000 ; 110.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x78(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 160\njal   0x800F688C\n li    A3, 84\naddiu S3, SP, 0x78\nli    S0, 1\nsw    S0, 0x10(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 10\njal   func_801106A4\n move  A3, S3\nli    AT, 0x43520000 ; 210.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x78(SP)\nmove  A0, S4\nli    A1, 1\nli    A2, 160\njal   0x800F688C\n li    A3, 84\nsw    S0, 0x10(SP)\nmove  A0, S4\nli    A1, 1\nli    A2, 10\njal   func_801106A4\n move  A3, S3\nli    AT, 0x43200000 ; 160.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x78(SP)\nmove  A0, S4\nli    A1, 2\nli    A2, 160\njal   0x800F688C\n li    A3, 84\nsw    S0, 0x10(SP)\nmove  A0, S4\nli    A1, 2\nli    A2, 10\njal   func_801106A4\n move  A3, S3\njal   SleepProcess\n li    A0, 20\naddiu S1, SP, 0x80\naddiu S2, SP, 0x84\nlb    A0, 0xf(S6)\nmove  A1, R0\nmove  A2, S1\njal   0x800F6E4C\n move  A3, S2\nlwc1  F0, 0x80(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x78(SP)\nlwc1  F0, 0x84(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x7c(SP)\nmove  A0, S4\nmove  A1, R0\njal   0x800F69B0\n li    A2, 18320\nli    S0, 2\nsw    S0, 0x10(SP)\nmove  A0, S4\nmove  A1, R0\nli    A2, 7\njal   func_801106A4\n move  A3, S3\nlb    A0, 0xf(S6)\nli    A1, 1\nmove  A2, S1\njal   0x800F6E4C\n move  A3, S2\nlwc1  F0, 0x80(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x78(SP)\nlwc1  F0, 0x84(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x7c(SP)\nmove  A0, S4\nli    A1, 1\njal   0x800F69B0\n li    A2, 18319\nsw    S0, 0x10(SP)\nmove  A0, S4\nli    A1, 1\nli    A2, 7\njal   func_801106A4\n move  A3, S3\nlb    A0, 0xf(S6)\nli    A1, 2\nmove  A2, S1\njal   0x800F6E4C\n move  A3, S2\nlwc1  F0, 0x80(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x78(SP)\nlwc1  F0, 0x84(SP)\ncvt.s.w F0, F0\nswc1  F0, 0x7c(SP)\nmove  A0, S4\nli    A1, 2\njal   0x800F69B0\n li    A2, 18318\nsw    S0, 0x10(SP)\nmove  A0, S4\nli    A1, 2\nli    A2, 7\nmove  A3, S3\nL80114318:\njal   func_801106A4\n       NOP\nL80114320:\njal   SleepProcess\n li    A0, 2\nL80114328:\njal   0x800E4A7C\n move  S1, R0\nlb    A0, 0xf(S6)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n lb    A0, 0xf(S6)\nsll   V0, S4, 3\nsubu  V0, V0, S4\nsll   V0, V0, 3\nlui   A2, hi(p1_item1)\naddiu A2, A2, lo(p1_item1)\naddu  A3, V0, A2\naddu  A0, A3, S1\nL8011437C:\nlb    A1, 0(A0)\nlb    V1, 0xf(S6)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\naddu  V0, V0, A2\naddu  V0, V0, S1\nlbu   V0, 0(V0)\nsb    V0, 0(A0)\nlb    V1, 0xf(S6)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\naddu  V0, V0, A2\naddu  V0, V0, S1\nsb    A1, 0(V0)\naddiu S1, S1, 1\nslti  V0, S1, 3\nbnezl V0, L8011437C\n addu  A0, A3, S1\nbnezl S7, L801143E8\n li    A0, 20\njal   0x800F641C\n li    A0, -1\njal   0x800F641C\n move  A0, S4\nli    A0, 10\nL801143E8:\njal   SleepProcess\n move  S0, R0\njal   PlaySound\n li    A0, 347\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F20\nli    AT, 0x3D380000 ; 0.044922\nori AT, AT, 0x51eb\nmtc1  AT, F24\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F22\nadd.s F20, F20, F24\nL8011441C:\nlw    V0, 0x3c(S5)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmfc1  A1, F20\nmul.s F6, F20, F22\nmfc1  A2, F6\n      NOP\njal   0x8001D558\n li    A3, 1\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0x14\nbnezl V0, L8011441C\n add.s F20, F20, F24\njal   0x800D9B54\n move  A0, S5\nbeqz  S7, L80114488\n       NOP\nlb    A1, 0xf(S6)\njal   0x8004ACE0\n li    A0, 646\nli    A0, -1\nli    A1, 3\njal   0x800F2304\n move  A2, R0\nj     L801144A8\n li    A0, 70\nL80114488:\nlb    A1, 0xf(S6)\njal   0x8004ACE0\n li    A0, 628\nli    A0, -1\nli    A1, 5\njal   0x800F2304\n move  A2, R0\nli    A0, 50\nL801144A8:\njal   SleepProcess\n       NOP\nli    V0, 2\nsw    V0, 0x10(SP)\nli    A0, -1\nli    A1, -1\nmove  A2, R0\njal   0x800F2388\n li    A3, 10\nbeqz  S7, L801144D8\n li    A1, 0x3a2d ; "{0} and {1} traded items!"\nli    A1, 0x3a2e ; "Neither {0} nor {1} have any items to trade!"\nL801144D8:\nlb    V1, 0xf(S6)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   V1, hi(p1_char)\naddu  V1, V1, V0\nlbu   V1, lo(p1_char)(V1)\nlui   A0, hi(CORE_801014A0)\naddiu A0, A0, lo(CORE_801014A0)\nsll   V1, V1, 2\naddu  V1, V1, A0\nsll   V0, S4, 3\nsubu  V0, V0, S4\nsll   V0, V0, 3\nlui   AT, hi(p1_char)\naddu  AT, AT, V0\nlbu   V0, lo(p1_char)(AT)\nsll   V0, V0, 2\naddu  V0, V0, A0\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nlw    A2, 0(V1)\nlw    A3, 0(V0)\njal   0x800EC8EC ; ShowMessage\n li    A0, -1\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nlw    RA, 0xa8(SP)\nlw    S7, 0xa4(SP)\nlw    S6, 0xa0(SP)\nlw    S5, 0x9c(SP)\nlw    S4, 0x98(SP)\nlw    S3, 0x94(SP)\nlw    S2, 0x90(SP)\nlw    S1, 0x8c(SP)\nlw    S0, 0x88(SP)\nldc1  F28, 0xd0(SP)\nldc1  F26, 0xc8(SP)\nldc1  F24, 0xc0(SP)\nldc1  F22, 0xb8(SP)\nldc1  F20, 0xb0(SP)\njr    RA\n addiu SP, SP, 0xd8\n\nD_80114590:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\njal   0x8004EE68\n sw    S0, 0x10(SP)\nlw    S2, 0x8c(V0)\nlw    S1, 0(S2)\nlw    S0, 4(S2)\nmove  A0, S1\nlhu   A2, 0xa(S2)\njal   0x800D9CE8\n li    A1, -1\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, S0, 0xc\nlwc1  F0, 0x30(S0)\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F2\n      NOP\nsub.s F0, F0, F2\nlwc1  F2, 0x10(S1)\nadd.s F0, F0, F2\nswc1  F0, 0x10(S1)\njal   0x800D9A40\n move  A0, S1\nfunc_801145F8:\njal   0x800D9E0C\n move  A0, S1\nandi  V0, V0, 0xffff\nbnez  V0, L80114628\n       NOP\nlw    V0, 0xc(S2)\nbnez  V0, L80114628\n       NOP\njal   SleepVProcess\n       NOP\nj     func_801145F8\n       NOP\nL80114628:\njal   0x800D9B54\n move  A0, S1\njal   EndProcess\n move  A0, R0\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nD_80114650:\naddiu SP, SP, -0x60\nsw    RA, 0x28(SP)\nsw    S5, 0x24(SP)\nsw    S4, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F30, 0x58(SP)\nsdc1  F28, 0x50(SP)\nsdc1  F26, 0x48(SP)\nsdc1  F24, 0x40(SP)\nsdc1  F22, 0x38(SP)\njal   0x8004EE68\n sdc1  F20, 0x30(SP)\nlw    S4, 0x8c(V0)\nlui   S1, hi(D_8011FB78)\nlw    S1, lo(D_8011FB78)(S1)\nli    A0, 69\njal   0x800D90C8\n move  A1, R0\nmove  S5, V0\njal   0x800D9B24\n move  A0, S5\nlui A0, 0xb\nori A0, A0, 4\njal   0x8000CED8\n li    A1, 2729\nsll   V0, V0, 0x10\nsra   S2, V0, 0x10\nmove  S0, S2\nmove  A0, S0\nlui   A1, 0x3f80\nlui   A2, 0x41a0\njal   0x8000CD00\n move  A3, A1\nlui   A1, 0x4120\njal   0x8000D018\n move  A0, S0\nmove  A0, S0\njal   0x8001C8A8\n li    A1, 1\njal   PlaySound\n li    A0, 588\nmtc1  R0, F20\nli    AT, 0x40000000 ; 2.000000\nmtc1  AT, F22\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F26\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F28\nli    AT, 0x42A00000 ; 80.000000\nmtc1  AT, F24\nsll   S0, S2, 0x10\nL80114728:\njal   0x8008EF20\n mov.s F12, F20\nneg.s F0, F0\nswc1  F0, 0x18(S1)\njal   0x8008E3F0\n mov.s F12, F20\nadd.s F20, F20, F22\nc.lt.s F26, F20\n      NOP\n      NOP\nbc1f  L8011475C\n swc1  F0, 0x20(S1)\nsub.s F20, F20, F26\nL8011475C:\nadd.s F22, F22, F28\nc.lt.s F24, F22\n      NOP\n      NOP\nbc1tl L80114774\n mov.s F22, F24\nL80114774:\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n sra   A0, S0, 0x10\njal   SleepVProcess\n       NOP\nc.lt.s F22, F24\n      NOP\nbc1t  L80114728\n       NOP\njal   PlaySound\n li    A0, 330\nli    AT, 0x42DC0000 ; 110.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S1)\nc.lt.s F0, F2\n      NOP\n      NOP\nbc1f  L8011486C\n mov.s F4, F0\nli    AT, 0x40E00000 ; 7.000000\nmtc1  AT, F28\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F24\nsll   S0, S2, 0x10\nli    AT, 0x42DC0000 ; 110.000000\nmtc1  AT, F26\nadd.s F0, F4, F28\nL801147F4:\nswc1  F0, 0x30(S1)\njal   0x8008EF20\n mov.s F12, F20\nneg.s F0, F0\nswc1  F0, 0x18(S1)\njal   0x8008E3F0\n mov.s F12, F20\nadd.s F20, F20, F22\nc.lt.s F24, F20\n      NOP\n      NOP\nbc1f  L8011482C\n swc1  F0, 0x20(S1)\nsub.s F20, F20, F24\nL8011482C:\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n sra   A0, S0, 0x10\njal   SleepVProcess\n       NOP\nlwc1  F4, 0x30(S1)\nc.lt.s F4, F26\n      NOP\n      NOP\nbc1tl L801147F4\n add.s F0, F4, F28\nL8011486C:\nsw    R0, 0(S4)\nli    S3, -1\nsll   S0, S2, 0x10\nL80114878:\nlui   A0, hi(D_8011E490)\nlw    A0, lo(D_8011E490)(A0)\nbeq   A0, S3, L801148C0\n       NOP\njal   GetPlayerStruct\n       NOP\nlw    A1, 0x24(V0)\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n sra   A0, S0, 0x10\nL801148C0:\njal   SleepVProcess\n       NOP\nlw    V0, 0(S4)\nbeqz  V0, L80114878\n       NOP\njal   PlaySound\n li    A0, 331\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F24\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S1)\nc.lt.s F2, F0\n      NOP\n      NOP\nbc1f  L801149C0\n mov.s F4, F0\nli    S3, 0x3F800000 ; 1.000000\nli    AT, 0x3E4C0000 ; 0.199219\nori AT, AT, 0xcccd\nmtc1  AT, F30\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F26\nsll   S0, S2, 0x10\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F28\nsub.s F0, F4, F24\nL8011492C:\nmtc1  S3, F6\n      NOP\nc.lt.s F6, F24\n      NOP\n      NOP\nbc1f  L8011494C\n swc1  F0, 0x30(S1)\nsub.s F24, F24, F30\nL8011494C:\njal   0x8008EF20\n mov.s F12, F20\nneg.s F0, F0\nswc1  F0, 0x18(S1)\njal   0x8008E3F0\n mov.s F12, F20\nadd.s F20, F20, F22\nc.lt.s F26, F20\n      NOP\n      NOP\nbc1f  L80114980\n swc1  F0, 0x20(S1)\nsub.s F20, F20, F26\nL80114980:\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n sra   A0, S0, 0x10\njal   SleepVProcess\n       NOP\nlwc1  F4, 0x30(S1)\nc.lt.s F28, F4\n      NOP\n      NOP\nbc1tl L8011492C\n sub.s F0, F4, F24\nL801149C0:\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F24\nli    S3, 0x41700000 ; 15.000000\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F30\nli    AT, 0x3F000000 ; 0.500000\nmtc1  AT, F28\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F26\nsll   S0, S2, 0x10\nfunc_801149E8:\njal   0x8008EF20\n mov.s F12, F20\nneg.s F0, F0\nswc1  F0, 0x18(S1)\njal   0x8008E3F0\n mov.s F12, F20\nadd.s F20, F20, F22\nc.lt.s F24, F20\n      NOP\n      NOP\nbc1f  L80114A1C\n swc1  F0, 0x20(S1)\nsub.s F20, F20, F24\nL80114A1C:\nmtc1  S3, F6\n      NOP\nc.lt.s F6, F22\n      NOP\n      NOP\nbc1fl L80114A3C\n sub.s F22, F22, F28\nsub.s F22, F22, F30\nL80114A3C:\nc.lt.s F22, F26\n      NOP\nbc1t  L80114A7C\n       NOP\nlwc1  F2, 0x10(S1)\nlwc1  F0, 0x30(S1)\nlw    A1, 0xc(S1)\nadd.s F0, F2, F0\nmfc1  A2, F0\nlw    A3, 0x14(S1)\njal   0x8000CFA4\n sra   A0, S0, 0x10\njal   SleepVProcess\n       NOP\nj     func_801149E8\n       NOP\nL80114A7C:\njal   0x8000D044\n move  A0, S2\nlui   A0, hi(D_80114590)\naddiu A0, A0, lo(D_80114590)\nli    A1, 18432\nmove  A2, R0\njal   InitProcess\n li    A3, 64\nmove  S0, V0\nlw    A0, 0x18(S0)\njal   0x800360F0\n li    A1, 32\nsw    V0, 0x8c(S0)\nsw    S5, 0(V0)\nsw    S1, 4(V0)\nsw    R0, 8(V0)\nsw    R0, 0xc(V0)\njal   SleepProcess\n li    A0, 3\nsw    R0, 0(S4)\njal   PlaySound\n li    A0, 589\nmove  S0, R0\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F20\nli    AT, 0x3D380000 ; 0.044922\nori AT, AT, 0x51eb\nmtc1  AT, F24\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F22\nadd.s F20, F20, F24\nL80114AFC:\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmfc1  A1, F20\nmul.s F6, F20, F22\nmfc1  A2, F6\n      NOP\njal   0x8001D558\n li    A3, 1\njal   SleepVProcess\n addiu S0, S0, 1\nslti  V0, S0, 0x14\nbnezl V0, L80114AFC\n add.s F20, F20, F24\njal   0x800D9B54\n move  A0, S1\njal   EndProcess\n move  A0, R0\nlw    RA, 0x28(SP)\nlw    S5, 0x24(SP)\nlw    S4, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F30, 0x58(SP)\nldc1  F28, 0x50(SP)\nldc1  F26, 0x48(SP)\nldc1  F24, 0x40(SP)\nldc1  F22, 0x38(SP)\nldc1  F20, 0x30(SP)\njr    RA\n addiu SP, SP, 0x60\n\ngame_guy_lucky_charm:\naddiu SP, SP, -0x68\nsw    RA, 0x50(SP)\nsw    S5, 0x4c(SP)\nsw    S4, 0x48(SP)\nsw    S3, 0x44(SP)\nsw    S2, 0x40(SP)\nsw    S1, 0x3c(SP)\nsw    S0, 0x38(SP)\nsdc1  F22, 0x60(SP)\nsdc1  F20, 0x58(SP)\nlui   S5, hi(CORE_800CD058)\njal   func_8010FE54\n addiu S5, S5, lo(CORE_800CD058)\nli    A0, -1\njal   PlayerHasItem\n li    A1, ITEM_LUCKY_CHARM\nlui   A0, hi(current_player_index)\nlb    A0, lo(current_player_index)(A0)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1) ; Clear the lucky charm item slot\nlui   A0, hi(current_player_index)\njal   FixUpPlayerItemSlots\n lb    A0, lo(current_player_index)(A0)\nlui   A0, hi(current_player_index)\njal   0x800F63F0\n lb    A0, lo(current_player_index)(A0)\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n move  A0, R0\njal   0x800F6ECC\n li    A0, -1\nli    A0, 62\njal   0x800D90C8\n move  A1, R0\nmove  S1, V0\nlw    V0, 0x3c(S1)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\njal   0x800D9714\n move  A0, S1\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\n      NOP\nswc1  F20, 0x30(S1)\njal   0x800D9B24\n move  A0, S1\nli    A0, 67\njal   0x800D90C8\n move  A1, R0\nmove  S0, V0\nlui   AT, hi(D_8011FB78)\nsw    S0, lo(D_8011FB78)(AT)\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nlui   A1, 2\njal   0x8001C2FC\n lui   A2, 2\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\njal   0x8001C448\n lh    A0, 0(V0)\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\njal   0x8001C954\n lh    A0, 0(V0)\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\njal   0x8001C514\n lh    A0, 0(V0)\njal   GetPlayerStruct\n li    A0, -1\nlw    A1, 0x24(V0)\naddiu A0, S0, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 2\njal   0x8001C814\n li    A2, 1\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S0)\njal   PlaySound\n li    A0, 331\nlwc1  F0, 0x30(S0)\nc.lt.s F20, F0\n      NOP\n      NOP\nbc1f  L80114D58\n mov.s F2, F0\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\n      NOP\nsub.s F0, F2, F22\nL80114D38:\njal   SleepVProcess\n swc1  F0, 0x30(S0)\nlwc1  F2, 0x30(S0)\nc.lt.s F20, F2\n      NOP\n      NOP\nbc1tl L80114D38\n sub.s F0, F2, F22\nL80114D58:\nlui   V1, hi(p1_char)\naddiu V1, V1, lo(p1_char)\nlbu   A2, 0(V1)\nlbu   A3, 0x38(V1)\nlbu   V0, 0x70(V1)\naddiu V0, V0, 0x1c00\nsw    V0, 0x10(SP)\nlbu   V0, 0xa8(V1)\naddiu V0, V0, 0x1c00\nsw    V0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x5C00 ; "Who\'s your opponent?"\naddiu A2, A2, 0x1c00\njal   0x800EC8EC ; ShowMessage\n addiu A3, A3, 0x1c00\nmove  A0, R0\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n move  A1, R0\njal   0x800EC6C8\n move  S2, V0\njal   0x800EC6EC\n       NOP\nbltz  S2, L80114DE0\n slti  V0, S2, 4\nbnez  V0, L80114E04\n li    V0, 1\nli    V0, 4\nbne   S2, V0, L80114DE0\n       NOP\njal   0x800EF0D8\n move  A0, R0\nj     L80114E00\n move  S2, V0\nL80114DE0:\njal   func_80106FE8\n       NOP\nli    V0, 1\nlui   AT, hi(CORE_800CB99C)\njal   0x80049FB8\n sb    V0, lo(CORE_800CB99C)(AT)\nj     L80114D58\n       NOP\nL80114E00:\nli    V0, 1\nL80114E04:\nsw    V0, 0x20(SP)\nlui   A0, hi(D_80114650)\naddiu A0, A0, lo(D_80114650)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\naddiu V1, SP, 0x20\nsw    V1, 0x8c(V0)\nlw    V0, 0x20(SP)\nbeqz  V0, L80114E48\n       NOP\nL80114E34:\njal   SleepVProcess\n       NOP\nlw    V0, 0x20(SP)\nbnez  V0, L80114E34\n       NOP\nL80114E48:\nlb    V0, 0xf(S5)\nbeq   S2, V0, L80114EC8\n move  A0, R0\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 16\nlui   AT, hi(D_8011E490)\nsw    S2, lo(D_8011E490)(AT)\njal   0x800F915C\n li    A0, 2\njal   GetPlayerStruct\n move  A0, S2\nlw    A0, 0x24(V0)\njal   0x800F9174\n addiu A0, A0, 0xc\njal   GetPlayerStruct\n move  A0, S2\nlw    A0, 0x24(V0)\njal   0x800E9748\n addiu A0, A0, 0xc\njal   SleepVProcess\n       NOP\njal   SleepProcess\n li    A0, 10\nmove  A0, R0\njal   InitFadeIn\n li    A1, 16\njal   SleepProcess\n li    A0, 16\nj     L80114EDC\n li    V0, 1\nL80114EC8:\njal   SleepProcess\n li    A0, 30\nlui   AT, hi(D_8011E490)\nsw    S2, lo(D_8011E490)(AT)\nli    V0, 1\nL80114EDC:\nsw    V0, 0x20(SP)\nL80114EE0:\njal   SleepVProcess\n       NOP\nlw    V0, 0x20(SP)\nbnez  V0, L80114EE0\n       NOP\njal   GetPlayerStruct\n move  A0, S2\nlw    S3, 0x24(V0)\nlui   A1, 0x40a0\nlui   A2, 0x4000\njal   0x800EDB98\n move  A0, S1\nmove  S4, V0\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, S3, 0xc\njal   0x800D9A40\n move  A0, S1\nmtc1  R0, F0\n      NOP\nswc1  F0, 0x2c(S1)\nswc1  F0, 0x28(S1)\nswc1  F0, 0x24(S1)\nli    AT, 0x3E4C0000 ; 0.199219\nori AT, AT, 0xcccd\nmtc1  AT, F22\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nL80114F50:\nlwc1  F0, 0x2c(S1)\nadd.s F0, F0, F22\nswc1  F0, 0x2c(S1)\nswc1  F0, 0x28(S1)\njal   SleepVProcess\n swc1  F0, 0x24(S1)\nlwc1  F0, 0x24(S1)\nc.lt.s F0, F20\n      NOP\n      NOP\nbc1t  L80114F50\n sll   A0, S2, 0x10\nsra   A0, A0, 0x10\njal   0x800FF900\n li    A1, 4\njal   PlaySound\n li    A0, 673\nsll   V0, S2, 3\nsubu  V0, V0, S2\nsll   S0, V0, 3\nlui   V0, hi(p1_coins)\naddu  V0, V0, S0\nlh    V0, lo(p1_coins)(V0)\nbeqz  V0, L801150F4\n li    A1, 0x2F00 ; "It\'s time for a Game Guy Mini-Game! First I\'ll take all your coins"\nli    A0, 10\nli    A2, -1\njal   func_8010A3B8\n move  A3, S2\nlui   V0, hi(p1_coins)\naddu  V0, V0, S0\nlhu   V0, lo(p1_coins)(V0)\nlui   AT, hi(CORE_800D110E)\naddu  AT, AT, S0\nsh    V0, lo(CORE_800D110E)(AT)\nlui   A1, hi(p1_coins)\naddu  A1, A1, S0\nlh    A1, lo(p1_coins)(A1)\nmove  A0, S2\njal   ShowPlayerCoinChange\n subu  A1, R0, A1\nlui   A1, hi(p1_coins)\naddu  A1, A1, S0\nlh    A1, lo(p1_coins)(A1)\nmove  A0, S2\njal   AdjustPlayerCoinsGradual\n subu  A1, R0, A1\njal   SleepProcess\n li    A0, 30\nli    A0, 10\nli    A1, 0x2F02 ; "We\'re off to Game Guy\'s Game Room"\nli    A2, -1\njal   func_8010A3B8\n move  A3, S2\njal   EndProcess\n move  A0, S4\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S1)\nc.le.s F2, F0\n      NOP\n      NOP\nbc1f  L80115084\n mov.s F4, F0\nli    AT, 0x40000000 ; 2.000000\nmtc1  AT, F22\nli    AT, 0x41200000 ; 10.000000\nmtc1  AT, F20\nsub.s F0, F4, F22\nL80115064:\njal   SleepVProcess\n swc1  F0, 0x30(S1)\nlwc1  F4, 0x30(S1)\nc.le.s F20, F4\n      NOP\n      NOP\nbc1tl L80115064\n sub.s F0, F4, F22\nL80115084:\njal   SleepProcess\n li    A0, 30\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S1)\nc.lt.s F0, F2\n      NOP\n      NOP\nbc1f  L801151B8\n mov.s F4, F0\nli    AT, 0x40800000 ; 4.000000\nmtc1  AT, F20\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F22\nadd.s F0, F4, F20\nL801150C0:\nswc1  F0, 0x30(S1)\nlwc1  F0, 0x30(S3)\nadd.s F0, F0, F20\njal   SleepVProcess\n swc1  F0, 0x30(S3)\nlwc1  F4, 0x30(S1)\nc.lt.s F4, F22\n      NOP\n      NOP\nbc1tl L801150C0\n add.s F0, F4, F20\nj     L801151BC\n sll   A0, S2, 0x10\nL801150F4:\nli    A0, 10\nli    A1, 12033\nli    A2, -1\njal   func_8010A3B8\n move  A3, S2\njal   EndProcess\n move  A0, S4\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S1)\nc.le.s F0, F2\n      NOP\n      NOP\nbc1f  L80115164\n mov.s F4, F0\nli    AT, 0x40800000 ; 4.000000\nmtc1  AT, F22\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F20\nadd.s F0, F4, F22\nL80115144:\njal   SleepVProcess\n swc1  F0, 0x30(S1)\nlwc1  F4, 0x30(S1)\nc.le.s F4, F20\n      NOP\n      NOP\nbc1tl L80115144\n add.s F0, F4, F22\nL80115164:\njal   0x800D9B54\n move  A0, S1\nli    A0, 9\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 17\njal   0x800F915C\n li    A0, 1\njal   GetPlayerStruct\n li    A0, -1\nlw    A0, 0x24(V0)\njal   0x800E9748\n addiu A0, A0, 0xc\njal   SleepProcess\n li    A0, 5\nli    A0, 9\njal   InitFadeIn\n li    A1, 16\nj     L80115458\n li    A0, 17\nL801151B8:\nsll   A0, S2, 0x10\nL801151BC:\njal   PlayerIsCPU\n sra   A0, A0, 0x10\nbeqz  V0, L80115374\n       NOP\nlb    V0, 0x16(S5)\nbeqz  V0, L80115374\n li    A0, 9\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 17\njal   0x800D9B54\n move  A0, S1\nmove  A0, S3\nmove  A1, R0\njal   0x800EE688\n move  A2, A1\nsw    R0, 0x30(S3)\njal   SleepProcess\n li    A0, 5\nli    A0, 9\njal   InitFadeIn\n li    A1, 16\njal   SleepProcess\n li    A0, 17\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F12\njal   0x800EEF80\n       NOP\naddiu A0, V0, 1\nmove  V1, R0\nsll   V0, V1, 2\nL8011523C:\nlui   AT, hi(D_8011E49E)\naddu  AT, AT, V0\nlhu   V0, lo(D_8011E49E)(AT)\nslt   V0, V0, A0\nbeqz  V0, L80115264\n sll   V0, V1, 2\naddiu V1, V1, 1\nslti  V0, V1, 7\nbnez  V0, L8011523C\n sll   V0, V1, 2\nL80115264:\nlui   V1, hi(D_8011E49C)\naddu  V1, V1, V0\nlhu   V1, lo(D_8011E49C)(V1)\nbeqz  V1, L80115314\n sll   V0, S2, 3\nsubu  V0, V0, S2\nsll   V0, V0, 3\nlui   S1, hi(CORE_800D110E)\naddu  S1, S1, V0\nlh    S1, lo(CORE_800D110E)(S1)\nmult  S1, V1\nmflo  S1\nslti  V0, S1, 0x3e8\n      NOP\nbeql  V0, R0, L801152A4\n li    S1, 999\nL801152A4:\naddiu S0, SP, 0x28\nmove  A0, S0\nlui   A1, hi(percent_d_str_format)\naddiu A1, A1, lo(percent_d_str_format)\njal   sprintf\n move  A2, S1\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x2F03 ; "Wow you earned X coins playing my Mini-Game!"\nmove  A2, S0\njal   0x800EC8EC ; ShowMessage\n move  A3, R0\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\nmove  A0, S2\njal   ShowPlayerCoinChange\n move  A1, S1\nmove  A0, S2\njal   AdjustPlayerCoinsGradual\n move  A1, S1\njal   SleepProcess\n li    A0, 20\nj     L80115320\n       NOP\nL80115314:\nli    A0, -1\njal   0x800EC590\n li    A1, 12036\nL80115320:\njal   SleepProcess\n li    A0, 10\nli    A0, 9\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 17\njal   0x800F915C\n li    A0, 1\njal   GetPlayerStruct\n li    A0, -1\nlw    A0, 0x24(V0)\njal   0x800E9748\n addiu A0, A0, 0xc\njal   SleepProcess\n li    A0, 5\nli    A0, 9\njal   InitFadeIn\n li    A1, 16\nj     L80115458\n li    A0, 17\nL80115374:\nlb    A0, 0xf(S5)\njal   0x800DEB2C\n       NOP\nli    V1, 3\nbne   V0, V1, L8011539C\n       NOP\njal   0x80035FDC\n li    A0, 23\nj     L801153A8\n move  V1, R0\nL8011539C:\njal   0x8003602C\n li    A0, 23\nmove  V1, R0\nL801153A8:\nli    A0, 1\nsll   V0, V1, 3\nL801153B0:\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(player_structs)\naddu  AT, AT, V0\nsb    A0, lo(player_structs)(AT)\naddiu V1, V1, 1\nslti  V0, V1, 4\nbnez  V0, L801153B0\n sll   V0, V1, 3\njal   GetPlayerStruct\n move  A0, S2\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F12\n      NOP\njal   0x800EEF80\n sb    R0, 0(V0)\nmove  A0, V0\nmove  V1, R0\nL801153F8:\nlui   V0, hi(D_8011E498)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E498)(V0)\nslt   V0, A0, V0\nbnez  V0, L80115420\n li    V0, 3\naddiu V1, V1, 1\nsltiu V0, V1, 3\nbnez  V0, L801153F8\n li    V0, 3\nL80115420:\nbeql  V1, V0, L80115428\n li    V1, 2\nL80115428:\nlui   V0, hi(D_8011E494)\naddu  V0, V0, V1\nlbu   V0, lo(D_8011E494)(V0)\nsb    V0, 0x10(S5)\nlui   AT, hi(CORE_800CD0B2)\njal   0x800FC998\n sh    S2, lo(CORE_800CD0B2)(AT)\njal   0x8004A0E0\n       NOP\njal   0x800FF7F0\n li    A0, 2\nli    A0, -1\nL80115458:\njal   SleepProcess\n       NOP\nlw    RA, 0x50(SP)\nlw    S5, 0x4c(SP)\nlw    S4, 0x48(SP)\nlw    S3, 0x44(SP)\nlw    S2, 0x40(SP)\nlw    S1, 0x3c(SP)\nlw    S0, 0x38(SP)\nldc1  F22, 0x60(SP)\nldc1  F20, 0x58(SP)\njr    RA\n addiu SP, SP, 0x68\n\nfunc_8011548C:\naddiu SP, SP, -0x40\nsw    RA, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nsdc1  F22, 0x38(SP)\nsdc1  F20, 0x30(SP)\nmove  S2, A0\nmove  S0, A1\nmove  S1, A2\nsll   A0, S2, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\naddiu A2, SP, 0x10\njal   0x800F6748\n addiu A3, SP, 0x14\nlwc1  F2, 0(S1)\nlwc1  F0, 0x10(SP)\nsub.s F22, F2, F0\nmtc1  S0, F4\n      NOP\ncvt.s.w F4, F4\ndiv.s F22, F22, F4\nlwc1  F2, 4(S1)\nlwc1  F0, 0x14(SP)\nsub.s F20, F2, F0\nbeqz  S0, L80115560\n div.s F20, F20, F4\nsll   S3, S2, 0x10\nL80115504:\nlwc1  F2, 0x10(SP)\nadd.s F2, F22, F2\nswc1  F2, 0x10(SP)\nlwc1  F0, 0x14(SP)\nadd.s F0, F20, F0\nswc1  F0, 0x14(SP)\ntrunc.w.s F4, F2\nmfc1  A2, F4\n      NOP\nsll   A2, A2, 0x10\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nsra   A0, S3, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\njal   SleepVProcess\n addiu S0, S0, -1\nbnez  S0, L80115504\n       NOP\nL80115560:\nsll   A0, S2, 0x10\nlwc1  F0, 0(S1)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlwc1  F0, 4(S1)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nsra   A0, A0, 0x10\nmove  A1, R0\nsra   A2, A2, 0x10\njal   0x80054904\n sra   A3, A3, 0x10\nlw    RA, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\nldc1  F22, 0x38(SP)\nldc1  F20, 0x30(SP)\njr    RA\n addiu SP, SP, 0x40\n\nfunc_801155C4:\naddiu SP, SP, -0x28\nsw    RA, 0x24(SP)\nsw    S4, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\njal   0x8004EE68\n sw    S0, 0x10(SP)\nlw    S1, 0x8c(V0)\nbeqz  S1, L80115604\n li    S3, 10\nli    V0, 1\nbeq   S1, V0, L8011562C\n sll   V0, S1, 2\nj     L80115650\n move  A1, R0\nL80115604:\nsll   V0, S1, 2\nlui   A0, hi(D_8011FB82)\naddu  A0, A0, V0\nlh    A0, lo(D_8011FB82)(A0)\nmove  A1, R0\nli    A2, 177\njal   0x80054904\n li    A3, 44\nj     L80115670\n sll   V0, S1, 2\nL8011562C:\nlui   A0, hi(D_8011FB82)\naddu  A0, A0, V0\nlh    A0, lo(D_8011FB82)(A0)\nmove  A1, R0\nli    A2, 122\njal   0x80054904\n li    A3, 57\nj     L80115670\n sll   V0, S1, 2\nL80115650:\nlui   A0, hi(D_8011FB82)\naddu  A0, A0, V0\nlh    A0, lo(D_8011FB82)(A0)\nli    A2, 160\njal   0x80054904\n li    A3, 152\nli    S3, 30\nsll   V0, S1, 2\nL80115670:\nlui   A0, hi(D_8011FB82)\naddu  A0, A0, V0\nlh    A0, lo(D_8011FB82)(A0)\nmove  A1, R0\njal   0x8005532C\n li    A2, 32768\nmove  S0, R0\nlui   V1, hi(D_8011FB80)\naddiu V1, V1, lo(D_8011FB80)\nsll   V0, S1, 2\naddu  S4, V0, V1\nli    S2, 255\nL801156A0:\nlh    A0, 2(S4)\nmove  A1, R0\njal   0x80055458\n andi  A2, S0, 0xffff\njal   SleepVProcess\n       NOP\ndiv   S2, S3\nbnez  S3, L801156C8\n       NOP\n.word 0x0007000D ; break 7\nL801156C8:\nli    AT, -1\nbne   S3, AT, L801156E0\n lui   AT, 0x8000\nbne   S2, AT, L801156E0\n       NOP\n.word 0x0006000D; break 6\nL801156E0:\nmflo  V0\naddu  S0, S0, V0\nslti  V0, S0, 0xff\nbnez  V0, L801156A0\n sll   V0, S1, 2\nlui   A0, hi(D_8011FB82)\naddu  A0, A0, V0\nlh    A0, lo(D_8011FB82)(A0)\nmove  A1, R0\njal   0x80055458\n li    A2, 255\njal   EndProcess\n move  A0, R0\nlw    RA, 0x24(SP)\nlw    S4, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x28\n\nfunc_80115734:\naddiu SP, SP, -0x48\nsw    RA, 0x44(SP)\nsw    S2, 0x40(SP)\nsw    S1, 0x3c(SP)\nsw    S0, 0x38(SP)\nmove  S1, R0\nlui S2, 0x8888\nori S2, S2, 0x8889\nsll   V0, S1, 1\nL80115758:\naddu  V0, V0, S1\nlui   V1, hi(D_8011E4B8)\naddu  V1, V1, V0\nlbu   V1, lo(D_8011E4B8)(V1)\nsw    V1, 0x18(SP)\nlui   A1, hi(D_8011E4B9)\naddu  A1, A1, V0\nlbu   A1, lo(D_8011E4B9)(A1)\nsw    A1, 0x1c(SP)\nlui   A2, hi(D_8011E4BA)\naddu  A2, A2, V0\nlbu   A2, lo(D_8011E4BA)(A2)\nsw    A2, 0x20(SP)\naddiu V0, S1, 1\nsll   A0, V0, 1\naddu  A0, A0, V0\nlui   V0, hi(D_8011E4B8)\naddu  V0, V0, A0\nlbu   V0, lo(D_8011E4B8)(V0)\nsubu  V0, V0, V1\nmult  V0, S2\nmfhi  T0\naddu  V1, T0, V0\nsra   V1, V1, 4\nsra   V0, V0, 0x1f\nsubu  V1, V1, V0\nsw    V1, 0x28(SP)\nlui   V0, hi(D_8011E4B9)\naddu  V0, V0, A0\nlbu   V0, lo(D_8011E4B9)(V0)\nsubu  V0, V0, A1\nmult  V0, S2\nmfhi  T0\naddu  V1, T0, V0\nsra   V1, V1, 4\nsra   V0, V0, 0x1f\nsubu  V1, V1, V0\nsw    V1, 0x2c(SP)\nlui   V0, hi(D_8011E4BA)\naddu  V0, V0, A0\nlbu   V0, lo(D_8011E4BA)(V0)\nsubu  V0, V0, A2\nmult  V0, S2\nmfhi  T0\naddu  V1, T0, V0\nsra   V1, V1, 4\nsra   V0, V0, 0x1f\nsubu  V1, V1, V0\nsw    V1, 0x30(SP)\nmove  S0, R0\nL80115820:\nlui   A0, hi(D_8011FB8E)\nlh    A0, lo(D_8011FB8E)(A0)\nlbu   A2, 0x1b(SP)\nlbu   A3, 0x1f(SP)\nlbu   V0, 0x23(SP)\nsw    V0, 0x10(SP)\njal   0x80055420\n move  A1, R0\nlw    V0, 0x18(SP)\nlw    V1, 0x28(SP)\naddu  V0, V0, V1\nsw    V0, 0x18(SP)\nlw    V0, 0x1c(SP)\nlw    V1, 0x2c(SP)\naddu  V0, V0, V1\nsw    V0, 0x1c(SP)\nlw    V0, 0x20(SP)\nlw    V1, 0x30(SP)\naddu  V0, V0, V1\njal   SleepVProcess\n sw    V0, 0x20(SP)\naddiu S0, S0, 1\nslti  V0, S0, 0x1e\nbnez  V0, L80115820\n       NOP\nlui   A0, hi(D_8011FB8E)\nlh    A0, lo(D_8011FB8E)(A0)\naddiu S0, S1, 1\nsll   V0, S0, 1\naddu  V0, V0, S0\nlui   A2, hi(D_8011E4B8)\naddu  A2, A2, V0\nlbu   A2, lo(D_8011E4B8)(A2)\nlui   A3, hi(D_8011E4B9)\naddu  A3, A3, V0\nlbu   A3, lo(D_8011E4B9)(A3)\nlui   AT, hi(D_8011E4BA)\naddu  AT, AT, V0\nlbu   V0, lo(D_8011E4BA)(AT)\nsw    V0, 0x10(SP)\njal   0x80055420\n move  A1, R0\njal   SleepProcess\n li    A0, 10\nmove  S1, S0\nblez  S1, L80115758\n sll   V0, S1, 1\njal   EndProcess\n move  A0, R0\nlw    RA, 0x44(SP)\nlw    S2, 0x40(SP)\nlw    S1, 0x3c(SP)\nlw    S0, 0x38(SP)\njr    RA\n addiu SP, SP, 0x48\n\nD_801158FC:\naddiu SP, SP, -0x48\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F28, 0x40(SP)\nsdc1  F26, 0x38(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\njal   0x8004EE68\n sdc1  F20, 0x20(SP)\nlw    S1, 0x8c(V0)\njal   PlaySound\n li    A0, 323\nlui   S0, hi(D_8011FB90)\nlw    S0, lo(D_8011FB90)(S0)\njal   0x800D9A40\n move  A0, S0\nmtc1  R0, F22\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nlui   AT, hi(D_8011F970)\nldc1  F24, lo(D_8011F970)(AT)\nli    AT, 0x41900000 ; 18.000000\nmtc1  AT, F26\nL80115968:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S0, 0x24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F28\ncvt.d.s F0, F20\nadd.d F0, F0, F24\ncvt.s.d F20, F0\nc.lt.s F20, F26\n      NOP\n      NOP\nbc1t  L80115968\n li    V0, 1\nlw    V1, 0(S1)\nbeq   V1, V0, L80115A3C\n       NOP\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F24\nli    S2, 1\nL801159F4:\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F24\nlw    V0, 0(S1)\nbne   V0, S2, L801159F4\n       NOP\nL80115A3C:\nli    AT, 0x42200000 ; 40.000000\nmtc1  AT, F0\n      NOP\nc.lt.s F20, F0\n      NOP\nbc1f  L80115AE0\n       NOP\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F28\nlui   AT, hi(D_8011F978)\nldc1  F24, lo(D_8011F978)(AT)\nli    AT, 0x42200000 ; 40.000000\nmtc1  AT, F26\nL80115A70:\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, S0, 0x24\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F28\ncvt.d.s F0, F20\nadd.d F0, F0, F24\ncvt.s.d F20, F0\nc.lt.s F20, F26\n      NOP\nbc1t  L80115A70\n       NOP\nL80115AE0:\nlw    V1, 0(S1)\nli    V0, 2\nbeq   V1, V0, L80115B44\n       NOP\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F20\nli    S2, 2\nL80115AFC:\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    V0, 0(V0)\nsll   A0, V0, 1\naddu  A0, A0, V0\nsll   A0, A0, 6\nlui   V0, hi(CORE_800D03F8)\nlw    V0, lo(CORE_800D03F8)(V0)\naddu  A0, A0, V0\nmfc1  A1, F22\n      NOP\njal   0x8008A430\n addiu A0, A0, 0x74\njal   SleepVProcess\n add.s F22, F22, F20\nlw    V0, 0(S1)\nbne   V0, S2, L80115AFC\n       NOP\nL80115B44:\njal   0x800D9B54\n move  A0, S0\njal   EndProcess\n move  A0, R0\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F28, 0x40(SP)\nldc1  F26, 0x38(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x48\n\nD_80115B80:\naddiu SP, SP, -0x98\nsw    RA, 0x68(SP)\nsw    S7, 0x64(SP)\nsw    S6, 0x60(SP)\nsw    S5, 0x5c(SP)\nsw    S4, 0x58(SP)\nsw    S3, 0x54(SP)\nsw    S2, 0x50(SP)\nsw    S1, 0x4c(SP)\nsw    S0, 0x48(SP)\nsdc1  F28, 0x90(SP)\nsdc1  F26, 0x88(SP)\nsdc1  F24, 0x80(SP)\nsdc1  F22, 0x78(SP)\nsdc1  F20, 0x70(SP)\nlui   S5, hi(CORE_800CD058)\naddiu S5, S5, lo(CORE_800CD058)\nli    A0, 1\njal   0x8005279C\n move  A1, R0\nsll   V0, V0, 0x10\nlui   A0, hi(CORE_801019C4)\nlw    A0, lo(CORE_801019C4)(A0)\njal   ReadMainFS\n sra   S4, V0, 0x10\nmove  S2, V0\njal   ImgPackParse\n move  A0, S2\nsll   V0, V0, 0x10\nsra   S7, V0, 0x10\njal   FreeMainFS\n move  A0, S2\nmove  S0, S4\nmove  A0, S0\nmove  A1, R0\nmove  A2, S7\njal   0x80055024\n move  A3, R0\nmove  A0, S0\nmove  A1, R0\njal   0x80055294\n li    A2, 18294\nmove  A0, S0\nmove  A1, R0\njal   0x800553A8\n li    A2, 4096\nmove  S3, R0\nlui   S6, hi(D_8011FB80)\naddiu S6, S6, lo(D_8011FB80)\nli    A0, 1\nL80115C48:\njal   0x8005279C\n move  A1, R0\nsll   S0, S3, 2\naddu  S1, S0, S6\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0(S1)\naddiu V0, S3, 0x1bb\nlui   A0, 0x13\njal   ReadMainFS\n or    A0, V0, A0\nmove  S2, V0\njal   ImgPackParse\n move  A0, S2\naddiu V1, SP, 0x18\naddu  S0, S0, V1\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0(S0)\njal   FreeMainFS\n move  A0, S2\nlh    A0, 2(S1)\nmove  A1, R0\nlh    A2, 2(S0)\njal   0x80055024\n move  A3, R0\nlh    A0, 2(S1)\nmove  A1, R0\njal   0x80055294\n li    A2, 18304\nlh    A0, 2(S1)\nmove  A1, R0\njal   0x800553A8\n li    A2, 38924\nlh    A0, 2(S1)\nmove  A1, R0\njal   0x80055458\n move  A2, R0\nlh    A0, 2(S1)\nsw    R0, 0x10(SP)\nmove  A1, R0\nli    A2, 255\njal   0x80055420\n li    A3, 255\naddiu S3, S3, 1\nslti  V0, S3, 4\nbnezl V0, L80115C48\n li    A0, 1\nli    A0, 70\njal   0x800D90C8\n move  A1, R0\nmove  S0, V0\nlui   AT, hi(D_8011FB90)\nsw    S0, lo(D_8011FB90)(AT)\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 384\njal   0x8001C258\n move  A2, R0\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001C8E4\n li    A1, 0x1800\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\njal   0x8001C448\n move  S1, S4\nlw    V0, 0x3c(S0)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\njal   GetPlayerStruct\n li    A0, -1\nlw    A1, 0x24(V0)\naddiu A0, S0, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\njal   0x800D9714\n move  A0, S0\njal   0x800D9B24\n move  A0, S0\nlui   A0, hi(CORE_8010570C)\nlh    A0, lo(CORE_8010570C)(A0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 0x8000\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S5)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S5)\nmove  A1, V0\naddiu A2, SP, 0x30\njal   0x800F6E4C\n addiu A3, SP, 0x34\nmove  A0, S1\nlh    A2, 0x32(SP)\nlh    A3, 0x36(SP)\njal   0x80054904\n move  A1, R0\nli    AT, 0x43200000 ; 160.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x28(SP)\nli    AT, 0x42980000 ; 76.000000\nmtc1  AT, F20\n      NOP\nswc1  F20, 0x2c(SP)\njal   PlaySound\n li    A0, 325\naddiu S0, SP, 0x28\nmove  A0, S4\nli    A1, 30\njal   func_8011548C\n move  A2, S0\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S5)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n lb    A0, 0xf(S5)\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n move  A0, R0\njal   0x800F6ECC\n li    A0, -1\njal   SleepProcess\n li    A0, 30\nli    AT, 0x434B0000 ; 203.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x28(SP)\nli    AT, 0x42300000 ; 44.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x2c(SP)\nmove  A0, S4\nli    A1, 10\njal   func_8011548C\n move  A2, S0\nlui   A0, hi(func_801155C4)\naddiu A0, A0, lo(func_801155C4)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S2, V0\njal   0x8004EE68\n sw    R0, 0x8c(S2)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S2\nlwc1  F0, 0x28(SP)\nsub.s F0, F0, F20\nswc1  F0, 0x28(SP)\njal   PlaySound\n li    A0, 333\nmove  A0, S4\nli    A1, 10\njal   func_8011548C\n move  A2, S0\njal   0x8004EE18\n       NOP\njal   SleepProcess\n li    A0, 10\nlui   A0, hi(func_801155C4)\naddiu A0, A0, lo(func_801155C4)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S2, V0\nli    V0, 1\njal   0x8004EE68\n sw    V0, 0x8c(S2)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S2\nlwc1  F0, 0x2c(SP)\nli    AT, 0x42800000 ; 64.000000\nmtc1  AT, F2\n      NOP\nadd.s F0, F0, F2\nswc1  F0, 0x2c(SP)\njal   PlaySound\n li    A0, 333\nmove  A0, S4\nli    A1, 10\njal   func_8011548C\n move  A2, S0\njal   0x8004EE18\n       NOP\njal   SleepProcess\n li    A0, 10\njal   PlaySound\n li    A0, 334\nmove  A0, S1\nmove  A1, R0\naddiu A2, SP, 0x38\njal   0x800F6748\n addiu A3, SP, 0x3c\nmtc1  R0, F20\nmove  S1, R0\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F22\nadd.s F0, F20, F20\nL80115FCC:\nli    AT, 0x43870000 ; 270.000000\nmtc1  AT, F12\n      NOP\njal   0x8008E3F0\n add.s F12, F0, F12\nli    AT, 0x42A00000 ; 80.000000\nmtc1  AT, F2\n      NOP\nmul.s F0, F0, F2\nlwc1  F2, 0x38(SP)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  S0, F2\n      NOP\nsll   S0, S0, 0x10\nsra   S0, S0, 0x10\njal   0x8008E3F0\n mov.s F12, F20\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\nsub.s F2, F2, F0\nmul.s F2, F2, F22\nlwc1  F0, 0x3c(SP)\nadd.s F2, F2, F0\ntrunc.w.s F0, F2\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S4\nmove  A1, R0\nmove  A2, S0\njal   0x80054904\n sra   A3, A3, 0x10\nli    AT, 0x42580000 ; 54.000000\nmtc1  AT, F0\n      NOP\nc.lt.s F0, F20\n      NOP\n      NOP\nbc1t  L80116078\n li    V1, 1\nmove  V1, R0\nL80116078:\nsltiu V0, S1, 1\nand   V0, V1, V0\nbeqz  V0, L801160BC\n li    A1, 16386\nli    S1, 1\nlui   A0, hi(func_801155C4)\naddiu A0, A0, lo(func_801155C4)\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  S2, V0\nli    V0, 2\njal   0x8004EE68\n sw    V0, 0x8c(S2)\nmove  A0, V0\njal   0x8004ED30\n move  A1, S2\nL801160BC:\njal   SleepVProcess\n       NOP\nli   AT, 0x40660000 ; 3.593750\nori  AT, AT, 0x6666\nmtc1 AT, F0\n      NOP\nadd.s F20, F20, F0\nc.lt.s F20, F22\n      NOP\n      NOP\nbc1tl L80115FCC\n add.s F0, F20, F20\nli    AT, 0x43E10000 ; 450.000000\nmtc1  AT, F12\n      NOP\njal   0x8008E3F0\n sll   S1, S4, 0x10\nli    AT, 0x42A00000 ; 80.000000\nmtc1  AT, F2\n      NOP\nmul.s F0, F0, F2\nlwc1  F2, 0x38(SP)\nadd.s F0, F0, F2\ntrunc.w.s F2, F0\nmfc1  S0, F2\n      NOP\nsll   S0, S0, 0x10\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F12\n      NOP\njal   0x8008E3F0\n sra   S0, S0, 0x10\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F2\n      NOP\nsub.s F2, F2, F0\nli    AT, 0x42B40000 ; 90.000000\nmtc1  AT, F0\n      NOP\nmul.s F2, F2, F0\nlwc1  F0, 0x3c(SP)\nadd.s F2, F2, F0\ntrunc.w.s F0, F2\nmfc1  A3, F0\n      NOP\nsll   A3, A3, 0x10\nmove  A0, S4\nmove  A1, R0\nmove  A2, S0\njal   0x80054904\n sra   A3, A3, 0x10\nli    S0, 255\nsra   A0, S1, 0x10\nL80116190:\nmove  A1, R0\njal   0x80055458\n andi  A2, S0, 0xffff\njal   SleepVProcess\n addiu S0, S0, -0x19\nbgtz  S0, L80116190\n sra   A0, S1, 0x10\njal   0x800525C8\n move  A0, S4\njal   FreeGraphics\n move  A0, S7\njal   0x8004EE18\n move  S3, R0\nlui   S0, hi(D_8011FB80)\naddiu S0, S0, lo(D_8011FB80)\nsll   V0, S3, 2\nL801161D0:\naddu  V0, V0, S0\nlh    A0, 2(V0)\nmove  A1, R0\njal   0x800553A8\n li    A2, 32768\naddiu S3, S3, 1\nslti  V0, S3, 3\nbnez  V0, L801161D0\n sll   V0, S3, 2\nlui   A0, hi(D_8011FB8E)\nlh    A0, lo(D_8011FB8E)(A0)\nmove  A1, R0\njal   0x8005532C\n li    A2, 32768\nlui   A0, hi(D_8011FB8E)\nlh    A0, lo(D_8011FB8E)(A0)\nmove  A1, R0\njal   0x80055458\n li    A2, 255\nlui   A0, hi(D_8011FB8E)\nlh    A0, lo(D_8011FB8E)(A0)\nmove  A1, R0\nli    A2, 160\njal   0x80054904\n li    A3, 120\njal   0x8004EE68\n move  S3, R0\nmove  S0, V0\nlui   A0, hi(func_80115734)\naddiu A0, A0, lo(func_80115734)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\nsw    R0, 0x40(SP)\nlui   A0, hi(D_801158FC)\naddiu A0, A0, lo(D_801158FC)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\naddiu V1, SP, 0x40\njal   0x8004EE18\n sw    V1, 0x8c(V0)\njal   PlaySound\n li    A0, 335\nli    A0, -1\nli    A1, 4\njal   0x800FFA4C\n li    A2, 5\nmove  S1, V0\nli    AT, 0x40000000 ; 2.000000\nmtc1  AT, F28\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F24\nli    AT, 0x40400000 ; 3.000000\nmtc1  AT, F26\nli    S0, 1\nL801162C4:\nmtc1  S3, F22\n      NOP\ncvt.s.w F22, F22\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F20, F0, F28\nadd.s F20, F20, F24\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F0, F0, F26\nlui   A0, hi(D_8011FB8E)\nlh    A0, lo(D_8011FB8E)(A0)\nmfc1  A2, F20\nadd.s F0, F0, F24\nmfc1  A3, F0\n      NOP\njal   0x800551D8\n move  A1, R0\nslti  V0, S3, 0x5a1\nbeql  V0, R0, L80116318\n sw    S0, 0x40(SP)\nL80116318:\njal   SleepVProcess\n addiu S3, S3, 0x32\nslti  V0, S3, 0xb41\nbnez  V0, L801162C4\n       NOP\njal   PlaySound\n li    A0, 297\nli    A0, 255\nli    A1, 255\njal   0x800620C8\n li    A2, 255\nli    A0, 11\njal   InitFadeOut\n li    A1, 50\njal   0x800FFAEC\n move  A0, S1\nmtc1  R0, F20\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F22\nfunc_80116368:\njal   GetFadeStatus\n       NOP\nbeqz  V0, L801163A4\n       NOP\nlui   A0, hi(D_8011FB8E)\nlh    A0, lo(D_8011FB8E)(A0)\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x800551D8\n move  A1, R0\njal   SleepVProcess\n       NOP\nj     func_80116368\n add.s F20, F20, F22\nL801163A4:\njal   GetFadeStatus\n       NOP\nbeqz  V0, L801163C4\n li    V0, 2\njal   SleepVProcess\n       NOP\nj     L801163A4\n       NOP\nL801163C4:\nsw    V0, 0x40(SP)\nmove  S3, R0\nlui   S2, hi(D_8011FB80)\naddiu S2, S2, lo(D_8011FB80)\naddiu S1, SP, 0x18\nsll   S0, S3, 2\nL801163DC:\naddu  V0, S0, S2\nlh    A0, 2(V0)\njal   0x800525C8\n addu  S0, S0, S1\nlh    A0, 2(S0)\njal   FreeGraphics\n addiu S3, S3, 1\nslti  V0, S3, 4\nbnez  V0, L801163DC\n sll   S0, S3, 2\nli    A0, 11\njal   InitFadeIn\n li    A1, 90\nL80116410:\njal   GetFadeStatus\n       NOP\nbeqz  V0, L80116430\n       NOP\njal   SleepVProcess\n       NOP\nj     L80116410\n       NOP\nL80116430:\njal   0x800EC414\n li    A0, 14883\nli    V0, 2\nlui   AT, hi(CORE_800CD0AA)\nsh    V0, lo(CORE_800CD0AA)(AT)\nlw    RA, 0x68(SP)\nlw    S7, 0x64(SP)\nlw    S6, 0x60(SP)\nlw    S5, 0x5c(SP)\nlw    S4, 0x58(SP)\nlw    S3, 0x54(SP)\nlw    S2, 0x50(SP)\nlw    S1, 0x4c(SP)\nlw    S0, 0x48(SP)\nldc1  F28, 0x90(SP)\nldc1  F26, 0x88(SP)\nldc1  F24, 0x80(SP)\nldc1  F22, 0x78(SP)\nldc1  F20, 0x70(SP)\njr    RA\n addiu SP, SP, 0x98\n\nfunc_8011667C:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S1, A0\nlui   V1, hi(D_8011FBA8)\naddiu V1, V1, lo(D_8011FBA8)\nsll   V0, S1, 2\naddu  S0, V0, V1\nlw    A0, 0(S0)\nbeqz  A0, L801166B8\n       NOP\njal   0x800479AC\n       NOP\nsw    R0, 0(S0)\nL801166B8:\nlui   V1, hi(D_8011FB98)\naddiu V1, V1, lo(D_8011FB98)\nsll   V0, S1, 2\naddu  S0, V0, V1\nlw    A0, 0(S0)\nbeqz  A0, L801166E0\n       NOP\njal   0x800D9B54\n       NOP\nsw    R0, 0(S0)\nL801166E0:\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nD_801166F4:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, R0\nlui   S2, hi(D_8011FBA8)\naddiu S2, S2, lo(D_8011FBA8)\nsll   V0, S0, 2\nL80116718:\naddu  S1, V0, S2\nlw    A0, 0(S1)\nbeqz  A0, L80116734\n addiu S0, S0, 1\njal   0x800479AC\n       NOP\nsw    R0, 0(S1)\nL80116734:\nslti  V0, S0, 4\nbnez  V0, L80116718\n sll   V0, S0, 2\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nD_80116758:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, A0\nlw    S1, 0x4c(S0)\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nli    V0, 4\nbne   V1, V0, L801167BC\n       NOP\nlw    V0, 0x54(S0)\nbnez  V0, L801167BC\n       NOP\nlw    V0, 0x50(S0)\nbnez  V0, L801167AC\n addiu V0, V0, -1\nli    V0, 40\nj     L801168EC\n sw    V0, 0x50(S0)\nL801167AC:\nbnez  V0, L801168EC\n sw    V0, 0x50(S0)\nli    V0, 1\nsw    V0, 0x54(S0)\nL801167BC:\njal   GetPlayerStruct\n move  A0, S1\nmove  S2, V0\nsll   V0, S1, 2\nlui   S1, hi(D_8011FB98)\naddu  S1, S1, V0\nlw    S1, lo(D_8011FB98)(S1)\nlw    A1, 0x24(S2)\naddiu A0, S1, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nlw    V0, 0x24(S2)\nlwc1  F0, 0x30(V0)\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F2\n      NOP\nadd.s F0, F0, F2\nswc1  F0, 0x30(S1)\nlw    A1, 0x24(S2)\naddiu A0, S1, 0x18\njal   0x80089A20\n addiu A1, A1, 0x18\nlwc1  F12, 0x24(S0)\njal   0x8008EF20\n       NOP\nlwc1  F2, 0x18(S0)\nmul.s F0, F0, F2\nlwc1  F2, 0xc(S1)\nadd.s F0, F0, F2\nswc1  F0, 0xc(S1)\njal   0x8008E3F0\n lwc1  F12, 0x24(S0)\nlwc1  F2, 0x18(S0)\nmul.s F0, F0, F2\nlwc1  F2, 0x14(S1)\nadd.s F0, F0, F2\nswc1  F0, 0x14(S1)\nlwc1  F2, 0x24(S0)\nli    AT, 0x40A00000 ; 5.000000\nmtc1  AT, F0\n      NOP\nadd.s F0, F2, F0\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F2\n      NOP\nc.le.s F2, F0\n      NOP\n      NOP\nbc1f  L8011688C\n swc1  F0, 0x24(S0)\nsub.s F0, F0, F2\nswc1  F0, 0x24(S0)\nL8011688C:\nlwc1  F2, 0x18(S0)\nli    AT, 0x40A00000 ; 5.000000\nmtc1  AT, F0\n      NOP\nc.le.s F2, F0\n      NOP\nbc1f  L801168C0\n       NOP\nli    AT, 0x3E800000 ; 0.250000\nmtc1  AT, F0\n      NOP\nadd.s F0, F2, F0\nswc1  F0, 0x18(S0)\nL801168C0:\nlw    V0, 0x24(S2)\nlhu   V0, 0xa(V0)\nandi  V0, V0, 8\nbeqz  V0, L801168E4\n       NOP\njal   0x800D9A40\n move  A0, S1\nj     L801168EC\n       NOP\nL801168E4:\njal   0x800D9B24\n move  A0, S1\nL801168EC:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_80116904:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S1, A0\njal   GetPlayerStruct\n move  S0, A1\nmove  S2, V0\nsll   V0, S1, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB98)(AT)\nbnez  V0, L801169DC\n sll   V0, S1, 2\nli    V0, 1\nbeq   S0, V0, L80116974\n slti  V0, S0, 2\nbeql  V0, R0, L80116964\n li    V0, 2\nbeqz  S0, L80116978\n li    A0, 63\nj     L80116978\n li    A0, 66\nL80116964:\nbeq   S0, V0, L80116978\n li    A0, 65\nj     L80116978\n li    A0, 66\nL80116974:\nli    A0, 64\nL80116978:\nandi  A0, A0, 0xff\njal   0x800D90C8\n move  A1, R0\nmove  S0, V0\njal   0x800D9714\n move  A0, S0\nsll   V0, S1, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nsw    S0, lo(D_8011FB98)(AT)\nlhu   V0, 0xa(S0)\nori   V0, V0, 2\nsh    V0, 0xa(S0)\nlw    A1, 0x24(S2)\naddiu A0, S0, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nli    AT, 0x41A00000 ; 20.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S0)\njal   0x800ECC0C\n addiu A0, S0, 0x18\nj     L801169EC\n       NOP\nL801169DC:\nlui   A0, hi(D_8011FB98)\naddu  A0, A0, V0\njal   0x800D9A40\n lw    A0, lo(D_8011FB98)(A0)\nL801169EC:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_80116A04:\naddiu SP, SP, -0x28\nsw    RA, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nmove  S1, A0\nlui   V0, hi(D_80116758)\naddiu V0, V0, lo(D_80116758)\nsw    V0, 0x10(SP)\nli    A0, 16383\nmove  A1, R0\nmove  A2, R0\njal   0x80047620\n li    A3, -1\nlui   V1, hi(D_8011FBA8)\naddiu V1, V1, lo(D_8011FBA8)\nsll   S0, S1, 2\naddu  S0, S0, V1\nsw    V0, 0(S0)\nsw    S1, 0x4c(V0)\nlw    V0, 0(S0)\nsw    R0, 0x50(V0)\nlw    V0, 0(S0)\nli    AT, 0x43B40000 ; 360.000000\nmtc1  AT, F12\n      NOP\njal   0x800EEF80\n sw    R0, 0x54(V0)\nlw    V1, 0(S0)\nmtc1  V0, F0\n      NOP\ncvt.s.w F0, F0\nswc1  F0, 0x24(V1)\nlw    V0, 0(S0)\nsw    R0, 0x18(V0)\nlw    RA, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x28\n\nfunc_80116AA0:\naddiu SP, SP, -0x28\nsw    RA, 0x24(SP)\nsw    S4, 0x20(SP)\nsw    S3, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, R0\nlui   S4, hi(D_8011FBA8)\naddiu S4, S4, lo(D_8011FBA8)\nlui   S3, hi(D_8011FB98)\naddiu S3, S3, lo(D_8011FB98)\nli    S2, -1\nsll   V1, S0, 2\nL80116AD8:\naddu  V0, V1, S4\nsw    R0, 0(V0)\naddu  V1, V1, S3\nsw    R0, 0(V1)\njal   GetPlayerStruct\n move  A0, S0\nlbu   V0, 0x17(V0)\nandi  V0, V0, 2\nsltiu V0, V0, 1\nsubu  S1, R0, V0\njal   GetPlayerStruct\n move  A0, S0\nlbu   V0, 0x17(V0)\nandi  V0, V0, 4\nbnezl V0, L80116B18\n li    S1, 1\nL80116B18:\njal   GetPlayerStruct\n move  A0, S0\nlbu   V0, 0x17(V0)\nandi  V0, V0, 0x20\nbnezl V0, L80116B30\n li    S1, 2\nL80116B30:\njal   GetPlayerStruct\n move  A0, S0\nlbu   V0, 0x17(V0)\nandi  V0, V0, 0x40\nbnezl V0, L80116B48\n li    S1, 3\nL80116B48:\nbeql  S1, S2, L80116B68\n addiu S0, S0, 1\nmove  A0, S0\njal   func_80116904\n move  A1, S1\njal   func_80116A04\n move  A0, S0\naddiu S0, S0, 1\nL80116B68:\nslti  V0, S0, 4\nbnez  V0, L80116AD8\n sll   V1, S0, 2\nlui   A0, hi(D_801166F4)\njal   0x800F8D54\n addiu A0, A0, lo(D_801166F4)\nlw    RA, 0x24(SP)\nlw    S4, 0x20(SP)\nlw    S3, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x28\n\n; runs from 0xFFFB event table entry\n; Poison / Bowser Curse, reduce movement to 3 spaces.\n__PP64_INTERNAL_CURSE_POISON_DICEROLL_EVENT:\naddiu SP, SP, -0x38\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\nsdc1  F20, 0x20(SP)\nlui   S0, hi(CORE_800CD058)\naddiu S0, S0, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nmove  S1, V0\nlh    V0, 0x56(S0)\nlui   V1, hi(current_player_index)\nlb    V1, lo(current_player_index)(V1)\nsrav  V0, V0, V1\nandi  V0, V0, 1\nbeqz  V0, L80116D88\n       NOP\njal   0x80035FDC\n li    A0, 16\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nli    V1, 1\nsllv  V1, V1, V0\nnor   V1, R0, V1\nlhu   V0, 0x56(S0)\nand   V0, V0, V1\nsh    V0, 0x56(S0)\nlbu   V0, 0x17(S1)\nandi  V0, V0, 0x20\nbnez  V0, L80116C40\n li    A0, -1\nlw    V0, 0x14(S1)\nandi  V0, V0, 0xa\nli    V1, 8\nbne   V0, V1, L80116C44\n li    A1, 0x3A07 ; "A poison mushroom is limiting your move to three spaces or less"\nli    A0, -1\nL80116C40:\nli    A1, 0x4219 ; "Because of Bowser\'s Curse, you can move up to only three spaces."\nL80116C44:\njal   0x800EC590\n       NOP\nlbu   V0, 0x17(S1)\nandi  V0, V0, 2\nbeqz  V0, L80116CE4\n       NOP\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB98)(AT)\nbeqz  V0, L80116CDC\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nlui   S2, hi(D_8011FB98)\naddiu S2, S2, lo(D_8011FB98)\nli    AT, 0x3DA30000 ; 0.079590\nori AT, AT, 0xd70a\nmtc1  AT, F24\nmtc1  R0, F22\nL80116C98:\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\naddu  V0, V0, S2\nlw    A0, 0(V0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F24\nc.le.s F22, F20\n      NOP\nbc1t  L80116C98\n       NOP\nL80116CDC:\njal   func_8011667C\n lb    A0, 0xf(S0)\nL80116CE4:\nlbu   V0, 0x17(S1)\nandi  V0, V0, 8\nbeqz  V0, L80116D7C\n       NOP\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB98)(AT)\nbeqz  V0, L80116D74\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nlui   S2, hi(D_8011FB98)\naddiu S2, S2, lo(D_8011FB98)\nli    AT, 0x3DA30000 ; 0.079590\nori AT, AT, 0xd70a\nmtc1  AT, F24\nmtc1  R0, F22\nL80116D30:\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\naddu  V0, V0, S2\nlw    A0, 0(V0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F24\nc.le.s F22, F20\n      NOP\nbc1t  L80116D30\n       NOP\nL80116D74:\njal   func_8011667C\n lb    A0, 0xf(S0)\nL80116D7C:\nlbu   V0, 0x17(S1)\nandi  V0, V0, 0xd5\nsb    V0, 0x17(S1)\nL80116D88:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x38\n\nD_80116DAC:\naddiu SP, SP, -0x38\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\nsdc1  F20, 0x20(SP)\nlui   S1, hi(CORE_800CD058)\naddiu S1, S1, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nmove  S0, V0\nlbu   V0, 0x17(S0)\nandi  V0, V0, 8\nbeqz  V0, L80116EE8\n       NOP\nlui   A0, hi(current_player_index)\njal   0x800DCA64\n lb    A0, lo(current_player_index)(A0)\njal   0x80035FDC\n li    A0, 16\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nli    V1, 1\nsllv  V1, V1, V0\nnor   V1, R0, V1\nlhu   V0, 0x56(S1)\nand   V0, V0, V1\nsh    V0, 0x56(S1)\nli    A0, -1\njal   0x800EC590\n li    A1, 16921\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V0, V0, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB98)(AT)\nbeqz  V0, L80116EB4\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nlui   S2, hi(D_8011FB98)\naddiu S2, S2, lo(D_8011FB98)\nli    AT, 0x3DA30000 ; 0.079590\nori AT, AT, 0xd70a\nmtc1  AT, F24\nmtc1  R0, F22\nL80116E70:\nlb    V0, 0xf(S1)\nsll   V0, V0, 2\naddu  V0, V0, S2\nlw    A0, 0(V0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F24\nc.le.s F22, F20\n      NOP\nbc1t  L80116E70\n       NOP\nL80116EB4:\njal   func_8011667C\n lb    A0, 0xf(S1)\nlbu   V0, 0x17(S0)\nandi  V0, V0, 0xd7\nsb    V0, 0x17(S0)\nli    A0, -1\njal   0x800FF900\n li    A1, 2\nlb    A0, 0xf(S1)\njal   0x800DC128\n       NOP\njal   SleepProcess\n li    A0, 15\nL80116EE8:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x38\n\nD_80116F0C:\naddiu SP, SP, -0x20\nsw    RA, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\njal   0x8004EE68\n li    S0, 60\nlw    S1, 0x8c(V0)\nL80116F28:\njal   SleepVProcess\n addiu S0, S0, -1\nbnez  S0, L80116F28\n       NOP\njal   0x800FFAEC\n move  A0, S1\njal   EndProcess\n move  A0, R0\nlw    RA, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nD_80116F5C:\naddiu SP, SP, -0x60\nsw    RA, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\nsw    S0, 0x20(SP)\nsdc1  F28, 0x58(SP)\nsdc1  F26, 0x50(SP)\nsdc1  F24, 0x48(SP)\nsdc1  F22, 0x40(SP)\nsdc1  F20, 0x38(SP)\nlui   S3, hi(CORE_800CD058)\naddiu S3, S3, lo(CORE_800CD058)\nlui   V1, hi(p1_char)\naddiu V1, V1, lo(p1_char)\nlbu   A2, 0(V1)\nlbu   A3, 0x38(V1)\nlbu   V0, 0x70(V1)\naddiu V0, V0, 0x1c00\nsw    V0, 0x10(SP)\nlbu   V0, 0xa8(V1)\naddiu V0, V0, 0x1c00\nsw    V0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x5C01\naddiu A2, A2, 0x1c00\njal   0x800EC8EC ; ShowMessage ; "Who\'s your opponent?"\n addiu A3, A3, 0x1c00\nlui   A1, hi(D_8011FBBC)\nlw    A1, lo(D_8011FBBC)(A1)\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n li    A0, 2\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n       NOP\nslti  V0, S0, 4\nbeqz  V0, L80117004\n       NOP\nbgez  S0, L80117010\n move  S1, S0\nL80117004:\njal   0x800EF0D8\n move  A0, R0\nmove  S1, V0\nL80117010:\nlui   A1, hi(CORE_800CD0AE)\naddiu A1, A1, lo(CORE_800CD0AE)\nsll   A0, S1, 0x10\nsra   A0, A0, 0x10\nli    V1, 1\nsllv  V1, V1, A0\nlhu   V0, 0(A1)\nor    V0, V0, V1\njal   GetPlayerStruct\n sh    V0, 0(A1)\nmove  S2, V0\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\n      NOP\nmov.s F22, F20\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F28\nli    AT, 0x3D8F0000 ; 0.069824\nori AT, AT, 0x5c29\nmtc1  AT, F26\nmtc1  R0, F24\nsub.s F20, F20, F28\nL8011706C:\njal   0x800E4A7C\n add.s F22, F22, F26\nlb    A0, 0xf(S3)\nmfc1  A2, F20\nmfc1  A3, F22\n      NOP\njal   0x800F696C\n move  A1, V0\njal   SleepVProcess\n       NOP\nc.lt.s F24, F20\n      NOP\n      NOP\nbc1tl L8011706C\n sub.s F20, F20, F28\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\njal   0x800F6BC4\n li    A0, -1\njal   0x800F66DC\n move  A0, R0\njal   0x800F6ECC\n li    A0, -1\nsll   V0, S1, 0x10\nsra   V0, V0, 0x10\nlb    V1, 0xf(S3)\nbeq   V0, V1, L80117148\n sll   S0, S1, 0x10\nmove  A0, R0\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 16\njal   0x800F915C\n li    A0, 2\nlw    A0, 0x24(S2)\njal   0x800F9174\n addiu A0, A0, 0xc\nlw    A0, 0x24(S2)\njal   0x800E9748\n addiu A0, A0, 0xc\njal   SleepVProcess\n sll   S0, S1, 0x10\nmove  A0, R0\njal   InitFadeIn\n li    A1, 16\nli    V0, 1\nlui   AT, hi(CORE_800A12D8)\nsw    V0, lo(CORE_800A12D8)(AT)\njal   SleepProcess\n li    A0, 16\nL80117148:\nsra   S0, S0, 0x10\njal   func_8011667C\n move  A0, S0\nlbu   V0, 0x17(S2)\nandi  V0, V0, 0x99\nori   V0, V0, 2\nsb    V0, 0x17(S2)\nmove  A0, S0\njal   func_80116904\n move  A1, R0\nmtc1  R0, F20\nsll   V0, S1, 0x10\nlui   V1, hi(D_8011FB98)\naddiu V1, V1, lo(D_8011FB98)\nsra   V0, V0, 0xe\naddu  S0, V0, V1\nli    AT, 0x3DA30000 ; 0.079590\nori   AT, AT, 0xd70a\nmtc1  AT, F24\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nL8011719C:\nlw    A0, 0(S0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nadd.s F20, F20, F24\nc.le.s F20, F22\n      NOP\n      NOP\nbc1t  L8011719C\n sll   V0, S1, 0x10\nsra   S0, V0, 0x10\nsll   V0, S0, 2\nlui   A0, hi(D_8011FB98)\naddu  A0, A0, V0\nlw    A0, lo(D_8011FB98)(A0)\naddiu A0, A0, 0x24\nlui   A1, 0x3f80\nmove  A2, A1\njal   0x80089A10\n move  A3, A1\nlb    V0, 0xf(S3)\nbnel  S0, V0, L80117224\n sll   A0, S1, 0x10\nmove  A0, S0\nli    A1, 4\njal   0x800F2304\n li    A2, 2\nj     L80117240\n sll   S0, S1, 0x10\nL80117224:\njal   GetPlayerStruct\n sra   A0, A0, 0x10\nlw    A0, 0x24(V0)\nli    A1, 4\njal   0x800D9CE8\n li    A2, 2\nsll   S0, S1, 0x10\nL80117240:\nsra   S0, S0, 0x10\nsll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   A1, hi(p1_char)\naddu  A1, A1, V0\nlbu   A1, lo(p1_char)(A1)\njal   0x8004AC10\n li    A0, 646\njal   func_80116A04\n move  A0, S0\nmove  A0, S0\nli    A1, 1\njal   0x800FFA4C\n li    A2, 5\nmove  S0, V0\nlui   A0, hi(D_80116F0C)\naddiu A0, A0, lo(D_80116F0C)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S0, 0x8c(V0)\njal   SleepProcess\n li    A0, 20\nlbu   V0, 0xf(S3)\nsll   V0, V0, 0x18\nsra   S0, V0, 0x18\nsb    S1, 0xf(S3)\nlbu   V0, 0x17(S2)\nandi  V0, V0, 0x80\nbeqz  V0, L801172CC\n li    A0, -1\njal   0x800EC590\n li    A1, 14857\nL801172CC:\nli    A0, -1\njal   0x800EC590\n li    A1, 14854\nsll   V1, S0, 0x18\nsll   V0, S1, 0x10\nsra   V0, V0, 0x10\nsra   V1, V1, 0x18\nbne   V0, V1, L80117308\n sb    S0, 0xf(S3)\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nj     L80117330\n sll   V0, S1, 0x10\nL80117308:\nsll   A0, S1, 0x10\njal   GetPlayerStruct\n sra   A0, A0, 0x10\nlw    A0, 0x24(V0)\nli    A1, -1\njal   0x800D9CE8\n li    A2, 2\nlui   AT, hi(CORE_800A12D8)\nsw    R0, lo(CORE_800A12D8)(AT)\nsll   V0, S1, 0x10\nL80117330:\nsra   V0, V0, 0x10\nlb    V1, 0xf(S3)\nbeq   V0, V1, L80117390\n sll   V0, S1, 0x10\nmove  A0, R0\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 16\njal   0x800F915C\n li    A0, 1\njal   GetPlayerStruct\n li    A0, -1\nlw    A0, 0x24(V0)\njal   0x800E9748\n addiu A0, A0, 0xc\njal   SleepVProcess\n       NOP\nmove  A0, R0\njal   InitFadeIn\n li    A1, 16\njal   SleepProcess\n li    A0, 16\nsll   V0, S1, 0x10\nL80117390:\nsra   V0, V0, 0x10\nlb    V1, 0xf(S3)\nbne   V0, V1, L801174A4\n       NOP\njal   0x80035FDC\n li    A0, 16\nli    A0, -1\njal   0x800EC590\n li    A1, 14855\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nsll   V0, S1, 0x10\nlui   V1, hi(D_8011FB98)\naddiu V1, V1, lo(D_8011FB98)\nsra   V0, V0, 0xe\naddu  S0, V0, V1\nli    AT, 0x3DA30000 ; 0.079590\nori   AT, AT, 0xd70a\nmtc1  AT, F24\nmtc1  R0, F22\nL801173E0:\nlw    A0, 0(S0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F24\nc.le.s F22, F20\n      NOP\n      NOP\nbc1t  L801173E0\n sll   V0, S1, 0x10\nsra   V0, V0, 0xe\nlui   A0, hi(D_8011FB98)\naddu  A0, A0, V0\nlw    A0, lo(D_8011FB98)(A0)\naddiu A0, A0, 0x24\nmove  A1, R0\nmove  A2, A1\njal   0x80089A10\n move  A3, A1\nlb    A0, 0xf(S3)\njal   func_8011667C\n       NOP\nlui   S0, hi(current_player_index)\naddiu S0, S0, lo(current_player_index)\njal   0x800DCA64\n lb    A0, 0(S0)\nli    A0, -1\njal   0x800FF900\n li    A1, 2\nlb    A0, 0(S0)\njal   0x800DC128\n       NOP\njal   SleepProcess\n li    A0, 15\nlb    V0, 0(S0)\nli    V1, 1\nsllv  V1, V1, V0\nnor   V1, R0, V1\nlhu   V0, 0x47(S0)\nand   V0, V0, V1\nsh    V0, 0x47(S0)\nlbu   V0, 0x17(S2)\nandi  V0, V0, 0xfd\nsb    V0, 0x17(S2)\nL801174A4:\nlw    RA, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\nldc1  F28, 0x58(SP)\nldc1  F26, 0x50(SP)\nldc1  F24, 0x48(SP)\nldc1  F22, 0x40(SP)\nldc1  F20, 0x38(SP)\njr    RA\n addiu SP, SP, 0x60\n\n; Runs from 0xFFFB event table entry\n; Reversal (mushroom, curse)\n__PP64_INTERNAL_REVERSAL_DICEROLL_EVENT:\naddiu SP, SP, -0x38\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\nsdc1  F20, 0x20(SP)\nlui   S0, hi(CORE_800CD058)\naddiu S0, S0, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nmove  S1, V0\nlbu   V1, 0x17(S1)\nandi  V0, V1, 0x80\nbeqz  V0, L80117680\n andi  V0, V1, 0x40\nbnez  V0, L80117538\n li    A0, -1\nlw    V0, 0x14(S1)\nandi  V0, V0, 0x14\nli    V1, 16\nbne   V0, V1, L8011753C\n li    A1, 0x3A03 ; "A Reverse Mushroom is forcing you to move in the opposite direction"\nli    A0, -1\nL80117538:\nli    A1, 0x421C ; "Because of the "Reverse Curse", you\'ll now move in the opposite direction."\nL8011753C:\njal   0x800EC590\n       NOP\nlbu   V0, 0x17(S1)\nandi  V0, V0, 4\nbeqz  V0, L801175DC\n       NOP\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB98)(AT)\nbeqz  V0, L801175D4\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nlui   S2, hi(D_8011FB98)\naddiu S2, S2, lo(D_8011FB98)\nli    AT, 0x3DA30000 ; 0.079590\nori   AT, AT, 0xd70a\nmtc1  AT, F24\nmtc1  R0, F22\nL80117590:\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\naddu  V0, V0, S2\nlw    A0, 0(V0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F24\nc.le.s F22, F20\n      NOP\nbc1t  L80117590\n       NOP\nL801175D4:\njal   func_8011667C\n lb    A0, 0xf(S0)\nL801175DC:\nlbu   V0, 0x17(S1)\nandi  V0, V0, 0x10\nbeqz  V0, L80117674\n       NOP\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB98)(AT)\nbeqz  V0, L8011766C\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nlui   S2, hi(D_8011FB98)\naddiu S2, S2, lo(D_8011FB98)\nli    AT, 0x3DA30000 ; 0.079590\nori   AT, AT, 0xd70a\nmtc1  AT, F24\nmtc1  R0, F22\nL80117628:\nlb    V0, 0xf(S0)\nsll   V0, V0, 2\naddu  V0, V0, S2\nlw    A0, 0(V0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F24\nc.le.s F22, F20\n      NOP\nbc1t  L80117628\n       NOP\nL8011766C:\njal   func_8011667C\n lb    A0, 0xf(S0)\nL80117674:\nlbu   V0, 0x17(S1)\nandi  V0, V0, 0xab\nsb    V0, 0x17(S1)\nL80117680:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x38\n\nD_801176A4:\naddiu SP, SP, -0x38\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nsdc1  F24, 0x30(SP)\nsdc1  F22, 0x28(SP)\nsdc1  F20, 0x20(SP)\nlui   S1, hi(CORE_800CD058)\naddiu S1, S1, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nmove  S0, V0\nlbu   V0, 0x17(S0)\nandi  V0, V0, 0x10\nbeqz  V0, L801177B8\n       NOP\nlui   A0, hi(current_player_index)\njal   0x800DCA64\n lb    A0, lo(current_player_index)(A0)\nli    A0, -1\njal   0x800EC590\n li    A1, 16924\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nsll   V0, V0, 2\nlui   AT, hi(D_8011FB98)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FB98)(AT)\nbeqz  V0, L80117784\n       NOP\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\nlui   S2, hi(D_8011FB98)\naddiu S2, S2, lo(D_8011FB98)\nli    AT, 0x3DA30000 ; 0.079590\nori   AT, AT, 0xd70a\nmtc1  AT, F24\nmtc1  R0, F22\nL80117740:\nlb    V0, 0xf(S1)\nsll   V0, V0, 2\naddu  V0, V0, S2\nlw    A0, 0(V0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nsub.s F20, F20, F24\nc.le.s F22, F20\n      NOP\nbc1t  L80117740\n       NOP\nL80117784:\njal   func_8011667C\n lb    A0, 0xf(S1)\nlbu   V0, 0x17(S0)\nandi  V0, V0, 0xaf\nsb    V0, 0x17(S0)\nli    A0, -1\njal   0x800FF900\n li    A1, 2\nlb    A0, 0xf(S1)\njal   0x800DC128\n       NOP\njal   SleepProcess\n li    A0, 15\nL801177B8:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\nldc1  F24, 0x30(SP)\nldc1  F22, 0x28(SP)\nldc1  F20, 0x20(SP)\njr    RA\n addiu SP, SP, 0x38\n\nD_801177DC:\naddiu SP, SP, -0x68\nsw    RA, 0x38(SP)\nsw    S3, 0x34(SP)\nsw    S2, 0x30(SP)\nsw    S1, 0x2c(SP)\nsw    S0, 0x28(SP)\nsdc1  F28, 0x60(SP)\nsdc1  F26, 0x58(SP)\nsdc1  F24, 0x50(SP)\nsdc1  F22, 0x48(SP)\nsdc1  F20, 0x40(SP)\nlui   S3, hi(CORE_800CD058)\naddiu S3, S3, lo(CORE_800CD058)\nlui   V1, hi(p1_char)\naddiu V1, V1, lo(p1_char)\nlbu   A2, 0(V1)\nlbu   A3, 0x38(V1)\nlbu   V0, 0x70(V1)\naddiu V0, V0, 0x1c00\nsw    V0, 0x10(SP)\nlbu   V0, 0xa8(V1)\naddiu V0, V0, 0x1c00\nsw    V0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x5C01\naddiu A2, A2, 0x1c00\njal   0x800EC8EC ; ShowMessage: "Who\'s your opponent?"\n addiu A3, A3, 0x1c00\nlui   A1, hi(D_8011FBB8)\nlw    A1, lo(D_8011FBB8)(A1)\njal   __PP64_INTERNAL_BASIC_MESSAGE_CHOICE\n li    A0, 2\njal   0x800EC6C8\n move  S0, V0\njal   0x800EC6EC\n       NOP\nslti  V0, S0, 4\nbeqz  V0, L80117884\n       NOP\nbgez  S0, L80117890\n move  S2, S0\nL80117884:\njal   0x800EF0D8\n move  A0, R0\nmove  S2, V0\nL80117890:\nsll   A0, S2, 0x10\njal   GetPlayerStruct\n sra   A0, A0, 0x10\nmove  S1, V0\nlbu   V0, 0x17(S1)\nori   V0, V0, 0x80\nsb    V0, 0x17(S1)\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F20\n      NOP\nmov.s F22, F20\nli    AT, 0x3DCC0000 ; 0.099609\nori AT, AT, 0xcccd\nmtc1  AT, F28\nli    AT, 0x3D8F0000 ; 0.069824\nori AT, AT, 0x5c29\nmtc1  AT, F26\nmtc1  R0, F24\nsub.s F20, F20, F28\nL801178DC:\njal   0x800E4A7C\n add.s F22, F22, F26\nlb    A0, 0xf(S3)\nmfc1  A2, F20\nmfc1  A3, F22\n      NOP\njal   0x800F696C\n move  A1, V0\njal   SleepVProcess\n       NOP\nc.lt.s F24, F20\n      NOP\n      NOP\nbc1tl L801178DC\n sub.s F20, F20, F28\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S3)\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nsll   V0, S2, 0x10\nsra   V0, V0, 0x10\nlb    V1, 0xf(S3)\nbeq   V0, V1, L801179A0\n sll   S0, S2, 0x10\nmove  A0, R0\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 16\njal   0x800F915C\n li    A0, 2\nlw    A0, 0x24(S1)\njal   0x800F9174\n addiu A0, A0, 0xc\nlw    A0, 0x24(S1)\njal   0x800E9748\n addiu A0, A0, 0xc\njal   SleepVProcess\n sll   S0, S2, 0x10\nmove  A0, R0\njal   InitFadeIn\n li    A1, 16\nli    V0, 1\nlui   AT, hi(CORE_800A12D8)\nsw    V0, lo(CORE_800A12D8)(AT)\njal   SleepProcess\n li    A0, 16\nL801179A0:\nsra   S0, S0, 0x10\njal   func_8011667C\n move  A0, S0\nlbu   V0, 0x17(S1)\nandi  V0, V0, 0x99\nori   V0, V0, 4\nsb    V0, 0x17(S1)\nmove  A0, S0\njal   0x800FF900\n li    A1, 3\nmove  A0, S0\njal   func_80116904\n li    A1, 1\nmtc1  R0, F20\nsll   V0, S2, 0x10\nlui   V1, hi(D_8011FB98)\naddiu V1, V1, lo(D_8011FB98)\nsra   V0, V0, 0xe\naddu  S0, V0, V1\nli    AT, 0x3DA30000 ; 0.079590\nori   AT, AT, 0xd70a\nmtc1  AT, F24\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nL80117A00:\nlw    A0, 0(S0)\nmfc1  A1, F20\nmfc1  A2, F20\nmfc1  A3, F20\n      NOP\njal   0x80089A10\n addiu A0, A0, 0x24\njal   SleepVProcess\n       NOP\nadd.s F20, F20, F24\nc.le.s F20, F22\n      NOP\n      NOP\nbc1t  L80117A00\n sll   V0, S2, 0x10\nsra   S0, V0, 0x10\nsll   V0, S0, 2\nlui   A0, hi(D_8011FB98)\naddu  A0, A0, V0\nlw    A0, lo(D_8011FB98)(A0)\naddiu A0, A0, 0x24\nlui   A1, 0x3f80\nmove  A2, A1\njal   0x80089A10\n move  A3, A1\nlb    V0, 0xf(S3)\nbnel  S0, V0, L80117A88\n sll   A0, S2, 0x10\nmove  A0, S0\nli    A1, 4\njal   0x800F2304\n li    A2, 2\nj     L80117AA4\n sll   S0, S2, 0x10\nL80117A88:\njal   GetPlayerStruct\n sra   A0, A0, 0x10\nlw    A0, 0x24(V0)\nli    A1, 4\njal   0x800D9CE8\n li    A2, 2\nsll   S0, S2, 0x10\nL80117AA4:\nsra   S0, S0, 0x10\nsll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   A1, hi(p1_char)\naddu  A1, A1, V0\nlbu   A1, lo(p1_char)(A1)\njal   0x8004AC10\n li    A0, 646\nmove  A0, S0\nli    A1, 1\njal   0x800FFA4C\n li    A2, 5\nmove  S1, V0\njal   func_80116A04\n move  A0, S0\nlui   A0, hi(D_80116F0C)\naddiu A0, A0, lo(D_80116F0C)\nli    A1, 16386\nmove  A2, R0\njal   InitProcess\n move  A3, R0\nsw    S1, 0x8c(V0)\njal   SleepProcess\n li    A0, 20\nlbu   V0, 0xf(S3)\nsll   V0, V0, 0x18\nsb    S2, 0xf(S3)\nsra   A0, V0, 0x18\nbne   A0, S0, L80117B34\n sra   S1, V0, 0x18\njal   0x800DEB2C\n       NOP\nli    V1, 3\nbeq   V0, V1, L80117B4C\n li    A0, -1\nL80117B34:\nlui   V0, hi(CORE_800CD0AE)\nlh    V0, lo(CORE_800CD0AE)(V0)\nsrav  V0, V0, S2\nandi  V0, V0, 1\nbeqz  V0, L80117B54\n li    A0, -1\nL80117B4C:\njal   0x800EC590\n li    A1, 14853\nL80117B54:\nli    A0, -1\njal   0x800EC590\n li    A1, 14850\nsll   V1, S1, 0x18\nsll   V0, S2, 0x10\nsra   V0, V0, 0x10\nsra   V1, V1, 0x18\nbne   V0, V1, L80117B90\n sb    S1, 0xf(S3)\nli    A0, -1\nli    A1, -1\njal   0x800F2304\n li    A2, 2\nj     L80117BB8\n sll   V0, S2, 0x10\nL80117B90:\nsll   A0, S2, 0x10\njal   GetPlayerStruct\n sra   A0, A0, 0x10\nlw    A0, 0x24(V0)\nli    A1, -1\njal   0x800D9CE8\n li    A2, 2\nlui   AT, hi(CORE_800A12D8)\nsw    R0, lo(CORE_800A12D8)(AT)\nsll   V0, S2, 0x10\nL80117BB8:\nsra   V0, V0, 0x10\nlb    V1, 0xf(S3)\nbeq   V0, V1, L80117C18\n sll   V0, S2, 0x10\nmove  A0, R0\njal   InitFadeOut\n li    A1, 16\njal   SleepProcess\n li    A0, 16\njal   0x800F915C\n li    A0, 1\njal   GetPlayerStruct\n li    A0, -1\nlw    A0, 0x24(V0)\njal   0x800E9748\n addiu A0, A0, 0xc\njal   SleepVProcess\n       NOP\nmove  A0, R0\njal   InitFadeIn\n li    A1, 16\njal   SleepProcess\n li    A0, 16\nsll   V0, S2, 0x10\nL80117C18:\nsra   V0, V0, 0x10\nlb    V1, 0xf(S3)\nbne   V0, V1, L80117C30\n       NOP\njal   __PP64_INTERNAL_REVERSAL_DICEROLL_EVENT\n       NOP\nL80117C30:\nlw    RA, 0x38(SP)\nlw    S3, 0x34(SP)\nlw    S2, 0x30(SP)\nlw    S1, 0x2c(SP)\nlw    S0, 0x28(SP)\nldc1  F28, 0x60(SP)\nldc1  F26, 0x58(SP)\nldc1  F24, 0x50(SP)\nldc1  F22, 0x48(SP)\nldc1  F20, 0x40(SP)\njr    RA\n addiu SP, SP, 0x68\n\n; Plunder chest?\nD_80117C60:\naddiu SP, SP, -0xb8\nsw    RA, 0x8c(SP)\nsw    S6, 0x88(SP)\nsw    S5, 0x84(SP)\nsw    S4, 0x80(SP)\nsw    S3, 0x7c(SP)\nsw    S2, 0x78(SP)\nsw    S1, 0x74(SP)\nsw    S0, 0x70(SP)\nsdc1  F28, 0xb0(SP)\nsdc1  F26, 0xa8(SP)\nsdc1  F24, 0xa0(SP)\nsdc1  F22, 0x98(SP)\nsdc1  F20, 0x90(SP)\nlui   S6, hi(CORE_800CD058)\naddiu S6, S6, lo(CORE_800CD058)\njal   func_8010FE54\n move  S1, R0\nli    A0, 33\njal   0x800D90C8\n move  A1, R0\nmove  S4, V0\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nmove  A1, R0\nmove  A2, A1\njal   0x8001C1A0\n move  A3, A1\njal   GetPlayerStruct\n li    A0, -1\nlw    A1, 0x24(V0)\naddiu A0, S4, 0xc\njal   0x80089A20\n addiu A1, A1, 0xc\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 2\njal   0x8001C814\n li    A2, 1\nli    AT, 0x42C80000 ; 100.000000\nmtc1  AT, F0\n      NOP\nswc1  F0, 0x30(S4)\njal   PlaySound\n li    A0, 322\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F2\nlwc1  F0, 0x30(S4)\nc.lt.s F2, F0\n      NOP\n      NOP\nbc1f  L80117D70\n mov.s F4, F0\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F22\nli    AT, 0x41F00000 ; 30.000000\nmtc1  AT, F20\nsub.s F0, F4, F22\nL80117D50:\njal   SleepVProcess\n swc1  F0, 0x30(S4)\nlwc1  F4, 0x30(S4)\nc.lt.s F20, F4\n      NOP\n      NOP\nbc1tl L80117D50\n sub.s F0, F4, F22\nL80117D70:\nbeqz  S1, L80117DF0\n move  S0, R0\nli    AT, 0x40000000 ; 2.000000\nmtc1  AT, F28\nli    AT, 0x3F800000 ; 1.000000\nmtc1  AT, F26\nL80117D88:\nmtc1  S0, F22\n      NOP\ncvt.s.w F22, F22\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F24, F0, F28\nadd.s F24, F24, F26\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F20, F0, F28\nadd.s F20, F20, F26\njal   0x8008EF20\n mov.s F12, F22\ndiv.s F0, F0, F28\nmfc1  A1, F24\nmfc1  A2, F20\nadd.s F0, F0, F26\nmfc1  A3, F0\n      NOP\njal   0x80089A10\n addiu A0, S4, 0x24\njal   SleepVProcess\n addiu S0, S0, 0x1e\nslti  V0, S0, 0x439\nbnez  V0, L80117D88\n       NOP\nL80117DF0:\njal   PlaySound\n li    A0, 329\nlw    V0, 0x3c(S4)\nlw    V0, 0x40(V0)\nlh    A0, 0(V0)\nli    A1, 1\njal   0x8001C814\n move  A2, R0\njal   SleepProcess\n li    A0, 20\nmove  S0, R0\naddiu S1, SP, 0x20\nli    S3, 1\naddiu S2, SP, 0x60\nli    S5, 8\nL80117E2C:\nlui   V0, hi(current_player_index)\nlb    V0, lo(current_player_index)(V0)\nbne   V0, S0, L80117E50\n sll   V0, S0, 4\naddu  V0, S1, V0\nsb    S3, 0(V0)\naddu  V0, S2, S0\nj     L80117E60\n sb    R0, 0(V0)\nL80117E50:\naddu  V0, S1, V0\nsb    S5, 0(V0)\naddu  V0, S2, S0\nsb    S3, 0(V0)\nL80117E60:\nsll   A1, S0, 4\naddu  A1, S1, A1\nmove  A0, S0\njal   0x800E2260\n addiu A1, A1, 1\naddiu S0, S0, 1\nslti  V0, S0, 4\nbnez  V0, L80117E2C\n li    V0, 1\nsb    V0, 0x64(SP)\nsb    V0, 0x65(SP)\naddiu V0, SP, 0x40\nsw    V0, 0x10(SP)\naddiu V0, SP, 0x50\nsw    V0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x5C01\naddiu A2, SP, 0x20\njal   0x800EC8EC ; ShowMessage: "Who\'s your opponent?"\n addiu A3, SP, 0x30\naddiu A0, SP, 0x60\njal   func_80113364\n move  A1, R0\njal   0x800EC6C8\n move  S1, V0\njal   0x800EC6EC\n       NOP\nli    V0, 4\nbne   S1, V0, L80117EEC\n sll   V0, S1, 3\njal   0x800EF0D8\n li    A0, 1\nmove  S1, V0\nsll   V0, S1, 3\nL80117EEC:\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   V1, hi(p1_item1)\naddu  V1, V1, V0\nlb    V1, lo(p1_item1)(V1)\nli    V0, -1\nbne   V1, V0, L80117FCC\n li    A0, -1\nli    A1, 3\njal   0x800F2304\n move  A2, R0\nlb    A1, 0xf(S6)\njal   0x8004ACE0\n li    A0, 646\njal   SleepProcess\n li    A0, 60\nmove  A0, S1\njal   0x800E2260\n addiu A1, SP, 0x20\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nli    A0, 14863\naddiu A1, SP, 0x20\nmove  A2, R0\njal   0x800EC1E8\n move  A3, R0\nlb    A0, 0xf(S6)\njal   0x800EC3C0\n       NOP\njal   0x800EC3E4\n       NOP\nli    V0, 2\nsw    V0, 0x10(SP)\nli    A0, -1\nli    A1, -1\nmove  A2, R0\njal   0x800F2388\n li    A3, 10\njal   0x800D9B54\n move  A0, S4\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S6)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nli    V0, -1\nsb    V0, 0(V1)\njal   FixUpPlayerItemSlots\n lb    A0, 0xf(S6)\nj     L801182CC\n       NOP\nL80117FCC:\njal   PlayerHasEmptyItemSlot\n move  A0, S1\nmove  S0, V0\nli    V0, -1\nbeql  S0, V0, L80117FE4\n li    S0, 3\nL80117FE4:\nmtc1  S0, F12\n      NOP\njal   0x800EEF80\n cvt.s.w F12, F12\njal   0x800E4A7C\n move  S0, V0\nlb    A0, 0xf(S6)\nsll   V1, A0, 3\nsubu  V1, V1, A0\nsll   V1, V1, 3\nlui   A0, hi(p1_item1)\naddiu A0, A0, lo(p1_item1)\naddu  V1, V1, A0\naddu  V1, V1, V0\nsll   V0, S1, 3\nsubu  V0, V0, S1\nsll   V0, V0, 3\naddu  V0, V0, A0\naddu  V0, V0, S0\nlbu   A0, 0(V0)\nsb    A0, 0(V1)\nli    V1, -1\nsb    V1, 0(V0)\njal   FixUpPlayerItemSlots\n move  A0, S1\nsll   A0, S1, 0x10\nsra   A0, A0, 0x10\njal   0x800FF900\n li    A1, 3\njal   0x800E4A7C\n       NOP\nbne   V0, S0, L80118080\n       NOP\njal   0x800E4A7C\n       NOP\nmove  A0, S1\nmove  A1, V0\njal   0x800F68E0\n move  A2, R0\nL80118080:\njal   0x800F641C\n li    A0, -1\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S6)\nsll   V1, A0, 3\nlui   AT, hi(D_8011E3B4)\naddu  AT, AT, V1\nlwc1  F0, lo(D_8011E3B4)(AT)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E3B8)\naddu  AT, AT, V1\nlwc1  F0, lo(D_8011E3B8)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nmove  A1, V0\nsra   A2, A2, 0x10\njal   0x800F688C\n sra   A3, A3, 0x10\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S6)\nmove  A1, V0\njal   0x800F68E0\n li    A2, 256\nmove  A0, S1\nmove  A1, S0\njal   0x800F68E0\n move  A2, R0\njal   0x800E4A7C\n       NOP\nlb    A0, 0xf(S6)\nmove  A1, V0\njal   0x800F69B0\n li    A2, 18310\njal   0x8004EE68\n       NOP\nmove  S0, V0\nlb    V0, 0xf(S6)\nsll   V0, V0, 3\nlui   AT, hi(D_8011E3B4)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E3B4)(AT)\ntrunc.w.s F2, F0\nmfc1  A1, F2\n      NOP\nsll   A1, A1, 0x10\nlui   AT, hi(D_8011E3B8)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E3B8)(AT)\ntrunc.w.s F2, F0\nmfc1  A2, F2\n      NOP\nsll   A2, A2, 0x10\nlui   AT, hi(D_8011E394)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E394)(AT)\ntrunc.w.s F2, F0\nmfc1  A3, F2\n      NOP\nsll   A3, A3, 0x10\nlui   AT, hi(D_8011E398)\naddu  AT, AT, V0\nlwc1  F0, lo(D_8011E398)(AT)\ntrunc.w.s F2, F0\nmfc1  V0, F2\n      NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nsw    V0, 0x10(SP)\nli    V0, 5\nsw    V0, 0x14(SP)\nli    A0, -1\nsra   A1, A1, 0x10\nsra   A2, A2, 0x10\njal   func_8010FB54\n sra   A3, A3, 0x10\nmove  A0, S0\njal   0x8004ED30\n move  A1, V0\njal   0x8004EE18\n li    S0, 6\nlb    A1, 0xf(S6)\njal   0x8004ACE0\n li    A0, 628\nlb    A0, 0xf(S6)\nli    A1, 5\njal   0x800DA09C\n li    A2, 49\nli    A0, -1\nli    A1, 5\njal   0x800F2304\n move  A2, R0\njal   SleepProcess\n li    A0, 50\nlb    A0, 0xf(S6)\nli    V0, 2\nsw    V0, 0x10(SP)\nli    A1, -1\nmove  A2, R0\njal   0x800F2388\n li    A3, 10\njal   SleepProcess\n li    A0, 11\nlui   V0, hi(CORE_80101734)\nlw    V0, lo(CORE_80101734)(V0)\nL8011823C:\naddiu S0, S0, -1\nbnez  S0, L8011823C\n addiu V0, V0, 4\nlb    A0, 0xf(S6)\nlhu   A2, 2(V0)\njal   0x800DA09C\n li    A1, 5\njal   0x800D9B54\n move  A0, S4\nsll   V0, S1, 3\nsubu  V0, V0, S1\nsll   V0, V0, 3\nlui   A2, hi(p1_char)\naddu  A2, A2, V0\nlbu   A2, lo(p1_char)(A2)\nlb    V1, 0xf(S6)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   A3, hi(p1_char)\naddu  A3, A3, V0\nlbu   A3, lo(p1_char)(A3)\nsw    R0, 0x10(SP)\nsw    R0, 0x14(SP)\nsw    R0, 0x18(SP)\nli    A0, -1\nli    A1, 0x3A0D\naddiu A2, A2, 0x1c00\njal   0x800EC8EC ; ShowMessage: "_s item now belongs to _"\n addiu A3, A3, 0x1c00\njal   0x800EC6C8\n       NOP\njal   0x800EC6EC\n       NOP\njal   func_80110024\n       NOP\nL801182CC:\nlw    RA, 0x8c(SP)\nlw    S6, 0x88(SP)\nlw    S5, 0x84(SP)\nlw    S4, 0x80(SP)\nlw    S3, 0x7c(SP)\nlw    S2, 0x78(SP)\nlw    S1, 0x74(SP)\nlw    S0, 0x70(SP)\nldc1  F28, 0xb0(SP)\nldc1  F26, 0xa8(SP)\nldc1  F24, 0xa0(SP)\nldc1  F22, 0x98(SP)\nldc1  F20, 0x90(SP)\njr    RA\n addiu SP, SP, 0xb8\n\n; Shared happening space event.\n; Needs to exist and end the process, so that duels on happenings work.\nshared_happening_event:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\njal   EndProcess\nmove  A0, R0\njr    RA\naddiu SP, SP, 0x18\n\noverlaycall4:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\njal   InitCameras\n li    A0, 2\nlui   A1, hi(data_screen_dimensions)\naddiu A1, A1, lo(data_screen_dimensions)\njal   0x800124BC\n li    A0, 1\njal   setup_routine\n       NOP\njal   0x800FF41C\n li    A0, 2\nlui   A0, hi(').concat(V,")\naddiu A0, A0, lo(").concat(V,")\nli    A1, 4101\nli    A2, 4096\njal   InitProcess\n move  A3, R0\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nfunc_8011C5E0:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  S0, R0\njal   GetCurrentPlayerIndex\n li    S1, 99\nsll   V0, V0, 0x10\nsra   S2, V0, 0x10\nL8011C608:\njal   GetCurrentPlayerIndex\n       NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nbeql  S0, V0, L8011C668\n addiu S0, S0, 1\njal   0x800DA778\n move  A0, S0\nlui   A0, hi(D_8011F0E4)\njal   0x800DA190\n addiu A0, A0, lo(D_8011F0E4)\nsll   V0, V0, 0x10\nbnezl V0, L8011C668\n addiu S0, S0, 1\njal   0x800EE9C0\n move  A0, S0\nslt   V0, V0, S1\nbeql  V0, R0, L8011C668\n addiu S0, S0, 1\njal   0x800EE9C0\n move  A0, S0\nmove  S1, V0\nmove  S2, S0\naddiu S0, S0, 1\nL8011C668:\nslti  V0, S0, 4\nbnez  V0, L8011C608\n move  V0, S2\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_8011C68C:\naddiu SP, SP, -0x20\nsw    RA, 0x1c(SP)\nsw    S2, 0x18(SP)\nsw    S1, 0x14(SP)\njal   GetCurrentPlayerIndex\n sw    S0, 0x10(SP)\nsll   V0, V0, 0x10\nlui   A0, hi(D_8011F2F4)\naddiu A0, A0, lo(D_8011F2F4)\njal   0x800DA190\n sra   S2, V0, 0x10\nsll   V0, V0, 0x10\nbeqz  V0, L8011C738\n move  V0, S2\nmove  S0, R0\nli    S1, 99\nL8011C6CC:\njal   GetCurrentPlayerIndex\n       NOP\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nbeql  S0, V0, L8011C72C\n addiu S0, S0, 1\njal   0x800DA778\n move  A0, S0\nlui   A0, hi(D_8011F600)\njal   0x800DA190\n addiu A0, A0, lo(D_8011F600)\nsll   V0, V0, 0x10\nbnezl V0, L8011C72C\n addiu S0, S0, 1\njal   0x800EE9C0\n move  A0, S0\nslt   V0, V0, S1\nbeql  V0, R0, L8011C72C\n addiu S0, S0, 1\njal   0x800EE9C0\n move  A0, S0\nmove  S1, V0\nmove  S2, S0\naddiu S0, S0, 1\nL8011C72C:\nslti  V0, S0, 4\nbnez  V0, L8011C6CC\n move  V0, S2\nL8011C738:\nlw    RA, 0x1c(SP)\nlw    S2, 0x18(SP)\nlw    S1, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x20\n\nfunc_8011C750:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nlui   S0, hi(total_turns)\nlb    S0, lo(total_turns)(S0)\nlui   V0, hi(current_turn)\nlb    V0, lo(current_turn)(V0)\nsubu  S0, S0, V0\naddiu S0, S0, 1\njal   PlayerHasEmptyItemSlot\n li    A0, -1\nmove  V1, V0\nli    V0, -1\nbeql  V1, V0, L8011C78C\n li    V1, 3\nL8011C78C:\nslt   V0, V1, S0\nxori  V0, V0, 1\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nfunc_8011C7A4:\naddiu SP, SP, -0x18\nsw    RA, 0x14(SP)\nsw    S0, 0x10(SP)\nmove  T2, A0\nli    S0, 1\nmove  A2, R0\nlui   T0, hi(current_player_index)\nlb    T0, lo(current_player_index)(T0)\nlui   T1, hi(p1_item1)\naddiu T1, T1, lo(p1_item1)\nL8011C7CC:\nbeq   A2, T0, L8011C824\n move  A0, R0\nsll   V0, A2, 3\nsubu  V0, V0, A2\nsll   V0, V0, 3\naddu  A3, V0, T1\naddu  V0, A3, A0\nL8011C7E8:\nlb    V0, 0(V0)\nxori  V1, V0, 6\nsltiu V1, V1, 1\nxori  V0, V0, 0x10\nsltiu V0, V0, 1\nor    V1, V1, V0\nbnez  V1, L8011C81C\n slti  V0, A0, 3\naddiu A0, A0, 1\nslti  V0, A0, 3\nbnez  V0, L8011C7E8\n addu  V0, A3, A0\nslti  V0, A0, 3\nL8011C81C:\nbnez  V0, L8011C834\n slti  V0, A2, 4\nL8011C824:\naddiu A2, A2, 1\nslti  V0, A2, 4\nbnez  V0, L8011C7CC\n       NOP\nL8011C834:\nbeqz  V0, L8011C878\n sll   V0, A2, 3\nsubu  V0, V0, A2\nsll   V0, V0, 3\nlui   A0, hi(p1_cpu_difficulty)\naddu  A0, A0, V0\nlbu   A0, lo(p1_cpu_difficulty)(A0)\nmult  A1, A0\nmflo  A0\naddu  A0, T2, A0\nsll   A0, A0, 0x18\njal   RNGPercentChance\n sra   A0, A0, 0x18\nsll   V0, V0, 0x10\nsltiu V0, V0, 1\nsubu  V0, R0, V0\nand   S0, V0, S0\nL8011C878:\nmove  V0, S0\nlw    RA, 0x14(SP)\nlw    S0, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\nD_8011C88C:\naddiu SP, SP, -0x48\nsw    RA, 0x40(SP)\nsw    S7, 0x3c(SP)\nsw    S6, 0x38(SP)\nsw    S5, 0x34(SP)\nsw    S4, 0x30(SP)\nsw    S3, 0x2c(SP)\nsw    S2, 0x28(SP)\nsw    S1, 0x24(SP)\njal   GetCurrentPlayerIndex\n sw    S0, 0x20(SP)\nsll   V0, V0, 0x10\nsra   S0, V0, 0x10\nlui   S2, hi(CORE_800CD058)\naddiu S2, S2, lo(CORE_800CD058)\nlhu   V0, 0x50(S2)\nandi  V0, V0, 1\nbnez  V0, L8011CE68\n li    V0, -1\nmove  S1, R0\nli    S3, -1\nsll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   S4, hi(p1_item1)\naddiu S4, S4, lo(p1_item1)\naddu  S6, V0, S4\nsll   S7, S0, 3\nsubu  S7, S7, S0\nlui   S5, hi(CORE_80100FA8)\naddiu S5, S5, lo(CORE_80100FA8)\nsll   V0, S1, 2\nL8011C90C:\naddiu V1, SP, 0x10\naddu  V0, V0, V1\nsw    S3, 0(V0)\naddu  V0, S6, S1\nlb    A2, 0(V0)\naddiu V1, A2, 1\nsltiu V0, V1, 0x14\nbeqz  V0, L8011CDA0\n sll   V0, V1, 2\nlui   AT, hi(D_8011FA20_jump_table)\naddu  AT, AT, V0\nlw    V0, lo(D_8011FA20_jump_table)(AT)\njr    V0\n       NOP\nL8011C944:\nmove  A0, R0\nmove  V1, R0\naddu  V0, S6, A0\nL8011C950:\nlb    V0, 0(V0)\nxor   V0, V0, A2\nsltiu V0, V0, 1\naddu  V1, V1, V0\naddiu A0, A0, 1\nslti  V0, A0, 3\nbnez  V0, L8011C950\n addu  V0, S6, A0\nj     L8011CD98\n slti  V0, V1, 2\nL8011C978:\nlb    V1, 2(S2)\nlb    V0, 3(S2)\nbne   V1, V0, L8011C998\n       NOP\njal   0x800EEA58\n lb    A0, 0xf(S2)\nbnez  V0, L8011CDA4\n sll   V1, S1, 2\nL8011C998:\nlb    V0, 2(S2)\nlb    V1, 3(S2)\nsubu  V0, V0, V1\nslti  V0, V0, 6\nbnezl V0, L8011CDCC\n addiu S1, S1, 1\nlb    A0, 0xf(S2)\njal   0x800EEA58\n       NOP\nbeqz  V0, L8011CDA4\n sll   V1, S1, 2\nj     L8011CDCC\n addiu S1, S1, 1\nL8011C9CC:\njal   func_8011C750\n       NOP\nbnez  V0, L8011CDA4\n sll   V1, S1, 2\nj     L8011CBAC\n li    A0, 80\nL8011C9E4:\nsll   V0, S7, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nbeqz  V0, L8011CDA0\n move  A0, R0\nL8011C9FC:\nbeq   A0, S0, L8011CA20\n sll   V0, A0, 3\nsubu  V0, V0, A0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nbeqz  V0, L8011CA30\n slti  V0, A0, 4\nL8011CA20:\naddiu A0, A0, 1\nslti  V0, A0, 4\nbnez  V0, L8011C9FC\n       NOP\nL8011CA30:\nbeqz  V0, L8011CDA4\n sll   V1, S1, 2\njal   RNGPercentChance\n li    A0, 70\nj     L8011CD64\n sll   V0, V0, 0x10\nL8011CA48:\njal   func_8011C750\n       NOP\nbnez  V0, L8011CDA4\n sll   V1, S1, 2\nlui   A0, hi(D_8011EB98)\nj     L8011CD8C\n addiu A0, A0, lo(D_8011EB98)\nL8011CA64:\njal   func_8011C750\n       NOP\nbnez  V0, L8011CDA4\n sll   V1, S1, 2\nlui   A0, hi(D_8011EBEC)\nj     L8011CD8C\n addiu A0, A0, lo(D_8011EBEC)\nL8011CA80:\nlui   A0, hi(D_8011EE38)\nj     L8011CD8C\n addiu A0, A0, lo(D_8011EE38)\nL8011CA8C:\nlui   A0, hi(D_8011F18C)\njal   0x800DA190\n addiu A0, A0, lo(D_8011F18C)\nsll   V0, V0, 0x10\nbnezl V0, L8011CDCC\n addiu S1, S1, 1\njal   func_8011C5E0\n       NOP\nlui   AT, hi(D_8011FBBC)\nsw    V0, lo(D_8011FBBC)(AT)\nlui   V1, hi(CORE_800CD0AE)\nlh    V1, lo(CORE_800CD0AE)(V1)\nsrav  V1, V1, V0\nandi  V1, V1, 1\nbnezl V1, L8011CDCC\n addiu S1, S1, 1\nj     L8011CDA4\n sll   V1, S1, 2\nL8011CAD4:\nlui   A0, hi(D_8011F4EC)\njal   0x800DA190\n addiu A0, A0, lo(D_8011F4EC)\nsll   V0, V0, 0x10\nbnezl V0, L8011CDCC\n addiu S1, S1, 1\njal   func_8011C68C\n       NOP\nlui   AT, hi(D_8011FBB8)\nsw    V0, lo(D_8011FBB8)(AT)\nsll   V1, V0, 3\nsubu  V1, V1, V0\nsll   V1, V1, 3\nlui   V0, hi(p1_status_flags)\naddu  V0, V0, V1\nlbu   V0, lo(p1_status_flags)(V0)\nj     L8011CD98\n andi  V0, V0, 0x80\nL8011CB1C:\nmove  A0, R0\nmove  A2, R0\nlui   AT, hi(D_8011FB74)\nsw    S3, lo(D_8011FB74)(AT)\nL8011CB2C:\nbeq   A0, S0, L8011CB84\n sll   V0, A0, 3\nmove  A1, R0\nsubu  V0, V0, A0\nsll   V0, V0, 3\naddu  A3, V0, S4\naddu  V0, A3, A1\nL8011CB48:\nlb    V0, 0(V0)\nbeq   V0, S3, L8011CB74\n sll   V0, V0, 2\naddu  V0, V0, S5\nlw    V1, 0(V0)\nslt   V0, A2, V1\nbeql  V0, R0, L8011CB78\n addiu A1, A1, 1\nmove  A2, V1\nlui   AT, hi(D_8011FB74)\nsw    A0, lo(D_8011FB74)(AT)\nL8011CB74:\naddiu A1, A1, 1\nL8011CB78:\nslti  V0, A1, 3\nbnez  V0, L8011CB48\n addu  V0, A3, A1\nL8011CB84:\naddiu A0, A0, 1\nslti  V0, A0, 4\nbnez  V0, L8011CB2C\n       NOP\nlui   V0, hi(D_8011FB74)\nlw    V0, lo(D_8011FB74)(V0)\nbeq   V0, S3, L8011CDC8\n slti  V0, A2, 4\nbeqz  V0, L8011CDA0\n li    A0, 5\nL8011CBAC:\njal   RNGPercentChance\n       NOP\nsll   V0, V0, 0x10\nbeql  V0, R0, L8011CDCC\n addiu S1, S1, 1\nj     L8011CDA4\n sll   V1, S1, 2\nL8011CBC8:\nmove  A0, R0\nmove  A2, R0\nL8011CBD0:\nbeql  A0, S1, L8011CC0C\n addiu A0, A0, 1\nlb    V1, 0xf(S2)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\naddu  V0, V0, S4\naddu  V0, V0, A0\nlb    V0, 0(V0)\nbeq   V0, S3, L8011CC08\n sll   V0, V0, 2\naddu  V0, V0, S5\nlw    V0, 0(V0)\naddu  A2, A2, V0\nL8011CC08:\naddiu A0, A0, 1\nL8011CC0C:\nslti  V0, A0, 3\nbnez  V0, L8011CBD0\n       NOP\nmove  A0, R0\nlui   AT, hi(D_8011FB70)\nsw    S3, lo(D_8011FB70)(AT)\nL8011CC24:\nbeq   A0, S0, L8011CC84\n move  V1, R0\nmove  A1, R0\nsll   V0, A0, 3\nsubu  V0, V0, A0\nsll   V0, V0, 3\naddu  A3, V0, S4\naddu  V0, A3, A1\nL8011CC44:\nlb    V0, 0(V0)\nbeq   V0, S3, L8011CC5C\n sll   V0, V0, 2\naddu  V0, V0, S5\nlw    V0, 0(V0)\naddu  V1, V1, V0\nL8011CC5C:\naddiu A1, A1, 1\nslti  V0, A1, 3\nbnez  V0, L8011CC44\n addu  V0, A3, A1\nslt   V0, A2, V1\nbeql  V0, R0, L8011CC88\n addiu A0, A0, 1\nlui   AT, hi(D_8011FB70)\nsw    A0, lo(D_8011FB70)(AT)\nmove  A2, V1\nL8011CC84:\naddiu A0, A0, 1\nL8011CC88:\nslti  V0, A0, 4\nbnez  V0, L8011CC24\n       NOP\nlui   V0, hi(D_8011FB70)\nlw    V0, lo(D_8011FB70)(V0)\nbeql  V0, S3, L8011CDCC\n addiu S1, S1, 1\nj     L8011CDA4\n sll   V1, S1, 2\nL8011CCAC:\nli    A0, 50\njal   func_8011C7A4\n li    A1, 10\nbeqz  V0, L8011CDA0\n sll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nj     L8011CD98\n slti  V0, V0, 5\nL8011CCDC:\nlb    V1, 2(S2)\nlb    V0, 3(S2)\nbeq   V1, V0, L8011CDC8\n sll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nj     L8011CD98\n slti  V0, V0, 5\nL8011CD08:\nli    A0, 60\njal   func_8011C7A4\n li    A1, 10\nbeqz  V0, L8011CDA0\n sll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslti  V0, V0, 0x14\nbnezl V0, L8011CDCC\n addiu S1, S1, 1\nlui   A0, hi(D_8011EFA0)\nj     L8011CD8C\n addiu A0, A0, lo(D_8011EFA0)\nL8011CD48:\nsll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslti  V0, V0, 0xa\nL8011CD64:\nbeqz  V0, L8011CDA4\n sll   V1, S1, 2\njal   func_8011C750\n       NOP\nbeql  V0, R0, L8011CDCC\n addiu S1, S1, 1\nj     L8011CDA4\n sll   V1, S1, 2\nL8011CD84:\nlui   A0, hi(D_8011F66C)\naddiu A0, A0, lo(D_8011F66C)\nL8011CD8C:\njal   0x800DA190\n       NOP\nsll   V0, V0, 0x10\nL8011CD98:\nbnezl V0, L8011CDCC\n addiu S1, S1, 1\nL8011CDA0:\nsll   V1, S1, 2\nL8011CDA4:\naddiu V0, SP, 0x10\naddu  V1, V1, V0\nsll   V0, S0, 3\nsubu  V0, V0, S0\nsll   V0, V0, 3\naddu  V0, V0, S4\naddu  V0, V0, S1\nlb    V0, 0(V0)\nsw    V0, 0(V1)\nL8011CDC8:\naddiu S1, S1, 1\nL8011CDCC:\nslti  V0, S1, 3\nbnez  V0, L8011C90C\n sll   V0, S1, 2\nmove  S1, R0\nmove  A0, R0\nmove  A1, R0\naddiu A3, SP, 0x10\nli    T2, -1\nli    T1, 18\nlui   T0, hi(CORE_80100FF4)\naddiu T0, T0, lo(CORE_80100FF4)\nsll   V0, A1, 2\nL8011CDFC:\naddu  V0, V0, A3\nlw    A2, 0(V0)\nbeql  A2, T2, L8011CE50\n addiu A1, A1, 1\nlb    V1, 2(S2)\nlb    V0, 3(S2)\nbne   V1, V0, L8011CE24\n sll   V0, A1, 2\nbeql  A2, T1, L8011CE68\n move  V0, A1\nL8011CE24:\naddu  V0, V0, A3\nlw    V0, 0(V0)\nsll   V0, V0, 2\naddu  V0, V0, T0\nlw    V1, 0(V0)\nslt   V0, S1, V1\nbeql  V0, R0, L8011CE50\n addiu A1, A1, 1\nmove  A0, A1\nmove  S1, V1\naddiu A1, A1, 1\nL8011CE50:\nslti  V0, A1, 3\nbnezl V0, L8011CDFC\n sll   V0, A1, 2\nbeqz  S1, L8011CE68\n li    V0, -1\nmove  V0, A0\nL8011CE68:\nlw    RA, 0x40(SP)\nlw    S7, 0x3c(SP)\nlw    S6, 0x38(SP)\nlw    S5, 0x34(SP)\nlw    S4, 0x30(SP)\nlw    S3, 0x2c(SP)\nlw    S2, 0x28(SP)\nlw    S1, 0x24(SP)\nlw    S0, 0x20(SP)\njr    RA\n addiu SP, SP, 0x48\n\nfunc_8011CE94:\naddiu SP, SP, -0x40\nsw    RA, 0x3c(SP)\nsw    FP, 0x38(SP)\nsw    S7, 0x34(SP)\nsw    S6, 0x30(SP)\nsw    S5, 0x2c(SP)\nsw    S4, 0x28(SP)\nsw    S3, 0x24(SP)\nsw    S2, 0x20(SP)\nsw    S1, 0x1c(SP)\nsw    S0, 0x18(SP)\nlui   S4, hi(CORE_800CD058)\naddiu S4, S4, lo(CORE_800CD058)\njal   GetPlayerStruct\n li    A0, -1\nmove  S3, V0\nli    A2, 1\nsw    A2, 0x14(SP)\nmove  S1, R0\nlui   S7, hi(D_8011F7E0)\naddiu S7, S7, lo(D_8011F7E0)\nli    S6, -1\nlui   S5, hi(D_8011F880)\naddiu S5, S5, lo(D_8011F880)\nL8011CEF4:\nlbu   V0, 3(S3)\nsll   V0, V0, 2\naddu  V0, V0, S7\nlw    V0, 0(V0)\naddu  V0, V0, S1\nlbu   S0, 0(V0)\njal   func_8010B394\n move  A0, S0\nmove  S2, V0\nbeql  S2, S6, L8011CF84\n addiu S1, S1, 1\nlui   A0, hi(CORE_80100F94)\naddu  A0, A0, S0\nlbu   A0, lo(CORE_80100F94)(A0)\naddiu A0, A0, 0x14\nlb    V1, 0xf(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslt   V0, V0, A0\nbnezl V0, L8011CF84\n addiu S1, S1, 1\nlbu   V0, 3(S3)\nsll   V0, V0, 2\naddu  V0, V0, S5\nlw    V0, 0(V0)\naddu  V0, V0, S1\njal   RNGPercentChance\n lb    A0, 0(V0)\nsll   V0, V0, 0x10\nbnez  V0, L8011CF90\n li    V0, 16\naddiu S1, S1, 1\nL8011CF84:\nslti  V0, S1, 0x10\nbnez  V0, L8011CEF4\n li    V0, 16\nL8011CF90:\nbeql  S1, V0, L8011CF98\n li    S2, -1\nL8011CF98:\nli    V0, -1\nbeq   S2, V0, L8011D028\n       NOP\njal   func_8010B394\n li    A0, 14\nbeq   V0, S2, L8011D1C8\n addiu V0, S2, 1\njal   func_8010B394\n li    A0, 11\nbne   V0, S2, L8011CFF8\n       NOP\nlui   A0, hi(CORE_80100F9F)\nlbu   A0, lo(CORE_80100F9F)(A0)\naddiu A0, A0, 0x32\nlb    V1, 0xf(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslt   V0, V0, A0\nbeqz  V0, L8011D1C8\n addiu V0, S2, 1\nL8011CFF8:\njal   func_8010B394\n li    A0, 4\nbne   V0, S2, L8011D028\n       NOP\nlb    A0, 0xf(S4)\njal   PlayerHasItem\n li    A1, ITEM_CELLULAR_SHOPPER\nli    V1, -1\nbeq   V0, V1, L8011D028\n       NOP\nli    S2, -1\nsw    R0, 0x14(SP)\nL8011D028:\nlui   V0, hi(D_8011E1D8)\nlw    V0, lo(D_8011E1D8)(V0)\nsll   V0, V0, 2\nlui   A0, hi(D_8011F8A0)\naddu  A0, A0, V0\njal   0x800DA190\n lw    A0, lo(D_8011F8A0)(A0)\nsll   V0, V0, 0x10\nbnez  V0, L8011D09C\n li    V0, -1\nlb    V1, 0xf(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nlui   V1, hi(CORE_80100F95)\nlbu   V1, lo(CORE_80100F95)(V1)\nslt   V0, V0, V1\nbnez  V0, L8011D09C\n li    V0, -1\njal   func_8010B394\n li    A0, 1\nmove  V1, V0\nli    V0, -1\nbne   V1, V0, L8011D1C8\n addiu V0, V1, 1\nli    V0, -1\nL8011D09C:\nbne   S2, V0, L8011D1C8\n addiu V0, S2, 1\nlui   V0, hi(D_8011E1D8)\nlw    V0, lo(D_8011E1D8)(V0)\nsll   V0, V0, 2\nlui   A0, hi(D_8011F8A8)\naddu  A0, A0, V0\njal   0x800DA190\n lw    A0, lo(D_8011F8A8)(A0)\nsll   V0, V0, 0x10\nsra   S1, V0, 0x10\nbnez  S1, L8011D194\n       NOP\nlui   FP, hi(D_8011F7E0)\naddiu FP, FP, lo(D_8011F7E0)\nlw    A2, 0x14(SP)\nsltiu S5, A2, 1\nli    S7, -1\nlui   S6, hi(D_8011F880)\naddiu S6, S6, lo(D_8011F880)\nL8011D0EC:\nlbu   V0, 3(S3)\nsll   V0, V0, 2\naddu  V0, V0, FP\nlw    V0, 0(V0)\naddu  V0, V0, S1\nlbu   S0, 0(V0)\nxori  V0, S0, 4\nsltiu V0, V0, 1\nand   V0, V0, S5\nbnezl V0, L8011D188\n addiu S1, S1, 1\njal   func_8010B394\n move  A0, S0\nmove  S2, V0\nbeql  S2, S7, L8011D188\n addiu S1, S1, 1\nlui   A0, hi(CORE_80100F94)\naddu  A0, A0, S0\nlbu   A0, lo(CORE_80100F94)(A0)\nlb    V1, 0xf(S4)\nsll   V0, V1, 3\nsubu  V0, V0, V1\nsll   V0, V0, 3\nlui   AT, hi(p1_coins)\naddu  AT, AT, V0\nlh    V0, lo(p1_coins)(AT)\nslt   V0, V0, A0\nbnezl V0, L8011D188\n addiu S1, S1, 1\nlbu   V0, 3(S3)\nsll   V0, V0, 2\naddu  V0, V0, S6\nlw    V0, 0(V0)\naddu  V0, V0, S1\njal   RNGPercentChance\n lb    A0, 0(V0)\nsll   V0, V0, 0x10\nbnez  V0, L8011D1C4\n addiu S1, S1, 1\nL8011D188:\nslti  V0, S1, 0x10\nbnez  V0, L8011D0EC\n       NOP\nL8011D194:\njal   func_8010B394\n move  A0, R0\nmove  S2, V0\nli    V0, -1\nbnel  S2, V0, L8011D1C8\n addiu V0, S2, 1\nli    V0, 1\nlui   AT, hi(D_8011F75C)\njal   func_8010B41C\n sw    V0, lo(D_8011F75C)(AT)\nj     L8011D1C8\n addiu V0, V0, 2\nL8011D1C4:\naddiu V0, S2, 1\nL8011D1C8:\nlw    RA, 0x3c(SP)\nlw    FP, 0x38(SP)\nlw    S7, 0x34(SP)\nlw    S6, 0x30(SP)\nlw    S5, 0x2c(SP)\nlw    S4, 0x28(SP)\nlw    S3, 0x24(SP)\nlw    S2, 0x20(SP)\nlw    S1, 0x1c(SP)\nlw    S0, 0x18(SP)\njr    RA\n addiu SP, SP, 0x40\n\nfunc_8011D1F8:\naddiu SP, SP, -0x18\nsw    RA, 0x10(SP)\nlui   V0, hi(D_8011F75C)\nlw    V0, lo(D_8011F75C)(V0)\nbnezl V0, L8011D23C\n li    V0, 2\nlui   V0, hi(D_8011E1D8)\nlw    V0, lo(D_8011E1D8)(V0)\nsll   V0, V0, 2\nlui   A0, hi(D_8011F8B0)\naddu  A0, A0, V0\njal   0x800DA190\n lw    A0, lo(D_8011F8B0)(A0)\nsll   V0, V0, 0x10\nsra   V0, V0, 0x10\nj     L8011D244\n addiu V0, V0, 1\nL8011D23C:\nlui   AT, hi(D_8011F75C)\nsw    R0, lo(D_8011F75C)(AT)\nL8011D244:\nlw    RA, 0x10(SP)\njr    RA\n addiu SP, SP, 0x18\n\n.align 16\n\n; 8011D250\nrodata:\noverlaycalls:\n.word 0x00000000, overlaycall0\n.word 0x00010000, overlaycall1\n.word 0x00020000, overlaycall2\n.word 0x00030000, overlaycall3\n.word 0x00040000, overlaycall4\n.word 0xFFFF0000, 0x00000000\n\n.align 4\nshuffle_order:\n.halfword ").concat(C.order.join(","),"\n\n.align 4\nshuffle_bias:\n.halfword ").concat(C.bias.join(","),"\n\n.align 4\nD_8011D2A0:\n.halfword 0x6 0x7 0x8 0x9 0xA 0xB 0xC 0xD\n\n.align 4\nstar_space_indices:\n.halfword ").concat(w.join(",")||0,"\n\n.align 4\n; toad spaces\nD_8011D2C0:\n.halfword ").concat(D.join(",")||0,"\n\n.align 4\n; dir/file of various tumble face textures\nD_8011D2D0:\ntumble_face_tex_grin:\n.halfword 0xA 0x7E\ntumble_face_tex_frown:\n.halfword 0xA 0x7F\ntumble_face_tex_sad:\n.halfword 0xA 0x80\ntumble_face_tex_smile:\n.halfword 0xA 0x81\ntumble_face_tex_despair:\n.halfword 0xA 0x82\ntumble_face_tex_gasp:\n.halfword 0xA 0x83\ntumble_face_tex_beaming:\n.halfword 0xA 0x84\n\nD_8011D2EC:\n.word 0x00005E02\n.word 0x00005E03\n.word 0x00005E04\n.word 0x00005E05\n.word 0x00005E06\n.word 0x00005E07\n.word 0x00005E08\n\n; used in star celebration?\nD_8011D308:\n.word 0x00000000\n\nD_8011D30C:\n.word 0x00000000\n\nD_8011D310:\n.word 0xBF800000\n\nD_8011D314:\n.word 0x00000000\n\nD_8011D318:\n.word 0x00000000\n\n; passed as addr, may be u16\n; is this the array of hidden block banned spaces?\nD_8011D31C:\n.word 0xFFFF0000\n\n.align 4\n; star spaces 2\nD_8011D320:\n.halfword ").concat(w.join(",")," 0xFFFF\n\n.align 4\n; interleaving array?\nD_8011D334: .halfword 0x7\nD_8011D336: .halfword 0xFFFF\n.halfword 0x0001 0xFFFA\n.halfword 0x0001 0xFFF9\n.halfword 0x0001 0xFFF9\n.halfword 0xFFFB 0xFFFB\n.halfword 0x0002 0xFFF9\n.halfword 0x0001 0xFFF9\n.halfword 0xFFFC 0xFFF7\n\n; boo\nD_8011D354: .halfword 2\nD_8011D356: .halfword 0\nD_8011D358: .halfword 2\n.align 4\n\n; used with bank, interleaving arrays?\nD_8011D35C: .halfword 0x0001\nD_8011D35E: .halfword 0xFFFE\n.halfword 0x0000 0xFFFC\n\nD_8011D364: .halfword 0x0001\nD_8011D366: .halfword 0xFFFC\n.halfword 0x0005 0x0000\n\nD_8011D36C: .halfword 0x0000\nD_8011D36E: .halfword 0x0000\n.halfword 0x00000 0xFFFD\n\n; gate neighbors\ngate_entrance_spaces:\n.halfword ").concat($[0].gateEntryIndex,"\ngate_exit_spaces:\n.halfword ").concat($[0].gateExitIndex,"\n.halfword ").concat($[1].gateEntryIndex,"\n.halfword ").concat($[1].gateExitIndex,"\n\n.align 4\n; toad spaces 2\nD_8011D37C:\n.halfword ").concat(D.join(",")||0,"\n\n.align 4\nD_8011D38C:\n.halfword 0x06 0x07 0x08 0x09 0x0A 0x0B 0x0C 0x0D\n\n.align 4\nboo_space_indices:\n.halfword ").concat(c,"\n\n.align 4\nbank_coin_space_indices:\n.halfword ").concat(N.join(","),"\n\n.align 4\n; bank coin coordinates?\nD_8011D3A4: .word 0xC0400000\nD_8011D3A8: .word 0x00000000\nD_8011D3AC: .word 0xC0000000\nD_8011D3B0: .word 0x00000000\nD_8011D3B4: .word 0x40000000\nD_8011D3B8: .word 0x40000000\nD_8011D3BC: .word 0x3F800000\nD_8011D3C0: .word 0x40B00000\nD_8011D3C4: .word 0xC0400000\nD_8011D3C8: .word 0x40600000\nD_8011D3CC: .word 0x41000000\nD_8011D3D0: .word 0x40800000\nD_8011D3D4: .word 0xBF800000\nD_8011D3D8: .word 0x41400000\nD_8011D3DC: .word 0x41300000\n\nD_8011D3E0: .word 0x00000000\nD_8011D3E4: .word 0x00000000\n\nD_8011D3E8: .word 0x00000000\nD_8011D3EC: .word 0x00000000\nD_8011D3F0: .word 0x00000000\nD_8011D3F4: .word 0x00000000\nD_8011D3F8: .word 0xC1700000\nD_8011D3FC: .word 0x00000000\nD_8011D400: .word 0x00000000\nD_8011D404: .word 0x41A00000\nD_8011D408: .word 0x00000000\nD_8011D40C: .word 0xC1F00000\nD_8011D410: .word 0x42340000\nD_8011D414: .word 0x00000000\nD_8011D418: .word 0x42340000\n\n.align 4\ngate_spaces:\n.halfword ").concat($.map((function(e){return e.gateSpaceIndex})).join(","),"\n\n.align 16\n; indices into a list of main fs models\n; for the gate graphics. Don't change.\nD_8011D420: .byte 0x00\nD_8011D421: .byte 0x26\n.halfword 0x27\nD_8011D424: .halfword 0x28 0x29\nD_8011D428: .halfword 0x2A 0x2B\n\n; MTNX files for each gate type.\nD_8011D42C:\n.word 0x00000001 0x00130163\nD_8011D434:\n.word 0x00000001 0x00130168\nD_8011D43C:\n.word 0x00000001 0x0013016F\nD_8011D444:\n.word 0x00000001 0x00130176\nD_8011D44C:\n.word 0x00000001 0x00130180\nD_8011D454:\n.word 0x00000001 0x00130184\n\nD_8011D45C:\n.word D_8011D42C\n.word D_8011D434\n.word D_8011D43C\n.word D_8011D444\n.word D_8011D44C\n.word D_8011D454\n\n; sound that plays when the gate opens. 0x148 is raw sound 0x7E.\nD_8011D474:\n.word 0x00000148\n.word 0x00000148\n.word 0x00000148\n.word 0x00000148\n.word 0x00000148\n.word 0x00000148\n\nD_8011D48C: .word 0xFFFFFFFF\nD_8011D490: .word 0xFFFFFFFF\nD_8011D494: .word 0xFFFFFFFF\nD_8011D498: .halfword 0xFFFF\nD_8011D49A: .halfword 0xFFFF\nD_8011D49C: .word 0xFFFFFFFF\nD_8011D4A0: .word 0xFFFFFFFF\nD_8011D4A4: .word 0xFFFFFFFF\nD_8011D4A8: .word 0xFFFFFFFF\nD_8011D4AC: .word 0xFFFFFFFF\nD_8011D4B0: .word 0xFFFFFFFF\nD_8011D4B4: .word 0xFFFFFFFF\nD_8011D4B8: .word 0xFFFFFFFF\n\nD_8011D4BC: .word 0xFFFFFFFF\nD_8011D4C0: .word 0xFFFFFFFF\nD_8011D4C4: .word 0xFFFFFFFF\nD_8011D4C8: .word 0xFFFFFFFF\nD_8011D4CC: .word 0xFFFFFFFF\nD_8011D4D0: .word 0xFFFFFFFF\nD_8011D4D4: .word 0xFFFFFFFF\nD_8011D4D8: .word 0xFFFFFFFF\nD_8011D4DC: .word 0xFFFFFFFF\n\nD_8011D4E0: .word 0xFFFFFFFF\nD_8011D4E4: .word 0xFFFFFFFF\nD_8011D4E8: .word 0xFFFFFFFF\nD_8011D4EC: .word 0xFFFFFFFF\nD_8011D4F0: .word 0xFFFFFFFF\nD_8011D4F4: .word 0xFFFFFFFF\nD_8011D4F8: .word 0xFFFFFFFF\nD_8011D4FC: .word 0xFFFFFFFF\nD_8011D500: .word 0xFFFFFFFF\n\n.align 4\nbank_model_space_indices:\n.halfword ").concat(U.join(","),"\n\n.align 4\nitem_shop_model_space_indices:\n.halfword ").concat(K.join(","),'\n\n.align 4\n; Koopa Kard usage AI\nD_8011E058:\n.word 0x04000000 0x00F50014 0x0B541E1E\n.word 0x00000000 0x00000000 0x1B541E1E\n\n; bank main fs something\nD_8011E070:\n.word 0x00000001 0x000A009D\n\nD_8011E088: .word 0x00000000\nD_8011E08C: .word 0x01000000\nD_8011E090: .word 0x02030404\nD_8011E094: .word 0x00000000\nD_8011E098: .word 0x01000000\nD_8011E09C: .word 0x02030404\n\nD_8011E0A0:\n.byte 0x00 0x01 0x04 0x05 0x0A 0x0E 0x13\n.byte 0x00 0x01 0x04 0x05 0x0A 0x0C 0x13\n.byte 0x00 0x01 0x04 0x05 0x0A 0x13 0xFF\n.byte 0x00 0x01 0x04 0x08 0x0A 0x0C 0x13\n.byte 0x00 0x01 0x08 0x0A 0x0C 0x0E 0x13\n.byte 0x01 0x02 0x03 0x06 0x0D 0x0B 0x13\n.byte 0x01 0x02 0x03 0x06 0x09 0x0D 0x13\n.byte 0x01 0x02 0x03 0x07 0x0D 0x13 0xFF\n.byte 0x01 0x03 0x06 0x07 0x09 0x0D 0x13\n.byte 0x01 0x03 0x06 0x07 0x09 0x0B 0x13\n.byte 0x00 0x00 ; align 4\n\nD_8011E0E8: .word 0x00000101\nD_8011E0EC: .word 0x01020203\nD_8011E0F0: .word 0x02030304\nD_8011E0F4: .word 0x00000101\nD_8011E0F8: .word 0x01020203\nD_8011E0FC: .word 0x02030304\n\nD_8011E100: .word 0x1937414C\nD_8011E104: .word 0x51565B60\nD_8011E108: .word 0x62641E32\nD_8011E10C: .word 0x3C464B55\nD_8011E110: .word 0x5A5F6164\nD_8011E114: .word 0x192D343E\nD_8011E118: .word 0x4352585F\nD_8011E11C: .word 0x61641423\nD_8011E120: .word 0x282D374B\nD_8011E124: .word 0x555F6164\nD_8011E128: .word 0x0F191E28\nD_8011E12C: .word 0x2D46505C\nD_8011E130: .word 0x5F642135\nD_8011E134: .word 0x44494E53\nD_8011E138: .word 0x5D626400\nD_8011E13C: .word 0x1928373F\nD_8011E140: .word 0x49515B62\nD_8011E144: .word 0x64001426\nD_8011E148: .word 0x3A444B52\nD_8011E14C: .word 0x5A626400\nD_8011E150: .word 0x0F233741\nD_8011E154: .word 0x484F5561\nD_8011E158: .word 0x64000F19\nD_8011E15C: .word 0x2D37414B\nD_8011E160: .word 0x505F6400\n\nD_8011E164: .word 0x00010405\nD_8011E168: .word 0x080A0C0E\nD_8011E16C: .word 0x0F100102\nD_8011E170: .word 0x03060709\nD_8011E174: .word 0x0D0B1101\n\n; 3B is toad, 3D is baby bowser\nitem_shop_purchase_selection_messages:\n.word 0x00003B05\n.word 0x00003D05\n.word 0x00003B06\n.word 0x00003D06\n.word 0x00003B07\n.word 0x00003D07\n.word 0x00003B08\n.word 0x00003D08\n.word 0x00003B09\n.word 0x00003D09\n\nD_8011E1A0:\nitem_shop_prompt_to_buy_messages:\n.word 0x00003B00\n.word 0x00003D00\n\nD_8011E1A8:\nitem_shop_not_enough_coins_messages:\n.word 0x00003B01\n.word 0x00003D01\n\nD_8011E1B0:\nitem_shop_already_have_three_items_messages:\n.word 0x00003B02\n.word 0x00003D02\n\nD_8011E1B8:\nitem_shop_closed_messages:\n.word 0x00003B03\n.word 0x00003D03\n\nD_8011E1C0:\nitem_shop_cancelled_purchase_messages:\n.word 0x00003B04\n.word 0x00003D04\n\nD_8011E1C8:\n.word 0x00000001 0x000A0017\n\nD_8011E1D0:\n.word 0x00000001 0x000A00F0\n\nD_8011E1D8:\n.word 0\n\nD_8011E1EC: .word 0x42980000\nD_8011E1F0: .word 0x42500000\nD_8011E1F4: .word 0x43740000\nD_8011E1F8: .word 0x42500000\nD_8011E1FC: .word 0x42980000\nD_8011E200: .word 0x43400000\nD_8011E204: .word 0x43740000\nD_8011E208: .word 0x43400000\nD_8011E20C: .word 0xBF800000\n\nD_8011E210: .word 0xBF800000\nD_8011E214: .word 0x3F800000\nD_8011E218: .word 0xBF800000\nD_8011E21C: .word 0xBF800000\nD_8011E220: .word 0x3F800000\nD_8011E224: .word 0x3F800000\nD_8011E228: .word 0x3F800000\n\nD_8011E22C: .byte 0x01\nD_8011E22D: .byte 0x05\nD_8011E22E: .byte 0x0F 0x06\nD_8011E230: .word 0x0F191019\nD_8011E234: .word 0x1B1A231E\nD_8011E238: .word 0x242D202E\nD_8011E23C: .word 0x32230000\n\nD_8011E240: .byte 0x00\nD_8011E241: .byte 0x00\nD_8011E242: .byte 0x00 0x01\nD_8011E244: .word 0x0A010B0B\nD_8011E248: .word 0x040C0E02\nD_8011E24C: .word 0x0F0F0410\nD_8011E250: .word 0x17031821\nD_8011E254: .word 0x04222505\nD_8011E258: .word 0x26270228\nD_8011E25C: .word 0x31063236\nD_8011E260: .word 0x05373F07\nD_8011E264: .word 0x40400841\nD_8011E268: .word 0xFF090000\nD_8011E26C: .word 0x09070401\nD_8011E270: .word 0x00000000\n\nD_8011E274: .word 0x00000032\nD_8011E278: .word 0x00000050\nD_8011E27C: .word 0x00000064\n\nD_8011E280: .word 0x00000001\nD_8011E284: .word 0x00000000\nD_8011E288: .word 0x00000001\nD_8011E28C: .word 0x00000000\nD_8011E290: .word 0x00000000\nD_8011E294: .word 0x00000001\nD_8011E298: .word 0x00000000\n\nD_8011E354: .word 0x43240000\nD_8011E358: .word 0x42980000\nD_8011E35C: .word 0x430C0000\nD_8011E360: .word 0x42980000\nD_8011E364: .word 0x43240000\nD_8011E368: .word 0x42980000\nD_8011E36C: .word 0x430C0000\nD_8011E370: .word 0x42980000\nD_8011E374: .word 0x43040000\nD_8011E378: .word 0x42780000\nD_8011E37C: .word 0x435C0000\nD_8011E380: .word 0x42780000\nD_8011E384: .word 0x43040000\nD_8011E388: .word 0x43340000\nD_8011E38C: .word 0x435C0000\nD_8011E390: .word 0x43340000\n\nD_8011E394: .word 0x43240000\nD_8011E398: .word 0x42840000\nD_8011E39C: .word 0x43240000\nD_8011E3A0: .word 0x42840000\nD_8011E3A4: .word 0x43240000\nD_8011E3A8: .word 0x42840000\nD_8011E3AC: .word 0x43240000\nD_8011E3B0: .word 0x42840000\n\nD_8011E3B4: .word 0x43240000\n\nD_8011E3B8: .word 0x42980000\nD_8011E3BC: .word 0x43240000\nD_8011E3C0: .word 0x42980000\nD_8011E3C4: .word 0x43240000\nD_8011E3C8: .word 0x42980000\nD_8011E3CC: .word 0x43240000\nD_8011E3D0: .word 0x42980000\n\n; Message box AI - which shop will you choose?\nD_8011E3D4:\n.word 0x0D000000 0x00000000 0x0A142850\n.word 0x0D000000 0x00000001 0x064C9932\n.word 0x0D000000 0x00000002 0x03C78F1E\n.word 0x0D000000 0x00000003 0x08D1A346\n.word 0x0D000000 0x00000004 0x078F1E3C\n.word 0x0D000000 0x00000005 0x064C9932\n.word 0x0D000000 0x00000006 0x03C78F1E\n.word 0x0D000000 0x00000007 0x078F1E3C\n.word 0x00000000 0x00000000 0x064C9932\n\nD_8011E440: .word 0x00000014\nD_8011E444: .word 0x0000003C\nD_8011E448: .word 0x0000001E\nD_8011E44C: .word 0x00000032\nD_8011E450: .word 0x00000046\n\n; ai tree for throwing away skeleton key\nD_8011E454:\n.word 0x00000000 00000000 0x0C993264\n\nD_8011E460: .word 0xC1200000\nD_8011E464: .word 0x00000000\nD_8011E468: .word 0x41200000\nD_8011E46C: .word 0xC0A00000\nD_8011E470: .word 0x41200000\nD_8011E474: .word 0x40A00000\nD_8011E478: .word 0xC0A00000\nD_8011E47C: .word 0xC0A00000\nD_8011E480: .word 0x41200000\nD_8011E484: .word 0x00000000\nD_8011E488: .word 0xC0A00000\nD_8011E48C: .word 0x40A00000\n\nD_8011E490: .word 0xFFFFFFFF\n\nD_8011E494: .byte 0x43 0x44 0x45 0x00\n\nD_8011E498: .byte 0x14 0x3C 0x64 0x00\n\nD_8011E49C: .halfword 0\nD_8011E49E: .halfword 0x32\nD_8011E4A0: .word 0x00020050\nD_8011E4A4: .word 0x0004005A\nD_8011E4A8: .word 0x0008005E\nD_8011E4AC: .word 0x00100061\nD_8011E4B0: .word 0x00200063\nD_8011E4B4: .word 0x00400064\n\nD_8011E4B8: .byte 0xF0\nD_8011E4B9: .byte 0xDE\nD_8011E4BA: .byte 0x35 0xF7\nD_8011E4BC: .byte 0x1A 0x42 0x00 0x00\n\n.align 16\ndata_screen_dimensions:\n.word 00000000\n.word 00000000\n.word 0x43A00000 ; 320\n.word 0x43700000 ; 240\n\nD_8011E8C8:\n.word 0x0A000000 0x000C0004 0x0C96A846\n.word 0x0A000000 0x000D0002 0x0C96A846\n.word 0x0A000000 0x000E0003 0x0C96A846\n.word 0x00000000 0x00000000 0x00000000\nD_8011E8F8:\n.word 0x0C000000 0x0000000A 0x0000001E\n.word 0x10000000 0x0000000A D_8011E8C8\n.word 0x0C000000 0x00000019 0x0000001E\n.word 0x0A000000 0x00010008 0x0C96A846\n.word 0x0A000000 0x00100004 0x0C96A846\n.word 0x0C000000 0x0000001E 0x0000001E\n.word 0x0A000000 0x000A0204 0x0C96A846\n.word 0x0C000000 0x00000023 0x0000001E\n.word 0x0A000000 0x0005080A 0x0C96A846\n.word 0x0A000000 0x00080006 0x0C96A846\n.word 0x0A000000 0x000A0001 0x0C96A846\n.word 0x0A000000 0x00060000 0x0C96A846\n.word 0x00000000 0x00000000 0x00000000\nD_8011E994:\n.word 0x0C000000 0x00000014 0x0000001E\n.word 0x0A000000 0x00010B0C 0x0C96A846\n.word 0x0A000000 0x000F0006 0x0C96A846\n.word 0x0A000000 0x00030305 0x0C96A846\n.word 0x0A000000 0x00040001 0x0C96A846\n.word 0x0C000000 0x00000019 0x0000001E\n.word 0x0A000000 0x0001040A 0x0C96A846\n.word 0x0A000000 0x00100104 0x0C96A846\n.word 0x00000000 0x00000000 0x00000000\nD_8011EA00:\n.word 0x0C000000 0x00000014 0x0000001E\n.word 0x0A000000 0x00010B0C 0x0C96A846\n.word 0x0A000000 0x000F0609 0x0C96A846\n.word 0x0A000000 0x00020006 0x0C96A846\n.word 0x0A000000 0x00030005 0x0C96A846\n.word 0x0C000000 0x00000019 0x0000001E\n.word 0x0A000000 0x0001060A 0x0C96A846\n.word 0x0A000000 0x00100304 0x0C96A846\n.word 0x00000000 0x00000000 0x00000000\nD_8011EA6C:\n.word 0x0C000000 0x00000014 0x0000001E\n.word 0x0A000000 0x000F0009 0x0C96A846\n.word 0x0A000000 0x00020006 0x0C96A846\n.word 0x0A000000 0x00030305 0x0C96A846\n.word 0x0A000000 0x00040001 0x0C96A846\n.word 0x0A000000 0x00050003 0x0C96A846\n.word 0x0A000000 0x00070007 0x0C96A846\n.word 0x00000000 0x00000000 0x00000000\nD_8011EACC:\n.word 0x0C000000 0x00000014 0x0000001E\n.word 0x0A000000 0x000A0208 0x0C96A846\n.word 0x0C000000 0x00000019 0x0000001E\n.word 0x0A000000 0x00020206 0x0C96A846\n.word 0x0A000000 0x0005030A 0x0C96A846\n.word 0x0A000000 0x00080006 0x0C96A846\n.word 0x0A000000 0x000A0001 0x0C96A846\n.word 0x0A000000 0x000B0307 0x0C96A846\n.word 0x00000000 0x00000000 0x00000000\nD_8011EB38:\n.word 0x0C000000 0x00000005 0x0000001E\n.word 0x0A000000 0x000A020A 0x0C96A846\n.word 0x0A000000 0x000C0003 0x0C96A846\n.word 0x0A000000 0x000E0001 0x0C96A846\n.word 0x0C000000 0x0000000A 0x0000001E\n.word 0x0A000000 0x00080406 0x0C96A846\n.word 0x0A000000 0x000A0001 0x0C96A846\n.word 0x00000000 0x00000000 0x00000000\nD_8011EB98:\n.word 0x02000000 0x00000041 D_8011E8F8\n.word 0x02000000 0x00000002 D_8011E994\n.word 0x02000000 0x00000004 D_8011EA00\n.word 0x02000000 0x00000008 D_8011EA6C\n.word 0x02000000 0x00000030 D_8011EACC\n.word 0x02000000 0x00000080 D_8011EB38\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011EBEC:\n.word 0x00000000 0x00000000 0x0A119E32\n\nD_8011EBF8:\n.word 0x0A000000 0x0001090C 0x0000028A\n.word 0x0A000000 0x00020000 0x0000028A\n.word 0x0B000000 0x0001090C 0x0B54233C\n.word 0x0B000000 0x00020000 0x0B54233C\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000E0002 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011EC4C:\n.word 0x0A000000 0x000F0709 0x0000028A\n.word 0x0A000000 0x00030001 0x0000028A\n.word 0x0B000000 0x000F0709 0x0B54233C\n.word 0x0B000000 0x00030001 0x0B54233C\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000E0002 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011ECA0:\n.word 0x0A000000 0x00070106 0x0000028A\n.word 0x0B000000 0x00070106 0x0B54233C\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000E0002 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011ECDC:\n.word 0x0A000000 0x00050408 0x0000028A\n.word 0x0B000000 0x00050408 0x0B54233C\n.word 0x0A000000 0x000A0004 0x0000028A\n.word 0x0B000000 0x000A0004 0x0B54233C\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000E0002 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011ED30:\n.word 0x0A000000 0x000A080A 0x0000028A\n.word 0x0A000000 0x000B0001 0x0000028A\n.word 0x0B000000 0x000A080A 0x0B54233C\n.word 0x0B000000 0x000B0001 0x0B54233C\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000E0002 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011ED84:\n.word 0x0A000000 0x000C0103 0x0000028A\n.word 0x0A000000 0x000D0000 0x0000028A\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000D0000 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011EDC0:\n.word 0x0A000000 0x0001080C 0x0000028A\n.word 0x0B000000 0x0001080C 0x0B54233C\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000E0002 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011EDFC:\n.word 0x0A000000 0x00010002 0x0000028A\n.word 0x0A000000 0x000E0102 0x0000028A\n.word 0x0B000000 0x0001080C 0x0B54233C\n.word 0x0B000000 0x000E0102 0x0B54233C\n.word 0x00000000 0x00000000 0x02878F1E\nD_8011EE38:\n.word 0x02000000 0x00000001 D_8011EBF8\n.word 0x02000000 0x00000002 D_8011EC4C\n.word 0x02000000 0x00000004 D_8011ECA0\n.word 0x02000000 0x00000008 D_8011ECDC\n.word 0x02000000 0x00000010 D_8011ED30\n.word 0x02000000 0x00000020 D_8011ED84\n.word 0x02000000 0x00000040 D_8011EDC0\n.word 0x02000000 0x00000080 D_8011EDFC\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011EEA4:\n.word 0x0A000000 0x0001090C 0x0000028A\n.word 0x0A000000 0x00020000 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EEC8:\n.word 0x0A000000 0x000F0709 0x0000028A\n.word 0x0A000000 0x00030001 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EEEC:\n.word 0x0A000000 0x00070106 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EF04:\n.word 0x0A000000 0x00050408 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EF1C:\n.word 0x0A000000 0x000A080A 0x0000028A\n.word 0x0A000000 0x000B0001 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EF40:\n.word 0x0A000000 0x000C0103 0x0000028A\n.word 0x0A000000 0x000D0000 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EF64:\n.word 0x0A000000 0x0001080C 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EF7C:\n.word 0x0A000000 0x00010002 0x0000028A\n.word 0x0A000000 0x000E0102 0x0000028A\n.word 0x00000000 0x00000000 0x0BF6A83C\nD_8011EFA0:\n.word 0x02000000 0x00000001 D_8011EEA4\n.word 0x02000000 0x00000002 D_8011EEC8\n.word 0x02000000 0x00000004 D_8011EEEC\n.word 0x02000000 0x00000008 D_8011EF04\n.word 0x02000000 0x00000010 D_8011EF1C\n.word 0x02000000 0x00000020 D_8011EF40\n.word 0x02000000 0x00000040 D_8011EF64\n.word 0x02000000 0x00000080 D_8011EF7C\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F00C:\n.word 0x0B000000 0x0001090B 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F024:\n.word 0x0B000000 0x000F0709 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F03C:\n.word 0x0B000000 0x00070104 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F054:\n.word 0x0B000000 0x00050406 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F06C:\n.word 0x0B000000 0x000A080A 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F084:\n.word 0x0B000000 0x000C0102 0x0B54233C\n.word 0x0B000000 0x000A0A0A 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F0A8:\n.word 0x0B000000 0x0001080A 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F0C0:\n.word 0x0B000000 0x00010000 0x0B54233C\n.word 0x0B000000 0x000E0102 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F0E4:\n.word 0x02000000 0x00000001 D_8011F00C\n.word 0x02000000 0x00000002 D_8011F024\n.word 0x02000000 0x00000004 D_8011F03C\n.word 0x02000000 0x00000008 D_8011F054\n.word 0x02000000 0x00000010 D_8011F06C\n.word 0x02000000 0x00000020 D_8011F084\n.word 0x02000000 0x00000040 D_8011F0A8\n.word 0x02000000 0x00000080 D_8011F0C0\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F150:\n.word 0x0A000000 0x0001080A 0x0B54233C\n.word 0x0A000000 0x000A0001 0x0B54233C\n.word 0x0A000000 0x00050A0A 0x0B54233C\n.word 0x0A000000 0x00040000 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F18C:\n.word 0x00000000 0x00000000 D_8011F0E4\n\nD_8011F198:\n.word 0x00000000 0x00000000 D_8011F150\n\nD_8011F1A4: .word 0x00000000 ; align 16?\nD_8011F1A8: .word 0x00000000\nD_8011F1AC: .word 0x00000000\n\nD_8011F1B0:\n.word 0x0A000000 0x00020206 0x0B54233C\n.word 0x0A000000 0x000F0003 0x0B54233C\n.word 0x0A000000 0x00030305 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F1E0:\n.word 0x0A000000 0x00020404 0x0B54233C\n.word 0x0A000000 0x00030305 0x0B54233C\n.word 0x0A000000 0x00040001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F210:\n.word 0x0A000000 0x00050407 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F228:\n.word 0x0A000000 0x00050A0A 0x0B54233C\n.word 0x0A000000 0x00060000 0x0B54233C\n.word 0x0A000000 0x000A0001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F258:\n.word 0x0A000000 0x000D0000 0x0B54233C\n.word 0x0A000000 0x000C0103 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F27C:\n.word 0x0A000000 0x000B0001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F294:\n.word 0x0A000000 0x000F0106 0x0B54233C\n.word 0x0A000000 0x00020006 0x0B54233C\n.word 0x0A000000 0x00040001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F2C4:\n.word 0x0A000000 0x00010405 0x0B54233C\n.word 0x0C000000 0x0000000A 0x00028A1E\n.word 0x0A000000 0x00010607 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\nD_8011F2F4:\n.word 0x02000000 0x00000080 D_8011F2C4\n.word 0x0C000000 0x00000005 0x00000A1E\n.word 0x0A000000 0x00010004 0x0BF6A33C\n.word 0x0C000000 0x00000014 0x00028A1E\n.word 0x02000000 0x00000001 D_8011F1B0\n.word 0x02000000 0x00000002 D_8011F1E0\n.word 0x02000000 0x00000004 D_8011F210\n.word 0x02000000 0x00000008 D_8011F228\n.word 0x02000000 0x00000010 D_8011F258\n.word 0x02000000 0x00000020 D_8011F27C\n.word 0x02000000 0x00000040 D_8011F294\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F384:\n.word 0x0B000000 0x0001090C 0x0B54233C\n.word 0x0B000000 0x00020000 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F3A8:\n.word 0x0B000000 0x000F0709 0x0B54233C\n.word 0x0B000000 0x00030001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F3CC:\n.word 0x0B000000 0x00070106 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F3E4:\n.word 0x0B000000 0x00050408 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F3FC:\n.word 0x0B000000 0x000A080A 0x0B54233C\n.word 0x0B000000 0x000B0001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F420:\n.word 0x0B000000 0x000C0103 0x0B54233C\n.word 0x0B000000 0x000D0000 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F444:\n.word 0x0B000000 0x0001080C 0x0C94233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F45C:\n.word 0x0B000000 0x00010002 0x0B54233C\n.word 0x0B000000 0x000E0102 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F480:\n.word 0x02000000 0x00000001 D_8011F384\n.word 0x02000000 0x00000002 D_8011F3A8\n.word 0x02000000 0x00000004 D_8011F3CC\n.word 0x02000000 0x00000008 D_8011F3E4\n.word 0x02000000 0x00000010 D_8011F3FC\n.word 0x02000000 0x00000020 D_8011F420\n.word 0x02000000 0x00000040 D_8011F444\n.word 0x02000000 0x00000080 D_8011F45C\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F4EC:\n.word 0x00000000 0x00000000 D_8011F2F4\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F504:\n.word 0x0F000000 0x0001090C 0x0B54233C\n.word 0x0F000000 0x00020000 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F528:\n.word 0x0F000000 0x000F0709 0x0B54233C\n.word 0x0F000000 0x00030001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F54C:\n.word 0x0F000000 0x00070106 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F564:\n.word 0x0F000000 0x00050408 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F57C:\n.word 0x0F000000 0x000A080A 0x0B54233C\n.word 0x0F000000 0x000B0001 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F5A0:\n.word 0x0F000000 0x000C0103 0x0B54233C\n.word 0x0F000000 0x000D0000 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F5C4:\n.word 0x0F000000 0x0001080C 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F5DC:\n.word 0x0F000000 0x00010002 0x0B54233C\n.word 0x0F000000 0x000E0102 0x0B54233C\n.word 0x00000000 0x00000000 0x00000A1E\nD_8011F600:\n.word 0x02000000 0x00000001 D_8011F504\n.word 0x02000000 0x00000002 D_8011F528\n.word 0x02000000 0x00000004 D_8011F54C\n.word 0x02000000 0x00000008 D_8011F564\n.word 0x02000000 0x00000010 D_8011F57C\n.word 0x02000000 0x00000020 D_8011F5A0\n.word 0x02000000 0x00000040 D_8011F5C4\n.word 0x02000000 0x00000080 D_8011F5DC\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F66C: .word 0x00000000 ; nullptr\nD_8011F670: .word 0x00000000 ; nullptr\nD_8011F674: .word D_8011F480\nD_8011F678: .word 0x00000000\nD_8011F67C: .word 0x00000000\nD_8011F680: .word 0x00000000\n\nD_8011F684:\n.word 0x08000000 0x00000001 0x00000514\n.word 0x02000000 0x00000004 0x0B54233C\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F6A8:\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F6B4:\n.word 0x02000000 0x000000B0 0x08CF1932\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F6CC:\n.word 0x02000000 0x00000041 0x08CF1932\n.word 0x00000000 0x00000000 0x00000000\n\nD_8011F6E4:\n.word 0x01000000 0x00000019 0x0C96A846\n.word 0x00000000 0x00000000 0x0000051E\nD_8011F6FC:\n.word 0x02000000 0x00000002 D_8011F6E4\n.word 0x01000000 0x00000019 0x0C96A846\n.word 0x00000000 0x00000000 0x0B54233C\nD_8011F720:\n.word 0x01000000 0x0000001E 0x0C96A846\n.word 0x00000000 0x00000000 0x0000051E\nD_8011F738:\n.word 0x02000000 0x00000030 D_8011F720\n.word 0x01000000 0x00000019 0x0C96A846\n.word 0x00000000 0x00000000 0x0B54233C\n\nD_8011F75C:\n.word 0x00000000\n\nD_8011F760:\n.word 0x0E0A0003\n.word 0x0204130B\n.word 0x05060C0D\n.word 0x09070801\n\nD_8011F770:\n.word 0x0E010B0A\n.word 0x130C0006\n.word 0x09030D04\n.word 0x08070205\n\nD_8011F780:\n.word 0x0E0B0609\n.word 0x0C07030D\n.word 0x02040A13\n.word 0x00080501\n\nD_8011F790:\n.word 0x0E05090A\n.word 0x0B07130C\n.word 0x0006030D\n.word 0x04080201\n\nD_8011F7A0:\n.word 0x0E080D0B\n.word 0x0A130607\n.word 0x0C000903\n.word 0x04020501\n\nD_8011F7B0:\n.word 0x0E030B0A\n.word 0x130C0006\n.word 0x090D0408\n.word 0x07020501\n\nD_8011F7C0:\n.word 0x0E020903\n.word 0x06070805\n.word 0x04130B0D\n.word 0x0A0C0001\n\nD_8011F7D0:\n.word 0x0E041309\n.word 0x0B0A030C\n.word 0x07000106\n.word 0x0D080205\n\nD_8011F7E0:\n.word D_8011F760\n.word D_8011F770\n.word D_8011F780\n.word D_8011F790\n.word D_8011F7A0\n.word D_8011F7B0\n.word D_8011F7C0\n.word D_8011F7D0\n\nD_8011F800:\n.word 0x5A463C1E\n.word 0x14141414\n.word 0x0A0A0A0A\n.word 0x0A0A0A0A\n\nD_8011F810:\n.word 0x50321414\n.word 0x140A140A\n.word 0x0A0A140A\n.word 0x0A0A0A00\n\nD_8011F820:\n.word 0x501E321E\n.word 0x1E141414\n.word 0x14141E14\n.word 0x1E0A0A0A\n\nD_8011F830:\n.word 0x5A32141E\n.word 0x140A140A\n.word 0x1E0A0A0A\n.word 0x0A0A0A0A\n\nD_8011F840:\n.word 0x5A321E1E\n.word 0x1E141414\n.word 0x0A1E0A0A\n.word 0x0A0A0A0A\n\nD_8011F850:\n.word 0x5A321E3C\n.word 0x14141E14\n.word 0x0A0A0A0A\n.word 0x0A0A0A0A\n\nD_8011F860:\n.word 0x46282828\n.word 0x1E141E1E\n.word 0x1428281E\n.word 0x280A280A\n\nD_8011F870:\n.word 0x50323C14\n.word 0x141E141E\n.word 0x0A1E140A\n.word 0x0A0A0A0A\n\nD_8011F880:\n.word D_8011F800\n.word D_8011F810\n.word D_8011F820\n.word D_8011F830\n.word D_8011F840\n.word D_8011F850\n.word D_8011F860\n.word D_8011F870\n\nD_8011F8A0: .word D_8011F684\nD_8011F8A4: .word D_8011F6A8\n\nD_8011F8A8: .word D_8011F6B4\nD_8011F8AC: .word D_8011F6CC\n\nD_8011F8B0: .word D_8011F6FC\nD_8011F8B4: .word D_8011F738\n\nD_8011F8B8: .word 0x00000000 ; align 16?\nD_8011F8BC: .word 0x00000000\n\nD_8011F8C0: .word 0x02021006\nD_8011F8C4: .word 0x08061404\nD_8011F8C8: .word 0x00000000\nD_8011F8CC: .word 0x00000000\nD_8011F8D0: .word 0x01020408\n\npercent_d_str_format:\n.asciiz "%d" ; 0x25640000\n.align 4\n\n.align 8\nD_8011F8D8: .word 0x3FF80000\nD_8011F8DC: .word 0x00000000\n\nD_8011F8E0: .word 0x3F800000\nD_8011F8E4: .word 0x3F800000\nD_8011F8E8: .word 0x3F800000\nD_8011F8EC: .word 0x3F800000\nD_8011F8F0: .word 0x40000000\nD_8011F8F4: .word 0x3F800000\nD_8011F8F8: .word 0x00000000\nD_8011F8FC: .word 0x40000000\nD_8011F900: .word 0x3F800000\nD_8011F904: .word 0xBF800000\nD_8011F908: .word 0x3F800000\nD_8011F90C: .word 0x3F800000\nD_8011F910: .word 0xBF800000\nD_8011F914: .word 0xBF800000\nD_8011F918: .word 0x3F800000\nD_8011F91C: .word 0x00000000\nD_8011F920: .word 0xBF800000\nD_8011F924: .word 0x3F800000\nD_8011F928: .word 0xBF800000\nD_8011F92C: .word 0x40000000\nD_8011F930: .word 0x3F800000\nD_8011F934: .word 0x3F800000\nD_8011F938: .word 0xBF800000\nD_8011F93C: .word 0x3F800000\n\n.align 8\nD_8011F940: .word 0x3FD33333\nD_8011F944: .word 0x33333333\n\n.align 8\nD_8011F948: .word 0x3FE00000\nD_8011F94C: .word 0x00000000\n\n.align 8\nD_8011F950: .word 0x3FE00000\nD_8011F954: .word 0x00000000\n\n.align 8\nD_8011F958: .word 0x3FE00000\nD_8011F95C: .word 0x00000000\n\n.align 8\nD_8011F960: .word 0x3FE00000\nD_8011F964: .word 0x00000000\n\n.align 8\nD_8011F968: .word 0x3FF80000\nD_8011F96C: .word 0x00000000\n\n.align 8\nD_8011F970: .word 0x3FE99999\nD_8011F974: .word 0x9999999A\n\n.align 8\nD_8011F978: .word 0x3FE99999\nD_8011F97C: .word 0x9999999A\n\n.align 8\n\nD_8011FA20_jump_table:\n.word L8011CDC8\n.word L8011C9CC\n.word L8011C944\n.word L8011CA8C\n.word L8011CAD4\n.word L8011CCDC\n.word L8011CA80\n.word L8011CB1C\n.word L8011C9E4\n.word L8011CD48\n.word L8011CD84\n.word L8011CA48\n.word L8011CCAC\n.word L8011C944\n.word L8011CA64\n.word L8011CD08\n.word L8011C944\n.word L8011CBC8\n.word L8011C9CC\n.word L8011C978\n\n.align 16\n\nbss:\nD_8011FA70:\n.word 0\n.word 0\n\nD_8011FA78:\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n\n; holds millenium star object pointers?\nD_8011FA98:\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n\n.align 8\nD_8011FAB8: .word 0\n\nD_8011FABC: .word 0\n\nD_8011FAC0: .word 0\n\nD_8011FAC4: .word 0\n\nD_8011FAD4: .word 0\n\nD_8011FAD8: .word 0\n\nD_8011FAF0:\n.word 0\n.word 0\n\nD_8011FAF8:\n.word 0\n.word 0\n.word 0\n.word 0\n\n; boo\nD_8011FB08: .word 0\n; boo\nD_8011FB0C: .word 0\n\nD_8011FB10:\n.word 0\n.word 0\n\nD_8011FB18:\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n.word 0\n\nbank_model_bss:\nD_8011FB40: .word 0\n\n; gates bss entries (probably 2 words for 2 gates)\nD_8011FB44:\n.word 0\n.word 0\n\nD_8011FB4C: .word 0\n\nD_8011FB50: .word 0\n\nD_8011FB54: .word 0\n\nD_8011FB58: .word 0\n\nD_8011FB5C: .halfword 0\n\nD_8011FB5E: .halfword 0\n\nD_8011FB60: .word 0\n\nD_8011FB64: .halfword 0\n\nD_8011FB66: .halfword 0\n\nD_8011FB68: .word 0\n\nD_8011FB6C: .word 0\n\nD_8011FB70: .word 0\n\nD_8011FB74: .word 0\n\nD_8011FB78:\n.word 0\n.word 0\n\nD_8011FB80:\n.halfword 0\nD_8011FB82:\n.halfword 0\n.word 0\n.word 0\n\nD_8011FB8C: .halfword 0\nD_8011FB8E: .halfword 0\n\nD_8011FB90:\n.word 0\n.word 0\n\nD_8011FB98:\n.word 0\n.word 0\n.word 0\n.word 0\n\nD_8011FBA8:\n.word 0\n.word 0\n.word 0\n.word 0\n\n; Player index of player that is in the lead (or something)?\nD_8011FBB8: .word 0\n\n; Player index of player that is in the lead (or something)?\nD_8011FBBC: .word 0\n\n.align 16\n  '));case 50:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}gx(P_);var L_=["","","","","","","","","","","Mushroom Growth (Toadstool Titan)","","Cursed Shroom block (Mario Party 1)","","","","","","","","","Train Whistle (End of the Line)","Train Whistle (End of the Line)","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Dizzy sound (Birds)","","Dice Roll shuffling","","Dice Roll hit","Mini-Game hand moving through selection","Mini-Game selected on the roulette","Warp Block warp sound","","","","Turn Start sound","","Hidden Block appears","","","","Entering Mini-Game","","","Item Shop opening","Item Shop closing","","","","","","","","Landed on Blue Space","Landed on Red Space","Stepped on Star Space","","","","","","","","","","","","","","","","","","","","","","","","","Bowser Fleeing Sound","","","Item Obtained on Shop?","Rare Item obtained from Toad?","","","Cellular Shopper Ringtone","Cellphone ring","","","","","","","","Ho ho ho! (Millennium Star)","","","","","","Cannon explosion (Award Ceremony)","","Firework launch","Firework explosion","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Warp Pipe sound","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Mario Party 3 (laughter)","Mario Party 3 (laughter)","Game Over","Start!","New Record!","Finish!","MISS!","DRAW!","Bob-omb voice","Boo laugh","Thwomp cry","Metal! (Koopa Troopa)","Koopa cry","Goomba cry","Metal! (Koopa Troopa)","Whomp cry","Boo cry","Got Item!","Chance Time!","Mario: Hoo hoo! I got it!","Mario: Oh, I lost!","Mario: I'm the best!","Mario: Yahoo! Mario's the superstar!","Mario cry","Mario: Yahoo! Mario's the winner!","Luigi cry","Luigi: Ahaha! I'm-a got it!","Luigi: Oh, I lost!","Luigi: I'm the best!","Luigi: Yes! Luigi's the superstar!","Luigi cry","Luigi: Yes! Luigi's the winner!","Luigi: Ohhh...","Peach: Yeah! I got it!","Peach: Oh, I lost!","Peach: I'm the best!","Peach: Yeah! Peach is the superstar!","Peach cry","Peach: Yeah! Peach is the winner!","Peach cry","Yoshi cry","Yoshi cry","Yoshi cry","DK cry","DK cry","DK cry","DK cry","DK cry","Wario: Hehehehe! I got it!","Wario: Oh, I lost!","Wario: I'm-a the best!","Wario: Yeah, Wario is the superstar!","Wario cry","Wario: Oh yeah! Wario is the winner!","Wario cry","Waluigi: Heheh! I got it!","Waluigi: Oh, I lost!","Waluigi: I'm the best!","Waluigi: Yeah! Waluigi's the superstar!","Waluigi cry","Waluigi: Yeah! Waluigi's the winner!","Waluigi cry","Daisy: Yay! I got it!","Daisy: Oh, I lost!","Daisy: I'm the best!","Daisy: Yeah! Daisy's the superstar!","Daisy cry","Daisy: Yeah! Daisy's the winner!","Toad: Yooo!","Toad: Yahoo!","Toad: Ohhh...","Toad: OK!","Bowser laughs","Bowser roars","Bowser growls","Bowser barks","Baby Bowser barks","","Chain Chomp cry","Tumble: OK!","Tumble: Yay!","Tumble: Hi!","Tumble: Ohhh (Sad)","Tumble: Owowowow","Mario: Good choice!","Luigi: Good choice!","Peach: Good choice!","Wario: Good choice!","Waluigi: Good choice!","Daisy: Good choice!","Mario's taunt","Luigi's taunt","Peach's taunt","Wario's Taunt","Waluigi's Taunt","Daisy's Taunt","","","","","","","","","","","","","","","","","","","","","","","","Crowd noises","Crowd noises","Crowd noises","Crowds cheering","Crowds clapping","","Bird chirping","","Bird chirping","Cow mooing","","","","Waterdrop","Waterdrop","","","","","","","","","","","","","","","","","","","","","","","","","Thwomp cry (Thwomp Pull)","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Warp Pipe sound","Block break (Toadstool Titan)","Blasting off (Toadstool Titan)","","","","","","","","","","","","","","","","Door Opening (Locked Out)","Door Closing (Locked Out)","","","","","","","","","","","Drumroll","Drumroll end","","","","","","","","","Drum hit (The Beat Goes On)","Drum hit (The Beat Goes On)","Drum hit (The Beat Goes On)","Spear Guy cries (The Beat Goes On)","Wrong Answer (M.P.I.Q)","Hit by block (M.P.I.Q)","","","Fanfare (Curtain Call)","Stoplight (when starting racing Mini-Games)","","","","","","","","","","","","Horse cry (Rocking Raceway?)","Horse Steps (Rocking Raceway)","Horse Steps (Rocking Raceway)","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Screw Spinning (Silly Screws)","","Chicken flapping wings (Fowl Play)","Chicken Noises (Fowl Play)","Chicken Noises (Fowl Play)","Chicken Noises (Fowl Play)","Chicken Noises (Fowl Play)","Chicken Noises (Fowl Play)","","","","","","","Arrow bounce off tower (Bobbing Bow-loons)","","Balloon Pop (Bobbing Bow-loons)","Arrow bounce off tower (Bobbinb Bow-loons)","","Dorrie's cry (Dorrie Dip)","","","","","","","","","","","","","","","","","","","","","","","","","","Crowd sounds","",""];var M_,B_=new(function(n){s(a,n);var t=A(a);function a(){var e;r(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).gameVersion=3,e.nintendoLogoFSEntry=[17,1],e.hudsonLogoFSEntry=[17,2],e.boardDefDirectory=19,e.MAINFS_READ_ADDR=39952,e.HEAP_FREE_ADDR=40556,e.TABLE_HYDRATE_ADDR=965216,e}return i(a,[{key:"onLoad",value:function(e,n,t){t||(this._extractBanks(e,n),this._extractItemShops(e,n))}},{key:"onCreateBoardOverlay",value:function(e,n,t,r){return function(e,n,t,r){return R_.apply(this,arguments)}(e,n,t,r)}},{key:"onAfterOverwrite",value:function(e,n,t,r){e.setUint16(221422,32832),e.setUint16(221430,4194304-this.EVENT_MEM_SIZE>>>16),e.setUint16(221442,26),e.setUint16(300502,26);var a=ve.getDataView(120);a.setUint32(48736,604110849),a.setUint32(48768,604110849);for(var i=ve.getDataView(128),o=0,s=0,l=0;l<n.spaces.length;l++){var u=n.spaces[l];u.type===h.BLUE&&o++,u.type===h.RED&&s++}(o<14||s<1)&&(i.setUint32(154164,268435589),H("Patching for low space count."))}},{key:"onOverwritePromises",value:function(e,n,t){var r=n.bgDir,a=[this._writeBackground(r,e.bg.src,e.bg.width,e.bg.height),this._writeBackground(r+1,e.otherbg.largescene,320,240),this._writeBackground(r+2,e.bg.src,320,240),this._writeAdditionalBackgrounds(e),this.onWriteBoardSelectImg(e,n),this.onWriteBoardLogoImg(e,n),this.onWriteBoardLogoTextImg(e,n),this._onWriteGateImg(e,n),this._brandBootSplashscreen()];return Promise.all(a)}},{key:"onAfterSave",value:function(e){e.setUint32(52928,0),e.setUint32(523352,0),e.setUint32(523360,0)}},{key:"onWriteEvents",value:function(e){}},{key:"onAddDefaultBoardEvents",value:function(e,n){if(e===y.BEFORE_DICE_ROLL){var t=C(e);n.add(t,w.DIRECT,"__PP64_INTERNAL_CURSE_POISON_DICEROLL_EVENT"),n.add(t,w.DIRECT,"__PP64_INTERNAL_REVERSAL_DICEROLL_EVENT")}}},{key:"hydrateSpace",value:function(e,n,t){e.type===h.BANK&&Jy(n,e,By(Qx),!1,t)}},{key:"onChangeBoardSpaceTypesFromGameSpaceTypes",value:function(e,n){var t,r=!e.type||e.type===m.NORMAL;if(r)t={0:h.OTHER,3:h.OTHER,5:h.CHANCE,6:h.ITEM,7:h.BANK,8:h.OTHER,9:h.BATTLE,12:h.BOWSER,14:h.STAR,15:h.GAMEGUY,16:h.OTHER,17:h.OTHER};else{if(e.type!==m.DUEL)throw new Error("Unrecongized board type: ".concat(e.type));t={1:h.OTHER,2:h.HAPPENING,3:h.GAMEGUY,4:h.OTHER,5:h.DUEL_REVERSE,6:h.DUEL_BASIC,7:h.DUEL_START_RED,8:h.MINIGAME,9:h.DUEL_START_BLUE,10:h.DUEL_POWERUP}}if(e.spaces.forEach((function(e){var n=t[e.type];void 0!==n&&(e.type=n)})),r&&n.length){var a=n[0][0];isNaN(a)||(e.spaces[a].type=h.START)}}},{key:"onChangeGameSpaceTypesFromBoardSpaceTypes",value:function(n){var t,r=(e(t={},h.OTHER,0),e(t,h.BLUE,1),e(t,h.RED,2),e(t,h.MINIGAME,0),e(t,h.HAPPENING,4),e(t,h.STAR,14),e(t,h.CHANCE,5),e(t,h.START,0),e(t,h.SHROOM,0),e(t,h.BOWSER,12),e(t,h.ITEM,6),e(t,h.BATTLE,9),e(t,h.BANK,7),e(t,h.ARROW,13),e(t,h.GAMEGUY,15),e(t,h.BLACKSTAR,0),e(t,h.DUEL_BASIC,0),e(t,h.DUEL_START_BLUE,0),e(t,h.DUEL_START_RED,0),e(t,h.DUEL_POWERUP,0),e(t,h.DUEL_REVERSE,0),t);n.spaces.forEach((function(e){var n=r[e.type];void 0!==n&&(e.type=n)}))}},{key:"onCreateChainEvents",value:function(e,n){for(var t=0;t<n.length;t++){var r=n[t],a=r[0],i=r[1],o=r[r.length-1],s=r[r.length-2],l=Vw(o,e),u=void 0;l.length>1?function(){if(l.length>2)throw new Error("MP3 cannot support more than 2 split directions");var a=[];l.forEach((function(e){a.push(A(e))}));var i=[];i.push(l[0]),i.push(l[1]),i.push(65535),i.push(s),i.push(l[1]),i.push(65535),i.push(s),i.push(l[0]),i.push(65535),i.push(0);var c=[];c.push(a[0]),c.push(0),c.push(0),c.push(a[1]),c.push(0),c.push(0),c.push(t),c.push(r.length-2),c.push(1),c.push(a[1]),c.push(0),c.push(0),c.push(t),c.push(r.length-2),c.push(1),c.push(a[0]),c.push(0),c.push(0);var d=h(a);u=By(T_,null!=d?{parameterValues:{spaceIndexArgs:i,chainArgs:c,hasgate:!0,prevSpace:n[d][0],altChain:[a.find((function(e){return e!==d})),0]}}:{parameterValues:{spaceIndexArgs:i,chainArgs:c}}),Dw(e,o,u,!0,xx())}():l.length>0&&(u=By(P_,{parameterValues:{chain:A(l[0]),prevSpace:s}}),Dw(e,o,u,!0,xx()));var c=f(a);if(c.length)!function(){var r=[];c.forEach((function(e){r.push(A(e))}));var o=[];if(r.forEach((function(e){o.push(n[e])})),c.length>=2){var s=[];s.push(i),s.push(c[0]),s.push(65535),s.push(c[1]),s.push(c[0]),s.push(65535),s.push(c[1]),s.push(i),s.push(65535),s.push(0);var l=[];l.push(t),l.push(1),l.push(0),l.push(r[0]),l.push(o[0].length-1),l.push(1),l.push(r[1]),l.push(o[1].length-1),l.push(1),l.push(r[0]),l.push(o[0].length-1),l.push(1),l.push(r[1]),l.push(o[1].length-1),l.push(1),l.push(t),l.push(1),l.push(0),u=By(T_,{parameterValues:{spaceIndexArgs:s,chainArgs:l,reverse:!0},executionType:w.DIRECT}),Dw(e,a,u,!0,xx())}else 1===c.length&&(u=By(P_,{parameterValues:{chain:r[0],spaceIndex:o[0].length-1,prevSpace:i}}),Dw(e,a,u,!0,xx()))}();else{var d=Vw(a,e);d.length>1?H("FIXME: branching isolated chain?"):d.length>0&&((u=By(bx,{parameterValues:{chain:t,spaceIndex:1}})).activationType=y.BEGINORWALKOVER,Dw(e,a,u,!0,xx()))}}function A(e){for(var t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t}function f(n){for(var t=[],r=0;r<e.spaces.length;r++){Vw(r,e).indexOf(n)>=0&&t.push(r)}return t}function h(t){var r=null;return t.forEach((function(t){var a=function(n){return n.find((function(n){return e.spaces[n].subtype===p.GATE}))}(n[t]);"number"===typeof a&&(r=t)})),r}}},{key:"onParseStrings",value:function(e,n){var t=n.str||{};if(t.boardSelect){if(!Array.isArray(t.boardSelect))throw new Error("Expected number[][]");var r=t.boardSelect[0],a=F_.read("en",r[0],r[1]),i=a.split("\n"),o=i[0].indexOf(">")+2,s=i[0].indexOf("{",o);e.name=i[0].substring(o,s),e.description=[i[1],i[2]].join("\n");for(var l=0,u=a.indexOf(this.getCharacterMap()[59],0);-1!==u;)l++,u=a.indexOf(this.getCharacterMap()[59],u+1);e.difficulty=l}}},{key:"onWriteStrings",value:function(e,n){var t=n.str||{},r=t.boardSelect;if(r&&r.length){var a=[];a.push(11),a.push(5),a.push(15),(a=a.concat(j_._strToBytes(e.name||""))).push(22),a.push(25),a.push(15),(a=a.concat([32,32,32,32])).push(22),a.push(3),a.push(15),a=a.concat(j_._strToBytes("Difficulty: "));if(e.difficulty>5||e.difficulty<1)a.push(59),(a=a.concat(j_._strToBytes(" "))).push(62),a=a.concat(j_._strToBytes(" "+e.difficulty.toString()));else for(var i=0;i<e.difficulty;i++)a.push(59);a.push(22),a.push(25),a.push(10),(a=a.concat(j_._strToBytes(e.description||""))).push(0);var o=Y(a),s=r[0];F_.write("en",s[0],s[1],o),a.pop(),a.push(25),a.push(255),a.push(0),o=Y(a),s=r[1],F_.write("en",s[0],s[1],o)}if(t.boardGreeting){var l=[];l.push(11),(l=l.concat(j_._strToBytes("You're all here!"))).push(10),(l=l.concat(this._createBoardGreetingBase(e.name))).push(11),(l=l.concat(j_._strToBytes("Now, before we begin, we need\nto determine the turn order."))).push(25),l.push(255),l.push(0);var u=Y(l);F_.write("en",t.boardGreeting[0],t.boardGreeting[1],u)}if(t.boardGreetingDuel){var c=[];c.push(11),(c=c.concat(j_._strToBytes("I've been waiting for you, "))).push(17),c.push(194),c.push(10),(c=c.concat(this._createBoardGreetingBase(e.name))).push(11),(c=c.concat(j_._strToBytes("And just as promised, if you win here..."))).push(25),c.push(255),c.push(0);var d=Y(c);F_.write("en",t.boardGreetingDuel[0],t.boardGreetingDuel[1],d)}if(t.boardNames&&t.boardNames.length){var A=[];A.push(11),(A=A.concat(j_._strToBytes(e.name))).push(0);for(var f=Y(A),h=0;h<t.boardNames.length;h++){var p=t.boardNames[h];F_.write("en",p[0],p[1],f)}}}},{key:"_createBoardGreetingBase",value:function(e){var n=j_._strToBytes("Welcome to the legendary ");return n.push(5),n.push(15),(n=n.concat(j_._strToBytes(e))).push(22),n.push(25),n.push(194),n.push(25),n.push(255),n.push(11),(n=n.concat(j_._strToBytes("Here, you'll battle to become\nthe Superstar."))).push(25),n.push(255),n}},{key:"onParseBoardSelectImg",value:function(e,n){n.img&&n.img.boardSelectImg&&(e.otherbg.boardselect=this._readImgFromMainFS(20,n.img.boardSelectImg,0))}},{key:"onWriteBoardSelectImg",value:function(e,n){return new Promise((function(t,r){var a=n.img&&n.img.boardSelectImg;if(a){var i=new Image,o=setTimeout((function(){return r("Failed to write board select for ".concat(n.name))}),45e3);i.onload=function(){var e=bn([{src:pi(i,64,64),width:64,height:64,bpp:32}],16,0,rn.get(20,a));rn.write(20,a,e),clearTimeout(o),t()},i.src=e.otherbg.boardselect}else t()}))}},{key:"onParseBoardLogoImg",value:function(e,n){n.img&&n.img.splashLogoImg&&(e.otherbg.boardlogo=this._readImgFromMainFS(19,n.img.splashLogoImg,0),e.otherbg.boardlogotext=this._readImgFromMainFS(19,n.img.splashLogoTextImg,0))}},{key:"onWriteBoardLogoImg",value:function(e,n){return new Promise((function(t,r){var a=n.img&&n.img.splashLogoImg;if(a){var i=new Image,o=setTimeout((function(){return r("Failed to write logos for ".concat(n.name))}),45e3);i.onload=function(){var e=bn([{src:pi(i,226,120),width:226,height:120,bpp:32}],16,0,rn.get(19,a));rn.write(19,a,e),clearTimeout(o),t()},i.src=e.otherbg.boardlogo;var s=n.img.pauseLogoImg;if(s){var l=rn.get(19,s),u=bn([{src:new ArrayBuffer(3e4),width:150,height:50,bpp:32}],16,0,l);rn.write(19,s,u)}}else t()}))}},{key:"onWriteBoardLogoTextImg",value:function(e,n){return new Promise((function(t,r){var a=n.img&&n.img.splashLogoTextImg;if(a){var i=new Image,o=setTimeout((function(){return r("Failed to write logo text for ".concat(n.name))}),45e3);i.onload=function(){var e=bn([{src:pi(i,226,36),width:226,height:36,bpp:32}],16,0,rn.get(19,a));rn.write(19,a,e),clearTimeout(o),t()},i.src=e.otherbg.boardlogotext}else t()}))}},{key:"_onWriteGateImg",value:function(){var e=O(k().mark((function e(n,t){var r,a,i,o,s,l,u;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.img&&t.img.gateImg){e.next=3;break}return e.abrupt("return");case 3:return 64,64,a=setTimeout((function(){throw new Error("Failed to write gate image for ".concat(t.name))}),45e3),e.next=7,n_("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AsPASwNs2HtQQAAA0RJREFUeNrtm8tPE1EUh7/CxEIopOAjI2o0RoMkxoXEhSaGxJWPf4A/wEWXuDAmxsSVC3csuzMxManRGGNUwEbiK7owSHwgIUIBLUjQUCw19CXj4jKAoaWVzm3nznBWbTOZued3v3vmnHN7PSxZDRhIsCR4ZN6/VNPMwQW75Dwg0IlhimBH86x2viMwbenNQ0HdFMG2VmV+sNp50OkIYHvT8g1eNdvoEtZUd77U5auhoK2e7VKXrua82dadJUDxs607iwAZs217AWTPtm0FKNds206ASjoOkEhUQIDiMNelOfx1AkZHIPoNfv4oswDBrsrMdiIBA/3wrA8GP8LMDMRikFwoswCiKNJziCAP88gIPLgPT3pgLALxX5DJQDYLhlHRGCA/5e5/C48fwtMwjEcgHofFxQoHwRUK5D4nMgIvnwvnvwzD798FymEnWSIB7/qh+9H6zldMgEAnhILy7j88BG9ew8Q4LCwU2RBxkk1NwacPEJtdu+ZtI4AsChIJ8Y6PzYpIX8gcR8DMNHyfzB3xbSeA7FhQjDkyBiglgNUU7NBh5y5oaICqKhcS4PPB7j3Q2ASapogAVlPQ3AyHjwgRClHgyBjQ0grHT8DefVBb60IBfD442gZnzsHBFqiry3+tbXqC5v6hVUXS/gNwsh3m58V321SD5bS2Y9DYCPX1a/sBmYwNBbCaApOE8wEhhtkRevUC0mkXJUI+n1gOFy5C01ZRL9g2CMpMjyejcO+Oi1PhoUFIJhUQQBYFuapDVxEQuqWQAFZT0BeGcK+LCYhGxT6AUgJYRcHYKFy/5uKGSCotMkAlBSiVglQK3g/kb487ngCPR+wO5esQKyHARikwDOjthru3XdYPMC2bFanveu1xZQTYCAWfByHcs/41jiUgHoerl/+t/JQX4H8omBgXBAB4vS4jYG4Obt4Q/wGCle5PLlOuJVZs10irhupq2LZdvArTaUinxG9bvJBJKypAMeb3w6Ur0H4KDrWKJMgwBAleL9R44c+iwgIUQ4HfD6fPFr7X5uaoqgO3qlLcJEDlwVtBwSYBqjtQKgWuJ8ARiVApJ1OXBQgFdQlHZ+0vwvLJbomHp0kunVG2Iz3Lp7rdenz+L41GNnhWZNGsAAAAAElFTkSuQmCC",64,64);case 7:i=e.sent,o=xn(i.data.buffer,32,8),s=rn.get(19,366),l=A_.unpack(s),A_.replaceBMP(l,0,o[0],o[1]),u=A_.pack(l),rn.write(19,r,u),clearTimeout(a);case 15:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getAudioMap",value:function(e){return["Opening","Opening Demo","Title Screen","Select File","Castle Grounds","","Staff Roll","Inside the Castle","Free-Play Room","Star Lift","Preparations","Rules Map","","The Adventure Begins","","The Adventure Ends","Begin Mini-Game","","Here's the Star","Still Going","Mini-Game End 1","Mini-Game End 2","Mini-Game End 3","Commence Attack!","Chilly Waters","Deep Bloober Sea","Spiny Desert","Woody Woods","Creepy Cavern","Waluigi","Good Luck!","The Winner is... Me!","A Winner is ME!","Foolish Bowser","","","Bowser Event","","Bring it On!","","Waluigi Appears!","VS Millennium Star!","Peaceful song, bells","","Defeat...","Aim","Don't Hurry","Panic!","Fighting Spirit","Got It?","Let's Get a Move On","Looking Ahead","Big Trouble!","What To Do!?!","Mustn't Panic","Nice and Easy","On Your Toes","Prologue 1","Prologue 2","Prologue 3","Genie's Theme","Jeanie's Theme","Start Battle","Bang Out a Drum Intro","Bang Out a Drum Fill","Stardust Battle","Chance Time","Game Guy Mini-Game","Item Mini-Game","Mushroom Power-Up!","Game Guy Winner!","Game Guy Loser!","Game Guy Dance","Drum Roll","Sound Config","","Battle Room","Gamble Room","Murmur","Tension Drums","","","","","",""]}},{key:"getSoundEffectMap",value:function(e){return L_}},{key:"getCharacterMap",value:function(){return{0:"",1:"<BLACK>",2:"<DEFAULT>",3:"<RED>",4:"<PURPLE>",5:"<GREEN>",6:"<BLUE>",7:"<YELLOW>",8:"<WHITE>",9:"<SEIZURE>",10:"\n",11:"\u3014",12:"\u25cb",13:"\t",14:"\t",17:"{0}",18:"{1}",19:"{2}",20:"{3}",21:"{4}",22:"{5}",32:" ",33:"\u3000",34:"\u3001",35:"\u3002",36:"\u3003",37:"\u3004",38:"\u3005",39:"\u3006",40:"\u3007",41:"\u3008",42:"\u3009",43:"\u3010",44:"\u3011",58:"\u3012",59:"\u3013",60:"+",61:"-",62:"x",63:"->",91:'"',92:"'",93:"(",94:")",95:"/",123:":",126:"&",128:'"',129:"\xb0",130:",",131:"\xb0",133:".",192:"\u201c",193:"\u201d",194:"!",195:"?",255:"\u3015"}}}]),a}(c_));function k_(){var e=Ry.getGameVersion();return e?I_(e):null}function I_(e){switch(e){case 1:return __;case 2:return C_;case 3:return B_}return null}var O_={};O_[v.MP1_USA]=[{upper:110190,lower:110198}],O_[v.MP1_JPN]=[{upper:109982,lower:109990}],O_[v.MP1_PAL]=[{upper:113202,lower:113206}],O_[v.MP2_USA]=[{upper:119338,lower:119346},{upper:562006,lower:562014},{upper:562026,lower:562034}];var N_=function(){function e(n){r(this,e),this.strs=void 0,this.strs=this._extract(n)}return i(e,[{key:"_extract",value:function(e){for(var n=this._getStringCountFromView(e),t=new Array(n),r=0;r<n;r++)t[r]=this._readFromView(e,r);return t}},{key:"_getStringCountFromView",value:function(e){return e.getUint32(0)}},{key:"_readFromView",value:function(e,n){var t=this._getStringOffsetFromView(e,n),r=new DataView(e.buffer,e.byteOffset+t).getUint16(0);return e.buffer.slice(e.byteOffset+t+2,e.byteOffset+t+2+r)}},{key:"_getStringOffsetFromView",value:function(e,n){return e.getUint32(4*(1+n))}},{key:"read",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e>=this.getStringCount())throw new Error("Requesting non-existent string entry");var t=this.strs[e];if(n)return t;for(var r=new DataView(t),a="",i=0;i<t.byteLength;i++)a+=this._byteToStr(r.getUint8(i));return a}},{key:"_byteToStr",value:function(e){var n=k_().getCharacterMap();return n.hasOwnProperty(e)?n[e]:String.fromCharCode(e)}},{key:"write",value:function(e,n){this.strs[e]=n.slice(0)}},{key:"getStringCount",value:function(){return this.strs.length}},{key:"getByteLength",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=0,t=this.strs.length;n+=4,n+=4*t;for(var r=0;r<t;r++)n+=2,n=Te(n+=this.strs[r].byteLength,2);return e&&(n+=n/8+16),n}},{key:"pack",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=new DataView(e,n),r=this.getStringCount();t.setUint32(0,r);for(var a=4,i=4+4*r,o=0;o<r;o++)t.setUint32(a,i),a+=4,i=Te(i=this._packStr(o,t,i),2);return i}},{key:"_packStr",value:function(e,n,t){var r=this.strs[e];return n.setUint16(t,r.byteLength),q(n,r,t+2,0,r.byteLength),t+2+r.byteLength}}]),e}(),j_={getROMOffset:function(){var e=Ry.getDataView(),n=j_.getPatchOffsets();if(!n)return null;var t=n[0];if(!t)return null;var r=e.getUint16(t.upper)<<16,a=e.getUint16(t.lower),i=r|a;if(32768&a&&(i-=65536),H("Strings.getROMOffset -> ".concat(W(i))),G())for(var o=1;o<n.length;o++){var s=e.getUint16(n[o].upper)<<16,l=e.getUint16(n[o].lower);if(s!==r||l!==a)throw new Error("Strings.getROMOffset patch offset ".concat(o," seems wrong"))}return i},setROMOffset:function(e,n){var t=new DataView(n),r=j_.getPatchOffsets(),a=(4294901760&e)>>>16,i=65535&e;32768&i&&(a+=1);for(var o=0;o<r.length;o++)t.setUint16(r[o].upper,a),t.setUint16(r[o].lower,i);H("Strings.setROMOffset -> ".concat(W(a<<16|i)))},getPatchOffsets:function(){return O_[Ry.getROMGame()]},StringTable:N_,_strToBytes:function(e){for(var n=k_().getCharacterMap(),t=[],r=[0,e.length],a=r[0],i=r[1];a<i;){var o=0,s=void 0;for(var l in n)if(n.hasOwnProperty(l)){var u=n[l];e.substr(a,u.length)===u&&u.length>o&&(o=u.length,s=l)}0===o&&(o=1,s=e.charCodeAt(a)),"string"===typeof s&&(s=parseInt(s)),t.push(s),a+=o}return t},extract:function(){var e=j_.getROMOffset();if(null!==e){var n=Ry.getDataView(e);return M_=new j_.StringTable(n)}},extractAsync:function(){return new Promise((function(e,n){j_.extract(),e()}))},pack:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M_.pack(e,n)},read:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return M_.read(e,n)},write:function(e,n){M_.write(e,n)},clear:function(){M_=null},getStringCount:function(){return M_.getStringCount()},getByteLength:function(){return M_.getByteLength()}},U_=function(){function e(){r(this,e),this.HOOK_RAM_START_OFFSET=void 0,this.HOOK_ROM_START_OFFSET=void 0,this.HOOK_CACHE_DEFAULT_VALUE=void 0,this.MAINFS_CHEAT_FILE=void 0,this.HOOK_JUMP_ROM_OFFSET=void 0}return i(e,[{key:"apply",value:function(e){throw new Error("apply not implemented, is that OK?")}},{key:"writeHookCode",value:function(e){var n=k_(),t=n&&n.MAINFS_READ_ADDR;if(!t)throw new Error("Cheats were being applied, but the ROM adapter had no MAINFS_READ_ADDR");var r=this.HOOK_ROM_START_OFFSET+4,a=(0,en.iu)(this.HOOK_RAM_START_OFFSET);e.setUint32(r,(0,ir.Q)("LUI A1 ".concat(32768|a[0]))),e.setUint32(r+=4,(0,ir.Q)("ADDIU A1 A1 ".concat(a[1]))),e.setUint32(r+=4,(0,ir.Q)("LW A1 0(A1)")),e.setUint32(r+=4,(0,ir.Q)("LUI A2 ".concat(this.HOOK_CACHE_DEFAULT_VALUE>>>16))),e.setUint32(r+=4,(0,ir.Q)("ADDIU A2 A2 ".concat(65535&this.HOOK_CACHE_DEFAULT_VALUE))),e.setUint32(r+=4,(0,ir.Q)("BNE A1 A2 11")),e.setUint32(r+=4,(0,ir.Q)("ADDU T9 V0 R0")),e.setUint32(r+=4,(0,ir.Q)("ADDU S7 RA R0")),e.setUint32(r+=4,(0,ir.Q)("LUI A0 ".concat(this.MAINFS_CHEAT_FILE[0]))),e.setUint32(r+=4,(0,ir.Q)("JAL ".concat(t))),e.setUint32(r+=4,(0,ir.Q)("ADDIU A0 A0 ".concat(this.MAINFS_CHEAT_FILE[1]))),e.setUint32(r+=4,(0,ir.Q)("LUI A1 ".concat(32768|a[0]))),e.setUint32(r+=4,(0,ir.Q)("ADDIU A1 A1 ".concat(a[1]))),e.setUint32(r+=4,(0,ir.Q)("SW V0 0(A1)")),e.setUint32(r+=4,(0,ir.Q)("ADDU A1 V0 R0")),e.setUint32(r+=4,(0,ir.Q)("ADDU V0 T9 R0")),e.setUint32(r+=4,(0,ir.Q)("ADDU RA S7 R0")),e.setUint32(r+=4,(0,ir.Q)("JR A1")),e.setUint32(r+=4,0)}}]),e}(),G_={WRITE8:128,WRITE16:129,IF8:208,IF16:209,IFNOT8:210,IFNOT16:211},z_=function(){function e(){r(this,e)}return i(e,null,[{key:"parse",value:function(n){var t=e.splitInput(n);if(!t.length)return H("Gameshark code string was empty"),null;if(t.length%2)return H("Gameshark code string was malformed"),null;for(var r=[],a=0;a<t.length;a+=2){var i=parseInt(t[a],16),o=parseInt(t[a+1],16);if(!i)return H("Invalid code instruction: ".concat(t[a])),null;var s=e.getCode(i,o);if(!s)return H("Could not parse code: ".concat(W(i)," ").concat(W(o))),null;r.push(s)}return r}},{key:"getCode",value:function(n,t){var r=e.getOpcode(n);if(null===r)return null;var a=16777215&n|2147483648;return e.opcodeHas8BitValue(r)&&(t&=255),{opcode:r,addr:a,value:t}}},{key:"getOpcode",value:function(e){var n=(4278190080&e)>>>24;if(!n)return null;var t=G_;for(var r in t)if(t.hasOwnProperty(r)&&t[r]===n)return r;return null}},{key:"opcodeHas8BitValue",value:function(e){return"WRITE8"===e||"IF8"===e||"IFNOT8"===e}},{key:"splitInput",value:function(e){return e&&e.match(/\S+/g)||[]}},{key:"printCodes",value:function(e){for(var n=0;n<e.length;n++)console.log("".concat(e[n].opcode," ").concat(W(e[n].addr)," ").concat(W(e[n].value)))}}]),e}(),H_=function(){function e(){r(this,e),this.REG1=void 0,this.REG2=void 0,this.REG1="A3",this.REG2="AT"}return i(e,[{key:"compile",value:function(e){for(var n=[],t=0;t<e.length;t++){var r=e[t],a=void 0,i="compile"+r.opcode;if("function"===typeof this[i]&&(a=this[i](r)),!a)return H("Error compiling code",r),null;n=n.concat(a)}for(var o=new ArrayBuffer(4*n.length),s=new DataView(o),l=0;l<n.length;l++)s.setUint32(4*l,n[l]);return o}},{key:"compileWRITE8",value:function(e){return(0,ir.Q)("\n      LUI ".concat(this.REG1," ").concat(this.getAddrUpper(e.addr),"\n      ORI ").concat(this.REG1," ").concat(this.REG1," ").concat(this.getAddrLower(e.addr),"\n      ADDIU ").concat(this.REG2," R0 ").concat(e.value,"\n      SB ").concat(this.REG2," 0(").concat(this.REG1,")\n    "))}},{key:"compileWRITE16",value:function(e){return(0,ir.Q)("\n      LUI ".concat(this.REG1," ").concat(this.getAddrUpper(e.addr),"\n      ORI ").concat(this.REG1," ").concat(this.REG1," ").concat(this.getAddrLower(e.addr),"\n      ADDIU ").concat(this.REG2," R0 ").concat(e.value,"\n      SH ").concat(this.REG2," 0(").concat(this.REG1,")\n    "))}},{key:"compileIF8",value:function(e){return(0,ir.Q)("\n      LUI ".concat(this.REG1," ").concat(this.getAddrUpper(e.addr),"\n      ORI ").concat(this.REG1," ").concat(this.REG1," ").concat(this.getAddrLower(e.addr),"\n      LB ").concat(this.REG1," 0(").concat(this.REG1,")\n      ADDIU ").concat(this.REG2," R0 ").concat(e.value,"\n      BNE ").concat(this.REG1," ").concat(this.REG2," 4\n    "))}},{key:"compileIF16",value:function(e){return(0,ir.Q)("\n      LUI ".concat(this.REG1," ").concat(this.getAddrUpper(e.addr),"\n      ORI ").concat(this.REG1," ").concat(this.REG1," ").concat(this.getAddrLower(e.addr),"\n      LH ").concat(this.REG1," 0(").concat(this.REG1,")\n      ADDIU ").concat(this.REG2," R0 ").concat(e.value,"\n      BNE ").concat(this.REG1," ").concat(this.REG2," 4\n    "))}},{key:"compileIFNOT8",value:function(e){return(0,ir.Q)("\n      LUI ".concat(this.REG1," ").concat(this.getAddrUpper(e.addr),"\n      ORI ").concat(this.REG1," ").concat(this.REG1," ").concat(this.getAddrLower(e.addr),"\n      LB ").concat(this.REG1," 0(").concat(this.REG1,")\n      ADDIU ").concat(this.REG2," R0 ").concat(e.value,"\n      BEQ ").concat(this.REG1," ").concat(this.REG2," 4\n    "))}},{key:"compileIFNOT16",value:function(e){return(0,ir.Q)("\n      LUI ".concat(this.REG1," ").concat(this.getAddrUpper(e.addr),"\n      ORI ").concat(this.REG1," ").concat(this.REG1," ").concat(this.getAddrLower(e.addr),"\n      LH ").concat(this.REG1," 0(").concat(this.REG1,")\n      ADDIU ").concat(this.REG2," R0 ").concat(e.value,"\n      BEQ ").concat(this.REG1," ").concat(this.REG2," 4\n    "))}},{key:"getAddrUpper",value:function(e){return(4294901760&e)>>>16}},{key:"getAddrLower",value:function(e){return 65535&e}}]),e}();function W_(){return window._PP64instance}function X_(e){Sx.dispatch(Gv(e)),my()}function K_(){Q_(g.MOVE),uy(null),W_().setState({aiTree:null}),my()}function q_(){W_().setState({aiTree:null})}function Y_(){Sx.dispatch(qv(Ry.romIsLoaded())),my()}function Q_(e){Sx.dispatch(zv(e))}function J_(){return Sx.getState().app.currentAction}function Z_(){Sx.dispatch(Lg())}function $_(e){Sx.dispatch(Rg(e))}function ey(){return rv(Sx.getState())}function ny(){var e=Sx.getState(),n=Zg(e),t=ey(),r=[];for(var a in t){n.spaces[a]&&r.push(parseInt(a,10))}return r}function ty(){var e,n=Sx.getState(),t=Zg(n),r=[],a=L(ny());try{for(a.s();!(e=a.n()).done;){var i=e.value,o=t.spaces[i];r.push(o)}}catch(s){a.e(s)}finally{a.f()}return r}function ry(e){Sx.dispatch(Mg({spaceIndices:e}))}function ay(e,n,t,r){Sx.dispatch(_g({connections:[[e,n,t,r]]}))}function iy(e,n){var t=HS.None;e&&(t=n?HS.Board:HS.Library),Sx.dispatch(kg({id:e,type:t}))}function oy(){return function(e){switch(e.data.present.currentEventType){case HS.Board:X(!!e.data.present.currentEventId);var n=Zg(e).events[e.data.present.currentEventId];return X("string"!==typeof n),KS(n.language,n.code);case HS.Library:return X(!!e.data.present.currentEventId),e.data.present.eventLibrary[e.data.present.currentEventId];case HS.None:default:return null}}(Sx.getState())}function sy(){return Sx.getState().data.present.currentEventType===HS.Board}function ly(e){Sx.dispatch(zg({eventIndex:e}))}function uy(e){Sx.dispatch(Kv(e))}function cy(e){Sx.dispatch(ix(e))}function dy(e){Sx.dispatch(ox(e))}function Ay(e){var n,t=new Promise((function(e){n=e}));return Sx.dispatch(sx({message:e,onConfirmed:function(e){n(void 0!==e)}})),t}function fy(e){var n,t=new Promise((function(e){n=e}));return Sx.dispatch(lx({message:e,onSubmit:n})),t}function hy(){W_().forceUpdate()}function py(e){W_().setState({aiTree:e})}function my(){Sx.dispatch(Nv.zF.clearHistory())}var Sy=[];function gy(){Sy=[]}function vy(e){var n=(e=e||{}).endInsts,t=Sy.reduce(ae),r=t.byteLength+(n?4*n.length:0),a=new ArrayBuffer(r),i=new DataView(a),o=0;if(q(a,t,o,0,t.byteLength),o+=t.byteLength,n)for(var s=0;s<n.length;s++)i.setUint32(o,n[s]),o+=4;return a}gy();var xy=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).inputEl=null,e.state={showApplied:!1},e.applyCheat=function(){var n=e.inputEl.value,t=z_.parse(n);if(t){var r=(new H_).compile(t);r?(Sy.push(r),e.inputEl.value="",e.setState({showApplied:!0}),setTimeout((function(){e.setState({showApplied:!1})}),3e3)):dy("There was an error compiling the entered cheats")}else dy("There was an error parsing the entered cheats")},e}return i(t,[{key:"render",value:function(){var e,n=this,t=function(){switch(Ry.getROMGame()){case v.MP1_USA:case v.MP2_USA:case v.MP3_USA:return!0;case v.MP1_JPN:default:return!1}}();return this.state.showApplied&&(e=(0,Ne.jsx)("span",{className:"gsApplied",children:"Applied!"})),(0,Ne.jsxs)("div",{id:"gamesharkView",children:[(0,Ne.jsx)("h3",{children:"Gameshark Cheats"}),!t&&(0,Ne.jsx)("p",{children:"Embeddable Gameshark cheats are not supported with this ROM."}),t&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("p",{children:"Paste cheats in the box below to embed them in the ROM."}),(0,Ne.jsx)("textarea",{ref:function(e){n.inputEl=e},rows:10}),(0,Ne.jsx)("button",{className:"patchBtn",onClick:this.applyCheat,children:"Apply"}),e]})]})}}]),t}(Le.Component),_y=new(function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).MAINFS_CHEAT_FILE=[0,137],e.HOOK_ROM_START_OFFSET=832768,e.HOOK_RAM_START_OFFSET=829696,e.HOOK_JUMP_ROM_OFFSET=84596,e.HOOK_CACHE_DEFAULT_VALUE=1986359841,e}return i(t,[{key:"apply",value:function(e){var n=new DataView(e);this.applyHook(n),this.writeHookCode(n)}},{key:"applyHook",value:function(e){var n=(0,ir.Q)("J ".concat(this.HOOK_RAM_START_OFFSET+4)),t=[e.getUint32(this.HOOK_JUMP_ROM_OFFSET),e.getUint32(this.HOOK_JUMP_ROM_OFFSET+4),e.getUint32(this.HOOK_JUMP_ROM_OFFSET+8),e.getUint32(this.HOOK_JUMP_ROM_OFFSET+12)];e.setUint32(this.HOOK_JUMP_ROM_OFFSET,n),e.setUint32(this.HOOK_JUMP_ROM_OFFSET+4,0),e.setUint32(this.HOOK_JUMP_ROM_OFFSET+8,0),e.setUint32(this.HOOK_JUMP_ROM_OFFSET+12,0);var r=vy({endInsts:t});rn.write(this.MAINFS_CHEAT_FILE[0],this.MAINFS_CHEAT_FILE[1],r)}}]),t}(U_)),yy=new(function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).MAINFS_CHEAT_FILE=[0,140],e.HOOK_ROM_START_OFFSET=863168,e.HOOK_RAM_START_OFFSET=860096,e.HOOK_JUMP_ROM_OFFSET=666680,e.HOOK_CACHE_DEFAULT_VALUE=1180792172,e}return i(t,[{key:"apply",value:function(e){var n=new DataView(e);this.applyHook(n),this.writeHookCode(n)}},{key:"applyHook",value:function(e){var n=(0,ir.Q)("J ".concat(this.HOOK_RAM_START_OFFSET+4)),t=[e.getUint32(this.HOOK_JUMP_ROM_OFFSET),e.getUint32(this.HOOK_JUMP_ROM_OFFSET+4),e.getUint32(this.HOOK_JUMP_ROM_OFFSET+8)];e.setUint32(this.HOOK_JUMP_ROM_OFFSET,n),e.setUint32(this.HOOK_JUMP_ROM_OFFSET+4,0),e.setUint32(this.HOOK_JUMP_ROM_OFFSET+8,0);var r=vy({endInsts:t});rn.write(this.MAINFS_CHEAT_FILE[0],this.MAINFS_CHEAT_FILE[1],r)}}]),t}(U_)),wy=new(function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).MAINFS_CHEAT_FILE=[0,149],e.HOOK_ROM_START_OFFSET=686128,e.HOOK_RAM_START_OFFSET=683056,e.HOOK_JUMP_ROM_OFFSET=498328,e.HOOK_CACHE_DEFAULT_VALUE=1986359841,e}return i(t,[{key:"apply",value:function(e){var n=new DataView(e);this.applyHook(n),this.writeHookCode(n)}},{key:"applyHook",value:function(e){var n=(0,ir.Q)("J ".concat(this.HOOK_RAM_START_OFFSET+4)),t=[e.getUint32(this.HOOK_JUMP_ROM_OFFSET),e.getUint32(this.HOOK_JUMP_ROM_OFFSET+4),e.getUint32(this.HOOK_JUMP_ROM_OFFSET+8)];e.setUint32(this.HOOK_JUMP_ROM_OFFSET,n),e.setUint32(this.HOOK_JUMP_ROM_OFFSET+4,0),e.setUint32(this.HOOK_JUMP_ROM_OFFSET+8,0);var r=vy({endInsts:t});rn.write(this.MAINFS_CHEAT_FILE[0],this.MAINFS_CHEAT_FILE[1],r)}}]),t}(U_));var by=6101,Vy=6102,Cy=6103,Ey=6105,Dy=6106,Fy=new Array(256);function Ty(e){function n(e,n){return e<<n|e>>>32-n}var t=function(e){var n=64;switch(function(e){for(var n=e.byteLength,t=4294967295,r=Fy,a=0;a<n;a++)t=(t>>>8^r[(t^e[a])>>>0&255])>>>0;return~t>>>0}(new Uint8Array(e,n,4096-n))){case 1634772129:return by;case 2428202165:return Vy;case 184880864:return Cy;case 2562468998:return Ey;case 2898810890:return Dy}return Ey}(e),r=function(e){switch(e){case 6101:case 6102:return 4174007772;case 6103:return 2743625561;case 6105:return 3743872054;case 6106:return 535454074}throw new Error("CIC._getChecksumSeed: Bad bootcode ".concat(e))}(t),a=r,i=r,o=r,s=r,l=r,u=r;H("CIC.fixChecksum -> Bootcode: ".concat(t,", seed: ").concat(W(r)));for(var c,d,A=new DataView(e),f=4096;f<1052672;){var h=A.getUint32(f);u+h>>>0<u&&s++,s>>>=0,u+=h,u>>>=0,o^=h,o>>>=0;var p=n(h,31&h)>>>0;l+=p,l>>>=0,i^=i>h?p:(u^h)>>>0,i>>>=0,a+=6105===t?A.getUint32(1872+(255&f))^h:(l^h)>>>0,a>>>=0,f+=4}6103===t?(c=u^s,c>>>=0,c+=o,c>>>=0,d=l^i,d>>>=0,d+=a,d>>>=0):6106===t?(c=u*s,c>>>=0,c+=o,c>>>=0,d=l*i,d>>>=0,d+=a,d>>>=0):(c=u^s,c>>>=0,c^=o,c>>>=0,d=l^i,d>>>=0,d^=a,d>>>=0),A.setUint32(16,c),A.setUint32(20,d),H("CIC.fixChecksum -> CRC1: ".concat(W(c),", CRC2: ").concat(W(d)))}!function(){for(var e=Fy,n=0;n<256;n++){for(var t=n,r=8;r>0;r--)1&t?t=(t>>>1^3988292384)>>>0:t>>>=1;e[n]=t>>>0}}();var Py=__webpack_require__(8925),Ry=new(function(){function e(){r(this,e),this._rom=null,this._u8array=null,this._gameId=null,this._gameVersion=null}return i(e,[{key:"getROMGame",value:function(){return this._rom?this._gameId?this._gameId:this._rom.byteLength<64?null:(this._gameId=String.fromCharCode(this._u8array[59],this._u8array[60],this._u8array[61],this._u8array[62]),this._gameId):null}},{key:"getROMBuffer",value:function(){return this._rom}},{key:"clear",value:function(){this._rom=null,this._u8array=null,this._gameId=null,this._gameVersion=null,ve.clearCache(),rn.clearCache(),j_.clear(),F_.clear(),gn.clearCache(),Ft.clearCache(),w_.clearCache()}},{key:"setROMBuffer",value:function(e){var n=this;if(!e)return this.clear(),!1;if(this._rom=e,this._u8array=new Uint8Array(this._rom),this.byteSwapIfNeeded(),!this.romRecognized())return dy("File is not recognized as any valid ROM."),this.clear(),!1;if(!this.romSupported())return dy("This ROM is not supported right now."),this.clear(),!1;gy();var t=this.getGameVersion(),r=[];return r.push(ve.extractAsync()),r.push(rn.extractAsync()),3===t?r.push(F_.extractAsync()):r.push(j_.extractAsync()),r.push(gn.extractAsync()),r.push(Ft.extractAsync()),2===t&&r.push(w_.extractAsync()),Promise.all(r).then((function(){var e=ve.getInfo(0);n._rom=n._rom.slice(0,e.rom_start)}))}},{key:"saveROM",value:function(){if(!this._rom)throw new Error("Cannot save ROM, buffer was not present");var e,n=this.getGameVersion(),t=this._rom.byteLength,r=Te(ve.getByteLength(),16),a=Te(rn.getByteLength(),16);e=Te(3===n?F_.getByteLength():j_.getByteLength(),16);var i=Te(gn.getByteLength(),16),o=Te(Ft.getByteLength(),16),s=0;for(2===n&&(s=Te(w_.getByteLength(),16));t+r+a+e&32768;)e+=4096;var l=new ArrayBuffer(t+r+a+e+i+s+o);q(l,this._rom,0,0,t),function(e){var n=Sy.length;if(n){switch(Ry.getROMGame()){case v.MP1_USA:_y.apply(e);break;case v.MP2_USA:yy.apply(e);break;case v.MP3_USA:wy.apply(e);break;case v.MP1_JPN:default:return void console.warn("Cannot write cheats for this game")}H("Applied ".concat(n," Gameshark cheats"))}}(l),rn.pack(l,t+r),rn.setROMOffset(t+r,l),3===n?(F_.pack(l,t+r+a),F_.setROMOffset(t+r+a,l)):(j_.pack(l,t+r+a),j_.setROMOffset(t+r+a,l)),gn.pack(l,t+r+a+e),gn.setROMOffset(t+a+r+e,l),2===n&&(w_.pack(l,t+r+a+e+i),w_.setROMOffset(t+r+a+e+i,l)),Ft.pack(l,t+r+a+e+i+s),Ft.setROMOffset(t+r+a+e+i+s,l),ve.pack(l,t);var u=k_();u.onAfterSave&&u.onAfterSave(new DataView(l)),Ty(l),this._rom=l.slice(0,t),this._u8array=new Uint8Array(this._rom);var c=new Blob([l]);(0,Py.saveAs)(c,"MyMarioParty".concat(n,".z64"))}},{key:"romIsLoaded",value:function(){return!!this._rom}},{key:"getDataView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this._rom)throw new Error("ROM not loaded, cannot get DataView.");return n?new DataView(this._rom,e,n-e):new DataView(this._rom,e)}},{key:"getGameVersion",value:function(){if(null!==this._gameVersion)return this._gameVersion;var e=this.getROMGame();if(!e)return null;switch(e){case v.MP1_USA:case v.MP1_JPN:case v.MP1_PAL:return this._gameVersion=1,1;case v.MP2_USA:case v.MP2_JPN:return this._gameVersion=2,2;case v.MP3_USA:case v.MP3_JPN:return this._gameVersion=3,3}return null}},{key:"romRecognized",value:function(){return null!==this.getGameVersion()}},{key:"romSupported",value:function(){var e=!1;switch(this.getROMGame()){case v.MP1_USA:case v.MP2_USA:case v.MP3_USA:e=!0}return e||!!Ze(Oe.uiAllowAllRoms)}},{key:"byteSwapIfNeeded",value:function(){if(this._rom&&!(this._rom.byteLength<4)&&this._u8array){var e=this.getDataView(),n=e.getUint32(0);if(2151092800!==n){H("Byteswapping ROM...");var t=this._rom.byteLength-this._rom.byteLength%2,r=this._rom.byteLength-this._rom.byteLength%4;if(931151890===n)for(var a=0;a<t;a+=2){var i=[this._u8array[a+1],this._u8array[a]];this._u8array[a]=i[0],this._u8array[a+1]=i[1]}else if(1074935680===n)for(var o=0;o<r;o+=4){var s=[this._u8array[o+3],this._u8array[o+2],this._u8array[o+1],this._u8array[o]];this._u8array[o]=s[0],this._u8array[o+1]=s[1],this._u8array[o+2]=s[2],this._u8array[o+3]=s[3]}else if(306217015===n)for(var l=0;l<r;l+=4){var u=e.getUint16(l+2);e.setUint16(l+2,e.getUint16(l)),e.setUint16(l,u)}}}}}]),e}());function Ly(e,n){for(var t=0;t<e.length;t++)switch(e[t]){case v.MP1_USA:case v.MP1_JPN:case v.MP1_PAL:if(1===n)return!0;break;case v.MP2_USA:case v.MP2_JPN:case v.MP2_PAL:if(2===n)return!0;break;case v.MP3_USA:case v.MP3_JPN:case v.MP3_PAL:if(3===n)return!0}return!1}function My(e,n,t){if(n&&n.events&&Zy(n,e)){var r=Zy(n,e);return KS(r.language,r.code)}return t[e]}function By(e,n){var t=Object.assign({id:e.id,activationType:e.activationType,executionType:e.executionType},n);return e.custom&&(t.custom=!0),t}function ky(){var e=Lv(av);return(0,Le.useMemo)((function(){var n=[];for(var t in e){var r=e[t];r.custom&&n.push(M(r))}return n}),[e])}function Iy(e,n,t,r){return Oy.apply(this,arguments)}function Oy(){return Oy=O(k().mark((function e(n,t,r,a){var i,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new DataView(n,r.offset),!t.custom){e.next=10;break}if(s=Zy(r.board,t.id)){e.next=5;break}throw new Error("A space had the ".concat(t.id," custom event, but its code wasn't in the board file"));case 5:return e.next=7,QS(i,t,r,s.language,s.code,a);case 7:o=e.sent,e.next=11;break;case 10:o=vx(t.id).write(i,t,r,a);case 11:if(!1!==o){e.next=13;break}throw new Error("Could not write ".concat(t.id," for game ").concat(r.gameVersion));case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}var Ny,jy={default:{boardselect:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAMAAADlCI9NAAAC+lBMVEUAewAAfQAHgAIAggMAgwAAhAAAhAcAhQAAhQgAhgAAhwAAhgoCiAAAiA4FiQAAjAEJigAAjQMAjgAAjgUAjwAAjwcAkAAOjAMAkQApeIYAkQoDkgAoeJlmZaRhZqpuZJlXaLdyZJQjfI8seokAlQAHkwAme5UgfosbgIaYXmiBYoVeaLIAlgAzeJOOYHdsZqB6ZItLbb8qfYRTa75iaacxeo8weKYAlwELlAAnf4AufIp9ZYYse5xNbcYmfpGIY3w7dqUAmAN4ZpEpfZemX1cve6E6eKBwaZcsf4ZHcM4AmgA2e5Y4eps/ctaXY2u5XjpPcMONZXo6e52RZnCQZnWjY11BdNi0YUZScculZFmsY1VDddnDYDOYaGiuZFDFYS5EdtqqZlBQdtZGede0Z0m8ZkBIeti+ZzpJe9m6a0GFdIhLfdvGbTNXftiycU2vdE7QbiqtdFnFcTVRg9tagdrbcBXOcyvRdCXXcx9chdi1eVOAhJNfiNvQeSfSeiDXeSFiit7pewfcfRymhmJrjNpkjtvffxPtfQChim/bgR5nkd5wk9vriAB0lt7liR70iQB2meHwjADkjhTxjQt+mt3hkRTkkwPxkgB6n+HklCTtlQ+Cod2FpOH1mwflnxOHpuPsnwPaojKOqN/mpQT3ogCRquLsqQDxqACTreT4qAHqrQDprROcsOKVsuOYteWfs+X0sQmft+L5tACguOTrugyiuuXuvAD5ugCkvOj2uCSrvuStwefwxAb2wwuvwui1xOX3yQC3x+e5yerAy+bBzejDzun60iHz1wzEz+rF0ez72BXL0uj52Cb62TTN1evP1+3K2u763zjR2e/V2enX2+vS3uzZ3e3a3u746TTV4vDc4PDa4uvg4ev560Hb5Ozi4u386lzj4+7d5e7k5e/e5/D87G3771f671/m5/Hg6fHk6ez68Gj58G/l6u3r6e3m7O7+8X/t6+/n7e/p7vD+84/q7/L69Yjw7vLr8PP99Zfs8fTv8e7t8vXw8u/sQzplAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+AGBwI1KFwHwhkAAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAAAB5JREFUaN7twQEBAAAAgiD/r25IQAEAAAAAAAAA7wYgQAABv4PgLgAAAABJRU5ErkJggg==",boardselecticon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AYHAwgS8SE5IgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABBElEQVRYw+2XvQ3CMBCFv0SIghWoIJQUTAEtNCmAASgZhRn4K9KQFqZIQQmiYgUKCqAxKLLsBBNwpJAnWbqcnqMn3/meDP8O5xnM+h0HGAF1iXMDNtMwOsSTGfgAq2kY3QEqMc4YmGuETgBPymXhO8ACwLV42p4qjp/AErgDbWnjBVgrfmjKV+IlQNRk+e5GU74Obt63wKaAqyq2KSAATmIFqjnQAnbisyvfYxsl8IGGWH4ePVDVxIVpwuQ58Gu84wW/RqoXHDWxdS8AWFnvgW/N9tILSi8ovaC4XiB6ZKAQfY7PdlO+iRdsgWbCA2fxCd+mF6SWIM0LesAQqEn5/Zf4f4oHrZpgBbrOefMAAAAASUVORK5CYII=",boardlogo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAABkCAYAAACvgC0OAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIVESUAMoBcTwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAd0lEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8GhxMAAVx5XvcAAAAASUVORK5CYII=",boardlogotext:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAAAkCAYAAACUoeZ+AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoIFwUvmlv9hQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAANklEQVR42u3BMQEAAADCoPVPbQlPoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgY39EAAEijVlTAAAAAElFTkSuQmCC",largescene:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwCAYAAABxLb1rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AYHAjYGq/ycFQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACdUlEQVR42u3UQREAAAjDsIF/z6CDI5HQRyvJBOChlgAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBAxQAsAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAJAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEDBDBAAAMEMEAAAwQwQAADBDBAAAMEuGMBVV0C3yrcQ0UAAAAASUVORK5CYII=",conversation:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwCAYAAABxLb1rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AYHAjUz1mIL9QAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACdUlEQVR42u3UQREAAAjDsIF/z6CDI5HQRyvJBOChlgAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBAxQAsAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAJAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEDBDBAAAMEMEAAAwQwQAADBDBAAAMEuGMBVV0C3yrcQ0UAAAAASUVORK5CYII=",splashscreen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADwCAYAAABxLb1rAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AYHAjYUWEXtXQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACdUlEQVR42u3UQREAAAjDsIF/z6CDI5HQRyvJBOChlgAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBAxQAsAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBAwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQMEAJAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQAADBDBAAAMEMEAAAwQwQMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEMEMAAAQwQwAABDBDAAAEDBDBAAAMEMEAAAwQwQAADBDBAAAMEuGMBVV0C3yrcQ0UAAAAASUVORK5CYII=",bg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAALQCAYAAABfdxm0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3woNAgQc5I+JAwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAOdUlEQVR42u3XMREAAAjEsAf/nkEDK5dI6NZKMgEAAIDnWgIAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAAAZYAgAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAABlgCAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAADDAAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAYYAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAADDAAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAAADDAAAAAYYAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAACAAQYAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAwAADAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAAGCAAQAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAwwAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAAGGAAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAwwAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAAAGGAAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAAAAAwwAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAgAEGAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAABggAEAAMAAAwAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAAMMAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAABhgAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAAAMMAAAABhgAAAAMMAAAAAYYAAAADDAAAAAYYAAAADDAAAAAYIABAADAAAMAAIABBgAAgJsFIskGn8IwzvgAAAAASUVORK5CYII=",bg2:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIAAAANgCAIAAADbKYQBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AYHARAotrKspwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAALZElEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GZYDAAHxit3TAAAAAElFTkSuQmCC"}};function Uy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.NORMAL,t={name:"Untitled",description:"Use your Star Power to finish\nthis board.",game:e,type:n,difficulty:3,spaces:[],links:{},events:{},audioType:Ny.InGame};switch(e){case 1:t.bg={width:960,height:720,src:!0,fov:17,scaleFactor:1,cameraEyePosX:0,cameraEyePosY:1355,cameraEyePosZ:1780,lookatPointX:0,lookatPointY:0,lookatPointZ:0},t.otherbg={boardselect:!0,boardlogo:!0,largescene:!0,conversation:!0,splashscreen:!0},t.audioIndex=24;break;case 2:t.bg={width:1152,height:864,src:!0,fov:3,scaleFactor:.1,cameraEyePosX:0,cameraEyePosY:1570,cameraEyePosZ:1577,lookatPointX:0,lookatPointY:0,lookatPointZ:0},t.animbg=[],t.otherbg={boardselect:!0,boardselecticon:!0,boardlogo:!0,largescene:!0},t.audioIndex=54,t.costumeTypeIndex=S.NORMAL;break;case 3:switch(n){case m.NORMAL:t.bg={width:1152,height:864,src:!0,fov:15,scaleFactor:.1,cameraEyePosX:0,cameraEyePosY:300,cameraEyePosZ:300,lookatPointX:0,lookatPointY:0,lookatPointZ:0},t.audioIndex=41;break;case m.DUEL:t.bg={width:896,height:672,src:!0,fov:15,scaleFactor:.1,cameraEyePosX:0,cameraEyePosY:210,cameraEyePosZ:210,lookatPointX:0,lookatPointY:0,lookatPointZ:0},t.audioIndex=0}t.otherbg={boardselect:!0,boardlogo:!0,boardlogotext:!0,largescene:!0}}return n===m.DUEL?(t.spaces.push({x:200,y:200,type:h.DUEL_START_BLUE}),t.spaces.push({x:t.bg.width-200,y:t.bg.height-200,type:h.DUEL_START_RED})):t.spaces.push({x:t.bg.width-200,y:t.bg.height-200,type:h.START}),Gy(t),t}function Gy(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",t=jy[n];switch(e.otherbg.boardselect&&(e.otherbg.boardselect=t.boardselect),e.otherbg.boardselecticon&&(e.otherbg.boardselecticon=t.boardselecticon),e.otherbg.boardlogo&&(e.otherbg.boardlogo=t.boardlogo),e.otherbg.boardlogotext&&(e.otherbg.boardlogotext=t.boardlogotext),e.otherbg.largescene&&(e.otherbg.largescene=t.largescene),e.otherbg.conversation&&(e.otherbg.conversation=t.conversation),e.otherbg.splashscreen&&(e.otherbg.splashscreen=t.splashscreen),e.game){case 1:e.bg.src=t.bg;break;case 2:case 3:e.bg.src=t.bg2}}function zy(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=Uy(n.game||1,n.type||m.NORMAL)),n.rom&&(e._rom=!0),aw(e),Sx.dispatch(ng({board:e,rom:n.rom}));var t=W_();t&&q_();var r=Qg(Sx.getState()),a=n.rom?r.romBoards:r.boards;return a.length-1}function Hy(){return Zg(Sx.getState())}function Wy(e){return Jg(Sx.getState()).indexOf(e)}function Xy(e,n){Sx.dispatch(rg({index:e,rom:!!n})),K_()}function Ky(e){return!!e._rom}function qy(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hy();return Array.isArray(t.links[e])?"*"===n||void 0===n||t.links[e].indexOf(n)>=0:void 0!==t.links[e]&&null!==t.links[e]&&("*"===n||void 0===n||t.links[e]===n)}function Yy(e,n){if(e.boardevents)for(var t=e.boardevents.length-1;t>=0;t--){n(e.boardevents[t],t)}var r=e.spaces;if(r&&r.length)for(var a=0;a<r.length;a++){var i=r[a];if(i.events&&i.events.length)for(var o=i.events.length-1;o>=0;o--){n(i.events[o],o,i,a)}}}function Qy(e,n,t){Yy(e,(function(r,a,i,o){var s=My(r.id,e,n);if(X(!!s),s.parameters)for(var l=0;l<s.parameters.length;l++){var u=s.parameters[l];t(u,r,a,i,o)}}))}function Jy(e,n,t,r,a){(n.events=n.events||[],t)&&(r?n.events.unshift(t):n.events.push(t),t.custom&&ew(e,My(t.id,e,a)))}function Zy(e,n){if(e.events){var t=e.events[n];return"string"===typeof t?{language:x.MIPS,code:t}:t||null}return null}function $y(e){Sx.dispatch(Ug({event:e}))}function ew(e,n){if(!n.asm)throw new Error("Attempting to add event ".concat(n.name," but it doesn't have code"));e.events[n.name]={language:n.language,code:n.asm}}function nw(e){if(e.additionalbgcode){var n=e.additionalbgcode;return"string"===typeof n?{language:x.MIPS,code:n}:n||null}return null}function tw(e){return e.audioSelectCode||null}function rw(e){var n=[],t=function(e){return M(e.spaces)}(e);function r(a){if(t[a]._seen)return!1;if(!e.links.hasOwnProperty(a))return n.push(a),!0;t[a]._seen=!0;var i,o=e.links[a];if(Array.isArray(o)){for(var s=0;s<o.length;s++)if(i=r(o[s]))return i}else if(i=r(o))return i}for(var a={},i=0;i<t.length;i++)t[i]&&(a[i]=[]);var o=function(n){Vw(parseInt(n),e).forEach((function(e){a[e].push(Number(n))}))};for(var s in e.links)o(s);var l,u,c=xw(e);c>=0&&r(c);for(var d=0;d<t.length;d++)t[d]&&(t[d]._seen||(l=d,!(void 0===(u=void 0)?a[l].length:a[l].length&&(-1===a[l].indexOf(Number(u))||a[l].length>1))&&qy(d,null,e)&&r(d)));return n}function aw(e){for(var n in"game"in e||(e.game=1),"type"in e||(e.type=m.NORMAL),"events"in e||(e.events={}),e.events){var t=e.events[n];"string"===typeof t&&(e.events[n]={code:t,language:x.MIPS})}if("undefined"===typeof e.audioType&&(e.audioType=Ny.InGame),e.audioData&&!Array.isArray(e.audioData)&&(e.audioData=[e.audioData]),2===e.game&&"number"!==typeof e.costumeTypeIndex&&(e.costumeTypeIndex=S.NORMAL),function(e){Yy(e,(function(n){"parameters"in n&&delete n.parameters,"supportedGames"in n&&delete n.supportedGames,n.asm&&(n.id=n.name,e.events[n.id]&&e.events[n.id]!==n.asm&&console.warn("When updating the format of ".concat(e.name,", event ").concat(n.id," had multiple versions. Only one will be kept.")),e.events[n.id]=n.asm,delete n.asm)}))}(e),!("fov"in e.bg))switch(e.game){case 3:e.type===m.DUEL?Object.assign(e.bg,{fov:15,scaleFactor:.1,cameraEyePosX:0,cameraEyePosY:210,cameraEyePosZ:210,lookatPointX:0,lookatPointY:0,lookatPointZ:0}):Object.assign(e.bg,{fov:15,scaleFactor:.1,cameraEyePosX:0,cameraEyePosY:300,cameraEyePosZ:300,lookatPointX:0,lookatPointY:0,lookatPointZ:0});break;case 2:Object.assign(e.bg,{fov:3,scaleFactor:.1,cameraEyePosX:0,cameraEyePosY:1570,cameraEyePosZ:1577,lookatPointX:0,lookatPointY:0,lookatPointZ:0});break;case 1:Object.assign(e.bg,{fov:17,scaleFactor:1,cameraEyePosX:0,cameraEyePosY:1355,cameraEyePosZ:1780,lookatPointX:0,lookatPointY:0,lookatPointZ:0})}return e}function iw(){return Sx.getState().data.present.currentBoardIsROM}function ow(){return Sx.getState().data.present.romBoards}function sw(e){Sx.dispatch(cg({bg:e}))}function lw(e){Sx.dispatch(Ag({bg:e}))}function uw(e){Sx.dispatch(fg({index:e}))}function cw(e){Sx.dispatch(hg({bg:e}))}function dw(e){Sx.dispatch(pg({index:e}))}function Aw(e){Sx.dispatch(tg({boardIndex:e})),q_(),K_()}function fw(e){Sx.dispatch(ig({makeCurrent:e})),q_()}function hw(e,n){Sx.dispatch(dg({name:e,value:n}))}function pw(e,n){Sx.dispatch(Dg({spaceIndices:e,hostsStar:n}))}function mw(e,n,t,r,a){if(a)return Sw(e,n,t,r,a,xx());var i=Hy().spaces.length;return Sx.dispatch(yg({x:e,y:n,type:t,subtype:r})),i}function Sw(e,n,t,r,a,i){var o={x:e,y:n,z:0,type:t};void 0!==r&&(o.subtype=r);var s=I_(a.game||1);return s&&s.hydrateSpace(o,a,i),a.spaces.push(o),a.spaces.length-1}function gw(e){Sx.dispatch(wg({index:e}))}function vw(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hy();return n.spaces.indexOf(e)}function xw(e){for(var n=e.spaces,t=0;t<n.length;t++)if(n[t]&&n[t].type===h.START)return t;return-1}function _w(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hy(),t=n.spaces,r=[],a=0;a<t.length;a++)t[a]&&t[a].subtype===e&&r.push(a);return r}function yw(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hy(),t=[];return Yy(n,(function(n,r,a,i){a&&n.id===e&&t.push(i)})),t}function ww(e){if("number"===typeof e._deadSpace)return e._deadSpace;var n=mw(e.bg.width+150,e.bg.height+100,h.OTHER,void 0,e);return e._deadSpace=n,n}function bw(e){return e.spaces[ww(e)]}function Vw(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hy();return e<0?null:n.links?Array.isArray(n.links[e])?n.links[e].slice(0):"number"===typeof n.links[e]?[n.links[e]]:[]:[]}function Cw(e,n,t){e===n||qy(e,n,t)||(t.links=t.links||{},Array.isArray(t.links[e])?t.links[e].push(n):"number"===typeof t.links[e]?t.links[e]=[t.links[e],n]:n>=0&&(t.links[e]=n))}function Ew(e,n,t){t?Cw(e,n,t):Sx.dispatch(vg({startSpaceIndex:e,endSpaceIndex:n}))}function Dw(e,n,t,r,a){Jy(e,e.spaces[n],t,r,a)}function Fw(){var e=k_();if(e){var n,t=L(e.loadBoards());try{for(t.s();!(n=t.n()).done;){var r=n.value;r._rom=!0,Sx.dispatch(ng({board:r,rom:!0}))}}catch(a){t.e(a)}finally{t.f()}q_(),my()}}function Tw(){Sx.dispatch(ag())}!function(e){e[e.InGame=0]="InGame",e[e.Custom=1]="Custom"}(Ny||(Ny={}));var Pw=__webpack_require__(1739),Rw=__webpack_require__.p+"static/media/gameguyduel.35e0293bbf816ce77135.png",Lw=__webpack_require__.p+"static/media/happeningduel3.0e665ae6829be41a866b.png",Mw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAADC3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZZRcuQoDIbfOcUcAUkIieNgMFVzgz3+/GDc6SSz2UztPDZUA5ZlSehDdofzn58j/ECjXHJIao45R7RUUuGKhcer1TVSTGvcF/FevJOHeOwbDJFgluvS85afkDP0ecvbtlMh1ydD5dw3jvc36jbEvh3coWxHQpeDuA2Hug0Jb8/puj6ubcVc3J630Lb+2PdXGnxuDUMS46yZLGFMHM1ywdo5JkPe+gxUbPl/OPp4HW5VRkx8CknEmGeEgvDFpWIua0TQkMy1rjGJX5GCFodoWJc7r1+3ryIPd+gb+Tukj9UH1DfoZ9JhJfRWkQ+E8mP+rZz0TR6ekS5uT55z3it+LxdZB+Wt3dTmb4zuY5zX7mrK2HLem7q3uFbQO2a21lMZ3fDT6DPZsxd0R0k04Ow4ZAd6o0IMjIMSdao06Fxzo4YQE59smJkbC7UAoQNG4bZwp9lpsAFwB3yWhuMgkPIjFlpuy3LXyOG4kwecHoIxwiP/q4fvKI0xC4po5vK4coW4eJ5sRDHJEYVIUAMRGjupuhJ8949tchUQ1JVmxwZrPKYF4D+U3g6XLNATr2K+6oisbwNIESJQBEMCAjGTKGWKxhyMCIl0AKoInSXxASykyh1BchLJgIMqgG88Y7RUWfkS40UIECo5iIENShCwUlKcH0uOM1RVNKlqVlPXojVLnhWWs+X5Rq0mlkwtm5lbsRpcPLl6dnP34rVwEbxxtaAei5dSaoXTCssVT1co1HrwIUc69MiHHX6UozYOTVpq2nKz5q202rlLRx333K17L72edOIonenUM592+lnOOnDUhow0dORhw0cJoz6obayf+h9Qo02NF6mpaA9qkJrdJmi+TnQyAzFOBOA2CZAE5sksOqXEk9xkFgujKpQRpE44nSYxEEwnsQ56sHsjp0Hy3+EWAIL/Brkw0X2D3Gduv6PW6/rQySI0y3AmNQqqb5RxemWv80v55Rz+S+G788vQy9DL0MvQy9C/Gxp4Z+MPe/gFUIoYlgj0gc0AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfiCQQAOzAPQTqbAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAADZJREFUKM9jYCAM/uOTZCRBMyMDieA/DpokzfjY5PkZXZ6RgGZGIuXIdwFNwoCkWKBpOiDK2QBwAxXyAqQmnwAAAABJRU5ErkJggg==",Bw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUCFgYtRntnkAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAC5klEQVRYw9WZMUhbURSGv9wgGtFKbG0kFDN0aCmVFErRwcWtnSrFtau7e8NDLLSbu6trEduljg4OSihUFKngEimitebRRo0iSod7zXvn5VmNMcnNP4X7kryPc+497/znRahG3RN3gTQwBAwA/UDCXN0FVoFlYBFYIe/s3/RWkRvAdQIjwCSQqvDXOSADzJF3CrUB1YDjwAS3IweYui5w5JqQr4G58gsKWnsg1gftKWjthZYufen0D5zswFEOiltwsgech/37CHnnc3Wg3RNtwDTwVqy3xCE+CPEXlcXQzYK7BKdu8MoMMEbeOa4cVB+Ub2IfRjsg8RI6n1SX9MI67M7D2UFw/z6/7MBF/gP5E2grrXU+heQbblXbs1BY868cAw/CYCOXpPuHiOT9V5WnuZLt8OtrMLKPg9tAhfx0WkAmR2sHCfq/k6P+lZRhEIqGnO4PIpJdz6i5Wnsg2g6HmxcraWLD3ykubJSnXtfJvzXdk5Xv2TsXddaf+nFxuusNCfqe0Q7CmCKh0UyOVl+Cqild25/KoqpKTwd/MW8UJOh7t8Tlk8uX+knvFA7ScEmGSZ16Xdx/l6rVo3dYoY33/t7gnjL9pFcmbJFkSSvT9GrF+uwBlSxDynTmWu0pe0Aly4Ay9sGEu9ei1AuWfuXzOF7Ta4MkS0LRJFLGLXr2wRZJll1lLK3WyY49oJJlVRnfrXWUswdUsiwrMxzQKm7ZAypZFhWw4oV7z6LUC5YVZYyUifO59jCNlpv1P+dz5J39i/KU8b60ZAGoYMj42zxvCnLq6ua1USqsBwcUcx6o9iWOV7XmGwcq7+2Eeaap0qezA2206q3t2eD0ZKrc12tyz5IU1up7sNxs0IGO+Cd90tcXFzaIDT8sNdOHm7qBrXVDXViHnS/+lRnyzserJiVjXrlCO8JaRtbNBl1nzjBcMXvS9rkJhmQS1vKxowfbBINcCWz5aFzCNsHLhnJgi1/fXH7g6vJC7B/OGhhMMLwmAgAAAABJRU5ErkJggg==",kw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAowBLAGWP06nPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBATg5mVRUkwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEa0lEQVRYw93ZW0xTdxzA8W9PD73RllJKucyD0VEgMnQZmTGR4B7YfNjDEt0eTPZwXmSXRKMuG33YnIshFMhilpkQJ2znwUSTJexhmTFZ2ARdnInsZsroKYhwhOkYqEztJUD3AAyItsAol+73ek5PP/2d/y/9/35/SJHQLeluSc4GzgJinDvyE1ybGwPAbjQlknyoJLuBQLbT5jh78k1EUXiyNMeBqNfHFw6NsPv1j4lEx7uAcjQlnDyoJOcAqjvLZg9c9KEzRXB4jiT4QCzu10X7ThHsHab85WOEI+N9QBma8nD5UEmWgO4cl92itvuYTAuTWXR4yatm7o+I9J1icHCMshff52Eo2g+ULoQVFkAWAKqU57Tc+KGBybTQMpFTuTFueoO8fCv+tlrSzYaNgB9Jtv43qCQXAb0F+U6T2u7jUewemUVHlomcxZo3v0VObjr+tlqsFuNGoCsRVoiDLAH8RZtyxN7LDfw9OUJ2SU2SkPOx7lwLXd/VYrUYJaAXSXYsDirJWwB/ydO5or+tljuhQdwl3iQjZ7GWzW/jcpvpvdyAw252AwEkOTMxVJLLgetbPPmCv62W26FbbCg9ukLI+dh0u47ARR+ZGRY3oCLJzidDJXk7cK28bKNw/dvjDD7oRyr9cIWRs1hr4QEsdlDbfTgz0l3TmXXOh0pyBXB1+7ZNXPvmGH33VQqe+WiVkLNYW+FBjNYYgfa6GWwQSc6am9EzFc97uPr1UdTRLgq31a8ychZrn8YGL/nIcqQ7gdZ5r/7MJ9V0/fUrxc82rvn2w154ENE8QevpAwCGx4qp9LkT62avlOE5hCFNBNAv/M+0xqHX65jZja1r6PQubL1nNIZeL6RKRlMFKupTpJgE4V/juoYKQqpUvZgyxZQqazR1qj61Xv36hv7+8zvxM3qn25dgeLB64XSaKMkqo2pf4+PQXa/5cIgu/lxjrMmsZ+SXJvZWn+TKT70AFXOhu/oHR6KeyhpsQtaaYQ1GgVCgmf3vfUHrhU6AvWjKlVmopvQDnoGh0XDxC15sQhbD3fWrijUYBSLBFrx1X9J8rgNgP5rS+ngXqikDQPHA0Gi4aJcXq+BkuLthVbAmi46w2kxD03nqm84DeNGU5sRDsqmhmLohN9MUaK8jxBiu4ndXrNnT6WDi5ue0nOugukYhBg1oSs3CkxJN0QDPrdt3HxVVejFj5656YkUya7TA+M0WvrrQOYNsBrxP7qLiD8meYmomagl21BMzhHF4Dicts6IBwuppOn4MUrWvkclYrBV4FU2JLQ06hXUDwWynzd5zKXlYQR8j3PMZv/mH2PHKccYnJr8HqtCUyfh96UIxNbfvyXba7Gq7D8EUJcNziOUMckM3mhgYuM/Wlz4gEh3vBHagKeOJG+jFxBRWdWVaHcGO+mWMxuFBz6eM3Z3AU1nDw1BUBbYu5tBhKYcNrullkPCwIc/tIE2Mf9gQCkfZuaeWe2OhPwDPYub3kPzjmzwgbRFPCgE70ZR7/N/iHz3TcliI4oAIAAAAAElFTkSuQmCC",Iw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wUCFggUh/3CFgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADMElEQVRYw9WZv0tbURTHP7nRqPlRHkmDoIJDEbsUkSJ2cBNcm7UtHRwa7OgfIFIc2s2xYocMQl3tKrg5KKGg2KHBKSCCvCY+msczJkQ7eF94uYk/Yoy5PVPeeSTvk3PvOfd8z/PRgs3G4zFgDJgCJoEXQL+8fQIcALvANrCfMs3cfZ/luwdcBEgAS8Bwk1/PAgvARso0C20BlYDzwCcexhaB5bsC++4I+RrYUP1+YKC7m5FAgNGeHoYDAaJ+PwD5SoVsqUTm/JzDUonjcplK459PpEzzR0ugs/F4L7AKvPf6434/M5EI0+FwUyHcsm02CwXMSh3yGpBMmWaxaVCZKD+9+9AQgjeGwUQw2NKapx2HdcvCurhQ9+/L6xLOdwPkEdDr+l719ZGMxXhIW83l2Dk787qKwFAjWN81y/3bjaQPeGsYTS9zM9vhu2VxWRvZ5+o2EI3+qBdyLhptGyTAdDjMXDTqjdiwZKhLXDW7P7vX7wyDqVCIdttgdzdhITgoVoM4Nh4K7e05TqZu6WWd/NvOPXmPPfvErbPepZ/3ZvdjQwIkYzEMUbMb52siqkbzYzTacglqpXR9zefrouriJ7zFvFOQABPBIHF/TeokvEu/5HpnIhE6bQrDEoBPFvc/bgn4NjSEDvbh6MjbGzwVsp8E2WDoYgrLmJBNLwAjgYA2oArLlJCdOQCjPT3agCosk0LKh6uzS6OIKiwvhEfjVJteHUxh6Rf8JyakWqzKB11MYTkRUtJeNYKlkjagCsuBkLobgMz5uTagCsuukMMBAA41iqjCsi2AfffquFzWBlRh2RdSSGUBKlLDdNq2bNt7zmdTpplzy9OC690sFDoOqjAseNu86hTErFRIO07HINOOow4oNqqgUpcsunfWLatjoMqzFxtppmX3g3VxwWou9+iQq7mcOj1ZrtP1krwqSXbOzh41sbZsW1WgCe+kr+bk33OczHgo9Mxtpn8Viwx0dTHY5oY67TikTk+9rrWUaX65bVKSdMvVJbCSz7c1slu2zUo+r450krfOnqR81n9IpsDqPXb0wOo/yFWA9R6NK7D6v2xoAKzv65sbEu5RXoj9A2ffecywqU5qAAAAAElFTkSuQmCC",Ow="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBAhIifhzvDgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABq0lEQVRYw+3ZT0vDMBQA8LeKa2E7OP/EgzzxJOJVEAt+kp7y0XLKV3kKXkU8ajxoxD+gghOxHupG3dK0W9N1075rm+SXkCbpC8CCRGuit5FvkJbaRcMhiwJQou++S8gZ+e2Y/HZcNgb1APLA7Ygi3yQtbwEAjt6TQTgJ/Kn6O1o+ZFEXlHjLK+cVQKIrZLrsoC7S8hWQd8pBkW+TlteukDnY7nRQ5Luk5ZVrpAX7YsN6Gcg90vKyKmQOdqUYFPk+aXlRNdKCfQLkPTsU+QFpeT4rpAX7CMhXzVDkh6Tl2ayRFuxDGuv9II9Jy9O6kDnYteGCT347rhtp3RT6Hy0v62GdMTqyYx/TPCCzLB4sSDTQBtpAG2gDbaAN9B9B08equmPU4tnOgPNycB5CQxbtzAvWdLof/oqksiKVJRzKIH9Da8bakOPQBItV5JvKIM3LkxIqZBHOas4a0pDGJTM7P4p8i7S8qXJkjUgl4smgCZaRlndVYA3IJVDia7qdSQkdsoi5ngYG5LINWWwLVeLeJdaADECJT3cTCvl6BZcNnaLN13l90wMlnuGvxTcwSZ5+GLmLYwAAAABJRU5ErkJggg==",Nw="data:image/png;base64,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",jw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBAhco477yVQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEEElEQVRYw93Zz2/bZBjA8e9rJ87SlHUd/TGxuBOgtR0/VLShbaIMGKRMQkKiMCZAFMwkVgmxy1Z24MQfMMG4wQV8ggMwfkhISLRIY+IC7AASmvoD1Nad6IrCQkpZSmObQ9rKcRzHTtxN4z1Zid/XH9l+n+fRY7hBhgh1tqq1AwsRXXsThr4cPVTVOoDLAPbs+43dna6X1g6TGHohOqiqdQLzTmRq/9GyU5ItKyBsz+lK0kRWLBIpk6n3PnZjmzH0pcahqqYCs06k6B0GW9R1N7ftyvP7Zx+Exko1kF1upHznsbqRAPMXN7PjuSO4XqG/UbXm+qCq1g3MOBdU+l7GKkoN76LZC1vpPvaUG7voh5WqIHuBcedCTfuOslKQIws3k+fa6XvtcS/slmBQVbsDuOhcoOXBF7maUyKPjT9/sZ29bzzmxl5B1Vr9oaq2B/jFObHt0BD5+eSGBfIfPuzigbcG3Ng/UbWt3lBV2wv86Jyw/fCzZKdTG551zr97G5l3HnZjs06sWEXeD5x3nnjr0NNMf39z4IvJcYtEc7GUcjavICSbeMIiO50K9G4L2eLRU+N8pZ1zh642DD27BrWdyN5XBhkf6wwEbFX/4cDwr0gelsWFBGNndgYOZ7JicujUOF8OfVuONXSx/ujXkE980k8hHw+08JZ0dEiAmGIhZJvBs/3u16B8Mw2e7UcIuGfwEuruK76L3tRZ4MDwb57IpazCN2+HQypNRR45MUl8k7VuqRlHhYDdh+dI9+W8kR0FHnp1CjlWmduv/hVj7MxObCscMjMygZI0w2cmIWDPEYNtu/Jlvze3+yDzMb4+3RMqewVB1sz1QoJ9z8/Q2VPCptqWOXh8CjleiSzkY4xuELJ2UbKK3f/CDOm+HAePT3oil5dkRt/sxlwJjowni2ROBkMCxAIVrRLc+4xR9f/R0z0Ul+VQyIGRCZQmM/Cchksh2yZUsVIPMhKoCFGaxhImmRPhkZFAA6dYxWRgZJxEs1nX/GsGzZycqBt5TaGJVLGh+ZFAhWQH2HTi+kMl2Q4QHrgxoHaU0E+f/K6+RWJW5I/ebfEsnN0lVq0x91MLhcXyJGf+K5Vlq97MZc/064d0Fs5r0B3AdCPYqIYXsrylU+qKzFxPbDVkZe+pTqxlgm2J0oaxBZZZWtYsCrBLm61WsPdDejfJPJpifljbhs9fv9sXke7L+VZftZDe4cnQDUB1TvSNBgH2h/AJXxXIKiHTO44a+hyQDoytFb6qZC5PpKHb4QK+oV8COqPAeqVYD6RcDVk7Mxn6AtDRKFZINZFxDN03awRtja9/ZHBvMNuCCx+lV49FReAHuOWuPLffl62GDPTRIczHhjbgD3cHo65XIWT/PhzUdWcjGK0Yeo7/2/gPg765gTtV6VkAAAAASUVORK5CYII=",Uw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoGAyE4E5DlewAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADj0lEQVRYw92ZQUwTURBA335aoZUKLUFMQ2iMBw3RcFCDiVz0pMZEo1y9Ge5cTcim4eINz1418UJI9SLxojGYiMQDwRBNTEzREBBpQwoiKbQe/tL9fylIf1tanFN3tv37On9m/sysRTkSibcBPUAf0AucAzqcu4vADDAJTADTpOxl00dZBnAh4DYwDMRK/HUSGAISpOxMdUAl4CAQpzJiAyP7Bbb2CXkLSOy8IaCxHQJdEIxB4wnwt8hb2RXYWIDfSVifg40lIFds9duk7OflgUbiTcBj4J6m94chfAnCF0uzYXoK0u8hm/beeQIMkLL/lA4qA+Wj5ocNzdBxDULd5W16ZhYWx2Fr1eu/53cLOGsPyB9AU0EXOgvRO1RU5scg80nV/AE6i8Fau2z3Z82Sx6+Xvs2luMPPl17LnvG6gSjy08caZLS/epAg1472q5qYw7CHRb3RXYIlL2Sf8nprhICia0UQPvKU7+K0iWW1bCA8eTKh+WQ1LVnMsqGzqibhMO3Y+kEtuisdOPuR6B357CJMQrGme+J0XKNmoj87vm1VUfAHNZmXmyfLkVC3ZFB9VQEddn3lEjUXnWFYgsrkHit4wkEG0F6B5YZPjEi8TTj1pJTGdupGdJYe4RS9UgJd9QOqs/QJpzKXEowZr7vGMTY9Ol9esMBRswV1ll7htA+OuU8Ygy6JTtbz+kF31AqyZYUMt15jOSeUHscteg1knQi/aNR0LVYrOY9u36KzdIhKudSG1cJPS4XK00IYTEF39hIsFq6yK8YLbdLMPEENtNmKgmWZLaizLAqnpXXMsmD+ly0f32jXQIOis4wt0lhmfE7ffQOQjZjx8ZnnXcNlxvOyqLiZz+G3LpiD/k6qV5M+ZzjgRMRcGRYVvPLf55W6e+U4pc4y4QOmXXMvGa97cvMtj3LPlCYL7uIn4H/AkmWQ9nSWaR8pe5lIPCnP+5ystA3O+7b8HFdzH7QKHwRN+RUoFTQ9pc4AkqTs5e30NOR+6X3tj0+dYUgt89wWJJuWfXetJDPrHVAkXFA5/7HdrDVeO1D92fb2bEo9mUYKn7ZW5XDgoGV+zDs9Gal4u1yFQYTWLjfouevNFwJXThWK6bWvsoCtdkGdmYWFF/rQLGU//NekZMAZqzjbMeqkiypacn7UO9IZ+I+GZDpsnY8dXdhDMMjdKxuoLl4Xo3Ed9hC8bNgJXMevb3YPuAN5IfYX3AU4elYvVkwAAAAASUVORK5CYII=",Gw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AYFACcbMq7POQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFGElEQVRYw9WZTWwUVRzAf2/2o7N0ty1Z2l3LxxKsgpEChgioBD1I1MSExosXuZKeTDAxXiQEazyYGK6NV4yJB5OScDEmhGg11tAoxWCUQmhB2W6z/drZ7uzs7I4H3izT6Wy7M10MvNPuezv/99v3/t8j2MDYN7gjCewHjgKHgX4gJZdngOvAGDAKXJsYns4H3UsEgEsAA8AQkPH5+BRwBhiZGJ4uPBJQCXgaOEdrxlngfLPAoknIE8CIe94SFkasSilRoZSoUG43qURrAEQMhbZimFghQqwQIVoKISzP7QYmhqcvbgh03+AOFfgSOOmcN9qqLKRLLKZ1X0fYmVXpysaIlkPupQvAqYnhad03qDSUcacempEqs5kiWtLY0J3H81G6p9oJV0Ju/T3YyODEGpD3ANWeW0rqzPRptHKkJuN05FXnlA5s84JVGlz3uA1pYZHLaOtDKgpvHHiayycEd9/9m+ibX/FCby9YVsNHZvo0chkNi/pvVGBcMqwNKnUyY0Nm+wrr6qIlwrx3bA9f7x3nYGKejkgPs1ve5pfXvuP1XdvXfHYxrZPtKzhhM5KhMai07rrhNNJHh1AAtu08zsdbrxJ2/U5XtvN7//vEI9aasFrSYDZTdE6dlCyrQaWfHHHqZKOTFC7V3rs1R0p4G1hu0yHUhLquvi6mdZaSK/YbkUyrTvS007qbNRwLQTxieOoQgKF0oUeiTcma6dMwI1W8mBTHaZ5zXnnzoc1i0VCpNVgPWTrhWrVpea69z9mnah/EgNOZ+/WT2aUOGpmbWs0SX24+MGhJA6NtxR8bcIIO2bML6ZJvf3hv7grzlvf19hTHyelVX/JcDEMAinTuGTt2+w2LANpSitvmJo+VKtsXxiib/uQtpnUs8dBd7RvckVRkPvng2mNVgoxKaYYb+mavv0Aq9xdC+M4m3Sz7FZn0AlBKVILFQrPGeKEXt7dUxGZ+nM8FEuliOarIzHxDoAKLm/PdqwyqZ/lb9EKpFaCHFVk+AFBuNwk6pvNdaK4jfUq7imFYgeS5WPoVR41TT3qDjEJhlKlqxwpD6lm6Qc0SwfR+JUtKaVXKphd1bhsJx8wym+fvtiwlVGS1WC8fAg/T4Jbe5YitRb4vzAYW52KZUWRJC0BbMRwctGZyp9zpSE97SZTLgcW5WK4rsu4GIFaIBBYsqHF/OYHTBNrLlcDyXCxjimwObBgUIK/FcZ7hnFFtFehoGLhmf4uWQhsCvT+rMzo7RheCd/RLLJtWkB6HF8s1IdO8O3a8z2W0QPG+laMzq9IzFa9XpxPD0ztt0zpjz3ZlY4E3iKopju/qxjj0AVtSz6IQzNm7GM4A9TKnXoJEyyHi+ajvnDS97RjfvPwDB6ILDyae+Yj+3Odkr3yB4cOm4vmou0ExUs9HZf/nrL3SPdXuzxlvSvPZoasPIQFEG9dTH3Kk/0Vfslx7n7V7U06vet7+EK6ESE3Gmxfec4RXY/965ffc7H2LUKg5FUhNxt3dk/OrijtJXi9JOvIqnVm1qQ3CoRrhBsZdDnVgiuYMyNU1GXB2+lbEKdlVu+C8hnh+/QoyP/8Tt8xEgwz/Z4TZXC/K2TRzd/i8gvsp2bBCIEhPJtY92dLcHJ/cegXddcPd+mX++e3Smr60M6uSnkw4ewVTkuHRNMksEeKl3c/x6e4/2NP2J8/PXaTw6xC1pWJLmmRPdtvxiWrkejTPHt/WuAv28X/Z4AH8+L6+WcPg/pcXYv8BRb071XbQeyEAAAAASUVORK5CYII=",zw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBAhg74JivRAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAChUlEQVRYw9XZz2sTQRQH8O+83STbTVLTVitotWDBi9WCVNEq3gQRevAHoh5EL/0PeuhF/Q/8E/QketEehJ567KHgwatHG0QvFX+Axt3NxkObYDb7472ZTZcOBJJshv1k9r03s7PAPmlK3OPYw04uZ26+UMOD7iI7W8/NRuf4IzFW6SIXX13Gx/XD8FuEwKPYLv4fq+/YzMI2Nh+vaWGVDvLGm0sIPIV3T2ZFI3nu3haaHxr4svpSjCUdJABYtjxUy9UAFx58wvT9O+gLIUbckw4SABQBimTYstsGAJy9/Rknl26JsKSD7DZ33BNBbafde3/q2lfMLS+ysaSLBIDRyZYMWg77Pp+4+A3nn15nYUkXCQC1g7IRtUrhwHdHz/zAlWdXM7GkiwQAd0wGJSv+yk5M/+6dKwlLukgAcA74skKfUWPSsKSLBACnFoguu2JU7SRs7z9KkTt1sc3+raRCDGCjMSpBAkCpwodWhaUsaiEYNKsc8ke04ZmcygyalMXxiRcUB1UEkM0bVafuFwcFgPqhv6zfVapBsdAaE9pdkBQGrU7wkqTkFAzlTqO2ExYLHRnlJUncgmRPoRXmNKpzR5ArlJsk0ruB3KGs2FOdzJXT0KGc2HMbvulpzKGcaVS6IMmEvr25IZ9GFVCfbMEd83qvaDyOaCxIohZlsnAeVusi/9+gUCa3InuFHNzSKRibhIzfeyoIm4ZM3iQTYldXTqcen5r7jvm7TW1kcnnqxsVuR51q0DcaKSWMg0yvozliKWH65CKzC35O2Lh5XoLkzUw5YKPzvBSZnEzCBHv/empnwyBUaP2yB7oemf2JmYVtbaQMGoPVTq6hPmyIYI2b8PHNvmn/APiMNtZk8R+/AAAAAElFTkSuQmCC",Hw="data:image/png;base64,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",Ww="data:image/png;base64,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",Xw="data:image/png;base64,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",Kw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wYNEwwrTP+CQgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFIklEQVRYw+2YW2wUVRiAv73Q7bQFtrOUFIHahUJpMIJQi6nloSmXJioiUaKJlPDSBCWEBxMiUYdNDERjeDM1RFNBHoyiAprQRDANYIXaKhKlQKD04kpL2WmhlynL0vVhTqdddpbOXlQS+V92/3PO/Oc7/7n9/4GH8j8VW8Jfyr4MoAB4AigBFgNzAY9oEQCuAGeBRuBX4DKqMvTPg8q+KUAl8AbwZIJD/Bn4AKhDVW6lFlT2zQTeBF5P8Yx+COxGVfzJgco+CXgL2GFa75wK6TNAmqX/TvKAM1OvCw3CnQAMXwPtT/03dDNWT7uAd1EVLX5Q2bcUaIoqT5sG7qWQvSwxH/aegb5mCN4wqy1GVZqtg8q+V4HPIsrSZ0LuGnDlpGbSb/dA1xEYjpr1DajKgXsLHSaQm4FPDN2eDjPWwvTVY9OaCnFmgnuJPvDBVgiHRmvWIZVfR6tviu1R2fcS8IWhu3Ihv9pSv3PzNCpKe1lcNADA2ZYsjjdkc6VDsgbethdud40vWY+qfBkNKvvmAxcNXXoU8jZa6qPqhS5WlPaZ1h1rcLP/m1xrsB37QGsfX1KIqlwCsAtIG1A3tmFyLEMuL+6LCQmworSP5cV91kDzNup9j0mdYBOg8Bzg1X3sAO9my0ttTUUgJW0M8W7WGYQm2AzQWqNh9lP//cUeyVCrg8q+AkDWvTkJcirisnnkuCclbSIkp0JnEbsH2VdgB1YaDTLy4x78ySY3xxrcMeuPNbg52eSO36uRLCsdSOXvAIUAeMogPTdum79dyOLcxUyczjCy+w7BOzYaz02m9qtc6s9kJzb94bswYBxCI04Ropl6tOTxW7xY2QPAwbocGs9NiWn3Sodk/cy0Yj+SpcSBVL7b2FQ5K8FmM4xs2fAXWZkjZGWOULKoH393Gv5uV0r2y4T27WkQOGFc4HYR4IqIZyw8HB3peDErS1QmtB+KCFUDdhF96zLU9uDkHpEsjXbgqKH2txh/D9ZFR0lmZYnKhPbHsQBHHUjlfcBW3d394FkOgL/bhb87jbxHhhkYcvDp17n33UzxyoT2u74DRka1bTZx1weMQ19+Ou5Df7onyNLH+lmycID5+XqQfqlN4pc/smj+fTLXA2nxjaLnOKg/jmoqquJxCmUTcFiPwE9bBp2WHaT65WssmBOdQRR6NQq9Gq8828OFVom9n8/gRq9F4N7T47VN4+/6b4GrxkF7tWZCWwvnDbJnR6sp5L2yYI7Gnh2tLJw3ODHk1RqdQWiCTYCqSlikwboEe/TYMFaAM0tje3Vn3Otye3Un3lna/ePRYMSxVSnYDI8iAtT1hq6161H3PWK3h9m5tT3hTbRzazt2e9g8wo8MmtePBs3ROZNWfx6p/DrwDAB3B/SsMS3bSOoWLRikdMmthEFtNmjtlOi6IdZr/3noqIVQRHD9GqqyL6ks9KP3VTLSw0kdTepNB9vedseVhdrNLSkHgOKIsmE/tNXgIJT0GZrpCkJbjRlksRlkbFAdthnIEK8YY+mUy540qImNXUBGrMcH87w+cs2G0Op/QCr/GHABJbPz3cycndwN1fSTn8ZTnaNvT+tQlUNo9fedKmvuURU/qrIFmBroGXovWY8KG1NRlS1WHsgSeh/df6rFCdy2PMhoGQFcVWVFcS32uDsTHSxLwqHL4oUkUa9UlRU1AasS+HSV+JZ/BVTAfi8eCE5YaH4C8IpvErsoUhFb7j/VUgCsBZ5Hf8sH/e3+MHCoqqzoMg/lAZO/ASb0veqrL/2hAAAAAElFTkSuQmCC",qw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wYOEywpJcBoIgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADu0lEQVRYw83Z24tVZRgG8N/aMzo5qGmjlaRpBJpJKBgVZkgH0BDKgs4FIRQUdFsWWTdBEOQf0Ak63VQXJkTQhQVZGSRkReZ0UtSsTDtMM03qOF30LFoN23HOez+wYa9vr7XXs97vfZ/3sAqjQw3zcRNW4SKcld9+wuf4GNuwE4dNIKZhDS7GZFyBj3AM/YN8/sJLmD2Sm7YMk+AGvIO1+A1f4tcQvhDTUdS59ig+w/P4FgtwGX7Ib6dEMUSS12Nz5bgvW/kgvsDZcYHWWK90izZ0YCa+wXYcx224H/NwA94cLdHT8AzuGrD+aizbNcwdPBDiT2JJHgxexr3oHQnRDuyIpUpswWvoGaWfT8EtuK6ythfLTxZwxSAk98eiJR7G7jEOzEWxbolezK1Htlbn4sl4P/4FB7F+HEjKf67Hjzluix+3DSXql+K8BMDPCZiecZS7XmyNBh9BJ34faJiiju+0xfxr83RnTJA+l8bYHwMdxol6Fm3HA8ko+/BdLDtRmJRMdiBclsUl+gYSfQj34dwI+WITjznR5DtxTxLIh9Wtn4Y/ItY9uH2YWWssMRnPxqotIdtVRv26is9ubiDJMt1uqXBYV7Xonoqwr08ebyRm4IVKIlhQi7iXJDubgKRw6Mz3+eioRTdLvKt5UOWytIaVlYVdTUS0ymVlKy6tLBxqIqKHokJ9WN6KWRHZlsHKrAagF1+H8J8Frop2TU1RWzQJ0f7k/h4cLWLJIkXs6pNUVI3ACbwVXkWRYKqhO43XlCYh+nf8czqOF3gxAfULnm4iH52ETdnxrbV0hQtDdm4TEZ2Dc1Kk7K5lOFD66JImIlqt3rbV0vaWuLKJiFa57Kylkt6bhYUpCBqNGeFSFiWHSynaWDnp6iYgWuWw8WSFczfurvYrE4x2vFI5/l/h3IXH01S9XnGFRuCaZEjh1DWwZ9qBC6Klu1JpnznBJL9Pmz49lr21HKIVdbSrP8XqGnw11GnbGGBfiuWpOD/dcOdgI51VeCRzoN50pz3jTLIlu7kDn6ZiOn6qScnBEJ2XLViBD8axBJyBp2KgZdnR7f4bXzblkKw7c4UjA09s1NixHTcbg7FjiXqD3G48EXeYNUyCp0d+7hiwPqpBbhXlaLzbv5PmTZGw2QmCmbnJ0UqiKHL+/mjhajwa36/ed50hjMaHg2mxxOWx9OJo7h7134gcwye4MQ+yCM+FdD8ey3+OG4qowYZoX5/BX9m8jUvSl63AtSMhONpGriMDjJUpvOu9EHsPbyRYRlw//ANBO/GuZrPHWgAAAABJRU5ErkJggg==",Yw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wkQAjIkoEJVegAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAE/klEQVRYw82ZS0xUVxiAP+4Mj+mAw2uGAQmOIiWEEnkkpFarRO2DRaFxR6IrGzemi5JoStKERdOVGxckDalJk2ow1UV1hSskcQUxSm1qk5ZK1fJ+hOcwDHPndtFzzeHOfQkT8E9OMnPueXz3/8/5z/n/m8HOxAv4gVzgHSBH1AEkgBgQBVaBNVG3LcnYRh8PUAiEgUzjw5s3aT53jmGLvpvAFLAAqG866Zu0LQMqgYBV374+eouLGbl/n1mLMQLiJRWhbS2dGi0EIib1MWBZmDX24AGVLS38pqqMhkI0LSywKZaDH9gnfhvlH6HhHYEqAjDfUD8vyhZtRKN86/PxFcDoKKeqqlKWQAZQJIosiwI4uR1QL1BjWIeLwKR4gS3S3IxnaIhZIAtAVfm7tJT62VlT0yaBUoMCNoE/rDacYgNZZ4B8CUxb9blzh2YdEsDjofLRI47aWGpajKlLppjT61ajClArQW4CY06LPh7nl8xMPtqitiT/hsPUWGhVZjhomO934zIw007E0GnUCbKnhzwjJICiUP74MScc9oEm5tiUNBtxMn2hYd2M2SyP19LRwWdWz8rK+LG62nEMRcylS75gMQX1GN7kpVsfl5/PN5YECqGBAU65GEYzrNmI7Ktl0LBhd6+7gXz4kIiiUGHXJhzmBxdaRcy5aMakSNoskRpMuj2umpq44NRGUQgODvKpyyHluUt0rXoBDhwgGIv9/zsvj/naWrLdjHj8OFk+H1+6aRsK0fv0KR/PzrKSTJovqaUlNtbXUQcGUCcmKAAoKqK8r48XALS382E8zpKmob1NJRZjoqmJZtm5N7a0cDIeZ+5tgdzYYPzIEY4BjbrlA+JP4/nz1Kgq03sNqaq8aG3lXZ1LMLJfqijo7aVUVZncS8jubkJAgcS1H6BKqvAB/p4ewnsBK0H6BYvOVYW4COgVeaKRDju+R5B+waJz1QE0SBV+uVy7RsluwJpA6kXnarAFBfxdXQQTCZ7vAWQKqKnpdwPWATLF9Cmbyax0dlKcSDC6S5ApmylDbP0S6VoXtzoG790j1NbGc9IgT55Q39jIqE2TLHGhBphWRHJAF7/d4A0NVJMmiUT4wKGJzLKqiFBXl312PUtL6UoXaCDA1w5NZJY1RUR9ehiQYxWZXr9OwOt1DCtci6JQcft2Stgsx1E5UjiU0O+jU1Ij085nz/I5aZbTpy3vqDLDlHxxXjA02hIBBoNkBAJ0u5k8mWRNVW03iWz+KxYxvwy6IIOqIs5+vRzlnv39HFQUQo5xxDo9Fy9S4fVS/+oVrckkK7bJLA+Vt25tDeIMc0+bJdM8kt9qBIp1nxaN0mPnExMJRoaHec/oC9vbyV9Z4Tu7vvPzfCH1KTYweOySYXLD3DNnCGgamxYTrc/M0BEMkmvjuP03blAej9Nv8ZJ/STlWee5CJwseko+u8XE+MZsgGuX7S5cosgM0lmfPOGp2ybl7lzLDUX7IleeQOy0tMWTQwK9mZnZbqqvJm5vjgmylwUGuGM51xa3n8AINLS2clM7mmBszuy3d3YSWl/lJ09DW1hiTbkne7eTn6zQNbWyMnw8f5n1hEl8aQH36EuvspG11lT9bWzlmB+mYyL16lROXL7PsJpHrMsOdksjNzmZpZISZmhprd5bW1LjQSFJa64ndSo0b/WzYkPrZiUyL41F1a4q0fr5xkG1/vsnYoVZ27YPYf++gNbW1nipNAAAAAElFTkSuQmCC",Qw="data:image/png;base64,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",Jw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoPEDIgAntuHAAAAAxpVFh0Q29tbWVudAAAAAAAvK6ymQAABA1JREFUWMPVmN1PW2Ucxz/POac9fYFSyttGO2rmszmtMSpmbmNuDBmyNRsT8/wB3vIfeOmN8c548yTeGC+NTUxMrC5IdjcDcTqNWIOrxsjY3JxlYxTG6MCL9pBCmNDXwffqPD3n9Pc5z8vv+f4eQRWlpVLAZ0U/fQMMjqQTK5X+t1FFyLMbIAFOA59qqcSOANVSnQGSABFfO28fOEfvnm7ntgI+qjSGWQXIAeAiQNjXzkD4VQCa7UZ8lofp7C2A7ngo5k1mUmNPBFRL1Q+MAnT62ngjfGTd/VZPEFOY3Fy8A3A8HootJDOpb+sKqqXqA8YA9npbGYwc3fS5Dm+I3Mojbj+YBTgdD8Wmk5nU1bqAaql6gUt5yBYGI8f+9/mwv41sbpHM0hzAUDwUG09mUr+XElOUAXkYmADY423hzBaQxRqdGWdm4R+neXQknRivyarXUr3iQLbawZIgAQbCR2jzBJ3mZS3Vc1UH1VJ1A98BtNhNnOt6ray5HY8cp8nd4MT+SUvVVTVQLdVLwBUH8nzXibIzhRCCC10n8VteAAv4VUvVXjGolupF4AeAkB2oCHItqDAYjvbiMd0AvgJssGxQLdUh4HuAkDvAUNfJqvkCy7AYjp7CbVgAIWBSS+UrGVRL9QzwC2A0uRqq0pMbZZtuLkR7MYUJEAauaqnsbYNqqQ4Ck4ARcPl5M9qLEIJayG95Geo6gSEMgIOFbGBtCaqlOlDoSavWkI6a3A3EIz2IfFrvBi5qqYzHgmqpngZSxZCFL625Wj3BNUMDvA4kiu2hWQS5D5gCXI0uH8PRU3WDdNTo8tNsB/hz/gbAs0A4Hop9mcyk8qBaqghwDbD9lofhp/ow6wzpKOjO28PreXv4MtAeD8W+EoWdYQrw+CwPb0X7sAyTJ62b2TuM3ZggxwrAJQP4eadBAuz1t7I/EMFr2HgMd58B5ADORnp2DKSjY+0vsD8QptHlxwDuAfz47xQ7UcuPctx9eB8LeBf4JH3/Om7Thc/0rDMQXnP9RhGyAzTbgYqCzy7N8dvc9GN9gC1M7j3Msph7wOzyPMuruXyG1VK9A7y3nSD7/B10txwqG9aBTN39Y7uvrAKXna3qfWAB6NxQpnQUtXuA5unsrSBAf+fhskCns7cdyEng4628C/A1cM0CGEknVoEPt2H5zgNfVGn6JUfSiQ9qdQBRzU2/pBRTKqhRKW2RvxG1BDUr7ViBqEuPCidtVQHU2C1DX4cerc7Q12OO7pZVX8kcFWLXDb2xo4d+96QnsVvSU5mjY5UD+tf834zmJtYKwM0qA9twITYUiAbCOSYv+XtLBR0FlpZWlu2ZhduVTtfPa+qGtFQtQD/wPNBI4ThyY9ULuDZZiG2F68RIOnGllLj/AdIE9v4Gt7WiAAAAAElFTkSuQmCC",Zw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoGAi4JxBSTuQAAAAxpVFh0Q29tbWVudAAAAAAAvK6ymQAABIFJREFUWMPtmF9MU1ccxz+313AZ4ECWiFgFMYY90GRlG3Gw+bBpMiFsvphQyFYzCYIhhAeeZli28eiWQIhLMEozN98MExJHE0I2E4HEBI1NChNnZOmYtaVhw4HFtvS3h92SWqCgInTTb/J7uPf8+9zfOed3zv3BCz2nUp6yfQpgAvYB7wCvAUa97A/AAQwAVwAn8GC9P7AIuAjIY9pFve0z1xvArScAjLVbel9rLg1oXQPAWGvV+14TZQETzwAyYhP6GE+l7c8QMNa2Pynky0BwHUGD+piPrUvrCBmxS48LeXgDICN2eLUB/6WNCMxLHCT+6BeGJSpVJsCJWbmSRxVgDkjaYNAAkKwvhSU9uisBINEZdsWb+n0JdGHaFw/0QAKBHogHujeBQPfG20x+fREngub0ULlseEpIxYK6EojNFQ/0agKBXo0H2p9AoHFZ8jbwMhJref+LI1SA4wkw7cejIf+T17wkoBn4BbgLzG4w6IOY9boAfcVsNg/b7fa/Jycnw36/P3z79u3w2bNnRdM0iadgMLjQ4YkTJ0RExGq1Ltocdrt9oc3s7KzcuHFDKioqVtu/P+JVuXPnjthsNjEajdOapv1VUFBwv7GxMQyIpmkL1tXVJTabbeE5KSlJAFEURcbHx8Xn88nAwMCSoG1tbaKqqmzevFmampokGAxKfn7+avr/F3Tr1q0iImI2mwX4BsgBXgfejx3wwoULcubMmUUgBw8elEAgIGVlZSIiUlBQsAi0tbV14VlRFAkGg1JRURH9u9zkcDgcg4ODVwHrojXq9XpxOp20t7djsVg+2bNnzwjwM/Al8K6e8IqrY8eOYbfb6e3txeFwUFtbG7e+xWJh06ZNjI2NAbyp740VdXHbtm0/dnR03BweHg75/X5xuVxSX18/r/9vGyMpnaU8mp2dLYFAQA4dOiSANDQ0yNTUlCQnJz/i0ZmZGXG73TI9PS1zc3NSU1MTKU/ROZb1aHSYeg/4FpjWNG26urp6PhQKSWlpaQh4W6/X2t3dPRcL2tzcLPfu3RNVVQWQLVu2iN/vlyNHjjwCevr0acnKyhKTyTTf398f6urqCgC/RWVJ4k69AfgASAN+ALY/fPiwuLOzM+xyuaSwsDA61k7k5eWN5ebmjgDXABRFobq6moyMDCYmJnC73YyOjqKq6lLT/6fH4/nM6XR+XVVV5d6/f79aWVmZAnSu6ppXWFiYfe7cubaioqLv09LSfk9PTx+oq6sjJydHGRoaCsc2Sk1NnQXagc9LS0tDO3fupKSkJGw2m0U3ysvLKS4uxmQyAdiMRuP4jh07ftUTup96vd75U6dO3W9packwGAy7gVdXBPX5fIGUlBT1/PnzqV6vN8PlcmUcPXpUtVqtocuXL4eBkWXaB2traw09PT3h69evhzweT6rH41E9Hs8rfX19DA0NRbx612AwRH9wGPj45MmTvszMTEN9fX36alLjCmABPgLeiiqbBX4CvtDXEUBTVPlkVBocIAR8FfXcEVM3omtAtz7uzaj3HwLlMW2+44Wed/0DIPwsE1bJN5kAAAAASUVORK5CYII=",$w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AkWAwU7bMh4KAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEPUlEQVRYw92ZPWhbVxSAv/esX0uyA8+uVCgWpip0iWNTtVlCvGTqUrdobZLJeE07GxO8dPMqMuVnNYkKGbsEMjStS1tlaanASBQqNX4QW5YlS1bUoe8qV1fvPf0btweM7fPe1f049/zcc6QxgixtLBjAFeAacBW4DEStxyXgJfACeA78mk0XzGH30oaAiwBrwDYQH3B5HtgEMtl0oTwRUAvwDnCX8cgWsNMvsNYn5GdARtW3tBb1YJNqpEE10uA0dEbD9wYAb13HX/EQLHsJlr34qlNoLdvt1rLpwrcjgS5tLASAe8CXsr7ub/I6VuUwVhvIhLPFAJeKQXynU+qjR8B6Nl2oDQxqBcpPsh+eeZu8ilc4NuojnXnY9DGfD+FpTKn++5FTwGkukH8CAaE7MmqUEseMU6K5MDNmQFbVgPfsYDWH4/5NWLJFi1fxysDHPIg7zOdDaG9R8sCHqhvoNmvvyZDFRHlikACHsRrFRJkWLaGKWwzOFlWj++/4sSvkye3KUHDXn66yd7DXZdl38mHHbKAreTIj+6QdpBEw2oDqZv3KkxuPMQJGl2WPjI79MhZT19HfkaPbLnCMgMEvaz8DkJxL8tX3Xw8FagQMntx43KUvJY458zaxY9Ikax4J5V+Jo64UJCCFJfYO9rj+dHXo4weYvh+yTV3v5mZk1Uw2XSgLi67JydwuT6rHlZxLTiS4jo06dX+HVdfko98W2texqu0HTArMThSGbQDdSu5xUbudonzYwBk2ZbW0t+lqaWPB0K375L/HHmw6Lv78uy8wa+a5wSosVzzWpReAaqThuNCsmSxnVjoCSpWbz26xu7/rCpBaTPFw9UFP0Gqkgf/EI/69pls3856gIrqXMyuOlu0F2e87NixXdat9AOA0dOa6WOTQ5cxK18YywMPVB5zcrnT8yFbc3d/tCaywXNaWNhZOAR/AHx8f2Fd/yaLCBdz81Sm32uVNR3kDH/w413ZZfZiq4uankxLd6hbb7cOgJVAccz8BIrtGr/cVlpJutbQA+CuevjcTBSC1mOr47RQwsi61mOp4304Ulpceq+/+FCBY9o7cZog0dfPZrZE+I1j2yv++0K3hgN3DgStTLyv1+44Ny3PNKqEHooTmPjH7DqLp+6Gx356EJH4w5PZ6TrcaqTyA1tKYLQZcK9N5lNHZYkCGzGfTBVOE1qbQXioGe5bRScMqDJvyNa/dgvhOpwibvp6wk5Kw6VMHFJk2qDX/2RJP5vPuFcSsmW3/Gvb657RO2XtLzKbkrLoj/vA0pojmwn1tOGzfZLcumgur05OdsbTL4w4gt3a5A7+0d/h7NDn7vrhMTx96qQeb1KebE4UMmz6i+2F5WvIomy5802tSst5OV2jEchHHlDUuS8ZyEXWks/7/GZL9p8aOymTvYg9y3bKBkAszGldgL/6XDTbAF/frG5eAO5cvxP4BRvwfIIZhm1cAAAAASUVORK5CYII=",eb="data:image/png;base64,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",nb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AkWAwYaC4w7tQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAD0UlEQVRYw9WZv28aZxjHP3f8OgLEkUgKQ20WOsYeailL1P4DlcLYpVKmyGv+AMuyPHT0ijpVylJ1olL/gUZZItlSTaZKXqAdIOlJIUCAw+Q65H3Jy+s7fHc+iPts9x7wfnh+3ft8z+Aatr23VQR2gIfAA+A+UBK3u8Ar4CXwAjhr1tt21L2MCHAFoAYcAZWQX28B+0CjWW/3VwIqAJ8Ch8RjB8BxUGAjIOQjoKGvu4aLk50xKkwZFaZMchdM0x8ASDkmmWGSbD9Ftp8iPUpguJ7b1Zr19m/XAt3e27KAn4Af1HUnM+NteUSvPA7lwo2OxZ1OlvQkod96Bjxp1tvj0KCiUE7VPLxIzXhTGTIoOteKed5Oc6+VIzlN6Pn7tV/BGUsg/wEsufauOKZbHUQCe/94CMCtn3ML66XzPLdtS10aA196wZo+4T6VkC4uryuDyJB/f9/2vdetDnhdGeDiyiULOBUMy0FFTlYkZKfaD52LKmTRKgJw8u+J52d65TGdal+FrQiGBUt4VPeP8vpNZUj/i8mlH3dxMa5oGCokQPXXr3w/69yaMUu65HppubRT2t34s3vS++uSR0WfbKg56efJsJBBrFce8664sF9DMF0K/VO1uq+Tk2Eh1Zy9SM3wYjIVbx6qIb/6UWFgfMqrpZB++ell2t6H0qvSozW1mQfqk+7HTA3iyW9+/zYw6KDo4GQWvFpTQY/k6tvyaK3h9jKN4QjAFM29Ip/dYVtR3JCysFzjU7va3tsqmuI8+THs2VnskGHyc6FlLbLsmOLQC8CoMI3dk2HyUzWN5aEpTuahQFcR7itAHyTF+ADAJHcRO6Q8kOimH1B001jum8qMMz/0rtKT9ti+EtKDpWSus7rtsc3mL1uRvpsU0+KmHB+m1ofA4VslZMpZ8GE3KUbaTYDMMMnUckLlU5A/EcWTmWFSvXxlirkbgGw/FXv1Rg23xvLSFOJAJNDn3/2xspzUWF6YwJm8So8SoX5s9+7uSiA9WM5MMUi1AAzXYKNjfbZwq2O1ogG0mvW2LUtrX67e6WQ/K6QHw756zJuPIOlJgrydjpSfcUDm7bQuUDTmoEL/OZB37rVyofMzDkiPvQ+kNqV21eP5U2CaoHSeX2u4pSChqSfHl4Y7QT4fSW7blm9hqWGPC3KjY+mqSU1V+haeU0JVe6aGwStfZdglpGskfOeqMFqUKprpCp/XoeTJvF1hUD4v+HpWetJwZ76TahBPls8LqlbQEgzrF8mW5WRQkez/LTtqyt7NFnI9xLObK41rsDf/ZYMH8M19fbOk4NbyQuw/OoL3NjoRsVMAAAAASUVORK5CYII=",tb="data:image/png;base64,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",rb="data:image/png;base64,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",ab="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBAiIT8ITZxwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEXUlEQVRYw9WZXWgcVRTHfzOzH/loWtM024jZbtOSWGMhFAppbUtTVDCCwqZ+tdDYilSkhLz4JioEQaW+BM2DItSKUPpg4oPFioQGSot9sFjBoA3BNKtN3GRNk7XLdpOd68N+xNmd3b13diP0wMDM7N3//c09Z+459w7cJ6Yp/8N/XFSk59Dn2tqBpiHF9JnyRmfLCWVYzSlk8+Ee5ierMZetEskVDWFa72Wu27sj/PLxN45gdSeQweF91Pvj3Iu6WI4blsNc0RGmZjkyFuhcJDi8D4tXJENJdwIJsLVzScndLq+Jt9a0aKjA6k4gUx0LvOtWpEG37b9juVaF1Z1AZqz10II0aMvexbx7KrC6U0gV9+suk+oNSdvfZGF1p5Aq7i/1QDKwulNIFfdvz4lPJ7B6OZAyo6XpgtpNci9dMVi9HEgZ929+5K7SNFYI1pXNHg4gU1kHEjEDMXnW/kVq7UWYoOlqsCM9VxDTZ7IZTLd7GhUbv7gxL2Xmps/xixuVdXNZdMqw5LLGxKX6gqMJICbPMnGpnpWEVk5Xq65XNTMJP57bDGho218uWftcP+9j99G/0I3/ETQadjM26CeZkHfI7Z/ruPBrLV39Iep8y8p9Krs+MlXF6OmAEmQ2VBI6o6cDRKaq1hY0GnZzeai57OL+8lAz0bB7bUDNJIwN+iu2Bhob9GMm1wD01rX1Uu5+eIvg/dcFHpcoGQa3rq2vLKiZhBsjPinBN4/DK89Ab3fptjdGfNKjKgW6EJIL/kCT4OCu1PnASfC6RcW0pUBnx2ukxD7sg2pvet4z4NhTldOWmkfnblrFHmpcHalHW9Llnp/saGZs4CTMRAQ/TeRr/jmnrWo//XdlQKNhTyq/aIKXnoC+5yGegH9iMD2bOn/xSRtxA549ALvawEw/W20VLN2FD760alc0Mwmhce57GLsuGH4Pdm6DPTtLFBcHrdd3ovB4n/p0ZonRkZ4rto3qfAnL9UxE47HX4I2P1Dr77gfYcQRCYa2gdiEWPXebxQ62sS1mO7pffKvRfgR+my4OODMPna/CsQENM6cktNPOMGR3U7Kg6W2VQrBN7bGCEPOLGtFYcdC3P4Pfb9uXebnaeZBpNj13d80Ott4fLwjhdQt27ygOurdIHP9XuxBk/jxaAFY3oCMYtu2ovSVnhoiBaVrvde+xh+wIhrP1aTFI+wm/AGygcwnDY+Y1P3V4NQ5PvAutL0AgCG99utrmwU3gMqxZyvCYBNIr2FKQhTOTDaxuQFd/yBpfDYL9HXD0HejohQtXUy/LvWWNT77WaOmBoa9SbRs2WLvo6g+hG3KQpfdHbZbRkamqbE1q6ILnDsH50eIyD6wTeNwQXki1O3DqDxq2xqUh5TZybWCdLEUy7s4sRVQg5XecbWDNZKpGlS3/OoJhAp1LSu5WBy2ym2ImU6Xa7HgNczdrsrm7zpegsS1GU3uMen9c+u0uH9QG1qmt7ceGHNiyTfHzzX1j/wKxDhh8cgm7FgAAAABJRU5ErkJggg==",ib="data:image/png;base64,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",ob="data:image/png;base64,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",sb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoJEDU1BYxD7AAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEkUlEQVRYw+2Y3W9TZRzHP8956cte23VjhY2ug1EGCBsDceIFGi8wMQGVhChXxgTihYkkXvgHcEHihcYLQ2KIMWgI3hnfSIjEIYIV2MgYL25M2GDg2NbNua5re9rn8YIzqc2YW0cXov0mT85zzun5/T7n/J7v8zwpFFRQQf8viVwfVEoF7W4TUG33K7J+Nmof7wGdAEKIvryD2nBNQCvwNLDChnPNEFNlXIvb0DeAn4Ew0DkfaDEPwFeBl4AnbDCRQ0WU3eLAZeBL4FiuXzkbcqdSqk0pFVNKpZVScjphpjLPZ+pnHaUdK2bH3vkoIMNKqdQ05DToLBAq80VmAZ2GTdk5ZoXV/qXcu+xSZ5ZZ2Kbgft55GOLBM5mxhJ1jV4ZB5w5qqwQwHvIiCCH+ATHb/Ydds2XYucgVtBuYnOMwWcgom7Rz5T5XKqWOKKWi2WN0DoaZ6xiN2jmCCzVUUCl1UCl1QyllZQLbba6SWYCWHfPggiFnAN5nO3Q8YybIBp+ppTMcPm7H2DcfQJErdMYKtREI2YuAM8N8KSBhT+49wMVcVqSCCirocdk4Z2tba6gY2A80246XII6eCnd/+9iAbmsNPQ8cNnQjaK9cmmmaxBNxqy5Yv9fnq/rig48+jy8kh/4IIFcDxwM1wWXVAT/pkCG8tZV4PV6cTrd+99btF1OWVbq1tflkR2e3zDWPsUDIgKZpbSsDq3y9a+9wrqHrwU0Jdff8NGoBM9I/sj8ejw8A7y966be1hkqAy6GGNXWDgVFOVJ65vx1z3w8pJyRo4HdUsbFtJbFINHbiVFdxrvm0HCEF8HV9sKFubNkEJ9eFQUgYlQ+2fFMKnIJh3xg3W4ZRQhXt2L7lpx3bt1RceOfJ4kUBBfY4Hc5nvb4K2hrPgwCtWIcigSjXEEUawi3QfToIuF7fj6vFg5W0npmamtqbkiqW99I/t7XxBSHENxvWbtK9r9XRnrhIMpnA56xgIDaALnSchguX7iJUvpqbI72UejyMjYxQelZnINwrpVJv/XD22qG8mklK+dmGtS36G2++zZqmZqSUyHQawzSJx6dQSEzDgWGY6JqOlGk0TcOyLH7xneZ44ph29sLpA8ChfLve1xBaw7rmFn693MlUbJKly+tIWRZ3+vsp93rxVFQQGRrCX7scpRQOh0lpmYdNm1tpP/MjQtNK8j49maYZ+a37WuXHH77Hrb4bKClxiQmsFLidBi6niek0iUZjTMYkDlOhu5dQE1jB+Pgot/tu4vV4e/MOahjm7ivXu45e6bnkX1W/mqoSSeqPS6TTsOmppZQWG6BgMpbiZHgQdCiqWkfH+d+53teDw+Uerq2p3ZH3lam3b7CvpSn0adKyqoZGBpvLy/0iWFPM5kYn3jIDXQNNgNulEVxWhL+6jLsTJbRfvYamG5El1UvWHz7y1e3FnPBNh8PxSTqd3tPcuF4LVCZIpQUup0UyaVDitojGTSJRk3NdVxG6MWQY5ivffd9+ZtE3Jftef7lofHxsd2R4+EB5aVmNVNNBxd//iEUn/0whxGng3WQy0XEq3CMpqKD/oP4C3HApLBAJZbIAAAAASUVORK5CYII=",lb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoIFCAmCTIrnwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABoUlEQVRYw+2Wz0obURSHvzOTIGKUKvVPMGo3Iii47MaVy7rwMeoD9B2kgUK3BbsU2ieodeuiVMSFqFFKt6lRpEYqaRtz768L00JdlGQ0GSj3g99yZr575p7DgUAgEAgEAv8zdl8vkoiAXmBEIIMy0DBDqZ9SwiTGJRaceOZFyQk5IS82JZYlJiTiNCUzEk+d2P4tdzv+JrtOrDoxnJZoviki10J8gxcSue5KemJf461rVbIZifmuinox3mol/xK+5tj/ZCjJN6NEpj9YS/RchhlledKcEJ0dT6ow6Ef5mngeOrCYvBmVzlZ0ncjuMhlj0EemO99IYO6g/fv5Jx+QihQ6fkcNZCW2E590h9dccNaVZrJTXiWS3IPoIUV7Tr39Pkzy+6ts2jkoC/Q086+2vAYTaIt3Omq/momXEq0Qq8p7JuhlloJmmCSHkQMeAA64BL6D1UFfqNonLq3Mkr2k1PXtSYvk6GeeiMfqY4xHTCnPHI66lTnkhApXfDPPsW+wHw3w2d7gUl3zALREP1nGAEedim1QC5t0IBAIBAKBQBr8AnHFRZ9mvpokAAAAAElFTkSuQmCC",ub="data:image/png;base64,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",cb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoJEDQ6jChvPAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEkElEQVRYw+2YTWxUVRTHf3fe10w7nXbaaQstlvLR6YRM+ZSAosEFIagRRGJjWLHqwpULEmPcmLhgwcJE3ZkYNZHoSiMRNzXhMzYGa/hSaGkpdFMopXY6M52Z93Fc8MBhUpBOaTU6/+Tm3jfz3rm/ueece+4bqKiiiv5fUuU+KCLt/nAd0OyP60tuu+P3N4FzAEqpkQUH9eHWAVuBZ4CVPlxwFptS9FnOhx4GfgL6gHNzgVZzAHwDeBVI+mCqDI+I33LAReBb4KtyV7kUco+IHBeRrIi4IuIVtbmq+FnXt3lcRPY8Ccg+EXGKIYtWRkREHnZ9b1ws/7oY1vHneCRs4G/cvc93dbGb1d354GF96Vgp9UBfbMtvSWBfUYI+PqivMKCXlaV/QSEiKKUegC+R7s9FuaBXgMwsq/04YTOX35Xx5yp/rxSRL0Qk/agYLY3F2WIUEM/zZovRtD9H+3wTql1EDonIsIjY88j80oy3fZuH5g05C3CPn6FTRTtBKfhszS3K8CnfRs9cAFW50EUVagMQ94uAVZR8DpD3N/cB4NdyKlJFFVX0bzk4l2pHYnmTKrhfKlcSKDzA8wzt897BG+89CfvaE4HseOqglrGPhRxWK1ciuiu1YQJ1Ts5+YWdXfNlLG5KnTgwM5/7RFd0Rb9ulpwvHEtU1qsGyqNI0FJD3PG7l8/yeSrGkKdofbazf9sGPZ8qG1ecJudVM298na2pVayhE1DTvf+eJUKPfNX/l1uTGjOt8DexZdNAdnW3NWto+tSFSG2gMBsl7HmO5HFbg7oEs7ThoStFRXU3edbmZmtk9n0UJlJk4gcCMc3ltOKI3WBb1pokC7hQK9+/Juy5mIEDYMFgdDqME9sdXTb2+cc2q3u4tTYsCqhzv47Cr6pYGg9QaBgDVmkZI04iaJtWahqVpxCwLgJhl8XQ0ip3NR3KZmY8cT24veNbvTCw/aOa9dza3tKjnnt1MjfKoVzqtLS20AnWWRSwSoT0WozWRoDqfp3lFO/WaR8DUuJ6a7jg9kW0Zmpg6uqAxage1d5Nda9XeN99i1dr1uLkZnOlpAgENO5UCEZRpolsWyjBAPLRQFZ6CyOmTZI9+w8mLZ7uBngV1vWdptcs3biLx/HaGR0e4fG2IjGkymZ/h2uAA47fHmbELjF4dJGsXyChFTlNYDTGSL75MXWccCRrBBc96wzQnhgYuxz758DA3rg0hnkdQTWM7EDI0QqaOYRqkM1nS3wmmCVqoida2lUylJhm9PkI0Wn91wUF13ei+NHjhyKWB80s6VnTSGPZw/jiP68KmLUsJV+kgkM069PaNIRpUN66h/+wYgyMDmMHQ+LLWZbsXpTLte2VbQyqVOmwXCge64knV2Zwi3pyhtkb33wBAKcjOOGQKAfpHY5zsv4KmmxNLW1qSnx35YWzRSuj2rXHDNM1PXdfdvz7RFWiL5XFcRdCyKRR0wiGbdM5gIm3w84XfUJp+S9eN1471/nJm0Wt9z4G9VVNTk90T4+Pv19ZEWj25Z1Td/0csnUk5KHUKeLtQyPef6BvwKofWiv6L+hO3lkLSl9n4+gAAAABJRU5ErkJggg==",db="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AUIFBkAV+u0CQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADIklEQVRYw+2Ye0hTcRTHP7+1lsaqOWetwgjKasOMtMc1ggh7QhBFDymK/kiRkAp60AOiP4otsH9igQQFFq2IHkjQA4seoNyC6EGpUVAS5izTmbJ0PX79syvmZuEmd390v3DhwPmee773d86553LBgAEDBgz8FxCDcRMppavG660FaD5aBsCYg7sBmLdvn1sIUZdUoVLKscA5oADg2gjHH/5VHS2aeRfYJIRo0r0UUkqXjIFqj0dWezyyH7h0PVEp5TCgFRg+wNAQYBdCdA80pynOByyp8XoHKpJITIluZb9qTZdXrel/K3HMltDidCt972TawHxrbeXpqVPUnfcD4Nq4gZnFxaTa7fQdtNWdX0RShHYGAlRlZcfkLn7zEqvTmbDQuHp0VUfLzt6nWX3kSL9czadxtVi9hqlce6EDdJ692C+xty8SUx5PQnNcjS1Et5TSDdQCWDcXEqqILda6ubDHjmypbt2Gqe9m6gwECv7RowlvpkHZ9S+q/HUjbeOmfbj5gNeXLgMwdd0aMpcv4GvwY33O4g2uRHPEVfpwUD0DTAA2WmxKc6i9pSvU3sJQdxrZh4t6eIGGFwBdkZilwEnAb7Eph/QappmRD5FA28eawhN++73+iPXvLPvDQXUFcAuYpPW1LqUPB1UzsAMoq1bDrN3SRl6OmXLvcL40vgUgffxkth34xrNXP76/e54x1GQSABciVZDoiXBQHbV3z0PV4ayUObm3o9bmomUPpMNZKW9cf3I3HFTnJpLLlEiwxaa0X7zyNQ9gzix7lL9g4WgAPMfbcy025VHShDqclZNCoZ9mgOnTR0X5c3PTAKir77A5nJUZSRMKbNWMKVkjopxTsqwxuckQmqoZmZmpUc4xo1N6bJu5OdOnDM57Oy7smpHtn59XIT997or5Hbok/7Q8Oitd+hSkT+GxT2GI7pvJpzAOaARIm+hmxvrt0r2yqFUIkwSuACdO5otXfcJcpSr1epd+oma0va/l/rGS/SbTEIcQIkMIUSKEqAWO9eI3AQ3JOFETMBtIiVx3SlV+xuBlR3gVpSq/jN8pBgwYMKA/fgMMao6Gt7O38gAAAABJRU5ErkJggg==",Ab="data:image/png;base64,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",fb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AUIFCQxbN38jQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAB3ElEQVRYw+2WMavTUBiGn5Nzk/TSUKxwzWCxJRI7dZDiJq4KLmfwLzi4C07+A8F/ImdyEcFVuJ06KFZCC+WCi0NvRaRt4pIhyL02J6YR8TxLlu8758l3csILFovFYrFUQWvtHWJdUYOYAELgMfAE6AAT4DXwFviglPr2V0RzuTZwD3gK3AECgCAIAH6s1+ttXv4dOAVeAu+Bc6VUenDRXPIZcB+4DbQ7nY4cDAai3+/jOA4AaZqyWCyYz+esVqsNcA58BN4Bz01lq4i2gK+u6/pxHDtRFCGl/G3PbrcjSRJms1m62Wy+ADeUUluTfZ0KJ+8Bx2EYOnEc75UEkFISxzFhGDrACSBNN60iegXAdV3jxrznCPCbEA0APM/8L1To8f6FiQK0mhDtAvi+8ekVexqZ6NUajr6Rb/Skhom2rGiBazWIHjcmKoR5TCj0tA8qqrXuAQ9rSG0vtNb+QUS11l3gEyCGw2Flw7z3FnBqkl1FSckWcAZ0R6MRURT90TiTJGE6nZLHvrtlAoooISmBBXB9PB7T6/VqSezL5ZLJZALwBniwL/aJEtnzMxD9chkyYJs/RR40RJZll12eCynUvwIeKaWyy2qP9rx4Bty8YOFSmNZbLBaLxWL5f/kJlv9+JMvAZfsAAAAASUVORK5CYII=",hb="data:image/png;base64,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",pb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AUIFDUBGd3vMQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFkklEQVRYw+2WfWzU9R3HX9/fwz31nnrHYaG1pViuPAiUcoWjoCdbMoUICCZmw4cYsjm37LZlLKjbX4Y/jLiby5JpjKJuM0QSMcvQYGIIFgIeXAGfIMhj27WAba/tcb1re7+739c/bLFUlwn2OhP7Tr7J9/f7ffP5vfL5fp5gUpOa1PdLoliGo9GoCswHHv+xnuhZ/uf4L79ToNFotALYFAgE/vDggw9Zy8sr+OiJZQCrQ7HEnhu1q40TnAPY4HQ6t23c+MC07OBSQvXpscd2Au4JB41GoxoQcrvdz6xbt37FokWLUBSF5mMuAJqPucbCur6NM7TrhBPATI/HE1237p5f19UtEoqiXAUbq5F3oW1pjm9ZUvxkikajPpfLdf+qVaufDoeX2Ufg/hvYaI14dRj0zVAscW9RPBqNRtds2/anf1ksFuV/nQ3Vp6+B/Zo4XV/0OtbRcdHX1dX9ZCYzcNEwCmahIOXYdTjhlIcTzq/sR1bz5gY54QW4o+Oipa2tfU1PT28il8sbI3BjwceCNm9uuP1G/qfcKGh5+fRcZWXFbp+vtMFi0XRVFUKhqfbSpUt/T6fTvVLKa66+v//q/o3/Wx0dUUPD4tPAwyPP27dv9zQ2rvhFIDDlESGUCkAHAt/5fh3/3dKKG43TcWuhkXCwBPgtUAfkARPEjqb4p29fU8K+AH0hFEs8OuGgkXDwh8BLmqrNkFKagKLrOoNDg0bVjOqf+f2Bnc/+7bXBYVATEKFYQkxojEbCwVpgZ2X5DL/D56DT26fYTRvWrEa2J6u3tba8mM1kFv70obVbXvrHv/PAfiAyoVcfCQcrFUU5fEvlrLKzczs4UvPxlx9NqPqsjNnNlfS1JmVJifP36fSVZ2PLPXYgA1SFYom2openSDjoBPbXzKwt+2xmH+87P6BwuYBMmciUSeFinvOynWPLzuApKxW53NDWKYGpN4Viieyoaaq4dTQSDgpgd/WMmqre6Wn2zouDMKHHBEBKCQMSrIIufy8X6ruQQjqMXO6NtXcuuWnYo0snouBvtFqsd5T6fbw3OwEClBIVHALhURAOBWEXqH4VBJypbsVW78XIGcsHBgb+mjdl7HrD7rpjdGXj7LuEEG8tmLtYLf1JFUeHjpPLDeG3+mjPtqMKFatmw6baCHpqudB9FpfXS293N65DKu3xs6Yp5a+eWeZ8DtgUiiVeGfes33D3Cneyu/OfC+bWq5se/Q1zFtZhmiZmoYCm6wwODiAx0TULmqajKiqmWUBRFAzD4LD/AHuGXlcONR/YOlSQWFXxF2D8Qe12+2LAXxOcw7y6ek598iED2QzTbq4ibxh0tLbiKS3F6/OR7OykrOJmpJRYLDout5fFoTBHD+5HKIrTlCQBf1GufsPdy91XUn3n5tbMnzJn/kLaWs4jTRObSGPkwW7VsFl1dKtOf3+WTNbEoktU+1TKK2eSSvXwn5YLXOg4d+KPc/JPAa8BJaMqwfjF6F0r61YahrEDKctmVdcScJrIvo/IFyCydBquEg0kZLJ59sYvo6ngCMzjctrKmZbTWGz2roryivDzL+86P9xO94RiidXjnvXv7Ptgn7fUe6uiqa+cOndS9g1olFXW8IPwNHxuDV0FTQWvW2PVbWU0hqZjKiqnzp0AIZJ+v2/B8y/vOj9sTgJ3Fq2F7tp9MBkJB39usVj0E2dPbtS1+UpeOMhfEtisBrmchtNu0D+ok+zXOfLxSRRN71Q1bcOrO/ZcHmWqBaguegt95OH1jlSq975kV9dWj8tdbsoRo+Kqu/ozV/IIcQB4LJcbOtYUP22OmqRuB5qAH4ViiXcnYnqaAjTaHSWuQGCqtNmshpRgFgqF7u6ueCrVlwRyTfHTX5lFmzc3OL5JMo2bIuGgEgkHFSY1qUlN6vulzwHfZVqYIbb1LgAAAABJRU5ErkJggg==",mb=Bw,Sb=kw,gb=Iw,vb=Ow,xb=Nw,_b=jw,yb=Uw,wb=Gw,bb=zw,Vb=Hw,Cb=Ww,Eb=Xw,Db=Kw,Fb=qw,Tb=Yw,Pb=Qw,Rb=Jw,Lb=Zw,Mb=$w,Bb=eb,kb=nb,Ib=tb,Ob=rb,Nb=ab,jb=ib,Ub=ob,Gb=sb,zb=lb,Hb=ub,Wb=cb,Xb=db,Kb=Ab,qb=fb,Yb=hb,Qb=pb,Jb={},Zb={},$b=0;function eV(e,n){Zb[e]=n,Jb[e]=new Image,$b+=1,Jb[e].onload=nV}function nV(){($b-=1)||Sx.dispatch(Qv(!0))}for(var tV in eV("toadImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAaCAYAAAC6nQw6AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AUIFDcJJTAFgQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAC8ElEQVQ4y62UW0hUURSGvz1Ok8ZUo441GUZQWjN4IbU6RRBhZUEQQRcxkh5SJKWCLnSB6CFpAnuREUQosGiK6IIEZZiUgXIKogulRoFJqGOZjhcmnbLdyzlDes4EQgsOLPb+17/3+ve/DvynEGaLUkp3q9fbBtBXUQnA/DPHAFh78qRHCNH+TyIp5QLgGpAHcG+2cxJ4x0i/njYB+4QQvaa3kCbRUFYmG8rKZJRwT7qRlHImMADMmqY0ISBBCDFu0RZKW73e6ZKg1ZRGFu7aE+Vde+K/WjBtWa8DsEY77cfAAK9qa2m/7gfAvbeQFSUlxCUkmOJNiUYDARpT0wHQy/oqKmmoqGTTx3fYXS5DjUV71iMA+T4fAC3nz0fVRd/TsXqtLnaNbjiA0as3oxL9vafV1ERaE0KMSyk9QBuAvaiAUJ05mb2oIJJrLh+P6uzRQCBP12hqaBoZnG06a28b/e1zHMnLvzxs5sOt2wAs272TlK3rGQ72dGRuKnSbvlo4qF4BFgF7bQ6lLzTUPxYa6meGJ570c8URcKDrLcCYVpMPVAN+m0M5q4u9QhvUwGBPa0GVP+FJNLE7Om2nwkF1G9AALNF1FRq7FTgMVLaoYXbtHyQn00qNdxbfuz8BkLhwKQdP/+D1+18/O98kzbBYBMANrQs56bRwUJ174vgz1emql5nZjwxjsXFLs3S66uWD+y+bwkF1tcGQetgcytDNO8M5AKtyjaOQt2EeABcuDWXbHMrzqEROV/2SUGjCCpCRMddAlJ0dD0B7x4jD6apPikoEHNCTtNTZBqK0VLsp1owoTk9SUuIMRPPnxUZyh7UvxaeY+xCAo1np/nU5dfLrtzHT/9DmNZdlRW6i9ClIn8ILn0KMwdk+hWSgGyB+sYesPYekZ3vxgBAWCdwBqqrXiPdTznaXq3RMbW2xngx+buPpxdJTFkuMUwiRJIQoFUK0ARf/wvcCXWY3sgArgVjte1yuMjG1fZ9CuoarK1f5DfAHsaqBy6LXGC8AAAAASUVORK5CYII="),eV("mstarImg","data:image/png;base64,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"),eV("bowserImg","data:image/png;base64,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"),eV("koopaImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAbCAYAAACJISRoAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AUIFDUny9BqzAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFLklEQVRIx7WVWWxUVRjHf+cus3W2zjBYaOmCZcoi0JYpDIuOaKJCVAQToyiEEMUljhoxuL3JgxEyYkyUGME9RBLxQTT4YhQIWJiyCEKQta0tLS3ThWlnprPc44MttrVUIPFLbnK/c8/5/++3/Y/gJiwcDqvAdOC1R/Vox/x3a58bbb+4QfAiYLXP53tjxYqV5sLCIo69PhdgcSAS3XWtc9p1ANuAZXa7fcPy5U+MS6TmEKiOD9+2HXDeEEk4HNaAgNPp3LhkydIFVVVVKIpC3WEHAHWHHcOJHKP9qDYIWAATXS5XeMmSh16orKwSiqJcBR1uA2uBDXGOrJs9ajZEOBz2OByOxxctWvxOMDjXOgB8LdDBNhBNP8m3gUj04RFJksm+nMlkUq6n8IOJBqern0QGItERcRSr1ay2trZ4Ozpib6VSqRbDMORoBAPggwmrNhy84U6lufmiqbGx6YGOjs5oOp3N5HJSHojaZS4nrz7D/bq1NbJubc0dI0Yy0mJh4fh0cXHRTo8nv8Zk0nRVFUJhd0VLS8vn8Xi8U0o5JF09PVffv7mpORmwmppZp4FVA/7WrVtd8+YteNbnG7NGCKUI0AEf/6fVvjynqG5tjbxpWQkF/XnAS0AlkAUMENt21/7xw5Dm+Jvko0Ak+swNkYSC/ruBLZqqlUopDUDRdZ1UXypTUlr2lNfr277pg69S/SQGIAKRqLjumoSC/gpge3FhqdfmsdHm7lKshgVzQiPRkdAbG+o/TvT2znxy5YPrtnzxXRbYA4SuO12hoL9YUZQDtxZPKjg7tZmD5cf/+WhAyaUCJtcV09UQk3l59lfi8SubIvNdVqAXKAlEoo2jtnAo6LcDe8onVhRcmtjFr/aj5FpzyG4D2W2Qu5jlvGzi8NwzuAryRTrdt36Mb+wtgUg0MUiVrz0noaBfADvLSstLOsfH+WlaLQgDOgwApJSQlGAWtHs7uVDdjhTSlkmnv3nw3tm39Ecy57+GcbnZZL4z3+vhl8lREKDkqWATCJeCsCkIq0D1qiDgTFkDlmo3mXRmfjKZfD9ryMjwMgxxFs6bfJ8Q4vsZU2ep+Y+VcKjvCOl0H16zh6ZEE6pQMWsWLKoFv6uCC5fP4nC76bx8Gcd+labas4Yh5fMb59o/BFYHItFPh3TXsvsXOGOX276cMbVaXf3Mi0yZWYlhGBi5HJquk0olkRjomglN01EVFcPIoSgKmUyGA9697Or7Wtlft3d9X05iVsV7wFASq9U6C/CW+6cwrbKaU7//RjLRy7gJJWQzGZobGnDl5+P2eIi1tVFQNAEpJSaTjsPpZlYgyKF9exCKYjckMcD7r3Qtu3++80p317mp5dPHTJk+k8b680jDwCLiZLJgNWtYzDq6WaenJ0FvwsCkS1TrWAqLJ9Ld3cGf9Re40HzuxJtTsm8DXwF5gUg0MaQm9y2sXJjJZLYhZcGksgp8dgPZdYxsDkJzxuHI00BCbyLLT7WtaCrYfNNojZs5U38ak8XaXlRYFNz8yY7z/RKzKxCJLh7SXT/+fPRnd777NkVTPz117qTsSmoUFJdzV3AcHqeGroKmgtupsej2AuYFxmMoKqfOnQAhYl6vZ8bmT3ac74eTwL0jysqOnftioaD/aZPJpJ84e3K5rk1XssJGtkVgMWdIpzXs1gw9KZ1Yj87B4ydRNL1N1bRln23b1ToIqh4oG1VW1qxaauvu7nwk1t6+3uVwFg5cyqL/iAR6eq9kEWIv8Go63Xd4d+1pY5Ai3wHsBu75C02TFjHiU24WAAAAAElFTkSuQmCC"),eV("booImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAATCAYAAACORR0GAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AUIFCUsFsChFQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABoUlEQVQ4y83VP2tTcRTG8c+91/wpCcEK9Q4GUy5cO2WQ4iauCi73TTi4C06+A8F3Ir/JRQRXoZk6KBZDA0VwcUgjIkkTlzvEGpvEBvFZfst5zpfnHDi/yBKFECKkeITHaKGHV3iD90VRfFvWJ7qgeQP38AR30IRmswk/RqPRpCz/jgO8wDucFkUxXQoqIU9xH7fRaLVaye7ubtTpdMRxDKbTqcFg4Pj42HA4HOMUH/AWz87DFoHq+FqpVGp5nsdZlkmS5MKxnJ2d6ff7jo6OpuPx+AtuFkUxma+JF/iq2ErTNM7zfCkEkiSR57k0TWPs4DfTItBVqFQq1lXpuYLaKqAmVKvVtUFznuq/SAT1VUDbUKvV1gbNeVZKdG0Do1tpRzsbSFT/r0DXNwDaWhkURdHaoDlP40JQCKGNhy6v5yGE2kJQCGEbHxHt7e39NaH03sJBCKH6y1EtD+lnbHe7XVmWXSpOv993eHio/DbuFkUxiUIICQa4sb+/r91u24ROTk70ej14jQdRCOETsnPLnGFSvlF5KKPZbPan5S/UXP3Ln1wicL3HHXm6AAAAAElFTkSuQmCC"),eV("goombaImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wgIFDAK/sSzNQAAAOlJREFUOMulUisOwkAQfUMQKOzWowhqb9EL9BAkHAHJETbhEAhQhFtUkSp8a1G4QTTTnf0BCS/ZZH7vze5rCQXs12CdHzpQbo5K5GoR1vpXXoR+IX8Syd2AAcDZsLhr8xzKkQUiosgJj7Rh1QJobgMA4FSbiehsWO9f3th56c3NbQBq42MFmd+vwbNDBxJF2QAAxpipJrH0tKH0zfkSki+yXYGdBZ8vVyaACWPuLKb8fLmys+DtKjQ7EJDh0okFKBaReLMMF9yfPj4+PG+uhzRJE3KCyQ2cTd+1a8f+p94Mf4KiX5fjDd96bzdmbCX2Hz2VAAAAAElFTkSuQmCC"),eV("eventImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wcbAS4QDfZ7qwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAUklEQVQY02NkYGBgOO8p/Z8BBzDc/pSR5byn9H/p6jm41DCcZ0j5z4IsUBLuC2f3rNwMZ7MgK0CWQObjNAkZoChCNgmrop6Vmwm7CZ9JjMSEEwDdJSCFKylBwAAAAABJRU5ErkJggg=="),eV("eventErrorImg","data:image/png;base64,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"),eV("starImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wkKACgsIpREBgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAXElEQVQY02NkYGBgsLVS+M+AAxw+9oCR0dZK4f+lSw9xqWHQ05NnYEIX/HDPHEMhEwMRgAWbCTC2gNJJVJNgAtj4GNahK8ZQBFOArpDx/1M2BrtQKZzhdGj1M0YAeUwag5E1WdYAAAAASUVORK5CYII="),eV("bank2Img","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPCAYAAADphp8SAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoJEC0vevUizwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADM0lEQVQ4y3XTzU9cZRTH8e/z3HvnzgwzzFyGlylDhwHpQCFtJxR1xAUSFzYxMdFFk3ZlTNq4MLGJC/8AdiZqXLgxjTFqGt361o0kbbEV24LWmlYKlqFQQoEpHRnm5d65z+NCmxK1Z/s7+eQszk/wmBnLZ5uAU0AOaAAKxJnz03Pf7t67+taTAIjHIM8Dp03DzGitFSAty6JWr3ndmZ4TiUTbl+9/+HltN2T8D9IPnE2nMp0d6SR+1hROVytO3MG2Q8bqneUXG54XHc3nJmevzamToykAzH8haSnluSfS+xILg3e53Hf9Uaig+16SAZm2ikubp2q12spYPvvew1juQiLAhb7e/uS93gf8GPkFf81HlxS6pPBXG9zWK8w+M08s6QjXrU+0trUz8u6VR9BYPiuAr3syfd1bndtMDk2DUHBfAaC1hqoGW7CR2GJxeAMtdNhz3R9eeuGpFqDp4UXH7YD9nJNo4dzAFRAgmwwIC0RMIsISERIYCQMEzPcsERyO47nes9Vq9URD6YoYHx04IoT45uDgYcM51s1M/Wdct07CbmGlsoIhDGwzSNAIko31s7i5QDQeZ2tzk+glg5XpBaW0fsNUSn12cHDYeO31N9l/KIdSCuX7mJZFrVZFo7DMAKZpYUgDpXyklHiex0+JKc7Wv5CXrk5NmECiL7ufodwwv/92jWplhz17u2l4HneXlog5DvGWForr6yS79qK1JhCwiDbHOTySZ+biBYSUEdOyrOIfczdbP/rgHe4UbqOVIii28RoQsk2CtoVlW5TLFXYqioClMULtpNK9lEr3WS4s4sSdBXFkPDfued4ZtE7u6+mnLaLQD36l4cPY03uINpmgYafSYHJ6DdOAcNsQa9s284VbBIKhja5UV95YKKwVhg9lP3E9r219cy0XiyVFJtXEyICN02xiSJACQkFJpjNMsqOZ1e0IMzduIg2z2N7RfuD0p18ti10PaQUCgY993z+eGzgg0611Gr4gaHu4rkkk5FGuWRTLFpev30AY5rppWq989/3Mxf+U9uSrL4dLpa2jxY2NiVi0OaU0/zT77zUNlHf+bCDEFPC269Znz0/fUgB/AcTfQEpIAfiTAAAAAElFTkSuQmCC"),eV("bank3Img","data:image/png;base64,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"),eV("bankcoinImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AYOAhMCOWrHYQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABeklEQVQ4y9WSu0qcURSFv/3/DjI4hkS8DaPGJggGLG2sLJ3Cx9AH8B1EQbAVtBTMExhtU4RIsAjqKGI7OoroiOJlZs5ZFnPxGvP7d1mwyv2ddfbaxhuSCIAk0CmQQR6omCGiSsIkMhIjTkx5kXNCTsiLdYlxiV6JMAqsSWLCiY065Ll91ZtOTDvR8S9gujYgF8G+wpxE6nWYJ/TXfHNRYTVLDL0K9CITNdkTcJk9f0dbnRM0iLcsEkdNDCjBWO0iMAAV+OS7OCOmzIGFpM0oVBMuE5iIrxD0iy8PhYC57ffvr+GfSLP0NHZoIMuxETvhb5Y45+RJKXbMQizYHwjambUZStWO6t8usm6noATQXLO9ASqDCfSDVe1W0/F4RJOEKrJGL0kG6dEAfaQwUsBHwAEXwA1YCXRI0fa5sDxZmyf3AtgAj5KilSEChtVCN/18VpqvOEqWZ4cjClxxaZ49X2Er+MCBreD+CnzxQJZWEnQDjhIF+841/7XuAeg3RZ8rEsomAAAAAElFTkSuQmCC"),eV("itemShop2Img","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPCAYAAADphp8SAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoJEC83W6/YGwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADGklEQVQ4y3WTTUxcZRSGn+9+9373XuYfLlBmEFqFYawzLUUbibXBJqSpmmqqSReuutLElYsmxrgxcenCha6NLmziyoURN7gotKYxysL/ghRaYkIZJpTL/N1/F0RipJ7tec6TnOR9Bf8zs5XRAeFHn4soqSCIgTg25GfzK/feexgvHyoZf+SqbAVzdsiYiJKsHiW5NFo+7AbPna+Vh184VV28vnyn++8bcUhSHrmgN/25Sioj+kyTHikRgBfHbHkev7suRwYKS4X+3jMffnvzQKb/RzKtmsHX1UxOlGybglIHuzhJyOj7+O2tnalWFH4BvHxINDsxMiibweKpbE7rtyy8OGaz28XUNACaYYgUgvFUCi+KuO92Xjr02mxlVNPaQeOknckPWRaOaXK/26Xh+wxZFgANzyOvFI5psu15fNdooHpMN0ibU2+MZfY0ABHGH6cjkR+yLHKGAUBKSmwpKShFSkpMKXFMEwDHNHmqUCBoe9luq/NRGCfb8nxl9Kry4ndOF4vi2WdOkxExvUKnVCxSAvKmiZPNctRxKFUqpDyPwWNH6ZUxmpLcdffGbzTaRT2w5LvV2glx6c23eOzEJFG3Q7i3h6ZJAteFJEEohW6aCMOAJEbaPcQCsjcWaH/1JQu//HBZi02ZG516ksrZGe5srPPH2iotpdjxOqytLFPfrtMJfDb+XKEd+LSEoCsFZp9D9fkXyU+USSzDErNnn6gfH6s5j9dOcm9tlSSOscQeQQi2IbGVjqEMmq02zW6CUiDtAUojj7Lr7rCxvsbaX6u/igvnJs8FQXCNJDkyfmyC/nRM8uAnwghmnh4i3aNDAu12yPytTXQJqf7jbDYtVtaXUZZdHy4NTwuAVy+e6XNd94PA96/UylUxMehSHmyRy+zHLElACGh3Qlq+xtKGw8LSbaSuGkPFYvXTa99sHlRkZrpsKKU+iaLotclKTRtxPMJIYJkBvq+TtgOaXYNG0+D7n39DSH1L141X5uZ/vHmoa69fudSzu7tzuVGvv5/LZEtx8k9q97EEaLbcECEWgbd931u6fms5Bvgbl1M4Ei1dt9kAAAAASUVORK5CYII="),eV("itemShop3Img","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAhCAYAAAC803lsAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoIFhsfaQGYwQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAHVElEQVRYw9WXe2xbVx3HP+fea1+/EseOHad5NE3WpSRlndqGpqUUOlhZR1uxCsEoQisaEpr4Y2hiiD+KkCoRNv7aBGwTCI2tFKayRwVaN5TRVyrKytKIdqVZki5pnNSNkzhuGjt+3XsPf9jp0iTOQ/zF7x9fn3N+53zP9/c8gkXkeAsCsAECcAM+IA7g9igV4dbmTZ5cOljXd/3S1JQ1Mp20UlIyVVBPAuzvJMMyRFsCRJMQbLbZhFdKdkspNzmditQ0UTlidymXmpvzi3uilOYS2HWBbhdRw5BRTRMnc4bsPbNLeWvne+boUkCUYhMXH9l5wCzROhSFI8CvXC6xR9PEKlUTVUJB8fs0FFUgAb9PJVSpUVGhoagilMnIDamUfMo0eUk41OjLbZu3LwVELDT4g1/ue3p0Xe2z6y5cUdefOo8ra1Ae0HA4BC6XCoBlSXpSOpYFTe4MmiYK45DJWGQzkuFxk8GGerq/stXMlLh2pVyeM6994Tm5LEZ+8tMdT4421jyLblcHW5oIfMpPRchGfMLkZsQglbLyioqgbDKJfyqJoggURWBZYJqSdEoyOmagex30f2kjtyqCaka1vQdsOXD2KbEkkGd+uGnb8Kfrf4FDVwFaP7rEamMKn0+lusYGwEB/luHhHJm0dUfPMCSZjMXNmzkG+rNEIjmqq200lFtsDvflmbLb1bLR0WOAd0lntU8la3QpZQZYMxxmR+9/EIBQBB6PSqI1xNpwlKFwFtOQ2Gx5U4yPGSDydg5VajgdCg5n/o7bB3oxUblYt5aqvnDdg33te1+Do0V95HgLOyT8Ra4t98U2NrBtsBd3Nntn4aFHHwdNA8PgoXMdNPzrKrouiMVMVq+2YbcrBZPlzTZb4oDETiyaRU9ns4mE9cDef8rzs9eoBRB+BE+XeERrfZmp3JOI4TCMO4suVFTS09gMQoCq8nF9A5VWgoqxGMmERXlAw2ZTUBSBEJ+AuObz8e6Gz/D++o3ccjtZM3aD6QlDRfLNr4doPxYhMtc0Ibebh91uRZOWRLOsBUOszF5KtSuEx+am6sEmVjWN47fceL0q5BLI9G2MWBgzMUFfaoSjLVvIORwARAMVRIIhDrz+V0ZGDLfTxQvHW9i3v5NRAO14CyEheHk6SfV4pR/3tTHW1NuxaQLdIdDXbOaLwTXUrvsWDaV1+HQvdsWGkMUygkTm0thTcb6XidIZu8JoKsZAYogbFVX0x02cUuJwKFvSKavmeAsT+zsxNMAnJeWTdRW5Mwcfse3qOMfA37vxrKri3s99Ff+XH0evvY+gasubBvL0i0Wyk92F3+5iG1VsCd5POBHh9Mj7dI19SEL3srp0iuiIkZOSrUAP5IEMAM9PBHxtGYezrH3nTg5mNepavsuqPQfR3KUoqvrJfaW8yw9m/5/5llIWIkGgKiqmZVLp2keNI0hd/R9IjyUBJoFT+zvzNUkpFKXTjvHbMZHNkdV12PMYtbsfRXOXwqyNi/3O/RazmSsAcqo6n/ffR6B1D6YhkZJJYPquhLa/k27D4/xxWSRqqKaJrawaxe5gJbIQS3eBk6ALFaWshvFxA0XhBSA6L6E9+Wr/m0dF+kdpg+eczRPkAvejV5fOu21RF13GGiN+k+nBK0gJhkG4aIpPdEX+FIxPRyLv/JnLLx5meqgbLAtFUebdejFG5oGzLBLXu7n84mGuvnUskc3KKeD67F5lnvbg2499TSB+2//6WV8mbonaPd+m9qGDuGvuyUfNnANnO+ocFIAkNTrI0DuvEH77CPZSZDISG83GEz8HfrMokMneQw7gJPDZyOl/c7PjMtORGJqzjND2vYS276akfj22kjJUhxuhqCBAmiZmKkkucYvEUA9jF9qJnj9BamQYzePEGfLR/MQ+Mx27/UzX4SM/m9u5Lcj1ZO+hXwPfn5kf7+pl4I0OMreSICVmNoeVzZcAoakoqoI0DMychea0422sQRom/g0NVGxtxhG4U3AHgV3exra+5baKJ4DvFPpUApsaCWxqnLcoPT5JYvCO4+OpC80+dH7KhQ6gfyU96xXAWCoKHAHvYgcvVOmrAcdMY72cnjUI2Bfb1cwZTIRjfPyPPm5HJ7GKFMo5MgroK2EkBowDtfP4tSTnf9/B9Q8G5imte6CJzd/YsliY54oxXYyRbAH9PBDnfndmQRAAPae76Xrjg0Xz3kqfExPAuwVFcyZPnH3pJENdg4ty/9HJqwxfHloIgAV0w8IPrgWBeBvbMoVcYs2EsGWY3PhweFleGR+emDt0G2gHXi3svfwHVmFOAFNAv2VYy40OUvHpu0oMUAKki7Gx6JMTCANjgB/wmCsAkownZ5tEKTj+iYXCdklGvI1t14ADwHUgYWSNzHKBGOncDBMDwEXgeeDNYmYpmuLnpPt7ARcw/ccnXokAoZJgyUa9xLHbzJoPT99KriqvC1zzBEvaXT733wL1wUuhxsrWQuI6VXD8gLex7caK377/q0z2HtJnMW54G9ty/L/IfwGg3hbvldcnkAAAAABJRU5ErkJggg=="),eV("gateImg","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AsMFC0SLyofgAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAByUlEQVQoz52SzU4TARSFv5lph6mN0hCs02orf1pr1ESDqYWUSAxEaToxbprIY7BgbXwAw0ZfQxsJLjQxaaz1D5OWatRICwJaoMNoQ610nLohE0vZ6F3e3O+em3uOABAb6mnyD5XOlAQhNtTTTGdKdrOrUyKeuIDn8FnGRnRkYZ2HsyVm59YprpjsCiHu3ZZMBpmaOkW9tkH2pUnwxDkmrkeJXuojeMRhz7WA/X0Kk5Nn+FYWebfwHlVtMvdok5mZFUxcRM67EIU9oCDAzWQvkWg/uv6D0dGjJLQQC/lVIhc7uH0rQO9xBWv3G7a2X3Wixf04nE60xACaJlOp1DjUaTI27sejbPHiVbX9VMNo8DH3Fau2htv9G7cbAgEn09ODDMeC5Od1ch/qNmgrbv+Eu/c+47AaxG+c5oBXRRAlfD4Ja8cg+7yCsU07CPAs/wtvqkw43M3B4io4nHi8CkufDJ483eRvs1tASYThET/h6DH0RZ10xiCVKvC2UCNfNFtsa7EjNCBz9ZqKZegsLe8weNlP06W0QW2K41e6ORnqoLr4newbg8d3cryer+4bOxt0SODrkigXytx/UKEhyyx/qbNWsfYFhf8N+R87/Z8lqf2EpQAAAABJRU5ErkJggg=="),eV("spaceBowser","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AodFw0F7v4Z9gAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADzElEQVQ4y2WTb2hVZRzHP89zzrn3nHvPNu/dPW3TYWttK1uhzHBIGpF/kGAGBvoiqRyEEYkSIRQU6pvAVlEhCGUziNELmUJ/DCzfFEb0oiY0dc7NFkq3cx3bvXf3nnv+Pb2Yuwz7vXp4eL6f7+/fIwBecJyEDpsF+BFcOu260YuOo9XiWAckIBTEhhDxl4WCvzeXE0khnlLQHME3X7iuJzY2NvJIMjno6PqpCNxbQbAxJcRMAAfu07QnNCG6BWQUTBTj2J2LorcCpe50JBJnJGy9E4avF+P4I70nmezJatrQy9ksF8pl54rnWaGUb/anUke32TaNUmJKSTGK2qeDgNH5+bW3g+A1R9PMLbbN96XSB1O+P6YnhXipP53OdFoWKyoVLCmPrjPNZ/dns6Q1DQCUosUw6DZNUkI8PFosnsrpenqtaVKJY2aCYL8u4bGHkkmIY7baNr2mueuBRGIRohT1uHvetPjmfgloUtIgJQJ0GcL4b5UKAM2GwUytxqVSiWoU8b8Qguuex9dzc9hSAvBdqYSv1FlZieO3Ly0sXDw3Pw/AyUKB7VNTbLh2jX/DEISoc47cvk3P+Djv5vPc9H3OF4vcDIKznlJfyZFCwc+H4aFp3w/COGZo1SoeNU2ueB4js7OLICG4XK1yPJ8no2kcdBwetCymfZ98GL43UiiE2vO5XEOzrp/YnE6v6UkmaTYMOhMJHF3nndZWhBCLzU4kSEvJk7bNgZYWAIpRxN9B0N5tWaNav22/st6yDu5ZsYKlIrpMkw7D4BPXZVM6jSYlJ/J5tjU0MJDN1pvfmUjwVxB0zUbRdanBwMZUatEZmIsiVBzjGAYK6hn9Xq0iAC8MmQ2CesmPWxYabJe+UufOzs9Tvjul3VNT9F29Sk0pjqxciX7X4OTq1WQNg97xcXZPT9fX4Q/PI1QqL4dd98SE77963HXJhyEZXScfBDw9MVGHKyACBm7coKYUa0yTSCk+LhT4pVIZqSl1uD7bXdnsnu5k8sPnGhvbGqRkx+Qkm2ybnU1NRMBkrcaPpRLH2tqoKsWY55V/rVSGgGOjs7OKfY5T35NnMpnBzzs6iqqvT/3Q1aV2NjWpdZal+ixL9Zqm+qm7W6m+PnWms3NhRyZzeEm3z3HQh12XfY7DsOtiCfHzn55XueX7DVuamlifSjHueUjAlJJ1qRTlKGLM8xbSQlxcggy7LuLeX7A3lxts1fVPN6RSst0w6vcSmPJ9Lnse+TB8f9h131iu05enN+y6JIQ4/U8YfnuhXD6k3WMSQaUax5/pQrjLNQD/AToWsEsMdZoIAAAAAElFTkSuQmCC"),eV("spaceItem2","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AkWAwEWTXvhWQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADWElEQVQ4y62UT2hcVRTGf+e9+96beTOTzCRlGko6pRSrUk3QRJmoJGo3FcUuug4FsSRQ8A+0axWsy26CtINUitkpFhSkLgRtV6N0ipmFYii0nRY60YmZZCbz570777qYJDZ26wcHDpx7vns4fN8RgLH5HOWLFbZyhSGHMIeQNzABIFDCUMRQQKiUL1b0w72yi2Qud1AMH2nXzGq3R9fXdJIagFhT4bUUKrBRgSwa4YNyoXJ7m0zYwvhcbtrAZ+2B8HB9pEM9s0loacRsPRGQHqTXEgyvJIhvOMsCp5YKletb5f4kwPeNPd3DtQMtGtLgmT3PMuqPEhFt/4UgLNWX+HOtyr57GVI1bxk4Vi5UbsvYfE5JxOetwXC2+liTRq/BwvQCV+9d5cujX7EZNvmXSVhpVTn+w3Gq9Sqjt9L4686isXhLYchp18zWRzo0rAbnp85z+snT1IN1EsonoXweRtpNMzPyMpebl6mPdHDbatYO5UMLYU67PZrDXehBPptHRLDFBkBHmqAXEET96BndrxloDnfRbg+EOYWQ7/qayDIo5XDm5zMUXirgWA4AF36/wO3GHWIqTiPY4LX9x/BsDwxElqHra7y2yisDE52kRgxoHXJu8hMu/XGJO8276Cjkxwc/8cb+1zmSeYrFW1+w8NundHQbZSnEQCepSa0yYe1agIEhL8O5yY8JoxADZGNZThw8wav7XmEq+wK2WBgM/4UlUIo1Fdty8WwPXyWYGZnh3SPvUOvWeO6b53n6yhhnfzlLPptnfGgcHWmM9IUqUFIYil5LTVuRoByHk9dOUnyziDYaX/lcOfo1oQmRLe0KwnvF90HAigSvpcBQtDAUVGCTXPVQyuFG7SZT307tjBxXcQacAVJOipSTwrM9eqYHQr8nsMFQUAgVFchiuhqbbadCxHUo1W7y699LPDH4OIcGDqEjvUPcibpcr14jrmOkq7G+7ywqj1jkrwObfW0Y6ARtHtmrBb6Js7cysMsiNsBKab0+MjlYdlvqxdimGjY2hH4P21U4ykE5Drbr4NoumXqSbCVJYs1dFjhVLlSWAOyx+RwrN9ZZKa3f3Ts5+J3bsYfiDXc8VfOIbziowCbWdMg8iDN83ye1GsNr2YsIb2+T7JyR/+Ow/QPGU3wz8jXdngAAAABJRU5ErkJggg=="),eV("spaceBlue3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoEAgYVJ0Gp1wAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADk0lEQVRIx72WbUxTVxzGn/+9tw4UzAKlty19iYwCmihYdGXLtkiWmOyLiZ9M3IQaY6LBqoUggq+ED1P34oBF3VxYeTG4L9tXF9wys8wsUzTWd8WE0pbeFgtG5E3oPX4AbJFKi7L+P957zvmd5//cc89DiFFksDLMo1iPg6C3Am5H1PdC1KfTEzJLzxi06eNfH9oUItDkgozR0tRkRfI7iwgI7+X5eAibbWcQYNYjcDtqXwel125VvcWel5v57d2/voTOYof3oRQhgwFMnjFcl6tD9+UTMBZVwusJboXU6ogGpajKtCWOlSsMpc6OOoiFNgT8gwBHc/dSlqFRv4veq/UwWMrh9g0ch9ux/1Xo7FU0W44UrFp29PqFWqjMu/A4OAzG4rORiCBmpMJ3tR7Gogr0uALbIbX9FDmGe6lsso2/WNaYjl6/cAii2Ya+wLO4YVP+QpKeQLNmD1z/foOsLPVZ6Eq/i2SEFWpLTnz4fk7lP78dQIa5DMHgyLxgrypVKVMgdTYg++N9eNQllUFqPQUAlJS9nR99Ovzrp8X5Gy6eL4PKXIm+wFBsz2KVzCCKSyF1NsD0URW6XP5T8DSXERmsrPiD5fjjfAWUq23o7x99Y2VzKTUWVUy4ff0CBwC15RuZsnAXgn3DCwab9tTvfwqdxY6G2i/k8EcDhuCj4Nu3MVpxBO8DH3iBKAL4fxeDwPOJBAICz3GJAzJAEHgktKU8R1xiW5pQhQzgeS6BwMExKBQRCokIokkEZLbwsOcT+Pv2QTjveMLAHdXNJF1phEqVAqKFPfymPA0e3BhlVvuP/Swkp3Gsx0G37rpbC9Yfhv/a98hIX7wwSmUZy4zpuHiuCjtqmkcEhVAAb8vApIe9LSU3bnVX509B31YpgZD1nhLtDTtZ9idVw+MjY5aJ7iY39Nap+zAcLX5eucJgdXbUQV1ogz+eaBFFWWZmGrouHYdq9e7Q0Mj4Z7KrqWPmjT+dOXpbtt687dq3vLgGUmcjRDF1XkqJCHpDGpy/10E07wkNDgytl11NHS8TxaxjobcCvtav7j3s/SFvXTWkzkaolEvi81SWoRZT0XP5JPLW1WBwaGwv/G1/xg5R4TC1O8ekrb9/6VhcMVGbo4H3v3ro1trh9TzeDKmtPXZMnB2ETxv1ym2zgnBKsiI5aWYQZgwosZ8llyd4Eh5H+fyD8HSpPs+lJMW9uP5goxP5CLQ55xrzAsn3fS8FSjOcAAAAAElFTkSuQmCC"),eV("spaceRed3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoEAgktiNsNhgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACgklEQVRIx+2WS2gTURSG/zt5tdPUltKOpDVzp7gQsmuzqhQECQhuxG2hWBEqCOLCBwgiuFDRhdAuG5UQsUJRV4III4IKbpy4suvOTNNKktIHbdpMzBwXbdLQpNM0KQWhB+5mLtz/fPfcOedn2CM0LhP2EWHdYASA7bLvrvo1OAKYMXwWW+MAEFJVkO2sywSG35EIvjeLL9h69krxjJpjytN6R5NPEBGRpnD6BjguTeFERPRTDtJHl+86AFRLUaggA/BJPPb6ZKDtSb9uQuMycslZuH1ex5VLzkLjMsK6ga4eafyr2PKSlZ1ZuomdGUR9nQ/6jzfdL4rlUymAaiwjY/BIEsK6AY0HkUqmb5wv5MYrCbey+NDSPlUuZs3P1S4GAESw5ue2SE1IPV1jX0R/rFyjRDjWFHg6KLlu10XmQJrgQRhzizcv/l17tik4Sq73k53vlI7mC31lZExwoZEguwBvoLskupxZip/Nrl5ixf+sf0ZvnMyJVOHbNQypKhK9yv5rVmNNE70KQqq6LUg2ITujN3yN1RuCC9kZvdQ4BBxyHAkeCf4ngkxgEBUOsgsHLkB2AaLCwYTNtn1orU1TOBgAIawbLJNeepPgQYR1Ax5JOhBSsgtls1FGPpWKhnWDCQBwLrsyNP1n7V5R1BvoBhhriKw4KTQuwzLN0YH1jdEfPu/2AB62Fh8uZFYmGyWtIEuno6cJUQAYyFmVFmPS03b3VKD1UeMWQ8aGaV4dJEz88gros+zqJmoov/x4KbP8ar+kO8msdOb5IGECwZGSmGO8dftv1WsTVcF9DQCoyjNgzkbYH2/v6hiu1QhPRyJYTS/EzmTXLu9mhPd8ivVYfaf9fxQPf4DeQh5lAAAAAElFTkSuQmCC"),eV("spaceHappening3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoEAg0CR2b12wAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEhklEQVRIx6WWXWxURRTHfzO33Y92u8jWbWl1qSCIJIrEEhMDsWKNITYpwQcTMMUuBHgg2EaFBGtMjBIUX7ryIAqyhFbjRzQBAyaGNOILUVkx8UUpATal290uXWBrlbZ7Z3y43Xa33NuWOMnkJnPn3t/8zzlzzhHMMmrq2zR3MQZiEUGoFfqO2b4vsV2d+EDWhY9r4OyXe1F6gjsdr60lKQRPb9yPrAt/quLRrU5Q4XjUBS17qmvnv5+MRVi07jWuXu631ueNF0OlxlVm8ujDNZw/dIgF9W2kEplXSHYftIMKB2WfBSsrNiVjEWqf2s1AIguGsFc4qVSxskFy4YgFTQ8NR1U8umU6VNgoe7u6NvBWMtZJ6JnX6e8fQTNHN44ZPNE8xs+Rw3mlbSS7PyzcIieVAbIu/FUetqS5jWt92bnDAFwmv3wvaHxnM8lYhOraQETWhY8VMgwAsr9DTcuBqqp7tiVjnSx/cRe9f+Tyx3EwoYONhODKuTJ+ld1ciB7ho66elSN66TCJ4+es7aFWQ0rxTbDSvz4Z66R+xw5+69EgbWi3DShVGB4TT8U4pV6T4ZQHM2d3MpMNe27y7dav8z49ruLRl0X+niXOd9LwZis/dfnAk7tDjduXo/HVi5RXjk2qG7paTs8Hy8Cl7K0wUkL44zhHm76jdlX7lA/PdHWw5XQz5csv4bt/BJQoNp3UrG3vxV1uMv6vQW7UYPCSj57IUmeYKXhsU5zM6HW2nF7Pma6OKaAyNX3ZK7i9moadlyirHLVAGkrLTNbt/ROPL4fWIATcHHBz9sAyZ/+agsVr0jy4egiBpC97GWXqgigtDDSvYu2uXtwV1gVvbL+I15/LxwO3Btz8eHAplJuOsBUvXGPlhgTKFLOnNq2h1KtobO9FKfBUmJPKsoMuet5bDl5n2KLVaZasHrKFOedSwOUzi8JfSE3si4UzwlZsuMaSNc6wGYG29104++yBJ6/PCpsZONehBI80J3ioIT0rzDZoZhzC3hKBhSNzgt01UBrKoVCIuf/D+pEg5F+M0moWoLaSQn5q66lnyO9KK0L+xciJ8lYC8GzLPhLnTxA+1cyt0YxthdBaEHr8Br7gKEJY12f8HwNlSlxlpoMHBAFPkKPPn6BmVTsi7xVZF/48WFmxMRmLED7VTOZ2GimkrUIhCv2pQYAal3eoVFoR8ASJNp3MJ+/DKh7dLgoKb0d17fx381A7pYbLBG2ZUJnCChQF0igOKIFgnjswCUv1Z7aT6j5MqHVim01rMV2pNDQ/HFjG331lxVK8Js/t/ouywNiMyoqjdKLnUPHoS6nEjTcW1LcRbTpJwBNEFBy9xK2sTFMwS70mQuoinxUo26Hi0e35an/ntQi1QrJrf3pouCsPnecOTEWvdpjCUlZoxvTQ8BFS3Z9Mb6KKgVNKN6cSmd15aKW3iuHRLEYwheu+AZg/CP40+NNof5oR8xaV3qopZYnMThWPbpu9TbRphKvv9bec6epA5TSyVCOktj4SU9XFHJNIQ9DYso/B69ljKh4N330j/H9a/RnGf2IjJKXG/KwbAAAAAElFTkSuQmCC"),eV("spaceChance3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoEAhEmnRJMVwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADb0lEQVRIx72WP2xbRRzHP3fv+W9jN7XjOCGyIoWhM3LFCBIIFot0QCwQpDiSLTZ3QCzpCkMHiFdb4EoJAwtDpAYJKTMD8VrBUohMlbgmluJQsF3fHYP/JMb3nBYiTrrB7+m+3/v8/H13P4HXSK1D7T6L6YLhBcZRtSiGa21DTFssl7Ol+blobn97EyE1iElvMVAwWvLGB5/x5PdWWR9W8l6arhcZybVcIh7JHR1ssfHdO3zzBaiewBgx2qrqSlRbQk+QWQ9wdPA1C+lCrt5e+5H6TtlGKrzIEvFI7rhaJLu3Sksf8+1Hr0K4Z992x+G1jx/S/WWFHz7/koV0gcbJmZVUjpHBiOy4WiT7YJXTdhPHkeBX/e3ZJjBzQ7H89kNev5vluFokEY/kSK7lxrTHDGv3kcvZUnIpVhqaNdsNDAajBZGlv8ArPgZ8IUXnT8nsKz+R2Xqf42qR5FKsJJezpYtllZ5knSZSyEEgYPalNhjvjLl+1RcUkvDLv/LuV+9ZSeU0shGAFlxLtL3jbEA65z97zwRq9jeyD1YnSN3FdMEY4Ohga4JspGcgPPvMu6RBNRE/geS00xyY7rJ4605OzBVyEmB/e5ONvdsTZOeGguBMz5MustDGaGF5ZWi2G2zs3WZ/e/M8NFoZaq1HE2QXRd2A9qxoJNHBeLyWQlJrPUIr84+UXjKk61FPIwjHu+cHwmU6z2vo+jXSgzIUnfL//mvDgMINKGu5AzO9qyd0/BrXZyf0h9XVEzquQfrsqo5PY67aULoG6dhVvZ7/J0MhDUJahB3jnWAvQ+kIUtEVtPH+1oQYkIjBpasEKIF0DK7fe502mlR0Ben0QyVsR5vttEHA0xM/qitBgO4NBIQhkuxYyyoQXA/EqGR2Wbx15/w2G7twB4e356nznEMbTSyYoJLZHbuQJal19GElX3/czC+kC1Qyu8SCCYSlGXCDCn9ofPpCatTXXCS7aFZ/3Mzrw0qe1Pq46jRS6Ri+v3eTP2rhiZvirU9+5lqsO5XM2mJcRuoGNITU2PSFFXKQ3mlk1hYDgPpOuXFyVh6aXg/ExtNrLFP0yYYBGZJR3ymPaVu/QwtpPDTPWbeFM1fHv3QEN55AtAHRBiba4Kk6JR6an0r2wo2w6hkcX//jFxdWGtPvT6UjePPDTy9thMX/3er/DTkg465PytpyAAAAAElFTkSuQmCC"),eV("spaceBowser3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoEAh8w90XUiAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAE60lEQVRIx72WW4hWVRTHf2vv851p1NHxm8v5yi5CUBFes6JGIiwsiiToRhEGPcxQYERE9dBTEAjSg1FEjU8VQtkVCrO8DAmpQRYkMXZ5qaxmPnXUnLzMePa/h29/35yZ0VF7aMPm7LMva+3/Xmv91zLO3sT5NZtqMZlq0TnX29nRyuaNrxDC1HqdM5bf+QTV/Yd7Qwg9/IfW3dlZltSvOVlZEekZ+8VZWSH/QZ2dZQHd56XJOddbU7ZX76WpVpqbpOBas3H/l4DeSVNJe9XZWZZzrve8kb2fptrmE60wpysxrTSnC0CPmNMWn6gNlIAcqB30sU/0USmV1H9GpMlEZO3trd2Dgzv4KF1Am8QI8LUCTzvP9c4xJxhLzHDAQ84xF2OnxCYFRoF2iQ+bFjJ48nuyrKv3wIHD1xVtahOQ9Q78uZ21Ldcyb+QUJast/y6RAm1AEueChIvjnyVOIuaZA2BE4qdSwqrj35FlS6lWh3qAdQ2FRWSvTFvE3JFTtJhxRGKWjd3puESzGdKYx44CHvCFfaMSx4HtzSkvHf2WLOviwIHD60IIPQaokpX5a+ArLsu6ePLg3yzGCMCakHOpGVdgLDZroJOEmZFLeDNGJYaBbySGEXeao8mMExJPlGfwc3UnF1aWMjA4VDu/Z/d6VSptAnSfOfUlJW3yieZR80QHeiDOb/OJtvpE23zS2LfMTLOjt3aAPo1rfUlJt5ipUmnTnt3r67IgBDEwcJBLgEddzQ5NZix1hgEB2KDAZyFgVptTtOP6EOiTOFTwwtH4rACPO8/RgYMN4mh4aSvwok9IC170oPMkwMYQmInRVve0aMe/4jNeDuTAEnPc5IwWwMW9ZeAx5yeHxd3mmDPB+EHiXnMs964mxIxDEiVghhmpxFpfExaACwoebHHszLirILN+EbyNV1bfDDCjMNenwB+IIxLrQk4JSM1oOs2507JYfXAkerokRiU+CDm/xJuqIOQe57kcoxlY5XwDSf17TOLLEBiJNiyG0DiFuxQYjgp2SLwaAhtCXnt3M0YkTsbDiRkJMDOGBMCp+H0p5LwRcobPhvAo8E8c3+wcZWCzxCch1IIeWBty9kkMShwDNoXAXkSQ2Ae8nuf0SYToHHVbbo0yJnFpEfwd5livwGshZ54ZFwHfS2zPT5ECTcAg8LA55nvH7pDzrmqCl5ljphlBIpfYqMD9RYTOGdMqbbwdnxDgdueYBZwAXg45v8XbHQMOR2UAvyL2KPB+RNEM3Bpj2ZnxB/B3x2ycG3MkVbJaOsqysla4GqNs9Yne9IkWmSkFXTMh/xX7QjM1x/GzzjdY5gufaH57q6R+VcaS+PiEm2VlPeXGaOwtn2i189riE13BZKXLzNSXlNTtnHriuS98oo0+0WMt06dMyI3Em2VlPVO46eeRGz/1ia6OSueCVpjTZz7RFp/okwK/Pue8rupoPW3JYWdKwFd23sALQ8NUChmizihHgPKE4K5nkCGJ52fPoH//rnFpaVJY1Eg89FSrQz1Z1sWP1Z183dzUoKoAHIrUV1QmaVxwr2mdTv/+nWRZF9XqUM/ECs7OVETVkX7QtIC2IPZLOGAI+FUiM+jA6Cjw7+dNJVYPf3taZOdVTG1IU232iW400zSQgUqgFtDy6DTvpek5lYl2DoVw97kUwuaM22qF8JTI7P8u9f8Feq7PzQpE8XMAAAAASUVORK5CYII="),eV("spaceItem3","data:image/png;base64,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"),eV("spaceBattle3","data:image/png;base64,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"),eV("spaceBank3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoEAg8xyoD2TwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFDUlEQVRIx72WX0zTVxTHP/f2R/nbSoG2ICkk4DYSNTPCls1kcdMZ55wozmRmgQm4sjcxy7YsmmxLFvaiS+TBh4ECC2QzezFiMBrjxl7MnGK2RRceBoqdo7RQhU7+/vq7e/hBKdCCvOwmN01+ved+z/ecc8/5ChItTzX42sgrrVesYg32NIo523hLLGcsC2uaXDl2b/e5Y4CR+LQApUtee/crAsNjzcZAa93Tu+ipNn/dlV735iNKKaVeOnJIsXafIm92uysUOfvnd8YBtevkQaWUUu7NRxTuSu+Cu1ZiKAtrmpzZNq+/p5HaS3sIjI7Q9WEJpEXiOzkhefvMn9iUm9bdneSW1hMcCcdlKuMxmwOr6Srn8eQj0tYokl1TEC+bhqB45whKtzA6FaKmqxx/TyPObJs3HlORiFlNVzmhySBSSISAf+6kceNsPlgWoUYEW48+wFEwZeIrg6wUZ0KmMhGz0akQUpgBUAoynDoiyVhCMMUxQ3q2Pu+0kMsylfjakIU1Te78rKZYZmpR/GzOaWyumSWAybYIKXZ9wTeFIjQZjIK687OaZGFNE742RF5pvVLA4K1TUWYqTrKkRdF9OpdnMjYRMYzZ8FgYst2g9EAIIyLiVKRgTXIWrbs7ySs7igA0gGvtx6m9tDeas3hr6l8Lod/C/BL4bOGlzh1s2GUhKWVpuOeY1l7ay7X2M7xe1WACGhGFb6yfDKs9fgPQFH/fSeZ8+wlu/nEPMUtGKTjfcYLPf/qIdVvGMfSlLKWQ+Mb6MSJm1LSV+oCQip7vXfhu26n47qSJsuCAQKasZXRgjM3vBFDGss1reUAhFb+fdzJwPRM0BZol7jlDh4HrmVisiucrgsuCyoR/WBQ959z0dztMsIXJgenFriv6ux30nHMjLWr1gOOPNPx30+OCbVynOPWxiuYyFtR/N53xR9rqAIWEYF8q0+H4hl8chspd8FzBUibTYY1gXyoJij0+oNQUvls2kAoUSGGmLyMNXlwPL280zx17DywyZlsAadpKTT190UiLItCbDobigwPwyibwD4N/BLz7IEkDw4CKV+HuPYU/ZAI6bPD1t4JAbzrSoojEGUaaCSDw2IsYmQgsfPia4JsfwOVQ1LwFrkwYn5p/GRNTcOwQWJNgKAT7PwWSWDBVDGXgsRchLWI+pNurGmh58wJZKU4EAiMicJU8MQ2t8GWzYItXcPUmyEVJmNbhk9PwQq3gdq95qavkCUZEIBBkpThpefMC26saTMDBnkYRGB5rzi2tp3V3J2uSs9BnFJ6yMMy9Jw38ARgcWTqxH/ih5aIg+HjWfUPgKQujz6hoH80trScwPNY82NMoJJ5qjIHWuqGHobo5UIfViat4EqstZuxYYWMxCGGG0J5uFlNeDuS75h2w2nRcxZM4rPMzcehhqM4YaK2LjicAhjqagyPhKNO8XDvu9WGY7Y/PeiA1GVouQuY2yNgGV341iyfbPps0XeBeHyYv175gADPU0QyAry0mQnPSzl3pnZuNhy/v4edzFvp+zKSo0EBKwV/3Y2pbh6ICQCj670uKtz1m68EIZ9+4GGXGUEdzrGxcUUQdvryHq22SwTs29LBmSgwR0+IMgZahk7chzI5qIwqWSESJRAI4lun7V8rpHfAx3JfCg1s2JnrTAUgteUJBWZic4klKCj2c2dmZkNmqhPC19uMYEbN3Sk1Fu4ihCwxdoJT5lrdXNawohMX/LfX/A/xwVlxY0R9hAAAAAElFTkSuQmCC"),eV("spaceGameGuy3","data:image/png;base64,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"),eV("spaceDuelBasic3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYKESkYPWvLFwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAI6SURBVEjHvZY7ktswEERfg9wqX0GBy7XHcKoL+JNu6HBTH8OpQ4cK/TmBruKqTfYQK047AECCWv1VFhKAIMGe6emZgXj/aG44egCvH24CpuUqAwJ8/f78X8G+PS4mD+tYLhd7D/xY/T34wy8P93vfrdfPc0pPGV0SAiSNe3YO/2CfF8ODvANI9EkkiQYPWxiTLCSNBlwMWL0R0He7AMFkoGoYNr4EUMoUQgbpu0TSnFIMxgxR9g0W6ABov5fGBkyILomueFgx7UyrZIRAGdEqL0/2UEINmAR3XY5T3csOGhsUxQhX0PyPXTHtt6XfJXHXib5L47pL4vPHd0WlLQcucTQ/fz+xCTOE2QzBy5DnMNwv3uz3UBSvgCSKUKaU0PbXyrFMSXQGy0iiE4REbHnZ7xRLiVNdt6A0oCYLhPH7fCbJxCiwOWCaPYiixHpwiiENmFoDqrjGmB8eaXvj2tbhcwDDVeq5bIUnJY55UEraXIHekVInejirIp5U6JLM49yuDWETkefW6KN5GMWzVGwNG0VTrEv5agv4BJ7PRln7WOLXFqM28cv6158nlOYiqp7Z5tOHtw0bEytntCdDKcwINhGlK/hVpYmG+rp/VmlrqattZwgTQEqTSMbYtWBVWOd2i3m8xMtgkow8b8A2o3Aq7KG+eLAfjqDkupgrjreUXKgtNPrajl+t3QwuZW6iqzoSr/LyCsA6NpGzL2mSlC8oS/2+29X2aFvMsZvZSYD13niTm7eWq5td9f8BgQVfnR04AMwAAAAASUVORK5CYII="),eV("spaceDuelPowerup3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA7wDOADmX89gzAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gYKEiMvfX84ywAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAL9SURBVEjHvZZBixxVEMd/9brHD+BNg8JmhWTwIE7PHrwJfgA9b7wYPQgGjSisupPbRCOIhwSiJ3PKfgOPglfN9C6iMFHcVRCCJ89ud78qD/V61mxmZnsWsgXNTL9+1f/6V/2r+slTxXvGGVoO8GDyxZmAPT380AEBvvv+j8cK9srLa0cMW/vmn7eXOu2M+nPXN8fTpX6Xn/z64ZR2sZ1Rn98/KpHQrghgmMJzo+JE0NZCV7CDj0tCDiEIIYOQWfqFg0/KhezniqZL+iQHEQ9REAwDAxHBoj3is4hxvgjs16slWQ9CJpy/MUASszYngoABBia+tr9VYhFiAxcWpDnMA7v/bomIR4949JKBtGnspSv3dbIURCaYeHXvX5nMTfNchqKeQsRmIgkZSP4/lomdNr4fQIIRBJQUbFfRmCQRAmvXCwCe2R4gectMyHoegGTw7DXfszYuTpTifNGYo65/PuDPayXhCSH04NwHA/6+tUfoGQZIbZy7OuCvz3bRCrQy1q4X/PZ+iemqbWGwv7WLtcIAHny56zUNggRX7WxNDETY39p1d1uFoXIEZIIZBANTv7Tyl2tjWART8WcRNO3BOjLcHE+5eLvAzNzZQCNoY2gDWkGsBP033UewBogpyOjTp//V/LbIF83GC6Nidn+wXRIRj06ZtUrLODYGCus3itM1/nGH86OC/e1Um2hpijojTymsf9ptnnYe3rEyLKQBgKQS2Qywq4Uug3t6pcRqb3I9dHA9tFRP0Bqm73Qb4OEksJ/fKtHaiJURKwdrKoi1/7bPtIZf3pycCBqWge1dmmC1v0xriIdGU0P/ZsHFm0O0MmKdWDYe0N7ry0GX1lCb9CmIhmTe7C/cGc7E8fxoyE9vTLyGqR1UT5HSnVGfH1+7hzYuee8/84Z/REye1qb2z5LW8MOr9xayXJjSWHOUrvT/xbsbD0l/czxlcHeIVmA1xEPfp/EUbfHStxudDkub4ynD0cZq59Ljp6vLt1c7Aq6yPz9+bnzcJmd91P8PUtKe+tH5VcoAAAAASUVORK5CYII="),eV("spaceDuelReverse3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gYKEykwC1q3gwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAKXSURBVEjHvVbPT9RAFP5mpp22CxHjj0V2o8RgTNxlT8BBSdDoxcTEg/wHnLgYL/4NnvgDPPknePaykRN6UEk4QAJkIYKisqsCu90f03Y8NLjtTku7CfCSOcz05X3zvfe9ziMjEy8kztE0APj+aeFcwHKTL31AACgvbp0p2KMHN7sMj+3N7/mQ05/dG9j4cB37exwdQSADyScE0JgE5xJWxsPY5D7y42uRYHOXXodTGmVfl8exunQFdpOGzgkBpPSXcAiEQ9CwKarvRmAtXsPE4x1kb23GMqVRh6vlKSy/z/4HI6T7TUZITGP+YbNF8GPjMjr2hfSAuysF7KwPwPX8PaPdgMf7XnO97o1q30zsrY2erNKgNQ8N2DYNBANyo21MzS5FBthdKeBLeRiO64P+PWA4rFrpGXLLUZxEi8YGaB4ZoT2jEuag6KOGpL//ALcEaCAKpQA3nfSAoqUrwiDxBFGvWeiIbg2FQ9Cq8/SAuuGEVOmfebEBXKHepnHA04vG6TDFSTfd0P7twsPYgFIC2+sWtgM+c68S+rA3pe1G+F5Pn39ExvKSf9RM4sn855NTqnFXSSll4Rtoho07d2uJgKXpGozBgwTRtDWFIaWqcnOFCkwjXtEGl8iXttKolCkMXYdE1LWB4r1qPLuZX+DWUTIg0zyFoTkY3Ve5YjTLgQEPuUIlXVu4DlUYturRj0ocy9LMT2i8mQ6Q6ekZRrEcGnIxfLuSvvFJj0AIAZgeLw7dbKAQYFm8vwemt9MDGhmh9KQryInyzxe2YHCJq1mB7FgleYjqbYt+GAKAbtUxPbsJzeiAMqc/wI6tKQw9lyQ2+cX8TqrXJbKGwVedEEB6ODXTlOnqGfylzl6nC3g8N561kfMe9f8BZozikr7J5GUAAAAASUVORK5CYII="),eV("spaceGameGuyDuel3",Rw),eV("spaceMiniGameDuel3","data:image/png;base64,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"),eV("spaceHappeningDuel3",Lw),eV("targetImg",Mw),Zb)if(Zb.hasOwnProperty(tV)){var rV=Zb[tV];Jb[tV].src=rV}function aV(e){return Jb[e]}Zb=null;var iV,oV=function(){function e(){r(this,e)}return i(e,null,[{key:"drawUnknown",value:function(e,n,t){e.save(),e.beginPath(),e.arc(n,t,8,0,2*Math.PI),e.fillStyle="orange",e.lineWidth=2,e.stroke(),e.fill(),e.restore()}},{key:"drawOther",value:function(n,t,r){e._drawOther(n,t,r,8)}},{key:"drawOther3",value:function(n,t,r){e._drawOther(n,t,r,12)}},{key:"_drawOther",value:function(e,n,t,r){e.save(),e.beginPath(),e.arc(n,t,r,0,2*Math.PI),e.lineWidth=r/6,e.strokeStyle="rgba(255, 255, 255, 0.4)",e.stroke(),e.lineWidth=r/4,e.fillStyle="rgba(255, 255, 255, 0.2)",e.strokeStyle="black",e.setLineDash([r/2,3]),e.stroke(),e.fill(),e.restore()}},{key:"drawBlue",value:function(e,n,t){e.save(),e.beginPath(),e.arc(n,t,8,0,2*Math.PI),e.lineWidth=2,e.fillStyle="#0039ff",e.strokeStyle="#001281",e.stroke(),e.fill(),e.restore()}},{key:"drawBlue3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceBlue3"),n-14,t-14),e.restore()}},{key:"drawRed",value:function(e,n,t){e.save(),e.beginPath(),e.arc(n,t,8,0,2*Math.PI),e.lineWidth=2,e.fillStyle="#ff3131",e.strokeStyle="#611515",e.stroke(),e.fill(),e.restore()}},{key:"drawRed3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceRed3"),n-14,t-14),e.restore()}},{key:"drawMiniGame",value:function(n,t,r){n.save(),n.beginPath(),n.arc(t,r,8,0,2*Math.PI),n.lineWidth=2,n.fillStyle="#0039ff",n.strokeStyle="#001281",n.stroke(),n.fill(),n.fillStyle="#A4FFFF",e._drawStar(n,t,r,8,5,.45),n.restore()}},{key:"drawMiniGameDuel3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceMiniGameDuel3"),n-14,t-14),e.restore()}},{key:"drawHappening",value:function(e,n,t){e.save(),e.beginPath(),e.arc(n,t,8,0,2*Math.PI),e.lineWidth=2,e.fillStyle="#099f0a",e.strokeStyle="#2e681e",e.stroke(),e.fill(),e.fillStyle="white",e.font="bold 19px monospace",e.fillText("?",n-6,t+6),e.restore()}},{key:"drawHappening3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceHappening3"),n-14,t-14),e.restore()}},{key:"drawHappeningDuel3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceHappeningDuel3"),n-14,t-14),e.restore()}},{key:"drawStar",value:function(n,t,r){e._drawStarSpace(n,t,r,8)}},{key:"drawStar3",value:function(n,t,r){e._drawStarSpace(n,t,r,12)}},{key:"_drawStarSpace",value:function(n,t,r,a){n.save(),n.beginPath(),n.arc(t,r,a,0,2*Math.PI),n.lineWidth=a/8,n.fillStyle="rgba(0, 0, 0, 0.2)",n.strokeStyle="rgba(0, 0, 0, 0.3)",n.stroke(),n.fill(),n.fillStyle="yellow",e._drawStar(n,t,r,a+1,5,.45),n.restore()}},{key:"drawChance",value:function(e,n,t){e.save(),e.beginPath(),e.arc(n,t,8,0,2*Math.PI),e.lineWidth=2,e.fillStyle="#0039ff",e.strokeStyle="#001281",e.stroke(),e.fill(),e.fillStyle="#ff3131",e.font="bold 19px monospace",e.fillText("!",n-6,t+6),e.restore()}},{key:"drawChance2",value:function(e,n,t){e.save(),e.beginPath(),e.arc(n,t,8,0,2*Math.PI),e.lineWidth=2,e.fillStyle="#099f0a",e.strokeStyle="#2e681e",e.stroke(),e.fill(),e.fillStyle="white",e.font="bold 19px monospace",e.fillText("!",n-6,t+6),e.restore()}},{key:"drawChance3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceChance3"),n-14,t-14),e.restore()}},{key:"drawStart",value:function(n,t,r){e._drawStart(n,t,r,8,"black")}},{key:"drawStart3",value:function(n,t,r){e._drawStart(n,t,r,12,"black")}},{key:"drawStartDuelRed",value:function(n,t,r){e._drawStart(n,t,r,12,"red")}},{key:"drawStartDuelBlue",value:function(n,t,r){e._drawStart(n,t,r,12,"blue")}},{key:"_drawStart",value:function(e,n,t,r,a){e.save(),e.beginPath(),e.arc(n,t,r,0,2*Math.PI),e.lineWidth=1,e.fillStyle=a,e.strokeStyle="rgba(255, 255, 255, 0.5)",e.stroke(),e.fill(),e.fillStyle="white",e.strokeStyle="black",e.lineWidth=2,e.font="bold 12px monospace",e.textAlign="center",e.strokeText("START",n,t+12),e.fillText("START",n,t+12),e.restore()}},{key:"drawShroom",value:function(e,n,t){e.save(),e.beginPath(),e.ellipse?e.ellipse(n,t,8,6,0,0,2*Math.PI):e.arc(n,t,8,0,2*Math.PI),e.lineWidth=2,e.fillStyle="#0039ff",e.strokeStyle="#001281",e.stroke(),e.fill(),e.beginPath(),e.fillStyle="#D3FDFC",e.arc(n,t+5,4,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(n-5,t,2,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(n+5,t,2,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(n,t-2,3,0,2*Math.PI),e.fill(),e.restore()}},{key:"drawBowser",value:function(e,n,t){e.save(),e.drawImage(aV("spaceBowser"),n-9,t-9),e.restore()}},{key:"drawBowser3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceBowser3"),n-14,t-14),e.restore()}},{key:"drawItem2",value:function(e,n,t){e.save(),e.drawImage(aV("spaceItem2"),n-9,t-9),e.restore()}},{key:"drawItem3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceItem3"),n-14,t-14),e.restore()}},{key:"drawBattle2",value:function(e,n,t){e.save(),e.beginPath(),e.arc(n,t,8,0,2*Math.PI),e.lineWidth=2,e.fillStyle="#099f0a",e.strokeStyle="#2e681e",e.stroke(),e.fill(),e.beginPath(),e.fillStyle="white",e.translate(n-10,t-10),e.moveTo(14,3),e.lineTo(4,11),e.lineTo(9,11),e.lineTo(7,18),e.lineTo(16,9),e.lineTo(12,9),e.lineTo(14,3),e.fill(),e.restore()}},{key:"drawBattle3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceBattle3"),n-14,t-14),e.restore()}},{key:"drawBank2",value:function(n,t,r){n.save(),n.beginPath(),n.arc(t,r,8,0,2*Math.PI),n.lineWidth=2,n.fillStyle="#099f0a",n.strokeStyle="#2e681e",n.stroke(),n.fill(),n.fillStyle="#EEF700",n.translate(t-10,r-10),n.beginPath(),n.arc(10,12,5,0,2*Math.PI),n.fill(),n.beginPath(),n.moveTo(8,7),n.lineTo(7,5),n.lineTo(8,4),n.lineTo(12,4),n.lineTo(13,5),n.lineTo(12,7),n.fill(),n.fillStyle="#099f0a",e._drawStar(n,10,12,4,5,.45),n.restore()}},{key:"drawBank3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceBank3"),n-14,t-14),e.restore()}},{key:"drawArrow",value:function(e,n,t,r){e.save(),e.beginPath(),e.fillStyle="#F647A0",e.strokeStyle="#94305B",3===r?(e.translate(n-12,t-12),e.scale(1.25,1.25)):e.translate(n-10,t-10),e.moveTo(10,1),e.lineTo(1,10),e.lineTo(5,10),e.lineTo(5,18),e.lineTo(15,18),e.lineTo(15,10),e.lineTo(19,10),e.lineTo(10,1),e.stroke(),e.fill(),e.restore()}},{key:"drawBlackStar2",value:function(n,t,r){n.save(),n.beginPath(),n.arc(t,r,8,0,2*Math.PI),n.lineWidth=1,n.fillStyle="rgba(0, 0, 0, 0.2)",n.strokeStyle="rgba(0, 0, 0, 0.3)",n.stroke(),n.fill(),n.fillStyle="black",e._drawStar(n,t,r,9,5,.45),n.restore()}},{key:"drawGameGuy3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceGameGuy3"),n-14,t-14),e.restore()}},{key:"drawGameGuyDuel3",value:function(e,n,t){e.save(),e.drawImage(aV("spaceGameGuyDuel3"),n-14,t-14),e.restore()}},{key:"drawDuelBasic",value:function(e,n,t){e.save(),e.drawImage(aV("spaceDuelBasic3"),n-14,t-14),e.restore()}},{key:"drawDuelPowerup",value:function(e,n,t){e.save(),e.drawImage(aV("spaceDuelPowerup3"),n-14,t-14),e.restore()}},{key:"drawDuelReverse",value:function(e,n,t){e.save(),e.drawImage(aV("spaceDuelReverse3"),n-14,t-14),e.restore()}},{key:"_drawStar",value:function(e,n,t,r,a,i){e.save(),e.beginPath(),e.translate(n,t),e.moveTo(0,0-r);for(var o=0;o<a;o++)e.rotate(Math.PI/a),e.lineTo(0,0-r*i),e.rotate(Math.PI/a),e.lineTo(0,0-r);e.fill(),e.restore()}}]),e}(),sV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gYKERoFqgbC/gAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAASNSURBVFjD7Zk9ciRFEIXfy6qR2BsgvD0GROCIY6yJuS7HwF0Tc6+h2MDhGHjLEUCaqUyMrKzK7hmknpGWEBG0YtSj7pnqr17+Vgn4jxwEAHz73l415W8fWOO93b17nUrefgQA1Hzxpw9/vCrIn9/fjPd1ffP29mbzQL98/P2sB//47u3mz97dLUWrL62CkCABM0Dt5Vz/2aC7QggJEXbQeU/Ngc3s2dD14lRB4s1VgRCoImAHlESq6nBmwEEVQsLg4F8clCTYz9dVICRqIch/UtTVLFYgFBjMYc8ErudDsvshcVUFRfy90NWMiQSIqg3gmAzBAbzVJep5QeKgDNCdoIhAiAF7BGrz7KZ3SJj7kGyErZuVZCg3Ya+q+2jpPhoRvza9GdCyjwLQLMIG2LoFUk5AColdcdO7yTMoexB186qhKIeP6oDrVdFj81GfrU9FN9c/CbwWohYBye6rGH44QA1oNDTqDLiu6OLcIe0i0LXJ05kkdrUMRU+DOqx0RfO9gOQQZVphE2iURSHx5kpwvSvYFcH1TlCL4Kr6uRbB7Q/fzMnE47gcz1V1F/h09xlNFfuD4tAM+6Z42Dfsm+F+37Bvij8fFGqGtzdfbVN0V4jaI7oWV2z9YsoE4skVmbMHNoz0XFoIQGAFMFOYEa0I1BS1EE19XG223fQRIFVmrsxmLuU4wHIgAQDNYD1X+YQFZgoxH0fMx2riFizifr9vG31UFgnc/a52wKjrRTiDjRM0a2ojJL3ox/fMCC2Ean8O09gEinAbaJEl7EjkXJk84OiKBXQ2u5oBBAzdrEJQwwqzkGBpjPPz6KkgZKpAWKWuWSYnLAwr9bGYfK5sIdAZpg8zYw4uOUXlpOJEObhsGN5zKccEcTJfkk+U8EvaPDu9RDy6aWbj79kxvWA/qr01015ZosKoGkxs/O0dEEELkO6PicYyu52e24u3ebMbmjA2jNyvJ/9ET/bxqWZzkrlXDRHUQqSNoE3nF2KApooiZVSapn5mEkrDJ8M7zQFHdYr+VJNVhvXmiuBM0x9DagcsaiBnp55+YWH07h4ak2s6JtjUX6FigB+aX38SNJa0swmRo4Ykrv366TNqkZ5rZ46dqIbWumJq+O77r7uCOuBmLCyvb14ux9LBUhk0RuB4T9mat8DFCBOBxnKjO2oOwkPThU/CZsOC5B7Y2j0tojWqinE+mPMDh6ZQ82ojYssqg+R/Gmun5KuLRR6GZ1/Uj+bIRlpCRPI9NEWB9J4zNyYzC2haiiwgM3R6f1F6suRrsGVXTgL7gwfHrP99XW8zKCOyPXB0WGoNaI+oubHWz0Fkpei+uX9GH0kSbLZsSICl2YEV4Exhz074aoYhlM18+XDQ0UQ3PW4mIssEqI68mpL9BsizKpP25C59A4xw0x9ip2S1nZO3dDwXr0H1rN2SC0po7HgQ93tFKURTHEX8chPCcGjT/CMdfcm9p3g4Afy1b6g6W8JTrZoZUlLXf2+TLKt7f1DsG+eKQLhotsl1s3H51mN9aqf3sWO9pD13F/li0Lxn/tqOuv7vw//HM4+/AUUPqKA+d1JYAAAAAElFTkSuQmCC",lV="data:image/png;base64,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",uV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gYKFR4eQwZmygAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAO1SURBVFjD7ZnNb9tkHMc/j98SN42dpO36xro30MaUgYCtGmMSAokD2wCJEyp3LlyQ2F/AeUhc+AOQEBeEkBASLxIHLr0wCRAghiq0wRAdFW3TvDlxbD8corTJbCdpZ9YU8ZMiK/Zj55Pv7/n9nq9tsfTRsxyE0AA+uPawHGXIpas/C63zRS6/M5KQ4sIbO4p24urbn4wU5LU3X+xNfXesHns39sTl945x64YWe1xVQTcknifwfZBB73ErJyk+U+Xo4p2BkLM3Xw/P0UHx2/VpvvsiS60q+o4LJLRcQSDDkADlkuCPH03mzxjoprsrdZVBA258Nc/yx9ZASGjDdZQUCmh6e9sdv69ofPjWEVa+nksOtOUY/PVrKlKdu1Ouqr1QMgCvRey533ye4afPDu+uPcWFbro0ncFKxqW6X6TSEtUIkgFdWymwvtZ/dmg6aJpEKKCIXmgpwWu1C+vuaDYEbl1NBjSdbWHZkq3NaFVPnXU5c2k1tjB8T+WHT+f55XoqEtZzRTJz1Ckb1GvRF5tb8PtCAqiaz4kLGzz0eHhMYTLg0INOMqDSFwR+9LH8vDdUi0lnXcZsL5xKA1RNJgPqNRV0I3wxoYCq31970BdUqBI1Yr4rAoQyQqCqKiOLQDckmbw3OqC+J9CNKFDQ0/7ogI6ccU4ybn97iO+/tCiXxHbhdbbdq9fanwpr7+eA3Pa+zLjk0eei3VXiipp2C3vC7/EBMmh/oqZRTyszJfZM4/6kfvL4JunxnY7gtXZUbbnhNtcdJy/WyC+U9gbaiDAllS1BKhNfTOdeucVTL1fITwTbTiqqF3fvz9oSK0bNoUDTZrhfZm1JszbYULT6rOXdkEKBi0t/U4hR81+t+tnTm0w9EK96d9pVFVTD35/2ZGSazJ5ySKVl37QXJgOefnUDa6ayf3306OIdzl6qMp6VkWm3cpLHrpSYPrm+/w1/rODi1KPnqlMXWDP1e1+ZslMN9AiXVNkSmHZrqB+YOrHB+ZcqZMZ7r5MrBJy7XMG0nXsHDQJBeSs8ZGIqQMrh3Xn+cI1ms3f8QtEd6v5+KNDaegpzLKyo6woa5eFXX2umwvGi22MZi8/fTtDmGcl5zkeurHL6yXZDP/9CNVlTIoSkWhGRRbDbP2GMuRx5okRuzmSuuJ4sqFPW0bTwGm3ngj350UzBwZqugCBZ0KRDNfZ+V3BgjPN/A1TVgtD8BFB10FPe/4oOVUzdT3pnc7D4WpyjBm7uE2j3M/ORVbTz9mFUQxyUF2L/AI4MPBB5eCU4AAAAAElFTkSuQmCC",cV=__webpack_require__.p+"static/media/happeningduel3.b9195225e2a1bb8dd4ad.png",dV=__webpack_require__.p+"static/media/gameguyduel.1eaeb3fb8bcb7a57f93e.png",AV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gYKFRkNiPmx0wAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAV9SURBVFjD7ZnPa1xVFMc/5870j3DVKv4gosF20kRLKbQWCy7sShcRFFp0E7BC6sYOWHEQKhZc2KVdxoWuulXBYmlpkhdqUCepYBQX/g/z3j3Hxbn3zSTaZDKTQgQfPObNzX3nfe/3fM/3njeB/8ghALwwZ/sa5Z1r0szXdvuz/cnksXcBaA4OXrx6Y1+B/HT+lfq6ufWPfz16baSgC+2Jfx2f7XRHivfIxtym781xV50Brl8swIAAmGBmCPBUuzUW4D0ButCeYH2+QILXpAQwBMQIBiZw/70CUwc8DtgwDsi1+QIRQcSQ4EBDMELwyCKpIATW54sHyuOhMxoEJFjNpgiQmJRBw1Mff+ipH2RittNloT3B/fnCgQk1mzWDJMBJs5bG1ueLWgJbY44NdKE9wU9vFUjTkIbwdCoOSQAJEIIkwNbPtSa06uyq5N3FY3bnCjSCReOZ9tSOYMNOIFfPFXiJCGLG2oWipk3SSTCkkXTawK+bhgTxxTQkzfNb1y4sO3oxzGD13PKO+g3bgfzxzWVnRXC7EUGy2HLaGxAakgCCNCQBFELDaual4Zr2W8WFnMKYCffe2B7s9qm3VBQpqOWHkJn0ikdypQ/k18BUkCYQDYt1mITWq84wX7yNY0+WT6uZzM96/ErLbSmxSMNBhSbIAZBmYhIDcQk8caVVBzajH3NnnDsDNXN4NoA9H491Win/A8CaQmgASQo0PAc+dwuh1v9EbfSqt1pD/jnxuT/s1/kCOQDhABz6oMUfH6840w0ITfP7qn6qD10+wm+XCmIUrDSevDoFwM9vF3XG+rkaRaMKFkDMIMIvcwWhkRaQ9vONDwsOvt/iz09WCAIWJLmEzzt46Qgbl1ew0rWKwdo7BVqCVV6kZmA6RupVc1oSOO3r1nKRGWx0VjAFi6CloRXukQq/f7SCmaHm8jEVB2Xm9+Q60HEM34DoZh1UUIWgoFEIwbAKVIQQEkh8PngGLIpXexQsuvmb+acqmG65Hlmj2VLUdxCCsyHRsOCysGjQS5E0b6PijEVDo6QdyFkmf6pgamnMklhGSP1sp0vr6ylUU4oUtDKs8uBW4TrTdF2B9nxMe0Ysxa/LgXsSSEu+qjmuCq2vtt9Gt2V0ttOl1T4KwL3Xl7FAnf7MduiBNhKbYaB41ZK+xReYFxd9J9IE9vCXU0M1Jjs2JTnAc+2pemz1fNH3QIVgydSl3zrlYsvazMAsCs9+0dr1q8rQ/ehgwMl2i9Vzy4RU9aqyqVGu9ZaLxcStSGHy+mid/kgd/myny+T1KbQytITYM7elEmIJVrqetXKdWrKsyetTI7+OjNXhx9JfPSTZk7dug0acGd3Z0B8KowvtCYrXlrEKYs8Bx4o+qz1zB6ggRncDK43lV5dGfm8Ko4C8e3YpgUpeWdqANYGVQkyL0J6hlaWFCHfPjgY27BbknTNLNag+k85mLCGWRizNASaGdWCO9uDOmd2DDbsBeevUkqcyJoCVPzhWDlq3nLHcPJ4NX6Pxw8nFXYENw4L8/vhiqmQbYEj6wJJGZ24cZebGUWc1zY2pU4pJLlr595vHhwc7dNVrlZYV6Hf22n/pROD4d9O1/RxrT3Pr9GLdJeVujOQA+dwzRhfaE3xzeLFmRqsBzaXrmJj7x+LKzffYQIzsrd8eGY7VoVJvmtIYvXpjNAfXyyCEEzenN5n5bKfLiZvT9aJir59yLY1YCVZ5nD3TaM1CBVYZlnafmMCfvD39rzvObKfLydvTxGRPsXRgMdLXerWHxeR9pZt3tqSYOqEXF2e23RZnO11OL8/0W8Esm/hgyYzcPb3cfn6oZmW7OS+1Z8aK0dzpl16A+fPbRNg4NRQj48ZoPug38/12NLf+9+H/Y8zjbzZB8Zkn9XnKAAAAAElFTkSuQmCC",fV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYKFQM5GWC/vQAABQtJREFUWMPtmX9IlHccx1+Pj3rmJjsMQnMai3BsCp1hbeEfEW1DW62YsDujuU1RA7FEiY3YxmqDQdEPzYZgCoX9IdFa5XowxmbLZJELpSsLItel6Z03y0zO7rz77A+fM3fVZb/stvrAG+75fp/P5/t6Pt/n+X6+fA9e2HNqyuO5yzzgHWA+8AaQAMTonUNAD9AJnAZ+AeXMFD6bRIGsBzkLIg+ps7pv1NOGLANxPgJgoJxjsZ484JsgzU8AMFDNY7GfDORykMGnAOnX4NgYjweZ/RQBA5X9qJAZIN4pBPWOjflwkJEgnVMI6Vfn2NiTB935DCD92jlZSNMzhPTLFEgVdg/StSFQMdc+oIRKDHDjPg8wleYDjKAM3S+jK0MA0s+1MtjULwqhDdOiYKCmEAI1BQOdFUKgs4J9TKOAGiKgXlDCgy1PIWmBoNdDiO16MNArIQR6JRhoewiBtgcDPR5CoMf/DyVUGQL2hEA290yE/E9t8/wWCXypHxZch1Q3IGP6Qe78vp8qdE1s+16gW8ArUBnEdzLxcflBT5hMpjZN04b6+/t9LpfLd+nSJdm9e7cYDAYJZh6PZzzghg0bREQkNzdXbzsh4BJANE0b9xkeHpb29nYxm82Tje/yv6dy+fJlqaurk4SEhEGDwXAjJWX+8Lp1pQKIwWAY14EDB6Surk6/fk8iIr4SKBFFUaSrq0ucTqe0tLTooA0CznHQHTt2iKqqEhMTI+Xl5eLxeCQ5OTlIfINERkbeAZ0xY4aIiJhMJgF2AUnAPGj8dmwK9wqUCCD79++XmpoaHeS4wEGBEsnMzBS32y1Lly4VEZGUlBSBMoE+gU9F0zTZvn37ePYVRRGPxyNms1lv6yoAyjs6OjpOnjx5Csi9ax11OBxYrVYqKyuxWCyfzZkz5xzwGyx7F9K/gL9H7/1q3wSOADspLCxE0zSOHj1KR0cHRUVFwFn9rCz2Lk+LxUJ4eDgXL14ETpTBazWTWQ4OxsXF/VxdXX2hra1t1OVyic1mk+LiYi/ggVOLof7q3Rk9IpAn8fHx4na7ZcWKFQJISUmJDAwMSFRUlJ7xT0TTNLl165b09vbK4OCgjIyMSEFBgT/D0TpH8IwCH/b19W1ds2bNH+np6cNGo/Hmxo0bfRUVFWFZWVkKvOWG1Ymw5XdVjZI77kagmfz8fAYGBmhsbASgvr6eadOmYTab9W3ldAD27duHyWQiI2MxLS0tvszMTI9e042T2T2FAcuBl4EfgZm3b99eWFtb67PZbJKWljaheq0/PHt2kjUuLtkO5S6oRVG6yM/Px2g00t3dTW9vL+fPn0dVVX365wHbABgdjfLa7d81Wa2ebatWrbq2ZMkSNScnJxqofRBoOEBaWlp8aWnp51VVVdM7Ozu9qqqSk5NDUlKS0tra6v1X7VKQ2NjwK7B1F5QtzMpaXpiYmBi2YEEGPT3X9LvczJ07l6amJlJTU7FaPzodF/fqTJ/P1wPvVwOHHQ6yq6qqbm7atMnY0NAw2+fzvf7A/ajT6XRHR0er9fX1LzkcDqPNZjPm5eWpubm5o83NzT7g3L3dt9mKivI5dOiQ78yZU267/Wq03X41zG63Tz927Bitra16Vr9uiohQRgJq+cebN292xsbGhhUXF78ymaNxBbAAq4G3J/QNA78C3wB/+V/2Cf39+lG430aBLROuqwPu9dufwE/6uBcmtH8ALAvw2fvi34vn3v4BZgGY1GBOBDsAAAAASUVORK5CYII=",hV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gYKFQUDiTbBiQAABTVJREFUWMPtmX9I1Gccx19fz/ymUzuUBWbpFuXWLzqjWtEgqCxtLlgMTsO5puRZLpIKBq1ByUbg2ErnfkB5jlC2Vm61wqOi4TBlrS0UL50VWpeid2fNM5zp5X32h3d2uLx+6436wJuH7/d5Ps/zuufz/Po+B8/tGTXlcZwF5gAJwGvADGAyEO7O7gZagUbgHHBagfpR/XUCmwTOC8hD6rzAptEAzBBoeQTA4WoRyHgagJECR54A4HAdEYh8UpDzBC49BUiPLgnMe1zIBQL2pwjpkV1gwaNCTha4OgqQHl2VwVXjoUFNowjpkelhIbeOAaRHWx9owReYAFxjMB0LcwCxymA6ZAH3KJg7hpC42859kB69CsSO8dZ+TYGXRuxRgWV+AAkQ62YZMfTL/ejAtNwX6AI/Al3gC3S6H4FOH3EyCfwDBPsJaK8CISOBuh73MP0kD22KV8SHh/62H4X+tq8xavUjUKsv0Mt+BHrZF+h5PwI97wv0jB+Bnvn/7/VuK/GD3hyRIQjYCTSGQdfiwfVUAPnKnfpSgVve7/aAtIIMgBT68H2Q+oFeD2iVTqf7w2Qy3bLb7a7e3l7XlStX5MCBA6Kqqvgyp9M5VOGOHTtERCQ9PV0AqQLpdeeZTKYhn56eHqmtrRW9Xv+g9fd6wi/Nzc1iNBolOjraoapq18qZM525W7YIIKqqDqm8vFyMRqOoqiorVVU+GjdONoMoiiItLS3S2dkpZ8+eFUAOgXR6ge7bt080Go2EhYXJtm3bxOl0Slxc3Ij1q6oqQUFBd0EnTpwoIiI6nU6AL4GYryGpCax7QA6CbHY3ePjwYdm/f78A8ivIT+68xMRE6e/vl9WrV4uIyKxZs2QrSAfIejfo3r17h3pfURRxOp2i1+sFkG64vh7y6urq6qqrq88B6f+ZTDabDbPZTGFhISkpKe9Nmzbt4kb4fiPY1oGja4SB3Q0cB74AsrKyMJlMVFRUUFdXh8FgoB64BUTcwzclJYXAwECamppog64wWPvtsO+k4aAu4GhCQkJFQ0ND0/bt24Pq6+tDLRZL+IycnJkzIPRdaFnhY4pGRUWRnJyM0WgEoLi4mLS0NKrGj8cM3HCX27BhA+3t7TgcDkpKSsjKyqK2tpYgeEO5z2bjWZ7WdnR0fJadnf3b/Pnze7Rabffu3btdBQUFAUuTksiH99dA+TFgvEYz5KwFKoHMzExu3rzJiRMnACgtLSU4OBi9Xk8sdy+XysrK0Ol0LFuyhOqqKpJWrXJNgusvDq7d3A80AHgTCAV+BCb19fUtLi4udlksFomPj1c+AYcCb3fAD3GRkf1ztFp2AsVAi6KQmZmJVqultbWV9vZ2Ghoa0Gg0GAwG5gGfuxsLcTr5zmplp9ns+Hjdur+XrVjB0tTU8e6qfFogQHx8fFRubu4HRUVFkY2NjQMajYbU1FRiYmKUmpqaAU9hA/xep9W+Guh0hieD9MDLjsREpkyZwusLF9LW1gZAPzB37lxOnjzJ7Nmz+dBsZmp4OOERET3dUPYWbMRuby4qKlLy8vK0hw4dmupyuV65b+g7Ozv7Q0JCNKWlpS/YbDatxWLRZmRkaNLT0+9UVla6gIveTn3BwbZFsOs4FK7Pzpafjx2TmxcuSLPV2mWxWgeuWq0Dp06doqamBoPBwA04fSc09HrXhAkXkwavbVzAO/n5+Z0REREBOTk5971HUNxKAdKARV55PcAvwC7ujqFtXvl2INrr+Q7wqdfzN8PKeuxP4Ki73b+83q8Bkof5HHz+78Uzb/8CsYX5GOjbIQ8AAAAASUVORK5CYII=",pV=mb,mV=Sb,SV=gb,gV=vb,vV=xb,xV=_b,_V=yb,yV=wb,wV=bb,bV=Vb,VV=Cb,CV=Eb,EV=Db,DV=Fb,FV=Tb,TV=Pb,PV=Rb,RV=Lb,LV=Mb,MV=Bb,BV=kb,kV=Ib,IV=Ob,OV=Nb,NV=jb,jV=Ub,UV=Gb,GV=zb,zV=Hb,HV=Wb,WV=Xb,XV=Kb,KV=qb,qV=Yb,YV=Qb,QV=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.rcMenu=void 0,e.globalClickHandler=function(n){e.elementIsWithin(n.target)||"CANVAS"===n.target.tagName.toUpperCase()||yE(-1)},e.handleClick=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},e.onContextMenu=function(e){e.preventDefault()},e.onTypeChanged=function(n,t){var r=ny();Sx.dispatch(Cg({spaceIndices:r,type:n,subtype:t})),e.forceUpdate()},e.onChangeX=function(n){var t=parseInt(n.target.value,10),r=""===n.target.value,a=Hy().bg.width;!r&&isNaN(t)||t<0||t>a||(e.state.oldX||e.setState({oldX:e.props.space.x}),Sx.dispatch(Vg({spaceIndices:[e.props.spaceIndex],coords:[{x:r?0:t}]})),e.forceUpdate())},e.onChangeY=function(n){var t=parseInt(n.target.value,10),r=""===n.target.value,a=Hy().bg.height;!r&&isNaN(t)||t<0||t>a||(e.state.oldY||e.setState({oldY:e.props.space.y}),Sx.dispatch(Vg({spaceIndices:[e.props.spaceIndex],coords:[{y:r?0:t}]})),e.forceUpdate())},e.onCoordSet=function(n){Sx.dispatch(Vg({spaceIndices:[e.props.spaceIndex],coords:[{x:e.props.space.x||0,y:e.props.space.y||0}]})),e.setState({oldX:void 0,oldY:void 0}),e.forceUpdate()},e.onKeyUp=function(n){"Enter"===n.key&&e.onCoordSet()},e}return i(t,[{key:"componentDidMount",value:function(){iV=this.globalClickHandler.bind(this),document.addEventListener("click",iV)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",iV),iV=null}},{key:"getPlacement",value:function(e){return"translateX("+((isNaN(this.state.oldX)?e.x:this.state.oldX)-8)+"px) translateY("+((isNaN(this.state.oldY)?e.y:this.state.oldY)+15)+"px)"}},{key:"elementIsWithin",value:function(e){return!(e&&this.refs&&this.rcMenu)||this.rcMenu.contains(e)}},{key:"render",value:function(){var e=this,n=this.props.space;if(!n)return null;var t={transform:this.getPlacement(n)};return(0,Ne.jsxs)("div",{ref:function(n){return e.rcMenu=n},className:"rcMenu",style:t,onClick:this.handleClick,onContextMenu:this.onContextMenu,children:["\xa0\xa0",(0,Ne.jsx)("span",{children:"X:"}),(0,Ne.jsx)("input",{type:"text",value:n.x,onChange:this.onChangeX,onBlur:this.onCoordSet,onKeyUp:this.onKeyUp}),(0,Ne.jsx)("span",{children:"Y:"}),(0,Ne.jsx)("input",{type:"text",value:n.y,onChange:this.onChangeY,onBlur:this.onCoordSet,onKeyUp:this.onKeyUp}),(0,Ne.jsx)(iC,{type:n.type,subtype:n.subtype,typeChanged:this.onTypeChanged})]})}}]),t}(Le.Component),JV=[{name:"Change to blue space",icon:pV,type:h.BLUE},{name:"Change to red space",icon:SV,type:h.RED},{name:"Change to happening space",icon:vV,type:h.HAPPENING},{name:"Change to chance time space",icon:_V,type:h.CHANCE},{name:"Change to minigame space",icon:CV,type:h.MINIGAME},{name:"Change to shroom space",icon:EV,type:h.SHROOM},{name:"Change to Bowser space",icon:bV,type:h.BOWSER},{name:"Change to invisible space",icon:DV,type:h.OTHER},{name:"Change to star space",icon:FV,type:h.STAR,advanced:!0},{name:"Change to start space",icon:RV,type:h.START,advanced:!0}],ZV=[{name:"Show Toad",icon:WV,subtype:p.TOAD},{name:"Show Boo",icon:KV,subtype:p.BOO},{name:"Show Bowser",icon:qV,subtype:p.BOWSER},{name:"Show Koopa Troopa",icon:YV,subtype:p.KOOPA}],$V=[{name:"Change to blue space",icon:pV,type:h.BLUE},{name:"Change to red space",icon:SV,type:h.RED},{name:"Change to happening space",icon:vV,type:h.HAPPENING},{name:"Change to chance time space",icon:yV,type:h.CHANCE},{name:"Change to Bowser space",icon:bV,type:h.BOWSER},{name:"Change to item space",icon:LV,type:h.ITEM},{name:"Change to battle space",icon:BV,type:h.BATTLE},{name:"Change to bank space",icon:IV,type:h.BANK},{name:"Change to invisible space",icon:DV,type:h.OTHER},{name:"Change to star space",icon:FV,type:h.STAR,advanced:!0},{name:"Change to black star space",icon:TV,type:h.BLACKSTAR,advanced:!0},{name:"Change to start space",icon:RV,type:h.START,advanced:!0},{name:"Change to arrow space",icon:PV,type:h.ARROW}],eC=[{name:"Show Toad",icon:WV,subtype:p.TOAD},{name:"Show Boo",icon:KV,subtype:p.BOO},{name:"Show bank",icon:UV,subtype:p.BANK},{name:"Show bank coin stack",icon:GV,subtype:p.BANKCOIN},{name:"Show item shop",icon:HV,subtype:p.ITEMSHOP}],nC=[{name:"Change to blue space",icon:mV,type:h.BLUE},{name:"Change to red space",icon:gV,type:h.RED},{name:"Change to happening space",icon:xV,type:h.HAPPENING},{name:"Change to chance time space",icon:wV,type:h.CHANCE},{name:"Change to Bowser space",icon:VV,type:h.BOWSER},{name:"Change to item space",icon:MV,type:h.ITEM},{name:"Change to battle space",icon:kV,type:h.BATTLE},{name:"Change to bank space",icon:OV,type:h.BANK},{name:"Change to Game Guy space",icon:NV,type:h.GAMEGUY},{name:"Change to invisible space",icon:DV,type:h.OTHER},{name:"Change to star space",icon:FV,type:h.STAR,advanced:!0},{name:"Change to start space",icon:RV,type:h.START,advanced:!0},{name:"Change to arrow space",icon:PV,type:h.ARROW}],tC=[{name:"Show Millenium Star",icon:XV,subtype:p.TOAD},{name:"Show Boo",icon:KV,subtype:p.BOO},{name:"Show bank",icon:jV,subtype:p.BANK},{name:"Show bank coin stack",icon:GV,subtype:p.BANKCOIN},{name:"Show item shop",icon:zV,subtype:p.ITEMSHOP}],rC=[{name:"Change to basic space",icon:sV,type:h.DUEL_BASIC},{name:"Change to Mini-Game space",icon:lV,type:h.MINIGAME},{name:"Change to reverse space",icon:uV,type:h.DUEL_REVERSE},{name:"Change to happening space",icon:cV,type:h.HAPPENING},{name:"Change to Game Guy space",icon:dV,type:h.GAMEGUY},{name:"Change to power-up space",icon:AV,type:h.DUEL_POWERUP},{name:"Change to invisible space",icon:DV,type:h.OTHER},{name:"Change to blue start space",icon:fV,type:h.DUEL_START_BLUE,advanced:!0},{name:"Change to red start space",icon:hV,type:h.DUEL_START_RED,advanced:!0}];var aC,iC=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onTypeChanged=function(n,t){e.props.typeChanged(n,t)},e}return i(t,[{key:"render",value:function(){var e=this.props.type;if(e===h.START&&!Ze(Oe.uiAdvanced))return null;var n=this.props.subtype,t=this.onTypeChanged,r=function(r){var a=r.type+"-"+r.subtype,i=e===r.type||e===h.OTHER&&void 0!==n&&n===r.subtype;return(0,Ne.jsx)(oC,{type:r.type,subtype:r.subtype,icon:r.icon,title:r.name,selected:i,typeChanged:t},a)},a=function(){var e=Hy(),n=[];switch(e.game){case 1:n=JV;break;case 2:n=$V;break;case 3:switch(e.type){case m.DUEL:n=rC;break;case m.NORMAL:default:n=nC}}return Ze(Oe.uiAdvanced)||(n=n.filter((function(e){return!e.advanced}))),n}().map(r),i=function(){var e=Hy(),n=[];switch(e.game){case 1:n=ZV;break;case 2:n=eC;break;case 3:n=e.type===m.DUEL?[]:tC}return Ze(Oe.uiAdvanced)||(n=n.filter((function(e){return!e.advanced}))),n}().map(r);return(0,Ne.jsxs)("div",{className:"rcSpaceToggleContainer",children:[a,(0,Ne.jsx)("br",{}),i]})}}]),t}(Le.Component),oC=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onTypeChanged=function(){void 0!==e.props.subtype&&e.props.selected?e.props.typeChanged(e.props.type,void 0):e.props.typeChanged(e.props.type,e.props.subtype)},e}return i(t,[{key:"render",value:function(){var e="rcSpaceToggleButton";this.props.selected&&(e+=" selected");var n=void 0!==this.props.subtype?25:20;return(0,Ne.jsx)("div",{className:e,title:this.props.title,onClick:this.onTypeChanged,children:(0,Ne.jsx)("img",{src:this.props.icon,height:n,width:n,alt:""})})}}]),t}(Le.Component);function sC(){var e=document.getElementById("dragZone");e.style.display="inline-block",e.ondragover||(e.ondragover=function(e){e.preventDefault()}),e.ondragenter||(e.ondragenter=function(n){e.className="hover"}),e.ondragleave||(e.ondragleave=function(n){e.className=""})}function lC(){var e=document.getElementById("dragZone");e.style.display="none",e.className="",document.getElementById("dragZone").ondrop=null}function uC(e){document.getElementById("dragZone").ondrop=e}function cC(e){aC=e}var dC=!1,AC=-1,fC=-1,hC=-1,pC=-1,mC=null;function SC(e){vC(e.currentTarget,e.clientX,e.clientY,e.ctrlKey)}function gC(e){if(1===e.touches.length){var n=e.touches[0];vC(e.currentTarget,n.clientX,n.clientY,e.ctrlKey)}}function vC(e,n,t,r){mC=e.getBoundingClientRect();var a=j(e,n,t),i=(0,xe.Z)(a,2),o=i[0],s=i[1];AC=hC=o,fC=pC=s;var l=MC(hC,pC);H("Clicked space: ".concat(W(l)," (").concat(l,")"),Hy().spaces[l]);var u=-1!==l;iw()&&u&&(Q_(g.MOVE),Z_(),fw(!0));var c=J_();switch(c){case g.MOVE:u?r?RC(l):PC(l)||LC(l):Z_();break;case g.ADD_OTHER:case g.ADD_BLUE:case g.ADD_RED:case g.ADD_MINIGAME:case g.ADD_HAPPENING:case g.ADD_STAR:case g.ADD_BLACKSTAR:case g.ADD_START:case g.ADD_CHANCE:case g.ADD_SHROOM:case g.ADD_BOWSER:case g.ADD_ITEM:case g.ADD_BATTLE:case g.ADD_BANK:case g.ADD_GAMEGUY:case g.ADD_ARROW:case g.MARK_STAR:case g.MARK_GATE:case g.ADD_TOAD_CHARACTER:case g.ADD_BOWSER_CHARACTER:case g.ADD_KOOPA_CHARACTER:case g.ADD_BOO_CHARACTER:case g.ADD_BANK_SUBTYPE:case g.ADD_BANKCOIN_SUBTYPE:case g.ADD_ITEMSHOP_SUBTYPE:case g.ADD_DUEL_BASIC:case g.ADD_DUEL_REVERSE:case g.ADD_DUEL_POWERUP:case g.ADD_DUEL_START_BLUE:case g.ADD_DUEL_START_RED:u?r?RC(l):PC(l)||LC(l):r||Z_();break;case g.LINE:case g.LINE_STICKY:case g.ROTATE:u?LC(l):Z_();break;case g.ERASE:Z_()}var d=ty(),A=Hy(),f=A.spaces[l];switch(c){case g.LINE:if(1===d.length){var h=d[0];ay(h.x,h.y,o,s),wE()&&yE(-1)}break;case g.LINE_STICKY:if(1===d.length){var p=d[0];if(f&&f!==p)Ew(vw(p,A),l),LC(l);else ay(p.x,p.y,o,s)}break;case g.ROTATE:break;case g.ERASE:-1!==l&&BC(A,l)?(gw(l),Z_()):NC(o,s);break;case g.ADD_OTHER:case g.ADD_BLUE:case g.ADD_RED:case g.ADD_MINIGAME:case g.ADD_HAPPENING:case g.ADD_STAR:case g.ADD_BLACKSTAR:case g.ADD_START:case g.ADD_CHANCE:case g.ADD_SHROOM:case g.ADD_BOWSER:case g.ADD_ITEM:case g.ADD_BATTLE:case g.ADD_BANK:case g.ADD_GAMEGUY:case g.ADD_ARROW:case g.ADD_DUEL_BASIC:case g.ADD_DUEL_REVERSE:case g.ADD_DUEL_POWERUP:case g.ADD_DUEL_START_BLUE:case g.ADD_DUEL_START_RED:kC(c,o,s,l,!1,r);break;case g.MARK_STAR:case g.MARK_GATE:case g.ADD_TOAD_CHARACTER:case g.ADD_BOWSER_CHARACTER:case g.ADD_KOOPA_CHARACTER:case g.ADD_BOO_CHARACTER:case g.ADD_BANK_SUBTYPE:case g.ADD_BANKCOIN_SUBTYPE:case g.ADD_ITEMSHOP_SUBTYPE:-1===l&&kC(c,o,s,l,!1,r);break;case g.MOVE:default:wE()&&yE(ny()[0])}dC=u}function xC(e){if(1===e.touches.length&&!B(ey())){e.preventDefault();var n=e.touches[0];yC(n.clientX-mC.left,n.clientY-mC.top)}}function _C(e){mC&&1===e.buttons&&yC(e.clientX-mC.left,e.clientY-mC.top)}function yC(e,n){if(!iw()){e=Math.round(e),n=Math.round(n);var t=J_(),r=ny(),a=ty(),i=Hy(),o=MC(e,n);switch(t){case g.LINE:if(1===a.length){var s=a[0];ay(s.x,s.y,e,n),wE()&&yE(-1)}break;case g.LINE_STICKY:if(1===a.length){var l=a[0],u=i.spaces[o];if(u&&u!==l)Ew(vw(l,i),o),LC(o);else ay(l.x,l.y,e,n)}break;case g.ROTATE:if(1===a.length){var c=a[0];if(c.type===h.ARROW){var d=function(e,n,t,r){var a=t-e,i=r-n,o=Math.atan2(i,a);return o<0?Math.abs(o):Math.abs(o-Math.PI)+Math.PI}(c.x,c.y,e,n),A=(1.5*Math.PI+d)%(2*Math.PI),f=180*A/Math.PI;!function(e,n){Sx.dispatch(Fg({spaceIndex:e,angleYAxisDeg:n}))}(vw(c,i),f)}}break;case g.ERASE:-1!==o&&BC(i,o)?(gw(o),Z_()):NC(e,n);break;case g.MOVE:case g.ADD_OTHER:case g.ADD_BLUE:case g.ADD_RED:case g.ADD_MINIGAME:case g.ADD_HAPPENING:case g.ADD_STAR:case g.ADD_BLACKSTAR:case g.ADD_START:case g.ADD_CHANCE:case g.ADD_SHROOM:case g.ADD_BOWSER:case g.ADD_ITEM:case g.ADD_BATTLE:case g.ADD_BANK:case g.ADD_GAMEGUY:case g.ADD_ARROW:case g.MARK_STAR:case g.MARK_GATE:case g.ADD_TOAD_CHARACTER:case g.ADD_BOWSER_CHARACTER:case g.ADD_KOOPA_CHARACTER:case g.ADD_BOO_CHARACTER:case g.ADD_BANK_SUBTYPE:case g.ADD_BANKCOIN_SUBTYPE:case g.ADD_ITEMSHOP_SUBTYPE:case g.ADD_DUEL_BASIC:case g.ADD_DUEL_REVERSE:case g.ADD_DUEL_POWERUP:case g.ADD_DUEL_START_BLUE:case g.ADD_DUEL_START_RED:default:var p=!dC&&t===g.MOVE;if(!p&&a.length){var m,S=e-hC,v=n-pC,x=[],_=[],y=L(r);try{for(y.s();!(m=y.n()).done;){var w=m.value,b=i.spaces[w];if(b){x.push(w);var V=Math.round(b.x)+S,C=Math.round(b.y)+v;_.push({x:Math.max(0,Math.min(V,i.bg.width)),y:Math.max(0,Math.min(C,i.bg.height))})}}}catch(E){y.e(E)}finally{y.f()}x.length&&Sx.dispatch(Vg({spaceIndices:x,coords:_})),wE()&&yE(r[0])}p&&function(e,n){if(-1===AC||-1===fC)return;Z_();for(var t=Hy().spaces,r=[],a=0;a<t.length;a++){var i=t[a];Fe(i.x,i.y,AC,fC,e,n)&&r.push(a)}$_(r),function(e,n,t,r){Sx.dispatch(Bg({selectionCoords:[e,n,t,r]}))}(AC,fC,e,n)}(e,n)}hC=e,pC=n}}function wC(e){0===e.button&&VC()}function bC(e){1===e.touches.length&&VC()}function VC(){if(!iw())switch(J_()){case g.MOVE:dC||jC();break;case g.LINE:var e=ny(),n=MC(hC,pC);if(-1!==n){var t,r=L(e);try{for(r.s();!(t=r.n()).done;){Ew(t.value,n)}}catch(a){r.e(a)}finally{r.f()}}OC();break;case g.LINE_STICKY:OC()}}function CC(e){if(!iw()){var n=Math.abs(AC-hC)>5||Math.abs(fC-pC)>5,t=Math.abs(AC-hC)>0||Math.abs(fC-pC)>0;AC=hC=-1,fC=pC=-1;var r=e.ctrlKey,a=Math.round(e.clientX),i=Math.round(e.clientY),o=a-Math.round(mC.left),s=i-Math.round(mC.top),l=MC(o,s),u=Hy(),c=-1===l?null:u.spaces[l];if(0===e.button){var d=J_();switch(d){case g.MOVE:case g.ADD_OTHER:case g.ADD_BLUE:case g.ADD_RED:case g.ADD_MINIGAME:case g.ADD_HAPPENING:case g.ADD_STAR:case g.ADD_BLACKSTAR:case g.ADD_START:case g.ADD_CHANCE:case g.ADD_SHROOM:case g.ADD_BOWSER:case g.ADD_ITEM:case g.ADD_BATTLE:case g.ADD_BANK:case g.ADD_GAMEGUY:case g.ADD_ARROW:case g.ADD_DUEL_BASIC:case g.ADD_DUEL_REVERSE:case g.ADD_DUEL_POWERUP:case g.ADD_DUEL_START_BLUE:case g.ADD_DUEL_START_RED:t||r||(c?LC(l):Z_());break;case g.MARK_GATE:case g.ADD_TOAD_CHARACTER:case g.ADD_BOWSER_CHARACTER:case g.ADD_KOOPA_CHARACTER:case g.ADD_BOO_CHARACTER:case g.ADD_BANK_SUBTYPE:case g.ADD_BANKCOIN_SUBTYPE:case g.ADD_ITEMSHOP_SUBTYPE:dC&&kC(d,o,s,l,n,r),t||r||(c?LC(l):Z_());break;case g.MARK_STAR:n||function(e){if(!e.length)return;var n,t=!1,r=Hy(),a=L(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(!r.spaces[i].star){t=!0;break}}}catch(o){a.e(o)}finally{a.f()}pw(e,t)}(ny());break;case g.LINE:case g.LINE_STICKY:OC();case g.ERASE:case g.ROTATE:}dC=!1}}}function EC(e){e.preventDefault(),e.stopPropagation();var n=ny();yE(1!==n.length?-1:n[0])}function DC(e){if(e.preventDefault(),!iw()&&(wE()&&yE(-1),e.dataTransfer)){var n;try{n=JSON.parse(e.dataTransfer.getData("text"))}catch(l){return}var t=e.currentTarget,r=j(t,e.clientX,e.clientY),a=(0,xe.Z)(r,2),i=a[0],o=a[1];mC=t.getBoundingClientRect();var s=MC(i,o);if("object"===typeof n)if(n.action)Z_(),kC(n.action.type,i,o,s,!1,!1);else if(n.isEventParamDrop){aC&&aC(s)}}}function FC(e){var n=ty();if(n&&n.length){var t=ny(),r=Hy();switch(e.key){case"Up":case"ArrowUp":IC(t,r,(function(e){return{y:Math.max(e.y-1,0)}}));break;case"Down":case"ArrowDown":IC(t,r,(function(e){return{y:Math.min(e.y+1,r.bg.height)}}));break;case"Left":case"ArrowLeft":IC(t,r,(function(e){return{x:Math.max(e.x-1,0)}}));break;case"Right":case"ArrowRight":IC(t,r,(function(e){return{x:Math.min(e.x+1,r.bg.width)}}));break;case"Delete":var a=!1;if(n.forEach((function(e){void 0!==e.subtype&&(a=!0)})),a)Sx.dispatch(Eg({spaceIndices:t,subtype:void 0}));else{var i=[];t.forEach((function(e){BC(r,e)&&i.push(e)})),i.length>0&&Sx.dispatch(bg({spaceIndices:i})),Z_()}}}}function TC(e){if(0===e.button&&!iw()){var n=J_();!dC&&n===g.MOVE&&(jC(),AC=hC=-1,fC=pC=-1)}}function PC(e){return!!rv(Sx.getState())[e]}function RC(e){Sx.dispatch(Tg(e))}function LC(e){Sx.dispatch(Pg(e))}function MC(e,n){for(var t=Hy(),r=3===Hy().game?14:8,a=-1,i=0;i<t.spaces.length;i++){var o=t.spaces[i];o&&(Math.abs(o.x-e)<=r&&Math.abs(o.y-n)<=r&&(a=i))}return a}function BC(e,n){var t=e.spaces[n];if(!t)return!1;if(t.type===h.START){var r=function(e){for(var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hy()).spaces,t=[],r=0;r<n.length;r++)n[r]&&n[r].type===e&&t.push(r);return t}(h.START,e);return r.length>1}return!0}function kC(e,n,t,r,a,i){var o=Hy().spaces[r],s=function(e){switch(e){case g.ADD_BLUE:return h.BLUE;case g.ADD_RED:return h.RED;case g.ADD_HAPPENING:return h.HAPPENING;case g.ADD_STAR:return h.STAR;case g.ADD_BLACKSTAR:return h.BLACKSTAR;case g.ADD_MINIGAME:return h.MINIGAME;case g.ADD_CHANCE:return h.CHANCE;case g.ADD_START:return h.START;case g.ADD_SHROOM:return h.SHROOM;case g.ADD_BOWSER:return h.BOWSER;case g.ADD_ITEM:return h.ITEM;case g.ADD_BATTLE:return h.BATTLE;case g.ADD_BANK:return h.BANK;case g.ADD_ARROW:return h.ARROW;case g.ADD_GAMEGUY:return h.GAMEGUY;case g.ADD_DUEL_BASIC:return h.DUEL_BASIC;case g.ADD_DUEL_REVERSE:return h.DUEL_REVERSE;case g.ADD_DUEL_POWERUP:return h.DUEL_POWERUP;case g.ADD_DUEL_START_BLUE:return h.DUEL_START_BLUE;case g.ADD_DUEL_START_RED:return h.DUEL_START_RED;default:return h.OTHER}}(e),l=function(e){switch(e){case g.ADD_TOAD_CHARACTER:return p.TOAD;case g.ADD_BOWSER_CHARACTER:return p.BOWSER;case g.ADD_KOOPA_CHARACTER:return p.KOOPA;case g.ADD_BOO_CHARACTER:return p.BOO;case g.ADD_BANK_SUBTYPE:return p.BANK;case g.ADD_BANKCOIN_SUBTYPE:return p.BANKCOIN;case g.ADD_ITEMSHOP_SUBTYPE:return p.ITEMSHOP;case g.MARK_GATE:return p.GATE;default:return}}(e),u=!1;if(o)void 0===l||a||(o.subtype===l?Sx.dispatch(Eg({spaceIndices:[r],subtype:void 0})):function(e,n){if(e!==h.OTHER&&n===p.GATE)return!1;return!0}(o.type,l)&&Sx.dispatch(Eg({spaceIndices:[r],subtype:l})),$_([r]),u=!0);else{var c=mw(n,t,s,l);i?RC(c):$_([c]),u=!0}return u}function IC(e,n,t){var r,a=[],i=[],o=L(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=n.spaces[s];l&&(a.push(s),i.push(t(l)))}}catch(u){o.e(u)}finally{o.f()}a.length&&Sx.dispatch(Vg({spaceIndices:a,coords:i}))}function OC(){Sx.dispatch(_g({connections:null}))}function NC(e,n){Sx.dispatch(xg({x:e,y:n}))}function jC(){Sx.dispatch(Bg({selectionCoords:null}))}function UC(e){e.preventDefault()}function GC(e){e.addEventListener("contextmenu",EC,!1),e.addEventListener("click",CC,!1),e.addEventListener("mousedown",SC,!1),e.addEventListener("mousemove",_C,!1),e.addEventListener("mouseup",wC,!1),e.addEventListener("mouseout",TC,!1),e.addEventListener("touchstart",gC,!1),e.addEventListener("touchmove",xC,!1),e.addEventListener("touchend",bC,!1),e.addEventListener("drop",DC,!1),e.addEventListener("dragover",UC,!1),e.addEventListener("keydown",FC,!1)}function zC(e){e.removeEventListener("contextmenu",EC),e.removeEventListener("click",CC),e.removeEventListener("mousedown",SC),e.removeEventListener("mousemove",_C),e.removeEventListener("mouseup",wC),e.removeEventListener("mouseout",TC),e.removeEventListener("touchstart",gC),e.removeEventListener("touchmove",xC),e.removeEventListener("touchend",bC),e.removeEventListener("drop",DC),e.removeEventListener("dragover",UC),e.removeEventListener("keydown",FC)}var HC=[[166,189,215],[128,62,117],[255,179,0],[0,83,138],[255,104,0],[129,112,102],[193,0,32],[206,162,98],[0,125,52],[246,118,142],[255,122,92],[83,55,122],[255,142,0],[179,40,81],[244,200,0],[127,24,13],[147,170,0],[89,51,21],[241,58,19],[35,44,22]];function WC(e){return HC[e%HC.length]}function XC(){return KC.apply(this,arguments)}function KC(){return KC=O(k().mark((function e(){var n,t,r,a,i,o,s=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},t=Hy(),(r=N(t.bg.width,t.bg.height)).fillStyle="black",r.fillRect(0,0,t.bg.width,t.bg.height),a=QC(),e.next=8,n_(a,t.bg.width,t.bg.height);case 8:return i=e.sent,r.putImageData(i,0,0),o=G(),z(!1),n.renderConnections&&VE.renderConnections(r.canvas,r,t,!1),VE.renderSpaces(r.canvas,r,t,!1,{skipCharacters:!n.renderCharacters,skipHiddenSpaces:!n.renderHiddenSpaces,skipBadges:!n.renderBadges}),z(o),e.abrupt("return",{canvas:r.canvas,dataUri:r.canvas.toDataURL(),blobPromise:new Promise((function(e){r.canvas.toBlob(e)}))});case 16:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}var qC=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={renderConnections:!0,renderCharacters:!0,renderHiddenSpaces:!0,renderBadges:!0},e.takeScreenshot=O(k().mark((function n(){var t,r,a;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,XC({renderConnections:e.state.renderConnections,renderCharacters:e.state.renderCharacters,renderHiddenSpaces:e.state.renderHiddenSpaces,renderBadges:e.state.renderBadges});case 2:t=n.sent,r=t.dataUri,a=t.blobPromise,e.props.onAccept&&e.props.onAccept(r,a);case 6:case"end":return n.stop()}}),n)}))),e.onCheckChanged=function(n){var t={};t[n]=!c(e).state[n],e.setState(t)},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsxs)("div",{className:"screenshotContainer",children:[(0,Ne.jsx)("label",{className:"nbLabel",children:"Screenshot Options"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(YC,{id:"renderConnections",text:"Render connections",checked:this.state.renderConnections,onChange:this.onCheckChanged}),(0,Ne.jsx)(YC,{id:"renderCharacters",text:"Render characters",checked:this.state.renderCharacters,onChange:this.onCheckChanged}),(0,Ne.jsx)(YC,{id:"renderHiddenSpaces",text:"Render hidden spaces",checked:this.state.renderHiddenSpaces,onChange:this.onCheckChanged}),(0,Ne.jsx)(YC,{id:"renderBadges",text:"Render badges",checked:this.state.renderBadges,onChange:this.onCheckChanged}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(je,{onClick:this.takeScreenshot,css:"ssCreate",children:"Take Screenshot"})]})}}]),t}(Le.Component),YC=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onChange=function(){e.props.onChange(e.props.id)},e}return i(t,[{key:"render",value:function(){var e="ssCheck";return this.props.css&&(e+=" "+this.props.css),(0,Ne.jsxs)("label",{className:e,title:"",children:[(0,Ne.jsx)("input",{type:"checkbox",onChange:this.onChange,checked:this.props.checked}),this.props.text]})}}]),t}(Le.Component);function QC(){return Sx.getState().app.overrideBg||Hy().bg.src}function JC(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r&&n.clearRect(0,0,e.width,e.height);var a=t.links;if(a)for(var i in a)for(var o=t.spaces[i].x,s=t.spaces[i].y,l=Vw(parseInt(i),t),u=void 0,c=void 0,d=!1,A=0;A<l.length;A++)u=t.spaces[l[A]].x,c=t.spaces[l[A]].y,(d=ZC(a,l[A],i))&&parseInt(i)>l[A]||rE(n,o,s,u,c,d)}function ZC(e,n,t){var r=e[n];return Array.isArray(r)?r.indexOf(parseInt(t))>=0:r==t}function $C(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r&&n.clearRect(0,0,e.width,e.height);for(var i=0;i<t.spaces.length;i++){var o=t.spaces[i];null!==o&&eE(n,t,o,i,a)}}function eE(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=n.game||1,o=n.type||m.NORMAL,s=t.x,l=t.y,u=t.rotation,c=t.type,d=t.subtype;if("number"===typeof u){e.save(),e.translate(s,l);var A=-u;e.rotate(Pe(A)),e.translate(-s,-l)}switch(c){case h.OTHER:if(a.skipHiddenSpaces)break;3===i?oV.drawOther3(e,s,l):oV.drawOther(e,s,l);break;case h.BLUE:3===i?oV.drawBlue3(e,s,l):oV.drawBlue(e,s,l);break;case h.RED:3===i?oV.drawRed3(e,s,l):oV.drawRed(e,s,l);break;case h.MINIGAME:o===m.DUEL?oV.drawMiniGameDuel3(e,s,l):oV.drawMiniGame(e,s,l);break;case h.HAPPENING:3===i?o===m.DUEL?oV.drawHappeningDuel3(e,s,l):oV.drawHappening3(e,s,l):oV.drawHappening(e,s,l);break;case h.STAR:3===i?oV.drawStar3(e,s,l):oV.drawStar(e,s,l);break;case h.CHANCE:3===i?oV.drawChance3(e,s,l):2===i?oV.drawChance2(e,s,l):oV.drawChance(e,s,l);break;case h.START:if(a.skipHiddenSpaces)break;3===i?oV.drawStart3(e,s,l):oV.drawStart(e,s,l);break;case h.SHROOM:oV.drawShroom(e,s,l);break;case h.BOWSER:3===i?oV.drawBowser3(e,s,l):oV.drawBowser(e,s,l);break;case h.ITEM:3===i?oV.drawItem3(e,s,l):oV.drawItem2(e,s,l);break;case h.BATTLE:3===i?oV.drawBattle3(e,s,l):oV.drawBattle2(e,s,l);break;case h.BANK:3===i?oV.drawBank3(e,s,l):oV.drawBank2(e,s,l);break;case h.ARROW:oV.drawArrow(e,s,l,i);break;case h.BLACKSTAR:oV.drawBlackStar2(e,s,l);break;case h.GAMEGUY:o===m.DUEL?oV.drawGameGuyDuel3(e,s,l):oV.drawGameGuy3(e,s,l);break;case h.DUEL_BASIC:oV.drawDuelBasic(e,s,l);break;case h.DUEL_START_BLUE:if(a.skipHiddenSpaces)break;oV.drawStartDuelBlue(e,s,l);break;case h.DUEL_START_RED:if(a.skipHiddenSpaces)break;oV.drawStartDuelRed(e,s,l);break;case h.DUEL_POWERUP:oV.drawDuelPowerup(e,s,l);break;case h.DUEL_REVERSE:oV.drawDuelReverse(e,s,l);break;default:oV.drawUnknown(e,s,l)}if("number"===typeof u&&e.restore(),a.skipCharacters||nE(e,s,l,d,i),!a.skipBadges){var f=3===i?5:2,S=3===i?16:12;if(t.events&&t.events.length){var g=l+f;c===h.START&&(g-=S),e.drawImage(aE(t,n),s+f,g)}if(t.star){var v=l+f;c===h.START&&(v-=S),e.drawImage(aV("starImg"),s-f-9,v)}if(t.subtype===p.GATE){var x=s-f-9,_=l+f-5;e.drawImage(aV("gateImg"),x,_)}}if(G()){e.save(),e.fillStyle="white",e.strokeStyle="black",e.lineWidth=2,e.font="bold 6pt Courier New",e.textAlign="center";var y=r.toString();e.strokeText(y,s,l-2),e.fillText(y,s,l-2),y=W(r),e.strokeText(y,s,l+8),e.fillText(y,s,l+8),e.restore()}}function nE(e,n,t,r,a){r===p.TOAD&&(3===a?e.drawImage(aV("mstarImg"),n-15,t-22):e.drawImage(aV("toadImg"),n-9,t-22)),r===p.BOWSER&&e.drawImage(aV("bowserImg"),n-27,t-45),r===p.KOOPA&&e.drawImage(aV("koopaImg"),n-12,t-22),r===p.BOO&&e.drawImage(aV("booImg"),n-13,t-17),r===p.GOOMBA&&e.drawImage(aV("goombaImg"),n-8,t-12),r===p.BANK&&(2===a?e.drawImage(aV("bank2Img"),n-9,t-10):e.drawImage(aV("bank3Img"),n-17,t-20)),r===p.BANKCOIN&&e.drawImage(aV("bankcoinImg"),n-10,t-9),r===p.ITEMSHOP&&(2===a?e.drawImage(aV("itemShop2Img"),n-9,t-10):e.drawImage(aV("itemShop3Img"),n-16,t-20))}var tE=Math.PI/1;function rE(e,n,t,r,a,i){e.save(),e.beginPath(),e.strokeStyle="rgba(255, 185, 105, 0.75)",e.lineCap="round",e.lineWidth=8,e.moveTo(n,t),e.lineTo(r,a),e.stroke();var o=(n+r)/2,s=(t+a)/2;e.translate(o,s),e.rotate(-Math.atan2(n-o,t-s)+tE),e.fillStyle="#A15000";var l=i?3:0;e.moveTo(-4,-2+l),e.lineTo(0,2+l),e.lineTo(4,-2+l),e.fill(),i&&(e.moveTo(-4,2-l),e.lineTo(0,-2-l),e.lineTo(4,2-l),e.fill()),e.restore()}function aE(e,n){if(e.events&&e.events.length)for(var t=0;t<e.events.length;t++){var r=e.events[t],a=My(r.id,n,xx());if(!a)return aV("eventErrorImg");if(a.parameters)for(var i=0;i<a.parameters.length;i++){var o=a.parameters[i];if(!P(o.type)&&(!r.parameterValues||!r.parameterValues.hasOwnProperty(o.name)))return aV("eventErrorImg")}}return aV("eventImg")}var iE,oE=function(){var e=DE(),n=(0,xe.Z)(e,2),t=n[0],r=n[1],a=(0,Le.useContext)(xE),i=(0,xe.Z)(a,2),o=i[0],s=i[1],l=Lv((function(e){return Zg(e).bg.src})),u=Lv((function(e){return e.app.overrideBg})),c=(0,Le.useRef)(null);(0,Le.useEffect)((function(){var e=c.current,n=CE(t,r,o,s);e.style.transform=n,e.width=t,e.height=r}),[t,r,o,s]);var d=u||l;return(0,Ne.jsx)("img",{ref:c,className:"editor_bg",alt:"Board Background",src:d})},sE=-1;function lE(){iE&&clearInterval(iE),iE=null,sE=-1,uy(null)}function uE(){var e=Hy(),n=e.animbg;n&&n.length?(sE>=0&&sE<n.length?(uy(n[sE]),sE++):sE=-1,-1===sE&&(uy(e.bg.src),sE++)):lE()}var cE=function(){var e=(0,Le.useRef)(null),n=Mv(),t=DE(),r=(0,xe.Z)(t,2),a=r[0],i=r[1],o=Lv(tv);return EE(e,a,i),(0,Le.useEffect)((function(){var t=e.current,r=t.getContext("2d");if(JC(t,r,n,!0),o){var a,i=L(o);try{for(i.s();!(a=i.n()).done;){var s=a.value,l=(0,xe.Z)(s,4);rE(r,l[0],l[1],l[2],l[3],!1)}}catch(u){i.e(u)}finally{i.f()}}}),[n,o]),(0,Ne.jsx)("canvas",{ref:e,className:"editor_line_canvas"})},dE=function(){var e=(0,Le.useRef)(null),n=Mv(),t=DE(),r=(0,xe.Z)(t,2),a=r[0],i=r[1],o=Lv(rv);return EE(e,a,i),(0,Le.useEffect)((function(){var t=e.current;!function(e,n,t,r){if(n.clearRect(0,0,e.width,e.height),r){var a=Object.keys(r).map((function(e){return parseInt(e,10)}));if(1===a.length){var i,o=a[0],s=xx(),l=0;Qy(t,s,(function(e,r,a,s,u){if(o===u){var c;switch(i!==r&&(l=0),i=r,e.type){case D.Space:var d=r.parameterValues&&r.parameterValues[e.name];"number"===typeof d&&(c=[d]);break;case D.SpaceArray:c=r.parameterValues&&r.parameterValues[e.name]}c&&c.forEach((function(e){var r=t.spaces[e];if(r){var a="rgba(".concat(WC(l).join(", "),", 0.9)");!function(e,n,t,r,a,i){e.save(),e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.5)",e.setLineDash([1,8]),e.lineCap="round",e.lineWidth=6,e.moveTo(n,t),e.lineTo(r,a),e.stroke(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=i,e.setLineDash([1,8]),e.lineCap="round",e.lineWidth=4,e.moveTo(n,t),e.lineTo(r,a),e.stroke(),e.restore()}(n,s.x,s.y,r.x,r.y,a),l++}}))}}))}}}(t,t.getContext("2d"),n,o)}),[n,o]),(0,Ne.jsx)("canvas",{ref:e,className:"editor_association_canvas"})},AE=function(){var e=(0,Le.useRef)(null),n=Mv(),t=DE(),r=(0,xe.Z)(t,2),a=r[0],i=r[1],o=Lv(rv),s=Lv(nv),l=Lv(ev);return EE(e,a,i),(0,Le.useEffect)((function(){var t=e.current,r=t.getContext("2d");if(function(e,n,t,r){if(n.clearRect(0,0,e.width,e.height),r&&!B(r))for(var a in r){var i=t.spaces[parseInt(a,10)];if(i){n.save(),n.beginPath();var o=3===Hy().game?18:12;n.arc(i.x,i.y,o,0,2*Math.PI),n.setLineDash([2,2]),n.lineWidth=2,n.fillStyle="rgba(47, 70, 95, 0.35)",n.strokeStyle="rgba(47, 70, 95, 1)",n.fill(),n.stroke(),n.restore()}}}(t,r,n,o),s&&function(e,n,t){for(var r=Hy(),a=3===r.game?18:12,i=0;i<t.length;i++){var o=r.spaces[t[i]];o&&(n.save(),n.beginPath(),n.arc(o.x,o.y,a,0,2*Math.PI),n.shadowColor="rgba(225, 225, 225, 1)",n.shadowBlur=2,n.fillStyle="rgba(255, 0, 0, 0.85)",n.fill(),n.restore())}}(0,r,s),l>=0){var a,i=null===(a=n.boardevents)||void 0===a?void 0:a[l];i&&function(e,n,t){var r,a,i=Hy(),o=xx(),s=3===i.game?18:12,l=My(t.id,i,o);if(X(!!l),l.parameters){var u,c=0,d=L(l.parameters);try{for(d.s();!(u=d.n()).done;){var A=u.value,f=void 0;switch(A.type){case D.Space:var h=null===(r=t.parameterValues)||void 0===r?void 0:r[A.name];"number"===typeof h&&(f=[h]);break;case D.SpaceArray:var p=null===(a=t.parameterValues)||void 0===a?void 0:a[A.name];Array.isArray(p)&&(f=p)}if(f){var m,S=L(f);try{for(S.s();!(m=S.n()).done;){var g=m.value,v=i.spaces[g];v&&(n.save(),n.beginPath(),n.arc(v.x,v.y,s,0,2*Math.PI),n.shadowColor="rgba(225, 225, 225, 1)",n.shadowBlur=2,n.fillStyle="rgba(".concat(WC(c).join(", "),", 0.9)"),n.fill(),n.restore(),c++)}}catch(x){S.e(x)}finally{S.f()}}}}catch(x){d.e(x)}finally{d.f()}}}(0,r,i)}}),[n,o,s,l]),(0,Ne.jsx)("canvas",{ref:e,className:"editor_current_space_canvas"})},fE=function(){var e=(0,Le.useRef)(null),n=Mv(),t=DE(),r=(0,xe.Z)(t,2),a=r[0],i=r[1],o=Lv((function(e){return e.app.imagesLoaded}));return EE(e,a,i),(0,Le.useEffect)((function(){var t=e.current;o&&$C(t,t.getContext("2d"),n)}),[n,o]),(0,Le.useEffect)((function(){var n=e.current;if(n)return GC(n),function(){return zC(n)}}),[]),(0,Ne.jsx)("canvas",{className:"editor_space_canvas",tabIndex:-1,ref:e,onDragOver:void 0})},hE=function(){var e=(0,Le.useRef)(null),n=(0,Le.useRef)(!1),t=Lv($g);(0,Le.useEffect)((function(){var r=e.current,a=r.getContext("2d");if((t||!t&&n.current)&&(a.clearRect(0,0,r.width,r.height),n.current=!1),t){var i=(0,xe.Z)(t,4),o=i[0],s=i[1],l=i[2],u=i[3];a.save(),a.beginPath(),a.fillStyle="rgba(47, 70, 95, 0.5)",a.strokeStyle="rgba(47, 70, 95, 1)",a.fillRect(Math.min(o,l),Math.min(s,u),Math.abs(o-l),Math.abs(s-u)),a.strokeRect(Math.min(o,l),Math.min(s,u),Math.abs(o-l),Math.abs(s-u)),a.restore(),n.current=!0}}),[t]);var r=DE(),a=(0,xe.Z)(r,2),i=a[0],o=a[1];return EE(e,i,o),(0,Le.useEffect)((function(){var n=e.current;if(n)return GC(n),function(){return zC(n)}}),[]),(0,Ne.jsx)("canvas",{className:"editor_space_canvas",tabIndex:-1,ref:e,onDragOver:void 0})},pE=(0,Le.forwardRef)((function(e,n){var t=(0,Le.useState)(-1),r=(0,xe.Z)(t,2),a=r[0],i=r[1],o=(0,Le.useRef)(null),s=DE(),l=(0,xe.Z)(s,2),u=l[0],c=l[1],d=(0,Le.useContext)(xE),A=(0,xe.Z)(d,2),f=A[0],h=A[1],p=(0,Le.useCallback)((function(){var e=o.current,n=CE(u,c,f,h);e.style.transform=n}),[u,c,f,h]),m=(0,Le.useCallback)((function(e){i(e)}),[]),S=(0,Le.useCallback)((function(){return a>=0}),[a]);(0,Le.useImperativeHandle)(n,(function(){return{renderContent:p,setRightClickMenu:m,rightClickOpen:S}}),[p,m,S]),(0,Le.useEffect)((function(){p()}));var g=Mv().spaces[a]||null;return(0,Ne.jsx)("div",{ref:o,className:"editor_menu_overlay",children:S()&&(0,Ne.jsx)(QV,{space:g,spaceIndex:a})})}));function mE(e){var n=1,t=1;switch(e){case 1:case 2:break;case 3:n=.785,t=.805}return{N64_WIDTH_ZOOMED:320*n,N64_HEIGHT_ZOOMED:240*t}}function SE(e,n){var t=n.getContext("2d");t.lineWidth=1,t.strokeStyle="rgba(0, 0, 0, 0.5)";var r=e.bg,a=r.width,i=r.height,o=mE(e.game),s=o.N64_WIDTH_ZOOMED,l=o.N64_HEIGHT_ZOOMED;t.strokeRect(s/2,l/2,a-s,i-l)}var gE,vE=function(){var e=(0,Le.useRef)(null),n=(0,Le.useRef)(null),t=Mv(),r=DE(),a=(0,xe.Z)(r,2),i=a[0],o=a[1];EE(e,i,o),(0,Le.useEffect)((function(){var n=e.current;SE(t,n)}),[t]),(0,Le.useEffect)((function(){O(k().mark((function e(){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XC({renderCharacters:!0});case 2:r=e.sent,n.current=r.canvas,SE(t,n.current);case 5:case"end":return e.stop()}}),e)})))()}),[t]);var s=(0,Le.useCallback)((function(r){var a=e.current,i=a.getContext("2d"),o=n.current;if(o){var s=j(a,r.clientX,r.clientY),l=(0,xe.Z)(s,2),u=l[0],c=l[1],d=t.bg,A=d.width,f=d.height,h=mE(t.game),p=h.N64_WIDTH_ZOOMED,m=h.N64_HEIGHT_ZOOMED,S=Math.max(0,u-p/2),g=Math.max(0,c-m/2),v=p,x=m;A-S<p&&(S=A-p),f-g<m&&(g=f-m),H("Viewing (".concat(S,", ").concat(g,") - (").concat(S+v,", ").concat(g+x,")\nMouse: (").concat(u,", ").concat(c)),i.drawImage(o,S,g,v,x,0,0,A,f);var _=12*(f/240),y=16*(A/320);i.fillStyle="black",i.fillRect(0,0,A,_),i.fillRect(A-y,0,y,f),i.fillRect(0,f-_,A,_),i.fillRect(0,0,y,f)}}),[t]),l=(0,Le.useCallback)((function(){var n=e.current;n.getContext("2d").clearRect(0,0,n.width,n.height),SE(t,n)}),[t]);return(0,Ne.jsx)("canvas",{ref:e,className:"editor_telescope_viewer",onMouseMove:s,onMouseLeave:l})},xE=Le.createContext([0,0]),_E=function(){var e=(0,Le.useRef)(null),n=(0,Le.useState)(0),t=(0,xe.Z)(n,2),r=t[0],a=t[1],i=(0,Le.useState)(0),o=(0,xe.Z)(i,2),s=o[0],l=o[1],u=(0,Le.useMemo)((function(){return[r,s]}),[r,s]),c=(0,Le.useCallback)((function(){var n=e.current;n&&(a(n.offsetWidth),l(n.offsetHeight))}),[]);(0,Le.useEffect)((function(){return window.addEventListener("resize",c,!1),c(),function(){return window.removeEventListener("resize",c)}}),[c]);var d=Lv((function(e){return e.app.currentAction===g.TELESCOPE}));return(0,Ne.jsx)("div",{ref:e,className:"editor",children:(0,Ne.jsxs)(xE.Provider,{value:u,children:[(0,Ne.jsx)(oE,{}),(0,Ne.jsx)(cE,{}),(0,Ne.jsx)(dE,{}),(0,Ne.jsx)(AE,{}),(0,Ne.jsx)(fE,{}),(0,Ne.jsx)(hE,{}),(0,Ne.jsx)(pE,{ref:function(e){return gE=e}}),d&&(0,Ne.jsx)(vE,{})]})})};function yE(e){gE&&gE.setRightClickMenu(e)}function wE(){return!!gE&&gE.rightClickOpen()}function bE(){return!!iE}var VE={renderConnections:JC,renderSpaces:$C};function CE(e,n,t,r){var a=Math.floor((t-e)/2);a=Math.max(0,a);var i=Math.floor((r-n)/2);return i=Math.max(0,i),"translateX(".concat(a,"px) translateY(").concat(i,"px)")}function EE(e,n,t){var r=(0,Le.useContext)(xE),a=(0,xe.Z)(r,2),i=a[0],o=a[1];(0,Le.useLayoutEffect)((function(){var r=e.current,a=CE(n,t,i,o);r.style.transform=a,r.width===n&&r.height===t||(r.width=n,r.height=t)}),[e,n,t,i,o])}function DE(){var e=Lv((function(e){return Zg(e).bg.width})),n=Lv((function(e){return Zg(e).bg.height}));return(0,Le.useMemo)((function(){return[e,n]}),[e,n])}var FE,TE,PE,RE=__webpack_require__(2500),LE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIYAjI6HQXEnwAAABhJREFUKM9jVOAr/M9AAmBiIBGMahgpGgDPZgG2Ib/wLgAAAABJRU5ErkJggg==",ME="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEg8rE86gTQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAjUlEQVQoz2NkgAI2kYb/DHjArzcNjAwMDAwsMMUBNcX41DNsaGH4/+tNAyMDm0jD/7AJn/8L6f7/L6T7HwPAxMMmfP7PJtLwn4WBgYFhz1weBgYGBoa3lxgYhPVQTYaJwdQwMZAISNbAgi7w9hKJGrD5gSInkayBERZxPJL1eBV+ed7I8OtNAyMjqUkDAL98Qt1lcctCAAAAAElFTkSuQmCC",BE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEjYGWJVxggAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAX0lEQVQoz2NgGPqAkYGBgaGqqvM/SRoU+AqJ1sBEqpOYGBgYGDoW6hCluGOhDsRJDAwMDCvWz/1fEX8Fr+KIwGRGRmRBXJpgirGatGL93P8KfIVwvGL9XMIBAtOETTEA6zknEbSumrwAAAAASUVORK5CYII=",kE=RE.Editor,IE=RE.EditorState,OE=RE.ContentState,NE=RE.SelectionState,jE=RE.Modifier,UE=RE.RichUtils,GE=RE.CompositeDecorator;!function(e){e[e.Light=0]="Light",e[e.Dark=1]="Dark"}(FE||(FE={})),function(e){e[e.Edit=0]="Edit",e[e.Readonly=1]="Readonly",e[e.Display=2]="Display"}(TE||(TE={})),function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom"}(PE||(PE={}));var zE=(0,Le.forwardRef)((function(e,n){var t=(0,Le.useRef)(null),r=(0,Le.useCallback)((function(){var e;null===(e=t.current)||void 0===e||e.focus()}),[]);(0,Le.useImperativeHandle)(n,(function(){return{focus:r}}),[r]);var a,i=(0,Le.useRef)(e.value),o=(0,Le.useCallback)((function(){return e.value?eD.stringToEditorState(e.value):IE.createEmpty()}),[e.value]),s=(0,Le.useState)(o),l=(0,xe.Z)(s,2),u=l[0],c=l[1];a="value"in e&&e.value!==i.current?o():u;var d,A=(0,Le.useState)((function(){var n=e.theme;return"number"!==typeof e.theme&&(n=e.value&&e.value.indexOf("WHITE")>=0?FE.Dark:FE.Light),n})),f=(0,xe.Z)(A,2),h=f[0],p=f[1],m=function(n){var t=eD.editorStateToString(n,{theme:h});i.current=t,c(n),e.onValueChange&&e.onValueChange(e.id,t)},S=function(e){var n=a.getSelection(),t=a.getCurrentContent(),r=Object.keys(WE).reduce((function(e,t){return jE.removeInlineStyle(e,n,t)}),t),i=IE.push(a,r,"change-inline-style"),o=a.getCurrentInlineStyle();n.isCollapsed()&&(i=o.reduce((function(e,n){return UE.toggleInlineStyle(e,n)}),i)),o.has(e)||(i=UE.toggleInlineStyle(i,e)),m(i)},g=function(e){var n=a.getSelection(),t=jE.replaceText(a.getCurrentContent(),n,e),r=IE.push(a,t,"insert-characters");m(r)},v=e.displayMode||TE.Edit;e.showToolbar&&v===TE.Edit&&(d=(0,Ne.jsx)(JE,{onItemClick:function(e){switch(e.type){case"COLOR":S(e.key);break;case"IMAGE":g(e.char);break;case"ACTION":if("DARKLIGHT"===e.key){var n=h===FE.Light?FE.Dark:FE.Light;p(n)}}setTimeout((function(){r()}),0)},itemBlacklist:e.itemBlacklist}));var x=e.toolbarPlacement||PE.Top,_="mpEditor";return v===TE.Display&&(_+=" mpDisplay"),h===FE.Light?_+=" mpEditorLight":h===FE.Dark&&(_+=" mpEditorDark"),d&&(x===PE.Bottom?_+=" mpEditorShowToolbarBottom":_+=" mpEditorShowToolbarTop"),(0,Ne.jsxs)("div",{className:_,children:[x===PE.Top&&d,(0,Ne.jsx)("div",{className:"mpEditorWrapper",children:(0,Ne.jsx)(kE,{ref:function(e){t.current=e},editorState:a,stripPastedStyles:!0,readOnly:v!==TE.Edit,customStyleMap:WE,onChange:m,onFocus:function(n){e.onFocus&&e.onFocus(n)},onBlur:function(n){e.onBlur&&e.onBlur(n)},handleReturn:function(n,t){if(e.maxlines&&t.getCurrentContent().getPlainText().split("\n").length>=e.maxlines)return"handled";return"not-handled"}})}),x===PE.Bottom&&d]})}));var HE=new GE([{strategy:function(e,n,t){for(var r=e.getText(),a=0;a<r.length;a++)KE[r.charAt(a)]&&n(a,a+1)},component:function(e){var n=e.children[0].props.text,r="mpImage";r+=" mpImageKey-"+KE[n];var a=t({},e);return delete a.contentState,delete a.decoratedText,delete a.entityKey,delete a.offsetKey,delete a.blockKey,(0,Ne.jsx)("span",t(t({},a),{},{className:r,children:(0,Ne.jsx)("span",{className:"mpImageTextWrapper",children:e.children})}))}}]),WE={DEFAULT:{color:"#200E71"},BLACK:{color:"#000000"},WHITE:{color:"#FFFFFF"},RED:{color:"#E70014"},GREEN:{color:"#00AB29"},BLUE:{color:"#003EF9"},PURPLE:{color:"#E847CD"},YELLOW:{color:"#FFEA38"}},XE=[{key:"COLOR",type:"SUBMENU",icon:LE,desc:"Font color",items:[{key:"DEFAULT",type:"COLOR",icon:LE,desc:"Default"},{key:"BLACK",type:"COLOR",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEVFxAF7j7NHwAAABhJREFUKM9jZGBg+M9AAmBiIBGMahgpGgBjsgEXVtmPGwAAAABJRU5ErkJggg==",desc:"Black"},{key:"WHITE",type:"COLOR",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEgU6g5FoNQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAALUlEQVQoz2Pcs2fPfwYSAAsDAwODs7MzUYr37t3LwMRAIhjVMDg0sMBikFgAALmcCIbj7SdmAAAAAElFTkSuQmCC",desc:"White"},{key:"RED",type:"COLOR",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIYAjMliRb4KwAAABlJREFUKM9jfM4g8p+BBMDEQCIY1TBSNAAAozECElsuYrMAAAAASUVORK5CYII=",desc:"Red"},{key:"GREEN",type:"COLOR",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbETkTsJY3/wAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAGUlEQVQoz2NkWK35n4EEwMRAIhjVMFI0AABI7wHr2oKergAAAABJRU5ErkJggg==",desc:"Green"},{key:"BLUE",type:"COLOR",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbETo20L+wewAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAF0lEQVQY02NksPvJQAgwMRABRhXRWxEALqcBT2IuNqoAAAAASUVORK5CYII=",desc:"Blue"},{key:"PURPLE",type:"COLOR",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4gEVFhwDqipNEQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAGUlEQVQoz2N84X72PwMJgImBRDCqYaRoAADu4QMTA4JViQAAAABJRU5ErkJggg==",desc:"Purple"},{key:"YELLOW",type:"COLOR",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEgAVVTehKQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAFklEQVQY02P8/5+BIGBiYBhVNPgUAQCIRAIWwXFSYQAAAABJRU5ErkJggg==",desc:"Yellow"}]},{key:"IMAGE",type:"SUBMENU",icon:ME,desc:"Insert image",items:[{key:"A",type:"IMAGE",icon:ME,desc:"A button",char:"\u3000"},{key:"B",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEhIhDHclTwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAcUlEQVQoz7WSQQqAMBADZ8UX9lBvfZNv8KbQPstvxENVqEqlgjku2WxC1jjgETUsGEB/kN0YqvzEpLzkkVuDiOgJRETcOR4ZHjFkFTlhyQrlYjZDRyP660CuzH69eFuoWuKDpf8z2Nny8CI957at9TU2C/U/c6pZEeMAAAAASUVORK5CYII=",desc:"B button",char:"\u3001"},{key:"S",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AMFExsG9NtIRgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAh0lEQVQoz5WSsQ2EMBAE5xBFEEABhKQUQCuU8foy3IoLICWkAC6gCwjgpP8T2GJCe7zeky1cjHW9kyCoCkBp8mcYSBLjHlRFTN6WBYBumv68ue8BqNqWb4znDb+yCYatmVOQwQeUfvOp0u2BO8HXzFbyFD4tx+sZxB5ubJpkclhXgqrI269xAE88PDD7ndcJAAAAAElFTkSuQmCC",desc:"Start button",char:"\u3010"},{key:"CUP",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AMFEw8RWaYa1AAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAf0lEQVQoz2NgwALcRBj+u4kw/GcgBriJMPz/f63l//9rLYQ1wRX3KMIxuiZGZMU7D7UwMGybi2GQe8d9hl1vEGpRTLYUYEDBGDahK0Z2DrLY0SiB/24iDP+ZCAXCsRpFFD4TA4mAoAarlvsofBZ069EVoDuJhZCb0QEj0UkACgCWBVpECbXGpQAAAABJRU5ErkJggg==",desc:"C-up button",char:"\u3002"},{key:"CDOWN",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AMFEwosfLmigAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAkUlEQVQoz2N0E2H4z0ACYGFgYGDYeaiFoMJjq/YxNE7ZB9HAwMDAwLBtLgMDAwODVct9VIU1ihDGrfcIG2DAquU+QgEOMSaCTkEzgImBREBQA7qfGBkYGBjcRBj+76xQxOtp9477DLveMDAywiSQNaEDmGK4Dfg0ISvGCtxEGP7/71H8/79H8T/RqcBNhAGnYgBzBDZGRVNwNwAAAABJRU5ErkJggg==",desc:"C-down button",char:"\u3005"},{key:"CLEFT",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AMFEw4S2bR6LwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAnUlEQVQoz2P8//8/AzpwF2XEFIQCFmyKdx5qwVB4bNU+hsYp+1A1wBVvm4tp9K33qDYgK7ZquY9qeo0iqpPQFSMrYGBgYLBquc/Q4yXAwMDAwMCE1xlYbGBiIBEw7Xz9n9HdrgavImQ/McLiwV2U8f/OCkUMBTAnHTv3nqFx1wdEKO18/Z8Rpgnd0yhOQubsfP2f0b3jPl7nMZKaNAC6Skw3vnsvzwAAAABJRU5ErkJggg==",desc:"C-left button",char:"\u3004"},{key:"CRIGHT",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AMFEw0C7y45iAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAk0lEQVQoz2N0E2H4z4AD7Hz9nxFdjIWBgYFh56EWDMXHVu1jcBdl/I+uiQXO2jYXRYMVDwNDvZsAhiYWFEUt91FtqVFkqGdgQNHEgqz4WI0iA7oB6JpYGPAAmAFWRoJwTUwMJAK8GpD91LjrAwOKk47VKGL1NAMDA4N7x30GDE8jK0AGyIoJOgldMQMDAwMjqUkDAB8tRZsJcTtlAAAAAElFTkSuQmCC",desc:"C-right button",char:"\u3003"},{key:"Z",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AMFExEaGjX8gwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAc0lEQVQoz2NkYGBg0NSU+M9ABLh+/QUjC4wjo6iJV/GT+9cZGBgYGJgYSAQs6AK7tu5D4bt5O+HXgKwAXTNeJ+3aug/DdAYGBgZGGENTU+I/zOPoip/cv85w/foLRqw24DIZpx/Q3U6Sp7EByuIBFpv4AABbOSOQoUM90gAAAABJRU5ErkJggg==",desc:"Z button",char:"\u3006"},{key:"R",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEhUYHDM7gAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAaElEQVQoz2MUkAj6z4ADfHixjhFdjIWBgYFBUDIYl57/6JpYYIx756IwVCsZYWpiQVWwDEXDvXNRGJqYGIgAgpLBDDC/sjAQCaD+/M+C7gR8TiTSD6hiTAwkAvI1YHMvNjFGfEkDGwAAawEiuWY5s24AAAAASUVORK5CYII=",desc:"R button",char:"\u3011"},{key:"ANALOG",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEhsTFWLPhgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA6klEQVQoz5WQIW7DQBBF31YmkUKC4kohgXOEQZEWR/U1SiMZRDlAVVCpFwgI8QFW5qY+gmFIlG5OMSVey1Yd0I9mV+/t7IxjFFVvzKRtG5fqbAwfT4c5ns8PLEmZqgew4+nA234PwOPxA8B6/TqRAIeqt1DXlhLj3arqbFV1thjvw32oa1P1hqqfleZgVU/Wtg2A61s+meF7GNz9d0svqRDJbbkylisjhAshXEhnkdwmgkhum61Q+JLbdTG8fLsuKHzJZiuDlCV4nN3u/c+3esacSA4wSIUvJ2BovvpuHYBLAvB8S31c10V+ATYFjevs0HWqAAAAAElFTkSuQmCC",desc:"Analog stick",char:"\u3007"},{key:"COIN",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AMFExQIlPt5jgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAbElEQVQoz2NkQANBugz/kfnrLjMwIvNZ0BUuDUc1IJoBIg7TyAhTDFPIEaTJgA0Eh19nWHeZgZEJWRCXYmTACDOdGMXB4dcZmBhIBHTQsO4yA2P0Sgai3I8RSsQARvSIW7tSE8NkjIgjJWkAAEVpIfbacIN+AAAAAElFTkSuQmCC",desc:"Coin",char:"\u3008"},{key:"STAR",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEh4tqXQmaAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAiUlEQVQoz6WSMQ6DMBAEByq+ckj+jClc5Dt8JQVF+Ewk+ynQHQUiOhxDiNhydXs3XhkK8g71DuWKvEOnHtUoxVDNHdntGkWn/hutssYzQOMFJEJqAZjHxGPIAq9B9qdMwKoLiWpDObqwDQKM73X+8A2lpv5uqTbbgRWpC+mDcVppjlDyfn6H3F8AX71UuvRrK7wAAAAASUVORK5CYII=",desc:"Star",char:"\u3009"}]},{key:"ADVANCED",type:"SUBMENU",icon:BE,desc:"Advanced text features",items:[{key:"PAUSE",type:"IMAGE",icon:BE,desc:"Pause to continue",char:"\u3015"},{key:"FEED",type:"IMAGE",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AIbEic6JCMuFQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAcElEQVQoz2P8sSaP4fGeuf8ZqABkXZIZGW9ncP+XdUmmhnkMj/fMZWCBcRzKl8AlDnTGkMyHARZkG5AlSOE7lC+Bs5mQFTiUL0GxmRAfG6DIhdgAEwOVAQs+SZj3kMMKH5+BgYGB+slG1iWZkZoJGwCPf0Ey8swM6QAAAABJRU5ErkJggg==",desc:"Feed new page",char:"\u3014"}]},{key:"DARKLIGHT",type:"ACTION",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEVFyMekDBhwwAAAFVJREFUKM+V0jkOwCAMBdEJp00KSi4BXVJwXFMhJaw/liy5eNMZHzKAKetD5qiHMk+6cIhzxxNACyqWgjfeBi1eBiM8DWZ4GKxwF+zwJ1AwAH9ew8woChgtC51rKeAAAAAASUVORK5CYII=",desc:"Toggle background color (has no effect on actual game)"}],KE={},qE={};function YE(e,n){return"SUBMENU"===e.type?(0,Ne.jsx)(ZE,{item:e,onItemClick:n,items:e.items},e.key):(0,Ne.jsx)($E,{item:e,onItemClick:n},e.key)}XE.forEach((function e(n){n.items&&n.items.forEach(e);n.char&&(KE[n.char]=n.key,qE[n.key]=n.char)}));var QE,JE=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onItemClick=function(n){e.props.onItemClick&&e.props.onItemClick(n)},e}return i(t,[{key:"render",value:function(){var e=this,n=this.props.itemBlacklist,t=XE.map((function(t){return n&&-1!==n.indexOf(t.key)?null:YE(t,e.onItemClick)}));return(0,Ne.jsx)("div",{className:"mpEditorToolbar",children:t})}}]),t}(Le.Component),ZE=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).expMenu=null,e.state={expanded:!1},e.onBlur=function(){e.setState({expanded:!1})},e.onClick=function(){e.setState({expanded:!e.state.expanded})},e.onItemClick=function(n){e.props.onItemClick&&e.props.onItemClick(n)},e}return i(t,[{key:"render",value:function(){var e,n=this,t=this.props.item;if(this.state.expanded){var r=this.props.items.map((function(e){return YE(e,n.onItemClick)}));e=(0,Ne.jsx)("div",{ref:function(e){n.expMenu=e},className:"mpEditorToolbarSubmenuExp",tabIndex:-1,onBlur:this.onBlur,children:r})}return(0,Ne.jsxs)("div",{className:"mpEditorToolbarButton",title:t.desc,onClick:this.onClick,children:[(0,Ne.jsx)("img",{src:t.icon,alt:t.desc}),(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAMCAYAAACulacQAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA6cAAAOdQGIKBt4AAAAB3RJTUUH4gEVEjkhkLB0zgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAHklEQVQY02NgGGSAEUr/xybHiMT5j0UTCvg/0F4BAOhDAwINJrvnAAAAAElFTkSuQmCC",alt:""}),e]})}},{key:"componentDidMount",value:function(){this.state.expanded&&this.expMenu.focus()}},{key:"componentDidUpdate",value:function(){this.state.expanded&&this.expMenu.focus()}}]),t}(Le.Component),$E=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onClick=function(){e.props.onItemClick(e.props.item)},e}return i(t,[{key:"render",value:function(){var e=this.props.item;return(0,Ne.jsx)("div",{className:"mpEditorToolbarButton",title:e.desc,onClick:this.onClick,children:(0,Ne.jsx)("img",{src:e.icon,alt:e.desc})})}}]),t}(Le.Component),eD=(Le.Component,new(function(){function e(){r(this,e)}return i(e,[{key:"editorStateToString",value:function(e,n){var t=e.getCurrentContent(),r=[],a=n.theme===FE.Light?"DEFAULT":"WHITE",i=a,o=!1;return t.getBlockMap().forEach((function(e){var n=e.getText(),t={};e.findStyleRanges((function(e){var n=e.getStyle().find((function(e){return!!WE[e]}));return n||(n=a),n!==i&&(i=n,o=!0),!0}),(function(e,n){o&&(t[e]="<"+i+">")}));var s,l,u,c,d=0;for(var A in t){var f=d+parseInt(A);s=n,l=f,u=0,c=t[A],n=s.slice(0,l)+c+s.slice(l+Math.abs(u)),d+=t[A].length}r.push(n)})),r.join("\n")}},{key:"stringToEditorState",value:function(e){for(var n=OE.createFromText(e||""),t=n.getBlocksAsArray(),r=0;r<t.length;r++)for(var a=t[r],i=a.getText(),o=nD(i),s=(0,xe.Z)(o,3),l=s[0],u=s[1],c=s[2],d=function(){var e=a.getKey(),o=NE.createEmpty(a.getKey());o=o.merge({anchorOffset:u,focusKey:e,focusOffset:c}),n=jE.replaceText(n,o,""),t=n.getBlocksAsArray(),a=t[r],i=a.getText();var s=t[t.length-1];o=o.merge({focusKey:s.getKey(),focusOffset:s.getText().length}),n=Object.keys(WE).reduce((function(e,n){return jE.removeInlineStyle(e,o,n)}),n),n=jE.applyInlineStyle(n,o,l),t=n.getBlocksAsArray(),a=t[r];var d=nD(i=a.getText()),A=(0,xe.Z)(d,3);l=A[0],u=A[1],c=A[2]};l;)d();return IE.createWithContent(n,HE)}}]),e}()));function nD(e){for(var n=0;n<e.length;){var t=e.indexOf("<",n)+1;if(!t)return[];var r=e.indexOf(">",t);if(-1===r)return[];var a=e.substring(t,r);if(WE[a])return[a,t-1,r+1];n=t}return[]}var tD={};function rD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,t=QE;t||(t=QE={});var r=e||"default",a=t[r];a||((a=t[r]=document.createElement("input")).type="file"),a.accept=e,tD[r]&&(a.removeEventListener("change",tD[r]),delete tD[r]);var i=function e(t){delete tD[r],a.removeEventListener("change",e),n(t),a.value=null};tD[r]=i,a.addEventListener("change",i),a.click()}var aD=mb,iD=Sb,oD=gb,sD=vb,lD=xb,uD=_b,cD=yb,dD=wb,AD=bb,fD=Vb,hD=Cb,pD=Eb,mD=Db,SD=Fb,gD=Tb,vD=Pb,xD=Rb,_D=Lb,yD=Mb,wD=Bb,bD=kb,VD=Ib,CD=Ob,ED=Nb,DD=jb,FD=function(){var e,n=Mv(),t=(0,Le.useMemo)((function(){return function(e){var n,t=new Map,r=L(e.spaces);try{for(r.s();!(n=r.n()).done;){var a=n.value;t.has(a.type)?t.set(a.type,t.get(a.type)+1):t.set(a.type,1)}}catch(i){r.e(i)}finally{r.f()}return t}(n)}),[n]);switch(n.game){case 1:e=(0,Ne.jsx)(TD,{counts:t});break;case 2:e=(0,Ne.jsx)(PD,{counts:t});break;case 3:e=(0,Ne.jsx)(RD,{counts:t})}return(0,Ne.jsx)("div",{className:"boardStatsContainer",children:(0,Ne.jsx)("table",{children:e})})},TD=function(e){var n=e.counts;return(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)(LD,{src:aD,alt:"Blue space"}),(0,Ne.jsx)(LD,{src:oD,alt:"Red space"}),(0,Ne.jsx)(LD,{src:lD,alt:"Happening space"}),(0,Ne.jsx)(LD,{src:cD,alt:"Chance space"}),(0,Ne.jsx)(LD,{src:pD,alt:"Mini-Game space"}),(0,Ne.jsx)(LD,{src:mD,alt:"Mushroom space"}),(0,Ne.jsx)(LD,{src:fD,alt:"Bowser space"}),(0,Ne.jsx)(LD,{src:gD,alt:"Star space"}),(0,Ne.jsx)(LD,{src:_D,alt:"Start space"}),(0,Ne.jsx)(LD,{src:SD,alt:"Invisible space"}),(0,Ne.jsx)(BD,{text:"Solid"}),(0,Ne.jsx)(BD,{text:"Total"})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)(MD,{count:kD(n,h.BLUE)}),(0,Ne.jsx)(MD,{count:kD(n,h.RED)}),(0,Ne.jsx)(MD,{count:kD(n,h.HAPPENING)}),(0,Ne.jsx)(MD,{count:kD(n,h.CHANCE)}),(0,Ne.jsx)(MD,{count:kD(n,h.MINIGAME)}),(0,Ne.jsx)(MD,{count:kD(n,h.SHROOM)}),(0,Ne.jsx)(MD,{count:kD(n,h.BOWSER)}),(0,Ne.jsx)(MD,{count:kD(n,h.STAR)}),(0,Ne.jsx)(MD,{count:kD(n,h.START)}),(0,Ne.jsx)(MD,{count:kD(n,h.OTHER)}),(0,Ne.jsx)(MD,{count:kD(n,h.BLUE,h.RED,h.HAPPENING,h.CHANCE,h.MINIGAME,h.SHROOM,h.BOWSER)}),(0,Ne.jsx)(MD,{count:kD(n)})]})]})},PD=function(e){var n=e.counts;return(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)(LD,{src:aD,alt:"Blue space"}),(0,Ne.jsx)(LD,{src:oD,alt:"Red space"}),(0,Ne.jsx)(LD,{src:lD,alt:"Happening space"}),(0,Ne.jsx)(LD,{src:dD,alt:"Chance space"}),(0,Ne.jsx)(LD,{src:yD,alt:"Item space"}),(0,Ne.jsx)(LD,{src:bD,alt:"Battle space"}),(0,Ne.jsx)(LD,{src:CD,alt:"Bank space"}),(0,Ne.jsx)(LD,{src:fD,alt:"Bowser space"}),(0,Ne.jsx)(LD,{src:gD,alt:"Star space"}),(0,Ne.jsx)(LD,{src:vD,alt:"Black Star space"}),(0,Ne.jsx)(LD,{src:xD,alt:"Arrow space"}),(0,Ne.jsx)(LD,{src:_D,alt:"Start space"}),(0,Ne.jsx)(LD,{src:SD,alt:"Invisible space"}),(0,Ne.jsx)(BD,{text:"Solid"}),(0,Ne.jsx)(BD,{text:"Total"})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)(MD,{count:kD(n,h.BLUE)}),(0,Ne.jsx)(MD,{count:kD(n,h.RED)}),(0,Ne.jsx)(MD,{count:kD(n,h.HAPPENING)}),(0,Ne.jsx)(MD,{count:kD(n,h.CHANCE)}),(0,Ne.jsx)(MD,{count:kD(n,h.ITEM)}),(0,Ne.jsx)(MD,{count:kD(n,h.BATTLE)}),(0,Ne.jsx)(MD,{count:kD(n,h.BANK)}),(0,Ne.jsx)(MD,{count:kD(n,h.BOWSER)}),(0,Ne.jsx)(MD,{count:kD(n,h.STAR)}),(0,Ne.jsx)(MD,{count:kD(n,h.BLACKSTAR)}),(0,Ne.jsx)(MD,{count:kD(n,h.ARROW)}),(0,Ne.jsx)(MD,{count:kD(n,h.START)}),(0,Ne.jsx)(MD,{count:kD(n,h.OTHER)}),(0,Ne.jsx)(MD,{count:kD(n,h.BLUE,h.RED,h.HAPPENING,h.CHANCE,h.ITEM,h.BATTLE,h.BANK,h.BOWSER)}),(0,Ne.jsx)(MD,{count:kD(n)})]})]})},RD=function(e){var n=e.counts;return(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)(LD,{src:iD,alt:"Blue space"}),(0,Ne.jsx)(LD,{src:sD,alt:"Red space"}),(0,Ne.jsx)(LD,{src:uD,alt:"Happening space"}),(0,Ne.jsx)(LD,{src:AD,alt:"Chance space"}),(0,Ne.jsx)(LD,{src:wD,alt:"Item space"}),(0,Ne.jsx)(LD,{src:VD,alt:"Battle space"}),(0,Ne.jsx)(LD,{src:ED,alt:"Bank space"}),(0,Ne.jsx)(LD,{src:DD,alt:"Game Guy space"}),(0,Ne.jsx)(LD,{src:hD,alt:"Bowser space"}),(0,Ne.jsx)(LD,{src:gD,alt:"Star space"}),(0,Ne.jsx)(LD,{src:xD,alt:"Arrow space"}),(0,Ne.jsx)(LD,{src:_D,alt:"Start space"}),(0,Ne.jsx)(LD,{src:SD,alt:"Invisible space"}),(0,Ne.jsx)(BD,{text:"Solid"}),(0,Ne.jsx)(BD,{text:"Total"})]}),(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)(MD,{count:kD(n,h.BLUE)}),(0,Ne.jsx)(MD,{count:kD(n,h.RED)}),(0,Ne.jsx)(MD,{count:kD(n,h.HAPPENING)}),(0,Ne.jsx)(MD,{count:kD(n,h.CHANCE)}),(0,Ne.jsx)(MD,{count:kD(n,h.ITEM)}),(0,Ne.jsx)(MD,{count:kD(n,h.BATTLE)}),(0,Ne.jsx)(MD,{count:kD(n,h.BANK)}),(0,Ne.jsx)(MD,{count:kD(n,h.GAMEGUY)}),(0,Ne.jsx)(MD,{count:kD(n,h.BOWSER)}),(0,Ne.jsx)(MD,{count:kD(n,h.STAR)}),(0,Ne.jsx)(MD,{count:kD(n,h.ARROW)}),(0,Ne.jsx)(MD,{count:kD(n,h.START)}),(0,Ne.jsx)(MD,{count:kD(n,h.OTHER)}),(0,Ne.jsx)(MD,{count:kD(n,h.BLUE,h.RED,h.HAPPENING,h.CHANCE,h.ITEM,h.BATTLE,h.BANK,h.GAMEGUY,h.BOWSER)}),(0,Ne.jsx)(MD,{count:kD(n)})]})]})},LD=function(e){var n=e.src,t=e.alt;return(0,Ne.jsx)("td",{className:"boardStatsImageCell",children:(0,Ne.jsx)("img",{src:n,alt:t,className:"boardStatsSpaceImage"})})},MD=function(e){var n=e.count;return(0,Ne.jsx)("td",{className:"boardStatsCountCell",children:n||0})},BD=function(e){var n=e.text;return(0,Ne.jsx)("td",{className:"boardStatsTextCell",children:n})};function kD(e){for(var n=0,t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(0===r.length)e.forEach((function(e){n+=e}));else{var i,o=L(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;n+=e.get(s)||0}}catch(l){o.e(l)}finally{o.f()}}return n}var ID,OD="data:image/png;base64,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Oi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDpjMzc1OWU4ZC0zNzcwLTQ2MjgtYWYxNS1jMWEyYTdjMjVjYzciCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YTY0OTM1OTgtNjQ1ZS00NGExLWJkNTEtOTVkYmMyNDM1MDg4IgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MGFhNjRiOTYtYTdhYy00YjYxLThmMjctMDg5OWVhNmM4OGMzIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE1OTg3NDE4MDUzMDE3NjYiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yMCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPGlwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICA8aXB0Y0V4dDpMb2NhdGlvblNob3duPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgPGlwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICA8aXB0Y0V4dDpSZWdpc3RyeUlkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6UmVnaXN0cnlJZD4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZjM0MzZhODktOTFhOC00MGEzLThkZjAtZGNmZWU4NDMxM2JlIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKExpbnV4KSIKICAgICAgc3RFdnQ6d2hlbj0iLTA1OjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICAgPHBsdXM6SW1hZ2VTdXBwbGllcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkltYWdlU3VwcGxpZXI+CiAgIDxwbHVzOkltYWdlQ3JlYXRvcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkltYWdlQ3JlYXRvcj4KICAgPHBsdXM6Q29weXJpZ2h0T3duZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpDb3B5cmlnaHRPd25lcj4KICAgPHBsdXM6TGljZW5zb3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpMaWNlbnNvcj4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PpVASOwAAAACYktHRAAAqo0jMgAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+QIHRY4LZnpCPsAAACiSURBVCjPfc07DgFhFIbhF0NoXFZgEVpKnYTl2IHEOiTqKVRUEolrZRMKCxDEq3EJ88983cnznXMgGGtOPdolhcuuVb3YKwS4zp0mbSCiEyW4wYIzfWAIzBLsQdW5FUdOLPwdd+87CyvmIf/ze07rM5645h6/2zu/SRyvuc3mTRZXs7loyTiVwYGjTyXJ4FhflRCDK31VQkwExCxZcssZKjwBpACoJLQLzGoAAAAASUVORK5CYII=",ND=[{type:"header",desc:"Basic Info"},{type:"richtext",id:"detailBoardName",desc:"Board name",maxlines:1},{type:"richtext",id:"detailBoardDesc",desc:"Board description",maxlines:2},{type:"difficulty",id:"detailBoardDifficulty",desc:"Difficulty"},{type:"audioheader",desc:"Background Music"},{type:"audio",id:"detailBoardAudio",desc:"Background music"},{type:"header",desc:"Images"},{type:"image",id:"detailBoardSelectImg",desc:"Board select image",width:128,height:64},{type:"image",id:"detailBoardLogoImg",desc:"Board logo",width:250,height:100},{type:"br"},{type:"image",id:"detailBoardLargeSceneBg",desc:"Large scene background",width:320,height:240},{type:"image",id:"detailBoardConversationBg",desc:"Conversation background",width:320,height:240},{type:"image",id:"detailBoardSplashscreenBg",desc:"Splashscreen background",width:320,height:240},{type:"header",desc:"Stats"},{type:"stats"}],jD=[{type:"header",desc:"Basic Info"},{type:"richtext",id:"detailBoardName",desc:"Board name",maxlines:1},{type:"richtext",id:"detailBoardDesc",desc:"Board description",maxlines:2},{type:"difficulty",id:"detailBoardDifficulty",desc:"Difficulty"},{type:"costume",id:"detailBoardCostume",desc:"Costume Theme"},{type:"audioheader",desc:"Background Music"},{type:"audio",id:"detailBoardAudio",desc:"Background music"},{type:"header",desc:"Images"},{type:"image",id:"detailBoardSelectImg",desc:"Board select image",width:64,height:48},{type:"image",id:"detailBoardSelectIcon",desc:"Board select icon",width:32,height:32},{type:"image",id:"detailBoardLogoImg",desc:"Board logo",width:260,height:120},{type:"br"},{type:"image",id:"detailBoardLargeSceneBg",desc:"Large scene background",width:320,height:240},{type:"header",desc:"Stats"},{type:"stats"}],UD=[{type:"header",desc:"Basic Info"},{type:"richtext",id:"detailBoardName",desc:"Board name",maxlines:1},{type:"richtext",id:"detailBoardDesc",desc:"Board description",maxlines:2},{type:"difficulty",id:"detailBoardDifficulty",desc:"Difficulty"},{type:"audioheader",desc:"Background Music"},{type:"audio",id:"detailBoardAudio",desc:"Background music"},{type:"header",desc:"Images"},{type:"image",id:"detailBoardSelectImg",desc:"Board select image",width:64,height:64},{type:"image",id:"detailBoardLogoImg",desc:"Board logo",width:226,height:120},{type:"image",id:"detailBoardLogoTextImg",desc:"Board logo text",width:226,height:36},{type:"br"},{type:"image",id:"detailBoardLargeSceneBg",desc:"Large scene background",width:320,height:240},{type:"header",desc:"Stats"},{type:"stats"}],GD=[{type:"header",desc:"Basic Info"},{type:"richtext",id:"detailBoardName",desc:"Board name",maxlines:1},{type:"richtext",id:"detailBoardDesc",desc:"Board description",maxlines:2},{type:"difficulty",id:"detailBoardDifficulty",desc:"Difficulty"},{type:"header",desc:"Background Music"},{type:"audio",id:"detailBoardAudio",desc:"Background music"},{type:"header",desc:"Images"},{type:"image",id:"detailBoardSelectImg",desc:"Board select image",width:64,height:64},{type:"image",id:"detailBoardLogoImg",desc:"Board logo",width:226,height:120},{type:"image",id:"detailBoardLogoTextImg",desc:"Board logo text",width:226,height:36}];function zD(e,n,t){switch(e){case"detailBoardName":o=n,Sx.dispatch(og({name:o})),hy();break;case"detailBoardDesc":i=n,Sx.dispatch(sg({description:i}));break;case"detailBoardDifficulty":a=n,Sx.dispatch(lg({difficulty:a}));break;case"detailBoardCostume":r=n,Sx.dispatch(ug({costumeType:r}));break;case"detailBoardSelectImg":hw("boardselect",n);break;case"detailBoardSelectIcon":hw("boardselecticon",n);break;case"detailBoardLogoImg":hw("boardlogo",n);break;case"detailBoardLogoTextImg":hw("boardlogotext",n);break;case"detailBoardLargeSceneBg":hw("largescene",n);break;case"detailBoardConversationBg":hw("conversation",n);break;case"detailBoardSplashscreenBg":hw("splashscreen",n);break;case"detailBoardAudio":!function(e){Sx.dispatch(gg({audioChanges:e}))}(n),hy()}var r,a,i,o}function HD(e,n){if("detailBoardSelectImg"===e&&1===Hy().game){for(var t=new Uint32Array(n),r=0;r<128;r++)t[r]=0,t[r+128]=0,t[r+7936]=0,t[r+8064]=0;for(var a=0;a<6;a++)t[a+256]=0,t[a+256+122]=0,t[a+7808]=0,t[a+7808+122]=0;for(var i=0;i<4;i++)t[i+384]=0,t[i+384+124]=0,t[i+7680]=0,t[i+7680+124]=0;for(var o=0;o<3;o++)t[o+512]=0,t[o+512+125]=0,t[o+7552]=0,t[o+7552+125]=0;for(var s=0;s<2;s++)t[s+640]=0,t[s+640+126]=0,t[s+7424]=0,t[s+7424+126]=0,t[s+768]=0,t[s+768+126]=0,t[s+7296]=0,t[s+7296+126]=0;t[896]=0,t[1023]=0,t[7168]=0,t[7295]=0,t[1024]=0,t[1151]=0,t[7040]=0,t[7167]=0;for(var l={},u=0;u<32;u++)for(var c=0;c<64;c++)l[t[128*u+c]]=!0;for(var d={},A=0;A<32;A++)for(var f=64;f<128;f++)d[t[128*A+64+f]]=!0;for(var h={},p=32;p<64;p++)for(var m=0;m<64;m++)h[t[128*p+m]]=!0;for(var S={},g=32;g<64;g++)for(var v=64;v<128;v++)S[t[128*g+64+v]]=!0;(Object.keys(l).length>256||Object.keys(d).length>256||Object.keys(h).length>256||Object.keys(S).length>256)&&(dy("Sorry, but the palette limit for this image is 256 unique colors. For now, the image has been reduced to 8-bit, but most image editors should be able to reduce the palette for you with higher quality."),function(e,n,t){for(var r=0;r<n*t;r++){var a=e[r];a&=3233857728,a|=a>>>2,a|=a>>>2,a|=a>>>2,e[r]=a}}(t,128,64))}return n}var WD=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onTextChange=function(n,t){zD(n,t.target.value,e.props.board),e.forceUpdate()},e.onRichTextChange=function(n,t){zD(n,t,e.props.board),e.forceUpdate()},e.onValueChange=function(n,t){zD(n,t,e.props.board),e.forceUpdate()},e}return i(t,[{key:"render",value:function(){var e=this;if(!this.props.board)return null;var n=0,t=Ky(this.props.board),r=function(){var e=Hy(),n=e.game,t=e.type;switch(n){case 1:return ND;case 2:return jD;case 3:return t===m.DUEL?GD:UD}}().map((function(r){var a=function(e,n){switch(e){case"detailBoardName":return n.board.name;case"detailBoardDesc":return n.board.description;case"detailBoardDifficulty":return n.board.difficulty;case"detailBoardCostume":return n.board.costumeTypeIndex;case"detailBoardSelectImg":return n.board.otherbg.boardselect;case"detailBoardSelectIcon":return n.board.otherbg.boardselecticon;case"detailBoardLogoImg":return n.board.otherbg.boardlogo;case"detailBoardLogoTextImg":return n.board.otherbg.boardlogotext;case"detailBoardAudio":return n.board.audioIndex;case"detailBoardLargeSceneBg":return n.board.otherbg.largescene;case"detailBoardConversationBg":return n.board.otherbg.conversation;case"detailBoardSplashscreenBg":return n.board.otherbg.splashscreen}return""}(r.id,e.props);switch(r.type){case"richtext":var i=t?TE.Readonly:TE.Edit;return(0,Ne.jsxs)("div",{className:"detailRichTextContainer",children:[(0,Ne.jsx)("label",{htmlFor:r.id,children:r.desc}),(0,Ne.jsx)(zE,{id:r.id,value:a,showToolbar:!t,displayMode:i,maxlines:r.maxlines||0,itemBlacklist:["COLOR","ADVANCED","DARKLIGHT"],onValueChange:e.onRichTextChange})]},r.id);case"image":return(0,Ne.jsx)(XD,{id:r.id,desc:r.desc,readonly:t,value:a,onImageSelected:e.onValueChange,width:r.width,height:r.height},r.id);case"audio":return(0,Ne.jsx)(KD,{id:r.id,desc:r.desc,readonly:t,value:a,onAudioSelected:e.onValueChange,onAudioDeleted:function(n,t){return e.onValueChange(n,{customAudioIndex:t,delete:!0})}},r.id);case"difficulty":return(0,Ne.jsx)(QD,{id:r.id,desc:r.desc,readonly:t,value:a,onDifficultySelected:e.onValueChange},r.id);case"costume":return(0,Ne.jsx)(eF,{id:r.id,desc:r.desc,readonly:t,costumeType:a,onCostumeTypeSelected:function(n){return e.onValueChange(r.id,n)}},r.id);case"stats":return(0,Ne.jsx)(FD,{},"stats"+n++);case"header":return(0,Ne.jsx)("h2",{children:r.desc},"header"+n++);case"audioheader":return(0,Ne.jsx)("div",{className:"detailsAudioHeaderDiv",children:(0,Ne.jsxs)("h2",{className:"detailsAudioHeader",children:[r.desc,(0,Ne.jsx)(YD,{board:e.props.board})]})},"header"+n++);case"br":return(0,Ne.jsx)("br",{},"br"+n++)}return null}));return(0,Ne.jsx)("div",{id:"detailsForm",children:r})}}]),t}(Le.Component),XD=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).handleClick=function(){iw()||rD("image/*",e.imageSelected.bind(c(e)))},e}return i(t,[{key:"imageSelected",value:function(e){var n=this,t=e.target.files[0];if(t){var r=new FileReader;r.onload=function(){var e=O(k().mark((function e(t){var a,i,o,s,l,u,c,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.onImageSelected,i=n.props.id,o=document.getElementById(i),s=n.props.width,l=n.props.height,e.next=7,n_(r.result,s,l);case 7:u=e.sent,c=u.data.buffer,c=HD(i,c),d=ne(c,s,l),o.src=d,a(i,d);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r.readAsDataURL(t)}}},{key:"render",value:function(){var e=this.props.id,n=this.props.desc,t=this.props.width,r=this.props.height,a=null;if(!this.props.readonly){var i="".concat(t," \xd7 ").concat(r);if(t>100&&r>50){a=(0,Ne.jsxs)("div",{className:"detailImgHoverCover",children:[(0,Ne.jsx)("span",{children:"Choose a new image"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("span",{className:"detailImgHoverCoverSize",children:i})]})}else a=(0,Ne.jsx)("div",{className:"detailImgHoverCover",title:i})}var o={width:t,height:r,minWidth:t,minHeight:r};return(0,Ne.jsxs)("div",{className:"detailImgContainer",children:[(0,Ne.jsx)("label",{children:n}),(0,Ne.jsxs)("div",{className:"detailImgSelect",style:o,onClick:this.handleClick,children:[(0,Ne.jsx)("img",{id:e,className:"detailImg",height:r,width:t,style:o,src:this.props.value,alt:n}),a]})]})}}]),t}(Le.Component),KD=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onGameMusicIndexSelection=function(n){e.props.onAudioSelected(e.props.id,{gameAudioIndex:parseInt(n.target.value)})},e.onAudioTypeChanged=function(n){e.props.onAudioSelected(e.props.id,{audioType:n})},e.onMidiPrompt=function(){var n=O(k().mark((function n(t){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:rD("audio/midi",(function(n){var r=n.target.files[0];if(r){var a=new FileReader;a.onload=function(n){X("string"===typeof a.result),e.props.onAudioSelected(e.props.id,{customAudioIndex:t,midiName:r.name,midiData:a.result})},a.readAsDataURL(r)}}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.onSoundbankIndexPrompt=function(){var n=O(k().mark((function n(t){var r,a;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=0,Ry.romIsLoaded()&&Ry.getGameVersion()===Hy().game&&(a=Ft.getSequenceTable(0),r=a.soundbanks.banks.length-1),n.next=4,fy("Enter new soundbank index".concat(r?" (0 through ".concat(r,")"):"",":")).then((function(n){if(n){var a=parseInt(n);isNaN(a)||r&&a>r?dy("Invalid soundbank index."):e.props.onAudioSelected(e.props.id,{customAudioIndex:t,soundbankIndex:a})}}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.onDeleteAudioEntry=function(n){e.props.onAudioDeleted(e.props.id,n)},e}return i(t,[{key:"render",value:function(){var e,n=this,t=Hy();switch(t.audioType){case Ny.InGame:var r=0,a=I_(t.game).getAudioMap(0).map((function(e){var n=r++;return e?(0,Ne.jsx)("option",{value:n,children:e},n):null}));e=(0,Ne.jsx)("select",{className:"audioSelect",value:this.props.value,disabled:this.props.readonly,onChange:this.onGameMusicIndexSelection,children:a});break;case Ny.Custom:e=t.audioData.map((function(e,t){return(0,Ne.jsx)(qD,{audioEntry:e,canDelete:!0,onDeleteAudioEntry:function(){return n.onDeleteAudioEntry(t)},onMidiPrompt:function(){return n.onMidiPrompt(t)},onSoundbankIndexPrompt:function(){return n.onSoundbankIndexPrompt(t)}},t+e.name)})),e.push((0,Ne.jsx)(qD,{audioEntry:{name:"",data:"",soundbankIndex:0},canDelete:!1,onMidiPrompt:function(){return n.onMidiPrompt(t.audioData.length)},onSoundbankIndexPrompt:function(){return n.onSoundbankIndexPrompt(t.audioData.length)}},"newentry"))}return(0,Ne.jsxs)("div",{className:"audioDetailsContainer",children:[(0,Ne.jsxs)("div",{className:"audioDetailsRadioGroup",children:[(0,Ne.jsx)("input",{type:"radio",id:this.props.id+"-romaudio",value:"romaudio",checked:t.audioType===Ny.InGame,onChange:function(){return n.onAudioTypeChanged(Ny.InGame)}}),(0,Ne.jsx)("label",{htmlFor:this.props.id+"-romaudio",children:"In-Game Music Track"}),(0,Ne.jsx)("input",{type:"radio",id:this.props.id+"-custom",value:"custom",checked:t.audioType===Ny.Custom,onChange:function(){return n.onAudioTypeChanged(Ny.Custom)}}),(0,Ne.jsx)("label",{htmlFor:this.props.id+"-custom",children:"Custom Audio"})]}),e]})}}]),t}(Le.Component);function qD(e){var n=e.audioEntry.name||"(select a midi file)",t=!!e.audioEntry.data;return(0,Ne.jsxs)("div",{className:"audioCustomEntry",children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,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",className:"audioCustomIcon audioCustomIconAudio",title:"Custom audio track",alt:"Custom audio track"}),(0,Ne.jsxs)("div",{className:"audioCustomTextSections",children:[(0,Ne.jsxs)("div",{className:"audioCustomSection",children:[(0,Ne.jsx)("span",{className:"detailsSpan",children:n}),(0,Ne.jsx)("img",{src:OD,className:"audioDetailsSmallEditIcon",title:"Upload midi file",alt:"Upload midi file",onClick:e.onMidiPrompt,tabIndex:0})]}),t&&(0,Ne.jsxs)("div",{className:"audioCustomSection",children:[(0,Ne.jsx)("label",{children:"Soundbank index: "}),(0,Ne.jsx)("span",{className:"detailsSpan",children:e.audioEntry.soundbankIndex||0}),(0,Ne.jsx)("img",{src:OD,className:"audioDetailsSmallEditIcon",title:"Change soundbank index",alt:"Change soundbank index",onClick:e.onSoundbankIndexPrompt,tabIndex:0})]})]}),e.canDelete&&(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBQ0VISOZx0KOAAABA0lEQVQ4y52SMW7CMBiFPwMTbMnOATJ3bwcW5kpwic5sqFS9QsUtkHKEMrOzcAGD6M5g+hgSklh1nIq3/fL7/N4vGzxpqJ2a2mnoOwb+yJQnvvgpp5Q3pmxolxaSRtU0krQIGzPlcmqTU67MB3J1KS+cpgQcfeK6mgGP6J7Q55Us4tuzMdfmDrPOHWaFs1cS484uY//hLACf/ALvbPkGXnjmA+ixrBxVpYkkKQGQtALQSgJQIkma+JWOACTBMknDUQG2E7A+cMYBaRBIAcfZA4w4RRNORn5C0bEdON6HGrDRSjYMtCcEgIcq/SOhfut59OvN/yYcol8vdKq1LsHbL1rXrhtcbPgQjV6DLQAAAABJRU5ErkJggg==",onClick:e.onDeleteAudioEntry,className:"audioCustomIcon audioCustomIconDelete",title:"Remove audio track",alt:"Remove audio track",tabIndex:0})]})}function YD(e){return Ky(e.board)?null:Ze(Oe.uiAdvanced)?(0,Ne.jsx)("div",{className:"audioSelectConfigButton",title:"Add custom code for choosing the music to play each turn",tabIndex:0,onClick:function(){return X_(f.AUDIO_SELECTION_CODE)},children:(0,Ne.jsx)("img",{src:"data:image/png;base64,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",alt:"Configure audio selection"})}):null}var QD=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this,e)).onSelection=function(e){a.props.readonly||a.props.onDifficultySelected(a.props.id,e)},a.onDifficultyFocused=function(e){a.props.readonly||a.setState({focusedLevel:e})},a.state={focusedLevel:0},a}return i(t,[{key:"render",value:function(){for(var e=[],n=1;n<=5;n++)e.push((0,Ne.jsx)(JD,{level:n,readonly:this.props.readonly,currentLevel:this.props.value,focusedLevel:this.state.focusedLevel,onDifficultyLevelSelected:this.onSelection,onDifficultyFocused:this.onDifficultyFocused},n.toString()));return(0,Ne.jsxs)("div",{className:"difficultyDetailsContainer",children:[(0,Ne.jsx)("label",{children:this.props.desc}),(0,Ne.jsx)("div",{className:"difficultyDetailsLevels",children:e})]})}}]),t}(Le.Component),JD=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onClick=function(){e.props.readonly||e.props.onDifficultyLevelSelected(e.props.level)},e.onMouseEnter=function(){e.props.readonly||e.props.onDifficultyFocused(e.props.level)},e.onMouseLeave=function(){e.props.readonly||e.props.onDifficultyFocused(0)},e}return i(t,[{key:"render",value:function(){var e="difficultyDetailsLevel";return this.props.readonly||(this.props.level<=this.props.currentLevel&&(e+=" difficultyLevelCurrent"),this.props.focusedLevel>0&&this.props.level<=this.props.focusedLevel&&(e+=" difficultyLevelFocused")),(0,Ne.jsx)("div",{className:e,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}}]),t}(Le.Component),ZD=[S.NORMAL,S.WESTERN,S.PIRATE,S.HORROR,S.SPACE,S.MYSTERY],$D=(e(ID={},S.NORMAL,"Normal"),e(ID,S.WESTERN,"Western"),e(ID,S.PIRATE,"Pirate"),e(ID,S.HORROR,"Horror"),e(ID,S.SPACE,"Space"),e(ID,S.MYSTERY,"Mystery"),ID);function eF(e){var n,t=[],r=L(ZD);try{for(r.s();!(n=r.n()).done;){var a=n.value;t.push({id:a,selected:e.costumeType===a||"undefined"===typeof e.costumeType&&a===S.NORMAL,text:$D[a]})}}catch(i){r.e(i)}finally{r.f()}return(0,Ne.jsxs)("div",{className:"difficultyDetailsContainer",children:[(0,Ne.jsx)("label",{children:e.desc}),(0,Ne.jsx)(Ge,{items:t,allowDeselect:!1,readonly:e.readonly,onToggleClick:function(n){return e.onCostumeTypeSelected(n)}})]})}var nF=navigator.userAgent.toLowerCase().indexOf(" electron/")>-1,tF=__webpack_require__.p+"static/media/logoloading.3c9fff86d6b27f56be0d.png",rF=__webpack_require__.p+"static/media/mpllogo.542a6e972be2112a50c6.png",aF=__webpack_require__.p+"static/media/shirt.8b6c300e1ad387105998.png",iF=/^(.+)-(\d*)-g([a-z0-9]+)$/,oF=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={updateCheckInProgress:!1,foundUpdate:null},e.onCheckForUpdatesClick=function(){e.state.updateCheckInProgress||window.require("electron").ipcRenderer.send("update-check-start")},e.onStartUpdateClick=function(){window.require("electron").ipcRenderer.send("update-check-doupdate")},e._onUpdateCheckStarted=function(){e.setState({updateCheckInProgress:!0,foundUpdate:null})},e._onUpdateCheckNoUpdate=function(){e.setState({updateCheckInProgress:!1,foundUpdate:!1})},e._onUpdateCheckHasUpdate=function(){e.setState({updateCheckInProgress:!1,foundUpdate:!0})},e}return i(t,[{key:"render",value:function(){var e,n="v0.8.2-0-g6bbe3eb";if(n){var t=iF.exec(n);t&&t[0]&&(n=t[1]+" (+"+t[2]+" <a target='_blank' href='https://github.com/PartyPlanner64/PartyPlanner64/commit/"+t[3]+"'>"+t[3]+"</a>)")}else n="unknown";e=document.location.href.indexOf("mariopartylegacy")>=0?"Hosted by":"Visit";var r=null;return nF&&(r=!0===this.state.foundUpdate?(0,Ne.jsxs)("a",{className:"aboutVersion",onClick:this.onStartUpdateClick,href:"javascript:;",children:[" ","Update found! Click to install."]}):(0,Ne.jsxs)("a",{className:"aboutVersion",onClick:this.onCheckForUpdatesClick,href:"javascript:;",children:[" ",this.state.updateCheckInProgress?"Checking...":"Check for Updates"]})),(0,Ne.jsxs)("div",{id:"aboutForm",children:[(0,Ne.jsxs)("div",{className:"aboutHeader",children:[(0,Ne.jsx)("img",{src:tF,alt:"PartyPlanner64"}),(0,Ne.jsx)("br",{}),(0,Ne.jsxs)("span",{className:"aboutVersion selectable",children:["Version ",(0,Ne.jsx)("span",{dangerouslySetInnerHTML:{__html:n}})]}),nF&&(0,Ne.jsx)("br",{}),r]}),(0,Ne.jsx)("br",{}),(0,Ne.jsxs)("div",{className:"aboutText",children:[(0,Ne.jsx)("span",{className:"aboutTextLabel",children:"Want more PartyPlanner64?"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Follow ",(0,Ne.jsx)("a",{href:"https://twitter.com/PartyPlanner64",target:"_blank",rel:"noopener noreferrer",children:"@PartyPlanner64"})," on Twitter."]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("a",{href:"https://github.com/PartyPlanner64/PartyPlanner64",target:"_blank",rel:"noopener noreferrer",children:"Contribute"})," to development on Github."]}),(0,Ne.jsxs)("li",{children:["Write or view ",(0,Ne.jsx)("a",{href:"https://github.com/PartyPlanner64/PartyPlanner64/issues",target:"_blank",rel:"noopener noreferrer",children:"bugs and enhancement requests"}),"."]}),(0,Ne.jsxs)("li",{children:["Read the ",(0,Ne.jsx)("a",{href:"https://github.com/PartyPlanner64/PartyPlanner64/wiki/Creating-a-Board",target:"_blank",rel:"noopener noreferrer",children:"usage tutorial"})," ","or ",(0,Ne.jsx)("a",{href:"https://github.com/PartyPlanner64/PartyPlanner64/wiki",rel:"noopener noreferrer",children:"documentation"}),"."]})]})]}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsxs)("div",{className:"aboutHeader",children:[(0,Ne.jsx)("span",{children:e}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("a",{href:"http://mariopartylegacy.com/",target:"_blank",rel:"noopener noreferrer",children:(0,Ne.jsx)("img",{src:rF,alt:"Mario Party Legacy"})})]}),(0,Ne.jsx)("div",{className:"aboutText",children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Check out discussion in the ",(0,Ne.jsx)("a",{href:"https://discord.gg/BQMuUpM",target:"_blank",rel:"noopener noreferrer",children:"discord chat"}),"."]}),(0,Ne.jsxs)("li",{children:["Post your creations to the ",(0,Ne.jsx)("a",{href:"http://www.mariopartylegacy.com/forum/index.php?action=downloads",target:"_blank",rel:"noopener noreferrer",children:"downloads page"}),"."]})]})}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("div",{className:"aboutHeader",children:(0,Ne.jsx)("a",{href:"https://teespring.com/stores/partyplanner64",target:"_blank",rel:"noopener",children:(0,Ne.jsxs)("div",{className:"aboutShirt",children:[(0,Ne.jsx)("img",{src:aF,alt:"PartyPlanner64 merchandise",className:"aboutShirtImg"}),(0,Ne.jsx)("span",{className:"aboutShirtText",children:"Official merchandise"})]})})}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("span",{className:"aboutDisclaimer",children:"PartyPlanner64 is not affiliated with Nintendo or Hudson."}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("span",{className:"aboutDisclaimer",children:"Mario Party is a registered trademark of Nintendo."})]})}},{key:"componentDidMount",value:function(){if(nF){var e=window.require("electron").ipcRenderer;e.on("update-check-checking",this._onUpdateCheckStarted),e.on("update-check-noupdate",this._onUpdateCheckNoUpdate),e.on("update-check-hasupdate",this._onUpdateCheckHasUpdate)}}},{key:"componentWillUnmount",value:function(){if(nF){var e=window.require("electron").ipcRenderer;e.removeListener("update-check-checking",this._onUpdateCheckStarted),e.removeListener("update-check-noupdate",this._onUpdateCheckNoUpdate),e.removeListener("update-check-hasupdate",this._onUpdateCheckHasUpdate)}}}]),t}(Le.Component),sF=new _s,lF=new _s,uF=new $o,cF=function(e){s(t,e);var n=A(t);function t(e){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16711680;r(this,t);var s=new Jl,l=e.geometry.attributes.normal.count,u=new zl(2*l*3,3);return s.setAttribute("position",u),(a=n.call(this,s,new ZA({color:o,toneMapped:!1}))).object=e,a.size=i,a.type="VertexNormalsHelper",a.matrixAutoUpdate=!1,a.update(),a}return i(t,[{key:"update",value:function(){this.object.updateMatrixWorld(!0),uF.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,n=this.geometry.attributes.position,t=this.object.geometry;if(t&&t.isGeometry)console.error("THREE.VertexNormalsHelper no longer supports Geometry. Use BufferGeometry instead.");else{if(t&&t.isBufferGeometry)for(var r=t.attributes.position,a=t.attributes.normal,i=0,o=0,s=r.count;o<s;o++)sF.set(r.getX(o),r.getY(o),r.getZ(o)).applyMatrix4(e),lF.set(a.getX(o),a.getY(o),a.getZ(o)),lF.applyMatrix3(uF).normalize().multiplyScalar(this.size).add(sF),n.setXYZ(i,sF.x,sF.y,sF.z),i+=1,n.setXYZ(i,lF.x,lF.y,lF.z),i+=1;n.needsUpdate=!0}}}]),t}(lf),dF=new Zs,AF=new wl,fF=new _s,hF=function(e){s(t,e);var n=A(t);function t(){var e;return r(this,t),(e=n.call(this)).uuid=Jo.generateUUID(),e.name="",e.type="Geometry",e.vertices=[],e.colors=[],e.faces=[],e.faceVertexUvs=[[]],e.morphTargets=[],e.morphNormals=[],e.skinWeights=[],e.skinIndices=[],e.lineDistances=[],e.boundingBox=null,e.boundingSphere=null,e.elementsNeedUpdate=!1,e.verticesNeedUpdate=!1,e.uvsNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.lineDistancesNeedUpdate=!1,e.groupsNeedUpdate=!1,e}return i(t,[{key:"applyMatrix4",value:function(e){for(var n=(new $o).getNormalMatrix(e),t=0,r=this.vertices.length;t<r;t++){this.vertices[t].applyMatrix4(e)}for(var a=0,i=this.faces.length;a<i;a++){var o=this.faces[a];o.normal.applyMatrix3(n).normalize();for(var s=0,l=o.vertexNormals.length;s<l;s++)o.vertexNormals[s].applyMatrix3(n).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}},{key:"rotateX",value:function(e){return dF.makeRotationX(e),this.applyMatrix4(dF),this}},{key:"rotateY",value:function(e){return dF.makeRotationY(e),this.applyMatrix4(dF),this}},{key:"rotateZ",value:function(e){return dF.makeRotationZ(e),this.applyMatrix4(dF),this}},{key:"translate",value:function(e,n,t){return dF.makeTranslation(e,n,t),this.applyMatrix4(dF),this}},{key:"scale",value:function(e,n,t){return dF.makeScale(e,n,t),this.applyMatrix4(dF),this}},{key:"lookAt",value:function(e){return AF.lookAt(e),AF.updateMatrix(),this.applyMatrix4(AF.matrix),this}},{key:"fromBufferGeometry",value:function(e){var n=this,t=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var a=r.position,i=r.normal,o=r.color,s=r.uv,l=r.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=0;u<a.count;u++)n.vertices.push((new _s).fromBufferAttribute(a,u)),void 0!==o&&n.colors.push((new us).fromBufferAttribute(o,u));function c(e,t,r,a){var u=void 0===o?[]:[n.colors[e].clone(),n.colors[t].clone(),n.colors[r].clone()],c=void 0===i?[]:[(new _s).fromBufferAttribute(i,e),(new _s).fromBufferAttribute(i,t),(new _s).fromBufferAttribute(i,r)],d=new gF(e,t,r,c,u,a);n.faces.push(d),void 0!==s&&n.faceVertexUvs[0].push([(new Zo).fromBufferAttribute(s,e),(new Zo).fromBufferAttribute(s,t),(new Zo).fromBufferAttribute(s,r)]),void 0!==l&&n.faceVertexUvs[1].push([(new Zo).fromBufferAttribute(l,e),(new Zo).fromBufferAttribute(l,t),(new Zo).fromBufferAttribute(l,r)])}var d=e.groups;if(d.length>0)for(var A=0;A<d.length;A++)for(var f=d[A],h=f.start,p=h,m=h+f.count;p<m;p+=3)void 0!==t?c(t.getX(p),t.getX(p+1),t.getX(p+2),f.materialIndex):c(p,p+1,p+2,f.materialIndex);else if(void 0!==t)for(var S=0;S<t.count;S+=3)c(t.getX(S),t.getX(S+1),t.getX(S+2));else for(var g=0;g<a.count;g+=3)c(g,g+1,g+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(fF).negate(),this.translate(fF.x,fF.y,fF.z),this}},{key:"normalize",value:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,n=this.boundingSphere.radius,t=0===n?1:1/n,r=new Zs;return r.set(t,0,0,-t*e.x,0,t,0,-t*e.y,0,0,t,-t*e.z,0,0,0,1),this.applyMatrix4(r),this}},{key:"computeFaceNormals",value:function(){for(var e=new _s,n=new _s,t=0,r=this.faces.length;t<r;t++){var a=this.faces[t],i=this.vertices[a.a],o=this.vertices[a.b],s=this.vertices[a.c];e.subVectors(s,o),n.subVectors(i,o),e.cross(n),e.normalize(),a.normal.copy(e)}}},{key:"computeVertexNormals",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new Array(this.vertices.length),t=0,r=this.vertices.length;t<r;t++)n[t]=new _s;if(e)for(var a=new _s,i=new _s,o=0,s=this.faces.length;o<s;o++){var l=this.faces[o],u=this.vertices[l.a],c=this.vertices[l.b],d=this.vertices[l.c];a.subVectors(d,c),i.subVectors(u,c),a.cross(i),n[l.a].add(a),n[l.b].add(a),n[l.c].add(a)}else{this.computeFaceNormals();for(var A=0,f=this.faces.length;A<f;A++){var h=this.faces[A];n[h.a].add(h.normal),n[h.b].add(h.normal),n[h.c].add(h.normal)}}for(var p=0,m=this.vertices.length;p<m;p++)n[p].normalize();for(var S=0,g=this.faces.length;S<g;S++){var v=this.faces[S],x=v.vertexNormals;3===x.length?(x[0].copy(n[v.a]),x[1].copy(n[v.b]),x[2].copy(n[v.c])):(x[0]=n[v.a].clone(),x[1]=n[v.b].clone(),x[2]=n[v.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}},{key:"computeFlatVertexNormals",value:function(){this.computeFaceNormals();for(var e=0,n=this.faces.length;e<n;e++){var t=this.faces[e],r=t.vertexNormals;3===r.length?(r[0].copy(t.normal),r[1].copy(t.normal),r[2].copy(t.normal)):(r[0]=t.normal.clone(),r[1]=t.normal.clone(),r[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}},{key:"computeMorphNormals",value:function(){for(var e=0,n=this.faces.length;e<n;e++){var r=this.faces[e];r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]);for(var a=0,i=r.vertexNormals.length;a<i;a++)r.__originalVertexNormals[a]?r.__originalVertexNormals[a].copy(r.vertexNormals[a]):r.__originalVertexNormals[a]=r.vertexNormals[a].clone()}var o=new t;o.faces=this.faces;for(var s=0,l=this.morphTargets.length;s<l;s++){if(!this.morphNormals[s]){this.morphNormals[s]={},this.morphNormals[s].faceNormals=[],this.morphNormals[s].vertexNormals=[];for(var u=this.morphNormals[s].faceNormals,c=this.morphNormals[s].vertexNormals,d=0,A=this.faces.length;d<A;d++){var f=new _s,h={a:new _s,b:new _s,c:new _s};u.push(f),c.push(h)}}var p=this.morphNormals[s];o.vertices=this.morphTargets[s].vertices,o.computeFaceNormals(),o.computeVertexNormals();for(var m=0,S=this.faces.length;m<S;m++){var g=this.faces[m],v=p.faceNormals[m],x=p.vertexNormals[m];v.copy(g.normal),x.a.copy(g.vertexNormals[0]),x.b.copy(g.vertexNormals[1]),x.c.copy(g.vertexNormals[2])}}for(var _=0,y=this.faces.length;_<y;_++){var w=this.faces[_];w.normal=w.__originalFaceNormal,w.vertexNormals=w.__originalVertexNormals}}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new bs),this.boundingBox.setFromPoints(this.vertices)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new zs),this.boundingSphere.setFromPoints(this.vertices)}},{key:"merge",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&e.isGeometry){var r,a=this.vertices.length,i=this.vertices,o=e.vertices,s=this.faces,l=e.faces,u=this.colors,c=e.colors;void 0!==n&&(r=(new $o).getNormalMatrix(n));for(var d=0,A=o.length;d<A;d++){var f=o[d],h=f.clone();void 0!==n&&h.applyMatrix4(n),i.push(h)}for(var p=0,m=c.length;p<m;p++)u.push(c[p].clone());for(var S=0,g=l.length;S<g;S++){var v=l[S],x=void 0,_=void 0,y=v.vertexNormals,w=v.vertexColors,b=new gF(v.a+a,v.b+a,v.c+a);b.normal.copy(v.normal),void 0!==r&&b.normal.applyMatrix3(r).normalize();for(var V=0,C=y.length;V<C;V++)x=y[V].clone(),void 0!==r&&x.applyMatrix3(r).normalize(),b.vertexNormals.push(x);b.color.copy(v.color);for(var E=0,D=w.length;E<D;E++)_=w[E],b.vertexColors.push(_.clone());b.materialIndex=v.materialIndex+t,s.push(b)}for(var F=0,T=e.faceVertexUvs.length;F<T;F++){var P=e.faceVertexUvs[F];void 0===this.faceVertexUvs[F]&&(this.faceVertexUvs[F]=[]);for(var R=0,L=P.length;R<L;R++){for(var M=P[R],B=[],k=0,I=M.length;k<I;k++)B.push(M[k].clone());this.faceVertexUvs[F].push(B)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)}},{key:"mergeMesh",value:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)}},{key:"mergeVertices",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n={},t=[],r=[],a=Math.pow(10,e),i=0,o=this.vertices.length;i<o;i++){var s=this.vertices[i],l=Math.round(s.x*a)+"_"+Math.round(s.y*a)+"_"+Math.round(s.z*a);void 0===n[l]?(n[l]=i,t.push(this.vertices[i]),r[i]=t.length-1):r[i]=r[n[l]]}for(var u=[],c=0,d=this.faces.length;c<d;c++){var A=this.faces[c];A.a=r[A.a],A.b=r[A.b],A.c=r[A.c];for(var f=[A.a,A.b,A.c],h=0;h<3;h++)if(f[h]===f[(h+1)%3]){u.push(c);break}}for(var p=u.length-1;p>=0;p--){var m=u[p];this.faces.splice(m,1);for(var S=0,g=this.faceVertexUvs.length;S<g;S++)this.faceVertexUvs[S].splice(m,1)}var v=this.vertices.length-t.length;return this.vertices=t,v}},{key:"setFromPoints",value:function(e){this.vertices=[];for(var n=0,t=e.length;n<t;n++){var r=e[n];this.vertices.push(new _s(r.x,r.y,r.z||0))}return this}},{key:"sortFacesByMaterialIndex",value:function(){for(var e=this.faces,n=e.length,t=0;t<n;t++)e[t]._id=t;e.sort((function(e,n){return e.materialIndex-n.materialIndex}));var r,a,i=this.faceVertexUvs[0],o=this.faceVertexUvs[1];i&&i.length===n&&(r=[]),o&&o.length===n&&(a=[]);for(var s=0;s<n;s++){var l=e[s]._id;r&&r.push(i[l]),a&&a.push(o[l])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var n=this.parameters;for(var t in n)void 0!==n[t]&&(e[t]=n[t]);return e}for(var r=[],a=0;a<this.vertices.length;a++){var i=this.vertices[a];r.push(i.x,i.y,i.z)}for(var o=[],s=[],l={},u=[],c={},d=[],A={},f=0;f<this.faces.length;f++){var h=this.faces[f],p=void 0!==this.faceVertexUvs[0][f],m=h.normal.length()>0,S=h.vertexNormals.length>0,g=1!==h.color.r||1!==h.color.g||1!==h.color.b,v=h.vertexColors.length>0,x=0;if(x=b(x,0,0),x=b(x,1,!0),x=b(x,2,!1),x=b(x,3,p),x=b(x,4,m),x=b(x,5,S),x=b(x,6,g),x=b(x,7,v),o.push(x),o.push(h.a,h.b,h.c),o.push(h.materialIndex),p){var _=this.faceVertexUvs[0][f];o.push(E(_[0]),E(_[1]),E(_[2]))}if(m&&o.push(V(h.normal)),S){var y=h.vertexNormals;o.push(V(y[0]),V(y[1]),V(y[2]))}if(g&&o.push(C(h.color)),v){var w=h.vertexColors;o.push(C(w[0]),C(w[1]),C(w[2]))}}function b(e,n,t){return t?e|1<<n:e&~(1<<n)}function V(e){var n=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[n]||(l[n]=s.length/3,s.push(e.x,e.y,e.z)),l[n]}function C(e){var n=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[n]||(c[n]=u.length,u.push(e.getHex())),c[n]}function E(e){var n=e.x.toString()+e.y.toString();return void 0!==A[n]||(A[n]=d.length/2,d.push(e.x,e.y)),A[n]}return e.data={},e.data.vertices=r,e.data.normals=s,u.length>0&&(e.data.colors=u),d.length>0&&(e.data.uvs=[d]),e.data.faces=o,e}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"copy",value:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var n=e.vertices,t=0,r=n.length;t<r;t++)this.vertices.push(n[t].clone());for(var a=e.colors,i=0,o=a.length;i<o;i++)this.colors.push(a[i].clone());for(var s=e.faces,l=0,u=s.length;l<u;l++)this.faces.push(s[l].clone());for(var c=0,d=e.faceVertexUvs.length;c<d;c++){var A=e.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var f=0,h=A.length;f<h;f++){for(var p=A[f],m=[],S=0,g=p.length;S<g;S++){var v=p[S];m.push(v.clone())}this.faceVertexUvs[c].push(m)}}for(var x=e.morphTargets,_=0,y=x.length;_<y;_++){var w={};if(w.name=x[_].name,void 0!==x[_].vertices){w.vertices=[];for(var b=0,V=x[_].vertices.length;b<V;b++)w.vertices.push(x[_].vertices[b].clone())}if(void 0!==x[_].normals){w.normals=[];for(var C=0,E=x[_].normals.length;C<E;C++)w.normals.push(x[_].normals[C].clone())}this.morphTargets.push(w)}for(var D=e.morphNormals,F=0,T=D.length;F<T;F++){var P={};if(void 0!==D[F].vertexNormals){P.vertexNormals=[];for(var R=0,L=D[F].vertexNormals.length;R<L;R++){var M=D[F].vertexNormals[R],B={};B.a=M.a.clone(),B.b=M.b.clone(),B.c=M.c.clone(),P.vertexNormals.push(B)}}if(void 0!==D[F].faceNormals){P.faceNormals=[];for(var k=0,I=D[F].faceNormals.length;k<I;k++)P.faceNormals.push(D[F].faceNormals[k].clone())}this.morphNormals.push(P)}for(var O=e.skinWeights,N=0,j=O.length;N<j;N++)this.skinWeights.push(O[N].clone());for(var U=e.skinIndices,G=0,z=U.length;G<z;G++)this.skinIndices.push(U[G].clone());for(var H=e.lineDistances,W=0,X=H.length;W<X;W++)this.lineDistances.push(H[W]);var K=e.boundingBox;null!==K&&(this.boundingBox=K.clone());var q=e.boundingSphere;return null!==q&&(this.boundingSphere=q.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}},{key:"toBufferGeometry",value:function(){var e=(new SF).fromGeometry(this),n=new Jl,t=new Float32Array(3*e.vertices.length);if(n.setAttribute("position",new jl(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var r=new Float32Array(3*e.normals.length);n.setAttribute("normal",new jl(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var a=new Float32Array(3*e.colors.length);n.setAttribute("color",new jl(a,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);n.setAttribute("uv",new jl(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);n.setAttribute("uv2",new jl(o,2).copyVector2sArray(e.uvs2))}for(var s in n.groups=e.groups,e.morphTargets){for(var l=[],u=e.morphTargets[s],c=0,d=u.length;c<d;c++){var A=u[c],f=new zl(3*A.data.length,3);f.name=A.name,l.push(f.copyVector3sArray(A.data))}n.morphAttributes[s]=l}if(e.skinIndices.length>0){var h=new zl(4*e.skinIndices.length,4);n.setAttribute("skinIndex",h.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new zl(4*e.skinWeights.length,4);n.setAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(n.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(n.boundingBox=e.boundingBox.clone()),n}},{key:"computeTangents",value:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")}},{key:"computeLineDistances",value:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}},{key:"applyMatrix",value:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}],[{key:"createBufferGeometryFromObject",value:function(e){var n=new Jl,t=e.geometry;if(e.isPoints||e.isLine){var r=new zl(3*t.vertices.length,3),a=new zl(3*t.colors.length,3);if(n.setAttribute("position",r.copyVector3sArray(t.vertices)),n.setAttribute("color",a.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new zl(t.lineDistances.length,1);n.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(n.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(n.boundingBox=t.boundingBox.clone())}else e.isMesh&&(n=t.toBufferGeometry());return n}}]),t}(Oo);hF.prototype.isGeometry=!0;var pF,mF,SF=function(){function e(){r(this,e),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return i(e,[{key:"computeGroups",value:function(e){var n,t,r=[],a=void 0,i=e.faces;for(t=0;t<i.length;t++){var o=i[t];o.materialIndex!==a&&(a=o.materialIndex,void 0!==n&&(n.count=3*t-n.start,r.push(n)),n={start:3*t,materialIndex:a})}void 0!==n&&(n.count=3*t-n.start,r.push(n)),this.groups=r}},{key:"fromGeometry",value:function(e){var n,t=e.faces,r=e.vertices,a=e.faceVertexUvs,i=a[0]&&a[0].length>0,o=a[1]&&a[1].length>0,s=e.morphTargets,l=s.length;if(l>0){n=[];for(var u=0;u<l;u++)n[u]={name:s[u].name,data:[]};this.morphTargets.position=n}var c,d=e.morphNormals,A=d.length;if(A>0){c=[];for(var f=0;f<A;f++)c[f]={name:d[f].name,data:[]};this.morphTargets.normal=c}var h=e.skinIndices,p=e.skinWeights,m=h.length===r.length,S=p.length===r.length;r.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var g=0;g<t.length;g++){var v=t[g];this.vertices.push(r[v.a],r[v.b],r[v.c]);var x=v.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var _=v.normal;this.normals.push(_,_,_)}var y=v.vertexColors;if(3===y.length)this.colors.push(y[0],y[1],y[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===i){var b=a[0][g];void 0!==b?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new Zo,new Zo,new Zo))}if(!0===o){var V=a[1][g];void 0!==V?this.uvs2.push(V[0],V[1],V[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new Zo,new Zo,new Zo))}for(var C=0;C<l;C++){var E=s[C].vertices;n[C].data.push(E[v.a],E[v.b],E[v.c])}for(var D=0;D<A;D++){var F=d[D].vertexNormals[g];c[D].data.push(F.a,F.b,F.c)}m&&this.skinIndices.push(h[v.a],h[v.b],h[v.c]),S&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}]),e}(),gF=function(){function e(n,t,a,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r(this,e),this.a=n,this.b=t,this.c=a,this.normal=i&&i.isVector3?i:new _s,this.vertexNormals=Array.isArray(i)?i:[],this.color=o&&o.isColor?o:new us,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=s}return i(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var n=0,t=e.vertexNormals.length;n<t;n++)this.vertexNormals[n]=e.vertexNormals[n].clone();for(var r=0,a=e.vertexColors.length;r<a;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}}]),e}(),vF=function(){function e(){r(this,e),this.bgColor=0,this.showTextures=!0,this.showWireframe=!1,this.showVertexNormals=!1,this.useFormCamera=!1,this.__threeResult=void 0,this.__promises=[]}return i(e,[{key:"createModel",value:function(e){var n=this,t=this._parseMaterials(e);return this.__threeResult=this._parseForm(e,t),new Promise((function(e){Promise.all(n.__promises).then((function(){n.__promises=[],e(n.__threeResult)}))}))}},{key:"_parseForm",value:function(e,n){var t=this._parseFormObj(e,n,0);return 1!==t.length&&console.warn("Expected 1 return object from _parseForm, got ".concat(t.length)),t[0]}},{key:"_parseFormObj",value:function(e,n,t){var r=this,a=A_.getByGlobalIndex(e,"OBJ1",t);if(null===a&&(0===t&&(a=e.OBJ1[0].parsed.objects[0],console.warn("Using first object rather than global index 0 object")),!a))throw new Error("Attempted to get unavailable OBJ ".concat(t));Array.isArray(a)||(a=[a]);for(var i,o=[],s=0;s<a.length;s++){var l=a[s];if(61===l.objType)!function(){for(var t=r._createObject3DFromOBJ1Entry(l),a=0;a<l.children.length;a++){var i=r._parseFormObj(e,n,l.children[a]);i&&i.length&&i.forEach((function(e){t.add(e)}))}o.push(t)}();else if(16===l.objType){var u=this._createObject3DFromOBJ1Entry(l),c=l.skeletonGlobalIndex,d=this._parseFormSkl(e,n,c);u.add(d),o.push(u)}else if(58===l.objType){for(var A=this._createObject3DFromOBJ1Entry(l),f=new hF,h=l.faceIndex;h<l.faceIndex+l.faceCount;h++){var p=e.FAC1[0].parsed.faces[h];this._populateGeometryWithFace(e,f,p)}var m=f.toBufferGeometry();if(m.setIndex(f.vertices.map((function(e,n){return n}))),this.showTextures){var S=new pu(m,n);A.add(S)}if(this.showWireframe){var g=new ZA({color:(i=this.bgColor,255-(i>>>16&255)<<16|255-(i>>>8&255)<<8|255-(255&i)),linewidth:this.showTextures?2:1}),v=new lf(new yf(m),g);A.add(v)}if(this.showVertexNormals){var x=new cF(new pu(m,n),8,65280);A.add(x)}o.push(A)}}return o}},{key:"_createObject3DFromOBJ1Entry",value:function(e){var n=new wl;return e.hasOwnProperty("globalIndex")&&(n.name=this._getObjNameFromId(e.globalIndex)),n.position.x=e.posX,n.position.y=e.posY,n.position.z=e.posZ,n.rotation.x=Pe(e.rotX),n.rotation.y=Pe(e.rotY),n.rotation.z=Pe(e.rotZ),n.rotation.order="ZYX",n.scale.x=e.scaleX,n.scale.y=e.scaleY,n.scale.z=e.scaleZ,n}},{key:"_getObjNameFromId",value:function(e){return W(e)}},{key:"_parseFormSkl",value:function(e,n,t){var r=A_.getByGlobalIndex(e,"SKL1",t);if(null===r||Array.isArray(r))throw new Error("Unexpected SKL1 search result");return this._parseFormSklNode(e,n,r.skls,0)}},{key:"_parseFormSklNode",value:function(e,n,t,r){var a=t[r],i=this._createObject3DFromOBJ1Entry(a),o=a.objGlobalIndex,s=this._parseFormObj(e,n,o);if(s&&s.length&&s.forEach((function(e){i.add(e)})),a.isParentNode)for(var l=r+1;l;){var u=t[l],c=this._parseFormSklNode(e,n,t,l);if(i.add(c),!u.nextSiblingRelativeIndex)break;l+=u.nextSiblingRelativeIndex}return i}},{key:"_populateGeometryWithFace",value:function(e,n,t){if(t.vtxEntries.length){for(var r=e.VTX1[0].parsed.scale,a=t.vtxEntries,i=[],o=0;o<3;o++){var s=a[o],l=e.VTX1[0].parsed.vertices[s.vertexIndex];i.push(n.vertices.length),n.vertices.push(this._makeVertex(l,r))}if(4===a.length)for(var u=0;u<4;u++)if(1!==u){var c=a[u],d=e.VTX1[0].parsed.vertices[c.vertexIndex];i.push(n.vertices.length),n.vertices.push(this._makeVertex(d,r))}3===a.length?this._addFace(n,e,t,[i[0],i[1],i[2]],[a[0],a[1],a[2]]):4===a.length&&(this._addFace(n,e,t,[i[0],i[1],i[2]],[a[0],a[1],a[2]]),this._addFace(n,e,t,[i[3],i[4],i[5]],[a[0],a[2],a[3]]))}}},{key:"_addFace",value:function(e,n,t,r,a){var i=new gF(r[0],r[1],r[2]);i.vertexNormals=this._makeVertexNormals(n,a[0].vertexIndex,a[1].vertexIndex,a[2].vertexIndex),i.materialIndex=this._getMaterialIndex(t),i.color=new us(this._getColorBytes(n,t)),i.vertexColors=this._makeVertexColors(n,t,a[0],a[1],a[2]),e.faceVertexUvs[0].push(this._makeVertexUVs(a[0],a[1],a[2])),e.faces.push(i)}},{key:"_parseMaterials",value:function(e){var n=[new Il({vertexColors:!0}),new Il({vertexColors:!0})];if(e.BMP1)if(e.ATR1&&e.ATR1[0])for(var t=e.ATR1[0].parsed.atrs,r=0;r<t.length;r++){var a=t[r],i=A_.getByGlobalIndex(e,"BMP1",a.bmpGlobalIndex);if(null===i||Array.isArray(i))console.warn("Unexpected bitmap result from global index lookup");else{var o=this._createTextureMaterial(a,i);n.push(o)}}else console.warn("BMPs, but no ATRs");return n}},{key:"_createTextureMaterial",value:function(e,n){var t=this,r=ne(n.src,n.width,n.height);H("Texture",r);var a,i=new ap;i.crossOrigin="";var o=new Promise((function(n){(a=i.load(r,n)).flipY=!1,a.wrapS=t._getWrappingBehavior(e.xBehavior),a.wrapT=t._getWrappingBehavior(e.yBehavior)}));return this.__promises.push(o),new Il({alphaTest:.5,map:a,vertexColors:!0})}},{key:"_getWrappingBehavior",value:function(e){switch(e){case 44:return Bi;case 45:return Li;case 46:return Mi;default:return console.warn("Unknown behavior ".concat(W(e))),Mi}}},{key:"_makeVertex",value:function(e,n){return new _s(e.x*n,e.y*n,e.z*n)}},{key:"_makeVertexNormals",value:function(e,n,t,r){return[this._makeVertexNormal(e,n),this._makeVertexNormal(e,t),this._makeVertexNormal(e,r)]}},{key:"_makeVertexNormal",value:function(e,n){var t=e.VTX1[0].parsed.vertices[n],r=new _s(t.normalX/(127+(t.normalX<0?1:0)),t.normalY/(127+(t.normalY<0?1:0)),t.normalZ/(127+(t.normalZ<0?1:0)));return r.normalize(),r}},{key:"_makeVertexUVs",value:function(e,n,t){return[this._makeVertexUV(e),this._makeVertexUV(n),this._makeVertexUV(t)]}},{key:"_makeVertexUV",value:function(e){return new Zo(e.u,e.v)}},{key:"_getMaterialIndex",value:function(e){return e.atrIndex>=0||54===e.mystery3?e.atrIndex+2:55===e.mystery3?0:void 0}},{key:"_getColorBytes",value:function(e,n){if(54===n.mystery3){var t=n.materialIndex;return this._getColorFromMaterial(e,t)}if(55===n.mystery3)return 16776192;console.warn("Could not determine color for face")}},{key:"_getColorFromMaterial",value:function(e,n){var t;return e.MAT1&&e.MAT1[0]&&e.MAT1[0].parsed&&(t=e.MAT1[0].parsed.materials[n].colorIndex,e.COL1&&e.COL1[0]&&e.COL1[0].parsed&&e.COL1[0].parsed.hasOwnProperty(t))?e.COL1[0].parsed[t]>>>8:(console.warn("Could not find color ".concat(t," specified by material ").concat(n)),16776192)}},{key:"_makeVertexColors",value:function(e,n,t,r,a){return 55!==n.mystery3?[]:[this._makeVertexColor(e,t),this._makeVertexColor(e,r),this._makeVertexColor(e,a)]}},{key:"_makeVertexColor",value:function(e,n){return n.materialIndex<0?null:new us(this._getColorFromMaterial(e,n.materialIndex))}},{key:"createCamera",value:function(e,n,t){var r=new wu(75,n/t,1,999999);if(this.useFormCamera){var a=A_.getObjectsByType(e,97);if(3===a.length){var i=a[0],o=a[1];return r.position.set(i.posX,i.posY,i.posZ),r.lookAt(new _s(o.posX,o.posY,o.posZ)),r}console.warn("Unexpected camera object count: ".concat(a.length))}return r.position.z=500,r}}]),e}(),xF=function(){function e(){r(this,e)}return i(e,null,[{key:"isMtnx",value:function(e){return!!e&&(e instanceof DataView||(e=new DataView(e)),1297370712===e.getUint32(0))}},{key:"unpack",value:function(n){if(n instanceof DataView||(n=new DataView(n)),!e.isMtnx(n))return null;var t=Object.create(null);t.totalFrames=n.getUint16(10),t.tracks=[];for(var r=n.getUint16(8),a=n.getUint32(12),i=n.getUint32(16),o=n.getUint32(20),s=new DataView(n.buffer,n.byteOffset+a),l=new DataView(n.buffer,n.byteOffset+i),u=new DataView(n.buffer,n.byteOffset+o),c=0;c<r;c++){var d=n.getUint32(24+4*c),A=new DataView(n.buffer,n.byteOffset+d);t.tracks.push(e.parseTrack(A,c,s,l,u))}return t}},{key:"parseTrack",value:function(n,t,r,a,i){var o=Object.create(null);o.type=n.getUint8(0),o.dimension=n.getUint8(1),o.mystery1=n.getUint8(2),o.mystery2=n.getUint8(3),o.mystery3=n.getUint16(4),o.totalFrames=n.getUint16(6),o.mystery4=n.getUint8(8),o.objIndex=n.getUint8(9),o.keyframeCount=n.getUint16(14),o.d=r.getUint8(t);var s=n.getUint16(10),l=n.getUint16(12);o.keyframes=Object.create(null);for(var u=0;u<o.keyframeCount;u++){var c=a.getUint16(2*s+2*u);o.keyframes[c]=e.parseData(i,l,u)}return o}},{key:"parseData",value:function(e,n,t){var r=Object.create(null);return r.value1=e.getFloat32(4*n+12*t),r.value2=e.getFloat32(4*n+12*t+4),r.value3=e.getFloat32(4*n+12*t+8),r}}]),e}();!function(e){e[e.X=69]="X",e[e.Y=70]="Y",e[e.Z=71]="Z"}(pF||(pF={})),function(e){e[e.Transform=23]="Transform",e[e.Rotation=76]="Rotation",e[e.Scale=27]="Scale"}(mF||(mF={}));var _F={type:"change"},yF={type:"start"},wF={type:"end"},bF=function(e){s(t,e);var n=A(t);function t(e,a){var i;r(this,t),i=n.call(this),void 0===a&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),a===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.object=e,i.domElement=a,i.domElement.style.touchAction="none",i.enabled=!0,i.target=new _s,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:vi,MIDDLE:xi,RIGHT:_i},i.touches={ONE:yi,TWO:bi},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i.getPolarAngle=function(){return d.phi},i.getAzimuthalAngle=function(){return d.theta},i.getDistance=function(){return this.object.position.distanceTo(this.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",q),this._domElementKeyEvents=e},i.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},i.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(_F),o.update(),l=s.NONE},i.update=function(){var n=new _s,t=(new xs).setFromUnitVectors(e.up,new _s(0,1,0)),r=t.clone().invert(),a=new _s,i=new xs,c=2*Math.PI;return function(){var e=o.object.position;n.copy(e).sub(o.target),n.applyQuaternion(t),d.setFromVector3(n),o.autoRotate&&l===s.NONE&&D(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(d.theta+=A.theta*o.dampingFactor,d.phi+=A.phi*o.dampingFactor):(d.theta+=A.theta,d.phi+=A.phi);var m=o.minAzimuthAngle,S=o.maxAzimuthAngle;return isFinite(m)&&isFinite(S)&&(m<-Math.PI?m+=c:m>Math.PI&&(m-=c),S<-Math.PI?S+=c:S>Math.PI&&(S-=c),d.theta=m<=S?Math.max(m,Math.min(S,d.theta)):d.theta>(m+S)/2?Math.max(m,d.theta):Math.min(S,d.theta)),d.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=f,d.radius=Math.max(o.minDistance,Math.min(o.maxDistance,d.radius)),!0===o.enableDamping?o.target.addScaledVector(h,o.dampingFactor):o.target.add(h),n.setFromSpherical(d),n.applyQuaternion(r),e.copy(o.target).add(n),o.object.lookAt(o.target),!0===o.enableDamping?(A.theta*=1-o.dampingFactor,A.phi*=1-o.dampingFactor,h.multiplyScalar(1-o.dampingFactor)):(A.set(0,0,0),h.set(0,0,0)),f=1,!!(p||a.distanceToSquared(o.object.position)>u||8*(1-i.dot(o.object.quaternion))>u)&&(o.dispatchEvent(_F),a.copy(o.object.position),i.copy(o.object.quaternion),p=!1,!0)}}(),i.dispose=function(){o.domElement.removeEventListener("contextmenu",Y),o.domElement.removeEventListener("pointerdown",z),o.domElement.removeEventListener("pointercancel",X),o.domElement.removeEventListener("wheel",K),o.domElement.removeEventListener("pointermove",H),o.domElement.removeEventListener("pointerup",W),null!==o._domElementKeyEvents&&o._domElementKeyEvents.removeEventListener("keydown",q)};var o=c(i),s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=s.NONE,u=1e-6,d=new nm,A=new nm,f=1,h=new _s,p=!1,m=new Zo,S=new Zo,g=new Zo,v=new Zo,x=new Zo,_=new Zo,y=new Zo,w=new Zo,b=new Zo,V=[],C={};function E(){return Math.pow(.95,o.zoomSpeed)}function D(e){A.theta-=e}function F(e){A.phi-=e}var T=function(){var e=new _s;return function(n,t){e.setFromMatrixColumn(t,0),e.multiplyScalar(-n),h.add(e)}}(),P=function(){var e=new _s;return function(n,t){!0===o.screenSpacePanning?e.setFromMatrixColumn(t,1):(e.setFromMatrixColumn(t,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(n),h.add(e)}}(),R=function(){var e=new _s;return function(n,t){var r=o.domElement;if(o.object.isPerspectiveCamera){var a=o.object.position;e.copy(a).sub(o.target);var i=e.length();i*=Math.tan(o.object.fov/2*Math.PI/180),T(2*n*i/r.clientHeight,o.object.matrix),P(2*t*i/r.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(T(n*(o.object.right-o.object.left)/o.object.zoom/r.clientWidth,o.object.matrix),P(t*(o.object.top-o.object.bottom)/o.object.zoom/r.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function L(e){o.object.isPerspectiveCamera?f/=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function M(e){o.object.isPerspectiveCamera?f*=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function B(e){m.set(e.clientX,e.clientY)}function k(e){v.set(e.clientX,e.clientY)}function I(){if(1===V.length)m.set(V[0].pageX,V[0].pageY);else{var e=.5*(V[0].pageX+V[1].pageX),n=.5*(V[0].pageY+V[1].pageY);m.set(e,n)}}function O(){if(1===V.length)v.set(V[0].pageX,V[0].pageY);else{var e=.5*(V[0].pageX+V[1].pageX),n=.5*(V[0].pageY+V[1].pageY);v.set(e,n)}}function N(){var e=V[0].pageX-V[1].pageX,n=V[0].pageY-V[1].pageY,t=Math.sqrt(e*e+n*n);y.set(0,t)}function j(e){if(1==V.length)S.set(e.pageX,e.pageY);else{var n=Z(e),t=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);S.set(t,r)}g.subVectors(S,m).multiplyScalar(o.rotateSpeed);var a=o.domElement;D(2*Math.PI*g.x/a.clientHeight),F(2*Math.PI*g.y/a.clientHeight),m.copy(S)}function U(e){if(1===V.length)x.set(e.pageX,e.pageY);else{var n=Z(e),t=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);x.set(t,r)}_.subVectors(x,v).multiplyScalar(o.panSpeed),R(_.x,_.y),v.copy(x)}function G(e){var n=Z(e),t=e.pageX-n.x,r=e.pageY-n.y,a=Math.sqrt(t*t+r*r);w.set(0,a),b.set(0,Math.pow(w.y/y.y,o.zoomSpeed)),L(b.y),y.copy(w)}function z(e){!1!==o.enabled&&(0===V.length&&(o.domElement.setPointerCapture(e.pointerId),o.domElement.addEventListener("pointermove",H),o.domElement.addEventListener("pointerup",W)),function(e){V.push(e)}(e),"touch"===e.pointerType?function(e){switch(J(e),V.length){case 1:switch(o.touches.ONE){case yi:if(!1===o.enableRotate)return;I(),l=s.TOUCH_ROTATE;break;case wi:if(!1===o.enablePan)return;O(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(o.touches.TWO){case bi:if(!1===o.enableZoom&&!1===o.enablePan)return;o.enableZoom&&N(),o.enablePan&&O(),l=s.TOUCH_DOLLY_PAN;break;case Vi:if(!1===o.enableZoom&&!1===o.enableRotate)return;o.enableZoom&&N(),o.enableRotate&&I(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&o.dispatchEvent(yF)}(e):function(e){var n;switch(e.button){case 0:n=o.mouseButtons.LEFT;break;case 1:n=o.mouseButtons.MIDDLE;break;case 2:n=o.mouseButtons.RIGHT;break;default:n=-1}switch(n){case xi:if(!1===o.enableZoom)return;!function(e){y.set(e.clientX,e.clientY)}(e),l=s.DOLLY;break;case vi:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;k(e),l=s.PAN}else{if(!1===o.enableRotate)return;B(e),l=s.ROTATE}break;case _i:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;B(e),l=s.ROTATE}else{if(!1===o.enablePan)return;k(e),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&o.dispatchEvent(yF)}(e))}function H(e){!1!==o.enabled&&("touch"===e.pointerType?function(e){switch(J(e),l){case s.TOUCH_ROTATE:if(!1===o.enableRotate)return;j(e),o.update();break;case s.TOUCH_PAN:if(!1===o.enablePan)return;U(e),o.update();break;case s.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&G(e),o.enablePan&&U(e)}(e),o.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&G(e),o.enableRotate&&j(e)}(e),o.update();break;default:l=s.NONE}}(e):function(e){if(!1===o.enabled)return;switch(l){case s.ROTATE:if(!1===o.enableRotate)return;!function(e){S.set(e.clientX,e.clientY),g.subVectors(S,m).multiplyScalar(o.rotateSpeed);var n=o.domElement;D(2*Math.PI*g.x/n.clientHeight),F(2*Math.PI*g.y/n.clientHeight),m.copy(S),o.update()}(e);break;case s.DOLLY:if(!1===o.enableZoom)return;!function(e){w.set(e.clientX,e.clientY),b.subVectors(w,y),b.y>0?L(E()):b.y<0&&M(E()),y.copy(w),o.update()}(e);break;case s.PAN:if(!1===o.enablePan)return;!function(e){x.set(e.clientX,e.clientY),_.subVectors(x,v).multiplyScalar(o.panSpeed),R(_.x,_.y),v.copy(x),o.update()}(e)}}(e))}function W(e){Q(e),0===V.length&&(o.domElement.releasePointerCapture(e.pointerId),o.domElement.removeEventListener("pointermove",H),o.domElement.removeEventListener("pointerup",W)),o.dispatchEvent(wF),l=s.NONE}function X(e){Q(e)}function K(e){!1!==o.enabled&&!1!==o.enableZoom&&l===s.NONE&&(e.preventDefault(),o.dispatchEvent(yF),function(e){e.deltaY<0?M(E()):e.deltaY>0&&L(E()),o.update()}(e),o.dispatchEvent(wF))}function q(e){!1!==o.enabled&&!1!==o.enablePan&&function(e){var n=!1;switch(e.code){case o.keys.UP:R(0,o.keyPanSpeed),n=!0;break;case o.keys.BOTTOM:R(0,-o.keyPanSpeed),n=!0;break;case o.keys.LEFT:R(o.keyPanSpeed,0),n=!0;break;case o.keys.RIGHT:R(-o.keyPanSpeed,0),n=!0}n&&(e.preventDefault(),o.update())}(e)}function Y(e){!1!==o.enabled&&e.preventDefault()}function Q(e){delete C[e.pointerId];for(var n=0;n<V.length;n++)if(V[n].pointerId==e.pointerId)return void V.splice(n,1)}function J(e){var n=C[e.pointerId];void 0===n&&(n=new Zo,C[e.pointerId]=n),n.set(e.pageX,e.pageY)}function Z(e){var n=e.pointerId===V[0].pointerId?V[1]:V[0];return C[n.pointerId]}return o.domElement.addEventListener("contextmenu",Y),o.domElement.addEventListener("pointerdown",z),o.domElement.addEventListener("pointercancel",X),o.domElement.addEventListener("wheel",K,{passive:!1}),i.update(),i}return i(t)}(Oo),VF=function(){function e(){r(this,e),this.pluginCallbacks=[],this.register((function(e){return new eT(e)})),this.register((function(e){return new nT(e)})),this.register((function(e){return new tT(e)})),this.register((function(e){return new aT(e)})),this.register((function(e){return new iT(e)})),this.register((function(e){return new rT(e)}))}return i(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,n,t,r){"object"===typeof t&&(console.warn("THREE.GLTFExporter: parse() expects options as the fourth argument now."),r=t);for(var a=new $F,i=[],o=0,s=this.pluginCallbacks.length;o<s;o++)i.push(this.pluginCallbacks[o](a));a.setPlugins(i),a.write(e,n,r).catch(t)}},{key:"parseAsync",value:function(e,n){var t=this;return new Promise((function(r,a){t.parse(e,r,a,n)}))}}]),e}(),CF=0,EF=1,DF=2,FF=3,TF=4,PF=5121,RF=5123,LF=5126,MF=5125,BF=34962,kF=34963,IF=9728,OF=9729,NF=9984,jF=9985,UF=9986,GF=9987,zF=33071,HF=33648,WF=10497,XF={};XF[1003]=IF,XF[1004]=NF,XF[1005]=UF,XF[1006]=OF,XF[1007]=jF,XF[1008]=GF,XF[1001]=zF,XF[1e3]=WF,XF[1002]=HF;var KF={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function qF(e,n){return e.length===n.length&&e.every((function(e,t){return e===n[t]}))}function YF(e){if(void 0!==window.TextEncoder)return(new TextEncoder).encode(e).buffer;for(var n=new Uint8Array(new ArrayBuffer(e.length)),t=0,r=e.length;t<r;t++){var a=e.charCodeAt(t);n[t]=a>255?32:a}return n.buffer}function QF(e){return 4*Math.ceil(e/4)}function JF(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=QF(e.byteLength);if(t!==e.byteLength){var r=new Uint8Array(t);if(r.set(new Uint8Array(e)),0!==n)for(var a=e.byteLength;a<t;a++)r[a]=n;return r.buffer}return e}var ZF=null,$F=function(){function e(){r(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}return i(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:function(){var e=O(k().mark((function e(n,t,r){var a,i,o,s,l,u,c,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},r),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(n),e.next=5,Promise.all(this.pending);case 5:i=(a=this).buffers,o=a.json,r=a.options,s=a.extensionsUsed,l=new Blob(i,{type:"application/octet-stream"}),(u=Object.keys(s)).length>0&&(o.extensionsUsed=u),o.buffers&&o.buffers.length>0&&(o.buffers[0].byteLength=l.size),!0===r.binary?((c=new window.FileReader).readAsArrayBuffer(l),c.onloadend=function(){var e=JF(c.result),n=new DataView(new ArrayBuffer(8));n.setUint32(0,e.byteLength,!0),n.setUint32(4,5130562,!0);var r=JF(YF(JSON.stringify(o)),32),a=new DataView(new ArrayBuffer(8));a.setUint32(0,r.byteLength,!0),a.setUint32(4,1313821514,!0);var i=new ArrayBuffer(12),s=new DataView(i);s.setUint32(0,1179937895,!0),s.setUint32(4,2,!0);var l=12+a.byteLength+r.byteLength+n.byteLength+e.byteLength;s.setUint32(8,l,!0);var u=new Blob([i,a,r,n,e],{type:"application/octet-stream"}),d=new window.FileReader;d.readAsArrayBuffer(u),d.onloadend=function(){t(d.result)}}):o.buffers&&o.buffers.length>0?((d=new window.FileReader).readAsDataURL(l),d.onloadend=function(){var e=d.result;o.buffers[0].uri=e,t(o)}):t(o);case 15:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}()},{key:"serializeUserData",value:function(e,n){if(0!==Object.keys(e.userData).length){var t=this.options,r=this.extensionsUsed;try{var a=JSON.parse(JSON.stringify(e.userData));if(t.includeCustomExtensions&&a.gltfExtensions){for(var i in void 0===n.extensions&&(n.extensions={}),a.gltfExtensions)n.extensions[i]=a.gltfExtensions[i],r[i]=!0;delete a.gltfExtensions}Object.keys(a).length>0&&(n.extras=a)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}}},{key:"getUID",value:function(e){return this.uids.has(e)||this.uids.set(e,this.uid++),this.uids.get(e)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var n=new _s,t=0,r=e.count;t<r;t++)if(Math.abs(n.fromBufferAttribute(e,t).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var n=this.cache;if(n.attributesNormalized.has(e))return n.attributesNormalized.get(e);for(var t=e.clone(),r=new _s,a=0,i=t.count;a<i;a++)r.fromBufferAttribute(t,a),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),t.setXYZ(a,r.x,r.y,r.z);return n.attributesNormalized.set(e,t),t}},{key:"applyTextureTransform",value:function(e,n){var t=!1,r={};0===n.offset.x&&0===n.offset.y||(r.offset=n.offset.toArray(),t=!0),0!==n.rotation&&(r.rotation=n.rotation,t=!0),1===n.repeat.x&&1===n.repeat.y||(r.scale=n.repeat.toArray(),t=!0),t&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"buildMetalRoughTexture",value:function(e,n){if(e===n)return e;console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");var t=null===e||void 0===e?void 0:e.image,r=null===n||void 0===n?void 0:n.image,a=Math.max((null===t||void 0===t?void 0:t.width)||0,(null===r||void 0===r?void 0:r.width)||0),i=Math.max((null===t||void 0===t?void 0:t.height)||0,(null===r||void 0===r?void 0:r.height)||0),o=document.createElement("canvas");o.width=a,o.height=i;var s=o.getContext("2d");s.fillStyle="#00ffff",s.fillRect(0,0,a,i);var l=s.getImageData(0,0,a,i);if(t){s.drawImage(t,0,0,a,i);for(var u=s.getImageData(0,0,a,i).data,c=2;c<u.length;c+=4)l.data[c]=u[c]}if(r){s.drawImage(r,0,0,a,i);for(var d=s.getImageData(0,0,a,i).data,A=1;A<d.length;A+=4)l.data[A]=d[A]}s.putImageData(l,0,0);var f=(e||n).clone();return f.source=new hs(o).source,f}},{key:"processBuffer",value:function(e){var n=this.json,t=this.buffers;return n.buffers||(n.buffers=[{byteLength:0}]),t.push(e),0}},{key:"processBufferView",value:function(e,n,t,r,a){var i,o=this.json;o.bufferViews||(o.bufferViews=[]),i=n===PF?1:n===RF?2:4;for(var s=QF(r*e.itemSize*i),l=new DataView(new ArrayBuffer(s)),u=0,c=t;c<t+r;c++)for(var d=0;d<e.itemSize;d++){var A=void 0;e.itemSize>4?A=e.array[c*e.itemSize+d]:0===d?A=e.getX(c):1===d?A=e.getY(c):2===d?A=e.getZ(c):3===d&&(A=e.getW(c)),n===LF?l.setFloat32(u,A,!0):n===MF?l.setUint32(u,A,!0):n===RF?l.setUint16(u,A,!0):n===PF&&l.setUint8(u,A),u+=i}var f={buffer:this.processBuffer(l.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==a&&(f.target=a),a===BF&&(f.byteStride=e.itemSize*i),this.byteOffset+=s,o.bufferViews.push(f),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var n=this,t=n.json;return t.bufferViews||(t.bufferViews=[]),new Promise((function(r){var a=new window.FileReader;a.readAsArrayBuffer(e),a.onloadend=function(){var e=JF(a.result),i={buffer:n.processBuffer(e),byteOffset:n.byteOffset,byteLength:e.byteLength};n.byteOffset+=e.byteLength,r(t.bufferViews.push(i)-1)}}))}},{key:"processAccessor",value:function(e,n,t,r){var a,i=this.options,o=this.json;if(e.array.constructor===Float32Array)a=LF;else if(e.array.constructor===Uint32Array)a=MF;else if(e.array.constructor===Uint16Array)a=RF;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");a=PF}if(void 0===t&&(t=0),void 0===r&&(r=e.count),i.truncateDrawRange&&void 0!==n&&null===n.index){var s=t+r,l=n.drawRange.count===1/0?e.count:n.drawRange.start+n.drawRange.count;t=Math.max(t,n.drawRange.start),(r=Math.min(s,l)-t)<0&&(r=0)}if(0===r)return null;var u,c=function(e,n,t){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},a=n;a<n+t;a++)for(var i=0;i<e.itemSize;i++){var o=void 0;e.itemSize>4?o=e.array[a*e.itemSize+i]:0===i?o=e.getX(a):1===i?o=e.getY(a):2===i?o=e.getZ(a):3===i&&(o=e.getW(a)),r.min[i]=Math.min(r.min[i],o),r.max[i]=Math.max(r.max[i],o)}return r}(e,t,r);void 0!==n&&(u=e===n.index?kF:BF);var d=this.processBufferView(e,a,t,r,u),A={bufferView:d.id,byteOffset:d.byteOffset,componentType:a,count:r,max:c.max,min:c.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(A.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(A)-1}},{key:"processImage",value:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"image/png",a=this,i=a.cache,o=a.json,s=a.options,l=a.pending;i.images.has(e)||i.images.set(e,{});var u=i.images.get(e),c=r+":flipY/"+t.toString();if(void 0!==u[c])return u[c];o.images||(o.images=[]);var d={mimeType:r};if(s.embedImages){var A=ZF=ZF||document.createElement("canvas");A.width=Math.min(e.width,s.maxTextureSize),A.height=Math.min(e.height,s.maxTextureSize);var f=A.getContext("2d");if(!0===t&&(f.translate(0,A.height),f.scale(1,-1)),"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap)f.drawImage(e,0,0,A.width,A.height);else{n!==qi&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);for(var h=new Uint8ClampedArray(e.height*e.width*4),p=0;p<h.length;p+=4)h[p+0]=e.data[p+0],h[p+1]=e.data[p+1],h[p+2]=e.data[p+2],h[p+3]=e.data[p+3];f.putImageData(new ImageData(h,e.width,e.height),0,0)}!0===s.binary?l.push(new Promise((function(e){A.toBlob((function(n){a.processBufferViewImage(n).then((function(n){d.bufferView=n,e()}))}),r)}))):d.uri=A.toDataURL(r)}else d.uri=e.src;var m=o.images.push(d)-1;return u[c]=m,m}},{key:"processSampler",value:function(e){var n=this.json;n.samplers||(n.samplers=[]);var t={magFilter:XF[e.magFilter],minFilter:XF[e.minFilter],wrapS:XF[e.wrapS],wrapT:XF[e.wrapT]};return n.samplers.push(t)-1}},{key:"processTexture",value:function(e){var n=this.cache,t=this.json;if(n.textures.has(e))return n.textures.get(e);t.textures||(t.textures=[]);var r=e.userData.mimeType;"image/webp"===r&&(r="image/png");var a={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(a.name=e.name),this._invokeAll((function(n){n.writeTexture&&n.writeTexture(e,a)}));var i=t.textures.push(a)-1;return n.textures.set(e,i),i}},{key:"processMaterial",value:function(e){var n=this.cache,t=this.json;if(n.materials.has(e))return n.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;t.materials||(t.materials=[]);var r={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var a=e.color.toArray().concat([e.opacity]);if(qF(a,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=a),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){var i=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),o={index:this.processTexture(i)};this.applyTextureTransform(o,i),r.pbrMetallicRoughness.metallicRoughnessTexture=o}if(e.map){var s={index:this.processTexture(e.map)};this.applyTextureTransform(s,e.map),r.pbrMetallicRoughness.baseColorTexture=s}if(e.emissive){var l=e.emissive.clone().multiplyScalar(e.emissiveIntensity),u=Math.max(l.r,l.g,l.b);if(u>1&&(l.multiplyScalar(1/u),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),u>0&&(r.emissiveFactor=l.toArray()),e.emissiveMap){var c={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(c,e.emissiveMap),r.emissiveTexture=c}}if(e.normalMap){var d={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(d.scale=e.normalScale.x),this.applyTextureTransform(d,e.normalMap),r.normalTexture=d}if(e.aoMap){var A={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(A.strength=e.aoMapIntensity),this.applyTextureTransform(A,e.aoMap),r.occlusionTexture=A}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),2===e.side&&(r.doubleSided=!0),""!==e.name&&(r.name=e.name),this.serializeUserData(e,r),this._invokeAll((function(n){n.writeMaterial&&n.writeMaterial(e,r)}));var f=t.materials.push(r)-1;return n.materials.set(e,f),f}},{key:"processMesh",value:function(e){var n=this.cache,t=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(var a=0,i=e.material.length;a<i;a++)r.push(e.material[a].uuid);else r.push(e.material.uuid);var o=r.join(":");if(n.meshes.has(o))return n.meshes.get(o);var s,l=e.geometry;if(s=e.isLineSegments?EF:e.isLineLoop?DF:e.isLine?FF:e.isPoints?CF:e.material.wireframe?EF:TF,!0!==l.isBufferGeometry)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");var u={},c={},d=[],A=[],f={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},h=l.getAttribute("normal");void 0===h||this.isNormalizedNormalAttribute(h)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),l.setAttribute("normal",this.createNormalizedNormalAttribute(h)));var p=null;for(var m in l.attributes)if("morph"!==m.slice(0,5)){var S=l.attributes[m];m=f[m]||m.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(m)||(m="_"+m),n.attributes.has(this.getUID(S)))c[m]=n.attributes.get(this.getUID(S));else{p=null;var g=S.array;"JOINTS_0"!==m||g instanceof Uint16Array||g instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),p=new jl(new Uint16Array(g),S.itemSize,S.normalized));var v=this.processAccessor(p||S,l);null!==v&&(c[m]=v,n.attributes.set(this.getUID(S),v))}}if(void 0!==h&&l.setAttribute("normal",h),0===Object.keys(c).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var x=[],_=[],y={};if(void 0!==e.morphTargetDictionary)for(var w in e.morphTargetDictionary)y[e.morphTargetDictionary[w]]=w;for(var b=0;b<e.morphTargetInfluences.length;++b){var V={},C=!1;for(var E in l.morphAttributes)if("position"===E||"normal"===E){var D=l.morphAttributes[E][b],F=E.toUpperCase(),T=l.attributes[E];if(n.attributes.has(this.getUID(D)))V[F]=n.attributes.get(this.getUID(D));else{var P=D.clone();if(!l.morphTargetsRelative)for(var R=0,L=D.count;R<L;R++)P.setXYZ(R,D.getX(R)-T.getX(R),D.getY(R)-T.getY(R),D.getZ(R)-T.getZ(R));V[F]=this.processAccessor(P,l),n.attributes.set(this.getUID(T),V[F])}}else C||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),C=!0);A.push(V),x.push(e.morphTargetInfluences[b]),void 0!==e.morphTargetDictionary&&_.push(y[b])}u.weights=x,_.length>0&&(u.extras={},u.extras.targetNames=_)}var M=Array.isArray(e.material);if(M&&0===l.groups.length)return null;for(var B=M?e.material:[e.material],k=M?l.groups:[{materialIndex:0,start:void 0,count:void 0}],I=0,O=k.length;I<O;I++){var N={mode:s,attributes:c};if(this.serializeUserData(l,N),A.length>0&&(N.targets=A),null!==l.index){var j=this.getUID(l.index);void 0===k[I].start&&void 0===k[I].count||(j+=":"+k[I].start+":"+k[I].count),n.attributes.has(j)?N.indices=n.attributes.get(j):(N.indices=this.processAccessor(l.index,l,k[I].start,k[I].count),n.attributes.set(j,N.indices)),null===N.indices&&delete N.indices}var U=this.processMaterial(B[k[I].materialIndex]);null!==U&&(N.material=U),d.push(N)}u.primitives=d,t.meshes||(t.meshes=[]),this._invokeAll((function(n){n.writeMesh&&n.writeMesh(e,u)}));var G=t.meshes.push(u)-1;return n.meshes.set(o,G),G}},{key:"processCamera",value:function(e){var n=this.json;n.cameras||(n.cameras=[]);var t=e.isOrthographicCamera,r={type:t?"orthographic":"perspective"};return t?r.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:Jo.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(r.name=e.type),n.cameras.push(r)-1}},{key:"processAnimation",value:function(e,n){var t=this.json,r=this.nodeMap;t.animations||(t.animations=[]);for(var a=(e=VF.Utils.mergeMorphTargetTracks(e.clone(),n)).tracks,i=[],o=[],s=0;s<a.length;++s){var l=a[s],u=qp.parseTrackName(l.name),c=qp.findNode(n,u.nodeName),d=KF[u.propertyName];if("bones"===u.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(u.objectIndex):void 0),!c||!d)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',l.name),null;var A=l.values.length/l.times.length;d===KF.morphTargetInfluences&&(A/=c.morphTargetInfluences.length);var f=void 0;!0===l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(f="CUBICSPLINE",A/=3):f=l.getInterpolation()===wo?"STEP":"LINEAR",o.push({input:this.processAccessor(new jl(l.times,1)),output:this.processAccessor(new jl(l.values,A)),interpolation:f}),i.push({sampler:o.length-1,target:{node:r.get(c),path:d}})}return t.animations.push({name:e.name||"clip_"+t.animations.length,samplers:o,channels:i}),t.animations.length-1}},{key:"processSkin",value:function(e){var n=this.json,t=this.nodeMap,r=n.nodes[t.get(e)],a=e.skeleton;if(void 0===a)return null;var i=e.skeleton.bones[0];if(void 0===i)return null;for(var o=[],s=new Float32Array(16*a.bones.length),l=new Zs,u=0;u<a.bones.length;++u)o.push(t.get(a.bones[u])),l.copy(a.boneInverses[u]),l.multiply(e.bindMatrix).toArray(s,16*u);return void 0===n.skins&&(n.skins=[]),n.skins.push({inverseBindMatrices:this.processAccessor(new jl(s,16)),joints:o,skeleton:t.get(i)}),r.skin=n.skins.length-1}},{key:"processNode",value:function(e){var n=this.json,t=this.options,r=this.nodeMap;n.nodes||(n.nodes=[]);var a={};if(t.trs){var i=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();qF(i,[0,0,0,1])||(a.rotation=i),qF(o,[0,0,0])||(a.translation=o),qF(s,[1,1,1])||(a.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===qF(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(a.matrix=e.matrix.elements);if(""!==e.name&&(a.name=String(e.name)),this.serializeUserData(e,a),e.isMesh||e.isLine||e.isPoints){var l=this.processMesh(e);null!==l&&(a.mesh=l)}else e.isCamera&&(a.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var u=[],c=0,d=e.children.length;c<d;c++){var A=e.children[c];if(A.visible||!1===t.onlyVisible){var f=this.processNode(A);null!==f&&u.push(f)}}u.length>0&&(a.children=u)}this._invokeAll((function(n){n.writeNode&&n.writeNode(e,a)}));var h=n.nodes.push(a)-1;return r.set(e,h),h}},{key:"processScene",value:function(e){var n=this.json,t=this.options;n.scenes||(n.scenes=[],n.scene=0);var r={};""!==e.name&&(r.name=e.name),n.scenes.push(r);for(var a=[],i=0,o=e.children.length;i<o;i++){var s=e.children[i];if(s.visible||!1===t.onlyVisible){var l=this.processNode(s);null!==l&&a.push(l)}}a.length>0&&(r.nodes=a),this.serializeUserData(e,r)}},{key:"processObjects",value:function(e){var n=new gA;n.name="AuxScene";for(var t=0;t<e.length;t++)n.children.push(e[t]);this.processScene(n)}},{key:"processInput",value:function(e){var n=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(n){n.beforeParse&&n.beforeParse(e)}));for(var t=[],r=0;r<e.length;r++)e[r]instanceof gA?this.processScene(e[r]):t.push(e[r]);t.length>0&&this.processObjects(t);for(var a=0;a<this.skins.length;++a)this.processSkin(this.skins[a]);for(var i=0;i<n.animations.length;++i)this.processAnimation(n.animations[i],e[0]);this._invokeAll((function(n){n.afterParse&&n.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var n=0,t=this.plugins.length;n<t;n++)e(this.plugins[n])}}]),e}(),eT=function(){function e(n){r(this,e),this.writer=n,this.name="KHR_lights_punctual"}return i(e,[{key:"writeNode",value:function(e,n){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var t=this.writer,r=t.json,a=t.extensionsUsed,i={};e.name&&(i.name=e.name),i.color=e.color.toArray(),i.intensity=e.intensity,e.isDirectionalLight?i.type="directional":e.isPointLight?(i.type="point",e.distance>0&&(i.range=e.distance)):e.isSpotLight&&(i.type="spot",e.distance>0&&(i.range=e.distance),i.spot={},i.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,i.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),a[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},a[this.name]=!0);var o=r.extensions[this.name].lights;o.push(i),n.extensions=n.extensions||{},n.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),nT=function(){function e(n){r(this,e),this.writer=n,this.name="KHR_materials_unlit"}return i(e,[{key:"writeMaterial",value:function(e,n){if(e.isMeshBasicMaterial){var t=this.writer.extensionsUsed;n.extensions=n.extensions||{},n.extensions[this.name]={},t[this.name]=!0,n.pbrMetallicRoughness.metallicFactor=0,n.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),tT=function(){function e(n){r(this,e),this.writer=n,this.name="KHR_materials_pbrSpecularGlossiness"}return i(e,[{key:"writeMaterial",value:function(e,n){if(e.isGLTFSpecularGlossinessMaterial){var t=this.writer,r=t.extensionsUsed,a={};n.pbrMetallicRoughness.baseColorFactor&&(a.diffuseFactor=n.pbrMetallicRoughness.baseColorFactor);var i=[1,1,1];if(e.specular.toArray(i,0),a.specularFactor=i,a.glossinessFactor=e.glossiness,n.pbrMetallicRoughness.baseColorTexture&&(a.diffuseTexture=n.pbrMetallicRoughness.baseColorTexture),e.specularMap){var o={index:t.processTexture(e.specularMap)};t.applyTextureTransform(o,e.specularMap),a.specularGlossinessTexture=o}n.extensions=n.extensions||{},n.extensions[this.name]=a,r[this.name]=!0}}}]),e}(),rT=function(){function e(n){r(this,e),this.writer=n,this.name="KHR_materials_clearcoat"}return i(e,[{key:"writeMaterial",value:function(e,n){if(e.isMeshPhysicalMaterial){var t=this.writer,r=t.extensionsUsed,a={};if(a.clearcoatFactor=e.clearcoat,e.clearcoatMap){var i={index:t.processTexture(e.clearcoatMap)};t.applyTextureTransform(i,e.clearcoatMap),a.clearcoatTexture=i}if(a.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){var o={index:t.processTexture(e.clearcoatRoughnessMap)};t.applyTextureTransform(o,e.clearcoatRoughnessMap),a.clearcoatRoughnessTexture=o}if(e.clearcoatNormalMap){var s={index:t.processTexture(e.clearcoatNormalMap)};t.applyTextureTransform(s,e.clearcoatNormalMap),a.clearcoatNormalTexture=s}n.extensions=n.extensions||{},n.extensions[this.name]=a,r[this.name]=!0}}}]),e}(),aT=function(){function e(n){r(this,e),this.writer=n,this.name="KHR_materials_transmission"}return i(e,[{key:"writeMaterial",value:function(e,n){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var t=this.writer,r=t.extensionsUsed,a={};if(a.transmissionFactor=e.transmission,e.transmissionMap){var i={index:t.processTexture(e.transmissionMap)};t.applyTextureTransform(i,e.transmissionMap),a.transmissionTexture=i}n.extensions=n.extensions||{},n.extensions[this.name]=a,r[this.name]=!0}}}]),e}(),iT=function(){function e(n){r(this,e),this.writer=n,this.name="KHR_materials_volume"}return i(e,[{key:"writeMaterial",value:function(e,n){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var t=this.writer,r=t.extensionsUsed,a={};if(a.thicknessFactor=e.thickness,e.thicknessMap){var i={index:t.processTexture(e.thicknessMap)};t.applyTextureTransform(i,e.thicknessMap),a.thicknessTexture=i}a.attenuationDistance=e.attenuationDistance,a.attenuationColor=e.attenuationColor.toArray(),n.extensions=n.extensions||{},n.extensions[this.name]=a,r[this.name]=!0}}}]),e}();VF.Utils={insertKeyframe:function(e,n){var t,r=.001,a=e.getValueSize(),i=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+a),s=e.createInterpolant(new e.ValueBufferType(a));if(0===e.times.length){i[0]=n;for(var l=0;l<a;l++)o[l]=0;t=0}else if(n<e.times[0]){if(Math.abs(e.times[0]-n)<r)return 0;i[0]=n,i.set(e.times,1),o.set(s.evaluate(n),0),o.set(e.values,a),t=0}else if(n>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-n)<r)return e.times.length-1;i[i.length-1]=n,i.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(n),e.values.length),t=i.length-1}else for(var u=0;u<e.times.length;u++){if(Math.abs(e.times[u]-n)<r)return u;if(e.times[u]<n&&e.times[u+1]>n){i.set(e.times.slice(0,u+1),0),i[u+1]=n,i.set(e.times.slice(u+1),u+2),o.set(e.values.slice(0,(u+1)*a),0),o.set(s.evaluate(n),(u+1)*a),o.set(e.values.slice((u+1)*a),(u+2)*a),t=u+1;break}}return e.times=i,e.values=o,t},mergeMorphTargetTracks:function(e,n){for(var t=[],r={},a=e.tracks,i=0;i<a.length;++i){var o=a[i],s=qp.parseTrackName(o.name),l=qp.findNode(n,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(bo)}var u=l.morphTargetInfluences.length,c=l.morphTargetDictionary[s.propertyIndex];if(void 0===c)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var d=void 0;if(void 0!==r[l.uuid]){var A=o.createInterpolant(new o.ValueBufferType(1));d=r[l.uuid];for(var f=0;f<d.times.length;f++)d.values[f*u+c]=A.evaluate(d.times[f]);for(var h=0;h<o.times.length;h++){var p=this.insertKeyframe(d,o.times[h]);d.values[p*u+c]=o.values[h]}}else{for(var m=new((d=o.clone()).ValueBufferType)(u*d.times.length),S=0;S<d.times.length;S++)m[S*u+c]=d.values[S];d.name=(s.nodeName||"")+".morphTargetInfluences",d.values=m,r[l.uuid]=d,t.push(d)}}else t.push(o)}return e.tracks=t,e}};var oT=function(){function e(){r(this,e),this.form=void 0}return i(e,[{key:"createClip",value:function(e){var n=this._createTracks(e),t=this._framesToSeconds(e.totalFrames);return new qh("MTNX",t,n)}},{key:"_createTracks",value:function(e){for(var n=[],t=0;t<e.tracks.length;t++){var r=this._createTrack(e.tracks[t]);r&&n.push(r)}return this._adjustTrackOrder(n),n}},{key:"_createTrack",value:function(e){var n=mF;switch(e.type){case n.Transform:return this._createTransformTrack(e);case n.Rotation:return this._createRotationTrack(e);case n.Scale:return this._createScaleTrack(e)}console.warn("Unsupported track type ".concat(W(e.type)))}},{key:"_createTransformTrack",value:function(e){var n=this._createTransformTrackName(e),t=this._createKeyframeSecsArr(e.keyframes),r=this._createTransformTrackData(e);return new Kh(n,t,r)}},{key:"_createTransformTrackName",value:function(e){var n=this._getObjNameFromIndex(e.objIndex),t=this._getDimensionProperty(e.dimension);return"".concat(n,".position[").concat(t,"]")}},{key:"_createTransformTrackData",value:function(e){var n=[];for(var t in e.keyframes){var r=e.keyframes[t].value1;n.push(r)}return n}},{key:"_createRotationTrack",value:function(e){var n=this._createRotationTrackName(e),t=this._createKeyframeSecsArr(e.keyframes),r=this._createRotationTrackData(e);return new Kh(n,t,r)}},{key:"_createRotationTrackName",value:function(e){var n=this._getObjNameFromIndex(e.objIndex),t=this._getDimensionProperty(e.dimension);return"".concat(n,".rotation[").concat(t,"]")}},{key:"_createRotationTrackData",value:function(e){var n=[];for(var t in e.keyframes){var r=Pe(e.keyframes[t].value1);n.push(r)}return n}},{key:"_createQuaternion",value:function(e,n){var t=new xs,r=Pe(n),a=pF;switch(e){case a.X:t.setFromAxisAngle(new _s(1,0,0),r);break;case a.Y:t.setFromAxisAngle(new _s(0,1,0),r);break;case a.Z:t.setFromAxisAngle(new _s(0,0,1),r);break;default:console.warn("Didn't set quaternion value for ".concat(W(e)))}return t}},{key:"_createScaleTrack",value:function(e){var n=this._createScaleTrackName(e),t=this._createKeyframeSecsArr(e.keyframes),r=this._createScaleTrackData(e);return new Kh(n,t,r)}},{key:"_createScaleTrackName",value:function(e){var n=this._getObjNameFromIndex(e.objIndex),t=this._getDimensionProperty(e.dimension);return"".concat(n,".scale[").concat(t,"]")}},{key:"_createScaleTrackData",value:function(e){var n=[];for(var t in e.keyframes){var r=e.keyframes[t].value1;n.push(r)}return n}},{key:"_createKeyframeSecsArr",value:function(e){var n=[];for(var t in e)n.push(this._framesToSeconds(parseInt(t)));return n}},{key:"_getDimensionProperty",value:function(e){var n=pF;switch(e){case n.X:return"x";case n.Y:return"y";case n.Z:return"z"}throw new Error("Unknown dimension ".concat(W(e)))}},{key:"_getObjNameFromIndex",value:function(e){for(var n=-1,t=this.form.OBJ1[0].parsed.objects,r=0;r<t.length;r++)if(61===t[r].objType&&++n===e)return W(t[r].globalIndex);return console.warn("Couldn't find associated object ".concat(e," for track")),W(e)}},{key:"_framesToSeconds",value:function(e){return e/60}},{key:"_adjustTrackOrder",value:function(e){}}]),e}(),sT=function(e){s(t,e);var n=A(t);function t(e){var a;r(this,t),(a=n.call(this,e)).modelToolbar=null,a.onModelSelected=function(e){var n=e.match(/^(\d+)\/(\d+)/);if(!n)throw new Error("Could not parse selected model string ".concat(a.state.selectedModel));var t=(0,xe.Z)(n,3),r=t[1],i=t[2];a.setState({selectedModel:e,selectedModelDir:r,selectedModelFile:i,selectedAnim:"",selectedAnimDir:null,selectedAnimFile:null})},a.onAnimSelected=function(e){if(e){var n=e.match(/^(\d+)\/(\d+)/);if(!n)throw new Error("Error parsing anim string ".concat(e));var t=(0,xe.Z)(n,3),r=t[1],i=t[2];a.setState({selectedAnim:e,selectedAnimDir:r,selectedAnimFile:i})}else a.setState({selectedAnim:"",selectedAnimDir:null,selectedAnimFile:null})},a.onBgColorChange=function(e){a.setState({bgColor:e})},a.onFeatureChange=function(e){a.setState(e)},a.onKeyDown=function(e){if(e.key&&a.modelToolbar){var n=e.key.toLowerCase();"m"===n?a.modelToolbar.focusModelSelect():"a"===n&&a.modelToolbar.focusAnimSelect()}},a.state={selectedModel:"",selectedModelDir:null,selectedModelFile:null,selectedAnim:"",selectedAnimDir:null,selectedAnimFile:null,bgColor:0,showTextures:!0,showWireframe:!1,showVertexNormals:!1,useCamera:!1};for(var i=rn.getDirectoryCount(),o=2;o<i;o++)for(var s=rn.getFileCount(o),l=0;l<s;l++){var u=rn.get(o,l);if(A_.isForm(u)){var A=o+"/"+l;return c(a).state.selectedModel=A,c(a).state.selectedModelDir=o,c(a).state.selectedModelFile=l,d(a)}}return a}return i(t,[{key:"render",value:function(){var e=this;return(0,Ne.jsxs)("div",{className:"modelViewerContainer",tabIndex:-1,onKeyDownCapture:this.onKeyDown,children:[(0,Ne.jsx)(ST,{ref:function(n){e.modelToolbar=n},selectedModel:this.state.selectedModel,onModelSelected:this.onModelSelected,selectedModelDir:this.state.selectedModelDir,selectedModelFile:this.state.selectedModelFile,selectedAnim:this.state.selectedAnim,onAnimSelected:this.onAnimSelected,selectedAnimDir:this.state.selectedAnimDir,selectedAnimFile:this.state.selectedAnimFile,bgColor:this.state.bgColor,onBgColorChange:this.onBgColorChange,showTextures:this.state.showTextures,showWireframe:this.state.showWireframe,showVertexNormals:this.state.showVertexNormals,useCamera:this.state.useCamera,onFeatureChange:this.onFeatureChange}),(0,Ne.jsx)(mT,{selectedModelDir:this.state.selectedModelDir,selectedModelFile:this.state.selectedModelFile,selectedAnimDir:this.state.selectedAnimDir,selectedAnimFile:this.state.selectedAnimFile,bgColor:this.state.bgColor,showTextures:this.state.showTextures,showWireframe:this.state.showWireframe,showVertexNormals:this.state.showVertexNormals,useCamera:this.state.useCamera})]})}}]),t}(Le.Component),lT=null,uT=null,cT=null,dT=null,AT=null,fT=null,hT=null,pT=null,mT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).__container=null,e.state={hasError:!1},e.onWindowResize=function(){if(AT&&cT){var n=e.__container,t=n.offsetHeight,r=n.offsetWidth;cT.aspect=r/t,cT.updateProjectionMatrix(),AT.setSize(r,t)}},e}return i(t,[{key:"render",value:function(){var e=this;return this.state.hasError?(0,Ne.jsx)("p",{children:"An error occurred during rendering, see the browser console."}):(0,Ne.jsx)("div",{className:"modelRenderContainer",style:{backgroundColor:"#"+ci(W(this.props.bgColor,""),6,"0")},ref:function(n){return e.__container=n}})}},{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0}),console.error(e,n)}},{key:"componentDidMount",value:function(){try{window.addEventListener("resize",this.onWindowResize),lT=this,this.initModel()}catch(e){console.error(e)}}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.onWindowResize),lT=null,this.clearViewer()}catch(e){console.error(e)}}},{key:"componentDidUpdate",value:function(){try{this.clearViewer(),this.initModel()}catch(e){console.error(e)}}},{key:"clearViewer",value:function(){this.disposeTHREERenderer(),this.disposeTHREEObj(dT),dT=null,pT&&(pT.stopAllAction(),pT=null),hT&&(hT.stop(),hT=null),null!==uT&&(clearTimeout(uT),uT=null)}},{key:"disposeTHREERenderer",value:function(){if(AT){AT.dispose(),AT.forceContextLoss();var e=this.__container;e&&(e.innerHTML=""),AT.domElement=void 0,AT=null}}},{key:"disposeTHREEObj",value:function(e){if(e){for(var n=0;n<e.children.length;n++)this.disposeTHREEObj(e.children[n]);var t;if(e.geometry&&(e.geometry.dispose(),e.geometry=void 0),e.material)e.material instanceof Array&&(t=e.material),t?t.forEach((function(e){e.map&&e.map.dispose(),e.lightMap&&e.lightMap.dispose(),e.bumpMap&&e.bumpMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.specularMap&&e.specularMap.dispose(),e.envMap&&e.envMap.dispose(),e.dispose()})):(e.material.map&&e.material.map.dispose(),e.material.lightMap&&e.material.lightMap.dispose(),e.material.bumpMap&&e.material.bumpMap.dispose(),e.material.normalMap&&e.material.normalMap.dispose(),e.material.specularMap&&e.material.specularMap.dispose(),e.material.envMap&&e.material.envMap.dispose(),e.material.dispose())}}},{key:"initModel",value:function(){var e=this;if(null!==this.props.selectedModelDir){var n=[this.props.selectedModelDir,this.props.selectedModelFile],t=n[0],r=n[1],a=this.__container,i=a.offsetHeight,o=a.offsetWidth;H("Rendering model ".concat(t,"/").concat(r));var s=A_.unpack(rn.get(t,r));H("form",s);var l=new vF;l.bgColor=this.props.bgColor,l.showTextures=this.props.showTextures,l.showWireframe=this.props.showWireframe,l.showVertexNormals=this.props.showVertexNormals,l.useFormCamera=this.props.useCamera,l.createModel(s).then((function(n){if((dT=new gA).background=new us(e.props.bgColor),dT.add(n),H("Scene",dT),null!==e.props.selectedAnimDir){var t=[e.props.selectedAnimDir,e.props.selectedAnimFile],r=t[0],u=t[1],c=xF.unpack(rn.get(r,u));H("mtnx",c);var d=new oT;d.form=s;var A=d.createClip(c);H("mtnxClip",A),(pT=new Jp(dT)).clipAction(A).play(),hT=new Rp}(AT=new hA({antialias:!0})).setSize(o,i),a.appendChild(AT.domElement),cT=l.createCamera(s,o,i),fT=new bF(cT,AT.domElement),e.animate()}))}}},{key:"renderModel",value:function(){AT.render(dT,cT)}},{key:"animate",value:function(){if(lT&&AT){if(fT.update(),hT){var e=hT.getDelta();pT&&pT.update(e)}lT.renderModel(),Ze(Oe.limitModelFPS)?uT=setTimeout((function(){lT&&requestAnimationFrame(lT.animate)}),1e3/30):requestAnimationFrame(lT.animate)}}}]),t}(Le.Component),ST=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).animSelect=null,e.modelSelect=null,e.state={},e.focusModelSelect=function(){e.modelSelect&&e.modelSelect.focus()},e.focusAnimSelect=function(){e.animSelect&&e.animSelect.focus()},e}return i(t,[{key:"render",value:function(){var e=this;return(0,Ne.jsxs)("div",{className:"modelViewerToolbar",children:[(0,Ne.jsx)(gT,{ref:function(n){e.modelSelect=n},selectedModel:this.props.selectedModel,onModelSelected:this.props.onModelSelected}),(0,Ne.jsx)(vT,{ref:function(n){e.animSelect=n},selectedAnim:this.props.selectedAnim,selectedModelDir:this.props.selectedModelDir,onAnimSelected:this.props.onAnimSelected}),(0,Ne.jsx)(xT,{selectedColor:this.props.bgColor,onColorChange:this.props.onBgColorChange}),(0,Ne.jsx)(_T,{showTextures:this.props.showTextures,showWireframe:this.props.showWireframe,showVertexNormals:this.props.showVertexNormals,useCamera:this.props.useCamera,onFeatureChange:this.props.onFeatureChange}),(0,Ne.jsx)("div",{className:"modelViewerToolbarSpacer"}),(0,Ne.jsx)(yT,{selectedModelDir:this.props.selectedModelDir,selectedModelFile:this.props.selectedModelFile,selectedAnimDir:this.props.selectedAnimDir,selectedAnimFile:this.props.selectedAnimFile})]})}}]),t}(Le.Component),gT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).selectEl=null,e.state={},e.focus=function(){e.selectEl&&e.selectEl.focus()},e.modelSelected=function(n){e.props.onModelSelected&&e.props.onModelSelected(n.target.value)},e}return i(t,[{key:"render",value:function(){var e=this,n=this.getModelEntries().map((function(e){var n=(0,xe.Z)(e,2),t=n[0],r=n[1],a=t+"/"+r,i="0x"+ci(W(t,""),4,"0")+"/"+ci(W(r,""),4,"0");return(0,Ne.jsx)("option",{value:a,title:i,children:a},a)}));return(0,Ne.jsxs)("div",{className:"modelSelectContainer",children:["Model:",(0,Ne.jsx)("select",{ref:function(n){e.selectEl=n},value:this.props.selectedModel,onChange:this.modelSelected,children:n})]})}},{key:"getModelEntries",value:function(){for(var e=[],n=rn.getDirectoryCount(),t=0;t<n;t++)for(var r=rn.getFileCount(t),a=0;a<r;a++){var i=rn.get(t,a);if(A_.isForm(i))try{e.push([t,a])}catch(o){console.error("Could not parse FORM ".concat(t,"/").concat(a),o)}}return e}}]),t}(Le.Component),vT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).selectEl=null,e.state={},e.focus=function(){e.selectEl&&e.selectEl.focus()},e.animSelected=function(n){e.props.onAnimSelected&&e.props.onAnimSelected(n.target.value)},e}return i(t,[{key:"render",value:function(){var e=this,n=this.getAnimEntries().map((function(e){return(0,Ne.jsx)("option",{value:e,children:e},e)}));return n.unshift((0,Ne.jsx)("option",{value:""},"")),(0,Ne.jsxs)("div",{className:"modelSelectContainer",children:["Animation:",(0,Ne.jsx)("select",{ref:function(n){e.selectEl=n},value:this.props.selectedAnim,onChange:this.animSelected,children:n})]})}},{key:"getAnimEntries",value:function(){var e=[];if(null===this.props.selectedModelDir)return e;if(Ze(Oe.limitModelAnimations))return this.getAnimationsInDir(this.props.selectedModelDir);for(var n=rn.getDirectoryCount(),t=0;t<n;t++)e=e.concat(this.getAnimationsInDir(t));return e}},{key:"getAnimationsInDir",value:function(e){for(var n=[],t=rn.getFileCount(e),r=0;r<t;r++){var a=rn.get(e,r);if(xF.isMtnx(a)){var i=e+"/"+r;try{n.push(i)}catch(o){console.error("Could not parse MTNX ".concat(e,"/").concat(r),o)}}}return n}}]),t}(Le.Component),xT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onColorChange=function(n,t){e.setState({color:n}),e.props.onColorChange(n)},e}return i(t,[{key:"render",value:function(){var e;return G()&&(e=(0,Ne.jsx)(Ue,{id:13035519,allowDeselect:!1,onToggled:this.onColorChange,pressed:13035519===this.props.selectedColor,children:(0,Ne.jsx)("span",{className:"colorSwatch",title:"Change background to MP3 motion test (0xC6E7FF)",style:{backgroundColor:"#C6E7FF"}})},2)),(0,Ne.jsxs)("div",{className:"modelViewerColorPicker",children:[(0,Ne.jsx)(Ue,{id:0,allowDeselect:!1,onToggled:this.onColorChange,pressed:0===this.props.selectedColor,children:(0,Ne.jsx)("span",{className:"colorSwatch",title:"Change background to black",style:{backgroundColor:"#000000"}})},0),(0,Ne.jsx)(Ue,{id:16777215,allowDeselect:!1,onToggled:this.onColorChange,pressed:16777215===this.props.selectedColor,children:(0,Ne.jsx)("span",{className:"colorSwatch",title:"Change background to white",style:{backgroundColor:"#FFFFFF"}})},1),e]})}}]),t}(Le.Component),_T=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onShowTextureChange=function(n){var t=n.target.checked;t||e.props.showWireframe?e.props.onFeatureChange({showTextures:t}):e.props.onFeatureChange({showTextures:t,showWireframe:!0})},e.onShowWireframeChange=function(n){var t=n.target.checked;t||e.props.showTextures?e.props.onFeatureChange({showWireframe:t}):e.props.onFeatureChange({showTextures:!0,showWireframe:t})},e.onShowNormalsChange=function(n){var t=n.target.checked;e.props.onFeatureChange({showVertexNormals:t})},e.onUseCameraChange=function(n){var t=n.target.checked;e.props.onFeatureChange({useCamera:t})},e}return i(t,[{key:"render",value:function(){var e;return Ze(Oe.uiAdvanced)&&(e=[(0,Ne.jsxs)("label",{children:[(0,Ne.jsx)("input",{type:"checkbox",checked:this.props.showVertexNormals,onChange:this.onShowNormalsChange}),"Vertex Normals"]},"modelFeatureSelectShowVertexNormals")]),(0,Ne.jsxs)("div",{className:"modelFeatureSelectContainer",children:[(0,Ne.jsxs)("label",{children:[(0,Ne.jsx)("input",{type:"checkbox",checked:this.props.showTextures,onChange:this.onShowTextureChange}),"Textures"]},"modelFeatureSelectShowTextures"),(0,Ne.jsxs)("label",{children:[(0,Ne.jsx)("input",{type:"checkbox",checked:this.props.showWireframe,onChange:this.onShowWireframeChange}),"Wireframe"]},"modelFeatureSelectShowWireframe"),(0,Ne.jsxs)("label",{title:"Use the camera defined by the model",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:this.props.useCamera,onChange:this.onUseCameraChange}),"Camera"]},"modelFeatureSelectUseCamera"),e]})}}]),t}(Le.Component),yT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.export=O(k().mark((function n(){var t,r,a,i,o,s,l,u,c,d;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[e.props.selectedModelDir,e.props.selectedModelFile],r=t[0],a=t[1],i=A_.unpack(rn.get(r,a)),o=new vF,n.next=5,o.createModel(i);case 5:return H("Exporting Three model object",s=n.sent),l=!!Ze(Oe.modelUseGLB),u={binary:l},c=new VF,n.next=13,c.parseAsync(s,u);case 13:d=n.sent,l?(0,Py.saveAs)(new Blob([d]),"model-".concat(r,"-").concat(a,".glb")):(0,Py.saveAs)(new Blob([JSON.stringify(d)]),"model-".concat(r,"-").concat(a,".gltf"));case 15:case"end":return n.stop()}}),n)}))),e}return i(t,[{key:"render",value:function(){var e;return null!==this.props.selectedAnimDir&&(e="Export current model and animation to a glTF model file"),e="Export current model to a glTF model file",(0,Ne.jsxs)(je,{onClick:this.export,css:"btnModelExport",title:e,children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEDBCArhrzjSQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA3klEQVQ4y9WSPWpCURSEv5GHpLFKaxPEUkhtmSaNYrAVwS1YuIS0LiHapBbFFbgBwUayg0C2kOfYXOF69T0kTfBUhzPDnJ858N+hIsD2EBgBObAHxpIOKS8rEW8ALyGvFTWrlAj8RvlBUn6NlCVjV4H30K0dQU+2p6G+kLShZPe+i2N+cUTbfeAR+Dop2+4Cq4S7ltQNeB3oADm2d0F9lkwyiDovbVci7PUEZMEmgDOLJH3afgDeJPXSTW9xAeAD6JURYhdatifX/LadlprxEbfA819fOQN+gO94r/uKI0KFfwl0bVcYAAAAAElFTkSuQmCC",height:"16",width:"16",alt:""}),"glTF"]})}}]),t}(Le.Component),wT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBQ0VISOZx0KOAAABA0lEQVQ4y52SMW7CMBiFPwMTbMnOATJ3bwcW5kpwic5sqFS9QsUtkHKEMrOzcAGD6M5g+hgSklh1nIq3/fL7/N4vGzxpqJ2a2mnoOwb+yJQnvvgpp5Q3pmxolxaSRtU0krQIGzPlcmqTU67MB3J1KS+cpgQcfeK6mgGP6J7Q55Us4tuzMdfmDrPOHWaFs1cS484uY//hLACf/ALvbPkGXnjmA+ixrBxVpYkkKQGQtALQSgJQIkma+JWOACTBMknDUQG2E7A+cMYBaRBIAcfZA4w4RRNORn5C0bEdON6HGrDRSjYMtCcEgIcq/SOhfut59OvN/yYcol8vdKq1LsHbL1rXrhtcbPgQjV6DLQAAAABJRU5ErkJggg==";function bT(){var e=Mv(),n=ky(),t=function(e){iy(e,!1),X_(VT(vx(e).language))},r=function(e){iy(e,!0),X_(VT(Zy(Hy(),e).language))},a=function(){var e=O(k().mark((function e(n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ay("Are you sure you want to delete ".concat(n.name,"?"));case 2:if(!e.sent){e.next=4;break}t=n.id,Sx.dispatch(Og({eventId:t}));case 4:case"end":return e.stop()}var t}),e)})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=O(k().mark((function e(n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ay("Are you sure you want to delete ".concat(n.name," from the board?"));case 2:if(!e.sent){e.next=4;break}t=n.id,Sx.dispatch(Gg({eventId:t}));case 4:case"end":return e.stop()}var t}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=O(k().mark((function e(n,t){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,!t){e.next=5;break}return e.next=4,Ay("Are you sure you want to overwrite the board's copy of ".concat(n.id,"? The two copies are different."));case 4:r=e.sent;case 5:r&&$y(n);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=O(k().mark((function e(n,t){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,!t){e.next=5;break}return e.next=4,Ay("Are you sure you want to overwrite the library's copy of ".concat(n.id,"? The two copies are different."));case 4:r=e.sent;case 5:r&&gx(n);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),l=null;n.length?(n=n.sort((function(e,n){return di(e.name,n.name)})),l=n.map((function(n){var r=function(e,n){return!(!n.events||!(e.id in n.events))&&n.events[e.id]!==e.asm}(n,e),i=DT(n,e);return(0,Ne.jsx)(FT,{event:n,onEditEvent:t,onDeleteEvent:a,isDestructiveCopy:r,onCopyToBoard:i?void 0:o},n.id)}))):l=(0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{children:"No custom events present \u2014 load or create your own!"})});var u=[];for(var c in e.events){var d=Zy(e,c),A=KS(d.language,d.code),f=ET(A),h=DT(A,e);u.push((0,Ne.jsx)(FT,{event:A,onEditEvent:r,onDeleteEvent:i,isDestructiveCopy:f,onCopyToLibrary:h?void 0:s},c))}return u=u.sort((function(e,n){return di(e.key,n.key)})),(0,Ne.jsxs)("div",{className:"eventsViewContainer",children:[(0,Ne.jsxs)("h3",{children:["Events for ",e.name]}),u.length?(0,Ne.jsx)(CT,{listing:u}):(0,Ne.jsx)("p",{children:"No events are associated with this board."}),(0,Ne.jsxs)("h3",{children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAYAAACtv5zzAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wEeAhkYWkovsAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAFXSURBVEjH7ZY/isJAFIe/iUNs7GyHVBrIBfQAnsTKZg4gaC9eQLGzELYQKzvPYGtnp7UQkCCKeVtlN5GVTVa3yw+GyRsmv483f3gDD5L36CPxUyKS8QfYbrcMh0N2ux1FFQQBm80GQAHotPn5fGY6nRJFEYvFgnq9XhjgeV4mTmcg4/GYfr+PMQYA13UBuF6vuK771SdKx0EQsF6v8TyPw+HwlQEikjTxfV/u9/uPixrHsRhjMmPp2BjzOAcRwUmnE0URjuPwTr3XrQQAhGHIfD4nDMP/AVhr0Vpjrc01X+c1VkrR6XQYDAY0m03a7TaVSuX3H9P34PGcF1Gue1Ae0xJQAl7X6XTC9/3ngEajweVy+TNgMpkwGo2eA3q9HsvlsjAkjmOOxyPVapVWq/W86N9uN1arFbPZjP1+n7voa63pdrtYa6nVat8FP/2RPLpe3QelVMbzE+UdW2MGbKCcAAAAAElFTkSuQmCC",className:"eventsViewHeaderIcon",alt:""})," ","Event Library"]}),(0,Ne.jsx)(CT,{listing:l})]})}function VT(e){return e===x.C?f.CREATEEVENT_C:f.CREATEEVENT_ASM}function CT(e){return(0,Ne.jsx)("div",{className:"eventsViewTable",children:e.listing})}function ET(e){var n=vx(e.id);return!!n&&n.asm!==e.asm}function DT(e,n){if(!n.events||!(e.id in n.events))return!1;var t=vx(e.id);return!!t&&Zy(n,e.id).code===t.asm}var FT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onExportEvent=function(){var n=e.props.event,t=new Blob([n.asm]);(0,Py.saveAs)(t,TT(n))},e}return i(t,[{key:"render",value:function(){var e,n=this;return e=this.props.onCopyToLibrary?(0,Ne.jsx)("div",{className:"eventTableIconCell",children:(0,Ne.jsx)("img",{src:this.props.isDestructiveCopy?"data:image/png;base64,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":"data:image/png;base64,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",alt:"Copy this event into the local library",title:"Copy this event into the local library",onClick:function(){return n.props.onCopyToLibrary(n.props.event,n.props.isDestructiveCopy)}})}):this.props.onCopyToBoard?(0,Ne.jsx)("div",{className:"eventTableIconCell",children:(0,Ne.jsx)("img",{src:this.props.isDestructiveCopy?"data:image/png;base64,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":"data:image/png;base64,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",alt:"Copy this event into the board file",title:"Copy this event into the board file",onClick:function(){return n.props.onCopyToBoard(n.props.event,n.props.isDestructiveCopy)}})}):(0,Ne.jsx)("div",{className:"eventTableIconCell",children:(0,Ne.jsx)("img",{src:"data:image/png;base64,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",className:"eventRowIconNoAction",alt:"The event is the same in both the board and library",title:"The event is the same in both the board and library"})}),(0,Ne.jsxs)("div",{className:"eventTableRow",children:[(0,Ne.jsx)("div",{className:"eventTableIconCell",children:(0,Ne.jsx)("img",{src:wT,alt:"Delete event",title:"Delete event",onClick:function(){n.props.onDeleteEvent(n.props.event)}})}),(0,Ne.jsx)("div",{className:"eventTableIconCell",children:(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBQ0VIylLJMkSAAAAvElEQVQ4y+2TsQ2CUBiEv2eIrkDJBDYMALVUlsZCSkdhDBpDaUfNDIYBmIHQmJCchYHkCSgUxsYr77/LveTuwQByVUmSKrnMgUJ1CIfXFQvxN3zF4FiV7dkCXk+cFAA3c53quNQYyulR+GoG8kb+ux1Fai15q+jT9M6W4TxnrUkvT4ZXI48YqEzaGwwXDkDG0ahnYzwg7dZfWBkb5cq1trji+UOcsUeZO7vfTyOQ5ibUiwJqQNlLu1NolcED/6PAXJfmH/wAAAAASUVORK5CYII=",alt:"Download event code",title:"Download event code",onClick:this.onExportEvent})}),e,(0,Ne.jsxs)("div",{className:"eventNameTableCell",onClick:function(){return n.props.onEditEvent(n.props.event.id)},children:[(0,Ne.jsxs)("span",{className:"eventNameText",children:[this.props.event.name,(0,Ne.jsx)("span",{className:"eventNameExtensionText",children:PT(this.props.event)})]}),(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiBQ0WBh9uKzI1AAAAoklEQVQoz33NOw4BYRSG4RdDaFxWYBFaSp2E5diBxDok6ilUVBKJa2UTCgsQxKtxCfPPfN3J851zIBhrTj3aJYXLrlW92CsEuM6dJm0gohMluMGCM31gCMwS7EHVuRVHTiz8HXfvOwsr5iH/83tO6zOeuOYev9s7v0kcr7nN5k0WV7O5aMk4lcGBo08lyeBYX5UQgyt9VUJMBMQsWXLLGSo8AaQAqCS0C8xqAAAAAElFTkSuQmCC",className:"eventEditCellIcon",alt:"Edit event",title:"Edit event"})]})]})}}]),t}(Le.Component);function TT(e){return e.id+PT(e)}function PT(e){switch(e.language){case x.C:return".c";case x.MIPS:default:return".s"}}var RT=null;function LT(e){RT=e}function MT(){return BT.apply(this,arguments)}function BT(){return BT=O(k().mark((function e(){var n,t,r,a,i,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=RT.getEventName(),t=RT.getSupportedGames(),r=RT.getEventCode(),n){e.next=6;break}return dy("An event name must be specified."),e.abrupt("return");case 6:if(!(a=vx(n))||a.custom){e.next=10;break}return dy("The event name collides with a reserved event name from the original boards."),e.abrupt("return");case 10:if(t.length){e.next=13;break}return dy("At least one game must be supported."),e.abrupt("return");case 13:if(r){e.next=16;break}return dy("No assembly code was provided."),e.abrupt("return");case 16:return i=RT.getLanguage(),o=KS(i,r),e.prev=18,e.next=21,qS(o);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(18),dy(e.t0.toString());case 26:sy()?$y(o):gx(o),RT&&RT.updateLastSavedCode(r);case 28:case"end":return e.stop()}}),e,null,[[18,23]])}))),BT.apply(this,arguments)}function kT(){return RT?RT.promptExit():Promise.resolve(!0)}var IT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onEventNameChange=function(n){e.props.onEventNameChange(n.target.value)},e._gameSupported=function(n){return e.props.supportedGames.indexOf(n)>=0},e}return i(t,[{key:"render",value:function(){var e=[{id:v.MP1_USA,text:"MP1 USA",selected:this._gameSupported(v.MP1_USA)},{id:v.MP2_USA,text:"MP2 USA",selected:this._gameSupported(v.MP2_USA)},{id:v.MP3_USA,text:"MP3 USA",selected:this._gameSupported(v.MP3_USA)},{id:v.MP1_JPN,text:"MP1 JPN",selected:this._gameSupported(v.MP1_JPN)},{id:v.MP2_JPN,text:"MP2 JPN",selected:this._gameSupported(v.MP2_JPN)},{id:v.MP3_JPN,text:"MP3 JPN",selected:this._gameSupported(v.MP3_JPN)},{id:v.MP1_PAL,text:"MP1 PAL",selected:this._gameSupported(v.MP1_PAL)},{id:v.MP2_PAL,text:"MP2 PAL",selected:this._gameSupported(v.MP2_PAL)},{id:v.MP3_PAL,text:"MP3 PAL",selected:this._gameSupported(v.MP3_PAL)}],n=[{id:1,text:"Direct",title:"The game will execute the event function directly",selected:this.props.executionType===w.DIRECT},{id:2,text:"Process",title:"The game will use its process system when executing the event function",selected:this.props.executionType===w.PROCESS}];return(0,Ne.jsxs)("div",{className:"createEventForm",children:[(0,Ne.jsx)("label",{children:"Name:"}),(0,Ne.jsx)("input",{value:this.props.name,onChange:this.onEventNameChange}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("label",{children:"Supported Games:"}),(0,Ne.jsx)(Ge,{items:e,groupCssClass:"createEventGameToggles",onToggleClick:this.props.onGameToggleClicked}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("label",{children:"Execution Type:"}),(0,Ne.jsx)(Ge,{items:n,allowDeselect:!1,onToggleClick:this.props.onExecTypeToggleClicked}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("label",{children:"Parameters:"}),(0,Ne.jsx)(OT,{language:this.props.language,parameters:this.props.parameters,onAddEventParameter:this.props.onAddEventParameter,onRemoveEventParameter:this.props.onRemoveEventParameter})]})}}]),t}(Le.Component),OT=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"render",value:function(){var e=this,n=this.props.parameters.map((function(n){return(0,Ne.jsx)(NT,{entry:n,onRemoveEntry:e.props.onRemoveEventParameter},n.name)}));return(0,Ne.jsxs)("div",{className:"eventParametersList",children:[(0,Ne.jsx)("table",{children:(0,Ne.jsx)("tbody",{children:n})}),(0,Ne.jsx)(jT,{language:this.props.language,onAddEntry:this.props.onAddEventParameter})]})}}]),t}(Le.Component),NT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onDeleteClick=function(){e.props.onRemoveEntry(e.props.entry)},e}return i(t,[{key:"render",value:function(){var e=this.props.entry,n=e.type,t=e.name;return(0,Ne.jsxs)("tr",{className:"eventParameterEntry",children:[(0,Ne.jsx)("td",{className:"eventParameterEntryType",children:n}),(0,Ne.jsx)("td",{className:"eventParameterEntryName",title:t,children:t}),(0,Ne.jsx)("td",{className:"eventParameterEntryDelete",children:(0,Ne.jsx)("img",{src:wT,alt:"Delete",onClick:this.onDeleteClick})})]})}}]),t}(Le.Component),jT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={selectedType:"",name:""},e.onNameChange=function(n){var t=n.target.value;t.match(WS.validParameterNameRegex)&&e.setState({name:t})},e.onTypeChange=function(n){e.setState({selectedType:n.target.value})},e.onAddClick=function(){e.state.name&&e.state.selectedType&&(e.props.onAddEntry({name:e.state.name,type:e.state.selectedType}),e.setState({name:"",selectedType:""}))},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsxs)("div",{className:"eventParameterAddNewEntry",children:[(0,Ne.jsxs)("select",{value:this.state.selectedType,onChange:this.onTypeChange,children:[(0,Ne.jsx)("option",{}),(0,Ne.jsx)("option",{value:D.Boolean,children:"Boolean"}),(0,Ne.jsx)("option",{value:D.Number,children:"Number"}),(0,Ne.jsx)("option",{value:D.PositiveNumber,children:"Positive Number"}),(0,Ne.jsx)("option",{value:D.Space,children:"Space"}),(0,Ne.jsx)("option",{value:D.SpaceArray,children:"Space Array"})]}),(0,Ne.jsx)("input",{type:"text",placeholder:"Name",value:this.state.name,onChange:this.onNameChange}),(0,Ne.jsx)(je,{onClick:this.onAddClick,children:"Add"})]})}}]),t}(Le.Component),UT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={language:x.C},e.onLanguageChange=function(n){e.setState({language:n})},e.submit=function(){var n=e.props.onAccept;n&&n(e.state.language)},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsxs)("div",{className:"createEventDropdownContainer",children:[(0,Ne.jsx)(GT,{language:this.state.language,onLanguageChange:this.onLanguageChange}),(0,Ne.jsx)(je,{onClick:this.submit,css:"nbCreate",children:"Create"})]})}}]),t}(Le.Component),GT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onLanguageChange=function(n){e.props.onLanguageChange(n)},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsxs)("div",{className:"newBoardVersionSelect",children:[(0,Ne.jsx)("label",{className:"nbLabel",children:"Code Language"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(Ue,{id:x.C,allowDeselect:!1,onToggled:this.onLanguageChange,pressed:this.props.language===x.C,children:(0,Ne.jsx)("span",{className:"newBoardVersion",title:"C programming language",children:"C"})}),(0,Ne.jsx)(Ue,{id:x.MIPS,allowDeselect:!1,onToggled:this.onLanguageChange,pressed:this.props.language===x.MIPS,children:(0,Ne.jsx)("span",{className:"newBoardVersion",title:"MIPS assembly language",children:"MIPS"})})]})}}]),t}(Le.Component),zT=__webpack_require__(7494);__webpack_require__(3495);(0,zT.defineMode)("mips-pp64",(function(){var e=/\.(ascii|asciiz|align|beginstatic|byte|definelabel|else|elseif|endif|endstatic|fill|float|halfword|if|skip|word)\b/i,n=/\$?(a([0-3]|t)|f([0-9][1-9]?|p)|g(p)|k([0-1])|r(0|a)|s([0-8]|p)|t(\d)|v([0-1])|zero)\b/i,t=/\b(abs\.s|abs\.d|add|add\.s|add\.d|addi|addiu|addu|and|andi|bc1f|bc1fl|bc1t|bc1tl|beq|beql|beqz|bgez|bgezal|bgezall|bgezl|bgtz|bgtzl|blez|blezl|bltz|bltzal|bltzall|bltzl|bne|bnel|bnez|bnezl|break|c\.f\.s|c\.un\.s|c\.eq\.s|c\.ueq\.s|c\.olt\.s|c\.ult\.s|c\.ole\.s|c\.ule\.s|c\.sf\.s|c\.ngle\.s|c\.seq\.s|c\.ngl\.s|c\.lt\.s|c\.nge\.s|c\.le\.s|c\.ngt\.s|c\.f\.d|c\.un\.d|c\.eq\.d|c\.ueq\.d|c\.olt\.d|c\.ult\.d|c\.ole\.d|c\.ule\.d|c\.sf\.d|c\.ngle\.d|c\.seq\.d|c\.ngl\.d|c\.lt\.d|c\.nge\.d|c\.le\.d|c\.ngt\.d|ceil\.l\.s|ceil\.l\.d|ceil\.w\.s|ceil\.w\.d|cfc1|ctc1|cop0|cop1|cop2|cop3|cvt\.d\.s|cvt\.d\.w|cvt\.d\.l|cvt\.l\.d|cvt\.l\.d|cvt\.s\.d|cvt\.s\.w|cvt\.s\.l|cvt\.w\.s|cvt\.w\.d|dadd|daddi|daddiu|daddu|ddiv|ddivu|div|div\.s|div\.d|divu|dmfc1|dmult|dmultu|dmtc1|dsll|dsll32|dsllv|dsra|dsra32|dsrav|dsrl|dsrl32|dsrlv|dsub|dsubu|floor\.l\.s|floor\.l\.d|floor\.w\.s|floor\.w\.d|j|jal|jalr|jr|lb|lbu|ld|ldc1|ldc2|ldl|ldr|lh|lhu|li|ll|lld|lui|lw|lwc1|lwc2|lwc3|lwl|lwr|lwu|madd\.s|madd\.d|mfc1|mfhi|mflo|mov\.s|mov\.d|move|movt|msub\.s|msub\.d|mtc1|mthi|mtlo|mul\.s|mul\.d|mult|multu|neg\.s|neg\.d|nop|nor|or|ori|round\.l\.s|round\.l\.d|round\.w\.s|round\.w\.d|sb|sc|scd|sd|sdc1|sdc2|sdl|sdr|sh|sll|sllv|slt|slti|sltiu|sltu|sqrt\.s|sqrt\.d|sra|srav|srl|srlv|sub|sub\.s|sub\.d|subu|sw|swc1|swc2|swc3|swl|swr|sync|syscall|teq|teqi|tge|tgei|tgeiu|tgeu|tlt|tlti|tltiu|tltu|tne|tnei|trunc\.l\.s|trunc\.l\.d|trunc\.w\.s|trunc\.w\.d|xor|xori)\b/i,r=/\b(0x[\da-f]+|o[0-7]+|b[0-1]+|\d+)\b/i;return{startState:function(){return{blockComment:!1}},token:function(a,i){if(a.eatSpace())return null;var o;if(i.blockComment||a.match("/*")){i.blockComment=!0;for(var s=!1;o=a.next();){if("/"===o&&s){i.blockComment=!1;break}s="*"===o}return"comment"}if(a.eat(";")||a.match("//"))return a.skipToEnd(),"comment";if(a.eat('"')){for(;(o=a.next())&&'"'!==o;);return"string"}if(a.eat(".")){if(a.eatWhile(/\w/))return o=a.current(),e.test(o)?"def":null}else if(a.eatWhile(/[$\w.]/)){if(o=a.current(),t.test(o)){var l="keyword";return"nop"===o.toLowerCase()&&(l+=" nop"),l}if(n.test(o))return"atom";if(r.test(o))return"number"}return a.next(),null}}})),(0,zT.registerHelper)("hint","mips-pp64",(function(e){var n=e.getCursor(),t=e.getTokenAt(n),r=t.string,a=t.start,i=n.ch,o=e.getLine(n.line);if("."===o[0]){return{list:["ascii","asciiz","align","byte","definelabel","else","elseif","endif","fill","float","halfword","if","skip","word"],from:(0,zT.Pos)(n.line,1),to:(0,zT.Pos)(n.line,i)}}var s=RT?RT.getSupportedGames():[];function l(e,n){if(!e.length)return[];if(1===e.length)return pe(e[0],n);for(var t=pe(e[0],n),r=0;r<e.length-1;r++){t=ie(t,pe(e[r+1],n),(function(e,n){return e.name===n.name}))}return t}if(/^(j|jal)\s+/i.test(o))return u(l(s,"code"));if(/^\w+\s+/.test(o))return u(l(s));function u(e){var t=e.map((function(e){return e.name})),o=1;r.trim()&&(o=r.lastIndexOf("(")+1,r.substring(o)&&(t=function(e,n){return n.filter((function(n){return n.startsWith(e)}))}(r,t)));return{list:t.sort(),from:(0,zT.Pos)(n.line,a+o),to:(0,zT.Pos)(n.line,i)}}}));__webpack_require__(4365);var HT=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).el=null,e.codemirror=null,e.onInternalValueChanged=function(n,t){e.props.onChange&&"setValue"!==t.origin&&e.props.onChange(n.getValue(),t)},e}return i(t,[{key:"render",value:function(){var e=this,n=this.props.className;return this.props.readOnly&&(n+=" CodeMirror-readonly"),(0,Ne.jsx)("div",{ref:function(n){e.el=n},className:n})}},{key:"componentDidMount",value:function(){var e=this.el;this.codemirror=zT((function(n){e.appendChild(n)}),{mode:WT(this.props.mode),indentUnit:XT(this.props.mode),value:this.props.value||this.props.defaultValue||"",extraKeys:{"Ctrl-Space":"autocomplete"},readOnly:this.props.readOnly||!1,viewportMargin:3e3}),this.codemirror.on("change",this.onInternalValueChanged)}},{key:"componentWillUnmount",value:function(){this.codemirror=null}},{key:"componentDidUpdate",value:function(e){this.codemirror&&void 0!==this.props.value&&this.props.value!==e.value&&Ai(this.codemirror.getValue())!==Ai(this.props.value)&&this.codemirror.setValue(this.props.value)}}]),t}(Le.Component);function WT(e){return"c"===e?{name:"text/x-csrc"}:"mips-pp64"}function XT(e){return"c"===e?4:2}var KT=function(e){s(a,e);var n=A(a);function a(e){var i;r(this,a),(i=n.call(this,e)).onEventNameChange=function(e){var n=t(t({},i.state),{},{eventName:e});i.setState({eventName:e}),i.syncTextToStateVars(n,i.state.asm)},i.onAsmChange=function(e){i.setState({asm:e}),i.syncStateVarsToText(e)},i.onGameToggleClicked=function(e,n){var r,a=i.state.supportedGames,o=a.indexOf(e);-1===o&&n?(i.setState({supportedGames:[].concat(Gt(a),[e])}),(r=t({},i.state)).supportedGames=[].concat(Gt(a),[e])):o>=0&&!n&&(a.splice(o,1),i.setState({supportedGames:a}),(r=t({},i.state)).supportedGames=a),r&&i.syncTextToStateVars(r,i.state.asm)},i.onExecTypeToggleClicked=function(e,n){var r=t({},i.state);r.executionType=e,i.setState({executionType:e}),i.syncTextToStateVars(r,i.state.asm)},i.onAddEventParameter=function(e){var n=t({},i.state);n.parameters=[].concat(Gt(i.state.parameters),[e]),i.setState(n),i.syncTextToStateVars(n,i.state.asm)},i.onRemoveEventParameter=function(e){var n=t({},i.state);n.parameters=i.state.parameters.filter((function(n){return n.name!==e.name})),i.setState(n),i.syncTextToStateVars(n,i.state.asm)},i.getEventName=function(){return i.state.eventName},i.getSupportedGames=function(){return i.state.supportedGames},i.getExecutionType=function(){return i.state.executionType},i.getEventCode=function(){return i.state.asm},i.syncTextToStateVars=function(e,n){var t,r,a,o=function(e,n){return WS.clearDiscreteProperties(e,n)}(n,["NAME","GAMES","EXECUTION","PARAM"]);t=o="\n"+o,r="PARAM",a=e.parameters.map((function(e){return"".concat(e.type,"|").concat(e.name)})),o=qT(o=WS.writeDiscretePropertyArray(t,r,a,";"),"EXECUTION",E(e.executionType)),o=qT(o,"GAMES",e.supportedGames.map(V).join(",")),(o=qT(o,"NAME",e.eventName.trim()))!==n&&i.setState({asm:o})},i.syncStateVarsToText=function(e){var n=function(e,n){return WS.readDiscreteProperty(e,n)}(e,"NAME");null!==n&&i.setState({eventName:(n||"").trim()}),null!==(n=WS.readSupportedGames(e))&&i.setState({supportedGames:n}),(n=WS.readExecutionType(e))&&i.setState({executionType:n}),(n=WS.readParameters(e))&&i.setState({parameters:n})},i.promptExit=O(k().mark((function e(){var n,t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.state.asm,(t=i.state.originalAsm)&&t===n){e.next=6;break}return e.next=5,Ay("Are you sure you want to exit without saving the event?");case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));var o=oy();return i.state=o?{eventName:o.name,supportedGames:o.supportedGames,executionType:o.executionType,asm:o.asm,parameters:o.parameters,originalAsm:o.asm}:{eventName:"",supportedGames:[],executionType:w.DIRECT,asm:"; NAME:\n; GAMES:\n; EXECUTION: Direct\n\nADDIU SP SP -4\nSW RA 0(SP)\n\n; Your code here\n; For code examples, see:\n; https://github.com/PartyPlanner64/events\n\nLW RA 0(SP)\nJR RA\nADDIU SP SP 4",parameters:[]},i}return i(a,[{key:"render",value:function(){return this.state.hasError?(0,Ne.jsx)("p",{children:"An error was encountered."}):(0,Ne.jsxs)("div",{className:"createEventViewContainer",children:[(0,Ne.jsx)(HT,{mode:"mips-pp64",className:"eventcodemirror createeventcodemirror",value:this.state.asm,onChange:this.onAsmChange}),(0,Ne.jsx)(IT,{name:this.state.eventName,onEventNameChange:this.onEventNameChange,supportedGames:this.state.supportedGames,onGameToggleClicked:this.onGameToggleClicked,executionType:this.state.executionType,onExecTypeToggleClicked:this.onExecTypeToggleClicked,language:x.MIPS,parameters:this.state.parameters,onAddEventParameter:this.onAddEventParameter,onRemoveEventParameter:this.onRemoveEventParameter})]})}},{key:"componentDidMount",value:function(){LT(this)}},{key:"componentWillUnmount",value:function(){LT(null)}},{key:"updateLastSavedCode",value:function(e){this.setState({originalAsm:e})}},{key:"getLanguage",value:function(){return x.MIPS}}]),a}(Le.Component);function qT(e,n,t){return WS.writeDiscreteProperty(e,n,t,";")}var YT=function(e){var n=(0,Le.useState)(0),t=(0,xe.Z)(n,2),r=t[0],a=t[1],i="number"===typeof e.activeTabIndex,o=i?e.activeTabIndex:r,s=Le.Children.toArray(e.children)[o].props.children;return(0,Ne.jsxs)("div",{className:e.className,children:[(0,Ne.jsx)("div",{className:e.tabsClassName,children:Le.Children.map(e.children,(function(n,t){if(!n)return null;var r=n,s=r.props.className;return t===o&&(s+=" activeTab"),(0,Ne.jsx)(QT,{caption:r.props.caption,className:s,onClick:function(){o!==t&&(i||a(t),e.onActiveTabChanged&&e.onActiveTabChanged(t))}})}))}),(0,Ne.jsx)("div",{className:e.contentClassName,children:s})]})},QT=function(e){return(0,Ne.jsx)("div",{className:e.className,onClick:e.onClick,children:e.caption})},JT=function(e){s(a,e);var n=A(a);function a(e){var i;r(this,a),(i=n.call(this,e)).onEventNameChange=function(e){var n=t(t({},i.state),{},{eventName:e});i.setState({eventName:e}),i.syncTextToStateVars(n,i.state.code)},i.onCodeChange=function(e){i.setState({code:e}),i.syncStateVarsToText(e)},i.onGameToggleClicked=function(e,n){var r,a=i.state.supportedGames,o=a.indexOf(e);-1===o&&n?(i.setState({supportedGames:[].concat(Gt(a),[e])}),(r=t({},i.state)).supportedGames=[].concat(Gt(a),[e])):o>=0&&!n&&(a.splice(o,1),i.setState({supportedGames:a}),(r=t({},i.state)).supportedGames=a),r&&i.syncTextToStateVars(r,i.state.code)},i.onExecTypeToggleClicked=function(e,n){var r=t({},i.state);r.executionType=e,i.setState({executionType:e}),i.syncTextToStateVars(r,i.state.code)},i.onAddEventParameter=function(e){var n=t({},i.state);n.parameters=[].concat(Gt(i.state.parameters),[e]),i.setState(n),i.syncTextToStateVars(n,i.state.code)},i.onRemoveEventParameter=function(e){var n=t({},i.state);n.parameters=i.state.parameters.filter((function(n){return n.name!==e.name})),i.setState(n),i.syncTextToStateVars(n,i.state.code)},i.getEventName=function(){return i.state.eventName},i.getSupportedGames=function(){return i.state.supportedGames},i.getExecutionType=function(){return i.state.executionType},i.getEventCode=function(){return i.state.code},i.syncTextToStateVars=function(e,n){var t=function(e,n){return WS.clearDiscreteProperties(e,n)}(n,["NAME","GAMES","EXECUTION","PARAM"]);t=function(e,n,t){return WS.writeDiscretePropertyArray(e,n,t,"//")}(t="\n"+t,"PARAM",e.parameters.map((function(e){return"".concat(e.type,"|").concat(e.name)}))),t=ZT(t,"EXECUTION",E(e.executionType)),t=ZT(t,"GAMES",e.supportedGames.map(V).join(",")),(t=ZT(t,"NAME",e.eventName.trim()))!==n&&i.setState({code:t})},i.syncStateVarsToText=function(e){var n=function(e,n){return WS.readDiscreteProperty(e,n)}(e,"NAME");null!==n&&i.setState({eventName:(n||"").trim()}),null!==(n=WS.readSupportedGames(e))&&i.setState({supportedGames:n}),(n=WS.readExecutionType(e))&&i.setState({executionType:n}),(n=WS.readParameters(e))&&i.setState({parameters:n})},i.promptExit=O(k().mark((function e(){var n,t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.state.code,(t=i.state.originalCode)&&t===n){e.next=6;break}return e.next=5,Ay("Are you sure you want to exit without saving the event?");case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),i.onActiveTabChanged=function(){var e=O(k().mark((function e(n){var t,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=0===e.t0?3:1===e.t0?5:32;break;case 3:return i.setState({activeCodeTabIndex:0,compiledAsm:null}),e.abrupt("break",32);case 5:if(i.getEventName()){e.next=8;break}return dy("The event name is missing."),e.abrupt("return");case 8:if(i.getSupportedGames().length){e.next=11;break}return dy("At least one game must be supported."),e.abrupt("return");case 11:return r=KS(x.C,i.state.code),e.prev=12,e.next=15,qS(r);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),dy(e.t1.toString());case 20:return e.prev=20,e.next=23,WS.testCustomEvent(x.C,i.state.code,i.state.parameters,{game:r.supportedGames[0]});case 23:t=e.sent,e.next=30;break;case 26:return e.prev=26,e.t2=e.catch(20),dy(e.t2.toString()),e.abrupt("return");case 30:return i.setState({activeCodeTabIndex:1,compiledAsm:t}),e.abrupt("break",32);case 32:case"end":return e.stop()}}),e,null,[[12,17],[20,26]])})));return function(n){return e.apply(this,arguments)}}();var o=oy();return i.state=o?{eventName:o.name,supportedGames:o.supportedGames,executionType:o.executionType,code:o.asm,parameters:o.parameters,originalCode:o.asm,compiledAsm:null,activeCodeTabIndex:0}:{eventName:"",supportedGames:[],executionType:w.DIRECT,code:'// NAME:\n// GAMES:\n// EXECUTION: Direct\n\n#include "ultra64.h"\n\nvoid main() {\n    // Your code here!\n    // For code examples, see:\n    // https://github.com/PartyPlanner64/events\n}',parameters:[],compiledAsm:null,activeCodeTabIndex:0},i}return i(a,[{key:"render",value:function(){return this.state.hasError?(0,Ne.jsx)("p",{children:"An error was encountered."}):(0,Ne.jsxs)("div",{className:"createEventViewContainer",children:[(0,Ne.jsxs)(YT,{activeTabIndex:this.state.activeCodeTabIndex,className:"createEventTabStrip",contentClassName:"createEventTabStripContent",tabsClassName:"createEventTabStripTabs",onActiveTabChanged:this.onActiveTabChanged,children:[(0,Ne.jsx)(QT,{caption:"C Source",className:"createEventTabStripTab",children:(0,Ne.jsx)(HT,{mode:"c",className:"eventcodemirror createeventcodemirror",value:this.state.code,onChange:this.onCodeChange},"c")}),(0,Ne.jsx)(QT,{caption:"MIPS Assembly",className:"createEventTabStripTab",children:(0,Ne.jsx)(HT,{mode:"mips-pp64",className:"eventcodemirror createeventcodemirror",value:this.state.compiledAsm||void 0,readOnly:!0},"mips")})]}),(0,Ne.jsx)(IT,{name:this.state.eventName,onEventNameChange:this.onEventNameChange,supportedGames:this.state.supportedGames,onGameToggleClicked:this.onGameToggleClicked,executionType:this.state.executionType,onExecTypeToggleClicked:this.onExecTypeToggleClicked,language:x.C,parameters:this.state.parameters,onAddEventParameter:this.onAddEventParameter,onRemoveEventParameter:this.onRemoveEventParameter})]})}},{key:"componentDidMount",value:function(){LT(this)}},{key:"componentWillUnmount",value:function(){LT(null)}},{key:"updateLastSavedCode",value:function(e){this.setState({originalCode:e})}},{key:"getLanguage",value:function(){return x.C}}]),a}(Le.Component);function ZT(e,n,t){return WS.writeDiscreteProperty(e,n,t,"//")}var $T,eP=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this,e)).state={hasError:!1},a}return i(t,[{key:"render",value:function(){if(this.state.hasError)return(0,Ne.jsx)("p",{children:"An error was encountered."});var e,n=[];e=3===Ry.getGameVersion()?F_.getStringCount("en",0):j_.getStringCount();for(var t=0;t<e;t++)n.push((0,Ne.jsx)(nP,{strIndex:t}));return(0,Ne.jsxs)("div",{className:"stringViewerContainer",children:[(0,Ne.jsx)("p",{children:"This is an experimental strings editor, probably doesn't work yet."}),n]})}},{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0}),console.error(e)}}]),t}(Le.Component),nP=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).editor=null,e.state={hasFocus:!1},e.onValueChanged=function(n,t){if(3!==Ry.getGameVersion()){var r=Y(j_._strToBytes(t));j_.write(e.props.strIndex,r)}},e.onFocus=function(){e.setState({hasFocus:!0})},e.onBlur=function(){e.setState({hasFocus:!1})},e}return i(t,[{key:"render",value:function(){var e,n=this;return e=3===Ry.getGameVersion()?F_.read("en",0,this.props.strIndex):j_.read(this.props.strIndex),(0,Ne.jsx)(zE,{ref:function(e){n.editor=e},value:e,displayMode:TE.Edit,showToolbar:!0,toolbarPlacement:PE.Top,onValueChange:this.onValueChanged,onFocus:this.onFocus,onBlur:this.onBlur})}},{key:"componentDidMount",value:function(){this.state.hasFocus&&this.editor.focus()}},{key:"componentDidUpdate",value:function(){this.state.hasFocus&&this.editor.focus()}}]),t}(Le.Component),tP=__webpack_require__(7705),rP=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"render",value:function(){var e,n=this.props.boards.map((function(e,n){return(0,Ne.jsx)(aP,{board:e,index:n},n)}));return!!Ze(Oe.uiShowRomBoards)&&(e=ow().map((function(e,n){return(0,Ne.jsx)(aP,{board:e,index:n},"r"+n)}))),(0,Ne.jsx)("div",{className:"boardMenu",role:"listbox",children:(0,Ne.jsxs)("div",{className:"boardMenuInner",role:"presentation",children:[n,e]})})}}]),t}(Le.Component),aP=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).handleClick=function(){var n=Ky(e.props.board);Xy(e.props.index,n),H("Now viewing board",e.props.board)},e.onDragStart=function(n){Ky(e.props.board)?n.preventDefault():(sC(),n.nativeEvent.dataTransfer.setData("text/plain",e.props.index),uC((function(e){e.preventDefault();var n=parseInt(e.dataTransfer.getData("text/plain"));isNaN(n)||(lC(),Aw(n))})))},e.onDragEnd=function(e){lC()},e.onRightClick=function(n){n.preventDefault();var t=[{title:"Copy",fn:e.onCopyBoard},{title:"Delete",fn:e.onDeleteBoard,visible:!Ky(e.props.board)}];tP.show(t,n.nativeEvent)},e.onDeleteBoard=function(){Aw(e.props.index)},e.onCopyBoard=function(){fw()},e}return i(t,[{key:"render",value:function(){var e='Open "'.concat(this.props.board.name,'"'),n="boardEntry",t=Hy()===this.props.board;t&&(n+=" boardEntryCurrent");var r,a=this.props.board.otherbg.boardlogo||"";r=a?(0,Ne.jsx)("img",{className:"boardEntryImg",src:a,width:"200",height:"88",alt:""}):(0,Ne.jsx)("div",{className:"boardEntryNoImg"});var i=this.props.board.name,o=Ky(this.props.board),s=Be(this.handleClick);return(0,Ne.jsxs)("div",{className:n,title:e,role:"option",tabIndex:0,"aria-selected":t,onClick:this.handleClick,onKeyDown:s,onContextMenu:this.onRightClick,draggable:!0,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,children:[r,(0,Ne.jsx)(iP,{rom:o}),(0,Ne.jsx)(oP,{name:i}),(0,Ne.jsx)(sP,{rom:o,onDeleteBoard:this.onDeleteBoard,onCopyBoard:this.onCopyBoard})]})}}]),t}(Le.Component),iP=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"render",value:function(){return this.props.rom?(0,Ne.jsx)("div",{className:"boardEntryRomIcon",title:"Loaded from ROM",children:(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wYVFSYNYLnIVQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACsklEQVRIx+1WTU9TQRQ9d2bea99rKW3aRG2gWCAxRpQNJq6oEhdqdyYFf4P/xkT+Ah/RnyBdSWzCqhbUolAloWihAm1f2/deO+MCJMqHSqyGBWc1ycyce8/NPXcGOMdZB520YRgA534KBDzkNYLkOk1h27bGOQcAyLaEx6u7Qve27MYuKpWmtO2acpyjAdQxgYTP0EPRnt7wwMDlOOeeq5pG1zXdjPtMbw/n/JKmaQoAWq5LrXarZNXtNce21tyWysq2my8UPn0oFtfL1Wp9G4B7WJHm93tu3xm7Ozp8Y/jWwsLClVRqvDcWiyEcDiMYDMI0Tei6DqK9K1IquK6Det3Czs4utspb+LyxgampqeLIyM3l/Lu3mbn03Pz2duUFgKaI9UYuDg5emxyfeJQYGhoKdXV1sfX1IhKJBCKRCKSUUEpBKQUp5c/yhUB3dxDBYAjxeBy1Wg3pdDqaSqWilmWN3n+QrMzOzmTeL2Ufi2i0Z2x8YuJhMpmE67pQSoGIIKVEu90+Qn4YSqm90hAdrH0+HwKBAIvFYkGv13Nv8umTJGPEoGnawaFOQikFTWjgxMB+zOpfNPJ3ZtZ5xxyfNOtsqU7eY/9rMjAighDiwB8dHTtEEIKDGIFZtRpWV1dh23bHA9m2jXx+GdVKFYwY4c3SEubnX3ZcTSbzCouLOTBiYH6fH319fSiXy78152kgpUS5/BX9/QPwB/z7Pvr1IP8LVfvsChCA4pxzeHQdpmmCAAjBYRgGDMM4xszqBFIGpRSEEDAMA5xz6LoOzgVA4KJhVfO5XK79pbTJbbcFArCyUsD09AxM0wel5J88XyAiuK6DwupHzD57DgYg+zqLzVIJVr2Sp0jIzxoOXSBihq5zBQCNhgOvVzt1yysoNOstGKYGAHCcNkkpHdNkG+d/jLOPb9oFHOb0bqxwAAAAAElFTkSuQmCC",width:"26",height:"26",alt:"From ROM"})}):null}}]),t}(Le.Component),oP=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={editing:!1},e.handleClick=function(){e.setState({editing:!!e.state.editing})},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsx)("div",{className:"boardName",children:(0,Ne.jsx)(zE,{value:this.props.name,displayMode:TE.Display})})}}]),t}(Le.Component),sP=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).handleClick=function(n){n.preventDefault();var t=[{title:"Copy",fn:e.props.onCopyBoard},{title:"Delete",fn:e.props.onDeleteBoard,visible:!e.props.rom}];tP.show(t,n.nativeEvent)},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsx)("img",{className:"boardMenuIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AYaEggWSdu7PgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAuklEQVQ4y6XTQWoCQRCF4U/NGBlR3HpJEXIFCeQ2gWShnkAQFFeeQbOLmF1msinBxXR0nAdNN82jqrr/KtKaYIU1ZsjUUI45ylh7jKuMbQ31lLj/wScG4Znjq8rYupFgFPs3ijoVXNSJJJ1UAIN+P/UP0yCwxSu6dQLkWNxF4XQ+F4kKiqYUPqKSLCgcH6EwjP0UT6nVSC08o3cHrUq9YIMd3pIU/pmFZdNZ+L06l49QeI+ys+iJQ5XxD4g7KTK7osn1AAAAAElFTkSuQmCC",onClick:this.handleClick,alt:"Board Options"})}}]),t}(Le.Component);!function(e){e[e.Red=0]="Red",e[e.Green=1]="Green",e[e.Blue=2]="Blue"}($T||($T={}));var lP=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onCloseClick=function(){e.props.onClose&&e.props.onClose()},e}return i(t,[{key:"render",value:function(){var e="notification "+this.getColorClass(this.props.color);return(0,Ne.jsxs)("div",{className:e,children:[(0,Ne.jsx)("div",{className:"notificationContent",children:this.props.children}),(0,Ne.jsx)("div",{className:"notificationClose",role:"button",tabIndex:0,onClick:this.onCloseClick})]})}},{key:"getColorClass",value:function(e){switch(e){case $T.Red:return"notificationRed";case $T.Green:return"notificationGreen";case $T.Blue:return"notificationBlue"}}}]),t}(Le.Component),uP=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"render",value:function(){var e={};return Le.Children.count(this.props.children)||(e.display="none"),(0,Ne.jsx)("div",{className:"notificationBar",style:e,children:this.props.children})}}]),t}(Le.Component),cP=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"render",value:function(){return(0,Ne.jsx)("button",{className:"notificationButton",onClick:this.props.onClick,children:this.props.children})}}]),t}(Le.Component),dP=[{name:"Blank",id:"default"}],AP={default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABICAIAAACGBWc0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AYHAigfG9YLCgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAK0lEQVR42u3BAQ0AAADCoPdPbQ43oAAAAAAAAAAAAAAAAAAAAAAAAAAAPgxRSAABIBiyrgAAAABJRU5ErkJggg=="},fP=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={version:1,type:m.NORMAL,theme:0},e.onVersionChange=function(n){e.setState({version:n}),3!==n&&e.setState({type:m.NORMAL})},e.onTypeChange=function(n){e.setState({type:n})},e.onThemeChange=function(n){e.setState({theme:n})},e.submit=function(){if(e.state.type!==m.DUEL||(dy("Duel board support is partially finished, coming soon!"),G())){var n=e.props.onAccept;n&&n(e.state.version,e.state.type,dP[e.state.theme])}},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsxs)("div",{className:"newBoardContainer",children:[(0,Ne.jsx)(hP,{onVersionChange:this.onVersionChange}),(0,Ne.jsx)(pP,{onThemeChange:this.onThemeChange}),(0,Ne.jsx)(je,{onClick:this.submit,css:"nbCreate",children:"Create"})]})}}]),t}(Le.Component),hP=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={version:1},e.onVersionChange=function(n,t){e.setState({version:n}),e.props.onVersionChange(n)},e}return i(t,[{key:"render",value:function(){var e=[(0,Ne.jsx)(Ue,{id:1,allowDeselect:!1,onToggled:this.onVersionChange,pressed:1===this.state.version,children:(0,Ne.jsx)("span",{className:"newBoardVersion",title:"Mario Party 1",children:"MP1"})},1)];return e.push((0,Ne.jsx)(Ue,{id:2,allowDeselect:!1,onToggled:this.onVersionChange,pressed:2===this.state.version,children:(0,Ne.jsx)("span",{className:"newBoardVersion",title:"Mario Party 2",children:"MP2"})},2)),e.push((0,Ne.jsx)(Ue,{id:3,allowDeselect:!1,onToggled:this.onVersionChange,pressed:3===this.state.version,children:(0,Ne.jsx)("span",{className:"newBoardVersion",title:"Mario Party 3",children:"MP3"})},3)),(0,Ne.jsxs)("div",{className:"newBoardVersionSelect",children:[(0,Ne.jsx)("label",{className:"nbLabel",children:"Game Version"}),(0,Ne.jsx)("br",{}),e]})}}]),t}(Le.Component),pP=(Le.Component,function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={theme:0},e.onThemeChange=function(n,t){e.setState({theme:n}),e.props.onThemeChange(n)},e}return i(t,[{key:"render",value:function(){var e=this,n=dP.map((function(n,t){var r=AP[n.id];return(0,Ne.jsxs)(Ue,{id:t,allowDeselect:!1,css:"nbTheme",onToggled:e.onThemeChange,pressed:e.state.theme===t,children:[(0,Ne.jsx)("img",{src:r,className:"newBoardThemePreview",width:"96",height:"72",alt:""}),(0,Ne.jsx)("span",{className:"newBoardTheme",children:(0,Ne.jsx)("span",{className:"newBoardThemeInner",children:n.name})})]},t)}));return(0,Ne.jsxs)("div",{className:"NewBoardThemeSelect",children:[(0,Ne.jsx)("label",{className:"nbLabel",children:"Theme"}),(0,Ne.jsx)("br",{}),n]})}}]),t}(Le.Component));function mP(e,n){try{window.gtag&&window.gtag("event",e,n)}catch(t){console.error(t)}}var SP=Object.create(null),gP={id:"",name:"",level:b.ERROR,fails:function(e,n){throw new Error("fails not implemented")}};function vP(e,n,t){var r=Object.create(gP);return r.id=e,r.name=n,r.level=t,SP[e]=r,r}function xP(e,n){var t=SP[e];return{id:t.id,name:t.name,level:t.level,fails:function(e){return t.fails(e,n)}}}vP("HASSTART","Has start space",b.ERROR).fails=function(e,n){return xw(e.board)<0&&"No start space found on board."},vP("GAMEVERSION","Game version mismatch",b.ERROR).fails=function(e,n){var t=e.board,r=Ry.getGameVersion();return r!==t.game&&"Board is for MP".concat(t.game,", but ROM is MP").concat(r)},vP("DEADEND","No dead ends",b.WARNING).fails=function(e,n){var t=e.board,r=rw(t),a=xw(t);return!(a<0)&&(r.indexOf(a)>=0?"Start space does not lead anywhere.":!!r.length&&"There is a dead end on the board.")},vP("TOOMANYSPACES","Too many spaces",b.ERROR).fails=function(e,n){return e.board.spaces.length>65535&&"There is a hard limit of 65535 spaces."},vP("OVERRECOMMENDEDSPACES","Over recommended spaces",b.WARNING).fails=function(e,n){var t=e.board.spaces.length;return t>n.max&&"".concat(t," spaces present, more than ").concat(n.max," spaces can be unstable.")};var _P=function(e,n){vP("TOOMANY".concat(n.toUpperCase().replace(/\s+/g,"")),"Too many ".concat(n),b.ERROR).fails=function(t){var r=t.board,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.limit||0,o=r.spaces.filter((function(n){return n&&n.subtype===e})).length;return o>i&&"There are ".concat(o," ").concat(n,", but the limit is ").concat(i," for this board.")}};function yP(e){return e.spaces.filter((function(e){return e&&e.star})).length}_P(p.BOO,"Boos"),_P(p.BOWSER,"Bowsers"),_P(p.KOOPA,"Koopas"),_P(p.BANK,"Banks"),_P(p.ITEMSHOP,"Item Shops"),_P(p.GATE,"Gates"),vP("BADSTARCOUNT","Bad star count",b.ERROR).fails=function(e,n){var t=yP(e.board);if((n.disallowed||{})[t])return 1===t?"There cannot be exactly 1 star space.":"There cannot be exactly ".concat(t," star spaces.");var r=n.low||0,a=n.high||0;return(t<r||t>a)&&(r!==a?"There are ".concat(t," stars, but the range is ").concat(r,"-").concat(a," for this board."):"There are ".concat(t," stars, but the count must be ").concat(r," for this board."))},vP("WARNNOSTARSPACES","No star spaces",b.WARNING).fails=function(e){var n=e.board,t=yP(n);return 0===t&&"There are no star spaces, this may be unintentional."};var wP=function(e,n){vP("TOOFEW".concat(n.toUpperCase().replace(/\s+/g,""),"SPACES"),"Too few ".concat(n," spaces"),b.ERROR).fails=function(t){var r=t.board,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.low||0,o=r.spaces.filter((function(n){return n&&n.type===e})).length;return o<i&&"There are ".concat(o," ").concat(n," spaces, need at least ").concat(i," spaces of this type.")}};wP(h.BLUE,"Blue"),wP(h.RED,"Red"),vP("TOOMANYOFEVENT","Too many of event",b.ERROR).fails=function(e,n){var t=e.board,r=0;t.spaces.forEach((function(e){e&&e.events&&e.events.forEach((function(e){e.id===n.event.id&&r++}))}));var a=n.low||0,i=n.high||0;if(r<a||r>i){if(a&&i)return"There are ".concat(r," of event ").concat(n.event.name,", but the range is ").concat(a,"-").concat(i," for this board.");if(a)return"There are ".concat(r," of event ").concat(n.event.name,", but there must be at least ").concat(a," for this board.");if(i)return"There are ".concat(r," of event ").concat(n.event.name,", but there can be at most ").concat(i," for this board.")}return!1},vP("UNRECOGNIZEDEVENTS","Unrecognized events",b.ERROR).fails=function(e,n){var t=e.board,r=Object.create(null);t.spaces.forEach((function(e){e&&e.events&&e.events.forEach((function(e){My(e.id,t,xx())||(r[e.id]=!0)}))}));var a=[];for(var i in r)a.push(i);if(!a.length)return!1;var o="The following events were unrecognized:\n";return a.forEach((function(e){o+="\t"+e+"\n"})),o},vP("UNSUPPORTEDEVENTS","Unsupported events",b.ERROR).fails=function(e,n){var t=e.board,r=Object.create(null),a=Ry.getROMGame();t.spaces.forEach((function(e){e&&e.events&&e.events.forEach((function(e){var n=My(e.id,t,xx());n&&function(e,n){return-1===e.supportedGames.indexOf(n)}(n,a)&&(r[e.id]=!0)}))}));var i=[];for(var o in r)i.push(o);if(!i.length)return!1;var s="The following events cannot be written to this ROM:\n";return i.forEach((function(e){s+="\t"+e+"\n"})),s},vP("CUSTOMEVENTFAIL","Custom event errors",b.ERROR).fails=function(){var e=O(k().mark((function e(n,t){var r,a,i,o,s,l,u,c,d,A,f,h,p,m,S,g,v,x;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=function(){return l=O(k().mark((function e(n){var t,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=My(n.id,r,xx()),s=Zy(r,n.id),e.next=5,WS.testCustomEvent(s.language,s.code,t.parameters,{game:o,audioIndices:za(r),board:r,boardInfo:a});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),i[n.id]||(i[n.id]=!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),l.apply(this,arguments)},s=function(e){return l.apply(this,arguments)},r=n.board,a=n.boardInfo,i=Object.create(null),o=Ry.getROMGame(),u=L(r.spaces),e.prev=6,u.s();case 8:if((c=u.n()).done){e.next=35;break}if((d=c.value)&&d.events){e.next=12;break}return e.abrupt("continue",33);case 12:A=L(d.events),e.prev=13,A.s();case 15:if((f=A.n()).done){e.next=25;break}if(h=f.value){e.next=19;break}return e.abrupt("continue",23);case 19:if(h.custom){e.next=21;break}return e.abrupt("continue",23);case 21:return e.next=23,s(h);case 23:e.next=15;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(13),A.e(e.t0);case 30:return e.prev=30,A.f(),e.finish(30);case 33:e.next=8;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(6),u.e(e.t1);case 40:return e.prev=40,u.f(),e.finish(40);case 43:if(!r.boardevents){e.next=63;break}p=L(r.boardevents),e.prev=45,p.s();case 47:if((m=p.n()).done){e.next=55;break}if((S=m.value).custom){e.next=51;break}return e.abrupt("continue",53);case 51:return e.next=53,s(S);case 53:e.next=47;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(45),p.e(e.t2);case 60:return e.prev=60,p.f(),e.finish(60);case 63:for(v in g=[],i)g.push(v);if(g.length){e.next=67;break}return e.abrupt("return",!1);case 67:return x="The following custom events fail to assemble:\n",g.forEach((function(e){x+="\t"+e+"\n"})),e.abrupt("return",x);case 70:case"end":return e.stop()}}),e,null,[[6,37,40,43],[13,27,30,33],[45,57,60,63]])})));return function(n,t){return e.apply(this,arguments)}}(),vP("CUSTOMEVENTBADPARAMS","Custom event parameter issues",b.ERROR).fails=function(e,n){var t=e.board,r=Object.create(null);function a(e){var n=My(e.id,t,xx()).parameters;if(n&&n.length){var a,i=L(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;P(o.type)||(e.parameterValues&&e.parameterValues.hasOwnProperty(o.name)||(r[o.name]||(r[o.name]=0),r[o.name]++))}}catch(s){i.e(s)}finally{i.f()}}}if(t.spaces.forEach((function(e){e&&e.events&&e.events.forEach((function(e){e&&e.custom&&a(e)}))})),t.boardevents){var i,o=L(t.boardevents);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.custom&&a(s)}}catch(d){o.e(d)}finally{o.f()}}var l=[];for(var u in r){var c=r[u];c&&l.push("\t".concat(c," ").concat(u," event parameter").concat(c>1?"s are ":" is ","not set"))}return!!l.length&&"Some event parameters need to be set:\n"+l.join("\n")},vP("TOOMANYPATHOPTIONS","Too many path options",b.ERROR).fails=function(e){var n=e.board,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.limit||2;for(var a in n.links){var i=n.links[a];if(Array.isArray(i)&&i.length>r)return"A space branches in ".concat(i.length," directions, but the maximum is ").concat(r,".")}return!1},vP("CHARACTERSONPATH","Characters are on path",b.WARNING).fails=function(e){var n=e.board;for(var t in n.links){var r=n.spaces[t];if(r.hasOwnProperty("subtype")&&r.subtype!==p.GATE)return"Characters and objects <a href='https://github.com/PartyPlanner64/PartyPlanner64/wiki/Creating-a-Board#special-charactersobjects' target='_blank'>should not be on the player path</a>."}return!1},vP("SPLITATNONINVISIBLESPACE","Split at non-invisible space",b.WARNING).fails=function(e){var n=e.board,t=[h.OTHER,h.STAR,h.START,h.BLACKSTAR,h.ARROW];for(var r in n.links){var a=Vw(parseInt(r),n);if(a.length>1){var i=n.spaces[r];if(-1===t.indexOf(i.type))return"There is a <a href='https://github.com/PartyPlanner64/PartyPlanner64/wiki/Creating-a-Board#board-flow' target='_blank'>non-conventional path split</a>."}}return!1},vP("TOOMANYARROWROTATIONS","Too many arrow rotations",b.WARNING).fails=function(e){var n=e.board,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0;return n.spaces.forEach((function(e){e&&"number"===typeof e.rotation&&r++})),r>t.limit&&"Only ".concat(t.limit," arrows will be rotated in-game.")},vP("GATESETUP","Incorrect gate setup",b.ERROR).fails=function(e){for(var n=e.board,t=_w(p.GATE,n),r=0;r<t.length;r++){var a=t[r],i=n.spaces[a];if(i.type!==h.OTHER)return"Only invisible spaces can have gates.";var o=Vw(a,n);if(1!==o.length)return"A single path should leave a gate space.";var s=o[0],l=n.spaces[s];if(!l||l.type!==h.OTHER)return"Space after a gate space must be invisible.";if(l.subtype===p.GATE)return"Gate spaces must be 2 or more spaces apart.";if(1!==g(s).length)return"A single path should connect to the space after a gate space.";var u=Vw(s,n);if(1!==u.length)return"A single path should leave the space after a gate space";var c=u[0],d=n.spaces[c];if(d.subtype===p.GATE)return"Gate spaces must be 2 or more spaces apart.";var A=g(a);if(1!==A.length)return"A single path should connect to a gate space.";var f=A[0],m=n.spaces[f];if(!m||m.type!==h.OTHER)return"Space before a gate space must be invisible.";if(m.subtype===p.GATE)return"Gate spaces must be 2 or more spaces apart.";var S=g(f);if(1!==S.length)return"A single path should connect to the space before a gate space."}function g(e){var t=[],r=function(r){Vw(parseInt(r),n).forEach((function(n){n===e&&t.push(Number(r))}))};for(var a in n.links)r(a);return t}return!1},vP("ADDITIONALBGCODEISSUE","Additional background code issue",b.ERROR).fails=function(){var e=O(k().mark((function e(n){var t,r,a,i,o=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.board,o.length>1&&void 0!==o[1]?o[1]:{},r=nw(t)){e.next=5;break}return e.abrupt("return",!1);case 5:return a=Ry.getROMGame(),e.next=8,wa(r.code,r.language,t,a);case 8:if(!(i=e.sent).length){e.next=12;break}return console.error(i),e.abrupt("return","The additional background code failed a test assembly.");case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),vP("GETAUDIOINDEXCODEISSUE","Audio selection code issue",b.ERROR).fails=function(){var e=O(k().mark((function e(n){var t,r,a,i,o=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.board,o.length>1&&void 0!==o[1]?o[1]:{},r=tw(t)){e.next=5;break}return e.abrupt("return",!1);case 5:return a=Ry.getROMGame(),e.next=8,Ia(r.code,r.language,t,a);case 8:if(!(i=e.sent).length){e.next=12;break}return console.error(i),e.abrupt("return","The music selection code failed a test assembly.");case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),vP("AUDIODETAILSISSUE","Audio details issue",b.ERROR).fails=function(){var e=O(k().mark((function e(n){var t,r,a,i,o,s,l,u,c,d=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.board,d.length>1&&void 0!==d[1]?d[1]:{},"number"===typeof t.audioType){e.next=4;break}return e.abrupt("return","Expected audioType to be defined.");case 4:e.t0=t.audioType,e.next=e.t0===Ny.InGame?7:e.t0===Ny.Custom?10:57;break;case 7:if("number"===typeof t.audioIndex){e.next=9;break}return e.abrupt("return","Expected an audio track index to be defined.");case 9:return e.abrupt("break",57);case 10:if(t.audioData){e.next=12;break}return e.abrupt("return","Expected custom audio data to be defined.");case 12:if(Array.isArray(t.audioData)){e.next=14;break}return e.abrupt("return","Expected custom audio data to be an array.");case 14:if(t.audioData.length){e.next=16;break}return e.abrupt("return","Custom audio was chosen, but a midi file was not uploaded.");case 16:r=L(t.audioData),e.prev=17,r.s();case 19:if((a=r.n()).done){e.next=48;break}if(i=a.value,o=i.soundbankIndex,s=Ft.getSequenceTable(0),l=s.soundbanks.banks.length,!(o<0||o>=l)){e.next=26;break}return e.abrupt("return","Soundbank index for custom audio is out of range (0 - ".concat(l-1,")"));case 26:if(i.data){e.next=28;break}return e.abrupt("return","Custom audio was chosen, but a midi file was not uploaded.");case 28:u=void 0,e.prev=29,u=te(i.data),e.next=36;break;case 33:return e.prev=33,e.t1=e.catch(29),e.abrupt("return","Custom audio midi data could not be parsed into an ArrayBuffer.");case 36:c=void 0,e.prev=37,c=a_(u,{loop:!0}),e.next=44;break;case 41:return e.prev=41,e.t2=e.catch(37),e.abrupt("return","Custom audio midi data could not be converted into game audio.");case 44:if(c){e.next=46;break}return e.abrupt("return","Custom audio midi data could not be converted into game audio.");case 46:e.next=19;break;case 48:e.next=53;break;case 50:e.prev=50,e.t3=e.catch(17),r.e(e.t3);case 53:return e.prev=53,r.f(),e.finish(53);case 56:return e.abrupt("break",57);case 57:return e.abrupt("return",!1);case 58:case"end":return e.stop()}}),e,null,[[17,50,53,56],[29,33],[37,41]])})));return function(n){return e.apply(this,arguments)}}();var bP=[xP("TOOMANYGATES",{limit:0}),xP("ADDITIONALBGCODEISSUE"),xP("GETAUDIOINDEXCODEISSUE"),xP("TOOMANYBOOS",{limit:2}),xP("TOOMANYBOWSERS",{limit:1}),xP("TOOMANYKOOPAS",{limit:1}),xP("BADSTARCOUNT",{low:0,high:7,disallowed:{1:!0}}),xP("WARNNOSTARSPACES")];var VP=[xP("TOOMANYBOWSERS",{limit:0}),xP("TOOMANYKOOPAS",{limit:0}),xP("TOOMANYGATES",{limit:0})];var CP=[xP("TOOMANYBOWSERS",{limit:0}),xP("TOOMANYKOOPAS",{limit:0}),xP("GATESETUP"),xP("OVERRECOMMENDEDSPACES",{max:128}),xP("ADDITIONALBGCODEISSUE"),xP("GETAUDIOINDEXCODEISSUE")];function EP(e){return!!e&&"function"===typeof e.then}function DP(e){return!!e.canOverwrite}function FP(e,n){return"string"!==typeof n?e.type===m.DUEL:e.type!==n}function TP(e){var n=[xP("HASSTART"),xP("GAMEVERSION"),xP("DEADEND"),xP("TOOMANYSPACES"),xP("UNRECOGNIZEDEVENTS"),xP("UNSUPPORTEDEVENTS"),xP("CUSTOMEVENTFAIL"),xP("CUSTOMEVENTBADPARAMS"),xP("TOOMANYPATHOPTIONS"),xP("CHARACTERSONPATH"),xP("SPLITATNONINVISIBLESPACE"),xP("AUDIODETAILSISSUE")];switch(e){case v.MP1_USA:case v.MP1_JPN:n=n.concat(bP.slice(0));break;case v.MP2_USA:case v.MP2_JPN:n=n.concat(function(e){var n=VP.slice(0);return n.push(xP("TOOMANYARROWROTATIONS",{limit:8})),n}());break;case v.MP3_USA:case v.MP3_JPN:n=n.concat(function(e){var n=CP.slice(0);return n.push(xP("TOOMANYARROWROTATIONS",{limit:8})),n.push(xP("TOOMANYOFEVENT",{event:Qx,high:2})),n.push(xP("TOOMANYBANKS",{limit:2})),n.push(xP("TOOMANYOFEVENT",{event:Jx,high:2})),n.push(xP("TOOMANYITEMSHOPS",{limit:2})),n.push(xP("TOOMANYBOOS",{limit:1})),n.push(xP("TOOMANYGATES",{limit:2})),n.push(xP("BADSTARCOUNT",{low:0,high:8,disallowed:{1:!0}})),n.push(xP("WARNNOSTARSPACES")),n}())}return n}function PP(e,n){var t=[];switch(e){case v.MP2_USA:case v.MP2_JPN:t=t.concat(function(e,n){return 0===n?[xP("TOOMANYBANKS",{limit:2}),xP("TOOMANYITEMSHOPS",{limit:1}),xP("TOOMANYBOOS",{limit:2}),xP("BADSTARCOUNT",{low:7,high:7})]:[]}(0,n))}return t}function RP(){return RP=O(k().mark((function e(){var n,t,r,a,i,o,s,l,u,c,d,A,f,h,p,m,S,g,v,x,_,y,w,V;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ry.getROMGame()){e.next=3;break}return e.abrupt("return",null);case 3:if(t=[],r=ow(),a=Hy(),i=Ze(Oe.uiSkipValidation),o=[],s=[],i){e.next=31;break}l=L(TP(n)),e.prev=11,l.s();case 13:if((u=l.n()).done){e.next=23;break}if(c=u.value,!EP(d=c.fails({board:a,boardInfo:ln}))){e.next=20;break}return e.next=19,d;case 19:d=e.sent;case 20:d&&(c.level===b.ERROR?o.push(d):c.level===b.WARNING&&s.push(d));case 21:e.next=13;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(11),l.e(e.t0);case 28:return e.prev=28,l.f(),e.finish(28);case 31:if(t.push({errors:o,warnings:s}),A=!i&&o.length>0,!(f=tt(n))){e.next=71;break}h=0;case 36:if(!(h<r.length)){e.next=71;break}if(!FP(p=r[h],a.type)){e.next=40;break}return e.abrupt("continue",68);case 40:if(m=f[h],S=!DP(m),g=[],v=[],S||Ze(Oe.uiSkipValidation)){e.next=67;break}x=PP(n,h),_=L(x),e.prev=47,_.s();case 49:if((y=_.n()).done){e.next=59;break}if(w=y.value,!EP(V=w.fails({board:a,boardInfo:m}))){e.next=56;break}return e.next=55,V;case 55:V=e.sent;case 56:V&&(w.level===b.ERROR?g.push(V):w.level===b.WARNING&&v.push(V));case 57:e.next=49;break;case 59:e.next=64;break;case 61:e.prev=61,e.t1=e.catch(47),_.e(e.t1);case 64:return e.prev=64,_.f(),e.finish(64);case 67:t.push({name:p.name,unavailable:S,forcedDisabled:A,errors:g,warnings:v});case 68:h++,e.next=36;break;case 71:return e.abrupt("return",t);case 72:case"end":return e.stop()}}),e,null,[[11,25,28,31],[47,61,64,67]])}))),RP.apply(this,arguments)}var LP=null,MP=function(e){s(t,e);var n=A(t);function t(e){var a;r(this,t),(a=n.call(this,e)).onCodeChangeInternal=function(e){a.setState({code:e})},a.onLanguageToggleClicked=function(){var e=O(k().mark((function e(n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!a.codeHasChanged({fromDefaultOnly:!0}),e.t0){e.next=5;break}return e.next=4,Ay("Are you sure you want to switch languages? The current code will not be kept.");case 4:e.t0=e.sent;case 5:if(!e.t0){e.next=7;break}a.setState({language:n,code:a.props.getDefaultCode(n)});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a.getCode=function(){return a.state.code},a.getLanguage=function(){return a.state.language},a.getBoard=function(){return a.props.board},a.getDefaultCodeForLanguage=function(e){return a.props.getDefaultCode(e)},a.onSetCode=function(e,n){return a.props.onSetCode(e,n)},a.canSaveAndExit=function(){return a.props.canSaveAndExit(a.state.code,a.state.language)},a.promptExit=O(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.codeHasChanged()){e.next=4;break}return e.next=3,Ay("Are you sure you want to exit without saving your code?");case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));var i=a.props.getExistingCode();return a.state=i?{code:i.code,language:i.language}:{code:a.props.getDefaultCode(x.C),language:x.C},a}return i(t,[{key:"render",value:function(){var e=[{id:x.C,text:"C",selected:this.state.language===x.C},{id:x.MIPS,text:"MIPS",selected:this.state.language===x.MIPS}],n=this.state.language===x.C?"c":"mips-pp64";return(0,Ne.jsxs)("div",{className:"basicCodeViewContainer",children:[(0,Ne.jsx)("h2",{children:this.props.title}),(0,Ne.jsxs)("div",{className:"editorSettingsSplit",children:[(0,Ne.jsx)("div",{children:(0,Ne.jsx)(HT,{mode:n,className:"eventcodemirror basiccodemirror",value:this.state.code,onChange:this.onCodeChangeInternal},n)}),(0,Ne.jsxs)("div",{className:"createEventForm",children:[(0,Ne.jsx)("label",{children:"Language:"}),(0,Ne.jsx)(Ge,{items:e,onToggleClick:this.onLanguageToggleClicked})]})]})]})}},{key:"componentDidMount",value:function(){LP=this}},{key:"componentWillUnmount",value:function(){LP=null}},{key:"codeHasChanged",value:function(e){var n=this.state.code,t=this.props.getExistingCode(),r=t&&t.code!==n,a=n!==this.props.getDefaultCode(this.state.language);return!a||e&&e.fromDefaultOnly||(a=!t),r||a}}]),t}(Le.Component);function BP(){return kP.apply(this,arguments)}function kP(){return kP=O(k().mark((function e(){var n,t,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=LP.getCode(),t=LP.getLanguage(),n){e.next=6;break}return dy("No code was provided, any existing code will be removed."),LP.onSetCode("",t),e.abrupt("return");case 6:return e.next=8,LP.canSaveAndExit();case 8:if(!((r=e.sent).length>0)){e.next=12;break}return dy(r.join("\n")),e.abrupt("return");case 12:n===LP.getDefaultCodeForLanguage(t)&&(n=""),LP.onSetCode(n,t);case 14:case"end":return e.stop()}}),e)}))),kP.apply(this,arguments)}function IP(){return LP?LP.promptExit():Promise.resolve(!0)}var OP=__webpack_require__.p+"static/media/logo.0245866975b50c094cc4.png",NP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkWAyclMXUDawAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADUElEQVRYw+2Yy04bSRSG/6o6demu6uqmaKCRIiQeaCLNykF5kRH77LPkCYCQRaSQRxmZBYt5g4ENCNG4axaxDfY0dnvwdBKJI5XadZM+/+fUqQvwaq/2cxtb0PexqqrfiEgAaMZtMcYIAA1jbPI7jksz/rLxF3PtbW2TOqvrur66uvpW1/WHNhhaALp9fn7+Zn9/XzVNgxjjtIyJW+sTm8zB4z9cOP/i4uLu8PDwr+FwaAHcdAYtikJ577G5udmLa+/v7/ne3p4dDodpGyh/Zl5WVZXlnPO+YpCIhPfeA0ja+p8D8VVVWSkl6wtUKSW89zkAsxLo1tZWRkS9gWqtYa11APRKoGVZpn0qKoSAMUatCpqFEHoF5Zxj7EG5CqjN8zwVQvSX0BmDlJKvGqOptZaICH0qKqUUAPwqoNoYA8ZYr6DWWgGgWElRpRTrE1QIgTRNSWsdVgF143jpFdRaS1mWlZ1BhRCF1pr3rahzjpxzW22HpTZQFUIokiRhPe6gU0WNMaErqMzzfMMY06uiRATnHGmtyzauVkWzLNtM07RXUMYY0jTlUsqiK6h0zm0kSdLn4en7LmMtpJS262KS1to8TdO1pqfT42N8OjnpEqut22grqDEmT5JkrX4/O/2MTydnS5N+kiQcgOsCSlpraYxZq1sjRogYdUr6AEIXUKOUYn3H5wTUey8AlF1AiyRJet0+n6Yo7z0B2OlyuQvOuRelptPjY5ydfp5x9eXlJQDg97dvn9zVBQbv32EwGEwVzfNctoG2KVq+NIeuMlc8GSulRAiBAOwuVVQpte29f1EOHRwcYHBwMNM2UfLL168LY7QoCimE2BmNRosV1VpXLwX9ryalRFEUxBjbXup6pdR2nuc/BJSIEEIQnPNyqeuJaOf/AGVYfv/inCPLMsYY21gKKoQoi6JYO+jg/buZhfOcZVkGxpjqAhryPF97Hp2koC6qKqXE3d3d0sXkdnd38SMS/mTlhxDE/DY6r2h2fX3Njo6OYIxB03x/Fp1/Lpzu33NPiIyxpePm+57OJyLc3Nzg9vaWALwB8PdjjM/KvhNjPFdKPcQYR9PzxOOj68TaHm2bf51DZgubq7eNQ4yRHh4eRkT0R13Xf+LVXu0XsX8AW2z37xq4Q9gAAAAASUVORK5CYII=",jP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkWAykCCvybjgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADf0lEQVRYw+2Yz0rsSBTGv0qdqlRSlUqMrUZoZATxJQR3DSIMiPggrmRwI4KzFGbpIyioGwd8kaFdOe6E2YxubMR4U3dxu3vavrl20gNxBjxQJKk/8Ms5le+cFPBpn/bfNvbO2G9Zlv1MRBxA0e9zzjkAKBhjg3vXb0X/yvpXjPWX9Q2eWZ7n+cPDw+95nv9aBkPvgM5fXV21l5eXZVEUcM4NW5+49HlggzX45w3fXX9zc/O8v79/1+12NYCnyqBJkkhrLWZnZxsJ7cvLi7e0tKS73W5YBur9YF2UZZn2PM9rag8SEbfWWgBB2fiPQGyWZVoIwZoClVJya20MQNUCnZubi4ioMVDf96G1NgD8WqCtVits0qOccyilZF3QKE3TRkE9z0M/gqIOqI7jOOScNyfojEEI4dXdo6HWmogITXpUCMEB2DqgvlIKjLFGQbXWHEBSy6NSStYkKOccYRiS7/tpHVDT3y+NgmqtKYqiVmVQznni+77XtEeNMWSMmSsrlspAZZqmSRAErMEMOvSoUiqtCiriOJ5RSjXqUSKCMYZ832+VcZV6NIqi2TAMGwVljCEMQ08IkVQFFcaYmSAImiyevmUZrSGE0FULZ6G1jsMwrC1PeZ7j+voavV5vtK7FxsZGnb06SKMvk+b+tLW19df9/b2ra3t7e27kt2PYDg4OKq2/u7tznU7nTwALVUJPvu8LpVTt0N3e3pb2Hx4egjH2XQvDEJeXl9+JPoC0SuiVlHJqaVpbW8Pu7m6lucfHxzg/P8f29vYQ1FrLAbSqgCZBEEydPtvtNnZ2dirNPT09RVEUbyTKWktVQ58aYxqVptHQx3EsqoK2mtbQodwIgTRNCcDiRFAp5by1tnENHXg0SRLBOZ/sUd/3s48CFUIgSRJijM1X8mgcxx8CSkRI05R7nteaCEpEC9OCrqys4OzsrFQzy9rFxQVWV1ffVPlRFDHG2MxEeeKct5IkmQr06OgI6+vrb1Loe2aMQafTefv7G0VgjMkqoGkcx1PpKBFhc3PzX/87SSn58/PzxI/JLC4u4iPkafDlp2nKx9PouEejx8dHdnJyAqXUMGuMHxeOHiWOjjPGJs4bHxtdT0R4enpCr9cjAG0Afw/r1TG3LzjnrqSUr865LyMHrW7shcoObYuxOeNVFBt7LpsH5xy9vr5+IaJf8jz/A5/2af8T+woUyWfEnN7KnQAAAABJRU5ErkJggg==",UP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkWAyUJMZsNCgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADvklEQVRYw+2YPUskSRjH/0+9dFd3dVe37aijrILfYjAz0egCwYlV9BOYeJgfGF4gaO5H8BIDxUjHSA/OUeRgg402OUVQDke7LnD0ZmZ73lzpvQMfKLqqq4r5zfNaXcCHfMh/W6jD3K/FYvEnIQQHkNbfWWstAKRE9NK39ZbWn1R/ouV91ruXMdVqtdr19fVvtVrtlywY0QF0eHd399Pk5KSTpimsta+tTpw5fpGXPfj3H3bcf3Fx8ff6+vrnarWqAdz1DBrHsWOMweDgYC6mfXh4YBMTE7parfpZoKzNvrBYLGrGGMvLB4UQ3BhjAHhZ8+1ATLFY1FJKygvUcRxujIkAqL5Ah4aGQiFEbqCu60JrHQBw+wItFAp+nhrlnEMp5fQLGiZJkisoYwx1C8p+QHUURT7nPL+ETgQpJevXR32ttRBCIE+NSik5ANMPqKuUAhHlCqq15gDivjTqOA7lCco5h+/7wnXdpB/QoO4vuYJqrUUYhoWeQTnnseu6LG+NBkEggiAYyjosZYE6SZLEnudRjhX0VaNKqaRXUBlF0YBSKleNCiEQBIFwXbeQxZWp0TAMB33fzxWUiOD7PpNSxr2CyiAIBjzPy/Pw9FxltIaUUvcaTFJrHfm+/+b0tLCwAMYYiKhtm5qawu3tbZavZpbRrNIjlVKR53lvtvvOzg5WV1dRKpUy58vlMo6PjzE7O4u9vT08H0Ofk77neQxA0Hp4zgIVrutKpdSbTWitRalUwvz8fMd1lUoFMzMzqFQqTUkfQALgazfTK8dxcktNJycnTSnKGMMBFHoxfex53neXz3K5/KYUZYwRAEZ6CaYkCIJcU1OjRqMoklmgWRotvHcOJSJMT0/DWovDw8Omz+imKJYSSZIIAKNdNeo4zrAx5l1z6NbWFvb393FwcIDNzc2OGo3jWHLOu5vedd3ie4MuLS299peXl9uuk1IijmNBRMM9aTSKoncFPTs7e+2fnp52DKYkSThjrHvUCyFGvheUiJr8cG5uDmtra7DWYmNj45u1jaf8MAyJiAa6/sjY2NjvR0dH6dPTk32rLC4uWiKyDZdjmY2I7MrKStPey8tLq5T6syvo+Pj4l/Pzc5umqf0RcnV1ZY0xn3sJpmB0dBQ/Io++RH6SJLxeRtv6aHhzc0Pb29tQSiFN02+uFFuvEhvnG32z3brWucb9Qgjc3d3h/v5eAPgE4K/Mi1zG2Ii1dtdxnEdr7VPDRWtrhs66tE1bzyYtjVrGWetgrRWPj49PQoifa7XaH/iQD/mfyD/OxfLhU+RunwAAAABJRU5ErkJggg==",GP="data:image/png;base64,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",zP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AceFSgko8VmfgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEqklEQVRYw+2YTWsUSRjH/9X10i/Vb3Ymkxk0ul6ikoM38Sx6yGETDwEPEvIJBDWXRbyJiqcsOZljPsPs1YMHL1EGhGUcNGTyhiCEjYOJM6R7uvbgZEzGTmbaSLMLeaDorq6q4Tf/eup5qgo4sRP7bxs5ou3PQqHwO2OMAojb35RSCgBiQsjeu2qXuP0k7Se6vid926uTMAzDra2tv8IwfJwEw44AzZdKpTPnz58XcRxDKdUpbeLE+p7tjcH3f3jk+Hfv3jUfPHhQq1QqEsBO36C+7wvXdTEwMJDJ1O7u7mpnz56VlUrFSgLVDhnnFAoFqWmalpUPMsao67ouADOp/TAQt1AoSM45yQpUCEFd1/UAGKlABwcHHcZYZqC6rkNKaQPQU4HmcjkrS0UppTAMQ6QFdYIgyBRU0zS0Z5CnAZWe51mU0uwCOiHgnGtpfdSSUjLGGLJUlHNOAbhpQHXDMEAIyRRUSkkB+KkUFUKQLEEppbAsi+m6HqQBtdv+kimolJI5jpPrG5RS6uu6rmWtqG3bzLbtwaTNUhKoCILAN02TZJhBO4oahhH0C8o9zztlGEamijLGYNs203U9l8SVqKjjOAOWZWUKSgiBZVka59zvF5Tbtn3KNM0sN0/fsoyU4JzLfjfOXErpWZZ17PD0/v17vHr1Co1G41tedhxcv34dxWLxKF/dS6O7vX7/t5s3b376+PGjSmtxHKsoilQURapcLqvx8XFFCOkUTdPU9PS0Wl5e7vTbb7VaTd24cWMZwFA/ijJd17lhGKnU29rawtzcHD58+AClFJaWlrC4uHigj1IKCwsLWFlZwenTp2FZFkZHR3Hnzh1QSjtBH0AA4FMvUEMIkTo0lctlPHv2rDPNewvk2rVrGB0dRavVwuvXr7G4uIiXL1/CMAxMTk6iVCphbGwMFy5cAKUUrutSALl+FpNvmmZq/wzD8MBhjhCCe/fuYWJiAvV6Ha1WC7dv38atW7cAAM1mE2/evEG1WkWr1eqEKNd1Wb9TH9i2fezQdOnSJYyMjODp06dYXV0FAFy9ehVTU1N48eIFNjc3Ua1WMTQ0dCDoe57Hk0CTFM39ihg6PDyMer2OtbW1A+5hmiby+XziGM45giBgAIo9QYUQedd1jx1D6/U6HMfB/j2t53lQSmF7e/vQNOr7PqeU9lZU1/XCrwB9+/YtGo0G7t69i3PnzuHixYu4f/8+arUa1tfXD1XU931GCMn39FEhRN7zvGODNhoNzM7OYnp6Gg8fPkQURahWq5ifnz+w6LrzfRAEVNO0XE9QxtjQz4Dquv7DiWBjYwNPnjyB67qI4xhfvnxJOs933EPTNDiOQwghp3qCUkpzvu+nBr1y5QoePXqEpaWlQxVL8snLly9jZGTk+/HXcUAIEf2ABp7npY6jUkrMzMz0Dbk/3nafnYQQtNls9lxMdrFY/OmDHSEkVUlSOQgC2k6jhyrqfP78mTx//hyGYSCO4x+uFLuvEve3E0J69utu2z+eMYadnR18/fqVATgD4J/Ei1xN04aUUiUhRKSUau27aO2ez6RL27irj+oqpKue1A9KKRZFUYsx9kcYhn/jxE7sf2L/Ao3G7H18/ZeRAAAAAElFTkSuQmCC",HP="data:image/png;base64,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",WP="data:image/png;base64,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",XP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AQWAhQoQv20YAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADA0lEQVRYw+2Yu0tjQRTGv7l5STBiMBFUthArQZSNxk62FKwEEUQN2IoQ8qdYaG8T0ASbWwUxhS8Em22EbbQIC1v5whgxueZ+21wX9eYxufcmPtYPpplMzvzunDlnzgzwpf9Uws6fSXoBDAKYAPADwHcA34yffwP4CWAPwAGAX0KIUku/juQAyTU2rjWSA60A7CWZon2lSPY2C3KBzmvBSUDFopsb2Q6KE5ApNl8pW7D1VvLq6oqqqjIWi3F0dJShUIg+n49er5fBYJCRSISJRIKnp6fUdb3uyjq+J8vlMldWVtjW1kZFUeo2j8fDWCzGm5sbZ/esEd1VpWkaJycnpSCft6mpKRYKhXqwFbNBtX2x2ozMsbOzg2QyWW/YqhSokZBnpY82IdDX14f5+Xlks1kcHx8jHo+js7PTNFbXdWxubkLTtFomZ6UOBZlU9OT6sbExZjIZappmGnN0dMRAIGByf39/P6+vr+0FFkmvTC4pl8s8OTmpCPikQqHASCRiAu3p6eHFxYXMNN5arh+UcbeiKIhGo3C73VXHlEol5PN5U39HRwc8Ho/MNIO1QCecChxVVZHL5Uz9w8PDaG9vlzExUcv1aSeOmWw2y66uLpPb/X4/d3d3Zc2ka4Ge2YVUVZXBYNAE6XK5uLy8zMfHR1lTZ7VAi3Ygt7e3K0a6y+XizMyMTLJ/rmJTQPf396uu5NzcHO/u7ho1WXTc9fl8niMjIxUhl5aWWCxa+v4zx4Pp8PCQfr/fBDo+Ps7b21urTkrXSk97VlJRLpfDw8ODqX96ehqBQMBqhnvB8jpjH1ix2N3djWg0Cl3XX9QAQ0NDdlLxQdXrsnFsFd/JVd73/HqtvKqESgDW3wHket03AOPO3pC2trYYDocZCoX+tXA4zI2NDauBZCrz3BXqy3Mj4qRr0vv7e1xeXlbst6C0EOJctsJPvKHbE9JXESHEHwCLbwC5aMwtfWeCECLZ4sBaN+ZEQ6CG4gDSLYBMG3N98iedD/VI9uGeHd/6IfdzP41/6TPoL3empoogJdXtAAAAAElFTkSuQmCC",KP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wgIEDgk7cKcLgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAE+klEQVRYw+2YS0xUVxjHf+feO8MMw/AYYICI4zCtaCgYFaZg4yu4sGBEN4pKTaMx2kWTGuOiSRPrg4VNV7ppgouSdKHBNNGFblptgjU2TVNDA20GFSEgDI9JRSgww733dMEwYEXFBx1N5p/c3OQ87vnd7/vOd79zIaGEFkwrgCHAAHTgG0D9z5h8oCM6xgCuAknxgP0UiEQhxoAts/o04LtZkA+Ad+JlVVvUStMwASAn2rcTmIi2h4F98Q6BZUDfLNgGwAvcn9X2PWCZa7J4hYUFwIYNJPX3Z2UYo6YCMB7ttEfvikNIT1Jo+Ic/GAMOAWejMRqJxuXy6NBeYH0U/KVBhceTlasowj0+ruTbbGKJxZK0HMWelJaSlGXV1HcVTbNrFguKogAgTRNdN9D1SHhSNzpG/gkHJ8Njsru7d62u60WAnPV8HTgQjdU5pT2tw+fLcRth6ZuUotTpdPozM7NWut1ud05OrisvL0/Jzc2xZGZmkZaWhsPhwGq1oijKDKiU6LpOJBJmbGy8+NGjR4RCQ7S1/Wk0nDvHxPiEEl1KapoWyM7O6LNaye3qGgw+F7QiH3uf6l5pmurGjIy8zR7P4hWdnZ3Oqqpqbdu2bbhcLpKTk1FVFSEEQsw4REr5XLdIKXE609SGhnOz5wpN04pLS/2XBgeHWhSs1zEnm63JA78EAoxMD1IBSkuxKEruh2aK+/OSktVfVFdvqanbs8dbVVVtb29vV0pLy6ioqMBms80JCcTannWFQiEOHfqEwcHBx+bqui5WrVptPXz48OJF+Z51QrVuDYWMEqvVQmHKaGffKJNqUVF2yvDfqSf87685UVu7+4O6urqU8vIKkZ2djRCC5uZmfD4fhYWFT8C9iEzT5OTJk1y//hMALpeL7du309bWhpSSe/fusWlTJVVVVaK8vNzu8Sx5T0o2Bx48zF+UnvSbNjmuFHm8vgMHDx50LV26NGad+bjyRXTt2jXOn78w5UZV5ciRI+zevYuWlhba2toIh8OcOlXPhQvnSU9Pp7KykpKS4tTh4Ycf/9V6+5IiTaloqqpmZmbGIF+3BgYGOHbsS8LhMADr1q1l796PcDgc7N+/D4tlKnXevXuXM2fOxoyUmppGst2ONKWmLHSWNwyD06e/oqOjA4CsrCzq6+ux2WwAeL1eli0rjGWLpqYmbt68+cRzFhz0ypWrXLx4Mebyo0ePMjvEhBAUFHjx+8sACIfDHD9+nKGhofnl0delmpqt1NRsfeYYVVVpaGjA4XDEQk9KGQuV/8Wiz8ur8920cQV9ESVAE6BvDaiU5hsHJ6WMFa0KQF8wyOXLl+np6Xnt3/iXBQwGgzQ1NXHnzp0Z0BRHMl1dXTQ2NjIyMjIn7ELUAE+DHBsbo7HxWzo775OWmjoD6nSmsmPHTvr7g/T29sbdogMDA3R3d1Nbuwt3Ts7jMTpdFBuGEXdQ0zQRQkx9Uufe9eLtT0/x3mRxzqPi2V6UM2dqTVUNXTf0yYmJcUA+VtFM3WXs6CulnPNg9yo73DSNWFxOr2uaUzk9MhkhEglLRTUjYkUOjlH7oq9Xla3Z1R4IiDK/H5fLFavOf75xg4KCApZ4vSCj5ynkU/5kzP8FZNRcwWAfra2trN+4EYs2VR4PDw9z69YtiouLuf37rz8KMfyZAPAvd2YGBh0+pHzjdlOeQ+8JdId6SSihhBJ6M/UvkRLqf5NwFscAAAAASUVORK5CYII=",qP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkWBAgakEAAvgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAESUlEQVRYw+2Y3U8jVRjGn3NmWvpBGWjZFtylQFPMlsBmFcjSBLvAzVoIyxXuZr0wJspeeisxxj/Av2DjhVwa9kbScKVIAhjMkkiyktSC0TaU0pYWHYr9nJnjBf2QDwVaVtZsn2QyycycmV/e97zPOe8AVVVVVVUvpUilY+/eRU0k0tggHygUAFL5m9r8meoJs9bExW+eI5m/xF4kKLFaG5soJeZUit7QaEirSlVzE1RbI9TWNKp5zk55XsurVKCUHtIoCiRJhiRlMzlJ/jXxZyYs59KSJGU202nlF52ORBIJKRiLxaIA5LJBbTaLWc4wW46RHoPB0GcyNd42m81mi6XJ2NzcTJuaLCqTqRGCIECv10OtVoNSWgJlDJIkIZvNIJlMYX9/H/F4DJFIRNoOheTdaOQgGt0N7+3FfhLF/WcAW+N55edAYDd8Jmj/DWh3OPNtReEGzebme1Zryy2/329wu0f48fFxGI1G6HQ6cBwHQggIKQ1n7OyMMsagKApkWUY6ncLe3u+Yn5/H06czss1mSwWD28+j4e3voOQW1broDz4fEoWxHAD09EBFadPbSq354+7uNz8ZGRm9/+6jR21u94h2Y2OD9vT0or+/HxqN5lRIAMVrZx2UUvA8D41Gg/r6eqRSKQQCATo1NaV2Op0tr11veYtw6rF4XO5Wq1V4vfbAv3OAHN/Zea02FuU+vXPH+f7Q0NA1p9OJhoYGAEA6nS4GnTF2Au4ydJgJBo1GA7vdDrvdTtxud8Pq6urEwsLCve+Xl77qbM18xudStNPaZvtgcnLS2NHRUYzOeVL5QmyIEBgMBgwPD6O7u6tOFP94z7u+9jVlCqM8x3Emk6n44JV7Zp6hrk6ATqsFUxhP/y+Gf+mgLtcAXK6Bc0fuvBl8dSN60Yo/b9FWI/rKgvKVVjgAOBwOPHnyxanPPH78IbxeLwBgcXH5aiK6uLgMQRDg9XoxNjZ64v7Y2Ci8Xi8EQagI8ggoY0pZL/B45iAIAkRRPOKfLtcARFGEIAjweObKd4W/g+6Ew5idnUUwGCxrjS/AHle5kIwxhMNhzMzMYHNzswRaq9chEAhgenoaiUTiVNizVpDjsJVAJpNJTE9/Cb//Nwh1dSVQg6EOExPvIBIJIxQKlb1UejxzcDgccDgcJyAvsrRGo1FsbW3hwYOHMFssR6u+sCmWZbmiSf9P1X8RKYoCQgj0en2xBeErbUrPG6X/zPCvaiNdseFX6oulDP5LFlnpJwDPcbIkyVIunU4BYEd2NIV+ptD6Fvqmy+oCDrtSuTgvC99VlENPz+ayyGYzjHJKltyyQH+gvf75G73Ohxs+H+nt64PRaAQAyLKM5aUltLe3o7WtDWD5fuqUnx3kgnOc5cMVDu9gfX0drsFBqPjDBIuiiJWVFXR1dWHtx2ffEiJ+RACg76bB5NvV28DY1TdMx9Ssl4K+rXgIVVVVVVUvp/4CVivTPqtayYoAAAAASUVORK5CYII=",YP="data:image/png;base64,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",QP="data:image/png;base64,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",JP="data:image/png;base64,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",ZP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS0UqInYQcchQnSyIijhqFYpQIdQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxc3NSdJES/5cUWsR4cNyPd/ced+8AoVFhmtU1Dmi6baaTCTGbWxXDrxAQQhBx9MvMMuYkKQXf8XWPAF/v4jzL/9yfo1fNWwwIiMSzzDBt4g3i6U3b4LxPHGUlWSU+Jx4z6YLEj1xXPH7jXHRZ4JlRM5OeJ44Si8UOVjqYlUyNeIo4pmo65QtZj1XOW5y1So217slfGMnrK8tcpzmMJBaxBAkiFNRQRgU29VWGToqFNO0nfPxDrl8il0KuMhg5FlCFBtn1g//B726twuSElxRJAKEXx/kYAcK7QLPuON/HjtM8AYLPwJXe9lcbwMwn6fW2FjsC+raBi+u2puwBlzvA4JMhm7IrBWkKhQLwfkbflAMGboGeNa+31j5OH4AMdZW6AQ4OgdEiZa/7vLu7s7d/z7T6+wEgYnKG3s9puAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UCBQMwAvRNakUAAADjSURBVGje7ZqxDcMgEEVNlAUoKViDgRiMgajZgIKSEZIq0QUFnDM4CuRfZRcn/KTnjzhbbANKSnnj9uScxYi1L9vkNT2AGKFKSom9sFJqiF5Q6KcVKpWpqRJj7HqIEMLLvbX2Y52gEAA663q0kXqvte7qh0JLxSiNzjI2j2hDe4wxbyO51InG6l6kQiEAAAAAAAAAAAAAAAAA4PtHyrOPilAIAAD4EwDWcNd7/7yuTSVac//aJALDXQDMuBPXdlz6nrR6Su+h0JIxuherj3LOsRemUVkWPrMuqxBXrVbhZ49VAO7oTlveWOIKeQAAAABJRU5ErkJggg==",$P="data:image/png;base64,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",eR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gIZFDEXnijShQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADPUlEQVRYw+2ZPUgcQRTHfzMbcickURElaJEjXCWCjQS1iEEMBOxsJIUg2mpjBLXQQvCDHIc2dgqCWAQ0XDgIgRTR5apEiwO5JoWVhR9YKIrG7E0K3cveet7umju9iA+GHd7OvPnv/N/HDCv4KwJ4RP7lFPjldZK4eJYAIaAGkIDKA0ABJIFdIAbMAEdejcxdgLuplgROgGYvIB8D328YqNlOgTduQD64oESaip6eHurq6pBSkkgkmJycdDRSVVXFxMQEyWQSpc69RgjB3t4eIyMjHB8fA9Dd3c3Ozg7RaNSc+hD4CLwFPjmt8wT4YX7l8vKyMmVlZcXVzgwNDalMcnR0pBobG1PjFhcXlVJKhcNhpWma3U7WnZV2hbkj9n42uWqcUiqjvb6+PsbGxuzDPwCvXQO9KRkYGGBubs7O7GegtaCAAnR1dTE8PIwQwhozS8CrggIKMDo6yvT0tFXlByJAS0EBBejt7SUUCll3thj4ArwoKKBCCPr7+xkcHLSqtYtq6c8ZULfZwUnGx8ftbvASeJ4zoGdnZ2npyGyGYWAYhidbHR0dVFdXW1XNZpT9s8zPz1/KmQAHBwfE43FPO19cXEwgECCRSJiqZ45A/X6/K6D7+/tMTU05jisqKnLlr5agSrGelfr6+noqKytz4n/l5eXU1tZee74j9aurq8zMzLC1tXXtQCstLaWzs5NgMJg/oMFg0BWt+ZaCyKP3QO+B3gWgjlG/vb3NwsICm5ubOV9c0zQaGhpoa2vD5/M5jk+7My0tLaXde2pqavJ+G21vb0+tZxiGam1ttb4PO1K/trbGxsZG3mmNRCLs7u5en/rDw8M0mlpaWlzXf3t1stZv8yodi8VS709OTq4P1Grc5/MxOzubk9ovpUTXdZqamnIXTPYFpMxNovBqR3ql8L/Io7Zz4n3Cv7tA8+mTXm3L2/JJr7ZltrRh7QshcpaaMqUnTdNS+kwfcSmPxuNxSkpKkFKyvr6e0huGga7rlJWVZa06biqUpmmXrtG6rlNRUYFhGFeW07RDib0JIfJ2GHFp+71J/SHws4AD6qtJvQLeAeVAgL+/dG5bfgNR4BsZQD0tEKACOOP8nxQAfwAPG9nwqzxsWQAAAABJRU5ErkJggg==",nR=[{name:"Load ROM",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUDEjATsbMk9wAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADxklEQVRYw+2YXU8jVRjH/+fMtEw7fYGWnYK7FGiK2RDYrBay9EIXuFmLWbnC3awXGxPDrbcSY/wAfgi5NOyNXCuSyBrMkkiykmjBaBtKmZYWLcVOX+acsxf0JatEUFmLyfyTySRn5mR+ed7meQ5gyZIlS5dS5N/uvX0bHZlMdxc75hQAjPpDR/1OVSKCHfnCF09Rqi+JFwlKgsHuHkqJZhj0mqKQfput4zqoo8Pr6ui2y1KYyrJDttlAKT2h4RymyWCa1UrNZD8Xf6/orFY2TbOyUy7zn5xOkikWzVQul8sCYP8YNBQKaKwiQjVBIm63e9zv776paZoWCPT4ent7aU9PwOb3d8Pr9UJVVdjtdlBKW6BCwDRNVKsVlEoGjo6OkM/nkMlkzL10mh1kM8fZ7IF+eJj7vlA4egKITVnmPyaTB/qZoBPX4NiXtJucS5Oa1nsnGOy7kUgk3LHYjDw7Owufzwen0wlJkkAIASGt7UKc7VEhBDjnYIyhXDZwePgrVlZW8OjREguFQkYqtfc0q+99BV772u7MfhuPo9jYKwFAJAIbpT1vcJf2wejoqx/OzLz51jsPHgzEYjOO7e1tGomMYWJiAoqinAoJoLl21kUphSzLUBQFnZ2dMAwDyWSSLiws2KPRaN9LV/teI5L9bj7PRu12G152HSf2j1GTh4evuHJZ6aNbt6LvTk1NXYlGo+jq6gIAlMvlptGFEH+CuwideEJAURSEw2GEw2ESi8W6NjY25lZXV+9883jts+H+ysdyzaDDwYHQe/Pz876hoaGmdc7jyhdShgiB2+3G9PQ0RkdHPIXCbw9/2Nr8nAouqCxJkt/vb77Y9ppZZ/B4vHA6HBBcyPT/UvBpuy13Xg9aFj1vxp83aS2LWqAW6EWDCsEvHZwQotllUwDY13UsLy8jlUq17R//R0Bd17G0tISdnZ0WqEt1IplMYnFxEcVi8VTY/6oHEEKgVCphcfFTJBK/wOvxtEDdbg/m5t5GJqMjnU633aLZbBa7u7u4d+8+tEDg+RhtNMWMsbaDcs5BCIGqqs0RhF7cUHpJylO7k6zNdZT8tRdF6xBAliRmmsyslcsGAPFcR9OYZxqjb2NuuqgKcDKVsmZcNr7L+UlNr9aqqFYrgkq8Sm4EoB47rn7yylj0/nY8TsbGx+Hz+QAAjDE8XlvD4OAg+gcGAFGfp0457CB/M8ZF3Vy6vo+trS28PjkJmywDAAqFAtbX1zEyMoLN7558SUjhfQIA49fd/viBGoIQly6belUzFd/Np2HJkiVLl1PPAJFxm2lUWqFHAAAAAElFTkSuQmCC",type:g.ROM_LOAD,details:"Load a ROM image and read its boards"},{name:"New board",icon:NP,type:g.BOARD_NEW,details:"Create a new board",dropdownFn:DR},{name:"Import board",icon:jP,type:g.BOARD_LOAD,details:"Import a board file into the editor"},{name:"Export board",icon:UP,type:g.BOARD_SAVE,details:"Export a board file for distribution"},{name:"Debug",icon:GP,type:g.DEBUG,details:"Debug functionality",advanced:!0},{name:"Screenshot",icon:zP,type:g.SCREENSHOT,details:"Take a screenshot of the current board",dropdownFn:FR},{name:"Events",icon:HP,type:g.EVENTS,details:"View and manage events",advanced:!0},{name:"Settings",icon:WP,type:g.SETTINGS,details:"Editor settings"},{name:"About",icon:XP,type:g.ABOUT,details:"About PartyPlanner64"}],tR=[{name:"Close ROM",icon:KP,type:g.ROM_UNLOAD,details:"Close the ROM file and remove its boards"},{name:"Save ROM",icon:qP,type:g.ROM_SAVE,details:"Save changes out to a ROM file"},{name:"New board",icon:NP,type:g.BOARD_NEW,details:"Create a new board",dropdownFn:DR},{name:"Import board",icon:jP,type:g.BOARD_LOAD,details:"Import a board file into the editor"},{name:"Export board",icon:UP,type:g.BOARD_SAVE,details:"Export a board file for distribution"},{name:"Debug",icon:GP,type:g.DEBUG,details:"Debug functionality",advanced:!0},{name:"Screenshot",icon:zP,type:g.SCREENSHOT,details:"Take a screenshot of the current board",dropdownFn:FR},{name:"Events",icon:HP,type:g.EVENTS,details:"View and manage events",advanced:!0},{name:"Patches",icon:YP,type:g.PATCHES,details:"Apply patches to the ROM",advanced:!0},{name:"Model Viewer",icon:JP,type:g.MODEL_VIEWER,details:"View 3D model data in the ROM"},{name:"Sprites",icon:ZP,type:g.SPRITE_VIEWER,details:"View sprite data in the ROM",advanced:!0},{name:"Audio",icon:QP,type:g.AUDIO,details:"Game audio options",advanced:!0},{name:"Settings",icon:WP,type:g.SETTINGS,details:"Editor settings"},{name:"About",icon:XP,type:g.ABOUT,details:"About PartyPlanner64"}],rR=[{name:"Close ROM",icon:KP,type:g.ROM_UNLOAD,details:"Close the ROM file and remove its boards"},{name:"Save ROM",icon:qP,type:g.ROM_SAVE,details:"Save changes out to a ROM file"},{name:"Overwrite",icon:"data:image/png;base64,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",type:g.BOARD_WRITE,details:"Overwrite a ROM board with the current board",dropdownFn:function(e){var n=function(){return RP.apply(this,arguments)}();return(0,Ne.jsx)(VR,{resultsPromise:n,onClose:e})}},{name:"New board",icon:NP,type:g.BOARD_NEW,details:"Create a new board",dropdownFn:DR},{name:"Import board",icon:jP,type:g.BOARD_LOAD,details:"Import a board file into the editor"},{name:"Export board",icon:UP,type:g.BOARD_SAVE,details:"Export a board file for distribution"},{name:"Debug",icon:GP,type:g.DEBUG,details:"Debug functionality",advanced:!0},{name:"Screenshot",icon:zP,type:g.SCREENSHOT,details:"Take a screenshot of the current board",dropdownFn:FR},{name:"Events",icon:HP,type:g.EVENTS,details:"View and manage events",advanced:!0},{name:"Patches",icon:YP,type:g.PATCHES,details:"Apply patches to the ROM",advanced:!0},{name:"Model Viewer",icon:JP,type:g.MODEL_VIEWER,details:"View 3D model data in the ROM"},{name:"Sprites",icon:ZP,type:g.SPRITE_VIEWER,details:"View sprite data in the ROM",advanced:!0},{name:"Audio",icon:QP,type:g.AUDIO,details:"Game audio options",advanced:!0},{name:"Settings",icon:WP,type:g.SETTINGS,details:"Editor settings"},{name:"About",icon:XP,type:g.ABOUT,details:"About PartyPlanner64"}],aR=[{name:"Back to editor",icon:$P,type:g.BOARD_EDITOR,details:"Return to the board editor"}],iR=aR.concat([{name:"Create Event",icon:"data:image/png;base64,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",type:g.CREATEEVENT,details:"Create your own event code",dropdownFn:function(e){return(0,Ne.jsx)(UT,{onAccept:function(n){switch(e(),n){case x.MIPS:X_(f.CREATEEVENT_ASM);break;case x.C:X_(f.CREATEEVENT_C);break;default:throw new Error("Unrecognized event code language ".concat(n))}}})}},{name:"Import Event",icon:"data:image/png;base64,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",type:g.EVENT_LOAD,details:"Load event code from a file"}]),oR=[{name:"Back to event list",icon:$P,type:g.BACK_TO_EVENTS,details:"Return to the event list"},{name:"Save",icon:eR,type:g.SAVE_EVENT,details:"Save the event"}],sR=[{name:"Back to editor",icon:$P,type:g.ADDITIONALBG_BACK,details:"Return to the board editor"},{name:"Save",icon:eR,type:g.SAVE_ADDITIONALBG,details:"Save the code"}],lR=[{name:"Back to editor",icon:$P,type:g.AUDIOSELECTCODE_BACK,details:"Return to the board editor"},{name:"Save",icon:eR,type:g.SAVE_AUDIOSELECTCODE,details:"Save the code"}],uR={name:"",icon:"",type:"MORE",details:"More options"};function cR(e){return dR.apply(this,arguments)}function dR(){return(dR=O(k().mark((function e(n){var t,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=e.t0===g.ROM_LOAD?3:e.t0===g.ROM_UNLOAD?5:e.t0===g.ROM_SAVE?11:e.t0===g.BOARD_LOAD?14:e.t0===g.BOARD_SAVE?16:e.t0===g.BOARD_COPY?21:e.t0===g.BOARD_DETAILS?23:e.t0===g.BOARD_EDITOR?25:e.t0===g.SETTINGS?27:e.t0===g.ABOUT?29:e.t0===g.MODEL_VIEWER?31:e.t0===g.SPRITE_VIEWER?33:e.t0===g.EVENTS?35:e.t0===g.BACK_TO_EVENTS?37:e.t0===g.EVENT_LOAD?43:e.t0===g.SAVE_EVENT?45:e.t0===g.STRINGS_EDITOR?47:e.t0===g.PATCHES?49:e.t0===g.DEBUG?51:e.t0===g.AUDIO?53:e.t0===g.SET_BG?55:e.t0===g.SAVE_ADDITIONALBG||e.t0===g.SAVE_AUDIOSELECTCODE?57:e.t0===g.ADDITIONALBG_BACK?59:e.t0===g.AUDIOSELECTCODE_BACK?64:69;break;case 3:return rD(".z64,.v64,.rom,.n64",fR),e.abrupt("break",70);case 5:return Ry.clear(),Tw(),q_(),Xy(0),Y_(),e.abrupt("break",70);case 11:return cy(!0),setTimeout((function(){Ry.saveROM(),cy(!1),vR()}),0),e.abrupt("break",70);case 14:return rD(".json",hR),e.abrupt("break",70);case 16:return t=AR(t=Hy()),r=new Blob([JSON.stringify(t)]),(0,Py.saveAs)(r,t.name+".json"),e.abrupt("break",70);case 21:return fw(),e.abrupt("break",70);case 23:return X_(f.DETAILS),e.abrupt("break",70);case 25:return X_(f.EDITOR),e.abrupt("break",70);case 27:return X_(f.SETTINGS),e.abrupt("break",70);case 29:return X_(f.ABOUT),e.abrupt("break",70);case 31:return X_(f.MODELS),e.abrupt("break",70);case 33:return X_(f.SPRITES),e.abrupt("break",70);case 35:return X_(f.EVENTS),e.abrupt("break",70);case 37:return e.next=39,kT();case 39:if(!e.sent){e.next=42;break}iy(null),X_(f.EVENTS);case 42:return e.abrupt("break",70);case 43:return rD(".c,.s",mR),e.abrupt("break",70);case 45:return MT(),e.abrupt("break",70);case 47:return X_(f.STRINGS),e.abrupt("break",70);case 49:return X_(f.PATCHES),e.abrupt("break",70);case 51:return X_(f.DEBUG),e.abrupt("break",70);case 53:return X_(f.AUDIO),e.abrupt("break",70);case 55:return rD("image/*",pR),e.abrupt("break",70);case 57:return BP(),e.abrupt("break",70);case 59:return e.next=61,IP();case 61:if(!e.sent){e.next=63;break}X_(f.EDITOR);case 63:return e.abrupt("break",70);case 64:return e.next=66,IP();case 66:if(!e.sent){e.next=68;break}X_(f.DETAILS);case 68:case 69:return e.abrupt("break",70);case 70:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)return e;for(var n in e=JSON.parse(JSON.stringify(e)))e.hasOwnProperty(n)&&("_"===n.charAt(0)&&delete e[n],"object"===typeof e[n]&&null!==e[n]&&(e[n]=AR(e[n])));return e}function fR(e){var n=e.target.files[0];if(n){cy(!0);var t=new FileReader;t.onload=function(e){if(e.target.result){var n=Ry.setROMBuffer(e.target.result);n&&n.then((function(e){Y_(),Fw(),cy(!1),H("ROM loaded")}),(function(e){console.error(e),dy("Error loading the ROM file.\n\n".concat(e))}))}else cy(!1)},t.readAsArrayBuffer(n)}}function hR(e){var n=e.target.files[0];if(n){var t=new FileReader;t.onload=function(){var e;try{e=JSON.parse(t.result)}catch(n){return void dy("Board could not be parsed.")}Xy(zy(e))},t.readAsText(n)}}function pR(e){var n=e.target.files[0];if(n){var t=new FileReader;t.onload=function(){sw(t.result)},t.readAsDataURL(n)}}function mR(e){var n=e.target&&e.target.files;if(n&&n[0])for(var t=function(e){var t=n[e],r=new FileReader;r.onload=O(k().mark((function e(){var n,a,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=SR(t.name),a=r.result,i=KS(n,a),e.next=6,qS(i);case 6:gx(i),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),dy("Event file load failed. "+e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),r.readAsText(t)},r=0;r<n.length;r++)t(r)}function SR(e){var n=e.toLowerCase();if(n.endsWith(".s"))return x.MIPS;if(n.endsWith(".c"))return x.C;throw new Error("Only .s or .c file extensions are recongized. (Saw ".concat(e,")"))}function gR(e,n,t){var r;return r=e!==f.EDITOR?e===f.EVENTS?iR:e===f.CREATEEVENT_ASM||e===f.CREATEEVENT_C?oR:e===f.ADDITIONAL_BGS?sR:e===f.AUDIO_SELECTION_CODE?lR:aR:t?Ky(n)?tR:rR:nR,Ze(Oe.uiAdvanced)||(r=r.filter((function(e){return!e.advanced}))),r=r.filter((function(e){return!e.show||e.show()})),r}function vR(){var e,n="romSaveNotice",t=function(){var e;e=n,Sx.dispatch(Xv({notificationKey:e}))};e=(0,Ne.jsxs)(lP,{color:$T.Green,onClose:t,children:["Before trying the game, review"," ",(0,Ne.jsx)("a",{href:"https://github.com/PartyPlanner64/PartyPlanner64/wiki/Emulator-Setup",target:"_blank",rel:"noopener noreferrer",children:"emulator setup instructions"}),".",(0,Ne.jsx)(cP,{onClick:t,children:"Got it"})]},n),Sx.dispatch(Wv({notification:e}))}var xR=!1,_R=function(e){s(t,e);var n=A(t);function t(e){var a;r(this,t),(a=n.call(this,e)).actionsEl=null;var i=gR(e.view,e.board,e.romLoaded);return a.state={actions:i,totalActions:i,overflow:[]},a}return i(t,[{key:"refresh",value:function(){var e=gR(this.props.view,this.props.board,this.props.romLoaded);this.setState({actions:e,totalActions:e,overflow:[]})}},{key:"render",value:function(){var e,n=this,t=this.state.actions.map((function(e){return e.dropdownFn?(0,Ne.jsx)(bR,{action:e,fn:e.dropdownFn},e.type):(0,Ne.jsx)(wR,{action:e},e.type)}));return this.state.overflow.length&&(e=(0,Ne.jsx)(bR,{action:uR,overflow:this.state.overflow,fn:ER},uR.type)),(0,Ne.jsxs)("div",{className:"header",role:"toolbar",children:[(0,Ne.jsx)(yR,{}),(0,Ne.jsxs)("div",{className:"headerActions",ref:function(e){n.actionsEl=e},children:[t,e]})]})}},{key:"componentDidMount",value:function(){var e=this;xR=!0,window.addEventListener("resize",this.refresh.bind(this),!1),setTimeout((function(){window.requestAnimationFrame(e.handleOverflow.bind(e))}),0)}},{key:"componentDidUpdate",value:function(){var e=this,n=gR(this.props.view,this.props.board,this.props.romLoaded);(function(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0})(this.state.totalActions,n)||this.setState({actions:n,totalActions:n,overflow:[]}),setTimeout((function(){window.requestAnimationFrame(e.handleOverflow.bind(e))}),0)}},{key:"componentWillUnmount",value:function(){xR=!1,H("Why did Header unmount?")}},{key:"handleOverflow",value:function(){if(xR){var e=this.state.actions.slice(),n=this.state.overflow.length,t=this.state.overflow.slice(),r=hv.findDOMNode(this),a=this.actionsEl;if(a){for(;a.offsetWidth>r.offsetWidth-215-(n?0:80);){var i=a.children[e.length-(n?2:1)];if(!i)break;i.style.display="none",t.unshift(e.pop())}for(var o=0;o<a.children.length-(n?2:1);o++){a.children[o].style.display=""}e.length===this.state.actions.length&&t.length===this.state.overflow.length||this.setState({actions:e,overflow:t})}}}}]),t}(Le.Component),yR=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"render",value:function(){return(0,Ne.jsx)("img",{className:"headerLogo",src:OP,alt:"PartyPlanner64 Logo"})}}]),t}(Le.Component),wR=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).handleClick=function(){cR(e.props.action.type)},e}return i(t,[{key:"render",value:function(){var e;return this.props.action.icon&&(e=(0,Ne.jsx)("img",{className:"headerButtonIcon",src:this.props.action.icon,alt:""})),(0,Ne.jsxs)("div",{className:"headerButton",title:this.props.action.details,role:"button",tabIndex:0,onClick:this.handleClick,onKeyDown:Be(this.handleClick),children:[e,(0,Ne.jsx)("span",{className:"headerButtonText",children:this.props.action.name})]})}}]),t}(Le.Component),bR=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).dropdown=null,e.state={opened:!1},e.globalClickHandler=function(n){e.elementIsWithin(n.target)||e.close()},e.onButtonClick=function(n){e.state.opened&&(n.stopPropagation(),n.nativeEvent.stopImmediatePropagation()),e.setState({opened:!e.state.opened})},e.onDropdownClick=function(e){e.stopPropagation()},e.close=function(){e.state.opened&&e.setState({opened:!1})},e}return i(t,[{key:"addGlobalHandler",value:function(){document.addEventListener("click",this.globalClickHandler)}},{key:"removeGlobalHandler",value:function(){document.removeEventListener("click",this.globalClickHandler)}},{key:"elementIsWithin",value:function(e){return!this.dropdown||this.dropdown.contains(e)}},{key:"componentDidMount",value:function(){this.addGlobalHandler(),window.addEventListener("resize",this.close,!1)}},{key:"componentWillUnmount",value:function(){this.removeGlobalHandler(),window.removeEventListener("resize",this.close)}},{key:"render",value:function(){var e,n=this,t="headerButton",r=null;if(this.state.opened){t+=" headerButtonExpanded";var a=this.props.fn(this.close,this.props);r=(0,Ne.jsx)("div",{className:"headerDropdown",onClick:this.onDropdownClick,children:a})}return this.props.action.icon&&(e=(0,Ne.jsx)("img",{className:"headerButtonIcon",src:this.props.action.icon,alt:""})),(0,Ne.jsxs)("div",{className:t,tabIndex:0,role:"button","aria-haspopup":"true",title:this.props.action.details,ref:function(e){return n.dropdown=e},onClick:this.onButtonClick,children:[e,(0,Ne.jsx)("span",{className:"headerButtonText",children:this.props.action.name}),(0,Ne.jsx)("div",{className:"headerDropdownArrow",children:"\u25be"}),r]})}}]),t}(Le.Component);var VR=function(e){var n=e.resultsPromise,t=e.onClose,r=(0,Le.useState)(null),a=(0,xe.Z)(r,2),i=a[0],o=a[1];return(0,Le.useEffect)((function(){n.then((function(e){o(e)}),(function(e){t(),console.error(e),dy("An error occurred during board validation, please submit an issue.\n\n"+e.toString())}))}),[n,t]),i?(0,Ne.jsx)(Ne.Fragment,{children:i.map((function(e,n){return(0,Ne.jsx)(CR,{name:e.name,errors:e.errors,warnings:e.warnings,unavailable:e.unavailable,forcedDisabled:e.forcedDisabled,closeCallback:t,boardIndex:n-1},n)}))}):(0,Ne.jsx)(TR,{})},CR=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).boardClicked=function(){var n=O(k().mark((function n(t){var r,a,i;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.props.name){n.next=2;break}return n.abrupt("return");case 2:if(!t.target||"A"!==t.target.tagName.toUpperCase()){n.next=5;break}return t.stopPropagation(),n.abrupt("return");case 5:if(e.hasErrors()||e.props.unavailable||e.props.forcedDisabled){n.next=30;break}if(e.props.closeCallback(),r=k_()){n.next=10;break}return n.abrupt("return");case 10:return cy(!0),a=Hy(),n.prev=12,n.next=15,r.overwriteBoard(e.props.boardIndex,a);case 15:n.next=22;break;case 17:return n.prev=17,n.t0=n.catch(12),console.error(n.t0),dy("Error overwriting the board.\n\n"+n.t0),n.abrupt("return");case 22:H("Board overwritten"),Tw(),Fw(),(i=Wy(a))<0&&(i=0),Xy(i),mP("board_write",{event_category:"action",event_label:a.name}),cy(!1);case 30:case"end":return n.stop()}}),n,null,[[12,17]])})));return function(e){return n.apply(this,arguments)}}(),e}return i(t,[{key:"hasErrors",value:function(){return!!this.props.errors.length}},{key:"hasWarnings",value:function(){return!!this.props.warnings.length}},{key:"render",value:function(){var e="overwriteEntry",n="";this.props.name&&(e+=" overwriteBoardEntry",n="Overwrite ".concat(this.props.name," with the current board."));var t=[];return this.props.unavailable?(e+=" unavailable",t.push((0,Ne.jsx)("div",{className:"overwriteBoardMessage",children:"Board cannot be overwritten currently."},"unavailable"))):(this.props.forcedDisabled&&(e+=" unavailable",t.push((0,Ne.jsx)("div",{className:"overwriteBoardMessage",children:"Current issues must be resolved."},"unavailable"))),this.hasErrors()&&(e+=" failed",t=t.concat(this.props.errors.map((function(e,n){return(0,Ne.jsxs)("div",{className:"overwriteBoardMessage",children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AsGEjAJMRMmpgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAkklEQVQY042QsQnEMAxFv4SjQQwHniqQMTKB98hCuS6dmkBmMIbYVxw2iqv8Sl886QsRjFaRan3MmVrtLDR7XywI1WphrCL1COE+Qrhl4ioTd99S3LjpkQ1g9r5AtTJeyo2Nr/+0kgEUax5arhPLdcJCAMAxZ9pU+8CeEvaUOrCpcsyZaHxPqf+7mag0CADo7cN/EYBJPjUCHZkAAAAASUVORK5CYII=",alt:"",className:"overwriteBoardIssueIcon"}),(0,Ne.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})]},n+"e")})))),this.hasWarnings()&&(t=t.concat(this.props.warnings.map((function(e,n){return(0,Ne.jsxs)("div",{className:"overwriteBoardMessage",children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AQaACoUZQW4TAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAlElEQVQY032PQQrCMBQF56UVwZ00eMviFTxAN5LDlN6jp5BmXaTauDApIRUHQuDn5U0CgHdWccc7G+IiPxORx91SGQIZ7xVdrhMAJt04n3SjIM28s9qU8G1rWh+VTcqraSfqsqU+iF+k4Pa217LLBEDKtX+QKUPdMNMN867VlJN+XOjHvV/e2ZDcleAYP/NcAmvm+gBPyjeWUUkCqAAAAABJRU5ErkJggg==",alt:"",className:"overwriteBoardIssueIcon"}),(0,Ne.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})]},n+"w")}))))),t.length?(n="Issues with the current board.",(0,Ne.jsxs)("div",{className:e,onClick:this.boardClicked,title:n,children:[this.props.name&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("span",{className:"overwriteBoardName",children:this.props.name}),(0,Ne.jsx)("br",{})]}),t]})):this.props.name?(0,Ne.jsx)("div",{className:e,onClick:this.boardClicked,title:n,children:(0,Ne.jsx)("span",{className:"overwriteBoardName",children:this.props.name})}):null}}]),t}(Le.Component);function ER(e,n){var t=n.overflow;return t.length?t.map((function(e){return e.dropdownFn?(0,Ne.jsx)(bR,{action:e,fn:e.dropdownFn},e.type):(0,Ne.jsx)(wR,{action:e},e.type)})):null}function DR(e){return(0,Ne.jsx)(fP,{onAccept:function(n,t,r){e(),Xy(zy(null,{game:n,type:t}))}})}function FR(e){return(0,Ne.jsx)(qC,{onAccept:function(n,t){if(nF)t.then((function(e){(0,Py.saveAs)(e,"BoardScreenshot.png")}));else{var r=window.open();if(r){var a=r.document;a&&(a.write(""),a.close(),a.body.appendChild(a.createElement("img")).src=n)}}e()}})}var TR=function(){return(0,Ne.jsx)("div",{className:"pendingDropdownBox",children:(0,Ne.jsx)("img",{className:"pendingDropdownImage",src:"data:image/gif;base64,R0lGODlhKwALAPEAAP///wAAAIKCggAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAKwALAAACMoSOCMuW2diD88UKG95W88uF4DaGWFmhZid93pq+pwxnLUnXh8ou+sSz+T64oCAyTBUAACH5BAkKAAAALAAAAAArAAsAAAI9xI4IyyAPYWOxmoTHrHzzmGHe94xkmJifyqFKQ0pwLLgHa82xrekkDrIBZRQab1jyfY7KTtPimixiUsevAAAh+QQJCgAAACwAAAAAKwALAAACPYSOCMswD2FjqZpqW9xv4g8KE7d54XmMpNSgqLoOpgvC60xjNonnyc7p+VKamKw1zDCMR8rp8pksYlKorgAAIfkECQoAAAAsAAAAACsACwAAAkCEjgjLltnYmJS6Bxt+sfq5ZUyoNJ9HHlEqdCfFrqn7DrE2m7Wdj/2y45FkQ13t5itKdshFExC8YCLOEBX6AhQAADsAAAAAAAAAAAA=",alt:"Loading"})})},PR=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={left:-1e3,top:-1e3,manuallyPlaced:!1},e.mouseDown=function(n){MR=c(e);var t=[n.clientX,n.clientY];RR=t[0],LR=t[1];var r=e.getContainerEl();r.addEventListener("mousemove",kR),r.addEventListener("mouseup",IR),r.addEventListener("mouseleave",IR),r.classList.add("moving")},e.onWindowResize=function(){e.updatePositionState()},e}return i(t,[{key:"render",value:function(){if(!this.props.visible)return null;var e={left:this.state.left,top:this.state.top};return(0,Ne.jsxs)("div",{className:"toolWindow",style:e,children:[(0,Ne.jsxs)("div",{className:"toolWindowName",onMouseDown:this.mouseDown,children:[this.props.name,this.props.canClose&&(0,Ne.jsx)("div",{className:"toolWindowCloseBtn","aria-label":"Close",onClick:this.props.onCloseClick,children:"\xd7"})]}),this.props.children]})}},{key:"componentDidMount",value:function(){this.props.visible&&this.updatePositionState(),window.addEventListener("resize",this.onWindowResize),this.attachMutationObserver()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize),this.detachMutationObserver()}},{key:"componentDidUpdate",value:function(){this.props.visible&&this.updatePositionState(),this.detachMutationObserver(),this.attachMutationObserver()}},{key:"shouldComponentUpdate",value:function(e,n){return!this.tryUpdatePosition(n)}},{key:"attachMutationObserver",value:function(){var e=this,n=hv.findDOMNode(this);if(n&&"MutationObserver"in window){var t=new MutationObserver((function(n){e.updatePositionState()}));t.observe(n,{childList:!0,subtree:!0}),BR[this.props.name]=t}}},{key:"detachMutationObserver",value:function(){BR[this.props.name]&&(BR[this.props.name].disconnect(),delete BR[this.props.name])}},{key:"tryUpdatePosition",value:function(e){var n=this.state.left!==e.left||this.state.top!==e.top;return n&&this.updatePosition(e),n}},{key:"updatePosition",value:function(e){e=e||this.state;var n=hv.findDOMNode(this);n&&(n.style.left=e.left+"px",n.style.top=e.top+"px")}},{key:"tryUpdatePositionState",value:function(e){var n=this.state.left!==e.left||this.state.top!==e.top;return n&&this.setState(e),n}},{key:"updatePositionState",value:function(){if(this.state.manuallyPlaced){var e=OR(this,{left:this.state.left,top:this.state.top});this.tryUpdatePositionState(e)}else{var n={},t=this.props.position;-1!==t.indexOf("Left")&&(n.left=0),-1!==t.indexOf("Right")&&(n.left=this.getContainerWidth()-this.getWidth()),-1!==t.indexOf("Top")&&(n.top=0),-1!==t.indexOf("Bottom")&&(n.top=this.getContainerHeight()-this.getHeight()),this.tryUpdatePositionState(n)}}},{key:"getWidth",value:function(){var e=hv.findDOMNode(this);return e&&e.offsetWidth||0}},{key:"getHeight",value:function(){var e=hv.findDOMNode(this);return e&&e.offsetHeight||0}},{key:"getContainerWidth",value:function(){var e=document.getElementsByClassName("main")[0];return e&&e.offsetWidth||0}},{key:"getContainerHeight",value:function(){var e=document.getElementsByClassName("main")[0];return e&&e.offsetHeight||0}},{key:"getContainerEl",value:function(){var e=hv.findDOMNode(this);return e&&e.offsetParent||null}}]),t}(Le.Component),RR=null,LR=null,MR=null,BR={};function kR(e){var n=[e.clientX,e.clientY],t=n[0],r=n[1],a=t-RR,i=r-LR,o={left:MR.state.left+a,top:MR.state.top+i,manuallyPlaced:!0};o=OR(MR,o),MR.setState(o),RR=t,LR=r}function IR(e){var n=MR.getContainerEl();"mouseleave"===e.type&&e.target!==n||(n.removeEventListener("mousemove",kR),n.removeEventListener("mouseup",IR),n.removeEventListener("mouseleave",IR),n.classList.remove("moving"),MR=null,RR=LR=null)}function OR(e,n){if(n.left<0)n.left=0;else{var t=e.getContainerWidth()-e.getWidth();n.left>t&&(n.left=t)}if(n.top<0)n.top=0;else{var r=e.getContainerHeight()-e.getHeight();n.top>r&&(n.top=r)}return n}var NR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wUCFjEB5KSrRwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADdElEQVRYw+2Yz0s6eRjHnzEv1V7ay3bwL4huC0F0KLqVl4K6hRCk/SSioHGyH0iDSDEpRIfC6CJUf0C36LB1MaSoS3VK9DZNG2HOOI7jew+LkqvzbXT3my74hgdmPj9fn8d5Pp/nI1FDdS6Hw4HR0VHUNSTHcUgmk3h+fsbExER9wnq9XqiqirxEUcTCwkJ9wW5tbUHXdfxTyWQSHo+nPmB3d3eRy+VgJE3TwPN8bWFDoRDMKhAI1Ab24OAAHx8fBctmsyVwqqoWtfk3sEy1Hfv7+//MP1sslrbJyUkaGRkpanN4eEjHx8cagI982cXFxa81/QwCgUCJR91u93/2c1v+LwdJA/RbQV0uF3p7e6M/G2JgYAAOhwNVgS4vL4PneWpra/vdzGSappGiKEWm67opUJvNRjzP08zMTGXB5/V6kU6noaoqhoaGUIlnPpvZfk6nE7qu4/X1FUtLS+b6bW9vF87tSkGrVR4UAGRZxtraWsmc1s8ve3t7mJ6eJoZh8hs52e12stlsZWElSaKTkxNTh8b4+DhaW1vL1vX09BSem5ubaX19nVpaWsBxXOnYR0dHZc9oXdcN7fr62rS3Y7GY4ThGSU0wGCwe//T0FNUoGo2aBo3H41XNsb+/j0LUi6JIQP0l5JqmkSiKxYV+vx+ZTKZkRYqiQJblsnZ5eWl6dY+Pj4bjpNPpskn3ysoKSoLJ7XYzqVQKLMtS/qPPZDIkCAJdXV2VnVyW5T/Mgs7NzZHVai1bNzg4SLOzs2Sx/L2tv7y8kM/no2AwaByoi4uLkCSpZttTLBaD0+n88fZERLSzs8PIsgyO46i9vd30ZN3d3f6Ojg72c1k0Gv3t7u5ONDvGw8MD+Xw+CofD5vPksbEx3N7emvaoIAjIZrNFxrIszHo0EolgeHjYsL3VqCIcDjNvb29IJBK/mMpuLBZqamoqvj4w5hxzf3+/6PF4ds7Pz5mKQYmIzs7OmO/YhiKRSICIAo3EuQFa6Tf6VaR+DprOzs6SNl1dXUXtAFAoFGK+dYWCIEDTtEIGVE65XK5Qr6oqNjc3a5NQ+P1+aJr2ZQaUSqWwurpa26xnY2MDiqIYQkqSZP568bPFsize399LIBOJBKampuorf5yfn4coigXIp6enL6/ANZPL5UI8HsfNzU39/49vt9vR19f3SA3Vuf4CRa8N5ZfnXoAAAAAASUVORK5CYII=",jR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wUCFjgyirZxGAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADeklEQVRYw+2YTWgcZRjHf89kJ7ubJZWNtNUWbA62YHNxhbZg4hJTd9e2WALFqBQPhXiY0YMml3qxAcGqtBYPuytKUUGQ6KkgIbtpK2JaRbD2UL96CT0Y+2Gs0qabTXbm8bCbmi/Z3SSzLbj/y8C88z7zm+d9Pt53oK666vp/Sap5WLP2OgxpRLUTmJFYavCuA9WM1QskgC6gpThTPpN46pm7BlSz1mHgIIoLGPNmK8clke6946CasZKAXcbKMYmn+7wENcpAvlMWEkB5RbPWwB0B1RF7O0KiinU5pFmrr/YeVTpQtlaWabevRzVr99YMVL98yQe6vypLt2H1Ax2xe2rjUUdNoGnZVl0d1BF7l+eg8kQyB9K/IsuuDmnGeszzGJV4agjh2RXaP6Un7Yc9L08STw9iyAtlK67fj+M4EAxCKASGAaYJoZBJg/m1jvZvrlFnsvtAj85Lmln5fIyPjXF6aIh7wmH8gQCTN2/S6PcTbmnBcQpcu3zl2n0bN0Ta3/z1N+97fdYeQPXQogHTZHR4mF8uXKSxsRSeTvF7DAPyU7Ct/REi0eglDI1I9N3rq770C2J2AJFjiwYKBW5NTiJzPtloKEIWCtCx81Ei0ShM5zeRmz6jZ14Oegpagu1DOD5vHYJBQs3NmOachHfBcSAa62Trjh2Qz8+GzENM5r/SG28bnoKWEqwX5fO5sDP5PKr/LjsKXbvjbI5EYGpqoYltnB076TkogCTSPSjDAORy/DkxgesUvWg0QGzvHlrb2paCnPXs45q1TngOWoLdhTCKaeIPBFAF0zR4srubjVu2LA05X3s1Y33iOSgA94a6aAqeN00fwSaT3fv2sa61tRLIomeF/Zq1Uqt+ZlpKPx9pb/7+m2/PPdXT8+Ca9euLiVN9kXxL4umDnoICuF8cWCuhNeeZmd6wqCFU7C55XeKp1zwFBdBTL26i4P4AhJfZei7/8ffUA2uf/nBm9WN07nt2Ji9hSAeQW6aJHwsF1/EmmRbCxlI/IXQC7jJmv3f/cx+7NQEtNYTvMCRWRVAp8Clw1rvy9N+ePQ3SXWEW3AKyEk+N1xy0tC84gSHPlz1lCYclkf7I8zpawfbQRjW54PYNYAxISiL9fk0KfoWwr6L6BjCBMA4cAbkg8dQ5T/7mrQg2Y23HZ/x+/a/c1fCetmkJ9Ct11VVX7fUP4forz+3Bw0wAAAAASUVORK5CYII=",UR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AEJETYS/bn+YgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAFD0lEQVRYw+2WaWxUZRSGn3NnpstMGUrLtDOVlpYCZYkQCLJITMUlBBRFI/wRNKAWNCQoi6hRoRGRuATRiFIV3EgUohAkKFYRCGBIQBRQEQ2VSstS6OJMmXbmznf8UVQoBRFlBhPen/d+J/c57znnng8u67L+59Ivi526bpwn0RxyLkDCRcVYci1Keyw+kOGLt1xSoLq4xEVnxoE1A6Qbog5U12O0VEaWbU4EqNXm0zwZCjIdkV4ILhALkeuw5HH9pGTIJQGqXxY7EYaCdGtlvoXIjYg8oetKBiXe0Q0bDWg1cPyMJBQLkeGoPKFr77sq8T36zjgPWe7JiDUDxA9gVKmrrcUYA4Kxo9GPg3U1c4oe2vpNYqd++Zg02mfej8oMhKxgMMiWL9bTUF8PCh2zs2KFRUUr8wsLSmX4a3sSM0yAjF0RIsl6FXQB6DFVpSncRLjxBGleL91693bkdSkYjfKYrrmnZ8JAAWTYohBNkVcwZkE0atfGbJuc3Fz6DxlEbuc8LBEnyB04XY/p6pIeCSn9aW2weWK7A99VPXio8uC0rj17pmf6fK0CNYIx72PM03LTG/sSBgqwc0Hf9LzsomkZmRlTQbyt3/9UbUWXbEjZvPDT9vvDtqsDGqvBtndi7E2E5v4QN1CAho/GZ3pT3TNBpmCJB8COKWWfu1m6JcDXR4vUpHQSnGkQa4RwleFE5R6ajiylgUVQGokLKICuneDD4XoYte5X8Dy32sNT6/oQcg8FTz6I45TDBk5UQt22MMEf5lPPPCi1//NhajOzkUtrcMSeBxav2Z7U9OL67hpqdx2kFZ4OeXKZ4cmHjsWpuAun0l5vuyhTf1bYG948smOfY+HcVd5dh+gnpHY6d0CKH9KvzMCRPAamX9CV0XmhGQ54OF3Em+2lU5fzC3AXgCtzIGmRXELsjYujALicAXV6/TjTzu+8ww2udpk4rEDcSt8SaaIQi0LsPKfQgMZsYkTiC2rbB4kG9xOpO8/zDaRSX5tsRarjC9r4zFHsui8I7m1x65xuKgT3MnZAderx94710Av4LV44KCjN9nIadm/lt90tMGeF/J5+6duYdH2j35PMo6ybPOyfwjr+1V6LbjqCa3AtkZquqJ2D0wuW6+QeMWCHoGEnvVM28sjIKkb0jwhKHmgud161v3TZ9sqLtpnaVLvZg3E47iYlMJIUnw+HO0VijRFf8mFrVO8DrvHXNFLcyz7VZQUtR3WOjCj7Kn6gAMxOwhMrwindEfF7nFpXNrmhz+2DouNTksg5ldG0tIkirG22m2Z7bn57RxxB22jP1SVukpkM1kwQv6py5PBhKisqUFUsh8OIMSs7ZGfN6fpA+Z6LNUx/X65byk4Qtl8nxkJUjwEcP1rDj7v2sPfbXVT/8qvVwZd1a0Fh4SNafm/3hIECyOglQQguQs1LKlIXMzFQJaOjj74DB1DQtdBpwRiMY5aWT+iSMNCWG9ey32hqfhn05UhzJOjz++k3eCB5XQqwRABJArkTkzRL10zsHPceba365WMy9v9cMSsQuGJKdk6O+8yPaxjVJTRF58noJdVxd/QPpY9dURvo1OEFf8D/hqDNbfiWCjKOVNfVCSn9qQrcVX6UKM+ivIWq3WqLKXAQo1UJBwWQUYurUJ2P8O6fsC1LoBE1HxKs253QHj2jIz+b1A0jTwI3g1YAq1B9XUaUHbqkQAH0k0n5GNMTsQ8QClXI2BVhLuuy/tLvf98EyDtglo8AAAAASUVORK5CYII=",GR="data:image/png;base64,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",zR="data:image/png;base64,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",HR=__webpack_require__.p+"static/media/telescope.d1be63bffb88e1b06a78.png",WR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4AoGAxcR2D7sYgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAEPElEQVRYw82Z32tbdRjGP+ckTZo5O8VGqwlp1Wk3q0Wm0tE1otPhjbvZemE3vBQRQYeI07+g9Ebj8MYLb4RRL+a88GLIUArVaS9UjFgcsq2LCVTbbjZ17RqXxos8p357mqSJOUvyQMhJzvecPHl/PO/7fY9FfbCAHUAf0A3cBdyic9eAP4AMkAJmgZV6fqhWBIAYsCwiEeAAcA9gV7juBjANfKFra4KvRoJDwIvAg8B1YE7vPiAMBMtcmwf+BH4ArgK3AVFgSec8s2gv8ILxuSBXnhWB7fpxW+ece/uBkF5XgDSwBjwMPKGw+QQ4Xy9RP3AQ6Hd9/zNwAVit0YNLIv2sPOCEShL4XOFRM9EQ8LL+tYPzwC/AP3UmYZsSsNf4bhH4sFzCWRVIviGLOvgSmMdbdALPuBLu3VJkfWUS7CXFHcDfwBkgi/dYVghFlaw2sBv43oj1skS7lBghaeFZD1zNFrI1A9wpS15R7C9Ucr1frw7gAWVpiMbAMUZWBloxrepzBfiAFi1K726ncfBJ6pbEpUthV3ATHTK0bV6B3mjcqtzoBx5TAfkdQ8cCwNNy+S6XJDUaIeBxleQD4rZOdJex8Nf/2QN4hbz02jK5OUT3Gwsv0nyYHPY7REOGqxfUZDQb1w152gGEbGWXgxlaByaXLlu9pYO5FiJqconZanzNktYqcLisAXf7gW0SWatSm9UE3FCcLgM5C7hXwh8Q+1bCikpr3pIlLSnA/U3WUFy7iN8cCbWUTBaQ0w7S3yJE8/JwEFjzA3vUDy4D51rI7QHgORnxkh+4Gh/s+ayeO06em9l9E4huV5MCsGDFB3sKyeTlsquHBoprv55aKrumv7/7ZpDdqQ4K4GN7q9X7BjrYN9DRDNf3GMezFRMnFgkQiwbXj1OZXKNItgN3GLvTlYpERw6HOTocBiCVXmXsRKZRRO8zjr9ii1lRs9AGPOLqj0sTjUUCHH8twhFZE+DIcJiRQ52NsqZTISek71jxwZ5C385rvH0sSnc0WPNdRxNpzkz4vcr6v5TtvYrRhEPUBhg/Pc/BkWlOnqq+y5v8LsvzI9Nexm1WO9+fNEv4yCGJWS5TmRyvvnWRVHqVd45FK97x5Kk5xt5Pe6kCtiy5jeKUMO1ukDZlvWOhcmRHE2mvs79d+6I2WTQJTFFiMtJMuIdknXJ9oZTJN5XMob3lK1EsGiQWCXghQY+6SC4C71Fm7GiXKplxg+hoIs1oIv3fH9lbV0ltBx4CDrFxNpoEPqDCwwh/tQkz/ukcx1+PcnQ4vF5WS9wrz8bReE7ZnFNT/mSJKUxVo/FNRFPpVV558wLjpzfObE1VKIPDrs9rFJ+aTAKXgMsaLPSp15wAvjUlqGqisUiAb6ayFWVn7ESm2Kxs3aTYFOf0e2TVWeBHio9wUtUSxHAP8cGeQp2N81Padpd6IDYjcoulsrla/AsaEynP92lgNQAAAABJRU5ErkJggg==",XR=[{name:"Move spaces",icon:NR,type:g.MOVE},{name:"Connect spaces",icon:jR,type:g.LINE},{name:"Connect multiple spaces in one click",icon:UR,type:g.LINE_STICKY},{name:"Erase spaces and lines",icon:zR,type:g.ERASE},{name:"Telescope tool: move your cursor over the map to visualize how it will look during gameplay",icon:HR,type:g.TELESCOPE},{spacer:!0},{name:"Add blue space",icon:Bw,type:g.ADD_BLUE,draggable:!0},{name:"Add red space",icon:Iw,type:g.ADD_RED,draggable:!0},{name:"Add happening space",icon:Nw,type:g.ADD_HAPPENING,draggable:!0},{name:"Add chance time space",icon:Uw,type:g.ADD_CHANCE,draggable:!0},{name:"Add Bowser space",icon:Hw,type:g.ADD_BOWSER,draggable:!0},{name:"Add Mini-Game space",icon:Xw,type:g.ADD_MINIGAME,draggable:!0},{name:"Add shroom space",icon:Kw,type:g.ADD_SHROOM,draggable:!0},{name:"Add invisible space",icon:qw,type:g.ADD_OTHER,draggable:!0},{name:"Add star space (decoration)",icon:Yw,type:g.ADD_STAR,draggable:!0,advanced:!0},{name:"Add start space",icon:Zw,type:g.ADD_START,draggable:!0,advanced:!0},{spacer:!0},{name:"Add Toad",icon:db,type:g.ADD_TOAD_CHARACTER,draggable:!0},{name:"Add Boo",icon:fb,type:g.ADD_BOO_CHARACTER,draggable:!0},{name:"Add Bowser",icon:hb,type:g.ADD_BOWSER_CHARACTER,draggable:!0},{name:"Add Koopa Troopa",icon:pb,type:g.ADD_KOOPA_CHARACTER,draggable:!0},{name:"Mark space as hosting star",icon:WR,type:g.MARK_STAR}],KR=[{name:"Move spaces",icon:NR,type:g.MOVE},{name:"Connect spaces",icon:jR,type:g.LINE},{name:"Connect multiple spaces in one click",icon:UR,type:g.LINE_STICKY},{name:"Erase spaces and lines",icon:zR,type:g.ERASE},{name:"Rotate arrow spaces",icon:GR,type:g.ROTATE},{name:"Telescope tool: move your cursor over the map to visualize how it will look during gameplay",icon:HR,type:g.TELESCOPE},{spacer:!0},{name:"Add blue space",icon:Bw,type:g.ADD_BLUE,draggable:!0},{name:"Add red space",icon:Iw,type:g.ADD_RED,draggable:!0},{name:"Add happening space",icon:Nw,type:g.ADD_HAPPENING,draggable:!0},{name:"Add chance time space",icon:Gw,type:g.ADD_CHANCE,draggable:!0},{name:"Add Bowser space",icon:Hw,type:g.ADD_BOWSER,draggable:!0},{name:"Add item space",icon:$w,type:g.ADD_ITEM,draggable:!0},{name:"Add battle space",icon:nb,type:g.ADD_BATTLE,draggable:!0},{name:"Add bank space",icon:rb,type:g.ADD_BANK,draggable:!0},{name:"Add invisible space",icon:qw,type:g.ADD_OTHER,draggable:!0},{name:"Add star space (decoration)",icon:Yw,type:g.ADD_STAR,draggable:!0,advanced:!0},{name:"Add black star space (decoration)",icon:Qw,type:g.ADD_BLACKSTAR,draggable:!0,advanced:!0},{name:"Add start space",icon:Zw,type:g.ADD_START,draggable:!0,advanced:!0},{name:"Add arrow space",icon:Jw,type:g.ADD_ARROW,draggable:!0},{spacer:!0},{name:"Add Toad",icon:db,type:g.ADD_TOAD_CHARACTER,draggable:!0},{name:"Add Boo",icon:fb,type:g.ADD_BOO_CHARACTER,draggable:!0},{name:"Add bank",icon:sb,type:g.ADD_BANK_SUBTYPE,draggable:!0},{name:"Add bank coin stack",icon:lb,type:g.ADD_BANKCOIN_SUBTYPE,draggable:!0},{name:"Add item shop",icon:cb,type:g.ADD_ITEMSHOP_SUBTYPE,draggable:!0},{name:"Mark space as hosting star",icon:WR,type:g.MARK_STAR}],qR=[{name:"Move spaces",icon:NR,type:g.MOVE},{name:"Connect spaces",icon:jR,type:g.LINE},{name:"Connect multiple spaces in one click",icon:UR,type:g.LINE_STICKY},{name:"Erase spaces and lines",icon:zR,type:g.ERASE},{name:"Rotate arrow spaces",icon:GR,type:g.ROTATE},{name:"Telescope tool: move your cursor over the map to visualize how it will look during gameplay",icon:HR,type:g.TELESCOPE},{spacer:!0},{name:"Add blue space",icon:kw,type:g.ADD_BLUE,draggable:!0},{name:"Add red space",icon:Ow,type:g.ADD_RED,draggable:!0},{name:"Add happening space",icon:jw,type:g.ADD_HAPPENING,draggable:!0},{name:"Add chance time space",icon:zw,type:g.ADD_CHANCE,draggable:!0},{name:"Add Bowser space",icon:Ww,type:g.ADD_BOWSER,draggable:!0},{name:"Add item space",icon:eb,type:g.ADD_ITEM,draggable:!0},{name:"Add battle space",icon:tb,type:g.ADD_BATTLE,draggable:!0},{name:"Add bank space",icon:ab,type:g.ADD_BANK,draggable:!0},{name:"Add Game Guy space",icon:ib,type:g.ADD_GAMEGUY,draggable:!0},{name:"Add invisible space",icon:qw,type:g.ADD_OTHER,draggable:!0},{name:"Add star space (decoration)",icon:Yw,type:g.ADD_STAR,draggable:!0,advanced:!0},{name:"Add start space",icon:Zw,type:g.ADD_START,draggable:!0,advanced:!0},{name:"Add arrow space",icon:Jw,type:g.ADD_ARROW,draggable:!0},{spacer:!0},{name:"Add Millennium Star",icon:Ab,type:g.ADD_TOAD_CHARACTER,draggable:!0},{name:"Add Boo",icon:fb,type:g.ADD_BOO_CHARACTER,draggable:!0},{name:"Add bank",icon:ob,type:g.ADD_BANK_SUBTYPE,draggable:!0},{name:"Add bank coin stack",icon:lb,type:g.ADD_BANKCOIN_SUBTYPE,draggable:!0},{name:"Add item shop",icon:ub,type:g.ADD_ITEMSHOP_SUBTYPE,draggable:!0},{name:"Mark space as hosting star",icon:WR,type:g.MARK_STAR},{name:"Mark space as Skeleton Key gate",icon:"data:image/png;base64,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",type:g.MARK_GATE}],YR=[{name:"Move spaces",icon:NR,type:g.MOVE},{name:"Connect spaces",icon:jR,type:g.LINE},{name:"Connect multiple spaces in one click",icon:UR,type:g.LINE_STICKY},{name:"Erase spaces and lines",icon:zR,type:g.ERASE},{name:"Telescope tool: move your cursor over the map to visualize how it will look during gameplay",icon:HR,type:g.TELESCOPE},{spacer:!0},{name:"Add basic space",icon:sV,type:g.ADD_DUEL_BASIC,draggable:!0},{name:"Add Mini-Game space",icon:lV,type:g.ADD_MINIGAME,draggable:!0},{name:"Add reverse space",icon:uV,type:g.ADD_DUEL_REVERSE,draggable:!0},{name:"Add happening space",icon:cV,type:g.ADD_HAPPENING,draggable:!0},{name:"Add Game Guy space",icon:dV,type:g.ADD_GAMEGUY,draggable:!0},{name:"Add power-up space",icon:AV,type:g.ADD_DUEL_POWERUP,draggable:!0},{name:"Add invisible space",icon:qw,type:g.ADD_OTHER,draggable:!0},{name:"Add blue start space",icon:fV,type:g.ADD_DUEL_START_BLUE,draggable:!0,advanced:!0},{name:"Add red start space",icon:hV,type:g.ADD_DUEL_START_RED,draggable:!0,advanced:!0}];function QR(e){Q_(e)}var JR,ZR,$R,eL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e}return i(t,[{key:"render",value:function(){var e=this;if(iw())return(0,Ne.jsx)("div",{className:"toolbarReadonly",children:"Board is readonly."});var n=0,t=function(e,n){var t;switch(e){case 1:t=XR;break;case 2:t=KR;break;case 3:t=n===m.DUEL?YR:qR;break;default:throw new Error("Unknown game version found by Toolbar (".concat(e,")"))}return Ze(Oe.uiAdvanced)||(t=t.filter((function(e){return!e.advanced}))),t}(this.props.gameVersion,this.props.boardType),r=t.map((function(t){if(function(e){return"spacer"in e&&e.spacer}(t))return(0,Ne.jsx)(tL,{},"spacer"+n++);var r=e.props.currentAction===t.type;return(0,Ne.jsx)(nL,{current:r,action:t},t.type)}));return(0,Ne.jsx)("div",{className:"toolbar",role:"toolbar",children:r})}}]),t}(Le.Component),nL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).handleClick=function(){QR(e.props.action.type)},e.onDragStart=function(n){e.props.action.draggable&&n.dataTransfer.setData("text",JSON.stringify({action:e.props.action}))},e}return i(t,[{key:"render",value:function(){var e="toolbarButton";return this.props.current&&(e+=" selected"),(0,Ne.jsx)("div",{className:e,title:this.props.action.name,role:"button",tabIndex:0,onClick:this.handleClick,onKeyDown:Be(this.handleClick),draggable:this.props.action.draggable,onDragStart:this.onDragStart,children:(0,Ne.jsx)("img",{className:"toolbarIcon",src:this.props.action.icon,alt:""})})}}]),t}(Le.Component),tL=function(e){s(t,e);var n=A(t);function t(){return r(this,t),n.apply(this,arguments)}return i(t,[{key:"render",value:function(){return(0,Ne.jsx)("div",{className:"toolbarSpacer",role:"separator"})}}]),t}(Le.Component),rL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onDelete=function(n,t){e.props.onEventMouseLeave&&e.state.hoveredEvent===n&&(e.setState({hoveredEvent:null}),e.props.onEventMouseLeave(n,t)),e.props.onEventDeleted(n,t)},e.onMouseEnter=function(n,t){e.setState({hoveredEvent:n}),e.props.onEventMouseEnter&&e.props.onEventMouseEnter(n,t)},e.onMouseLeave=function(n,t){e.setState({hoveredEvent:null}),e.props.onEventMouseLeave&&e.props.onEventMouseLeave(n,t)},e}return i(t,[{key:"render",value:function(){var e=this,n=this.props.events||[],t=0,r=n.map((function(n,r){return(0,Ne.jsx)(aL,{event:n,eventIndex:r,board:e.props.board,onEventDeleted:e.onDelete,onEventActivationTypeToggle:e.props.onEventActivationTypeToggle,onEventParameterSet:e.props.onEventParameterSet,onEventMouseEnter:e.onMouseEnter,onEventMouseLeave:e.onMouseLeave},"".concat(n.id,"-").concat(t++))}));return(0,Ne.jsxs)("div",{className:"eventsList",children:[r,(0,Ne.jsx)(hL,{onEventAdded:this.props.onEventAdded})]})}}]),t}(Le.Component),aL=function(e){var n=Ie(),t=(0,Le.useCallback)((function(){e.onEventDeleted(e.event,e.eventIndex)}),[e.onEventDeleted,e.event,e.eventIndex]),r=(0,Le.useCallback)((function(){e.onEventActivationTypeToggle(e.event,e.eventIndex),n()}),[e.onEventActivationTypeToggle,e.event,e.eventIndex,n]),a=(0,Le.useCallback)((function(t,r){e.onEventParameterSet(e.event,e.eventIndex,t,r),n()}),[e.onEventParameterSet,e.event,e.eventIndex,n]),i=(0,Le.useCallback)((function(){e.onEventMouseEnter&&e.onEventMouseEnter(e.event,e.eventIndex)}),[e.onEventMouseEnter,e.event,e.eventIndex]),o=(0,Le.useCallback)((function(){e.onEventMouseLeave&&e.onEventMouseLeave(e.event,e.eventIndex)}),[e.onEventMouseLeave,e.event,e.eventIndex]),s=Lv(av),l=e.event,u=My(l.id,e.board,s);if(!u)return null;var c,d=u.name||l.id;return u.parameters&&(c=(0,Ne.jsx)(iL,{parameters:u.parameters,eventInstance:l,onEventParameterSet:a})),(0,Ne.jsxs)("div",{className:"eventEntry",onMouseEnter:i,onMouseLeave:o,children:[(0,Ne.jsxs)("div",{className:"eventEntryHeader",children:[(0,Ne.jsx)("span",{className:"eventEntryName",title:d,children:d}),(0,Ne.jsx)("div",{role:"button",className:"eventEntryDelete",onClick:t,title:"Remove this event"})]}),(0,Ne.jsxs)("div",{className:"eventEntryOptions",children:[(0,Ne.jsx)(uL,{activationType:l.activationType,onEventActivationTypeToggle:r}),c]})]})},iL=function(e){var n=e.parameters,t=e.eventInstance,r=e.onEventParameterSet,a=function(){var e=0;return{next:function(){return WC(e++)}}}();return(0,Ne.jsx)(Ne.Fragment,{children:n.map((function(e){var n=t.parameterValues&&t.parameterValues[e.name];switch(e.type){case D.Boolean:return(0,Ne.jsx)(dL,{parameter:e,parameterValue:n,onEventParameterSet:r},e.name);case D.Number:case D.PositiveNumber:return(0,Ne.jsx)(cL,{parameter:e,parameterValue:n,positiveOnly:"+Number"===e.type,onEventParameterSet:r},e.name);case D.Space:return(0,Ne.jsx)(AL,{parameter:e,parameterValue:n,colorQueue:a,onEventParameterSet:r},e.name);case D.SpaceArray:var i=[];return Array.isArray(n)&&(i=n.map((function(t,i){return(0,Ne.jsx)(AL,{parameter:e,parameterValue:n,parameterArrayIndex:i,colorQueue:a,onEventParameterSet:r},"".concat(e.name,"[").concat(i,"]"))}))),i.push((0,Ne.jsx)(AL,{parameter:e,parameterValue:n,parameterArrayIndex:i.length,colorQueue:a,onEventParameterSet:r},"".concat(e.name,"[").concat(i.length,"]"))),i;case D.NumberArray:default:return null}}))})},oL=(e(JR={},y.WALKOVER,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AEZBAIzQA4rzwAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAtElEQVQoz42RsQ6CMBBAX02TziRMJs5u/IAf4ODIf7iyMbjxMYwM/ga/4ErCTII5B6wcJxre0vTae3fXOoCQFjL4HIAw1gxd5XRMxzHs+MHQVS6M9bz3OSEtZLNgTRLJEmSTQBNFWYKcD7PEf1X1OSFF4rzTeyDXfbW4d7tA2SDeVljj+JyTT9m0lg20Pc7ptiL3x7S2PU7P/a66OFsVaJGV6P3iDWJrVqCxyZ8O7Nf8S7C8APRySvghpgzSAAAAAElFTkSuQmCC"),e(JR,y.LANDON,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AEZAzg2EIIXvAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAhklEQVQoz2NkQALsIuX/f7IEI/h/1jIwMDAwoIv9fNPJCOMzMVAIqGcAuvNxgZ8swQzsIuX/qeYCFpRAhAYa3DZoYLGLMPzHZQAjAwMDg54gRIG7LEJi52MGhkvvEfLocgwMEHkWdEliAJL6/ywMDAwM1nqYimC2wAAuNSheQAYw58MALjUAddwsIs4hVlkAAAAASUVORK5CYII="),e(JR,y.BEGINORWALKOVER,void 0),e(JR,y.BEFORE_TURN,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+miiIVByuIOASpThZERcRJq1CECqFWaNXB5NI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ii6uToouU+F1SaBHjHcc9vPe9L3ffAUKtxDSrbQzQdNtMxmNiOrMqdrwihD6aMxiSmWXMSVICvuPrHgG+30V5ln/dn6NbzVoMCIjEs8wwbeIN4qlN2+C8TxxmBVklPiceNemCxI9cVzx+45x3WeCZYTOVnCcOE4v5FlZamBVMjXiSOKJqOuULaY9VzluctVKFNe7JXxjK6ivLXKc1iDgWsQQJIhRUUEQJNqK066RYSNJ5zMc/4PolcinkKoKRYwFlaJBdP/gf/O6tlZsY95JCMaD9xXE+hoGOXaBedZzvY8epnwDBZ+BKb/rLNWD6k/RqU4scAT3bwMV1U1P2gMsdoP/JkE3ZlYK0hFwOeD+jb8oAvbdA15rXt8Y5Th+AFPUqcQMcHAIjecpe93l3Z2vf/q1p9O8H1Ihyzj5/J3QAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfjDBUXAR2dR2FNAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAFFJREFUKM/FksEKwDAIQ/P8/3/OLov0sI5uPVQQgxBMVGxrJ0qbgSTbRpKAlpPekoIQQ1ol97DkvY9pfcL1w3JjwPXF83ix4Hojj0udSjr+BxdRVz7lI5zTZAAAAABJRU5ErkJggg=="),e(JR,y.AFTER_TURN,"data:image/png;base64,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"),e(JR,y.BEFORE_PLAYER_TURN,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+miiIVByuIOASpThZERcRJq1CECqFWaNXB5NI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ii6uToouU+F1SaBHjHcc9vPe9L3ffAUKtxDSrbQzQdNtMxmNiOrMqdrwihD6aMxiSmWXMSVICvuPrHgG+30V5ln/dn6NbzVoMCIjEs8wwbeIN4qlN2+C8TxxmBVklPiceNemCxI9cVzx+45x3WeCZYTOVnCcOE4v5FlZamBVMjXiSOKJqOuULaY9VzluctVKFNe7JXxjK6ivLXKc1iDgWsQQJIhRUUEQJNqK066RYSNJ5zMc/4PolcinkKoKRYwFlaJBdP/gf/O6tlZsY95JCMaD9xXE+hoGOXaBedZzvY8epnwDBZ+BKb/rLNWD6k/RqU4scAT3bwMV1U1P2gMsdoP/JkE3ZlYK0hFwOeD+jb8oAvbdA15rXt8Y5Th+AFPUqcQMcHAIjecpe93l3Z2vf/q1p9O8H1Ihyzj5/J3QAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfjDBUWGyKaztycAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAIRJREFUKM9jYBhowMjAwPAfSqOAHxYM/7Fp4DiBqhZmAAOyIbg0YzOMBYkPd8kWF4RgsAqEs/bOHjibMWEP3DImdFPX1DD8hymE0ejg/wKX//8XuPxHNwAjHNbe2YPiEmQ+zCCMQFxTA/E/uu3omhkYGBhCWhgYGXEFEMyJOKMPKRwoAgAIjCtnT63FJQAAAABJRU5ErkJggg=="),e(JR,y.BEFORE_DICE_ROLL,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+miiIVByuIOASpThZERcRJq1CECqFWaNXB5NI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ii6uToouU+F1SaBHjHcc9vPe9L3ffAUKtxDSrbQzQdNtMxmNiOrMqdrwihD6aMxiSmWXMSVICvuPrHgG+30V5ln/dn6NbzVoMCIjEs8wwbeIN4qlN2+C8TxxmBVklPiceNemCxI9cVzx+45x3WeCZYTOVnCcOE4v5FlZamBVMjXiSOKJqOuULaY9VzluctVKFNe7JXxjK6ivLXKc1iDgWsQQJIhRUUEQJNqK066RYSNJ5zMc/4PolcinkKoKRYwFlaJBdP/gf/O6tlZsY95JCMaD9xXE+hoGOXaBedZzvY8epnwDBZ+BKb/rLNWD6k/RqU4scAT3bwMV1U1P2gMsdoP/JkE3ZlYK0hFwOeD+jb8oAvbdA15rXt8Y5Th+AFPUqcQMcHAIjecpe93l3Z2vf/q1p9O8H1Ihyzj5/J3QAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfjDBUWCSub5hTrAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAGJJREFUKM9jZMABHMwn/YexD5zMY8SljgWXxn3Hc+BiTpYM/3EZxEhIM8KQKVhdw4SucN/xHAYnyylwDTA2NkOxegHZBfg04nQBqWDgDUAJgwMn8xhhUYYajVMYiIpGchISAIKHK/w7Gd2gAAAAAElFTkSuQmCC"),JR),sL=(e(ZR={},y.WALKOVER,"Passing event"),e(ZR,y.LANDON,"Land-on event"),e(ZR,y.BEGINORWALKOVER,void 0),e(ZR,y.BEFORE_TURN,"Before turn"),e(ZR,y.AFTER_TURN,"After turn"),e(ZR,y.BEFORE_PLAYER_TURN,"Before player turn"),e(ZR,y.BEFORE_DICE_ROLL,"Before dice roll"),ZR),lL=(e($R={},y.WALKOVER,"Occurs when passing over the space"),e($R,y.LANDON,"Occurs when landing on the space"),e($R,y.BEGINORWALKOVER,void 0),e($R,y.BEFORE_TURN,'Occurs once per turn, prior to seeing "PLAYER START" for the first player'),e($R,y.AFTER_TURN,"Occurs once per turn, prior to the Mini-Game selection list appearing"),e($R,y.BEFORE_PLAYER_TURN,'Occurs for each player prior to seeing "PLAYER START" on their turn'),e($R,y.BEFORE_DICE_ROLL,"Occurs for each player prior to the dice roll"),$R),uL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onTypeToggle=function(){e.props.onEventActivationTypeToggle()},e}return i(t,[{key:"render",value:function(){var e=this.props.activationType,n=sL[e],t=oL[e];return(0,Ne.jsxs)("div",{className:"eventEntryItem eventEntryActivationTypeItem",onClick:this.onTypeToggle,children:[t&&(0,Ne.jsx)("img",{className:"eventEntryActivationTypeToggle",alt:"Activation Type",src:t,title:lL[e]}),(0,Ne.jsx)("span",{children:n})]})}}]),t}(Le.Component),cL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onParameterClicked=O(k().mark((function n(){var t,r,a,i;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.props.parameter.name,r=e.props.positiveOnly,n.next=4,fy("Enter a".concat(r?" positive ":" ","numeric value for the ").concat(t," parameter:"));case 4:if(a=n.sent){n.next=7;break}return n.abrupt("return");case 7:if(i=parseInt(a),!isNaN(i)){n.next=11;break}return dy("The value entered could not be parsed into a number"),n.abrupt("return");case 11:if(!(e.props.positiveOnly&&i<=0)){n.next=14;break}return dy("The value entered must be a positive number"),n.abrupt("return");case 14:e.props.onEventParameterSet(t,i);case 15:case"end":return n.stop()}}),n)}))),e}return i(t,[{key:"render",value:function(){var e=this.props.parameterValue,n=void 0!==e&&null!==e,t="(Number) ".concat(this.props.parameter.name,": ").concat(n?e:"null");return(0,Ne.jsxs)("div",{className:"eventEntryItem",title:t,onClick:this.onParameterClicked,children:[(0,Ne.jsxs)("span",{className:"eventEntryItemParameterName",children:[this.props.parameter.name,":"]}),"\xa0",n?(0,Ne.jsx)("span",{children:this.props.parameterValue}):(0,Ne.jsx)("span",{className:"eventEntryItemParameterUnset",children:"null"})]})}}]),t}(Le.Component),dL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onParameterClicked=function(){var n=e.props.parameterValue;e.props.onEventParameterSet(e.props.parameter.name,!n)},e}return i(t,[{key:"render",value:function(){var e=this.props.parameterValue,n=void 0!==e&&null!==e,t="(Boolean) ".concat(this.props.parameter.name,": ").concat(n?e:"null");return(0,Ne.jsxs)("div",{className:"eventEntryItem",title:t,onClick:this.onParameterClicked,children:[(0,Ne.jsxs)("span",{className:"eventEntryItemParameterName",children:[this.props.parameter.name,":"]}),"\xa0",n?(0,Ne.jsx)("span",{children:this.props.parameterValue.toString()}):(0,Ne.jsx)("span",{className:"eventEntryItemParameterUnset",children:"null"})]})}}]),t}(Le.Component),AL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onDragStart=function(n){cC(e.onSpaceDroppedOn),n.dataTransfer.setDragImage(aV("targetImg"),3,0),n.dataTransfer.setData("text",JSON.stringify({isEventParamDrop:!0}))},e.onSpaceDroppedOn=function(n){if(cC(null),n>=0)if("number"===typeof e.props.parameterArrayIndex){var t=Gt(e.props.parameterValue||[]);t[e.props.parameterArrayIndex]=n,e.props.onEventParameterSet(e.props.parameter.name,t)}else e.props.onEventParameterSet(e.props.parameter.name,n)},e.onDeleteButtonClicked=function(){var n=e.props.parameterArrayIndex;X("number"===typeof n);var t=e.props.parameterValue||[];if(t.length){var r=Gt(t);r.splice(n,1),e.props.onEventParameterSet(e.props.parameter.name,r)}},e.onParameterClicked=function(){dy("To associate a space with this event parameter, click and drag from this list entry and release over the target space.")},e}return i(t,[{key:"render",value:function(){var e,n="number"===typeof this.props.parameterArrayIndex,t=this.props.parameterValue,r=this.props.parameter.name;if(n){var a=t&&t[this.props.parameterArrayIndex];e="undefined"!==typeof a&&null!==a,r+="[".concat(this.props.parameterArrayIndex,"]")}else e="undefined"!==typeof t&&null!==t;var i="eventEntryItemParameterName";n&&!e&&(i+=" eventEntryItemParameterHypothetical");var o,s="(Space) ".concat(this.props.parameter.name,": ");return e?(s+="set",G()&&(s+=" (to space index ".concat(t,")"))):s+="null",s+="\nDrag to a space to associate it",o=e?(0,Ne.jsxs)("span",{className:"eventEntryItemParameterSpaceSetWrapper",children:[(0,Ne.jsx)("span",{style:{backgroundColor:"rgb(".concat(this.props.colorQueue.next().join(", "),")")},className:"eventEntryItemParameterColorSwatch"})," set"]}):n?(0,Ne.jsx)("span",{children:"\u2014"}):(0,Ne.jsx)("span",{className:"eventEntryItemParameterUnset",children:"null"}),(0,Ne.jsxs)("div",{className:"eventEntryItem eventEntryItemDraggable",title:s,draggable:!0,onDragStart:this.onDragStart,onClick:this.onParameterClicked,children:[(0,Ne.jsx)("img",{alt:"Target",src:Mw}),(0,Ne.jsxs)("span",{className:i,children:[r,":"]}),"\xa0",o,n&&e&&(0,Ne.jsx)(fL,{onDeleteButtonClicked:this.onDeleteButtonClicked})]})}}]),t}(Le.Component);function fL(e){return(0,Ne.jsx)("div",{role:"button",className:"eventParameterRightAlign eventParameterDelete",onClick:function(n){n.stopPropagation(),e.onDeleteButtonClicked()},title:"Remove this array entry"})}var hL=function(e){s(t,e);var n=A(t);function t(e){var a;r(this,t),(a=n.call(this,e)).onSelection=function(e){var n=e.target.value;if("-1"!==n.toString()){var t=n.split(","),r=(0,xe.Z)(t,2),i=r[0],o=r[1],s=M(c(a).state[i][o]);if(!s)throw new Error("Could not add event ".concat(n));a.props.onEventAdded(s),a._refreshLists()}};var i=pL();return a.state={selectedValue:-1,libraryEvents:i.libraryEvents.sort(mL),boardEvents:i.boardEvents.sort(mL)},a}return i(t,[{key:"_refreshLists",value:function(){var e=pL();this.setState({libraryEvents:e.libraryEvents.sort(mL),boardEvents:e.boardEvents.sort(mL)})}},{key:"render",value:function(){if(!this.state.libraryEvents.length&&!this.state.boardEvents.length)return null;var e=[(0,Ne.jsx)("option",{value:"-1",disabled:!0,children:"Add event"},"-1")],n=0;return this.state.boardEvents.length&&e.push((0,Ne.jsx)("optgroup",{label:"Board Events",children:this.state.boardEvents.map((function(e){var t="boardEvents,"+n++;return(0,Ne.jsx)("option",{value:t,children:e.name},t)}))},"boardEvents")),n=0,e.push((0,Ne.jsx)("optgroup",{label:"Library Events",children:this.state.libraryEvents.map((function(e){var t="libraryEvents,"+n++;return(0,Ne.jsx)("option",{value:t,children:e.name},t)}))},"libraryEvents")),(0,Ne.jsx)("div",{className:"eventAddSelectEntry",children:(0,Ne.jsx)("select",{className:"eventAddSelect",value:this.state.selectedValue,onChange:this.onSelection,children:e})})}}]),t}(Le.Component);function pL(){var e=function(){var e=[],n=xx(),t=Hy().game||1;for(var r in n){var a=n[r];Ly(a.supportedGames,t)&&!a.fakeEvent&&e.push(a)}return e}(),n=[],t=Hy();for(var r in t.events){var a=Zy(t,r);n.push(KS(a.language,a.code))}return{libraryEvents:e=e.filter((function(e){return!(e.name in t.events)})),boardEvents:n}}function mL(e,n){return e.name<n.name?-1:e.name>n.name?1:0}var SL=function(e){return(0,Ne.jsxs)("span",{className:"propertySectionTitle",children:[e.text,e.children]})};function gL(e){var n=Ie(),t=function(){var e=Bv();return(0,Le.useMemo)((function(){var n=[];for(var t in e)n.push(parseInt(t,10));return n}),[e])}(),r=function(){var e=Mv(),n=Bv();return(0,Le.useMemo)((function(){var t=[];for(var r in n){var a=e.spaces[r];a&&t.push(a)}return t}),[e,n])}(),a=(0,Le.useCallback)((function(e,r){Sx.dispatch(Cg({spaceIndices:t,type:e,subtype:r})),n()}),[t,n]),i=(0,Le.useCallback)((function(e){pw(ny(),!!e),n()}),[n]);if(!r||!r.length)return(0,Ne.jsx)("div",{className:"propertiesEmptyText",children:"No space selected."});var o=r.length>1,s=r[0],l=ny()[0],u=e.gameVersion,c=e.boardType,d=c===m.DUEL,A=function(e,n){var t=[];switch(e){case 1:t=xL;break;case 2:t=yL;break;case 3:if(n===m.DUEL)t=CL;else t=bL}Ze(Oe.uiAdvanced)||(t=t.filter((function(e){return!e.advanced})));return t}(u,c),f=function(e,n){var t=[];switch(e){case 1:t=_L;break;case 2:t=wL;break;case 3:if(n===m.DUEL)t=[];else t=VL}Ze(Oe.uiAdvanced)||(t=t.filter((function(e){return!e.advanced})));return t}(u,c),h=s.type,p=s.subtype,S=s.star||!1,g=!1;if(o){var v,x=L(r);try{for(x.s();!(v=x.n()).done;){var _=v.value;_&&(_.type!==h&&(h=void 0),_.subtype!==p&&(p=void 0),!!_.star!==S&&(g=!0))}}catch(y){x.e(y)}finally{x.f()}}return(0,Ne.jsxs)("div",{className:"properties",children:[(0,Ne.jsxs)("div",{className:"propertiesPadded",children:[!o&&(0,Ne.jsx)(vL,{space:s,spaceIndex:l}),(0,Ne.jsx)(EL,{toggleTypes:A,type:h,subtype:p,typeChanged:a}),(0,Ne.jsx)(EL,{toggleTypes:f,type:h,subtype:p,typeChanged:a}),!d&&(0,Ne.jsx)(FL,{checked:S,indeterminate:g,onStarCheckChanged:i}),(0,Ne.jsx)(TL,{space:s})]}),!o&&(0,Ne.jsx)(PL,{selectedSpace:s})]})}var vL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onChangeX=function(n){var t=parseInt(n.target.value,10),r=""===n.target.value,a=Hy().bg.width;!r&&isNaN(t)||t<0||t>a||(e.state.oldX||e.setState({oldX:e.props.space.x}),Sx.dispatch(Vg({spaceIndices:[e.props.spaceIndex],coords:[{x:r?0:t}]})),e.forceUpdate())},e.onChangeY=function(n){var t=parseInt(n.target.value,10),r=""===n.target.value,a=Hy().bg.height;!r&&isNaN(t)||t<0||t>a||(e.state.oldY||e.setState({oldY:e.props.space.y}),Sx.dispatch(Vg({spaceIndices:[e.props.spaceIndex],coords:[{y:r?0:t}]})),e.forceUpdate())},e.onCoordSet=function(){Sx.dispatch(Vg({spaceIndices:[e.props.spaceIndex],coords:[{x:e.props.space.x||0,y:e.props.space.y||0}]})),e.setState({oldX:void 0,oldY:void 0,oldRot:void 0}),e.forceUpdate()},e.onKeyUp=function(n){"Enter"===n.key&&e.onCoordSet()},e}return i(t,[{key:"render",value:function(){var e=this.props.space;return e?(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsxs)("div",{className:"spaceCoordRow",children:[(0,Ne.jsx)("span",{className:"coordLabel",children:"X:"}),(0,Ne.jsx)("input",{className:"coordInput",type:"number",value:e.x,onChange:this.onChangeX,onBlur:this.onCoordSet,onKeyUp:this.onKeyUp}),(0,Ne.jsx)("span",{className:"coordLabel",children:"Y:"}),(0,Ne.jsx)("input",{className:"coordInput",type:"number",value:e.y,onChange:this.onChangeY,onBlur:this.onCoordSet,onKeyUp:this.onKeyUp})]})}):null}}]),t}(Le.Component),xL=[{name:"Change to blue space",icon:Bw,type:h.BLUE},{name:"Change to red space",icon:Iw,type:h.RED},{name:"Change to happening space",icon:Nw,type:h.HAPPENING},{name:"Change to chance time space",icon:Uw,type:h.CHANCE},{name:"Change to Mini-Game space",icon:Xw,type:h.MINIGAME},{name:"Change to shroom space",icon:Kw,type:h.SHROOM},{name:"Change to Bowser space",icon:Hw,type:h.BOWSER},{name:"Change to invisible space",icon:qw,type:h.OTHER},{name:"Change to star space",icon:Yw,type:h.STAR,advanced:!0},{name:"Change to start space",icon:Zw,type:h.START,advanced:!0}],_L=[{name:"Show Toad",icon:db,subtype:p.TOAD},{name:"Show Boo",icon:fb,subtype:p.BOO},{name:"Show Bowser",icon:hb,subtype:p.BOWSER},{name:"Show Koopa Troopa",icon:pb,subtype:p.KOOPA}],yL=[{name:"Change to blue space",icon:Bw,type:h.BLUE},{name:"Change to red space",icon:Iw,type:h.RED},{name:"Change to happening space",icon:Nw,type:h.HAPPENING},{name:"Change to chance time space",icon:Gw,type:h.CHANCE},{name:"Change to Bowser space",icon:Hw,type:h.BOWSER},{name:"Change to item space",icon:$w,type:h.ITEM},{name:"Change to battle space",icon:nb,type:h.BATTLE},{name:"Change to bank space",icon:rb,type:h.BANK},{name:"Change to invisible space",icon:qw,type:h.OTHER},{name:"Change to star space",icon:Yw,type:h.STAR,advanced:!0},{name:"Change to black star space",icon:Qw,type:h.BLACKSTAR,advanced:!0},{name:"Change to start space",icon:Zw,type:h.START,advanced:!0},{name:"Change to arrow space",icon:Jw,type:h.ARROW}],wL=[{name:"Show Toad",icon:db,subtype:p.TOAD},{name:"Show Boo",icon:fb,subtype:p.BOO},{name:"Show bank",icon:sb,subtype:p.BANK},{name:"Show bank coin stack",icon:lb,subtype:p.BANKCOIN},{name:"Show item shop",icon:cb,subtype:p.ITEMSHOP}],bL=[{name:"Change to blue space",icon:kw,type:h.BLUE},{name:"Change to red space",icon:Ow,type:h.RED},{name:"Change to happening space",icon:jw,type:h.HAPPENING},{name:"Change to chance time space",icon:zw,type:h.CHANCE},{name:"Change to Bowser space",icon:Ww,type:h.BOWSER},{name:"Change to item space",icon:eb,type:h.ITEM},{name:"Change to battle space",icon:tb,type:h.BATTLE},{name:"Change to bank space",icon:ab,type:h.BANK},{name:"Change to Game Guy space",icon:ib,type:h.GAMEGUY},{name:"Change to invisible space",icon:qw,type:h.OTHER},{name:"Change to star space",icon:Yw,type:h.STAR,advanced:!0},{name:"Change to start space",icon:Zw,type:h.START,advanced:!0},{name:"Change to arrow space",icon:Jw,type:h.ARROW}],VL=[{name:"Show Millenium Star",icon:Ab,subtype:p.TOAD},{name:"Show Boo",icon:fb,subtype:p.BOO},{name:"Show bank",icon:ob,subtype:p.BANK},{name:"Show bank coin stack",icon:lb,subtype:p.BANKCOIN},{name:"Show item shop",icon:ub,subtype:p.ITEMSHOP}],CL=[{name:"Change to basic space",icon:sV,type:h.DUEL_BASIC},{name:"Change to Mini-Game space",icon:lV,type:h.MINIGAME},{name:"Change to reverse space",icon:uV,type:h.DUEL_REVERSE},{name:"Change to happening space",icon:cV,type:h.HAPPENING},{name:"Change to Game Guy space",icon:dV,type:h.GAMEGUY},{name:"Change to power-up space",icon:AV,type:h.DUEL_POWERUP},{name:"Change to invisible space",icon:qw,type:h.OTHER},{name:"Change to blue start space",icon:fV,type:h.DUEL_START_BLUE,advanced:!0},{name:"Change to red start space",icon:hV,type:h.DUEL_START_RED,advanced:!0}];var EL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onTypeChanged=function(n,t){e.props.typeChanged(n,t)},e}return i(t,[{key:"render",value:function(){var e=this.props.type;if(e===h.START&&!Ze(Oe.uiAdvanced))return null;var n=this.props.subtype,t=this.onTypeChanged,r=(this.props.toggleTypes||[]).map((function(r){var a=r.type+"-"+r.subtype,i=void 0!==r.type&&e===r.type||void 0!==r.subtype&&void 0!==n&&n===r.subtype;return(0,Ne.jsx)(DL,{type:r.type,subtype:r.subtype,icon:r.icon,title:r.name,selected:i,typeChanged:t},a)}));return(0,Ne.jsx)("div",{className:"spaceToggleContainer",children:r})}}]),t}(Le.Component),DL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).onTypeChanged=function(){void 0!==e.props.subtype&&e.props.selected?e.props.typeChanged(e.props.type,void 0):e.props.typeChanged(e.props.type,e.props.subtype)},e}return i(t,[{key:"render",value:function(){var e="spaceToggleButton";this.props.selected&&(e+=" selected");var n=void 0!==this.props.subtype?25:20;return(0,Ne.jsx)("div",{className:e,title:this.props.title,tabIndex:0,onClick:this.onTypeChanged,onKeyDown:Be(this.onTypeChanged),children:(0,Ne.jsx)("img",{src:this.props.icon,height:n,width:n,alt:""})})}}]),t}(Le.Component),FL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).checkboxEl=null,e.onChange=function(n){e.props.onStarCheckChanged(n.target.checked)},e}return i(t,[{key:"render",value:function(){var e=this;return(0,Ne.jsx)("div",{className:"starCheckbox",children:(0,Ne.jsxs)("label",{children:[(0,Ne.jsx)("input",{type:"checkbox",ref:function(n){return e.checkboxEl=n},checked:this.props.checked,value:this.props.checked,onChange:this.onChange})," Hosts star"]})})}},{key:"componentDidMount",value:function(){this.checkboxEl.indeterminate=this.props.indeterminate}},{key:"componentDidUpdate",value:function(e){e.indeterminate!==this.props.indeterminate&&(this.checkboxEl.indeterminate=this.props.indeterminate)}}]),t}(Le.Component);function TL(e){return e.space.aiTree?(0,Ne.jsx)(je,{css:"propertiesAiTreeButton",onClick:function(){H("Showing decision tree",e.space.aiTree),py(e.space.aiTree)},children:"AI Decision Tree"}):null}var PL=function(e){var n=Ie();return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(SL,{text:"Events"}),(0,Ne.jsx)("div",{className:"propertiesPadded",children:(0,Ne.jsx)(rL,{events:e.selectedSpace.events,board:Hy(),onEventAdded:function(t){!function(e,n){Sx.dispatch(Xg({event:e,toStart:n}))}(By(t,{activationType:RL(e.selectedSpace)})),n()},onEventDeleted:function(e,t){!function(e){Sx.dispatch(Kg({eventIndex:e}))}(t),n()},onEventActivationTypeToggle:function(e,n){var t;t=e.activationType===y.WALKOVER?y.LANDON:y.WALKOVER,Sx.dispatch(qg({eventIndex:n,activationType:t}))},onEventParameterSet:function(e,n,t,r){Sx.dispatch(Yg({eventIndex:n,name:t,value:r}))}})})]})};function RL(e){switch(e.type){case h.OTHER:case h.START:case h.ARROW:case h.STAR:case h.BLACKSTAR:return y.WALKOVER}return y.LANDON}var LL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onAddAnimBG=function(n){lw(n),e.forceUpdate()},e.onRemoveAnimBG=function(n){uw(n),e.forceUpdate()},e.onAddAdditionalBG=function(n){cw(n),e.forceUpdate()},e.onRemoveAdditionalBG=function(n){dw(n),e.forceUpdate()},e.onSetOverrideBackground=function(n){uy(n),e.forceUpdate()},e}return i(t,[{key:"render",value:function(){var e,n,t=this.props.currentBoard,r=Ky(t);if(function(e){return 2===e.game}(t)&&(e=(0,Ne.jsx)(IL,{list:"animbg",title:"Animation Backgrounds",onAddBackground:this.onAddAnimBG,onRemoveBackground:this.onRemoveAnimBG,onSetOverrideBackground:this.onSetOverrideBackground,children:(0,Ne.jsx)(jL,{board:t})})),function(e){return 2!==e.game}(t)){var a=!!Ze(Oe.uiAdvanced),i=t.additionalbg&&t.additionalbg.length,o=!!t.additionalbgcode;n=(a||i||o)&&(0,Ne.jsx)(IL,{list:"additionalbg",title:"Additional Backgrounds",onAddBackground:this.onAddAdditionalBG,onRemoveBackground:this.onRemoveAdditionalBG,onSetOverrideBackground:this.onSetOverrideBackground,children:(0,Ne.jsx)(UL,{})})}return(0,Ne.jsxs)("div",{className:"properties",children:[G()&&(0,Ne.jsx)(GL,{}),(0,Ne.jsx)(BL,{romBoard:r}),!r&&(0,Ne.jsx)(ML,{gameVersion:t.game,boardType:t.type}),!r&&(0,Ne.jsx)(kL,{board:this.props.currentBoard}),e,n,!r&&(0,Ne.jsx)(zL,{board:t})]})}}]),t}(Le.Component),ML=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onChangeBg=function(){rD("image/*",e.bgSelected)},e.bgSelected=function(e){var n=e.target.files[0];if(n){var t=new FileReader;t.onload=function(e){sw(t.result)},t.readAsDataURL(n)}},e}return i(t,[{key:"render",value:function(){var e;switch(this.props.gameVersion){case 1:e="960 x 720";break;case 2:case 3:e=this.props.boardType===m.DUEL?"896 x 672":"1152 x 864"}return(0,Ne.jsxs)("div",{className:"propertiesActionButton",onClick:this.onChangeBg,title:e,children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AoGAy4zA9ogPAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADW0lEQVRYw+2Yz07sNhTGP9vHfxInTjADBOkKiT2vwbLrmYfgASr23VeaDY8ws6ZLHqMalt2zKGxAFYH4biZ0SMNMkovSVuJIVuIkzvzy+ficMwa+7Mv+28a23Pu1KIqfiEgAqNbXQggBACrGWH0e1q1aH9n6iMb1tmt1n5VlWd7f3/9WluUvbTC0BfTw+vr62+npqaqqCiGEt7Ymbu3XVo/B31+4dfzt7e1fl5eXf6xWKwvgsTNonufKOYf9/f1Rpvb5+ZmfnJzY1WoVt4HyD8alRVFYzjkfyweJSDjnHICo7f5HIK4oCiulZGOBKqWEcy4DYHqBHhwcpEQ0GqjWGtbaBIDuBTqZTOIxFRVCwBij+oKm3vtRQTnnWM+g7ANqsyyLhRDjBXTGIKXkfX00ttYSEWFMRaWUAoDrA6qNMWCMjQpqrRUA8l6KKqXYmKBCCMRxTFpr3wc0WfvLqKDWWkrTdNIZVAiRa6352IomSUJJkhy0FUttoMp7n0dRxEbMoG+KGmN8V1CZZdmeMWZURYkISZKQ1nrSxtWqaJqm+3EcjwrKGEMcx1xKmbdxtQVKmSTJXhRFnYunH/2guia11kJKabsWztJam8Vx3Ck8McbeFchD1azfIYSo0+jzTh81xmRRFPWW6ezsDIwxzGazwUE/iiIOIOnio6S1lsaYXj8ym81wd3cHAFgulzg/Px8c9AH4LlNvlFK9Q9NyuXzXv7m5GQTqnBMAJl0UzaMo6p0+p9Ppu/7FxcWgEOWcIwBHXUB9kiS9Q9NisXiDm06nmM/ngxTNskx2BZ0MjaHz+RwhBCwWi3crerNtMyklvPcE4HinjyqlDp1zg/6Adg1n2xTN81wKIY5eX1+3K6q1LoaAfkYWk1Iiz3NijB3unHql1GGWZb1APyvVEhG894JzvnvVE9FRX9DPrPLTNGWMsb2doEKISZ7n/wooAKRpCsaY6gLqsyzrHEd/NM8338E5h1JK7ATVWifHx8e9/G5zZ25Ia658771optFmeEofHh7Y1dUVjDGoquofW4rNrcTN+5tV0EfPtc1CPZ6I8Pj4iKenJwLwDcCfbwu24cxHIYRrpdRLCKEOZJubsLW1bdpWTaEbjTX6bc8hhEAvLy+vRPRzWZa/48u+7H9i3wGhxjGlD/oIjAAAAABJRU5ErkJggg==",className:"propertiesActionButtonImg",width:"24",height:"24",alt:""}),(0,Ne.jsx)("span",{className:"propertiesActionButtonSpan",children:"Change main background"})]})}}]),t}(Le.Component);function BL(e){var n=(0,Le.useCallback)((function(){X_(f.DETAILS)}),[]),t=e.romBoard?"View board details":"Edit board details";return(0,Ne.jsxs)("div",{className:"propertiesActionButton",onClick:n,children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkWBAMYnbq4WQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAD8UlEQVRYw+2YO0/rSBTH//Pya+yxMXk4JLwKkPgwdzvqFFRoO6pVekS7FaJHkejZj7IEBBJXSUACCV0QiGhFsGeLTVgSDEmI5LsrcaSRPTNn5J/PmTnHPsCXfMl/W8gHc79HUfSNc84AJL0xrbUGgIQQ0r/XvZb0rqR3xdB42li/T7rdbvf29vaPbre7nQbDPwAtHB4eVpaXl40kSaC1fmk94tR+X/pr8O8bfrj++Pj4r1qt9r3RaEgAj2ODBkFgKKUwOzubiWufnp7owsKCbDQaThoofWedF0WRpJTSrPYg55wppRQAO23+PRAVRZEUQpCsQA3DYEopH4A1EWg+n/c455mBmqYJKaULwJwINJfLOVlalDEGy7KMSUG9MAwzBaWUoudBMQmo9H3fYYxlF9AJgRCCTrpHHSkl55wjS4sKIRgANQmoaVkWCCGZgkopGYBgIosahkGyBGWMwXEcbppmOAmo29svmYJKKbnnebmxQRljgWmaNGuLuq7LXdfNp30spYEaYRgGtm2TDDPoi0UtywrHBRW+789YlpWpRTnncF2Xm6aZS+NKtajnebOO42QKSgiB4zhUCBGMCypc152xbTvLj6d/soyUEELIcQ+TkFL6juN8OjwtLi6CEIJKpYIkSbC/vw9CSGqLomh4r6am0VRQy7J827Y/7fdWqwUAuLy8BAC02+13da+vrweCvm3bFIA7Dig3TVNYlvVpF5bLZQBAqVQa6KdJPp9/E/QBhOOAWoZhTBWaWq0W4jjGxcUFKKWoVquI4zi1XV1dDYAqpRiA3Dj/TIFt21Olz3q9jna7jXK5jGq1imaziXq9nqpbLBaxsbHxEqKUUhxAcZzn/LK1tXV/f3+vPyuvfo91HMd6e3t7YGy49eXm5kbXarUfAH4dx/W5rGPoyykWAmEYcgClka43DKOglJoqhu7u7qLVamFubg6UUqyvr+Ph4SG9eFAoDOzRIAgEY6wYx/HHoKZpRtOCbm5uDvRXVlaws7MzlkWDIOCEkMJI1xuGUfB9fyrQtbU12LaN1dVVJEmCg4MDSClh2/abtrS0NJDvwzBklNLRp55zXpwW9OTkBABwdnYGADg/P0en00nVbTabAwHf8zxCCJkZaVHGWC4IgqlAi8XiQDDv998pHQ3+/noeCCHGyIfMz8+3j46OdJIk+mfI6empVkp9H2lR0zTdUqmEnxGe+ic/DEM2nEaH96h3d3dH9vb2YFkWkiR5U1IcLiW+nieEjNQbnnu9nnOOx8dHdDodDqAC4EdqIZdSWtRaHxqG8ay1jl8VWvXQC6UVbZMhneEMRIb6aXrQWvPn5+eYc/5bt9v9E1/yJf8T+RujWhC1/6r2lgAAAABJRU5ErkJggg==",className:"propertiesActionButtonImg",width:"24",height:"24",alt:""}),(0,Ne.jsx)("span",{className:"propertiesActionButtonSpan",children:t})]})}var kL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i)))._noDeadEndsTimeout=void 0,e.state={noDeadEnds:!1},e.checkForDeadEnds=function(){var n=rw(e.props.board);H("Dead ends",n),n.length?ry(n):(e.setState({noDeadEnds:!0}),e._noDeadEndsTimeout=setTimeout((function(){delete e._noDeadEndsTimeout,e.setState({noDeadEnds:!1})}),1e3))},e}return i(t,[{key:"componentWillUnmount",value:function(){this._noDeadEndsTimeout&&(delete this._noDeadEndsTimeout,clearTimeout(this._noDeadEndsTimeout))}},{key:"render",value:function(){var e,n;return this.state.noDeadEnds?e="\u2713 No dead ends":(e="Check for dead ends",n=this.checkForDeadEnds),(0,Ne.jsxs)("div",{className:"propertiesActionButton",onClick:n,children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEKBA4VMdK4RAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADSUlEQVRIx9WVb0jcdRzHX5/v77zzz51XaevypNBcHrLDuYtae9IfKExljMF8sBiDxczYnlUsKKGkhuWDQSxBKyiKRklZUcwWA90Go4XIGg6sNkqdszFnuzv19H73+/TA263SsfPak74Pv3y/7xff9+f7eX/g/77kVoho/7MP4uh6NDXCbPS0NPfGbxlAv2t9HKUNYROqP6N8TlIPyuaey/8ZoIdbGhHzMiIPL22oAknQt/Ak3pDHPkyY3G1p3Y6Y/RlxABEB8oAtRPU+gFUDFESPPNeKagcQXl5VEZDqlOXZoIq4ViXeHcn7aVp2u86MvBIKrwsYVbnB1xm2LP1NBM0aoJ9tK8BfsrvUPfnSyaODd6tCaF0Nlvyb4RwHfZ36904AZAXQL3f5yHe3oPqC42hgbi7OyNAQLpdFVah6CaKqKANAuzzVM3DtrnVT8b6dt3E12YZl9uB23RWNRhn79RwLiQTRKzMUFBZQXHJHyihHUKddGnqO/f2+C0AfqfHizX8ClUmK5oel9+wigH7f4ufUVDfnZrbisVwauhOr2ODz+3GcFMnFJOdHf7FF5KuKiqo3paHnxxU7WRvDlYj7a4QAqoewnXb21ca4SAcnxvYyEVt66cYgTqSMuVgMjMG2bXthYf7jyakLnRtePHV2JQdcAPLtmfPaFPkCkTZgD3kyTSJ/lLFLexmPWohA5e0QKsUAXp9vyXOj3diFHYEdfRM3sjhTg1erA+MgdYjcC3IPV2YdJuMR5m3B74GHglBaeK0yDkoXHn1Nnnx3Kuuw06a6HYjpQsQLegEkiCpsLIcHytKHNIGhi/jsftn60fTNPsk/Ozk2fAjlkzQ7CMCaollCJal0G18FDmQrvgwgg9hIagDVeCa8FlMDFLk/QJ0fwOnEjnZmK75yo6kVRijK5MqfiTV8erqd5vsvoX9clKb+hZwHjjbWPoqx3kdMJarjQHnamrf5Zuh5gdRqwzFjkdZXFSNWS1p8BtiH6juICMIzNNVtzyXWr9cgz/80Is1p7/uJXu7DJA+iehQRLyK7tD5cvlrA9Ro4zgzGnMTRIEqvDP6eAEa1IXIAo/MgFRj3WmAi9xHYUBPQxvW1y/Y3Vft0c12Z5jBi/wIUBFGN7nsmaQAAAABJRU5ErkJggg==",className:"propertiesActionButtonImg",width:"24",height:"24",alt:""}),(0,Ne.jsx)("span",{className:"propertiesActionButtonSpan",children:e})]})}}]),t}(Le.Component),IL=function(e){var n,t=Mv(),r=Lv((function(e){return e.app.overrideBg})),a=t[e.list]||[],i=0,o=a.map((function(n){return i++,(0,Ne.jsx)(OL,{bg:n,text:"Background "+i,index:i-1,showing:n===r,onRemoveBackground:e.onRemoveBackground,onSetOverrideBackground:e.onSetOverrideBackground},i)}));return Ky(t)||(n=(0,Ne.jsx)(NL,{onAddBackground:e.onAddBackground})),n||o.length?(0,Ne.jsxs)("div",{className:"propertiesAnimationBGList",children:[(0,Ne.jsx)(SL,{text:e.title,children:e.children}),o,n]}):null},OL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onRemove=function(n){n.stopPropagation(),e.props.onRemoveBackground(e.props.index),e.props.showing&&e.props.onSetOverrideBackground(null)},e.onEyeClick=function(n){n.stopPropagation(),bE()||e.props.onSetOverrideBackground(e.props.showing?null:e.props.bg)},e}return i(t,[{key:"render",value:function(){var e="propertiesActionButtonEyeBtn";return this.props.showing&&(e+=" propertiesActionButtonEyeBtnShowing"),(0,Ne.jsxs)("div",{className:"propertiesActionButton",children:[(0,Ne.jsx)("img",{src:this.props.bg,className:"propertiesActionButtonImg",width:"24",height:"24",alt:""}),(0,Ne.jsx)("span",{className:"propertiesActionButtonSpan",children:this.props.text}),(0,Ne.jsx)("span",{className:"propertiesActionButtonSpacer"}),(0,Ne.jsx)("div",{role:"button",onClick:this.onEyeClick,className:e,title:"Show this background until dismissed"}),(0,Ne.jsx)("div",{role:"button",className:"propertiesActionButtonDeleteBtn",onClick:this.onRemove,title:"Remove this background"})]})}}]),t}(Le.Component),NL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e.onAddAnimBg=function(){rD("image/*",e.bgSelected)},e.bgSelected=function(n){var t=n.target.files[0];if(t){var r=new FileReader;r.onload=function(n){e.props.onAddBackground(r.result)},r.readAsDataURL(t)}},e}return i(t,[{key:"render",value:function(){return(0,Ne.jsxs)("div",{className:"propertiesActionButton",onClick:this.onAddAnimBg,children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkXAAwrGkcKOQAAAFVJREFUSMdjYBgFQwb8////5H8EOEGsPkYSLPiPopGRkSi9TLT2+agFpFuAllrgAFukYwEnCKYibIaRAtBT14DEwUkKzDs2mtFGLcALTuJLLaNg8AIAfWhOIFXsg6IAAAAASUVORK5CYII=",className:"propertiesActionButtonImg",width:"24",height:"24",alt:""}),(0,Ne.jsx)("span",{className:"propertiesActionButtonSpan",children:"Add background"})]})}}]),t}(Le.Component),jL=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this,e)).onClick=function(){a.setState({playing:!a.state.playing}),a.state.playing?lE():iE||(iE=setInterval(uE,800),uy(null))},a.state={playing:bE()},a}return i(t,[{key:"render",value:function(){if(!this.props.board.animbg||!this.props.board.animbg.length)return null;var e=this.state.playing?"\u25ae\u25ae":"\u25ba";return(0,Ne.jsx)("div",{className:"bgListActionButton",onClick:this.onClick,children:e})}},{key:"componentWillUnmount",value:function(){lE()}}]),t}(Le.Component);function UL(){var e=(0,Le.useCallback)((function(){X_(f.ADDITIONAL_BGS)}),[]);return(0,Ne.jsx)("div",{className:"bgListActionButton",title:"Configure additional background usage",onClick:e,children:"\u2699"})}var GL=function(e){s(t,e);var n=A(t);function t(){var e;r(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={},e}return i(t,[{key:"onFindSpace",value:function(){var e=O(k().mark((function e(){var n,t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fy("Enter a space index:");case 2:(n=e.sent)&&(t=parseInt(n),isNaN(t)||ry([t]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,Ne.jsxs)("div",{className:"propertiesActionButton",onClick:this.onFindSpace,children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUDFgECGlerawAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAC1klEQVRYw+2Yy07dMBCGf9vjS2zHNuYAQaqQeKC+T8W++y55D/oo1WHZNyhsQBWhcRc9oVWUcnI2TisxkpX4Fn35M2M7A7zZm/3bxl7p+9R13XsiEgCGXVsppQDAwBgb78uuDLsr210xaZ9rG+us7/v+7u7uc9/3H+dg6BXQ05ubm3eXl5dqGAaUUl7Kjni2Pto4B7/f8NX5t7e336+urr5ut1sH4GExaEpJhRBwfHxc5dM+PT3xi4sLt91u7Rwo/8u8tus6xznntXyQiEQIIQBo5vr/BhK6rnNSSlYLVCklQggRgDkI9OTkpCWiaqBaazjnPAB9EOhms7E1FRVCwBijDgVtc85VQTnn2H1BeQioizFaIUS9BZ0xSCn5oT5qnXNERKipqJRSAAiHgGpjDBhjVUGdcwJAOkhRpRSrCSqEgLWWtNb5EFC/85eqoM45att2sxhUCJG01ry2ot578t6fzB2W5kBVzjk1TcMq7qAvihpj8lJQGWM8MsZUVZSI4L0nrfVmjmtW0bZtj621VUEZY7DWcillWgoqvfdHTdPUPDz92mWcg5TSLQ0m6ZyL1tqqy9Mfvjq7jc6CGmNi0zTVKTnnaJqGA/BLQElrLY0xa6gJay0ByEtAjVKK1fbPETSEIABsloCmpmlW8U8iQgiBAJwtAc3ee75SICHGKJeCbmqvoS9RLCVyzgTgfC+oUuo0hMDX8tGUkhRC7FdUa92tBSqlREqJGGOnixSNMa4CSkTIOQvO+f6oJ6KztUA552jbljHGjvaCCiE2KaVVQAGgbVswxtQS0BxjXGUdHVVVSoklweTPz8+xFqgQAjlnMd1Gp//D7f39Pbu+voYxBsPwKy06TReONk0hMsb2jpv2/TmfiPDw8IDHx0cC8A7At5fz6kT2s1LKjVLquZTyY3wOfiddR5tL2g6TMWVS2KQ+Nw6lFHp+fv5BRB/6vv+CN3uz/8R+AkL+03xKi0HYAAAAAElFTkSuQmCC",className:"propertiesActionButtonImg",width:"24",height:"24",alt:""}),(0,Ne.jsx)("span",{className:"propertiesActionButtonSpan",children:"Find space by index"})]})}}]),t}(Le.Component);var zL=function(e){var n=Ie();return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(SL,{text:"Events"}),(0,Ne.jsx)("div",{className:"propertiesPadded",children:(0,Ne.jsx)(rL,{events:e.board.boardevents,board:e.board,onEventAdded:function(e){!function(e){Sx.dispatch(Ng({event:e}))}(By(e,{activationType:y.BEFORE_PLAYER_TURN})),n()},onEventDeleted:function(e,t){!function(e){Sx.dispatch(jg({eventIndex:e}))}(t),n()},onEventActivationTypeToggle:function(n,t){var r=3===e.board.game?[y.BEFORE_TURN,y.AFTER_TURN,y.BEFORE_PLAYER_TURN,y.BEFORE_DICE_ROLL]:[y.BEFORE_TURN,y.BEFORE_PLAYER_TURN,y.BEFORE_DICE_ROLL],a=r.indexOf(n.activationType);if(-1===a)throw new Error("Unexpected board event activation type ".concat(n.activationType));var i=r[(a+1)%r.length];Sx.dispatch(Hg({eventIndex:t,activationType:i}))},onEventParameterSet:function(e,n,t,r){Sx.dispatch(Wg({eventIndex:n,name:t,value:r}))},onEventMouseEnter:function(e,n){ly(n)},onEventMouseLeave:function(e){ly(-1)}})})]})};window.addEventListener("beforeunload",(function(e){var n=!1;if(window.localStorage){var t=function(){var e=[],n=xx();for(var t in n){var r=n[t];r.custom&&e.push(M(r))}return e}();try{localStorage.setItem("events",JSON.stringify(t))}catch(i){n=!0}var r=Jg(Sx.getState());try{localStorage.setItem("boards",JSON.stringify(r))}catch(i){n=!0}}else n=!0;if(n){var a="Cannot save all your boards. Return to the editor and export them?";return e.returnValue=a,a}})),gx({id:"BOULDERCHASE",name:"Boulder chase",activationType:y.LANDON,executionType:w.DIRECT,fakeEvent:!0,supportedGames:[v.MP1_USA],parse:function(e,n){return!!J([e.buffer,n.offset,116],"6E26BAB74BC8411901472C0A40E2FC1D")}}),gx({id:"BOWSER",name:"Visit Bowser",activationType:y.WALKOVER,executionType:w.DIRECT,supportedGames:[v.MP1_USA],parse:function(e,n){var t="DAD5E635FE90ED982D02B3F1D5C0CE21",r="8A835D982BE35F1804E9ABD65C5699F4";if(J([e.buffer,n.offset,20],t)&&J([e.buffer,n.offset+28,28],r)){var a=e.getUint16(n.offset+26);return-1!==[72,73,79,83,84,91,93].indexOf(a)}return!1},write:function(e,n,t,r){var a=[72,73,79,83,84,91,93][t.boardIndex];return"\n      addiu SP, SP, -0x18\n      sw    RA, 0x10(SP)\n\n      ; TODO: Turn player towards bowser\n      ;addiu A0, R0, -1 ; current player\n      ;addiu A1, R0, 8\n      ;jal   0x8004D2A4\n      ;addiu A2, R0, BOWSER_STANDING_SPACE_INDEX\n\n      addiu A0, R0, ".concat(a,"\n      addu  A1, R0, R0\n      addiu A2, R0, 3\n      jal   0x800587BC\n      addiu A3, R0, 1\n\n      lw    RA, 0x10(SP)\n      jr    RA\n      addiu SP, SP, 0x18\n    ")}}),gx({id:"PASSSTART",name:"Pass start",activationType:y.WALKOVER,executionType:w.PROCESS,supportedGames:[v.MP1_USA],parse:function(e,n){var t="D87057256E3E3CA9A6878AA03EF4C486",r="9AB28DCC38CFBE9AE8FEA4515E86D7B2";return!(!J([e.buffer,n.offset,22],t)||!J([e.buffer,n.offset+28,24],r))},write:function(e,n,t,r){return'\n      addiu SP, SP, -0x18\n      sw    RA, 0x10(SP)\n\n      ; TODO: Face player towards koopa troopa\n      ;addiu A0, R0, -1\n      ;addiu A1, R0, 8\n      ;jal   0x8004D2A4\n      ;addiu A2, R0, KOOPA_TROOPA_STANDING_SPACE_INDEX\n\n      jal   koopa_start_space_event_inner\n      NOP\n      jal   EndProcess\n      addu  A0, R0, R0\n      lw    RA, 0x10(SP)\n      jr    RA\n      addiu SP, SP, 0x18\n\n  .definelabel CORE_800ED192,0x800ED192\n\n  koopa_start_space_event_inner:\n      addiu SP, SP, -0x18\n      sw    RA, 0x14(SP)\n      sw    S0, 0x10(SP)\n      lui   S0, hi(CORE_800ED192)\n      addiu S0, S0, lo(CORE_800ED192)\n      lhu   V0, 0(S0)\n      addiu V0, V0, 1\n      sh    V0, 0(S0)\n      jal   IsBoardFeatureFlagSet\n      addiu A0, R0, 66\n      bne   V0, R0, L800F965C\n      lui   V1, 0x6666\n      lhu   V0, 0(S0)\n      sll   V0, V0, 0x10\n      sra   A0, V0, 0x10\n      ori V1, V1, 0x6667\n      mult  A0, V1\n      mfhi  A3\n      sra   V1, A3, 2\n      sra   V0, V0, 0x1f\n      subu  V1, V1, V0\n      sll   V0, V1, 2\n      addu  V0, V0, V1\n      sll   V0, V0, 1\n      subu  A0, A0, V0\n      sll   A0, A0, 0x10\n      beq   A0, R0, L800F9624\n      NOP\n      jal   IsBoardFeatureFlagSet\n      addiu A0, R0, 77\n      bne   V0, R0, L800F965C\n      NOP\n    L800F9624:\n      jal   IsBoardFeatureFlagSet\n      addiu A0, R0, 77\n      beq   V0, R0, L800F963C\n      addiu A0, R0, -1\n      jal   0x80058910\n      addiu A1, R0, 1\n    L800F963C:\n      jal   SetBoardFeatureFlag\n      addiu A0, R0, 77\n      addiu A0, R0, 95\n      addu  A1, R0, R0\n      jal   0x800587EC\n      addiu A2, R0, 1\n      j     L800F9664\n      NOP\n    L800F965C:\n      jal   receive_koopa_bonus\n      NOP\n    L800F9664:\n      lw    RA, 0x14(SP)\n      lw    S0, 0x10(SP)\n      jr    RA\n      addiu SP, SP, 0x18\n\n  receive_koopa_bonus:\n      addiu SP, SP, -0x20\n      sw    RA, 0x1c(SP)\n      sw    S2, 0x18(SP)\n      sw    S1, 0x14(SP)\n      jal   GetCurrentPlayerIndex\n      sw    S0, 0x10(SP)\n      addu  S1, V0, R0\n      sll   A0, S1, 0x10\n      jal   0x800405DC\n      sra   A0, A0, 0x10\n      addiu A0, R0, -1\n      addiu A1, R0, -1\n      jal   0x80052BE8\n      addiu A2, R0, 2\n      jal   IsBoardFeatureFlagSet\n      addiu A0, R0, 66\n      bnel  V0, R0, L800F94F0\n      addiu A0, R0, 65\n      addiu A0, R0, 72\n      addiu A1, R0, 60\n      addiu A2, R0, 16\n      jal   CreateTextWindow\n      addiu A3, R0, 3\n      addu  S0, V0, R0\n      sll   V0, V0, 0x10\n      sra   A0, V0, 0x10\n      addiu A1, R0, 569 ; "Nice work! Take this 10 Coin Bonus! Use it wisely"\n      addiu A2, R0, -1\n      jal   LoadStringIntoWindow\n      addiu A3, R0, -1\n      j     L800F9520\n      addiu S2, R0, 10\n    L800F94F0:\n      addiu A1, R0, 60\n      addiu A2, R0, 17\n      jal   CreateTextWindow\n      addiu A3, R0, 3\n      addu  S0, V0, R0\n      sll   V0, V0, 0x10\n      sra   A0, V0, 0x10\n      addiu    A1, R0, 570 ; "Nice work! Take this 20 Coin Bonus! Just a little bit longer..."\n      addiu    A2, R0, -1\n      jal   LoadStringIntoWindow\n      addiu    A3, R0, -1\n      addiu    S2, R0, 20\n    L800F9520:\n      sll   S0, S0, 0x10\n      sra   S0, S0, 0x10\n      addu  A0, S0, R0\n      jal   SetTextCharsPerFrame\n      addu  A1, R0, R0\n      jal   ShowTextWindow\n      addu  A0, S0, R0\n      jal   PlaySound\n      addiu A0, R0, 1074  ; Metal metal? :D\n      sll   S1, S1, 0x10\n      sra   S1, S1, 0x10\n      addu  A0, S0, R0\n      jal   0x8004DBD4\n      addu  A1, S1, R0\n      jal   HideTextWindow\n      addu  A0, S0, R0\n      addu  S0, S2, R0\n      addu  A0, S1, R0\n      jal   AdjustPlayerCoinsGradual\n      addu  A1, S0, R0\n      addu  A0, S1, R0\n      jal   ShowPlayerCoinChange\n      addu  A1, S0, R0\n      jal   SleepProcess\n      addiu A0, R0, 30 ; 30 frames\n      jal   0x8003FEFC\n      addu  A0, S1, R0\n      lw    RA, 0x1c(SP)\n      lw    S2, 0x18(SP)\n      lw    S1, 0x14(SP)\n      lw    S0, 0x10(SP)\n      jr    RA\n      addiu SP, SP, 0x20\n    '}}),gx({id:"THWOMPCHAINSPLIT",name:"Thwomp Chain Split",activationType:y.WALKOVER,executionType:w.PROCESS,fakeEvent:!0,supportedGames:[v.MP1_USA],parse:function(e,n){return!!J([e.buffer,n.offset,64],"A45C16B1E285427C790C6FAD1EC78394")}});var HL={id:"GATECHAINSPLIT",name:"",fakeEvent:!0,activationType:y.WALKOVER,executionType:w.PROCESS,supportedGames:[v.MP3_USA],parse:function(e,n){return J([e.buffer,n.offset,68],"A99A70CBC4A1F9509AAB966831FC584E"),!1},write:function(e,n,t,r){throw new Error("".concat(HL.id," not implemented"))}};gx(HL);var WL={id:"REVERSECHAINSPLIT",name:"",fakeEvent:!0,activationType:y.WALKOVER,executionType:w.DIRECT,supportedGames:[v.MP3_USA],parse:function(e,n){return!!J([e.buffer,n.offset,48],"0909C95D982B8A9B1F096AC54FFFB816")},write:function(e,n,t,r){throw new Error("".concat(WL.id," not implemented"))}};gx(WL);var XL=__webpack_require__(658),KL=[{w:10,h:12},{w:8,h:8}];function qL(e,n,t){var r,a=L(KL);try{for(a.s();!(r=a.n()).done;){var i=r.value,o=i.w*i.h;if(e>0)if((n-e)%o!==0)continue;if((t-n)%(o/2)===0)return i}}catch(s){a.e(s)}finally{a.f()}return null}var YL=__webpack_require__.n(XL)();function QL(){for(var e=new YL,n=(Ry.getROMGame(),e.folder("mainfs")),t=rn.getDirectoryCount(),r=function(e){for(var t=n.folder(e.toString()),r=rn.getFileCount(e),a=function(n){try{var r=rn.get(e,n);if(A_.isForm(r)){try{var a=A_.unpack(r);a.BMP1.length&&a.BMP1.forEach((function(e,r){var a=ne(e.parsed.src,e.parsed.width,e.parsed.height);t.file("".concat(n,".").concat(r,".png"),a.substr(a.indexOf(",")+1),{base64:!0})}))}catch(h){}return"continue"}if(0===e&&function(e){var n=new DataView(e);if(n.byteLength<32)return!1;var t=n.getUint32(0),r=n.getUint32(4),a=n.getUint32(8);return!(t>r||r>a)&&(t!==r||0===t)&&(12===t||12===r||12===a)&&(r-t)%2===0&&!!qL(r,a,n.byteLength)}(r)){var i;try{i=function(e){var n=new DataView(e),t=n.getUint32(0),r=n.getUint32(4),a=n.getUint32(8),i=qL(r,a,n.byteLength);if(!i)throw new Error("Unrecongized font size");var o=i.w*i.h,s={images:[],chars:[],bpp:32,charWidth:i.w,charHeight:i.h},l=[];if(t>0)for(var u=(r-t)/2,c=0;c<u;c++)l.push(n.getUint16(t+2*c));if(r>0)for(var d=r;d<a;){var A=fn(vn(new DataView(e,d,o),l,8,16),i.w,i.h);s.images.push(A),d+=o}for(var f=[0],h=1;h<16;h++)f.push(Math.floor((h+1)/16*255));for(var p=a;p<e.byteLength;){var m=vn(new DataView(e,p,o/2),f,4,32);s.chars.push(m),p+=o/2}return s}(r)}catch(p){}if(i){var o=i,s=o.charWidth,l=o.charHeight,u=0;i.chars.forEach((function(e){var r=ne(e,s,l);t.file("".concat(n,".").concat(u,".png"),r.substr(r.indexOf(",")+1),{base64:!0}),u++})),i.images.forEach((function(e){var r=ne(e,s,l);t.file("".concat(n,".").concat(u,".png"),r.substr(r.indexOf(",")+1),{base64:!0}),u++}));var c=i.chars.concat(i.images).map((function(e){return new DataView(e)})),d=ne(dn(c,c.length,1,4*s,l),s*c.length,l);return t.file("".concat(n,".all.png"),d.substr(d.indexOf(",")+1),{base64:!0}),"continue"}}var A=function(e,n){var t=wn(rn.get(e,n));if(!t||!t.length)return;return t}(e,n);if(A.forEach((function(e,r){var a=ne(e.src,e.width,e.height);t.file("".concat(n,".").concat(r,".png"),a.substr(a.indexOf(",")+1),{base64:!0})})),A.length>1){var f=ne(dn(function(e,n){var t=wn(rn.get(e,n));if(!t||!t.length)return;return t.map((function(e){return new DataView(e.src)}))}(e,n),A.length,1,4*A[0].width,A[0].height),A[0].width*A.length,A[0].height);t.file("".concat(n,".all.png"),f.substr(f.indexOf(",")+1),{base64:!0})}}catch(m){}},i=0;i<r;i++)a(i)},a=0;a<t;a++)r(a);e.generateAsync({type:"blob"}).then((function(e){(0,Py.saveAs)(e,"mp".concat(Ry.getGameVersion(),"-images.zip"))}))}function JL(){for(var e=rn.getDirectoryCount(),n=function(e){for(var n=rn.getFileCount(e),t=function(n){var t=rn.get(e,n);if(!A_.isForm(t))return"continue";try{var r=A_.unpack(t);r.BMP1.length&&r.BMP1.forEach((function(t){var r=ne(t.parsed.src,t.parsed.width,t.parsed.height);console.log("".concat(e,"/").concat(n,":")),console.log(r)}))}catch(a){}},r=0;r<n;r++)t(r)},t=0;t<e;t++)n(t)}function ZL(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=F_.getDirectoryCount("en"),r=0;r<t;r++)for(var a=F_.getStringCount("en",r),i=0;i<a;i++){var o=F_.read("en",r,i);if(!(o.indexOf(e)<0)){var s="".concat(r,"/").concat(i," (").concat(W(r),"/").concat(W(i),"):\n")+o;n&&(s+="\n"+Z(F_.read("en",r,i,!0))),console.log(s)}}}function $L(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=j_.getStringCount(),r=0;r<t;r++){var a=j_.read(r);if(!(a.indexOf(e)<0)){var i="".concat(r," (").concat(W(r),"):\n")+a;n&&(i+="\n"+Z(j_.read(r,!0))),console.log(i)}}}function eM(){if(Ry.romIsLoaded()){for(var e=ve.count(),n=[],t=0;t<e;t++){var r=ve.getInfo(t);n.push({i:W(t),rom_start:W(r.rom_start),rom_end:W(r.rom_end),code_start:W(r.code_start),rodata_start:W(r.rodata_start),bss_start:W(r.bss_start),bss_end:W(r.bss_end)})}console.table(n)}else console.log("ROM is not loaded")}function nM(){if(Ry.romIsLoaded()){for(var e=ve.count(),n=[],t=0;t<e;t++){var r=ve.getInfo(t);n.push("   - [".concat(W(r.rom_start),", ").concat(W(r.rom_start+(r.code_end-r.code_start)),', "asm", "overlay').concat(t,'_main", ').concat(W(r.code_start),"]")),n.push("   - [".concat(W(r.rom_start+(r.rodata_start-r.code_start)),", ").concat(W(r.rom_start+(r.rodata_end-r.code_start)),', "bin", "overlay').concat(t,'_rodata_bin"]')),n.push("   # overlay".concat(t," bss: ").concat(W(r.bss_start)," - ").concat(W(r.bss_end)))}console.log(n.join("\n"))}else console.log("ROM is not loaded")}function tM(){if(Ry.romIsLoaded()){for(var e=ve.count(),n=[],t=0;t<e;t++){var r=ve.getInfo(t);n.push("  - name: overlay".concat(t)),n.push("    type: code"),n.push("    overlay: True"),n.push("    start: ".concat(W(r.rom_start))),n.push("    vram: ".concat(W(r.code_start))),n.push("    files:"),n.push("      - [".concat(W(r.rom_start),', "asm"]')),n.push("      - [".concat(W(r.rom_start+(r.rodata_start-r.code_start)),', "bin"] # rodata')),n.push("")}console.log(n.join("\n"))}else console.log("ROM is not loaded")}function rM(e){for(var n=ve.getInfo(e),t=n.code_start,r=ve.getCodeDataView(e),a=[],i=0;i<r.byteLength;i+=4){var o=r.getUint32(i),s="? "+W(o);try{s=(0,ir.S)(o)}catch(A){console.log("UNRECOGNIZED: "+W(o))}a.push(W(t)+": "+s),t+=4}console.log(a.join("\n"));var l=ve.getRoDataView(e),u=[];t=n.rodata_start;for(var c=0;c<l.byteLength;)u.push("D_"+W(t,"")+": "+ci(W(l.getUint32(c),""),8,"0")),u.push("D_"+W(t+4,"")+": "+ci(W(l.getUint32(c+4),""),8,"0")),u.push("D_"+W(t+8,"")+": "+ci(W(l.getUint32(c+8),""),8,"0")),u.push("D_"+W(t+12,"")+": "+ci(W(l.getUint32(c+12),""),8,"0")),t+=16,c+=16;console.log(u.join("\n")),u=[];for(var d=n.bss_start;d<n.bss_end;d+=4)u.push("D_".concat(W(d,""),": .word 0"));console.log(u.join("\n"))}var aM=function(n){s(a,n);var t=A(a);function a(){var e;r(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={sceneIndex:"",sceneRamStartAddr:"",sceneCodeStartAddr:"",sceneCodeEndAddr:"",sceneRodataStartAddr:"",sceneRodataEndAddr:"",sceneBssStartAddr:"",sceneBssEndAddr:"",romToRamNumber:"",romToRamResult:"",mainfsToRomDir:"",mainfsToRomIndex:"",mainfsToRomResult:"",printStringDir:"",printStringIndex:"",findStringValue:"",printStringRaw:!1},e.onPrintSceneAsmClick=function(){var n=parseInt(e.state.sceneIndex);isNaN(n)||rM(n)},e.onPrintStringClick=function(){var n=parseInt(e.state.printStringIndex,16);if(!isNaN(n)){var t,r,a=e.state.printStringRaw;if(3===Ry.getGameVersion()){if(r=parseInt(e.state.printStringDir,16),isNaN(r))return;t=F_.read("en",r,n,a)}else t=j_.read(n,a);t instanceof ArrayBuffer?$(t):console.log(t)}},e.onFindStringClick=function(){3===Ry.getGameVersion()?ZL(e.state.findStringValue):$L(e.state.findStringValue)},e.onRomToRamClick=function(){var n="",t=parseInt(e.state.romToRamNumber,16);if(!isNaN(t)){for(var r=ve.count(),a=0;a<r;a++){var i=ve.getInfo(a);if(i.rom_start<=t&&t<=i.rom_end){var o=t-i.rom_start;n="RAM: ".concat(W(i.ram_start+o,""),"\n"),n+="Overlay ".concat(a," (").concat(W(a),") offset +").concat(o," (+").concat(W(o),")");break}}n||(n=e.findInMainFS(t)),n||t>=4096&&(n="RAM: ".concat(W(Se(t))))}n?e.setState({romToRamResult:n}):e.setState({romToRamResult:"Unknown"})},e.onMainFSToRomClick=function(){var n="",t=parseInt(e.state.mainfsToRomDir,10),r=parseInt(e.state.mainfsToRomIndex,10);if(!isNaN(t)&&!isNaN(r)){var a=rn.getROMOffset(),i=rn.getDirectoryCount();a+=4,a+=4*i;for(var o=0;o<i;o++){var s=rn.getFileCount(o);a+=4,a+=4*s;for(var l=0;l<s;l++){if(a+=rn.getFileHeaderSize(o,l),o===t&&l===r){n="ROM: ".concat(W(a));break}a=Te(a+=rn.getCompressedSize(o,l),2)}if(n)break}}e.setState({mainfsToRomResult:n||"Unknown"})},e.onSceneIndexChange=function(n){e.setState({sceneIndex:n.target.value});var t=parseInt(n.target.value);if(isNaN(t))e.clearSceneValues();else{var r=ve.getInfo(t);r?(e.setState({sceneRamStartAddr:W(r.ram_start,"")}),e.setState({sceneCodeStartAddr:W(r.code_start,"")}),e.setState({sceneCodeEndAddr:W(r.code_end,"")}),e.setState({sceneRodataStartAddr:W(r.rodata_start,"")}),e.setState({sceneRodataEndAddr:W(r.rodata_end,"")}),e.setState({sceneBssStartAddr:W(r.bss_start,"")}),e.setState({sceneBssEndAddr:W(r.bss_end,"")})):e.clearSceneValues()}},e.onOverlayDownloadClick=function(){var n=parseInt(e.state.sceneIndex);if(!isNaN(n)){var t=ve.getDataView(n);(0,Py.saveAs)(new Blob([t]),"overlay-".concat(n,".bin"))}},e.onOverlayReplaceClick=function(){var n=parseInt(e.state.sceneIndex);isNaN(n)||rD("",(function(t){var r=t.target.files[0];if(r){var a=new FileReader;a.onload=function(t){var r={ram_start:parseInt(e.state.sceneRamStartAddr,16),code_start:parseInt(e.state.sceneCodeStartAddr,16),code_end:parseInt(e.state.sceneCodeEndAddr,16),rodata_start:parseInt(e.state.sceneRodataStartAddr,16),rodata_end:parseInt(e.state.sceneRodataEndAddr,16),bss_start:parseInt(e.state.sceneBssStartAddr,16),bss_end:parseInt(e.state.sceneBssEndAddr,16)};ve.replace(n,a.result,r)},a.readAsArrayBuffer(r)}}))},e}return i(a,[{key:"render",value:function(){var e,n=this,t=!!Ry.getROMBuffer();return t&&(e=(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(je,{onClick:oM,children:"Import file dump"}),(0,Ne.jsx)(je,{onClick:lM,children:"Export file dump"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(je,{onClick:QL,children:"Dump images"}),(0,Ne.jsx)(je,{onClick:JL,children:"Print FORM images (console)"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(je,{onClick:eM,children:"Print scene table (console)"}),(0,Ne.jsx)(je,{onClick:nM,children:"Print scene table n64split (console)"}),(0,Ne.jsx)(je,{onClick:tM,children:"Print scene table n64splat (console)"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("input",{type:"text",placeholder:"Directory",className:"dbInputShort",value:this.state.printStringDir,onChange:function(e){return n.setState({printStringDir:e.target.value})}}),(0,Ne.jsx)("input",{type:"text",placeholder:"Index",className:"dbInputShort",value:this.state.printStringIndex,onChange:function(e){return n.setState({printStringIndex:e.target.value})}}),(0,Ne.jsx)(je,{onClick:this.onPrintStringClick,children:"Print string (console)"}),(0,Ne.jsx)("input",{type:"checkbox",checked:this.state.printStringRaw,onChange:function(e){return n.setState({printStringRaw:e.target.checked})}})," ",(0,Ne.jsx)("label",{children:"Raw?"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("input",{type:"text",placeholder:"Search string",className:"dbInputShort",value:this.state.findStringValue,onChange:function(e){return n.setState({findStringValue:e.target.value})}}),(0,Ne.jsx)(je,{onClick:this.onFindStringClick,children:"Find string (console)"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("input",{type:"text",placeholder:"ROM Offset",className:"dbInputShort",value:this.state.romToRamNumber,onChange:function(e){return n.setState({romToRamNumber:e.target.value,romToRamResult:""})}}),(0,Ne.jsxs)(je,{onClick:this.onRomToRamClick,children:["ROM ","->"," RAM"]}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("span",{className:"selectable dbMonospace",children:this.state.romToRamResult}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("input",{type:"text",placeholder:"Directory",className:"dbInputShort",value:this.state.mainfsToRomDir,onChange:function(e){return n.setState({mainfsToRomDir:e.target.value,mainfsToRomResult:""})}}),(0,Ne.jsx)("input",{type:"text",placeholder:"Index",className:"dbInputShort",value:this.state.mainfsToRomIndex,onChange:function(e){return n.setState({mainfsToRomIndex:e.target.value,mainfsToRomResult:""})}}),(0,Ne.jsxs)(je,{onClick:this.onMainFSToRomClick,children:["MainFS ","->"," ROM"]}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("span",{className:"selectable dbMonospace",children:this.state.mainfsToRomResult}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("input",{type:"text",placeholder:"Scene number",className:"dbInputShort",value:this.state.sceneIndex,onChange:this.onSceneIndexChange}),(0,Ne.jsx)(je,{onClick:this.onPrintSceneAsmClick,children:"Print scene assembly (console)"}),(0,Ne.jsx)(je,{onClick:this.onOverlayDownloadClick,children:"Download"}),(0,Ne.jsx)(je,{onClick:this.onOverlayReplaceClick,children:"Replace"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)("table",{role:"presentation",children:(0,Ne.jsxs)("tbody",{children:[(0,Ne.jsx)(iM,{label:"RAM start:",value:this.state.sceneRamStartAddr,onChange:this.makeSceneValueSetter("sceneRamStartAddr")}),(0,Ne.jsx)(iM,{label:"code start:",value:this.state.sceneCodeStartAddr,onChange:this.makeSceneValueSetter("sceneCodeStartAddr")}),(0,Ne.jsx)(iM,{label:"code end:",value:this.state.sceneCodeEndAddr,onChange:this.makeSceneValueSetter("sceneCodeEndAddr")}),(0,Ne.jsx)(iM,{label:"rodata start:",value:this.state.sceneRodataStartAddr,onChange:this.makeSceneValueSetter("sceneRodataStartAddr")}),(0,Ne.jsx)(iM,{label:"rodata end:",value:this.state.sceneRodataEndAddr,onChange:this.makeSceneValueSetter("sceneRodataEndAddr")}),(0,Ne.jsx)(iM,{label:"bss start:",value:this.state.sceneBssStartAddr,onChange:this.makeSceneValueSetter("sceneBssStartAddr")}),(0,Ne.jsx)(iM,{label:"bss end:",value:this.state.sceneBssEndAddr,onChange:this.makeSceneValueSetter("sceneBssEndAddr")})]})})]})),(0,Ne.jsxs)("div",{id:"debugView",children:[(0,Ne.jsx)("h3",{children:"Debug Functionality"}),!t&&(0,Ne.jsx)("p",{children:"Load a ROM to access more functionality here."}),e]})}},{key:"findInMainFS",value:function(e){var n=rn.getROMOffset(),t=rn.getByteLength();if(e>n&&e<n+t)for(var r=n,a=rn.getDirectoryCount(),i=0;i<a;i++)for(var o=rn.getFileCount(i),s=0;s<o;s++){var l=rn.getCompressedSize(i,s);if((r+=l)>e){var u=e-(r-l),c="RAM: N/A\n";return c+="MainFS ".concat(i,"/").concat(s," (").concat(W(i),"/").concat(W(s),") offset +").concat(u," (+").concat(W(u),")")}}return""}},{key:"makeSceneValueSetter",value:function(n){var t=this;return function(r){var a=parseInt(r.target.value,16);isNaN(a)||t.setState(e({},n,W(a,"")))}}},{key:"clearSceneValues",value:function(){this.setState({sceneRamStartAddr:""}),this.setState({sceneCodeStartAddr:""}),this.setState({sceneCodeEndAddr:""}),this.setState({sceneRodataStartAddr:""}),this.setState({sceneRodataEndAddr:""}),this.setState({sceneBssStartAddr:""}),this.setState({sceneBssEndAddr:""})}}]),a}(Le.Component);function iM(e){return(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("td",{children:(0,Ne.jsx)("label",{children:e.label})}),(0,Ne.jsx)("td",{children:(0,Ne.jsx)("input",{type:"text",className:"dbInputShort",value:e.value,onChange:e.onChange})})]})}function oM(){rD(".zip",sM)}function sM(e){var n=e.target.files[0];if(n){var t=new FileReader;t.onload=function(e){var n;n=t.result,(new YL).loadAsync(n).then((function(e){e.folder("mainfs").forEach((function(e,n){var t=e.match(/(\d+)\/(\d+)/);if(t){var r=parseInt(t[1]),a=parseInt(t[2]);isNaN(r)||isNaN(a)||n.async("arraybuffer").then((function(e){H("Overwriting MainFS ".concat(r,"/").concat(a)),rn.write(r,a,e)}))}}))}),(function(e){H(e),dy("Something went wrong while loading the zip. ".concat(e))}))},t.readAsArrayBuffer(n)}}function lM(){cy(!0),function(e){for(var n=new YL,t=n.folder("mainfs"),r=rn.getDirectoryCount(),a=0;a<r;a++)for(var i=t.folder(a.toString()),o=rn.getFileCount(a),s=0;s<o;s++){var l=rn.get(a,s),u=s.toString();A_.isForm(l)?u+=".form":xF.isMtnx(l)&&(u+=".mtnx"),i.file(u,l)}n.generateAsync({type:"blob"}).then(e)}(uM)}function uM(e){(0,Py.saveAs)(e,"mp".concat(Ry.getGameVersion(),"-files.zip")),cy(!1)}function cM(e){return cM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cM(e)}function dM(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function AM(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fM(e,n,t){return n&&AM(e.prototype,n),t&&AM(e,t),e}["setUint8","setInt8","setUint16","setInt16","setUint32","setInt32","setFloat32","setFloat64"].forEach((function(e){var n=DataView.prototype[e];DataView.prototype[e]=function(t,r){if("number"!==typeof t)throw new Error("Invalid offset in ".concat(e));if("number"!==typeof r)throw new Error("Invalid value in ".concat(e));n.apply(this,arguments)}}));for(var hM={VERSION:"2.0.16",NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},pM=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],mM=0,SM=function(e){pM.forEach((function(n){n.forEach((function(n){return hM.NOTES[mM]=n+e})),mM++}))},gM=-1;gM<=9;gM++)SM(gM);var vM=function(){function e(){dM(this,e)}return fM(e,null,[{key:"byteToHex",value:function(e){return("0"+e.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(n){var t=[];return n.forEach((function(n){return t.push(e.byteToHex(n))})),t.join("")}},{key:"hexToNumber",value:function(e){return parseInt(e,16)}},{key:"bytesToNumber",value:function(n){return e.hexToNumber(e.bytesToHex(n))}},{key:"bytesToLetters",value:function(e){var n=[];return e.forEach((function(e){return n.push(String.fromCharCode(e))})),n.join("")}},{key:"decToBinary",value:function(e){return(e>>>0).toString(2)}},{key:"getVarIntLength",value:function(e){for(var n=e[0],t=1;n>=128;)n=e[t],t++;return t}},{key:"readVarInt",value:function(e){var n=0;return e.forEach((function(e){128&e?(n+=127&e,n<<=7):n+=e})),n}},{key:"atob",value:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return"function"===typeof atob?atob(e):Buffer.from(e,"base64").toString("binary")}))}]),e}(),xM=function(){function e(n,t){dM(this,e),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=n,this.data=t,this.delta=0,this.runningDelta=0,this.events=[];var r=this.data.subarray(this.data.length-3,this.data.length);if(255!==r[0]||47!==r[1]||0!==r[2])throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return fM(e,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(e){for(var n in e=e||0,this.events)if(this.events[n].tick>=e)return this.eventIndex=n,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return vM.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return vM.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(e,n){if(n=n||!1){var t=e-this.lastTick>=this.getDelta();if(this.pointer<this.data.length&&(n||t)){var r=this.parseEvent();if(this.enabled)return r}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=e&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(e){var n=vM.getVarIntLength(this.data.subarray(e+2)),t=vM.readVarInt(this.data.subarray(e+2,e+2+n));return vM.bytesToLetters(this.data.subarray(e+2+n,e+2+n+t))}},{key:"parseEvent",value:function(){var e=this.pointer+this.getDeltaByteCount(),n={},t=this.getDeltaByteCount();if(n.track=this.index+1,n.delta=this.getDelta(),this.lastTick=this.lastTick+n.delta,this.runningDelta+=n.delta,n.tick=this.runningDelta,n.byteIndex=this.pointer,255==this.data[e]){switch(this.data[e+1]){case 0:n.name="Sequence Number";break;case 1:n.name="Text Event",n.string=this.getStringData(e);break;case 2:n.name="Copyright Notice";break;case 3:n.name="Sequence/Track Name",n.string=this.getStringData(e);break;case 4:n.name="Instrument Name",n.string=this.getStringData(e);break;case 5:n.name="Lyric",n.string=this.getStringData(e);break;case 6:n.name="Marker";break;case 7:n.name="Cue Point",n.string=this.getStringData(e);break;case 9:n.name="Device Name",n.string=this.getStringData(e);break;case 32:n.name="MIDI Channel Prefix";break;case 33:n.name="MIDI Port",n.data=vM.bytesToNumber([this.data[e+3]]);break;case 47:n.name="End of Track";break;case 81:n.name="Set Tempo",n.data=Math.round(6e7/vM.bytesToNumber(this.data.subarray(e+3,e+6))),this.tempo=n.data;break;case 84:n.name="SMTPE Offset";break;case 88:n.name="Time Signature",n.data=this.data.subarray(e+3,e+7),n.timeSignature=n.data[0]+"/"+Math.pow(2,n.data[1]);break;case 89:n.name="Key Signature",n.data=this.data.subarray(e+3,e+5),n.data[0]>=0?n.keySignature=hM.CIRCLE_OF_FIFTHS[n.data[0]]:n.data[0]<0&&(n.keySignature=hM.CIRCLE_OF_FOURTHS[Math.abs(n.data[0])]),0==n.data[1]?n.keySignature+=" Major":1==n.data[1]&&(n.keySignature+=" Minor");break;case 127:n.name="Sequencer-Specific Meta-event";break;default:n.name="Unknown: "+this.data[e+1].toString(16)}var r=vM.getVarIntLength(this.data.subarray(e+2)),a=vM.readVarInt(this.data.subarray(e+2,e+2+r));this.pointer+=t+3+a}else if(240===this.data[e]){n.name="Sysex";var i=vM.getVarIntLength(this.data.subarray(e+1)),o=vM.readVarInt(this.data.subarray(e+1,e+1+i));n.data=this.data.subarray(e+1+i,e+1+i+o),this.pointer+=t+1+i+o}else if(247===this.data[e]){n.name="Sysex (escape)";var s=vM.getVarIntLength(this.data.subarray(e+1)),l=vM.readVarInt(this.data.subarray(e+1,e+1+s));n.data=this.data.subarray(e+1+s,e+1+s+l),this.pointer+=t+1+s+l}else if(this.data[e]<128)if(n.running=!0,n.noteNumber=this.data[e],n.noteName=hM.NOTES[this.data[e]],n.velocity=this.data[e+1],this.lastStatus<=143)n.name="Note off",n.channel=this.lastStatus-128+1,this.pointer+=t+2;else if(this.lastStatus<=159)n.name="Note on",n.channel=this.lastStatus-144+1,this.pointer+=t+2;else if(this.lastStatus<=175)n.name="Polyphonic Key Pressure",n.channel=this.lastStatus-160+1,n.note=hM.NOTES[this.data[e+1]],n.pressure=event[1],this.pointer+=t+2;else if(this.lastStatus<=191)n.name="Controller Change",n.channel=this.lastStatus-176+1,n.number=this.data[e+1],n.value=this.data[e+2],this.pointer+=t+2;else if(this.lastStatus<=207)n.name="Program Change",n.channel=this.lastStatus-192+1,n.value=this.data[e+1],this.pointer+=t+1;else if(this.lastStatus<=223)n.name="Channel Key Pressure",n.channel=this.lastStatus-208+1,this.pointer+=t+1;else{if(!(this.lastStatus<=239))throw"Unknown event (running): ".concat(this.lastStatus);n.name="Pitch Bend",n.channel=this.lastStatus-224+1,n.value=this.data[e+2],this.pointer+=t+2}else if(this.lastStatus=this.data[e],this.data[e]<=143)n.name="Note off",n.channel=this.lastStatus-128+1,n.noteNumber=this.data[e+1],n.noteName=hM.NOTES[this.data[e+1]],n.velocity=Math.round(this.data[e+2]/127*100),this.pointer+=t+3;else if(this.data[e]<=159)n.name="Note on",n.channel=this.lastStatus-144+1,n.noteNumber=this.data[e+1],n.noteName=hM.NOTES[this.data[e+1]],n.velocity=Math.round(this.data[e+2]/127*100),this.pointer+=t+3;else if(this.data[e]<=175)n.name="Polyphonic Key Pressure",n.channel=this.lastStatus-160+1,n.note=hM.NOTES[this.data[e+1]],n.pressure=event[2],this.pointer+=t+3;else if(this.data[e]<=191)n.name="Controller Change",n.channel=this.lastStatus-176+1,n.number=this.data[e+1],n.value=this.data[e+2],this.pointer+=t+3;else if(this.data[e]<=207)n.name="Program Change",n.channel=this.lastStatus-192+1,n.value=this.data[e+1],this.pointer+=t+2;else if(this.data[e]<=223)n.name="Channel Key Pressure",n.channel=this.lastStatus-208+1,this.pointer+=t+2;else{if(!(this.data[e]<=239))throw"Unknown event: ".concat(this.data[e]);n.name="Pitch Bend",n.channel=this.lastStatus-224+1,this.pointer+=t+3}return this.delta+=n.delta,this.events.push(n),n}},{key:"endOfTrack",value:function(){return 255==this.data[this.pointer+1]&&47==this.data[this.pointer+2]&&0==this.data[this.pointer+3]}}]),e}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var _M=function(){function e(n,t){dM(this,e),this.sampleRate=5,this.startTime=0,this.buffer=t||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},"function"===typeof n&&this.on("midiEvent",n)}return fM(e,[{key:"loadFile",value:function(e){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(e){return this.buffer=new Uint8Array(e),this.fileLoaded()}},{key:"loadDataUri",value:function(e){for(var n=vM.atob(e.split(",")[1]),t=new Uint8Array(n.length),r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return this.buffer=t,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return"MThd"===vM.bytesToLetters(this.buffer.subarray(0,4))}},{key:"getFormat",value:function(){return this.format=vM.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var e=0;e<this.buffer.length;){if("MTrk"==vM.bytesToLetters(this.buffer.subarray(e,e+4))){var n=vM.bytesToNumber(this.buffer.subarray(e+4,e+8));this.tracks.push(new xM(this.tracks.length,this.buffer.subarray(e+8,e+8+n)))}e+=vM.bytesToNumber(this.buffer.subarray(e+4,e+8))+8}var t=0;return this.tracks.forEach((function(e){t+=8+e.data.length})),this.midiChunksByteLength=hM.HEADER_CHUNK_LENGTH+t,this}},{key:"enableTrack",value:function(e){return this.tracks[e-1].enable(),this}},{key:"disableTrack",value:function(e){return this.tracks[e-1].disable(),this}},{key:"getDivision",value:function(){return this.division=vM.bytesToNumber(this.buffer.subarray(12,hM.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(e){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach((function(n,t){if(!e&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var r=n.handleEvent(this.tick,e);e&&r?(r.hasOwnProperty("name")&&"Set Tempo"===r.name&&(this.defaultTempo=r.data,this.setTempo(r.data)),r.hasOwnProperty("name")&&"Program Change"===r.name&&(this.instruments.includes(r.value)||this.instruments.push(r.value))):r&&(r.hasOwnProperty("name")&&"Set Tempo"===r.name&&(this.setTempo(r.data),this.isPlaying()&&this.pause().play()),this.emitEvent(r))}}),this),e||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(e){return this.tempo=e,this}},{key:"setStartTime",value:function(e){return this.startTime=e,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=(new Date).getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout(function(){this.playLoop(),this.loop()}.bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(e){return this.stop(),this.startTick=e,this.tracks.forEach((function(n){n.setEventIndexByTick(e)})),this}},{key:"skipToPercent",value:function(e){if(e<0||e>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(e/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(e){var n=this.getSongTime();if(e<0||e>n)throw e+" seconds not within song time of "+n;return this.skipToPercent(e/n*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||"object"===cM(this.setIntervalId)}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach((function(e){return e.reset()})),this}},{key:"getEvents",value:function(){return this.tracks.map((function(e){return e.events}))}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map((function(e){return e.delta})))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce((function(e,n){return{events:{length:e.events.length+n.events.length}}}),{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return hM.HEADER_CHUNK_LENGTH+8*this.tracks.length+this.tracks.reduce((function(e,n){return{pointer:e.pointer+n.pointer}}),{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce((function(e,n){return{eventIndex:e.eventIndex+n.eventIndex}}),{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round(((new Date).getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(e){return this.triggerPlayerEvent("midiEvent",e),this}},{key:"on",value:function(e,n){return this.eventListeners.hasOwnProperty(e)||(this.eventListeners[e]=[]),this.eventListeners[e].push(n),this}},{key:"triggerPlayerEvent",value:function(e,n){return this.eventListeners.hasOwnProperty(e)&&this.eventListeners[e].forEach((function(e){return e(n||{})})),this}}]),e}(),yM={Player:_M,Utils:vM,Constants:hM},wM=new Int16Array([0,1,2,3,4,5,6,7,-8,-7,-6,-5,-4,-3,-2,-1]);function bM(e,n,t,r,a,i,o,s){for(var l=new Int16Array(8),u=0,c=new DataView(t,r),d=o+8,A=0;A<8;A++)1&A?(l[A]=wM[15&e.getUint8(n)]<<a,n++):l[A]=wM[e.getUint8(n)>>4&15]<<a,l[A]=CM(a+4,l[A]);for(var f=0;f<8;f++){if(u=i[o+f]*s[6],u+=i[d+f]*s[7],f>0)for(var h=f-1;h>-1;h--)u+=l[f-1-h]*i[d+h];var p=0,m=(l[f]<<11)+u>>11;p=m>32767?32767:m<-32768?-32768:m,c.setInt16(2*f,p,!0)}for(var S=0;S<8;S++)s[S]=c.getInt16(2*S,!0)}function VM(e,n,t,r,a,i,o,s){var l=new Int16Array(8),u=0,c=new DataView(t,r),d=o+8;l[0]=((192&e.getUint8(n))>>6&3)<<a,l[0]=CM(a+2,l[0]),l[1]=((48&e.getUint8(n))>>4&3)<<a,l[1]=CM(a+2,l[1]),l[2]=((12&e.getUint8(n))>>2&3)<<a,l[2]=CM(a+2,l[2]),l[3]=(3&e.getUint8(n))<<a,n++,l[3]=CM(a+2,l[3]),l[4]=((192&e.getUint8(n))>>6&3)<<a,l[4]=CM(a+2,l[4]),l[5]=((48&e.getUint8(n))>>4&3)<<a,l[5]=CM(a+2,l[5]),l[6]=((12&e.getUint8(n))>>2&3)<<a,l[6]=CM(a+2,l[6]),l[7]=(3&e.getUint8(n))<<a,n++,l[7]=CM(a+2,l[7]);for(var A=0;A<8;A++){if(u=i[o+A]*s[6],u+=i[d+A]*s[7],A>0)for(var f=A-1;f>-1;f--)u+=l[A-1-f]*i[d+f];var h=0,p=(l[A]<<11)+u>>11;h=p>32767?32767:p<-32768?-32768:p,c.setInt16(2*A,h,!0)}for(var m=0;m<8;m++)s[m]=c.getInt16(2*m,!0)}function CM(e,n){var t=1<<e-1;return((n&=(1<<e)-1)^t)-t}var EM;function DM(e,n,t,r){if(t>=n.instruments.length||!n.instruments.length)throw new Error("Invalid bank instrument index"+t);var a=n.instruments[t];if(r>=a.sounds.length||!a.sounds.length)throw new Error("Invalid sound instrument index"+r);return FM(e,a.sounds[r],n.sampleRate)}function FM(e,n,t){var r=n.wave,a=new DataView(e,r.waveBase);if(r.type===rt.AL_RAW16_WAVE){var i=r.waveLen-2+44+68,o=new ArrayBuffer(i),s=new DataView(o);s.setUint32(0,1380533830);var l=i-8;s.setUint32(4,l,!0),s.setUint32(8,1463899717),s.setUint32(12,1718449184),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,1,!0),s.setUint32(24,t,!0),s.setUint32(28,2*t,!0),s.setUint16(32,2,!0),s.setUint16(34,16,!0),s.setUint32(36,1684108385);var u=r.waveLen-2;s.setUint32(40,u,!0);for(var c=44,d=0;d<u;d++,c++)s.setUint8(c,a.getUint8(d+1));s.setUint32(c,1936552044),c+=4,s.setUint32(c,60,!0),c+=4,s.setUint32(c,0),c+=4,s.setUint32(c,0),c+=4,s.setUint32(c,0),c+=4;var A=60;return n.keymap&&0!==n.keymap.keyBase&&(A=n.keymap.keyBase),s.setUint32(c,A,!0),c+=4,null!==r.rawWave.loop&&(s.setUint32(c,0),c+=4,s.setUint32(c,0),c+=4,s.setUint32(c,0),c+=4,s.setUint32(c,1,!0),c+=4,s.setUint32(c,0),c+=4,r.rawWave.loop.count>0&&(s.setUint32(c,0),c+=4,s.setUint32(c,0),c+=4,s.setUint32(c,r.rawWave.loop.start,!0),c+=4,s.setUint32(c,r.rawWave.loop.end,!0),c+=4,s.setUint32(c,0),c+=4,4294967295===r.rawWave.loop.count?s.setUint32(c,0):s.setUint32(c,r.rawWave.loop.count,!0),c+=4)),o}if(r.type===rt.AL_ADPCM_WAVE){var f=r.adpcmWave;if(!f||!f.book)throw new Error("Cannot decode AL_ADPCM_WAVE without book");var h=new ArrayBuffer(4*r.waveLen*2),p=function(e,n,t,r,a){for(var i,o,s=new Int16Array(8),l=0,u=0,c=0,d=new Int16Array(16*r.npredictors),A=0;A<8*r.order*r.npredictors;A++)d[A]=r.predictors[A];if(a)for(var f=5*Math.floor(t/5);f>0;){i=e.getUint8(l)>>4&15,o=15&e.getUint8(l),f--;var h=16*(o%=r.npredictors);VM(e,++l,n,u,i,d,h,s),f-=2,VM(e,l+=2,n,u+=16,i,d,h,s),l+=2,f-=2,u+=16,c+=16}else for(var p=9*Math.floor(t/9);p>0;){i=e.getUint8(l)>>4&15,o=15&e.getUint8(l),p--;var m=16*(o%=r.npredictors);bM(e,++l,n,u,i,d,m,s),p-=4,bM(e,l+=4,n,u+=16,i,d,m,s),l+=4,p-=4,u+=16,c+=16}return c}(a,h,r.waveLen,f.book,48===(48&r.flags)),m=44+2*p+68,S=new ArrayBuffer(m),g=new DataView(S);g.setUint32(0,1380533830);var v=m-8;g.setUint32(4,v,!0),g.setUint32(8,1463899717),g.setUint32(12,1718449184),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,1,!0),g.setUint32(24,t,!0),g.setUint32(28,2*t,!0),g.setUint16(32,2,!0),g.setUint16(34,16,!0),g.setUint32(36,1684108385);var x=2*p;g.setUint32(40,x,!0);for(var _=new DataView(h),y=44,w=0;w<2*p;w++,y++)g.setUint8(y,_.getUint8(w));g.setUint32(y,1936552044),y+=4,g.setUint32(y,60,!0),y+=4,g.setUint32(y,0),y+=4,g.setUint32(y,0),y+=4,g.setUint32(y,0),y+=4;var b=60;return n.keymap&&0!==n.keymap.keyBase&&(b=n.keymap.keyBase),g.setUint32(y,b,!0),y+=4,null!==f.loop&&(g.setUint32(y,0),y+=4,g.setUint32(y,0),y+=4,g.setUint32(y,0),y+=4,g.setUint32(y,1,!0),y+=4,g.setUint32(y,0),y+=4,f.loop.count>0&&(g.setUint32(y,0),y+=4,g.setUint32(y,0),y+=4,g.setUint32(y,f.loop.start,!0),y+=4,g.setUint32(y,f.loop.end,!0),y+=4,g.setUint32(y,0),y+=4,4294967295===f.loop.count?g.setUint32(y,0):g.setUint32(y,f.loop.count,!0),y+=4)),S}throw new Error("Unsupported wave type ".concat(r.type))}var TM=!1;function PM(){return EM||(EM=new AudioContext),EM}function RM(){return TM}function LM(e){TM=e}var MM=function(){function e(n){var t=this;r(this,e),this._player=void 0,this._onFinishedCallbacks=void 0,this._player=n,this._onFinishedCallbacks=[],this._player.on("endOfFile",(function(){t._onFinishedCallbacks.forEach((function(e){return e()}))}))}return i(e,[{key:"stop",value:function(){this._player&&(this._player.stop(),LM(!1),this._onFinishedCallbacks.forEach((function(e){return e()})))}},{key:"addOnFinished",value:function(e){this._onFinishedCallbacks.push(e)}}]),e}();function BM(e,n){if(RM())throw new Error("Should not play more than one audio source at once.");var t=PM(),r=Ft.getSequenceTable(e);console.log(r);var a=r.midis[n].buffer,i=r_(new DataView(a),a.byteLength);H(i);for(var o=[],s=[],l=r.midis[n].soundbankIndex,u=r.soundbanks.banks[l],c=0;c<u.instruments.length;c++){s[c]=[];for(var d=u.instruments[c],A=function(e){var n=d.sounds[e],a=DM(r.tbl,u,c,e),i=s[c];i.push(null);var l=i.length-1,A=d.volume,f=t.decodeAudioData(a).then((function(e){i[l]={audioBuffer:e,keymap:n.keymap,instrumentVolume:A,soundVolume:n.sampleVolume}}));o.push(f)},f=0;f<d.sounds.length;f++)A(f)}for(var h=[],p=[],m=0;m<u.instruments.length;m++)p.push(m);for(var S=[],g=[],v=[],x=0;x<=16;x++)v.push(127);function _(e){var n=e.track,t=e.channel||S[n],r=g[t];if(s[r]){h[t]||(h[t]={}),h[t][n]||(h[t][n]={});var a=function(e,n){var t,r=L(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(n>=a.keymap.keyMin&&n<=a.keymap.keyMax)return a}}catch(i){r.e(i)}finally{r.f()}return null}(s[r],e.noteNumber);if(a){var i=h[t][n][e.noteNumber];if(e.velocity){i&&console.warn("There was a previous node playing for ".concat(t," note number ").concat(e.noteNumber));var o=function(e,n,t,r){var a=PM(),i=a.createBufferSource();if(i.buffer=e.audioBuffer,i.detune.value=e.keymap.detune,n!==e.keymap.keyBase){var o=100*(n-e.keymap.keyBase);i.detune.value+=o}var s=a.createGain();return s.gain.value=e.instrumentVolume/kM,s.gain.value*=e.soundVolume/kM,s.gain.value*=r/kM,s.gain.value*=t/kM,s.connect(a.destination),i.connect(s),i}(a,e.noteNumber,e.velocity,v[t]);o.start(0),h[t][n][e.noteNumber]=o}else i?i.stop():console.warn("There wasn't a node to stop playing for channel ".concat(t," track ").concat(n," note number ").concat(e.noteNumber)),h[t][n][e.noteNumber]=null}else console.warn("No note for channel ".concat(t," instrument ").concat(r," note number ").concat(e.noteNumber))}else console.warn("Instrument ".concat(r," is unrecongized"))}var y=new yM.Player((function(e){H(e),function(e,n){var t=n.track,r=n.channel;"channel"in n&&"track"in n&&(S[t]=r),"Program Change"===e?g[n.channel]=n.value:"Controller Change"===e?7===n.number?"value"in n&&(v[r]=n.value):H("Unrecongized controller change event",n):"Note on"===e?_(n):n.running?"track"in n&&"noteNumber"in n&&"velocity"in n&&_(n):"End of Track"===e||H("Ignored event",n)}(e.name,e)}));return y.on("endOfFile",(function(){LM(!1)})),y.loadArrayBuffer(i),Promise.all(o).then((function(){H(s),y.play()})),new MM(y)}var kM=127;var IM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEDBCArhrzjSQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAA3klEQVQ4y9WSPWpCURSEv5GHpLFKaxPEUkhtmSaNYrAVwS1YuIS0LiHapBbFFbgBwUayg0C2kOfYXOF69T0kTfBUhzPDnJ858N+hIsD2EBgBObAHxpIOKS8rEW8ALyGvFTWrlAj8RvlBUn6NlCVjV4H30K0dQU+2p6G+kLShZPe+i2N+cUTbfeAR+Dop2+4Cq4S7ltQNeB3oADm2d0F9lkwyiDovbVci7PUEZMEmgDOLJH3afgDeJPXSTW9xAeAD6JURYhdatifX/LadlprxEbfA819fOQN+gO94r/uKI0KFfwl0bVcYAAAAAElFTkSuQmCC",OM=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this,e)).onPlayMidi=function(e,n){var t=BM(e,n);t.addOnFinished((function(){a.setState({playbackController:null,playing:!1})})),a.setState({playbackController:t,playingType:"midi",playing:[e,n]})},a.onPlaySound=function(e,n){var t=function(e,n){if(RM())throw new Error("Should not play more than one audio source at once.");var t,r,a=PM(),i=Ft.getSoundTable(e),o=i.sounds[n],s=FM(i.tbl,o,o.sampleRate);return a.decodeAudioData(s).then((function(e){(r=a.createBufferSource()).buffer=e,r.connect(a.destination),r.start(0),r.onended=function(){LM(!1),t&&t()}})),new MM({stop:function(){r&&(r.stop(),LM(!1))},on:function(e,n){if("endOfFile"!==e)throw new Error("Unexpected AudioPlayerController event "+e);t=n}})}(e,n);t.addOnFinished((function(){a.setState({playbackController:null,playing:!1})})),a.setState({playbackController:t,playingType:"sound",playing:[e,n]})},a.onStop=function(e,n){a.state.playbackController&&a.state.playbackController.stop()},a.state={playingType:"none",hasError:!1,playing:!1},a}return i(t,[{key:"render",value:function(){var e=this;if(this.state.hasError)return(0,Ne.jsx)("p",{children:"An error was encountered."});for(var n=I_(Ry.getGameVersion()),t=Ze(Oe.uiAdvanced),r=[],a=Ft.getSequenceTableCount(),i=function(a){var i=a,o=n.getAudioMap(i);a>0&&r.push((0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{colSpan:2,children:(0,Ne.jsx)("hr",{})})},a+"hr"));for(var s=Ft.getSequenceTable(a),l=function(n){var l=n,u=!1,c=!1;e.state.playing&&(c=!(u=a===e.state.playing[0]&&n===e.state.playing[1]&&"midi"===e.state.playingType));var d=void 0,A=o[l],f="".concat(l,", 0x").concat(l.toString(16).toUpperCase());d=A?(0,Ne.jsxs)("span",{title:f,children:[A,t&&(0,Ne.jsx)("span",{className:"audioIndexBesideName",children:" (".concat(f,")")})]}):(0,Ne.jsx)("span",{title:f,children:f}),r.push((0,Ne.jsx)(jM,{table:i,index:l,isPlaying:u,cannotPlay:c,trackName:d,onPlay:e.onPlayMidi,onStop:e.onStop,expandContent:(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(je,{onClick:function(){return function(e,n,t){t=t||"music";var r=Ft.getSequenceTable(e).midis[n].buffer,a=r_(new DataView(r),r.byteLength);(0,Py.saveAs)(new Blob([a]),"".concat(t,".mid"))}(i,l,A||"Unknown")},css:"btnAudioExport",children:[(0,Ne.jsx)("img",{src:IM,height:"16",width:"16",alt:"Export midi"}),"Download midi"]}),(0,Ne.jsxs)(je,{onClick:function(){return function(e,n){var t=Ft.getSequenceTable(e);rD("audio/midi",(function(e){var r=e.target.files[0];if(r){var a=new FileReader;a.onload=function(e){X(a.result instanceof ArrayBuffer);var r=a_(a.result,{loop:!0});r?t.midis[n].buffer=r:dy("Could not process midi for insertion into the game")},a.readAsArrayBuffer(r)}}))}(i,l)},css:"btnAudioExport",children:[(0,Ne.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADdnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7VddkvMoDHznFHsEJAESx8EGqr4b7PG3wcSTzGR+MsnLbq0pAxay1KglnLj295/u/sLFXtmFqJZySh5XyCFzwcT8cZXZkw+zXw/+MrmRu3OBIRKMcjxaWvIGOUOfl3xfdgrk8cpQbmthu10oyxDbcnDxuBwJHQ58XYbKMiS8PIfjeVueUza93kK97MCWxI7bjS6IcoqJNKAPCJ2mjLmxD4q41QFUdPo/Hb1/dhdVBiZuQuLRsyyUctwFt6FnydAjSXPO6KPQjK93oAwQYDmv2DZ/RvMmNicr9y/3k22tdLih+5ytNHAfFt6lQWpLLu/YS+c45e79AsX7dE9OrxBpOB3zDaJcTx/+mtZx916t93bsroSELae1qctOyI0ZFLeRBPO1hKa4I+Y6W0YzlMsOqqvf/Ya2UyYGxZ0CVSrUHbU52WkHxsCNFSPzzjJlBi4y7zJID6NRZ5UsFenAsiNVBFLu3S0sNP3m6W8ng+dKUGWCMZo5801zP1H6qvU+aonIrZqhg2AeaQ8Yg7nRQw2MUF9BjTPAl3abkItYAYVxhtmwweK3w8QW6S23ZBIt0IsYjxojrcf7w1CA7wgwJKDAJ5JIiXDosRIhkAaCCnljCbyBAYqRK0ByEEngBkUA1w7vKE1djnzIcUqCiYjSVHCTpYCsECLyR4Mhh0qUGGKMKWq0mGNJkoJDhaWkaRy3RUWDRk2qapq1mFiwaMnUzLKVzFlwGseMcsyWcy4FPgssl+QK9AskG2+yhS1uadPNtryVHemzhz3uadfd9ryXylUq6rimqtVqrqVRQyq10KJrqWmzllvpyLUuPfTYU9duPfdysrZY/dAeYI0WazyZGnp6sgap6jG6mS8wMjgDYxwIjOtgAAnNgzNvFAIP5gZnPjOqIjJAxsFNJV8ocXASGnHsdHL3xtxDvLkUvuSNf8qcG9Q9ydzkzbV4xdsd1ur4bO+TsaMKR0y9oPqw3qywlfEVLe4yeXb8zxvq23Xcvhy73V9yL8AzYbjncLyN7nf+Py6553C8je4xv5+P7hXx+TyPHsaDE/IXOO66cZ++9iAq9xozM9iPbuKTGL0CzQDjXoFmgHGvQPP9eXTH7E+OkV+g+ZBHzx+R/xv6vrTdKz5F/1ZDHb9I8DfV/QMvV9lEzGDW3wAAAYVpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAGIbfpkqLVBysIEUhQ3WyICriqFUoQoVQK7TqYHLpHzRpSFJcHAXXgoM/i1UHF2ddHVwFQfAHxMnRSdFFSvwuLbSI8Y7jHt773pe77wChXmaa1TUOaLptphJxMZNdFQOvCGIYAzQjMrOMOUlKwnN83cPH97sYz/Ku+3P0qjmLAT6ReJYZpk28QTy9aRuc94nDrCirxOfEYyZdkPiR60qT3zgXXBZ4ZthMp+aJw8RioYOVDmZFUyOeIo6qmk75QqbJKuctzlq5ylr35C8M5fSVZa7TGkICi1iCBBEKqiihDBsx2nVSLKToPO7hj7h+iVwKuUpg5FhABRpk1w/+B797a+UnJ5pJoTjQ/eI4HyNAYBdo1Bzn+9hxGieA/xm40tv+Sh2Y+SS91taiR0DfNnBx3daUPeByBxh8MmRTdiU/LSGfB97P6JuyQP8t0LPW7FvrHKcPQJp6lbwBDg6B0QJlr3u8O9jZt39rWv37AXDQcqbpNk7/AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AgdFRY09MMXTgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAADXSURBVDjL1ZKxTkJBEEXP6Is/YEtrSUJrTGhppKGl9BvsLEiojZ+gCfwAobewkNLEhlhYa0JhTwLHwkdcVl8CVHCr2bl7J/fOLuw11Ct1vKu46y9G6tE24rZ/Md5EeKJ2rMZDrlmzFRFz4By4BSYJ9QHcAV9qc02jdoBT4C0inhI3N0C/PD5HxEXC1YBLYIH6Wtq7z+L0EusT9TjhWiuiABZlf5nFewceS34KmM5fFUXVQiNioA5/ylhW3UsH1NVrIP55nbx1li7xBWjs+lsLYAZ8ZhkPCN+5f6uMOhIG0AAAAABJRU5ErkJggg==",height:"16",width:"16",alt:"Import midi"}),"Replace midi"]}),(0,Ne.jsx)("label",{className:"audioTableExpandedLabel",children:"Soundbank index: "}),s.midis[n].soundbankIndex,(0,Ne.jsx)("img",{src:OD,className:"audioTableSmallEditIcon",title:"Change soundbank index",alt:"Change soundbank index",onClick:O(k().mark((function n(){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,UM(i,l);case 2:if(!n.sent){n.next=4;break}e.forceUpdate();case 4:case"end":return n.stop()}}),n)})))})]})})},i+"-"+l))},u=0;u<s.midis.length;u++)l(u)},o=0;o<a;o++)i(o);for(var s=[],l=Ft.getSoundTableCount(),u=function(r){r>0&&s.push((0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{colSpan:2,children:(0,Ne.jsx)("hr",{})})},r+"-s-hr"));for(var a=Ft.getSoundTable(r),i=n.getSoundEffectMap(r),o=function(n){var a=!1,o=!1;e.state.playing&&(o=!(a=r===e.state.playing[0]&&n===e.state.playing[1]&&"sound"===e.state.playingType));var l=void 0,u=i[n],c="".concat(n,", 0x").concat(n.toString(16).toUpperCase());l=u?(0,Ne.jsxs)("span",{title:c,children:[u,t&&(0,Ne.jsx)("span",{className:"audioIndexBesideName",children:" (".concat(c,")")})]}):(0,Ne.jsx)("span",{title:c,children:c});var d=u||"".concat(n);s.push((0,Ne.jsx)(jM,{table:r,index:n,isPlaying:a,cannotPlay:o,trackName:l,onPlay:e.onPlaySound,onStop:e.onStop,expandContent:(0,Ne.jsxs)(je,{onClick:function(){return function(e,n,t){t=t||"sound";var r=Ft.getSoundTable(e),a=r.sounds[n],i=FM(r.tbl,a,a.sampleRate);(0,Py.saveAs)(new Blob([i]),"".concat(t,".wav"))}(r,n,d)},css:"btnAudioExport",children:[(0,Ne.jsx)("img",{src:IM,height:"16",width:"16",alt:"Export"}),"Download .wav"]})},r+"-s-"+n))},l=0;l<a.sounds.length;l++)o(l)},c=0;c<l;c++)u(c);return(0,Ne.jsxs)("div",{className:"audioViewContainer",children:[(0,Ne.jsx)("h2",{children:"Audio"}),(0,Ne.jsx)("p",{children:"This is an experimental audio player."}),(0,Ne.jsx)("h3",{children:"Sound Tracks"}),(0,Ne.jsx)(NM,{listing:r}),(0,Ne.jsx)("h3",{children:"Sound Effects"}),(0,Ne.jsx)(NM,{listing:s})]})}},{key:"componentWillUnmount",value:function(){this.state.playbackController&&this.state.playbackController.stop()}},{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0}),console.error(e)}}]),t}(Le.Component);function NM(e){return(0,Ne.jsxs)("table",{className:"audioViewTable",children:[Array.isArray(e.listing)?(0,Ne.jsx)("thead",{children:(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{className:"audioViewTableIconColumn"}),(0,Ne.jsx)("th",{}),(0,Ne.jsx)("th",{className:"audioViewTableIconColumn"})]})}):null,(0,Ne.jsx)("tbody",{children:e.listing})]})}function jM(e){var n=(0,Le.useState)(!1),t=(0,xe.Z)(n,2),r=t[0],a=t[1],i=(0,Ne.jsx)("td",{});if(e.isPlaying)i=(0,Ne.jsx)("td",{children:(0,Ne.jsx)("img",{src:"data:image/png;base64,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",alt:"Stop audio",title:"Stop audio",onClick:function(){return e.onStop(e.table,e.index)}})});else{var o=e.cannotPlay?"audioRowIconNoAction":"";i=(0,Ne.jsx)("td",{children:(0,Ne.jsx)("img",{src:"data:image/png;base64,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",alt:"Play ".concat(e.trackName),title:"Play ".concat(e.trackName),className:o,onClick:function(){e.cannotPlay||e.onPlay(e.table,e.index)}})})}var s,l=1+(i?1:0)+(e.expandContent?1:0);r&&e.expandContent&&(s=(0,Ne.jsx)("tr",{children:(0,Ne.jsx)("td",{colSpan:l,className:"audioTableExpandedContent",children:e.expandContent})}));var u="audioTableRow";return r&&(u+=" audioTableRowExpanded"),(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)("tr",{className:u,children:[e.expandContent&&(0,Ne.jsx)("td",{children:(0,Ne.jsx)("img",{src:r?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bxSIVByuIqGSoThZERTpqFYpQIdQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxcnRSdJES/5cUWsR4cNyPd/ced+8Af73MVLNjAlA1y0gl4kImuyp0vSKIYfRjBDGJmfqcKCbhOb7u4ePrXZRneZ/7c/QoOZMBPoF4lumGRbxBPLNp6Zz3icOsKCnE58TjBl2Q+JHrsstvnAsO+3lm2Ein5onDxEKhjeU2ZkVDJZ4mjiiqRvn+jMsK5y3OarnKmvfkLwzltJVlrtMcQgKLWIIIATKqKKEMC1FaNVJMpGg/7uEfdPwiuWRylcDIsYAKVEiOH/wPfndr5qcm3aRQHOh8se2PUaBrF2jUbPv72LYbJ0DgGbjSWv5KHYh9kl5raZEjoHcbuLhuafIecLkDDDzpkiE5UoCmP58H3s/om7JA3y3Qveb21tzH6QOQpq6SN8DBITBWoOx1j3cH23v790yzvx/R7XLN420FDQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+QIHRY3HTioJJgAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAABDklEQVQ4y53TQUqcQRDF8V93vgSTLIIIAV3qIniHIB4gl/E2OYg7McgEcgURwUUg2cSFi3ySUceXhSUMQjLO/KHoLqh+dFW/bpBkF5+xgxsEDWseuKn8uuIXDjAOdRg61vHG/3kUgbctyTFeYRtnmCwQ2MMHXGAqyWmSMcmXJPsLDkuyX7VjkvOOS7zGpLV2skigaiY1n1nHiJnlucN1x6bVGPC+Ywsv5no8zL85fKrS8afeeJUWLgdMnwzp0xItvOvz11+SjtuO31bnquNlWXPvuUYqN44YWpKjMsWyVj7HD0l2K76WPR+ZJZnWOs9YtR+T9KG1dlo/8hbfaybrNeWr2t/hZ7W7Ufm31tr9Xwlpvj6240ExAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9bxSIVByuIqGSoThZERTpqFYpQIdQKrTqYXPoFTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxcnRSdJES/5cUWsR4cNyPd/ced+8Af73MVLNjAlA1y0gl4kImuyp0vSKIYfRjBDGJmfqcKCbhOb7u4ePrXZRneZ/7c/QoOZMBPoF4lumGRbxBPLNp6Zz3icOsKCnE58TjBl2Q+JHrsstvnAsO+3lm2Ein5onDxEKhjeU2ZkVDJZ4mjiiqRvn+jMsK5y3OarnKmvfkLwzltJVlrtMcQgKLWIIIATKqKKEMC1FaNVJMpGg/7uEfdPwiuWRylcDIsYAKVEiOH/wPfndr5qcm3aRQHOh8se2PUaBrF2jUbPv72LYbJ0DgGbjSWv5KHYh9kl5raZEjoHcbuLhuafIecLkDDDzpkiE5UoCmP58H3s/om7JA3y3Qveb21tzH6QOQpq6SN8DBITBWoOx1j3cH23v790yzvx/R7XLN420FDQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+QIHRUjG/0j6KEAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAkUlEQVQ4y7WSQRLCIBAEe6n8wAeZe/IYH4d3fJBvaC8YUVOF0ThVHFhmGXaYAFAnILMNM3BNtflbHEK1KVyA0mkageOy84Gijj1JdaxcVVNzViKivJCz+uRN5Sy8oSPY9SfxI9LKjPk+34pPefcXvHkQEXOrXGvxNw96v3Dmg2D8FKRdojzVtRUndWgv2YoB4AYjjupcJsGbEwAAAABJRU5ErkJggg==",alt:r?"Collapse":"Expand",onClick:function(){return a((function(e){return!e}))}})}),(0,Ne.jsx)("td",{children:e.trackName}),i]}),s]})}function UM(e,n){return GM.apply(this,arguments)}function GM(){return(GM=O(k().mark((function e(n,t){var r,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ft.getSequenceTable(n),a=r.soundbanks.banks.length,e.next=4,fy("Enter new soundbank index (0 through ".concat(a-1,"):")).then((function(e){if(!e)return!1;var n=parseInt(e);return isNaN(n)||n<0||n>=a?(dy("Invalid soundbank index."),!1):(r.midis[t].soundbankIndex=n,!0)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zM(e){var n=e.root;if(!n)return(0,Ne.jsx)("div",{children:"No decision tree provided."});var t=n.map((function(e,n){return(0,Ne.jsx)(HM,{node:e},n)}));return(0,Ne.jsx)("div",{className:"aiEditor",children:t})}function HM(e){var n,t=e.node,r=!1;return Array.isArray(t.decision)?n=t.decision.map((function(e,n){return(0,Ne.jsx)(HM,{node:e},n)})):r=!0,(0,Ne.jsxs)("div",{className:"aiTreeNode",children:[WM(t),n,r&&(0,Ne.jsx)(XM,{node:t})]})}function WM(e){switch(e.type){case Ov.leaf:return null;case Ov.hasCoins:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:["Has ",e.data," coins"]});case Ov.star:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:["Stars: ",W(e.data)]});case Ov.remainingSpaces:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:["Player has ",e.data," remaining spaces"]});case Ov.stateComparison:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:["State ",W(e.data)]});case Ov.winningHeuristic:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:["Heuristic ",W(e.data)]});case Ov.customCode:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:["Custom function at ",W(e.data)]});case Ov.turnsElapsed:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:[e.data," turns elapsed"]});case Ov.hasItem:return(0,Ne.jsxs)("div",{className:"aiNodeCondition",children:["Has the ",W(e.data)," item"]})}return(0,Ne.jsx)("div",{className:"aiNodeCondition",children:"Unknown Condition!"})}function XM(e){var n,t=e.node.decision;return n=2===t.probability.length?(0,Ne.jsx)(KM,{probability:t.probability[1],difficultyLong:"Normal / Hard",difficultyShort:"N/H"}):(0,Ne.jsx)(KM,{probability:t.probability[1],difficultyLong:"Normal",difficultyShort:"N"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("span",{className:"aiNodeDecision",children:t.value})," @ ",(0,Ne.jsx)(KM,{probability:t.probability[0],difficultyLong:"Easy",difficultyShort:"E"})," ",n,t.probability.length>2&&(0,Ne.jsxs)(Ne.Fragment,{children:[" ",(0,Ne.jsx)(KM,{probability:t.probability[2],difficultyLong:"Hard",difficultyShort:"H"})," ",(0,Ne.jsx)(KM,{probability:t.probability[3],difficultyLong:"Super Hard",difficultyShort:"SH"})]})]})}function KM(e){return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)("span",{className:"aiNodeDifficulty",title:"Probability on ".concat(e.difficultyLong," difficulty"),children:[e.difficultyShort,":"]})," ",(0,Ne.jsx)("span",{className:"aiNodeDifficulty",children:e.probability})]})}var qM=function(e){var n,t,r,a=(0,Le.useState)(""),i=(0,xe.Z)(a,2),o=i[0],s=i[1];e.message||e.messageHTML?(t=e.message?(0,Ne.jsx)("span",{className:"loadingMsgTxt selectable",children:e.message}):(0,Ne.jsx)("span",{className:"loadingMsgTxt selectable",dangerouslySetInnerHTML:{__html:e.messageHTML}}),e.prompt&&(r=(0,Ne.jsx)("input",{className:"blockerPromptInput",autoFocus:!0,value:o,onChange:function(e){return s(e.target.value)},onKeyDown:Be((function(n){return e.onAccept(o)}),{enter:!0})})),n=(0,Ne.jsxs)("div",{className:"loadingMsg",children:[t,(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),e.prompt&&(0,Ne.jsxs)(Ne.Fragment,{children:[r,(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{})]}),(0,Ne.jsx)("button",{autoFocus:!e.prompt,onClick:function(){return e.onAccept(o)},children:e.confirm?"Yes":"OK"}),(e.prompt||e.confirm)&&(0,Ne.jsx)("button",{onClick:function(){return e.onCancel()},children:e.confirm?"No":"Cancel"})]})):n=(0,Ne.jsx)("img",{className:"loadingGif swing",src:"data:image/png;base64,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",alt:"Loading"});return(0,Ne.jsxs)("div",{className:"loading",children:[(0,Ne.jsx)("div",{className:"loadingEscapeBackDoor",onClick:e.onForceClose}),(0,Ne.jsx)("img",{className:"loadingLogo",src:tF,alt:"Loading"}),(0,Ne.jsx)("br",{}),n]})};function YM(){var e=(0,Le.useState)([]),n=(0,xe.Z)(e,2),t=n[0],r=n[1],a=(0,Le.useState)(null),i=(0,xe.Z)(a,2),o=i[0],s=i[1];(0,Le.useEffect)((function(){var e=function(){for(var e=[],n=rn.getDirectoryCount(),t=0;t<n;t++)for(var r=rn.getFileCount(t),a=0;a<r;a++)try{eB(t,a)&&e.push([t,a])}catch(i){}return e}();r(e),s(e[0])}),[]);var l=(0,Le.useCallback)((function(e){return s(e)}),[]);return t.length?(0,Ne.jsxs)("div",{className:"spriteViewerContainer",children:[(0,Ne.jsx)(QM,{spriteFsEntries:t,selectedSprite:o,onSelectedSpriteChanged:l}),(0,Ne.jsx)(ZM,{selectedSprite:o})]}):null}function QM(e){return(0,Ne.jsx)("div",{className:"spriteViewerToolbar",children:(0,Ne.jsx)(JM,{spriteFsEntries:e.spriteFsEntries,selectedSprite:e.selectedSprite,onSelectedSpriteChanged:e.onSelectedSpriteChanged})})}function JM(e){var n=e.spriteFsEntries.map((function(e){var n=e.join("/");return(0,Ne.jsx)("option",{value:n,children:n},n)}));return(0,Ne.jsxs)("div",{className:"spriteSelectContainer",children:["Sprite:",(0,Ne.jsx)("select",{value:e.selectedSprite.join("/"),onChange:function(n){var t=n.target.value.split("/").map((function(e){return parseInt(e)})),r=(0,xe.Z)(t,2),a=r[0],i=r[1],o=e.spriteFsEntries.find((function(e){return e[0]===a&&e[1]===i}));o&&e.onSelectedSpriteChanged(o)},children:n})]})}function ZM(e){var n=(0,xe.Z)(e.selectedSprite,2),t=n[0],r=n[1],a=(0,Le.useMemo)((function(){return eB(t,r)}),[t,r]).map((function(e,n){var a=ne(e.src,e.width,e.height);return(0,Ne.jsx)($M,{name:"Sprite ".concat(t,"/").concat(r),dataUri:a,height:e.height,width:e.width},"".concat(t,"-").concat(r,"-").concat(n))}));return(0,Ne.jsx)("div",{className:"spriteDisplayContainer",children:a})}function $M(e){return(0,Ne.jsx)("div",{className:"spriteImageDiv",children:(0,Ne.jsx)("img",{src:e.dataUri,height:e.height,width:e.width,alt:e.name},e.name)})}function eB(e,n){var t=wn(rn.get(e,n));return t&&t.length?t:null}var nB=function(e){s(t,e);var n=A(t);function t(e){var a;return r(this,t),(a=n.call(this,e)).state={hasError:!1},a}return i(t,[{key:"render",value:function(){return this.state.hasError?(0,Ne.jsx)("p",{children:"An error was encountered."}):this.props.children}},{key:"componentDidCatch",value:function(e){this.setState({hasError:!0}),console.error(e)}}]),t}(Le.Component),tB="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function rB(e,n,t,r){e.addEventListener?e.addEventListener(n,t,r):e.attachEvent&&e.attachEvent("on".concat(n),(function(){t(window.event)}))}function aB(e,n){for(var t=n.slice(0,n.length-1),r=0;r<t.length;r++)t[r]=e[t[r].toLowerCase()];return t}function iB(e){"string"!==typeof e&&(e="");for(var n=(e=e.replace(/\s/g,"")).split(","),t=n.lastIndexOf("");t>=0;)n[t-1]+=",",n.splice(t,1),t=n.lastIndexOf("");return n}for(var oB={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":tB?173:189,"=":tB?61:187,";":tB?59:186,"'":222,"[":219,"]":221,"\\":220},sB={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},lB={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},uB={16:!1,18:!1,17:!1,91:!1},cB={},dB=1;dB<20;dB++)oB["f".concat(dB)]=111+dB;var AB=[],fB=!1,hB="all",pB=[],mB=function(e){return oB[e.toLowerCase()]||sB[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function SB(e){hB=e||"all"}function gB(){return hB||"all"}var vB=function(e){var n=e.key,t=e.scope,r=e.method,a=e.splitKey,i=void 0===a?"+":a;iB(n).forEach((function(e){var n=e.split(i),a=n.length,o=n[a-1],s="*"===o?"*":mB(o);if(cB[s]){t||(t=gB());var l=a>1?aB(sB,n):[];cB[s]=cB[s].filter((function(e){return!((!r||e.method===r)&&e.scope===t&&function(e,n){for(var t=e.length>=n.length?e:n,r=e.length>=n.length?n:e,a=!0,i=0;i<t.length;i++)-1===r.indexOf(t[i])&&(a=!1);return a}(e.mods,l))}))}}))};function xB(e,n,t,r){var a;if(n.element===r&&(n.scope===t||"all"===n.scope)){for(var i in a=n.mods.length>0,uB)Object.prototype.hasOwnProperty.call(uB,i)&&(!uB[i]&&n.mods.indexOf(+i)>-1||uB[i]&&-1===n.mods.indexOf(+i))&&(a=!1);(0!==n.mods.length||uB[16]||uB[18]||uB[17]||uB[91])&&!a&&"*"!==n.shortcut||!1===n.method(e,n)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function _B(e,n){var t=cB["*"],r=e.keyCode||e.which||e.charCode;if(yB.filter.call(this,e)){if(93!==r&&224!==r||(r=91),-1===AB.indexOf(r)&&229!==r&&AB.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(n){var t=lB[n];e[n]&&-1===AB.indexOf(t)?AB.push(t):!e[n]&&AB.indexOf(t)>-1?AB.splice(AB.indexOf(t),1):"metaKey"===n&&e[n]&&3===AB.length&&(e.ctrlKey||e.shiftKey||e.altKey||(AB=AB.slice(AB.indexOf(t))))})),r in uB){for(var a in uB[r]=!0,sB)sB[a]===r&&(yB[a]=!0);if(!t)return}for(var i in uB)Object.prototype.hasOwnProperty.call(uB,i)&&(uB[i]=e[lB[i]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===AB.indexOf(17)&&AB.push(17),-1===AB.indexOf(18)&&AB.push(18),uB[17]=!0,uB[18]=!0);var o=gB();if(t)for(var s=0;s<t.length;s++)t[s].scope===o&&("keydown"===e.type&&t[s].keydown||"keyup"===e.type&&t[s].keyup)&&xB(e,t[s],o,n);if(r in cB)for(var l=0;l<cB[r].length;l++)if(("keydown"===e.type&&cB[r][l].keydown||"keyup"===e.type&&cB[r][l].keyup)&&cB[r][l].key){for(var u=cB[r][l],c=u.splitKey,d=u.key.split(c),A=[],f=0;f<d.length;f++)A.push(mB(d[f]));A.sort().join("")===AB.sort().join("")&&xB(e,u,o,n)}}}function yB(e,n,t){AB=[];var r=iB(e),a=[],i="all",o=document,s=0,l=!1,u=!0,c="+",d=!1;for(void 0===t&&"function"===typeof n&&(t=n),"[object Object]"===Object.prototype.toString.call(n)&&(n.scope&&(i=n.scope),n.element&&(o=n.element),n.keyup&&(l=n.keyup),void 0!==n.keydown&&(u=n.keydown),void 0!==n.capture&&(d=n.capture),"string"===typeof n.splitKey&&(c=n.splitKey)),"string"===typeof n&&(i=n);s<r.length;s++)a=[],(e=r[s].split(c)).length>1&&(a=aB(sB,e)),(e="*"===(e=e[e.length-1])?"*":mB(e))in cB||(cB[e]=[]),cB[e].push({keyup:l,keydown:u,scope:i,mods:a,shortcut:r[s],method:t,key:r[s],splitKey:c,element:o});"undefined"!==typeof o&&!function(e){return pB.indexOf(e)>-1}(o)&&window&&(pB.push(o),rB(o,"keydown",(function(e){_B(e,o)}),d),fB||(fB=!0,rB(window,"focus",(function(){AB=[]}),d)),rB(o,"keyup",(function(e){_B(e,o),function(e){var n=e.keyCode||e.which||e.charCode,t=AB.indexOf(n);if(t>=0&&AB.splice(t,1),e.key&&"meta"===e.key.toLowerCase()&&AB.splice(0,AB.length),93!==n&&224!==n||(n=91),n in uB)for(var r in uB[n]=!1,sB)sB[r]===n&&(yB[r]=!1)}(e)}),d))}var wB={setScope:SB,getScope:gB,deleteScope:function(e,n){var t,r;for(var a in e||(e=gB()),cB)if(Object.prototype.hasOwnProperty.call(cB,a))for(t=cB[a],r=0;r<t.length;)t[r].scope===e?t.splice(r,1):r++;gB()===e&&SB(n||"all")},getPressedKeyCodes:function(){return AB.slice(0)},isPressed:function(e){return"string"===typeof e&&(e=mB(e)),-1!==AB.indexOf(e)},filter:function(e){var n=e.target||e.srcElement,t=n.tagName,r=!0;return!n.isContentEditable&&("INPUT"!==t&&"TEXTAREA"!==t&&"SELECT"!==t||n.readOnly)||(r=!1),r},trigger:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(cB).forEach((function(t){var r=cB[t].find((function(t){return t.scope===n&&t.shortcut===e}));r&&r.method&&r.method()}))},unbind:function(e){if("undefined"===typeof e)Object.keys(cB).forEach((function(e){return delete cB[e]}));else if(Array.isArray(e))e.forEach((function(e){e.key&&vB(e)}));else if("object"===typeof e)e.key&&vB(e);else if("string"===typeof e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var a=t[0],i=t[1];"function"===typeof a&&(i=a,a=""),vB({key:e,scope:a,method:i,splitKey:"+"})}},keyMap:oB,modifier:sB,modifierMap:lB};for(var bB in wB)Object.prototype.hasOwnProperty.call(wB,bB)&&(yB[bB]=wB[bB]);if("undefined"!==typeof window){var VB=window.hotkeys;yB.noConflict=function(e){return e&&window.hotkeys===yB&&(window.hotkeys=VB),yB},window.hotkeys=yB}yB.filter=function(){return!0};var CB=function(e,n){var t=e.target,r=t&&t.tagName;return Boolean(r&&n&&n.includes(r))};function EB(e,n,t,r){t instanceof Array&&(r=t,t=void 0);var a=t||{},i=a.enableOnTags,o=a.filter,s=a.keyup,l=a.keydown,u=a.filterPreventDefault,c=void 0===u||u,d=a.enabled,A=void 0===d||d,f=a.enableOnContentEditable,h=void 0!==f&&f,p=(0,Le.useRef)(null),m=(0,Le.useCallback)((function(e,t){var r,a;return o&&!o(e)?!c:!!(CB(e,["INPUT","TEXTAREA","SELECT"])&&!CB(e,i)||null!=(r=e.target)&&r.isContentEditable&&!h)||!!(null===p.current||document.activeElement===p.current||null!=(a=p.current)&&a.contains(document.activeElement))&&(n(e,t),!0)}),r?[p,i,o].concat(r):[p,i,o]);return(0,Le.useEffect)((function(){if(A)return s&&!0!==l&&(t.keydown=!1),yB(e,t||{},m),function(){return yB.unbind(e,m)};yB.unbind(e,m)}),[m,e,A]),p}yB.isPressed;var DB=function(e){s(a,e);var n=A(a);function a(){var e;r(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={aiTree:null,error:null,errorInfo:null,initialized:!1},e._onUpdateCheckHasUpdate=function(){Sx.dispatch(Yv(!0))},e}return i(a,[{key:"render",value:function(){var e=this;return this.state.error?(0,Ne.jsx)(MB,{error:this.state.error,errorInfo:this.state.errorInfo,onClearError:function(){e.setState({error:null,errorInfo:null}),cy(!1)}}):this.state.initialized?(0,Ne.jsx)(FB,t({},this.state)):null}},{key:"componentDidCatch",value:function(e,n){LB(this,e,n)}},{key:"componentDidMount",value:function(){if(nF)try{var e=window.require("electron").ipcRenderer;e.on("update-check-hasupdate",this._onUpdateCheckHasUpdate),e.send("update-check-start")}catch(n){console.error("Auto update failed in componentDidMount: ",n)}this.state.initialized||(!function(){var e,t=function(){var e=window.localStorage&&localStorage.getItem("boards");return e&&(e=JSON.parse(e)),e&&e.length?e:null}();e=t&&t.length?t.map((function(e){return aw(e)})):[Uy(1)];Sx.dispatch(eg({boards:e}));var r=function(){var e=window.localStorage&&localStorage.getItem("events");return e&&(e=JSON.parse(e)),e&&e.length?e:null}();r&&r.length&&r.forEach((function(e){if(e&&e.asm)try{var t=e,r=KS(t.language||x.MIPS,t.asm);Sx.dispatch(Ig({event:r}))}catch(n){console.error("Error reading cached event",n)}}));my()}(),this.setState({initialized:!0}))}},{key:"componentWillUnmount",value:function(){if(nF)try{window.require("electron").ipcRenderer.removeListener("update-check-hasupdate",this._onUpdateCheckHasUpdate)}catch(e){console.error("Auto update failed in componentWillUnmount: ",e)}}}]),a}(Le.Component);function FB(e){var n,t,r=Lv(Jv),a=Lv(ux),i=Lv(Jg),o=Lv(Zg),s=Lv(Zv),l=Lv($v);switch(kv(o.name),function(){var e=Iv();(0,Le.useEffect)((function(){var n,t=document.documentElement,r=t.className.split(" ").filter((function(e){return e.startsWith("theme-")}));(n=t.classList).remove.apply(n,Gt(r)),t.classList.add("theme-"+e)}),[e])}(),function(){var e=Lv(Jv),n=!Lv(ux)&&e===f.EDITOR;EB("ctrl+z",(function(e,n){Sx.dispatch(Nv.zF.undo())}),{enabled:n,enableOnTags:["INPUT","SELECT"]}),EB("ctrl+y",(function(e,n){Sx.dispatch(Nv.zF.redo())}),{enabled:n,enableOnTags:["INPUT","SELECT"]})}(),r){case f.EDITOR:n=(0,Ne.jsx)(_E,{});break;case f.DETAILS:n=(0,Ne.jsx)(WD,{board:o});break;case f.SETTINGS:n=(0,Ne.jsx)(qe,{});break;case f.ABOUT:n=(0,Ne.jsx)(oF,{});break;case f.MODELS:n=(0,Ne.jsx)(sT,{});break;case f.SPRITES:n=(0,Ne.jsx)(YM,{});break;case f.EVENTS:n=(0,Ne.jsx)(nB,{children:(0,Ne.jsx)(bT,{})});break;case f.CREATEEVENT_ASM:n=(0,Ne.jsx)(KT,{});break;case f.CREATEEVENT_C:n=(0,Ne.jsx)(JT,{});break;case f.STRINGS:n=(0,Ne.jsx)(eP,{});break;case f.PATCHES:n=(0,Ne.jsx)(xy,{});break;case f.DEBUG:n=(0,Ne.jsx)(aM,{});break;case f.AUDIO:n=(0,Ne.jsx)(OM,{});break;case f.ADDITIONAL_BGS:n=(0,Ne.jsx)(MP,{board:o,title:"Additional Background Configuration",getExistingCode:function(){return nw(o)},getDefaultCode:function(e){return function(e){switch(e){case x.C:return"// Customize the background used each turn!\n// This function runs at the start of each turn.\n// The default background is available as DEFAULT_BG.\n// Additional backgrounds are available as ADDITIONAL_BG_#,\n// e.g. ADDITIONAL_BG_1 for the first added background.\n\nint PickBackground() {\n    return DEFAULT_BG;\n}";case x.MIPS:return xa}throw new Error("Unrecognized event code language ".concat(e))}(e)},onSetCode:function(e,n){return function(e,n){Sx.dispatch(mg({code:e,language:n}))}(e,n)},canSaveAndExit:function(e,n){return function(e,n,t){return ya.apply(this,arguments)}(e,n,o)}});break;case f.AUDIO_SELECTION_CODE:n=(0,Ne.jsx)(MP,{board:o,title:"Background Music Selection Code",getExistingCode:function(){return tw(o)},getDefaultCode:function(e){return function(e){switch(e){case x.C:return"// Customize the background music used each turn!\n// This function runs whenever the board music starts playing.\n// Custom tracks you've added are available as MUSIC_TRACK_INDEX_#,\n// e.g. MUSIC_TRACK_INDEX_1 for the first added custom song.\n// (If you aren't using custom music, then only MUSIC_TRACK_INDEX_1\n// exists and it is set to the in-game music index you chose.)\n\nint PickAudioIndex() {\n    return MUSIC_TRACK_INDEX_1;\n}";case x.MIPS:return Ba}throw new Error("Unrecognized event code language ".concat(e))}(e)},onSetCode:function(e,n){return function(e,n){Sx.dispatch(Sg({code:e,language:n}))}(e,n)},canSaveAndExit:function(e,n){return function(e,n,t){return ka.apply(this,arguments)}(e,n,o)}})}switch(r){case f.EDITOR:case f.DETAILS:case f.EVENTS:t=(0,Ne.jsx)("div",{className:"sidebar",children:(0,Ne.jsx)(rP,{boards:i})})}var u="body";return s===g.ERASE&&(u+=" eraser"),(0,Ne.jsxs)("div",{className:u,children:[(0,Ne.jsx)(TB,{}),(0,Ne.jsx)(_R,{view:r,romLoaded:l,board:o}),(0,Ne.jsxs)("div",{className:"content",onKeyDownCapture:a?ke:void 0,children:[t,(0,Ne.jsxs)("div",{className:"main",children:[n,(0,Ne.jsxs)("div",{className:"mainOverlay",children:[(0,Ne.jsx)(PR,{name:"Toolbox",position:"TopRight",visible:r===f.EDITOR,children:(0,Ne.jsx)(eL,{currentAction:s,gameVersion:o.game,boardType:o.type})}),(0,Ne.jsx)(PR,{name:"Space Properties",position:"BottomRight",visible:r===f.EDITOR,children:(0,Ne.jsx)(gL,{gameVersion:o.game,boardType:o.type})}),(0,Ne.jsx)(PR,{name:"Board Properties",position:"BottomLeft",visible:r===f.EDITOR,children:(0,Ne.jsx)(LL,{currentBoard:o})}),e.aiTree&&(0,Ne.jsx)(PR,{name:"AI Decision Tree",position:"TopLeft",visible:r===f.EDITOR,canClose:!0,onCloseClick:function(){return py(null)},children:(0,Ne.jsx)(zM,{root:e.aiTree})})]}),(0,Ne.jsx)("div",{id:"dragZone"})]})]}),(0,Ne.jsx)(PB,{})]})}function TB(){var e=Rv(),n=(0,Le.useCallback)((function(){e(Hv(!0))}),[e]),t=(0,Le.useCallback)((function(){(e(Hv(!0)),cy(!0),nF)&&window.require("electron").ipcRenderer.send("update-check-doupdate")}),[e]),r=Lv((function(e){return e.app.updateHideNotification})),a=Lv(ex),i=Lv(nx).slice();return a&&!r&&i.push((0,Ne.jsxs)(lP,{color:$T.Blue,onClose:n,children:["An update is available.",(0,Ne.jsx)(cP,{onClick:t,children:"Install"})]},"update")),(0,Ne.jsx)(uP,{children:i})}function PB(){var e=Lv(ux),n=Lv(cx),t=Lv(dx),r=Lv(Ax),a=Lv(fx),i=Lv(hx);return e?(0,Ne.jsx)(qM,{message:n,messageHTML:t,prompt:r,confirm:a,onAccept:function(e){dy(),i&&i(e)},onCancel:function(){dy(),i&&i()},onForceClose:function(){return cy(!1)}}):null}window.onerror=function(e,n,t,r,a){var i=window._PP64instance;a&&(i?LB(i,a,null):alert(a))};var RB=document.getElementById("body");function LB(e,n,t){e.setState({error:n,errorInfo:t}),console.error(n,t)}function MB(e){var n=e.errorInfo&&e.errorInfo.componentStack;return(0,Ne.jsxs)("div",{className:"errorDiv selectable",children:[(0,Ne.jsxs)("h2",{children:["Hey, it seeems like something's wrong in\xa0",(0,Ne.jsx)("span",{className:"errorStrikeoutText",children:"Mushroom Village"}),"\xa0 PartyPlanner64."]}),(0,Ne.jsxs)("p",{children:["Please \xa0",(0,Ne.jsx)("a",{href:"https://github.com/PartyPlanner64/PartyPlanner64/issues",target:"_blank",rel:"noopener noreferrer",children:"file an issue"}),"\xa0 with the following details, and refresh the page. Or \xa0",(0,Ne.jsx)("a",{href:"#",onClick:e.onClearError,children:"click here"}),"\xa0 to dismiss this error, but you may be in a bad state."]}),(0,Ne.jsx)("pre",{children:e.error.toString()}),e.error.stack?(0,Ne.jsxs)(Le.Fragment,{children:[(0,Ne.jsx)("div",{children:"Stack Error Details:"}),(0,Ne.jsx)("pre",{children:e.error.stack})]}):null,(0,Ne.jsx)("div",{children:"Component Stack Error Details:"}),(0,Ne.jsx)("pre",{children:n||"N/A"})]})}(0,Pw.s)(RB).render((0,Ne.jsx)(Ev,{store:Sx,children:(0,Ne.jsx)(DB,{ref:function(e){return window._PP64instance=e}})}))}()})();